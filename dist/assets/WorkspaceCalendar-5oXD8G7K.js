import{at as b,au as N,z as M,x as y,r as D,av as C,aw as S,ax as T,ay as z,j as e,V as F,ao as O,aj as x,ah as L,aa as W,D as $,az as E}from"./index-DgPxFht0.js";import{s as H}from"./subMonths-Dgp9AFD8.js";function I(r,n){const[t,a]=b(r,n.start,n.end);return{start:t,end:a}}function R(r,n){const{start:t,end:a}=I(n?.in,r);let o=+t>+a;const u=o?+t:+a,l=o?a:t;l.setHours(0,0,0,0);let i=1;const c=[];for(;+l<=u;)c.push(N(t,l)),l.setDate(l.getDate()+i),l.setHours(0,0,0,0);return o?c.reverse():c}function Y(r,n,t){const[a,o]=b(t?.in,r,n);return a.getFullYear()===o.getFullYear()&&a.getMonth()===o.getMonth()}const P=()=>{const r=M(),{tasks:n}=y(),[t,a]=D.useState(new Date),o=s=>{r("/workspace",{state:{initialDate:s}})},u=()=>a(E(t,1)),l=()=>a(H(t)),i=C(t),c=S(i),f=T(i),p=z(c),k="d",v=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],j=R({start:f,end:p}),w=s=>{const m=x(s,"yyyy-MM-dd"),h=n.filter(d=>d.date===m);return h.length===0?null:h.every(d=>d.status==="completed"||d.isCompleted)?"bg-emerald-500":"bg-indigo-500"};return e.jsx(F,{header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>r(-1),className:"p-2 bg-transparent hover:bg-slate-100 dark:bg-transparent dark:hover:bg-slate-800 rounded-full transition-colors text-slate-700 dark:text-slate-300 -ml-2 focus:outline-none",children:e.jsx(L,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white capitalize leading-tight",children:x(t,"MMMM yyyy")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:e.jsx(W,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})}),e.jsx("button",{onClick:u,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:e.jsx($,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]})]}),children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[e.jsx("div",{className:"grid grid-cols-7 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50",children:v.map(s=>e.jsx("div",{className:"py-3 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider",children:s},s))}),e.jsx("div",{className:"grid grid-cols-7",children:j.map((s,m)=>{const h=Y(s,i),g=O(s,new Date),d=w(s);return e.jsxs("div",{className:`
 min-h-[80px] border-b border-r border-slate-100 dark:border-slate-800 p-2 relative cursor-pointer transition-colors
 ${h?"bg-white dark:bg-slate-900 hover:bg-slate-50 dark:hover:bg-slate-800":"bg-slate-50/50 dark:bg-slate-900/50 text-slate-400"}
 ${m%7===6?"border-r-0":""}
 `,onClick:()=>o(s),children:[e.jsx("span",{className:`
 text-sm font-medium w-7 h-7 flex items-center justify-center rounded-full
 ${g?"bg-indigo-600 text-white shadow-md":"text-slate-700 dark:text-slate-300"}
 `,children:x(s,k)}),d&&e.jsx("div",{className:"absolute bottom-2 right-2 flex justify-end",children:e.jsx("div",{className:`w-2 h-2 rounded-full ${d}`})})]},s.toString())})})]})})})};export{P as default};
