import{c as L,r as a,s as H,a as h,b as A,t as X,d as Z,u as J,e as K,f as Q,g as T,h as Y,j as e,F as ee,N as te,m as b,i as se,A as ae,L as re,k as ne,G as oe,l as le}from"./index-Dni63RkL.js";import{A as v}from"./AppInput-CvkiCkqY.js";import{c as ie}from"./utils-DayBekdl.js";import{E as ce}from"./ErrorDisplay-DJfDinAr.js";import"./refresh-cw-DddJYKiQ.js";import"./circle-alert-DjndCTas.js";const de=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ue=L("eye-off",de);const me=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xe=L("eye",me),ge=()=>{const[s,c]=a.useState(!1),[o,n]=a.useState(null),[d,i]=a.useState(!1),m=async(u,r)=>{n(null),i(!0);try{const l=await H(h,u,r);if(!l.user.emailVerified)throw await A(h),new Error("Please verify your email address to log in.");return s||(i(!1),n(null)),X("email"),l.user}catch(l){s||(console.error(l),n(l.message),i(!1))}};return a.useEffect(()=>()=>c(!0),[]),{login:m,error:o,isPending:d}},he=()=>{const[s,c]=a.useState(null),[o,n]=a.useState(!1);return{signup:async(i,m,u)=>{c(null),n(!0);try{const r=await Z(h,i,m);if(!r)throw new Error("Could not complete signup");const l=`https://ui-avatars.com/api/?name=${encodeURIComponent(u)}&background=random&color=fff&bold=true`;return await J(r.user,{displayName:u,photoURL:l}),await K(r.user),await A(h),n(!1),Q("email"),{verificationRequired:!0}}catch(r){throw console.error("Signup Failed:",r),c(r.message),n(!1),r}},error:s,isPending:o}},ye=()=>{T();const[s,c]=a.useState(!1),[o,n]=a.useState(""),[d,i]=a.useState(""),[m,u]=a.useState(""),[r,l]=a.useState(!1),[w,x]=a.useState(null),[j,y]=a.useState(!1),[p,N]=a.useState(null),{login:I,error:M,isPending:R}=ge(),{signup:F,error:G,isPending:_}=he(),{user:z,authIsReady:B}=Y(),[k,f]=a.useState(null),V=["tempmail.com","10minutemail.com","mailinator.com","yopmail.com","guerrillamail.com","sharklasers.com","throwawaymail.com","getnada.com","dispostable.com","fake-email.com"],S=t=>{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return!1;const C=t.split("@")[1];return C?!V.includes(C.toLowerCase()):!1},D=t=>new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9!@#$%^&*])(?=.{8,})").test(t),U=async t=>{if(t.preventDefault(),x(null),f(null),s){if(!S(o)){x("Please use a valid, permanent email address.");return}if(!D(d)){x("Password must be at least 8 characters with 1 uppercase letter and 1 number/symbol.");return}const g=await F(o,d,m);g&&g.verificationRequired&&(f("Account created! Verify email to log in."),c(!1),n(""),i(""))}else await I(o,d)},W=async()=>{x(null),y(!0);const t=new oe;try{await le(h,t)}catch(g){console.error("Google Sign-in Error",g),x("Failed to sign in with Google."),y(!1)}},q=()=>{c(!s),n(""),i(""),u(""),x(null),f(null),l(!1)};if(!B)return e.jsx(ee,{});if(z)return e.jsx(te,{to:"/",replace:!0});const O=s?_:R,E=s?G:M,P=({className:t})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),$=({className:t})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),e.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]});return e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 font-sans flex flex-col relative overflow-hidden",children:[e.jsxs("div",{className:"h-[35vh] w-full bg-gradient-to-br from-indigo-600 via-blue-600 to-indigo-700 relative flex flex-col items-center justify-center text-center p-6 shrink-0",children:[e.jsx(b.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"relative z-10 flex flex-col items-center",children:e.jsx("img",{src:se,alt:"Awake",className:"w-32 h-32 object-contain brightness-0 invert drop-shadow-md"})}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-10 mix-blend-overlay"})]}),e.jsx(b.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:100,damping:20},className:"flex-1 bg-white dark:bg-slate-900 rounded-t-[32px] -mt-8 relative z-10 px-8 pt-8 pb-6 shadow-[0_-10px_40px_-15px_rgba(0,0,0,0.1)] flex flex-col",children:e.jsxs("div",{className:"flex-1 flex flex-col max-w-sm mx-auto w-full",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("h1",{className:"text-2xl font-normal text-slate-900 dark:text-white mb-2",children:s?"Create Account":"Welcome Back"})}),e.jsxs("form",{onSubmit:U,className:"space-y-5 flex-1 flex flex-col",children:[e.jsx(ae,{mode:"popLayout",children:s&&e.jsx(b.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsxs("div",{className:"pb-2",children:[e.jsx("label",{className:"block text-sm font-normal text-slate-500 mb-2 ml-3",children:"Full Name"}),e.jsx(v,{type:"text",placeholder:"Example Name",value:m,onChange:t=>u(t.target.value),required:!0,className:"h-14 rounded bg-slate-50 border-transparent focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-normal text-slate-800 placeholder:text-slate-400 text-base px-4"})]})})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-normal text-slate-500 mb-2 ml-3",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{type:"email",placeholder:"example@mail.com",value:o,onChange:t=>{n(t.target.value),t.target.value.includes("@")?N(S(t.target.value)):N(null)},required:!0,className:ie("h-14 rounded bg-slate-50 border-transparent focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-normal text-slate-800 placeholder:text-slate-400 text-base px-4 pr-8",p===!0&&"bg-green-50/30",p===!1&&o.length>0&&"bg-red-50/30")}),e.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:[p===!0&&e.jsx(P,{className:"w-5 h-5 text-green-500"}),p===!1&&o.length>0&&e.jsx($,{className:"w-5 h-5 text-red-500"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 ml-3",children:[e.jsx("label",{className:"block text-sm font-normal text-slate-500",children:"Password"}),!s&&e.jsx(re,{to:"/forgot-password",className:"text-sm font-normal text-indigo-600 hover:text-indigo-800 transition-colors",children:"Forgot?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{type:r?"text":"password",placeholder:"••••••••",value:d,onChange:t=>i(t.target.value),required:!0,className:"h-14 rounded bg-slate-50 border-transparent focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all font-normal text-slate-800 placeholder:text-slate-400 text-base px-4 pr-12"}),e.jsx("button",{type:"button",onClick:()=>l(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:r?e.jsx(ue,{className:"w-5 h-5"}):e.jsx(xe,{className:"w-5 h-5"})})]})]}),(E||w)&&e.jsx("div",{className:"mt-2",children:e.jsx(ce,{type:"auth",message:w||E?.replace("Firebase: ","")})}),k&&e.jsxs("div",{className:"text-sm font-medium text-green-600 bg-green-50 p-3 rounded border border-green-100 flex items-center gap-2 mt-2",children:[e.jsx(P,{className:"w-5 h-5"})," ",k]}),e.jsx("div",{className:"pt-4",children:e.jsx(ne,{type:"submit",className:"w-full h-14 text-base font-normal bg-indigo-600 hover:bg-indigo-700 text-white shadow-md shadow-indigo-200 dark:shadow-none rounded-full transition-transform active:scale-[0.98]",isLoading:O,children:s?"Sign Up":"Log In"})}),e.jsxs("div",{className:"pt-4 pb-2",children:[e.jsxs("div",{className:"relative w-full text-center mb-4",children:[e.jsx("div",{className:"absolute top-1/2 left-0 w-full border-t border-slate-100 dark:border-slate-800"}),e.jsx("span",{className:"text-xs font-normal text-slate-400 bg-white dark:bg-slate-900 px-2 relative",children:"Or"})]}),e.jsx("button",{type:"button",onClick:W,disabled:j,className:"w-full h-14 rounded-full border border-slate-200 hover:border-slate-300 hover:bg-slate-50 flex items-center justify-center gap-3 transition-all bg-white shadow-sm hover:shadow-md",children:j?e.jsx("div",{className:"w-5 h-5 border-2 border-slate-200 border-t-indigo-600 rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),e.jsx("span",{className:"text-slate-600 font-normal text-sm",children:"Sign in with Google"})]})})]}),e.jsx("div",{className:"text-center mt-auto pb-4",children:e.jsxs("button",{onClick:q,type:"button",className:"text-sm font-normal text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white transition-colors",children:[s?"Already have an account? ":"Don't have an account? ",e.jsx("span",{className:"font-medium text-indigo-600 hover:text-indigo-800 dark:text-indigo-400",children:s?"Log In":"Sign Up"})]})})]})]})})]})};export{ye as default};
