const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Login-Ch6Wq_MW.js","./Input-C0D2B6wI.js","./Card-CuCqGUYs.js","./ErrorDisplay-BJjqjTzu.js","./refresh-cw-BDI0U6FZ.js","./circle-alert-D-7qtILQ.js","./circle-check-big-uS2G_V8M.js","./circle-x-Dl6IaQXC.js","./arrow-right-CcURtM6c.js","./Dashboard-B5OwqZgJ.js","./UnlockDayModal-CPwfrb3n.js","./TaskItem-DJ-Xs0ou.js","./check-Dsfe3gHp.js","./bike-Q8kpYLTr.js","./trash-2-S7ST_BVM.js","./chevron-up-B1ZJvGnP.js","./subMonths-B8tCnAqU.js","./isSameMonth-Be_jPdiM.js","./index-D5SBUhXY.js","./pen-BFfNQC3n.js","./plus-ZMKVycNe.js","./circle-check-uZ5WwhQN.js","./smartphone-DhTM4fNq.js","./star-DbnislHp.js","./trending-up-BS6_PC0S.js","./award-CoMY4W5r.js","./Routine-5AqdhlM1.js","./History-r6S9II20.js","./Settings-BRgfPMfr.js","./save-C3tN0Ts-.js","./triangle-alert-BCuxwgIV.js","./user-B08GQgyP.js","./ForgotPassword-CHHXEzfi.js","./Analytics-Bl-rEzLB.js","./CartesianChart-VgsAgEfd.js","./DietPlan-B-JqHqH-.js","./TaskDashboard-C4VQMG_d.js","./subDays-PeFyOCjR.js","./WorkspaceCalendar-BVh25uNQ.js","./WorkspaceBoard-SO_jEjW-.js","./FilteredTaskView-D6e2s30n.js","./Overview-Dew-ViwE.js","./FinanceDashboard-C8Vs0D6n.js","./zap-C2vfI04r.js","./DebtManager-CW09uD49.js","./AccountDetail-6jhYYlny.js","./trending-down-DT8L1bVN.js","./MonthlyOverview-BfBJEqDe.js","./VehicleDashboard-DHoHXVIz.js"])))=>i.map(i=>d[i]);
function L2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var IF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _g={exports:{}},Gu={};var bE;function U2(){if(bE)return Gu;bE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:l}}return Gu.Fragment=e,Gu.jsx=n,Gu.jsxs=n,Gu}var EE;function j2(){return EE||(EE=1,_g.exports=U2()),_g.exports}var q=j2(),Tg={exports:{}},Fe={};var wE;function z2(){if(wE)return Fe;wE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,B={};function U(z,oe,Q){this.props=z,this.context=oe,this.refs=B,this.updater=Q||M}U.prototype.isReactComponent={},U.prototype.setState=function(z,oe){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,oe,"setState")},U.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=U.prototype;function F(z,oe,Q){this.props=z,this.context=oe,this.refs=B,this.updater=Q||M}var fe=F.prototype=new j;fe.constructor=F,P(fe,U.prototype),fe.isPureReactComponent=!0;var V=Array.isArray;function ee(){}var S={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function k(z,oe,Q){var K=Q.ref;return{$$typeof:t,type:z,key:oe,ref:K!==void 0?K:null,props:Q}}function N(z,oe){return k(z.type,oe,z.props)}function O(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function I(z){var oe={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Q){return oe[Q]})}var A=/\/+/g;function $(z,oe){return typeof z=="object"&&z!==null&&z.key!=null?I(""+z.key):oe.toString(36)}function G(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(ee,ee):(z.status="pending",z.then(function(oe){z.status==="pending"&&(z.status="fulfilled",z.value=oe)},function(oe){z.status==="pending"&&(z.status="rejected",z.reason=oe)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Y(z,oe,Q,K,X){var ge=typeof z;(ge==="undefined"||ge==="boolean")&&(z=null);var pe=!1;if(z===null)pe=!0;else switch(ge){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(z.$$typeof){case t:case e:pe=!0;break;case y:return pe=z._init,Y(pe(z._payload),oe,Q,K,X)}}if(pe)return X=X(z),pe=K===""?"."+$(z,0):K,V(X)?(Q="",pe!=null&&(Q=pe.replace(A,"$&/")+"/"),Y(X,oe,Q,"",function(Ge){return Ge})):X!=null&&(O(X)&&(X=N(X,Q+(X.key==null||z&&z.key===X.key?"":(""+X.key).replace(A,"$&/")+"/")+pe)),oe.push(X)),1;pe=0;var me=K===""?".":K+":";if(V(z))for(var Ee=0;Ee<z.length;Ee++)K=z[Ee],ge=me+$(K,Ee),pe+=Y(K,oe,Q,ge,X);else if(Ee=x(z),typeof Ee=="function")for(z=Ee.call(z),Ee=0;!(K=z.next()).done;)K=K.value,ge=me+$(K,Ee++),pe+=Y(K,oe,Q,ge,X);else if(ge==="object"){if(typeof z.then=="function")return Y(G(z),oe,Q,K,X);throw oe=String(z),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return pe}function re(z,oe,Q){if(z==null)return z;var K=[],X=0;return Y(z,K,"","",function(ge){return oe.call(Q,ge,X++)}),K}function J(z){if(z._status===-1){var oe=z._result;oe=oe(),oe.then(function(Q){(z._status===0||z._status===-1)&&(z._status=1,z._result=Q)},function(Q){(z._status===0||z._status===-1)&&(z._status=2,z._result=Q)}),z._status===-1&&(z._status=0,z._result=oe)}if(z._status===1)return z._result.default;throw z._result}var Ae=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Oe={map:re,forEach:function(z,oe,Q){re(z,function(){oe.apply(this,arguments)},Q)},count:function(z){var oe=0;return re(z,function(){oe++}),oe},toArray:function(z){return re(z,function(oe){return oe})||[]},only:function(z){if(!O(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Fe.Activity=v,Fe.Children=Oe,Fe.Component=U,Fe.Fragment=n,Fe.Profiler=a,Fe.PureComponent=F,Fe.StrictMode=r,Fe.Suspense=d,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return S.H.useMemoCache(z)}},Fe.cache=function(z){return function(){return z.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function(z,oe,Q){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var K=P({},z.props),X=z.key;if(oe!=null)for(ge in oe.key!==void 0&&(X=""+oe.key),oe)!w.call(oe,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&oe.ref===void 0||(K[ge]=oe[ge]);var ge=arguments.length-2;if(ge===1)K.children=Q;else if(1<ge){for(var pe=Array(ge),me=0;me<ge;me++)pe[me]=arguments[me+2];K.children=pe}return k(z.type,X,K)},Fe.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Fe.createElement=function(z,oe,Q){var K,X={},ge=null;if(oe!=null)for(K in oe.key!==void 0&&(ge=""+oe.key),oe)w.call(oe,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(X[K]=oe[K]);var pe=arguments.length-2;if(pe===1)X.children=Q;else if(1<pe){for(var me=Array(pe),Ee=0;Ee<pe;Ee++)me[Ee]=arguments[Ee+2];X.children=me}if(z&&z.defaultProps)for(K in pe=z.defaultProps,pe)X[K]===void 0&&(X[K]=pe[K]);return k(z,ge,X)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(z){return{$$typeof:h,render:z}},Fe.isValidElement=O,Fe.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:J}},Fe.memo=function(z,oe){return{$$typeof:p,type:z,compare:oe===void 0?null:oe}},Fe.startTransition=function(z){var oe=S.T,Q={};S.T=Q;try{var K=z(),X=S.S;X!==null&&X(Q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ee,Ae)}catch(ge){Ae(ge)}finally{oe!==null&&Q.types!==null&&(oe.types=Q.types),S.T=oe}},Fe.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Fe.use=function(z){return S.H.use(z)},Fe.useActionState=function(z,oe,Q){return S.H.useActionState(z,oe,Q)},Fe.useCallback=function(z,oe){return S.H.useCallback(z,oe)},Fe.useContext=function(z){return S.H.useContext(z)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(z,oe){return S.H.useDeferredValue(z,oe)},Fe.useEffect=function(z,oe){return S.H.useEffect(z,oe)},Fe.useEffectEvent=function(z){return S.H.useEffectEvent(z)},Fe.useId=function(){return S.H.useId()},Fe.useImperativeHandle=function(z,oe,Q){return S.H.useImperativeHandle(z,oe,Q)},Fe.useInsertionEffect=function(z,oe){return S.H.useInsertionEffect(z,oe)},Fe.useLayoutEffect=function(z,oe){return S.H.useLayoutEffect(z,oe)},Fe.useMemo=function(z,oe){return S.H.useMemo(z,oe)},Fe.useOptimistic=function(z,oe){return S.H.useOptimistic(z,oe)},Fe.useReducer=function(z,oe,Q){return S.H.useReducer(z,oe,Q)},Fe.useRef=function(z){return S.H.useRef(z)},Fe.useState=function(z){return S.H.useState(z)},Fe.useSyncExternalStore=function(z,oe,Q){return S.H.useSyncExternalStore(z,oe,Q)},Fe.useTransition=function(){return S.H.useTransition()},Fe.version="19.2.3",Fe}var SE;function uv(){return SE||(SE=1,Tg.exports=z2()),Tg.exports}var R=uv();const cv=lv(R),DF=L2({__proto__:null,default:cv},[R]);var bg={exports:{}},$u={},Eg={exports:{}},wg={};var AE;function B2(){return AE||(AE=1,(function(t){function e(Y,re){var J=Y.length;Y.push(re);e:for(;0<J;){var Ae=J-1>>>1,Oe=Y[Ae];if(0<a(Oe,re))Y[Ae]=re,Y[J]=Oe,J=Ae;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var re=Y[0],J=Y.pop();if(J!==re){Y[0]=J;e:for(var Ae=0,Oe=Y.length,z=Oe>>>1;Ae<z;){var oe=2*(Ae+1)-1,Q=Y[oe],K=oe+1,X=Y[K];if(0>a(Q,J))K<Oe&&0>a(X,Q)?(Y[Ae]=X,Y[K]=J,Ae=K):(Y[Ae]=Q,Y[oe]=J,Ae=oe);else if(K<Oe&&0>a(X,J))Y[Ae]=X,Y[K]=J,Ae=K;else break e}}return re}function a(Y,re){var J=Y.sortIndex-re.sortIndex;return J!==0?J:Y.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,v=null,b=3,x=!1,M=!1,P=!1,B=!1,U=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function fe(Y){for(var re=n(p);re!==null;){if(re.callback===null)r(p);else if(re.startTime<=Y)r(p),re.sortIndex=re.expirationTime,e(d,re);else break;re=n(p)}}function V(Y){if(P=!1,fe(Y),!M)if(n(d)!==null)M=!0,ee||(ee=!0,I());else{var re=n(p);re!==null&&G(V,re.startTime-Y)}}var ee=!1,S=-1,w=5,k=-1;function N(){return B?!0:!(t.unstable_now()-k<w)}function O(){if(B=!1,ee){var Y=t.unstable_now();k=Y;var re=!0;try{e:{M=!1,P&&(P=!1,j(S),S=-1),x=!0;var J=b;try{t:{for(fe(Y),v=n(d);v!==null&&!(v.expirationTime>Y&&N());){var Ae=v.callback;if(typeof Ae=="function"){v.callback=null,b=v.priorityLevel;var Oe=Ae(v.expirationTime<=Y);if(Y=t.unstable_now(),typeof Oe=="function"){v.callback=Oe,fe(Y),re=!0;break t}v===n(d)&&r(d),fe(Y)}else r(d);v=n(d)}if(v!==null)re=!0;else{var z=n(p);z!==null&&G(V,z.startTime-Y),re=!1}}break e}finally{v=null,b=J,x=!1}re=void 0}}finally{re?I():ee=!1}}}var I;if(typeof F=="function")I=function(){F(O)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,$=A.port2;A.port1.onmessage=O,I=function(){$.postMessage(null)}}else I=function(){U(O,0)};function G(Y,re){S=U(function(){Y(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var J=b;b=re;try{return Y()}finally{b=J}},t.unstable_requestPaint=function(){B=!0},t.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var J=b;b=Y;try{return re()}finally{b=J}},t.unstable_scheduleCallback=function(Y,re,J){var Ae=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Ae+J:Ae):J=Ae,Y){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=J+Oe,Y={id:y++,callback:re,priorityLevel:Y,startTime:J,expirationTime:Oe,sortIndex:-1},J>Ae?(Y.sortIndex=J,e(p,Y),n(d)===null&&Y===n(p)&&(P?(j(S),S=-1):P=!0,G(V,J-Ae))):(Y.sortIndex=Oe,e(d,Y),M||x||(M=!0,ee||(ee=!0,I()))),Y},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(Y){var re=b;return function(){var J=b;b=re;try{return Y.apply(this,arguments)}finally{b=J}}}})(wg)),wg}var CE;function F2(){return CE||(CE=1,Eg.exports=B2()),Eg.exports}var Sg={exports:{}},En={};var RE;function q2(){if(RE)return En;RE=1;var t=uv();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,En.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},En.flushSync=function(d){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=y,r.d.f()}},En.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},En.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},En.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:x}):y==="script"&&r.d.X(d,{crossOrigin:v,integrity:b,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},En.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},En.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);r.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},En.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},En.requestFormReset=function(d){r.d.r(d)},En.unstable_batchedUpdates=function(d,p){return d(p)},En.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},En.useFormStatus=function(){return u.H.useHostTransitionStatus()},En.version="19.2.3",En}var xE;function H2(){if(xE)return Sg.exports;xE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sg.exports=q2(),Sg.exports}var IE;function G2(){if(IE)return $u;IE=1;var t=F2(),e=uv(),n=H2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),i;if(g===c)return d(m),s;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=m,c=g;else{for(var T=!1,C=m.child;C;){if(C===o){T=!0,o=m,c=g;break}if(C===c){T=!0,c=m,o=g;break}C=C.sibling}if(!T){for(C=g.child;C;){if(C===o){T=!0,o=g,c=m;break}if(C===c){T=!0,c=g,o=m;break}C=C.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),F=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function I(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var A=Symbol.for("react.client.reference");function $(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===A?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case U:return"Profiler";case B:return"StrictMode";case V:return"Suspense";case ee:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case F:return i.displayName||"Context";case j:return(i._context.displayName||"Context")+".Consumer";case fe:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case S:return s=i.displayName||null,s!==null?s:$(i.type)||"Memo";case w:s=i._payload,i=i._init;try{return $(i(s))}catch{}}return null}var G=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Ae=[],Oe=-1;function z(i){return{current:i}}function oe(i){0>Oe||(i.current=Ae[Oe],Ae[Oe]=null,Oe--)}function Q(i,s){Oe++,Ae[Oe]=i.current,i.current=s}var K=z(null),X=z(null),ge=z(null),pe=z(null);function me(i,s){switch(Q(ge,s),Q(X,i),Q(K,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Hb(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Hb(s),i=Gb(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}oe(K),Q(K,i)}function Ee(){oe(K),oe(X),oe(ge)}function Ge(i){i.memoizedState!==null&&Q(pe,i);var s=K.current,o=Gb(s,i.type);s!==o&&(Q(X,i),Q(K,o))}function Ne(i){X.current===i&&(oe(K),oe(X)),pe.current===i&&(oe(pe),Bu._currentValue=J)}var It,ye;function ve(i){if(It===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);It=s&&s[1]||"",ye=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+It+i+ye}var we=!1;function be(i,s){if(!i||we)return"";we=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ae){var ie=ae}Reflect.construct(i,[],he)}else{try{he.call()}catch(ae){ie=ae}i.call(he.prototype)}}else{try{throw Error()}catch(ae){ie=ae}(he=i())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ae){if(ae&&ie&&typeof ae.stack=="string")return[ae.stack,ie.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],C=g[1];if(T&&C){var L=T.split(`
`),ne=C.split(`
`);for(m=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ne.length&&!ne[m].includes("DetermineComponentFrameRoot");)m++;if(c===L.length||m===ne.length)for(c=L.length-1,m=ne.length-1;1<=c&&0<=m&&L[c]!==ne[m];)m--;for(;1<=c&&0<=m;c--,m--)if(L[c]!==ne[m]){if(c!==1||m!==1)do if(c--,m--,0>m||L[c]!==ne[m]){var le=`
`+L[c].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=c&&0<=m);break}}}finally{we=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ve(o):""}function ke(i,s){switch(i.tag){case 26:case 27:case 5:return ve(i.type);case 16:return ve("Lazy");case 13:return i.child!==s&&s!==null?ve("Suspense Fallback"):ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return be(i.type,!1);case 11:return be(i.type.render,!1);case 1:return be(i.type,!0);case 31:return ve("Activity");default:return""}}function Je(i){try{var s="",o=null;do s+=ke(i,o),o=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ue=Object.prototype.hasOwnProperty,He=t.unstable_scheduleCallback,$i=t.unstable_cancelCallback,bm=t.unstable_shouldYield,Jc=t.unstable_requestPaint,In=t.unstable_now,ha=t.unstable_getCurrentPriorityLevel,Hl=t.unstable_ImmediatePriority,Gl=t.unstable_UserBlockingPriority,as=t.unstable_NormalPriority,Em=t.unstable_LowPriority,Zc=t.unstable_IdlePriority,eh=t.log,th=t.unstable_setDisableYieldValue,Ai=null,fn=null;function si(i){if(typeof eh=="function"&&th(i),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(Ai,i)}catch{}}var Lt=Math.clz32?Math.clz32:ih,nh=Math.log,mo=Math.LN2;function ih(i){return i>>>=0,i===0?32:31-(nh(i)/mo|0)|0}var Yi=256,fa=262144,qt=4194304;function Ki(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Wi(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var C=c&134217727;return C!==0?(c=C&~g,c!==0?m=Ki(c):(T&=C,T!==0?m=Ki(T):o||(o=C&~i,o!==0&&(m=Ki(o))))):(C=c&~g,C!==0?m=Ki(C):T!==0?m=Ki(T):o||(o=c&~i,o!==0&&(m=Ki(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function Ci(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function wm(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rh(){var i=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),i}function Qi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function da(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Sm(i,s,o,c,m,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var C=i.entanglements,L=i.expirationTimes,ne=i.hiddenUpdates;for(o=T&~o;0<o;){var le=31-Lt(o),he=1<<le;C[le]=0,L[le]=-1;var ie=ne[le];if(ie!==null)for(ne[le]=null,le=0;le<ie.length;le++){var ae=ie[le];ae!==null&&(ae.lane&=-536870913)}o&=~he}c!==0&&ma(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~s))}function ma(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Lt(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function $l(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-Lt(o),m=1<<c;m&s|i[c]&s&&(i[c]|=s),o&=~m}}function Yl(i,s){var o=s&-s;return o=(o&42)!==0?1:pa(o),(o&(i.suspendedLanes|s))!==0?0:o}function pa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Sr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function sh(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:mE(i.type))}function Ri(i,s){var o=re.p;try{return re.p=i,s()}finally{re.p=o}}var xi=Math.random().toString(36).slice(2),Ht="__reactFiber$"+xi,on="__reactProps$"+xi,Xi="__reactContainer$"+xi,po="__reactEvents$"+xi,Am="__reactListeners$"+xi,ah="__reactHandles$"+xi,oh="__reactResources$"+xi,Ji="__reactMarker$"+xi;function go(i){delete i[Ht],delete i[on],delete i[po],delete i[Am],delete i[ah]}function Zi(i){var s=i[Ht];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Xi]||o[Ht]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Jb(i);i!==null;){if(o=i[Ht])return o;i=Jb(i)}return s}i=o,o=i.parentNode}return null}function ai(i){if(i=i[Ht]||i[Xi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Yn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function er(i){var s=i[oh];return s||(s=i[oh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Gt(i){i[Ji]=!0}var Kl=new Set,Wl={};function tr(i,s){nr(i,s),nr(i+"Capture",s)}function nr(i,s){for(Wl[i]=s,i=0;i<s.length;i++)Kl.add(s[i])}var Ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},Jl={};function lh(i){return Ue.call(Jl,i)?!0:Ue.call(Xl,i)?!1:Ql.test(i)?Jl[i]=!0:(Xl[i]=!0,!1)}function yo(i,s,o){if(lh(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Kn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function $t(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function os(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Zl(i,s,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ht(i){if(!i._valueTracker){var s=os(i)?"checked":"value";i._valueTracker=Zl(i,s,""+i[s])}}function ga(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=os(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function ir(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ya=/[\n"\\]/g;function On(i){return i.replace(ya,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function vo(i,s,o,c,m,g,T,C){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ln(s)):i.value!==""+ln(s)&&(i.value=""+ln(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?eu(i,T,ln(s)):o!=null?eu(i,T,ln(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+ln(C):i.removeAttribute("name")}function uh(i,s,o,c,m,g,T,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){ht(i);return}o=o!=null?""+ln(o):"",s=s!=null?""+ln(s):o,C||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=C?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),ht(i)}function eu(i,s,o){s==="number"&&ir(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ls(i,s,o,c){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+ln(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function ch(i,s,o){if(s!=null&&(s=""+ln(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+ln(o):""}function us(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(G(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=ln(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),ht(i)}function Pn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var hh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tu(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||hh.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function nu(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&tu(i,m,c)}else for(var g in s)s.hasOwnProperty(g)&&tu(i,g,s[g])}function _o(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(i){return cs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ii(){}var iu=null;function oi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var hs=null,rr=null;function va(i){var s=ai(i);if(s&&(i=s.stateNode)){var o=i[on]||null;e:switch(i=s.stateNode,s.type){case"input":if(vo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+On(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var m=c[on]||null;if(!m)throw Error(r(90));vo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&ga(c)}break e;case"textarea":ch(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ls(i,!!o.multiple,s,!1)}}}var bo=!1;function fs(i,s,o){if(bo)return i(s,o);bo=!0;try{var c=i(s);return c}finally{if(bo=!1,(hs!==null||rr!==null)&&(af(),hs&&(s=hs,i=rr,rr=hs=null,va(s),i)))for(s=0;s<i.length;s++)va(i[s])}}function Di(i,s){var o=i.stateNode;if(o===null)return null;var c=o[on]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_a=!1;if(li)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){_a=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{_a=!1}var sr=null,ru=null,Ta=null;function su(){if(Ta)return Ta;var i,s=ru,o=s.length,c,m="value"in sr?sr.value:sr.textContent,g=m.length;for(i=0;i<o&&s[i]===m[i];i++);var T=o-i;for(c=1;c<=T&&s[o-c]===m[g-c];c++);return Ta=m.slice(i,1<c?1-c:void 0)}function ba(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ar(){return!0}function ki(){return!1}function dn(i){function s(o,c,m,g,T){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(o=i[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ar:ki,this.isPropagationStopped=ki,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),s}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ar=dn(Cr),ds=v({},Cr,{view:0,detail:0}),au=dn(ds),ms,Eo,or,wo=v({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==or&&(or&&i.type==="mousemove"?(ms=i.screenX-or.screenX,Eo=i.screenY-or.screenY):Eo=ms=0,or=i),ms)},movementY:function(i){return"movementY"in i?i.movementY:Eo}}),ou=dn(wo),Ea=v({},wo,{dataTransfer:0}),dh=dn(Ea),mh=v({},ds,{relatedTarget:0}),wa=dn(mh),lu=v({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),ph=dn(lu),So=v({},Cr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),gh=dn(So),yh=v({},Cr,{data:0}),lr=dn(yh),vh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Th[i])?!!s[i]:!1}function ps(){return bh}var Dn=v({},ds,{key:function(i){if(i.key){var s=vh[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ba(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?_h[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(i){return i.type==="keypress"?ba(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ba(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Eh=dn(Dn),wh=v({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rr=dn(wh),f=v({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),_=dn(f),E=v({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=dn(E),Z=v({},wo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),se=dn(Z),_e=v({},Cr,{newState:0,oldState:0}),$e=dn(_e),Ut=[9,13,27,32],lt=li&&"CompositionEvent"in window,Ct=null;li&&"documentMode"in document&&(Ct=document.documentMode);var ui=li&&"TextEvent"in window&&!Ct,ur=li&&(!lt||Ct&&8<Ct&&11>=Ct),Mi=" ",Ni=!1;function Sa(i,s){switch(i){case"keyup":return Ut.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ao(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Co=!1;function oD(i,s){switch(i){case"compositionend":return Ao(s);case"keypress":return s.which!==32?null:(Ni=!0,Mi);case"textInput":return i=s.data,i===Mi&&Ni?null:i;default:return null}}function lD(i,s){if(Co)return i==="compositionend"||!lt&&Sa(i,s)?(i=su(),Ta=ru=sr=null,Co=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ur&&s.locale!=="ko"?null:s.data;default:return null}}var uD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t_(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!uD[i.type]:s==="textarea"}function n_(i,s,o,c){hs?rr?rr.push(c):rr=[c]:hs=c,s=df(s,"onChange"),0<s.length&&(o=new ar("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var uu=null,cu=null;function cD(i){Ub(i,0)}function Sh(i){var s=Yn(i);if(ga(s))return i}function i_(i,s){if(i==="change")return s}var r_=!1;if(li){var Cm;if(li){var Rm="oninput"in document;if(!Rm){var s_=document.createElement("div");s_.setAttribute("oninput","return;"),Rm=typeof s_.oninput=="function"}Cm=Rm}else Cm=!1;r_=Cm&&(!document.documentMode||9<document.documentMode)}function a_(){uu&&(uu.detachEvent("onpropertychange",o_),cu=uu=null)}function o_(i){if(i.propertyName==="value"&&Sh(cu)){var s=[];n_(s,cu,i,oi(i)),fs(cD,s)}}function hD(i,s,o){i==="focusin"?(a_(),uu=s,cu=o,uu.attachEvent("onpropertychange",o_)):i==="focusout"&&a_()}function fD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Sh(cu)}function dD(i,s){if(i==="click")return Sh(s)}function mD(i,s){if(i==="input"||i==="change")return Sh(s)}function pD(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Wn=typeof Object.is=="function"?Object.is:pD;function hu(i,s){if(Wn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Ue.call(s,m)||!Wn(i[m],s[m]))return!1}return!0}function l_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function u_(i,s){var o=l_(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=l_(o)}}function c_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?c_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function h_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ir(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=ir(i.document)}return s}function xm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var gD=li&&"documentMode"in document&&11>=document.documentMode,Ro=null,Im=null,fu=null,Dm=!1;function f_(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Dm||Ro==null||Ro!==ir(c)||(c=Ro,"selectionStart"in c&&xm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),fu&&hu(fu,c)||(fu=c,c=df(Im,"onSelect"),0<c.length&&(s=new ar("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=Ro)))}function Aa(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var xo={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},km={},d_={};li&&(d_=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Ca(i){if(km[i])return km[i];if(!xo[i])return i;var s=xo[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in d_)return km[i]=s[o];return i}var m_=Ca("animationend"),p_=Ca("animationiteration"),g_=Ca("animationstart"),yD=Ca("transitionrun"),vD=Ca("transitionstart"),_D=Ca("transitioncancel"),y_=Ca("transitionend"),v_=new Map,Mm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mm.push("scrollEnd");function Oi(i,s){v_.set(i,s),tr(s,[i])}var Ah=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ci=[],Io=0,Nm=0;function Ch(){for(var i=Io,s=Nm=Io=0;s<i;){var o=ci[s];ci[s++]=null;var c=ci[s];ci[s++]=null;var m=ci[s];ci[s++]=null;var g=ci[s];if(ci[s++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}g!==0&&__(o,m,g)}}function Rh(i,s,o,c){ci[Io++]=i,ci[Io++]=s,ci[Io++]=o,ci[Io++]=c,Nm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Om(i,s,o,c){return Rh(i,s,o,c),xh(i)}function Ra(i,s){return Rh(i,null,null,s),xh(i)}function __(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&s!==null&&(m=31-Lt(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=o|536870912),g):null}function xh(i){if(50<Ou)throw Ou=0,qp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Do={};function TD(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(i,s,o,c){return new TD(i,s,o,c)}function Pm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xr(i,s){var o=i.alternate;return o===null?(o=Qn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function T_(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Ih(i,s,o,c,m,g){var T=0;if(c=i,typeof i=="function")Pm(i)&&(T=1);else if(typeof i=="string")T=A2(i,o,K.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=Qn(31,o,s,m),i.elementType=k,i.lanes=g,i;case P:return xa(o.children,m,g,s);case B:T=8,m|=24;break;case U:return i=Qn(12,o,s,m|2),i.elementType=U,i.lanes=g,i;case V:return i=Qn(13,o,s,m),i.elementType=V,i.lanes=g,i;case ee:return i=Qn(19,o,s,m),i.elementType=ee,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:T=10;break e;case j:T=9;break e;case fe:T=11;break e;case S:T=14;break e;case w:T=16,c=null;break e}T=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Qn(T,o,s,m),s.elementType=i,s.type=c,s.lanes=g,s}function xa(i,s,o,c){return i=Qn(7,i,c,s),i.lanes=o,i}function Vm(i,s,o){return i=Qn(6,i,null,s),i.lanes=o,i}function b_(i){var s=Qn(18,null,null,0);return s.stateNode=i,s}function Lm(i,s,o){return s=Qn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var E_=new WeakMap;function hi(i,s){if(typeof i=="object"&&i!==null){var o=E_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Je(s)},E_.set(i,s),s)}return{value:i,source:s,stack:Je(s)}}var ko=[],Mo=0,Dh=null,du=0,fi=[],di=0,gs=null,cr=1,hr="";function Ir(i,s){ko[Mo++]=du,ko[Mo++]=Dh,Dh=i,du=s}function w_(i,s,o){fi[di++]=cr,fi[di++]=hr,fi[di++]=gs,gs=i;var c=cr;i=hr;var m=32-Lt(c)-1;c&=~(1<<m),o+=1;var g=32-Lt(s)+m;if(30<g){var T=m-m%5;g=(c&(1<<T)-1).toString(32),c>>=T,m-=T,cr=1<<32-Lt(s)+m|o<<m|c,hr=g+i}else cr=1<<g|o<<m|c,hr=i}function Um(i){i.return!==null&&(Ir(i,1),w_(i,1,0))}function jm(i){for(;i===Dh;)Dh=ko[--Mo],ko[Mo]=null,du=ko[--Mo],ko[Mo]=null;for(;i===gs;)gs=fi[--di],fi[di]=null,hr=fi[--di],fi[di]=null,cr=fi[--di],fi[di]=null}function S_(i,s){fi[di++]=cr,fi[di++]=hr,fi[di++]=gs,cr=s.id,hr=s.overflow,gs=i}var mn=null,Et=null,rt=!1,ys=null,mi=!1,zm=Error(r(519));function vs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mu(hi(s,i)),zm}function A_(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[Ht]=i,s[on]=c,o){case"dialog":Xe("cancel",s),Xe("close",s);break;case"iframe":case"object":case"embed":Xe("load",s);break;case"video":case"audio":for(o=0;o<Vu.length;o++)Xe(Vu[o],s);break;case"source":Xe("error",s);break;case"img":case"image":case"link":Xe("error",s),Xe("load",s);break;case"details":Xe("toggle",s);break;case"input":Xe("invalid",s),uh(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Xe("invalid",s);break;case"textarea":Xe("invalid",s),us(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||Fb(s.textContent,o)?(c.popover!=null&&(Xe("beforetoggle",s),Xe("toggle",s)),c.onScroll!=null&&Xe("scroll",s),c.onScrollEnd!=null&&Xe("scrollend",s),c.onClick!=null&&(s.onclick=Ii),s=!0):s=!1,s||vs(i,!0)}function C_(i){for(mn=i.return;mn;)switch(mn.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:mn=mn.return}}function No(i){if(i!==mn)return!1;if(!rt)return C_(i),rt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||rg(i.type,i.memoizedProps)),o=!o),o&&Et&&vs(i),C_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Et=Xb(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Et=Xb(i)}else s===27?(s=Et,Ms(i.type)?(i=ug,ug=null,Et=i):Et=s):Et=mn?gi(i.stateNode.nextSibling):null;return!0}function Ia(){Et=mn=null,rt=!1}function Bm(){var i=ys;return i!==null&&(jn===null?jn=i:jn.push.apply(jn,i),ys=null),i}function mu(i){ys===null?ys=[i]:ys.push(i)}var Fm=z(null),Da=null,Dr=null;function _s(i,s,o){Q(Fm,s._currentValue),s._currentValue=o}function kr(i){i._currentValue=Fm.current,oe(Fm)}function qm(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function Hm(i,s,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var T=m.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=m;for(var L=0;L<s.length;L++)if(C.context===s[L]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),qm(g.return,o,i),c||(T=null);break e}g=C.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(r(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),qm(T,o,i),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===i){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Oo(i,s,o,c){i=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var C=m.type;Wn(m.pendingProps.value,T.value)||(i!==null?i.push(C):i=[C])}}else if(m===pe.current){if(T=m.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Bu):i=[Bu])}m=m.return}i!==null&&Hm(s,i,o,c),s.flags|=262144}function kh(i){for(i=i.firstContext;i!==null;){if(!Wn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ka(i){Da=i,Dr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function pn(i){return R_(Da,i)}function Mh(i,s){return Da===null&&ka(i),R_(i,s)}function R_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Dr===null){if(i===null)throw Error(r(308));Dr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Dr=Dr.next=s;return o}var bD=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},ED=t.unstable_scheduleCallback,wD=t.unstable_NormalPriority,Yt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gm(){return{controller:new bD,data:new Map,refCount:0}}function pu(i){i.refCount--,i.refCount===0&&ED(wD,function(){i.controller.abort()})}var gu=null,$m=0,Po=0,Vo=null;function SD(i,s){if(gu===null){var o=gu=[];$m=0,Po=Wp(),Vo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return $m++,s.then(x_,x_),s}function x_(){if(--$m===0&&gu!==null){Vo!==null&&(Vo.status="fulfilled");var i=gu;gu=null,Po=0,Vo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function AD(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var I_=Y.S;Y.S=function(i,s){fb=In(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&SD(i,s),I_!==null&&I_(i,s)};var Ma=z(null);function Ym(){var i=Ma.current;return i!==null?i:_t.pooledCache}function Nh(i,s){s===null?Q(Ma,Ma.current):Q(Ma,s.pool)}function D_(){var i=Ym();return i===null?null:{parent:Yt._currentValue,pool:i}}var Lo=Error(r(460)),Km=Error(r(474)),Oh=Error(r(542)),Ph={then:function(){}};function k_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function M_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Ii,Ii),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,O_(i),i;default:if(typeof s.status=="string")s.then(Ii,Ii);else{if(i=_t,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,O_(i),i}throw Oa=s,Lo}}function Na(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Oa=o,Lo):o}}var Oa=null;function N_(){if(Oa===null)throw Error(r(459));var i=Oa;return Oa=null,i}function O_(i){if(i===Lo||i===Oh)throw Error(r(483))}var Uo=null,yu=0;function Vh(i){var s=yu;return yu+=1,Uo===null&&(Uo=[]),M_(Uo,i,s)}function vu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Lh(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function P_(i){function s(W,H){if(i){var te=W.deletions;te===null?(W.deletions=[H],W.flags|=16):te.push(H)}}function o(W,H){if(!i)return null;for(;H!==null;)s(W,H),H=H.sibling;return null}function c(W){for(var H=new Map;W!==null;)W.key!==null?H.set(W.key,W):H.set(W.index,W),W=W.sibling;return H}function m(W,H){return W=xr(W,H),W.index=0,W.sibling=null,W}function g(W,H,te){return W.index=te,i?(te=W.alternate,te!==null?(te=te.index,te<H?(W.flags|=67108866,H):te):(W.flags|=67108866,H)):(W.flags|=1048576,H)}function T(W){return i&&W.alternate===null&&(W.flags|=67108866),W}function C(W,H,te,ue){return H===null||H.tag!==6?(H=Vm(te,W.mode,ue),H.return=W,H):(H=m(H,te),H.return=W,H)}function L(W,H,te,ue){var Pe=te.type;return Pe===P?le(W,H,te.props.children,ue,te.key):H!==null&&(H.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===w&&Na(Pe)===H.type)?(H=m(H,te.props),vu(H,te),H.return=W,H):(H=Ih(te.type,te.key,te.props,null,W.mode,ue),vu(H,te),H.return=W,H)}function ne(W,H,te,ue){return H===null||H.tag!==4||H.stateNode.containerInfo!==te.containerInfo||H.stateNode.implementation!==te.implementation?(H=Lm(te,W.mode,ue),H.return=W,H):(H=m(H,te.children||[]),H.return=W,H)}function le(W,H,te,ue,Pe){return H===null||H.tag!==7?(H=xa(te,W.mode,ue,Pe),H.return=W,H):(H=m(H,te),H.return=W,H)}function he(W,H,te){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Vm(""+H,W.mode,te),H.return=W,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return te=Ih(H.type,H.key,H.props,null,W.mode,te),vu(te,H),te.return=W,te;case M:return H=Lm(H,W.mode,te),H.return=W,H;case w:return H=Na(H),he(W,H,te)}if(G(H)||I(H))return H=xa(H,W.mode,te,null),H.return=W,H;if(typeof H.then=="function")return he(W,Vh(H),te);if(H.$$typeof===F)return he(W,Mh(W,H),te);Lh(W,H)}return null}function ie(W,H,te,ue){var Pe=H!==null?H.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Pe!==null?null:C(W,H,""+te,ue);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return te.key===Pe?L(W,H,te,ue):null;case M:return te.key===Pe?ne(W,H,te,ue):null;case w:return te=Na(te),ie(W,H,te,ue)}if(G(te)||I(te))return Pe!==null?null:le(W,H,te,ue,null);if(typeof te.then=="function")return ie(W,H,Vh(te),ue);if(te.$$typeof===F)return ie(W,H,Mh(W,te),ue);Lh(W,te)}return null}function ae(W,H,te,ue,Pe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return W=W.get(te)||null,C(H,W,""+ue,Pe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case x:return W=W.get(ue.key===null?te:ue.key)||null,L(H,W,ue,Pe);case M:return W=W.get(ue.key===null?te:ue.key)||null,ne(H,W,ue,Pe);case w:return ue=Na(ue),ae(W,H,te,ue,Pe)}if(G(ue)||I(ue))return W=W.get(te)||null,le(H,W,ue,Pe,null);if(typeof ue.then=="function")return ae(W,H,te,Vh(ue),Pe);if(ue.$$typeof===F)return ae(W,H,te,Mh(H,ue),Pe);Lh(H,ue)}return null}function Ce(W,H,te,ue){for(var Pe=null,at=null,Me=H,Ke=H=0,et=null;Me!==null&&Ke<te.length;Ke++){Me.index>Ke?(et=Me,Me=null):et=Me.sibling;var ot=ie(W,Me,te[Ke],ue);if(ot===null){Me===null&&(Me=et);break}i&&Me&&ot.alternate===null&&s(W,Me),H=g(ot,H,Ke),at===null?Pe=ot:at.sibling=ot,at=ot,Me=et}if(Ke===te.length)return o(W,Me),rt&&Ir(W,Ke),Pe;if(Me===null){for(;Ke<te.length;Ke++)Me=he(W,te[Ke],ue),Me!==null&&(H=g(Me,H,Ke),at===null?Pe=Me:at.sibling=Me,at=Me);return rt&&Ir(W,Ke),Pe}for(Me=c(Me);Ke<te.length;Ke++)et=ae(Me,W,Ke,te[Ke],ue),et!==null&&(i&&et.alternate!==null&&Me.delete(et.key===null?Ke:et.key),H=g(et,H,Ke),at===null?Pe=et:at.sibling=et,at=et);return i&&Me.forEach(function(Ls){return s(W,Ls)}),rt&&Ir(W,Ke),Pe}function Le(W,H,te,ue){if(te==null)throw Error(r(151));for(var Pe=null,at=null,Me=H,Ke=H=0,et=null,ot=te.next();Me!==null&&!ot.done;Ke++,ot=te.next()){Me.index>Ke?(et=Me,Me=null):et=Me.sibling;var Ls=ie(W,Me,ot.value,ue);if(Ls===null){Me===null&&(Me=et);break}i&&Me&&Ls.alternate===null&&s(W,Me),H=g(Ls,H,Ke),at===null?Pe=Ls:at.sibling=Ls,at=Ls,Me=et}if(ot.done)return o(W,Me),rt&&Ir(W,Ke),Pe;if(Me===null){for(;!ot.done;Ke++,ot=te.next())ot=he(W,ot.value,ue),ot!==null&&(H=g(ot,H,Ke),at===null?Pe=ot:at.sibling=ot,at=ot);return rt&&Ir(W,Ke),Pe}for(Me=c(Me);!ot.done;Ke++,ot=te.next())ot=ae(Me,W,Ke,ot.value,ue),ot!==null&&(i&&ot.alternate!==null&&Me.delete(ot.key===null?Ke:ot.key),H=g(ot,H,Ke),at===null?Pe=ot:at.sibling=ot,at=ot);return i&&Me.forEach(function(V2){return s(W,V2)}),rt&&Ir(W,Ke),Pe}function vt(W,H,te,ue){if(typeof te=="object"&&te!==null&&te.type===P&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case x:e:{for(var Pe=te.key;H!==null;){if(H.key===Pe){if(Pe=te.type,Pe===P){if(H.tag===7){o(W,H.sibling),ue=m(H,te.props.children),ue.return=W,W=ue;break e}}else if(H.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===w&&Na(Pe)===H.type){o(W,H.sibling),ue=m(H,te.props),vu(ue,te),ue.return=W,W=ue;break e}o(W,H);break}else s(W,H);H=H.sibling}te.type===P?(ue=xa(te.props.children,W.mode,ue,te.key),ue.return=W,W=ue):(ue=Ih(te.type,te.key,te.props,null,W.mode,ue),vu(ue,te),ue.return=W,W=ue)}return T(W);case M:e:{for(Pe=te.key;H!==null;){if(H.key===Pe)if(H.tag===4&&H.stateNode.containerInfo===te.containerInfo&&H.stateNode.implementation===te.implementation){o(W,H.sibling),ue=m(H,te.children||[]),ue.return=W,W=ue;break e}else{o(W,H);break}else s(W,H);H=H.sibling}ue=Lm(te,W.mode,ue),ue.return=W,W=ue}return T(W);case w:return te=Na(te),vt(W,H,te,ue)}if(G(te))return Ce(W,H,te,ue);if(I(te)){if(Pe=I(te),typeof Pe!="function")throw Error(r(150));return te=Pe.call(te),Le(W,H,te,ue)}if(typeof te.then=="function")return vt(W,H,Vh(te),ue);if(te.$$typeof===F)return vt(W,H,Mh(W,te),ue);Lh(W,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,H!==null&&H.tag===6?(o(W,H.sibling),ue=m(H,te),ue.return=W,W=ue):(o(W,H),ue=Vm(te,W.mode,ue),ue.return=W,W=ue),T(W)):o(W,H)}return function(W,H,te,ue){try{yu=0;var Pe=vt(W,H,te,ue);return Uo=null,Pe}catch(Me){if(Me===Lo||Me===Oh)throw Me;var at=Qn(29,Me,null,W.mode);return at.lanes=ue,at.return=W,at}}}var Pa=P_(!0),V_=P_(!1),Ts=!1;function Wm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function bs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Es(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ut&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=xh(i),__(i,null,o),s}return Rh(i,c,s,o),xh(i)}function _u(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,$l(i,o)}}function Xm(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Jm=!1;function Tu(){if(Jm){var i=Vo;if(i!==null)throw i}}function bu(i,s,o,c){Jm=!1;var m=i.updateQueue;Ts=!1;var g=m.firstBaseUpdate,T=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var L=C,ne=L.next;L.next=null,T===null?g=ne:T.next=ne,T=L;var le=i.alternate;le!==null&&(le=le.updateQueue,C=le.lastBaseUpdate,C!==T&&(C===null?le.firstBaseUpdate=ne:C.next=ne,le.lastBaseUpdate=L))}if(g!==null){var he=m.baseState;T=0,le=ne=L=null,C=g;do{var ie=C.lane&-536870913,ae=ie!==C.lane;if(ae?(Ze&ie)===ie:(c&ie)===ie){ie!==0&&ie===Po&&(Jm=!0),le!==null&&(le=le.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ce=i,Le=C;ie=s;var vt=o;switch(Le.tag){case 1:if(Ce=Le.payload,typeof Ce=="function"){he=Ce.call(vt,he,ie);break e}he=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Le.payload,ie=typeof Ce=="function"?Ce.call(vt,he,ie):Ce,ie==null)break e;he=v({},he,ie);break e;case 2:Ts=!0}}ie=C.callback,ie!==null&&(i.flags|=64,ae&&(i.flags|=8192),ae=m.callbacks,ae===null?m.callbacks=[ie]:ae.push(ie))}else ae={lane:ie,tag:C.tag,payload:C.payload,callback:C.callback,next:null},le===null?(ne=le=ae,L=he):le=le.next=ae,T|=ie;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;ae=C,C=ae.next,ae.next=null,m.lastBaseUpdate=ae,m.shared.pending=null}}while(!0);le===null&&(L=he),m.baseState=L,m.firstBaseUpdate=ne,m.lastBaseUpdate=le,g===null&&(m.shared.lanes=0),Rs|=T,i.lanes=T,i.memoizedState=he}}function L_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function U_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)L_(o[i],s)}var jo=z(null),Uh=z(0);function j_(i,s){i=zr,Q(Uh,i),Q(jo,s),zr=i|s.baseLanes}function Zm(){Q(Uh,zr),Q(jo,jo.current)}function ep(){zr=Uh.current,oe(jo),oe(Uh)}var Xn=z(null),pi=null;function ws(i){var s=i.alternate;Q(jt,jt.current&1),Q(Xn,i),pi===null&&(s===null||jo.current!==null||s.memoizedState!==null)&&(pi=i)}function tp(i){Q(jt,jt.current),Q(Xn,i),pi===null&&(pi=i)}function z_(i){i.tag===22?(Q(jt,jt.current),Q(Xn,i),pi===null&&(pi=i)):Ss()}function Ss(){Q(jt,jt.current),Q(Xn,Xn.current)}function Jn(i){oe(Xn),pi===i&&(pi=null),oe(jt)}var jt=z(0);function jh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||og(o)||lg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Mr=0,Ye=null,gt=null,Kt=null,zh=!1,zo=!1,Va=!1,Bh=0,Eu=0,Bo=null,CD=0;function Mt(){throw Error(r(321))}function np(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Wn(i[o],s[o]))return!1;return!0}function ip(i,s,o,c,m,g){return Mr=g,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=i===null||i.memoizedState===null?wT:vp,Va=!1,g=o(c,m),Va=!1,zo&&(g=F_(s,o,c,m)),B_(i),g}function B_(i){Y.H=Au;var s=gt!==null&&gt.next!==null;if(Mr=0,Kt=gt=Ye=null,zh=!1,Eu=0,Bo=null,s)throw Error(r(300));i===null||Wt||(i=i.dependencies,i!==null&&kh(i)&&(Wt=!0))}function F_(i,s,o,c){Ye=i;var m=0;do{if(zo&&(Bo=null),Eu=0,zo=!1,25<=m)throw Error(r(301));if(m+=1,Kt=gt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=ST,g=s(o,c)}while(zo);return g}function RD(){var i=Y.H,s=i.useState()[0];return s=typeof s.then=="function"?wu(s):s,i=i.useState()[0],(gt!==null?gt.memoizedState:null)!==i&&(Ye.flags|=1024),s}function rp(){var i=Bh!==0;return Bh=0,i}function sp(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function ap(i){if(zh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}zh=!1}Mr=0,Kt=gt=Ye=null,zo=!1,Eu=Bh=0,Bo=null}function kn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Ye.memoizedState=Kt=i:Kt=Kt.next=i,Kt}function zt(){if(gt===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=gt.next;var s=Kt===null?Ye.memoizedState:Kt.next;if(s!==null)Kt=s,gt=i;else{if(i===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));gt=i,i={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Kt===null?Ye.memoizedState=Kt=i:Kt=Kt.next=i}return Kt}function Fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wu(i){var s=Eu;return Eu+=1,Bo===null&&(Bo=[]),i=M_(Bo,i,s),s=Ye,(Kt===null?s.memoizedState:Kt.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?wT:vp),i}function qh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return wu(i);if(i.$$typeof===F)return pn(i)}throw Error(r(438,String(i)))}function op(i){var s=null,o=Ye.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ye.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Fh(),Ye.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=N;return s.index++,o}function Nr(i,s){return typeof s=="function"?s(i):s}function Hh(i){var s=zt();return lp(s,gt,i)}function lp(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var T=m.next;m.next=g.next,g.next=T}s.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var C=T=null,L=null,ne=s,le=!1;do{var he=ne.lane&-536870913;if(he!==ne.lane?(Ze&he)===he:(Mr&he)===he){var ie=ne.revertLane;if(ie===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),he===Po&&(le=!0);else if((Mr&ie)===ie){ne=ne.next,ie===Po&&(le=!0);continue}else he={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},L===null?(C=L=he,T=g):L=L.next=he,Ye.lanes|=ie,Rs|=ie;he=ne.action,Va&&o(g,he),g=ne.hasEagerState?ne.eagerState:o(g,he)}else ie={lane:he,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},L===null?(C=L=ie,T=g):L=L.next=ie,Ye.lanes|=he,Rs|=he;ne=ne.next}while(ne!==null&&ne!==s);if(L===null?T=g:L.next=C,!Wn(g,i.memoizedState)&&(Wt=!0,le&&(o=Vo,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=L,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function up(i){var s=zt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do g=i(g,T.action),T=T.next;while(T!==m);Wn(g,s.memoizedState)||(Wt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function q_(i,s,o){var c=Ye,m=zt(),g=rt;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var T=!Wn((gt||m).memoizedState,o);if(T&&(m.memoizedState=o,Wt=!0),m=m.queue,fp($_.bind(null,c,m,i),[i]),m.getSnapshot!==s||T||Kt!==null&&Kt.memoizedState.tag&1){if(c.flags|=2048,Fo(9,{destroy:void 0},G_.bind(null,c,m,o,s),null),_t===null)throw Error(r(349));g||(Mr&127)!==0||H_(c,s,o)}return o}function H_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ye.updateQueue,s===null?(s=Fh(),Ye.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function G_(i,s,o,c){s.value=o,s.getSnapshot=c,Y_(s)&&K_(i)}function $_(i,s,o){return o(function(){Y_(s)&&K_(i)})}function Y_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Wn(i,o)}catch{return!0}}function K_(i){var s=Ra(i,2);s!==null&&zn(s,i,2)}function cp(i){var s=kn();if(typeof i=="function"){var o=i;if(i=o(),Va){si(!0);try{o()}finally{si(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:i},s}function W_(i,s,o,c){return i.baseState=o,lp(i,gt,typeof c=="function"?c:Nr)}function xD(i,s,o,c,m){if(Yh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};Y.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,Q_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Q_(i,s){var o=s.action,c=s.payload,m=i.state;if(s.isTransition){var g=Y.T,T={};Y.T=T;try{var C=o(m,c),L=Y.S;L!==null&&L(T,C),X_(i,s,C)}catch(ne){hp(i,s,ne)}finally{g!==null&&T.types!==null&&(g.types=T.types),Y.T=g}}else try{g=o(m,c),X_(i,s,g)}catch(ne){hp(i,s,ne)}}function X_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){J_(i,s,c)},function(c){return hp(i,s,c)}):J_(i,s,o)}function J_(i,s,o){s.status="fulfilled",s.value=o,Z_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Q_(i,o)))}function hp(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,Z_(s),s=s.next;while(s!==c)}i.action=null}function Z_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function eT(i,s){return s}function tT(i,s){if(rt){var o=_t.formState;if(o!==null){e:{var c=Ye;if(rt){if(Et){t:{for(var m=Et,g=mi;m.nodeType!==8;){if(!g){m=null;break t}if(m=gi(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Et=gi(m.nextSibling),c=m.data==="F!";break e}}vs(c)}c=!1}c&&(s=o[0])}}return o=kn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eT,lastRenderedState:s},o.queue=c,o=TT.bind(null,Ye,c),c.dispatch=o,c=cp(!1),g=yp.bind(null,Ye,!1,c.queue),c=kn(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,o=xD.bind(null,Ye,m,g,o),m.dispatch=o,c.memoizedState=i,[s,o,!1]}function nT(i){var s=zt();return iT(s,gt,i)}function iT(i,s,o){if(s=lp(i,s,eT)[0],i=Hh(Nr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=wu(s)}catch(T){throw T===Lo?Oh:T}else c=s;s=zt();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&(Ye.flags|=2048,Fo(9,{destroy:void 0},ID.bind(null,m,o),null)),[c,g,i]}function ID(i,s){i.action=s}function rT(i){var s=zt(),o=gt;if(o!==null)return iT(s,o,i);zt(),s=s.memoizedState,o=zt();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function Fo(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=Ye.updateQueue,s===null&&(s=Fh(),Ye.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function sT(){return zt().memoizedState}function Gh(i,s,o,c){var m=kn();Ye.flags|=i,m.memoizedState=Fo(1|s,{destroy:void 0},o,c===void 0?null:c)}function $h(i,s,o,c){var m=zt();c=c===void 0?null:c;var g=m.memoizedState.inst;gt!==null&&c!==null&&np(c,gt.memoizedState.deps)?m.memoizedState=Fo(s,g,o,c):(Ye.flags|=i,m.memoizedState=Fo(1|s,g,o,c))}function aT(i,s){Gh(8390656,8,i,s)}function fp(i,s){$h(2048,8,i,s)}function DD(i){Ye.flags|=4;var s=Ye.updateQueue;if(s===null)s=Fh(),Ye.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function oT(i){var s=zt().memoizedState;return DD({ref:s,nextImpl:i}),function(){if((ut&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function lT(i,s){return $h(4,2,i,s)}function uT(i,s){return $h(4,4,i,s)}function cT(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function hT(i,s,o){o=o!=null?o.concat([i]):null,$h(4,4,cT.bind(null,s,i),o)}function dp(){}function fT(i,s){var o=zt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&np(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function dT(i,s){var o=zt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&np(s,c[1]))return c[0];if(c=i(),Va){si(!0);try{i()}finally{si(!1)}}return o.memoizedState=[c,s],c}function mp(i,s,o){return o===void 0||(Mr&1073741824)!==0&&(Ze&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=mb(),Ye.lanes|=i,Rs|=i,o)}function mT(i,s,o,c){return Wn(o,s)?o:jo.current!==null?(i=mp(i,o,c),Wn(i,s)||(Wt=!0),i):(Mr&42)===0||(Mr&1073741824)!==0&&(Ze&261930)===0?(Wt=!0,i.memoizedState=o):(i=mb(),Ye.lanes|=i,Rs|=i,s)}function pT(i,s,o,c,m){var g=re.p;re.p=g!==0&&8>g?g:8;var T=Y.T,C={};Y.T=C,yp(i,!1,s,o);try{var L=m(),ne=Y.S;if(ne!==null&&ne(C,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var le=AD(L,c);Su(i,s,le,ti(i))}else Su(i,s,c,ti(i))}catch(he){Su(i,s,{then:function(){},status:"rejected",reason:he},ti())}finally{re.p=g,T!==null&&C.types!==null&&(T.types=C.types),Y.T=T}}function kD(){}function pp(i,s,o,c){if(i.tag!==5)throw Error(r(476));var m=gT(i).queue;pT(i,m,s,J,o===null?kD:function(){return yT(i),o(c)})}function gT(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:J},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function yT(i){var s=gT(i);s.next===null&&(s=i.alternate.memoizedState),Su(i,s.next.queue,{},ti())}function gp(){return pn(Bu)}function vT(){return zt().memoizedState}function _T(){return zt().memoizedState}function MD(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=ti();i=bs(o);var c=Es(s,i,o);c!==null&&(zn(c,s,o),_u(c,s,o)),s={cache:Gm()},i.payload=s;return}s=s.return}}function ND(i,s,o){var c=ti();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yh(i)?bT(s,o):(o=Om(i,s,o,c),o!==null&&(zn(o,i,c),ET(o,s,c)))}function TT(i,s,o){var c=ti();Su(i,s,o,c)}function Su(i,s,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yh(i))bT(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,C=g(T,o);if(m.hasEagerState=!0,m.eagerState=C,Wn(C,T))return Rh(i,s,m,0),_t===null&&Ch(),!1}catch{}if(o=Om(i,s,m,c),o!==null)return zn(o,i,c),ET(o,s,c),!0}return!1}function yp(i,s,o,c){if(c={lane:2,revertLane:Wp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Yh(i)){if(s)throw Error(r(479))}else s=Om(i,o,c,2),s!==null&&zn(s,i,2)}function Yh(i){var s=i.alternate;return i===Ye||s!==null&&s===Ye}function bT(i,s){zo=zh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function ET(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,$l(i,o)}}var Au={readContext:pn,use:qh,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};Au.useEffectEvent=Mt;var wT={readContext:pn,use:qh,useCallback:function(i,s){return kn().memoizedState=[i,s===void 0?null:s],i},useContext:pn,useEffect:aT,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Gh(4194308,4,cT.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Gh(4194308,4,i,s)},useInsertionEffect:function(i,s){Gh(4,2,i,s)},useMemo:function(i,s){var o=kn();s=s===void 0?null:s;var c=i();if(Va){si(!0);try{i()}finally{si(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=kn();if(o!==void 0){var m=o(s);if(Va){si(!0);try{o(s)}finally{si(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=ND.bind(null,Ye,i),[c.memoizedState,i]},useRef:function(i){var s=kn();return i={current:i},s.memoizedState=i},useState:function(i){i=cp(i);var s=i.queue,o=TT.bind(null,Ye,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:dp,useDeferredValue:function(i,s){var o=kn();return mp(o,i,s)},useTransition:function(){var i=cp(!1);return i=pT.bind(null,Ye,i.queue,!0,!1),kn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=Ye,m=kn();if(rt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),_t===null)throw Error(r(349));(Ze&127)!==0||H_(c,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,aT($_.bind(null,c,g,i),[i]),c.flags|=2048,Fo(9,{destroy:void 0},G_.bind(null,c,g,o,s),null),o},useId:function(){var i=kn(),s=_t.identifierPrefix;if(rt){var o=hr,c=cr;o=(c&~(1<<32-Lt(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Bh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=CD++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:gp,useFormState:tT,useActionState:tT,useOptimistic:function(i){var s=kn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=yp.bind(null,Ye,!0,o),o.dispatch=s,[i,s]},useMemoCache:op,useCacheRefresh:function(){return kn().memoizedState=MD.bind(null,Ye)},useEffectEvent:function(i){var s=kn(),o={impl:i};return s.memoizedState=o,function(){if((ut&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},vp={readContext:pn,use:qh,useCallback:fT,useContext:pn,useEffect:fp,useImperativeHandle:hT,useInsertionEffect:lT,useLayoutEffect:uT,useMemo:dT,useReducer:Hh,useRef:sT,useState:function(){return Hh(Nr)},useDebugValue:dp,useDeferredValue:function(i,s){var o=zt();return mT(o,gt.memoizedState,i,s)},useTransition:function(){var i=Hh(Nr)[0],s=zt().memoizedState;return[typeof i=="boolean"?i:wu(i),s]},useSyncExternalStore:q_,useId:vT,useHostTransitionStatus:gp,useFormState:nT,useActionState:nT,useOptimistic:function(i,s){var o=zt();return W_(o,gt,i,s)},useMemoCache:op,useCacheRefresh:_T};vp.useEffectEvent=oT;var ST={readContext:pn,use:qh,useCallback:fT,useContext:pn,useEffect:fp,useImperativeHandle:hT,useInsertionEffect:lT,useLayoutEffect:uT,useMemo:dT,useReducer:up,useRef:sT,useState:function(){return up(Nr)},useDebugValue:dp,useDeferredValue:function(i,s){var o=zt();return gt===null?mp(o,i,s):mT(o,gt.memoizedState,i,s)},useTransition:function(){var i=up(Nr)[0],s=zt().memoizedState;return[typeof i=="boolean"?i:wu(i),s]},useSyncExternalStore:q_,useId:vT,useHostTransitionStatus:gp,useFormState:rT,useActionState:rT,useOptimistic:function(i,s){var o=zt();return gt!==null?W_(o,gt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:op,useCacheRefresh:_T};ST.useEffectEvent=oT;function _p(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Tp={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=ti(),m=bs(c);m.payload=s,o!=null&&(m.callback=o),s=Es(i,m,c),s!==null&&(zn(s,i,c),_u(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=ti(),m=bs(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Es(i,m,c),s!==null&&(zn(s,i,c),_u(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=ti(),c=bs(o);c.tag=2,s!=null&&(c.callback=s),s=Es(i,c,o),s!==null&&(zn(s,i,o),_u(s,i,o))}};function AT(i,s,o,c,m,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):s.prototype&&s.prototype.isPureReactComponent?!hu(o,c)||!hu(m,g):!0}function CT(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&Tp.enqueueReplaceState(s,s.state,null)}function La(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function RT(i){Ah(i)}function xT(i){console.error(i)}function IT(i){Ah(i)}function Kh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function DT(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function bp(i,s,o){return o=bs(o),o.tag=3,o.payload={element:null},o.callback=function(){Kh(i,s)},o}function kT(i){return i=bs(i),i.tag=3,i}function MT(i,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){DT(s,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){DT(s,o,c),typeof m!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function OD(i,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Oo(s,o,m,!0),o=Xn.current,o!==null){switch(o.tag){case 31:case 13:return pi===null?of():o.alternate===null&&Nt===0&&(Nt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Ph?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),$p(i,c,m)),!1;case 22:return o.flags|=65536,c===Ph?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),$p(i,c,m)),!1}throw Error(r(435,o.tag))}return $p(i,c,m),of(),!1}if(rt)return s=Xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==zm&&(i=Error(r(422),{cause:c}),mu(hi(i,o)))):(c!==zm&&(s=Error(r(423),{cause:c}),mu(hi(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=hi(c,o),m=bp(i.stateNode,c,m),Xm(i,m),Nt!==4&&(Nt=2)),!1;var g=Error(r(520),{cause:c});if(g=hi(g,o),Nu===null?Nu=[g]:Nu.push(g),Nt!==4&&(Nt=2),s===null)return!0;c=hi(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=bp(o.stateNode,c,i),Xm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(xs===null||!xs.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=kT(m),MT(m,i,o,c),Xm(o,m),!1}o=o.return}while(o!==null);return!1}var Ep=Error(r(461)),Wt=!1;function gn(i,s,o,c){s.child=i===null?V_(s,null,o,c):Pa(s,i.child,o,c)}function NT(i,s,o,c,m){o=o.render;var g=s.ref;if("ref"in c){var T={};for(var C in c)C!=="ref"&&(T[C]=c[C])}else T=c;return ka(s),c=ip(i,s,o,T,g,m),C=rp(),i!==null&&!Wt?(sp(i,s,m),Or(i,s,m)):(rt&&C&&Um(s),s.flags|=1,gn(i,s,c,m),s.child)}function OT(i,s,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!Pm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,PT(i,s,g,c,m)):(i=Ih(o.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Dp(i,m)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:hu,o(T,c)&&i.ref===s.ref)return Or(i,s,m)}return s.flags|=1,i=xr(g,c),i.ref=s.ref,i.return=s,s.child=i}function PT(i,s,o,c,m){if(i!==null){var g=i.memoizedProps;if(hu(g,c)&&i.ref===s.ref)if(Wt=!1,s.pendingProps=c=g,Dp(i,m))(i.flags&131072)!==0&&(Wt=!0);else return s.lanes=i.lanes,Or(i,s,m)}return wp(i,s,o,c,m)}function VT(i,s,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=s.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,s.child=null;return LT(i,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Nh(s,g!==null?g.cachePool:null),g!==null?j_(s,g):Zm(),z_(s);else return c=s.lanes=536870912,LT(i,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Nh(s,g.cachePool),j_(s,g),Ss(),s.memoizedState=null):(i!==null&&Nh(s,null),Zm(),Ss());return gn(i,s,m,o),s.child}function Cu(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function LT(i,s,o,c,m){var g=Ym();return g=g===null?null:{parent:Yt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&Nh(s,null),Zm(),z_(s),i!==null&&Oo(i,s,c,!0),s.childLanes=m,null}function Wh(i,s){return s=Xh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function UT(i,s,o){return Pa(s,i.child,null,o),i=Wh(s,s.pendingProps),i.flags|=2,Jn(s),s.memoizedState=null,i}function PD(i,s,o){var c=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(rt){if(c.mode==="hidden")return i=Wh(s,c),s.lanes=536870912,Cu(null,i);if(tp(s),(i=Et)?(i=Qb(i,mi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:gs!==null?{id:cr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},o=b_(i),o.return=s,s.child=o,mn=s,Et=null)):i=null,i===null)throw vs(s);return s.lanes=536870912,null}return Wh(s,c)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(tp(s),m)if(s.flags&256)s.flags&=-257,s=UT(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Wt||Oo(i,s,o,!1),m=(o&i.childLanes)!==0,Wt||m){if(c=_t,c!==null&&(T=Yl(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,Ra(i,T),zn(c,i,T),Ep;of(),s=UT(i,s,o)}else i=g.treeContext,Et=gi(T.nextSibling),mn=s,rt=!0,ys=null,mi=!1,i!==null&&S_(s,i),s=Wh(s,c),s.flags|=4096;return s}return i=xr(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Qh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function wp(i,s,o,c,m){return ka(s),o=ip(i,s,o,c,void 0,m),c=rp(),i!==null&&!Wt?(sp(i,s,m),Or(i,s,m)):(rt&&c&&Um(s),s.flags|=1,gn(i,s,o,m),s.child)}function jT(i,s,o,c,m,g){return ka(s),s.updateQueue=null,o=F_(s,c,o,m),B_(i),c=rp(),i!==null&&!Wt?(sp(i,s,g),Or(i,s,g)):(rt&&c&&Um(s),s.flags|=1,gn(i,s,o,g),s.child)}function zT(i,s,o,c,m){if(ka(s),s.stateNode===null){var g=Do,T=o.contextType;typeof T=="object"&&T!==null&&(g=pn(T)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Tp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Wm(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?pn(T):Do,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(_p(s,o,T,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Tp.enqueueReplaceState(g,g.state,null),bu(s,c,g,m),Tu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var C=s.memoizedProps,L=La(o,C);g.props=L;var ne=g.context,le=o.contextType;T=Do,typeof le=="object"&&le!==null&&(T=pn(le));var he=o.getDerivedStateFromProps;le=typeof he=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,le||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||ne!==T)&&CT(s,g,c,T),Ts=!1;var ie=s.memoizedState;g.state=ie,bu(s,c,g,m),Tu(),ne=s.memoizedState,C||ie!==ne||Ts?(typeof he=="function"&&(_p(s,o,he,c),ne=s.memoizedState),(L=Ts||AT(s,o,L,c,ie,ne,T))?(le||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=ne),g.props=c,g.state=ne,g.context=T,c=L):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Qm(i,s),T=s.memoizedProps,le=La(o,T),g.props=le,he=s.pendingProps,ie=g.context,ne=o.contextType,L=Do,typeof ne=="object"&&ne!==null&&(L=pn(ne)),C=o.getDerivedStateFromProps,(ne=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==he||ie!==L)&&CT(s,g,c,L),Ts=!1,ie=s.memoizedState,g.state=ie,bu(s,c,g,m),Tu();var ae=s.memoizedState;T!==he||ie!==ae||Ts||i!==null&&i.dependencies!==null&&kh(i.dependencies)?(typeof C=="function"&&(_p(s,o,C,c),ae=s.memoizedState),(le=Ts||AT(s,o,le,c,ie,ae,L)||i!==null&&i.dependencies!==null&&kh(i.dependencies))?(ne||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ae,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ae,L)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&ie===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&ie===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ae),g.props=c,g.state=ae,g.context=L,c=le):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&ie===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&ie===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,Qh(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=Pa(s,i.child,null,m),s.child=Pa(s,null,o,m)):gn(i,s,o,m),s.memoizedState=g.state,i=s.child):i=Or(i,s,m),i}function BT(i,s,o,c){return Ia(),s.flags|=256,gn(i,s,o,c),s.child}var Sp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ap(i){return{baseLanes:i,cachePool:D_()}}function Cp(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=ei),i}function FT(i,s,o){var c=s.pendingProps,m=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(jt.current&2)!==0),T&&(m=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(rt){if(m?ws(s):Ss(),(i=Et)?(i=Qb(i,mi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:gs!==null?{id:cr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},o=b_(i),o.return=s,s.child=o,mn=s,Et=null)):i=null,i===null)throw vs(s);return lg(i)?s.lanes=32:s.lanes=536870912,null}var C=c.children;return c=c.fallback,m?(Ss(),m=s.mode,C=Xh({mode:"hidden",children:C},m),c=xa(c,m,o,null),C.return=s,c.return=s,C.sibling=c,s.child=C,c=s.child,c.memoizedState=Ap(o),c.childLanes=Cp(i,T,o),s.memoizedState=Sp,Cu(null,c)):(ws(s),Rp(s,C))}var L=i.memoizedState;if(L!==null&&(C=L.dehydrated,C!==null)){if(g)s.flags&256?(ws(s),s.flags&=-257,s=xp(i,s,o)):s.memoizedState!==null?(Ss(),s.child=i.child,s.flags|=128,s=null):(Ss(),C=c.fallback,m=s.mode,c=Xh({mode:"visible",children:c.children},m),C=xa(C,m,o,null),C.flags|=2,c.return=s,C.return=s,c.sibling=C,s.child=c,Pa(s,i.child,null,o),c=s.child,c.memoizedState=Ap(o),c.childLanes=Cp(i,T,o),s.memoizedState=Sp,s=Cu(null,c));else if(ws(s),lg(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var ne=T.dgst;T=ne,c=Error(r(419)),c.stack="",c.digest=T,mu({value:c,source:null,stack:null}),s=xp(i,s,o)}else if(Wt||Oo(i,s,o,!1),T=(o&i.childLanes)!==0,Wt||T){if(T=_t,T!==null&&(c=Yl(T,o),c!==0&&c!==L.retryLane))throw L.retryLane=c,Ra(i,c),zn(T,i,c),Ep;og(C)||of(),s=xp(i,s,o)}else og(C)?(s.flags|=192,s.child=i.child,s=null):(i=L.treeContext,Et=gi(C.nextSibling),mn=s,rt=!0,ys=null,mi=!1,i!==null&&S_(s,i),s=Rp(s,c.children),s.flags|=4096);return s}return m?(Ss(),C=c.fallback,m=s.mode,L=i.child,ne=L.sibling,c=xr(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,ne!==null?C=xr(ne,C):(C=xa(C,m,o,null),C.flags|=2),C.return=s,c.return=s,c.sibling=C,s.child=c,Cu(null,c),c=s.child,C=i.child.memoizedState,C===null?C=Ap(o):(m=C.cachePool,m!==null?(L=Yt._currentValue,m=m.parent!==L?{parent:L,pool:L}:m):m=D_(),C={baseLanes:C.baseLanes|o,cachePool:m}),c.memoizedState=C,c.childLanes=Cp(i,T,o),s.memoizedState=Sp,Cu(i.child,c)):(ws(s),o=i.child,i=o.sibling,o=xr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=o,s.memoizedState=null,o)}function Rp(i,s){return s=Xh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Xh(i,s){return i=Qn(22,i,null,s),i.lanes=0,i}function xp(i,s,o){return Pa(s,i.child,null,o),i=Rp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function qT(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),qm(i.return,s,o)}function Ip(i,s,o,c,m,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=m,T.treeForkCount=g)}function HT(i,s,o){var c=s.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var T=jt.current,C=(T&2)!==0;if(C?(T=T&1|2,s.flags|=128):T&=1,Q(jt,T),gn(i,s,c,o),c=rt?du:0,!C&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&qT(i,o,s);else if(i.tag===19)qT(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&jh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Ip(s,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&jh(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Ip(s,!0,o,null,g,c);break;case"together":Ip(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Or(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Rs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Oo(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=xr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=xr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Dp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&kh(i)))}function VD(i,s,o){switch(s.tag){case 3:me(s,s.stateNode.containerInfo),_s(s,Yt,i.memoizedState.cache),Ia();break;case 27:case 5:Ge(s);break;case 4:me(s,s.stateNode.containerInfo);break;case 10:_s(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,tp(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ws(s),s.flags|=128,null):(o&s.child.childLanes)!==0?FT(i,s,o):(ws(s),i=Or(i,s,o),i!==null?i.sibling:null);ws(s);break;case 19:var m=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Oo(i,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return HT(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Q(jt,jt.current),c)break;return null;case 22:return s.lanes=0,VT(i,s,o,s.pendingProps);case 24:_s(s,Yt,i.memoizedState.cache)}return Or(i,s,o)}function GT(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Wt=!0;else{if(!Dp(i,o)&&(s.flags&128)===0)return Wt=!1,VD(i,s,o);Wt=(i.flags&131072)!==0}else Wt=!1,rt&&(s.flags&1048576)!==0&&w_(s,du,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=Na(s.elementType),s.type=i,typeof i=="function")Pm(i)?(c=La(i,c),s.tag=1,s=zT(null,s,i,c,o)):(s.tag=0,s=wp(null,s,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===fe){s.tag=11,s=NT(null,s,i,c,o);break e}else if(m===S){s.tag=14,s=OT(null,s,i,c,o);break e}}throw s=$(i)||i,Error(r(306,s,""))}}return s;case 0:return wp(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=La(c,s.pendingProps),zT(i,s,c,m,o);case 3:e:{if(me(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;m=g.element,Qm(i,s),bu(s,c,null,o);var T=s.memoizedState;if(c=T.cache,_s(s,Yt,c),c!==g.cache&&Hm(s,[Yt],o,!0),Tu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=BT(i,s,c,o);break e}else if(c!==m){m=hi(Error(r(424)),s),mu(m),s=BT(i,s,c,o);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Et=gi(i.firstChild),mn=s,rt=!0,ys=null,mi=!0,o=V_(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ia(),c===m){s=Or(i,s,o);break e}gn(i,s,c,o)}s=s.child}return s;case 26:return Qh(i,s),i===null?(o=nE(s.type,null,s.pendingProps,null))?s.memoizedState=o:rt||(o=s.type,i=s.pendingProps,c=mf(ge.current).createElement(o),c[Ht]=s,c[on]=i,yn(c,o,i),Gt(c),s.stateNode=c):s.memoizedState=nE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ge(s),i===null&&rt&&(c=s.stateNode=Zb(s.type,s.pendingProps,ge.current),mn=s,mi=!0,m=Et,Ms(s.type)?(ug=m,Et=gi(c.firstChild)):Et=m),gn(i,s,s.pendingProps.children,o),Qh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&rt&&((m=c=Et)&&(c=f2(c,s.type,s.pendingProps,mi),c!==null?(s.stateNode=c,mn=s,Et=gi(c.firstChild),mi=!1,m=!0):m=!1),m||vs(s)),Ge(s),m=s.type,g=s.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,rg(m,g)?c=null:T!==null&&rg(m,T)&&(s.flags|=32),s.memoizedState!==null&&(m=ip(i,s,RD,null,null,o),Bu._currentValue=m),Qh(i,s),gn(i,s,c,o),s.child;case 6:return i===null&&rt&&((i=o=Et)&&(o=d2(o,s.pendingProps,mi),o!==null?(s.stateNode=o,mn=s,Et=null,i=!0):i=!1),i||vs(s)),null;case 13:return FT(i,s,o);case 4:return me(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Pa(s,null,c,o):gn(i,s,c,o),s.child;case 11:return NT(i,s,s.type,s.pendingProps,o);case 7:return gn(i,s,s.pendingProps,o),s.child;case 8:return gn(i,s,s.pendingProps.children,o),s.child;case 12:return gn(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,_s(s,s.type,c.value),gn(i,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,ka(s),m=pn(m),c=c(m),s.flags|=1,gn(i,s,c,o),s.child;case 14:return OT(i,s,s.type,s.pendingProps,o);case 15:return PT(i,s,s.type,s.pendingProps,o);case 19:return HT(i,s,o);case 31:return PD(i,s,o);case 22:return VT(i,s,o,s.pendingProps);case 24:return ka(s),c=pn(Yt),i===null?(m=Ym(),m===null&&(m=_t,g=Gm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:c,cache:m},Wm(s),_s(s,Yt,m)):((i.lanes&o)!==0&&(Qm(i,s),bu(s,null,null,o),Tu()),m=i.memoizedState,g=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),_s(s,Yt,c)):(c=g.cache,_s(s,Yt,c),c!==m.cache&&Hm(s,[Yt],o,!0))),gn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Pr(i){i.flags|=4}function kp(i,s,o,c,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(vb())i.flags|=8192;else throw Oa=Ph,Km}else i.flags&=-16777217}function $T(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!oE(s))if(vb())i.flags|=8192;else throw Oa=Ph,Km}function Jh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?rh():536870912,i.lanes|=s,$o|=s)}function Ru(i,s){if(!rt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function wt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function LD(i,s,o){var c=s.pendingProps;switch(jm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return wt(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),kr(Yt),Ee(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(No(s)?Pr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bm())),wt(s),null;case 26:var m=s.type,g=s.memoizedState;return i===null?(Pr(s),g!==null?(wt(s),$T(s,g)):(wt(s),kp(s,m,null,c,o))):g?g!==i.memoizedState?(Pr(s),wt(s),$T(s,g)):(wt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&Pr(s),wt(s),kp(s,m,i,c,o)),null;case 27:if(Ne(s),o=ge.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Pr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return wt(s),null}i=K.current,No(s)?A_(s):(i=Zb(m,c,o),s.stateNode=i,Pr(s))}return wt(s),null;case 5:if(Ne(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Pr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return wt(s),null}if(g=K.current,No(s))A_(s);else{var T=mf(ge.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(m,{is:c.is}):T.createElement(m)}}g[Ht]=s,g[on]=c;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=g;e:switch(yn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Pr(s)}}return wt(s),kp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Pr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=ge.current,No(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,m=mn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Ht]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Fb(i.nodeValue,o)),i||vs(s,!0)}else i=mf(i).createTextNode(c),i[Ht]=s,s.stateNode=i}return wt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(c=No(s),o!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Ht]=s}else Ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),i=!1}else o=Bm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Jn(s),s):(Jn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return wt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=No(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Ht]=s}else Ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),m=!1}else m=Bm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Jn(s),s):(Jn(s),null)}return Jn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),Jh(s,s.updateQueue),wt(s),null);case 4:return Ee(),i===null&&Zp(s.stateNode.containerInfo),wt(s),null;case 10:return kr(s.type),wt(s),null;case 19:if(oe(jt),c=s.memoizedState,c===null)return wt(s),null;if(m=(s.flags&128)!==0,g=c.rendering,g===null)if(m)Ru(c,!1);else{if(Nt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=jh(i),g!==null){for(s.flags|=128,Ru(c,!1),i=g.updateQueue,s.updateQueue=i,Jh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)T_(o,i),o=o.sibling;return Q(jt,jt.current&1|2),rt&&Ir(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&In()>rf&&(s.flags|=128,m=!0,Ru(c,!1),s.lanes=4194304)}else{if(!m)if(i=jh(g),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,Jh(s,i),Ru(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!rt)return wt(s),null}else 2*In()-c.renderingStartTime>rf&&o!==536870912&&(s.flags|=128,m=!0,Ru(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(i=c.last,i!==null?i.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=In(),i.sibling=null,o=jt.current,Q(jt,m?o&1|2:o&1),rt&&Ir(s,c.treeForkCount),i):(wt(s),null);case 22:case 23:return Jn(s),ep(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),o=s.updateQueue,o!==null&&Jh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&oe(Ma),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),kr(Yt),wt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function UD(i,s){switch(jm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return kr(Yt),Ee(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ne(s),null;case 31:if(s.memoizedState!==null){if(Jn(s),s.alternate===null)throw Error(r(340));Ia()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Jn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ia()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return oe(jt),null;case 4:return Ee(),null;case 10:return kr(s.type),null;case 22:case 23:return Jn(s),ep(),i!==null&&oe(Ma),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return kr(Yt),null;case 25:return null;default:return null}}function YT(i,s){switch(jm(s),s.tag){case 3:kr(Yt),Ee();break;case 26:case 27:case 5:Ne(s);break;case 4:Ee();break;case 31:s.memoizedState!==null&&Jn(s);break;case 13:Jn(s);break;case 19:oe(jt);break;case 10:kr(s.type);break;case 22:case 23:Jn(s),ep(),i!==null&&oe(Ma);break;case 24:kr(Yt)}}function xu(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==m)}}catch(C){dt(s,s.return,C)}}function As(i,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var T=c.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,m=s;var L=o,ne=C;try{ne()}catch(le){dt(m,L,le)}}}c=c.next}while(c!==g)}}catch(le){dt(s,s.return,le)}}function KT(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{U_(s,o)}catch(c){dt(i,i.return,c)}}}function WT(i,s,o){o.props=La(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){dt(i,s,c)}}function Iu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){dt(i,s,m)}}function fr(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){dt(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){dt(i,s,m)}else o.current=null}function QT(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){dt(i,i.return,m)}}function Mp(i,s,o){try{var c=i.stateNode;a2(c,i.type,o,s),c[on]=s}catch(m){dt(i,i.return,m)}}function XT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ms(i.type)||i.tag===4}function Np(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||XT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ms(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Op(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ii));else if(c!==4&&(c===27&&Ms(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Op(i,s,o),i=i.sibling;i!==null;)Op(i,s,o),i=i.sibling}function Zh(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&Ms(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Zh(i,s,o),i=i.sibling;i!==null;)Zh(i,s,o),i=i.sibling}function JT(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);yn(s,c,o),s[Ht]=i,s[on]=o}catch(g){dt(i,i.return,g)}}var Vr=!1,Qt=!1,Pp=!1,ZT=typeof WeakSet=="function"?WeakSet:Set,un=null;function jD(i,s){if(i=i.containerInfo,ng=bf,i=h_(i),xm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,C=-1,L=-1,ne=0,le=0,he=i,ie=null;t:for(;;){for(var ae;he!==o||m!==0&&he.nodeType!==3||(C=T+m),he!==g||c!==0&&he.nodeType!==3||(L=T+c),he.nodeType===3&&(T+=he.nodeValue.length),(ae=he.firstChild)!==null;)ie=he,he=ae;for(;;){if(he===i)break t;if(ie===o&&++ne===m&&(C=T),ie===g&&++le===c&&(L=T),(ae=he.nextSibling)!==null)break;he=ie,ie=he.parentNode}he=ae}o=C===-1||L===-1?null:{start:C,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(ig={focusedElem:i,selectionRange:o},bf=!1,un=s;un!==null;)if(s=un,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,un=i;else for(;un!==null;){switch(s=un,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Ce=La(o.type,m);i=c.getSnapshotBeforeUpdate(Ce,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Le){dt(o,o.return,Le)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)ag(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ag(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,un=i;break}un=s.return}}function eb(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ur(i,o),c&4&&xu(5,o);break;case 1:if(Ur(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(T){dt(o,o.return,T)}else{var m=La(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){dt(o,o.return,T)}}c&64&&KT(o),c&512&&Iu(o,o.return);break;case 3:if(Ur(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{U_(i,s)}catch(T){dt(o,o.return,T)}}break;case 27:s===null&&c&4&&JT(o);case 26:case 5:Ur(i,o),s===null&&c&4&&QT(o),c&512&&Iu(o,o.return);break;case 12:Ur(i,o);break;case 31:Ur(i,o),c&4&&ib(i,o);break;case 13:Ur(i,o),c&4&&rb(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=KD.bind(null,o),m2(i,o))));break;case 22:if(c=o.memoizedState!==null||Vr,!c){s=s!==null&&s.memoizedState!==null||Qt,m=Vr;var g=Qt;Vr=c,(Qt=s)&&!g?jr(i,o,(o.subtreeFlags&8772)!==0):Ur(i,o),Vr=m,Qt=g}break;case 30:break;default:Ur(i,o)}}function tb(i){var s=i.alternate;s!==null&&(i.alternate=null,tb(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&go(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Rt=null,Vn=!1;function Lr(i,s,o){for(o=o.child;o!==null;)nb(i,s,o),o=o.sibling}function nb(i,s,o){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Ai,o)}catch{}switch(o.tag){case 26:Qt||fr(o,s),Lr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Qt||fr(o,s);var c=Rt,m=Vn;Ms(o.type)&&(Rt=o.stateNode,Vn=!1),Lr(i,s,o),Uu(o.stateNode),Rt=c,Vn=m;break;case 5:Qt||fr(o,s);case 6:if(c=Rt,m=Vn,Rt=null,Lr(i,s,o),Rt=c,Vn=m,Rt!==null)if(Vn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(o.stateNode)}catch(g){dt(o,s,g)}else try{Rt.removeChild(o.stateNode)}catch(g){dt(o,s,g)}break;case 18:Rt!==null&&(Vn?(i=Rt,Kb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),el(i)):Kb(Rt,o.stateNode));break;case 4:c=Rt,m=Vn,Rt=o.stateNode.containerInfo,Vn=!0,Lr(i,s,o),Rt=c,Vn=m;break;case 0:case 11:case 14:case 15:As(2,o,s),Qt||As(4,o,s),Lr(i,s,o);break;case 1:Qt||(fr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&WT(o,s,c)),Lr(i,s,o);break;case 21:Lr(i,s,o);break;case 22:Qt=(c=Qt)||o.memoizedState!==null,Lr(i,s,o),Qt=c;break;default:Lr(i,s,o)}}function ib(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{el(i)}catch(o){dt(s,s.return,o)}}}function rb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{el(i)}catch(o){dt(s,s.return,o)}}function zD(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new ZT),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new ZT),s;default:throw Error(r(435,i.tag))}}function ef(i,s){var o=zD(i);s.forEach(function(c){if(!o.has(c)){o.add(c);var m=WD.bind(null,i,c);c.then(m,m)}})}function Ln(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,T=s,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Ms(C.type)){Rt=C.stateNode,Vn=!1;break e}break;case 5:Rt=C.stateNode,Vn=!1;break e;case 3:case 4:Rt=C.stateNode.containerInfo,Vn=!0;break e}C=C.return}if(Rt===null)throw Error(r(160));nb(g,T,m),Rt=null,Vn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)sb(s,i),s=s.sibling}var Pi=null;function sb(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ln(s,i),Un(i),c&4&&(As(3,i,i.return),xu(3,i),As(5,i,i.return));break;case 1:Ln(s,i),Un(i),c&512&&(Qt||o===null||fr(o,o.return)),c&64&&Vr&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Pi;if(Ln(s,i),Un(i),c&512&&(Qt||o===null||fr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Ji]||g[Ht]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),yn(g,c,o),g[Ht]=i,Gt(g),c=g;break e;case"link":var T=sE("link","href",m).get(c+(o.href||""));if(T){for(var C=0;C<T.length;C++)if(g=T[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(C,1);break t}}g=m.createElement(c),yn(g,c,o),m.head.appendChild(g);break;case"meta":if(T=sE("meta","content",m).get(c+(o.content||""))){for(C=0;C<T.length;C++)if(g=T[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(C,1);break t}}g=m.createElement(c),yn(g,c,o),m.head.appendChild(g);break;default:throw Error(r(468,c))}g[Ht]=i,Gt(g),c=g}i.stateNode=c}else aE(m,i.type,i.stateNode);else i.stateNode=rE(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?aE(m,i.type,i.stateNode):rE(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Mp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Ln(s,i),Un(i),c&512&&(Qt||o===null||fr(o,o.return)),o!==null&&c&4&&Mp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Ln(s,i),Un(i),c&512&&(Qt||o===null||fr(o,o.return)),i.flags&32){m=i.stateNode;try{Pn(m,"")}catch(Ce){dt(i,i.return,Ce)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Mp(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Pp=!0);break;case 6:if(Ln(s,i),Un(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Ce){dt(i,i.return,Ce)}}break;case 3:if(yf=null,m=Pi,Pi=pf(s.containerInfo),Ln(s,i),Pi=m,Un(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{el(s.containerInfo)}catch(Ce){dt(i,i.return,Ce)}Pp&&(Pp=!1,ab(i));break;case 4:c=Pi,Pi=pf(i.stateNode.containerInfo),Ln(s,i),Un(i),Pi=c;break;case 12:Ln(s,i),Un(i);break;case 31:Ln(s,i),Un(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,ef(i,c)));break;case 13:Ln(s,i),Un(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(nf=In()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,ef(i,c)));break;case 22:m=i.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,ne=Vr,le=Qt;if(Vr=ne||m,Qt=le||L,Ln(s,i),Qt=le,Vr=ne,Un(i),c&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||L||Vr||Qt||Ua(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){L=o=s;try{if(g=L.stateNode,m)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=L.stateNode;var he=L.memoizedProps.style,ie=he!=null&&he.hasOwnProperty("display")?he.display:null;C.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Ce){dt(L,L.return,Ce)}}}else if(s.tag===6){if(o===null){L=s;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(Ce){dt(L,L.return,Ce)}}}else if(s.tag===18){if(o===null){L=s;try{var ae=L.stateNode;m?Wb(ae,!0):Wb(L.stateNode,!1)}catch(Ce){dt(L,L.return,Ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,ef(i,o))));break;case 19:Ln(s,i),Un(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,ef(i,c)));break;case 30:break;case 21:break;default:Ln(s,i),Un(i)}}function Un(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(XT(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,g=Np(i);Zh(i,g,m);break;case 5:var T=o.stateNode;o.flags&32&&(Pn(T,""),o.flags&=-33);var C=Np(i);Zh(i,C,T);break;case 3:case 4:var L=o.stateNode.containerInfo,ne=Np(i);Op(i,ne,L);break;default:throw Error(r(161))}}catch(le){dt(i,i.return,le)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ab(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;ab(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ur(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)eb(i,s.alternate,s),s=s.sibling}function Ua(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:As(4,s,s.return),Ua(s);break;case 1:fr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&WT(s,s.return,o),Ua(s);break;case 27:Uu(s.stateNode);case 26:case 5:fr(s,s.return),Ua(s);break;case 22:s.memoizedState===null&&Ua(s);break;case 30:Ua(s);break;default:Ua(s)}i=i.sibling}}function jr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:jr(m,g,o),xu(4,g);break;case 1:if(jr(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ne){dt(c,c.return,ne)}if(c=g,m=c.updateQueue,m!==null){var C=c.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)L_(L[m],C)}catch(ne){dt(c,c.return,ne)}}o&&T&64&&KT(g),Iu(g,g.return);break;case 27:JT(g);case 26:case 5:jr(m,g,o),o&&c===null&&T&4&&QT(g),Iu(g,g.return);break;case 12:jr(m,g,o);break;case 31:jr(m,g,o),o&&T&4&&ib(m,g);break;case 13:jr(m,g,o),o&&T&4&&rb(m,g);break;case 22:g.memoizedState===null&&jr(m,g,o),Iu(g,g.return);break;case 30:break;default:jr(m,g,o)}s=s.sibling}}function Vp(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&pu(o))}function Lp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&pu(i))}function Vi(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ob(i,s,o,c),s=s.sibling}function ob(i,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Vi(i,s,o,c),m&2048&&xu(9,s);break;case 1:Vi(i,s,o,c);break;case 3:Vi(i,s,o,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&pu(i)));break;case 12:if(m&2048){Vi(i,s,o,c),i=s.stateNode;try{var g=s.memoizedProps,T=g.id,C=g.onPostCommit;typeof C=="function"&&C(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){dt(s,s.return,L)}}else Vi(i,s,o,c);break;case 31:Vi(i,s,o,c);break;case 13:Vi(i,s,o,c);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Vi(i,s,o,c):Du(i,s):g._visibility&2?Vi(i,s,o,c):(g._visibility|=2,qo(i,s,o,c,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Vp(T,s);break;case 24:Vi(i,s,o,c),m&2048&&Lp(s.alternate,s);break;default:Vi(i,s,o,c)}}function qo(i,s,o,c,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,T=s,C=o,L=c,ne=T.flags;switch(T.tag){case 0:case 11:case 15:qo(g,T,C,L,m),xu(8,T);break;case 23:break;case 22:var le=T.stateNode;T.memoizedState!==null?le._visibility&2?qo(g,T,C,L,m):Du(g,T):(le._visibility|=2,qo(g,T,C,L,m)),m&&ne&2048&&Vp(T.alternate,T);break;case 24:qo(g,T,C,L,m),m&&ne&2048&&Lp(T.alternate,T);break;default:qo(g,T,C,L,m)}s=s.sibling}}function Du(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,m=c.flags;switch(c.tag){case 22:Du(o,c),m&2048&&Vp(c.alternate,c);break;case 24:Du(o,c),m&2048&&Lp(c.alternate,c);break;default:Du(o,c)}s=s.sibling}}var ku=8192;function Ho(i,s,o){if(i.subtreeFlags&ku)for(i=i.child;i!==null;)lb(i,s,o),i=i.sibling}function lb(i,s,o){switch(i.tag){case 26:Ho(i,s,o),i.flags&ku&&i.memoizedState!==null&&C2(o,Pi,i.memoizedState,i.memoizedProps);break;case 5:Ho(i,s,o);break;case 3:case 4:var c=Pi;Pi=pf(i.stateNode.containerInfo),Ho(i,s,o),Pi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=ku,ku=16777216,Ho(i,s,o),ku=c):Ho(i,s,o));break;default:Ho(i,s,o)}}function ub(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Mu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];un=c,hb(c,i)}ub(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cb(i),i=i.sibling}function cb(i){switch(i.tag){case 0:case 11:case 15:Mu(i),i.flags&2048&&As(9,i,i.return);break;case 3:Mu(i);break;case 12:Mu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,tf(i)):Mu(i);break;default:Mu(i)}}function tf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];un=c,hb(c,i)}ub(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:As(8,s,s.return),tf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,tf(s));break;default:tf(s)}i=i.sibling}}function hb(i,s){for(;un!==null;){var o=un;switch(o.tag){case 0:case 11:case 15:As(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:pu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,un=c;else e:for(o=i;un!==null;){c=un;var m=c.sibling,g=c.return;if(tb(c),c===o){un=null;break e}if(m!==null){m.return=g,un=m;break e}un=g}}}var BD={getCacheForType:function(i){var s=pn(Yt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return pn(Yt).controller.signal}},FD=typeof WeakMap=="function"?WeakMap:Map,ut=0,_t=null,Qe=null,Ze=0,ft=0,Zn=null,Cs=!1,Go=!1,Up=!1,zr=0,Nt=0,Rs=0,ja=0,jp=0,ei=0,$o=0,Nu=null,jn=null,zp=!1,nf=0,fb=0,rf=1/0,sf=null,xs=null,nn=0,Is=null,Yo=null,Br=0,Bp=0,Fp=null,db=null,Ou=0,qp=null;function ti(){return(ut&2)!==0&&Ze!==0?Ze&-Ze:Y.T!==null?Wp():sh()}function mb(){if(ei===0)if((Ze&536870912)===0||rt){var i=fa;fa<<=1,(fa&3932160)===0&&(fa=262144),ei=i}else ei=536870912;return i=Xn.current,i!==null&&(i.flags|=32),ei}function zn(i,s,o){(i===_t&&(ft===2||ft===9)||i.cancelPendingCommit!==null)&&(Ko(i,0),Ds(i,Ze,ei,!1)),da(i,o),((ut&2)===0||i!==_t)&&(i===_t&&((ut&2)===0&&(ja|=o),Nt===4&&Ds(i,Ze,ei,!1)),dr(i))}function pb(i,s,o){if((ut&6)!==0)throw Error(r(327));var c=!o&&(s&127)===0&&(s&i.expiredLanes)===0||Ci(i,s),m=c?GD(i,s):Gp(i,s,!0),g=c;do{if(m===0){Go&&!c&&Ds(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!qD(o)){m=Gp(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var C=i;m=Nu;var L=C.current.memoizedState.isDehydrated;if(L&&(Ko(C,T).flags|=256),T=Gp(C,T,!1),T!==2){if(Up&&!L){C.errorRecoveryDisabledLanes|=g,ja|=g,m=4;break e}g=jn,jn=m,g!==null&&(jn===null?jn=g:jn.push.apply(jn,g))}m=T}if(g=!1,m!==2)continue}}if(m===1){Ko(i,0),Ds(i,s,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ds(c,s,ei,!Cs);break e;case 2:jn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=nf+300-In(),10<m)){if(Ds(c,s,ei,!Cs),Wi(c,0,!0)!==0)break e;Br=s,c.timeoutHandle=$b(gb.bind(null,c,o,jn,sf,zp,s,ei,ja,$o,Cs,g,"Throttled",-0,0),m);break e}gb(c,o,jn,sf,zp,s,ei,ja,$o,Cs,g,null,-0,0)}}break}while(!0);dr(i)}function gb(i,s,o,c,m,g,T,C,L,ne,le,he,ie,ae){if(i.timeoutHandle=-1,he=s.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ii},lb(s,g,he);var Ce=(g&62914560)===g?nf-In():(g&4194048)===g?fb-In():0;if(Ce=R2(he,Ce),Ce!==null){Br=g,i.cancelPendingCommit=Ce(Sb.bind(null,i,s,g,o,c,m,T,C,L,le,he,null,ie,ae)),Ds(i,g,T,!ne);return}}Sb(i,s,g,o,c,m,T,C,L)}function qD(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Wn(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ds(i,s,o,c){s&=~jp,s&=~ja,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var g=31-Lt(m),T=1<<g;c[g]=-1,m&=~T}o!==0&&ma(i,o,s)}function af(){return(ut&6)===0?(Pu(0),!1):!0}function Hp(){if(Qe!==null){if(ft===0)var i=Qe.return;else i=Qe,Dr=Da=null,ap(i),Uo=null,yu=0,i=Qe;for(;i!==null;)YT(i.alternate,i),i=i.return;Qe=null}}function Ko(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,u2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Br=0,Hp(),_t=i,Qe=o=xr(i.current,null),Ze=s,ft=0,Zn=null,Cs=!1,Go=Ci(i,s),Up=!1,$o=ei=jp=ja=Rs=Nt=0,jn=Nu=null,zp=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-Lt(c),g=1<<m;s|=i[m],c&=~g}return zr=s,Ch(),o}function yb(i,s){Ye=null,Y.H=Au,s===Lo||s===Oh?(s=N_(),ft=3):s===Km?(s=N_(),ft=4):ft=s===Ep?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Zn=s,Qe===null&&(Nt=1,Kh(i,hi(s,i.current)))}function vb(){var i=Xn.current;return i===null?!0:(Ze&4194048)===Ze?pi===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?i===pi:!1}function _b(){var i=Y.H;return Y.H=Au,i===null?Au:i}function Tb(){var i=Y.A;return Y.A=BD,i}function of(){Nt=4,Cs||(Ze&4194048)!==Ze&&Xn.current!==null||(Go=!0),(Rs&134217727)===0&&(ja&134217727)===0||_t===null||Ds(_t,Ze,ei,!1)}function Gp(i,s,o){var c=ut;ut|=2;var m=_b(),g=Tb();(_t!==i||Ze!==s)&&(sf=null,Ko(i,s)),s=!1;var T=Nt;e:do try{if(ft!==0&&Qe!==null){var C=Qe,L=Zn;switch(ft){case 8:Hp(),T=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(s=!0);var ne=ft;if(ft=0,Zn=null,Wo(i,C,L,ne),o&&Go){T=0;break e}break;default:ne=ft,ft=0,Zn=null,Wo(i,C,L,ne)}}HD(),T=Nt;break}catch(le){yb(i,le)}while(!0);return s&&i.shellSuspendCounter++,Dr=Da=null,ut=c,Y.H=m,Y.A=g,Qe===null&&(_t=null,Ze=0,Ch()),T}function HD(){for(;Qe!==null;)bb(Qe)}function GD(i,s){var o=ut;ut|=2;var c=_b(),m=Tb();_t!==i||Ze!==s?(sf=null,rf=In()+500,Ko(i,s)):Go=Ci(i,s);e:do try{if(ft!==0&&Qe!==null){s=Qe;var g=Zn;t:switch(ft){case 1:ft=0,Zn=null,Wo(i,s,g,1);break;case 2:case 9:if(k_(g)){ft=0,Zn=null,Eb(s);break}s=function(){ft!==2&&ft!==9||_t!==i||(ft=7),dr(i)},g.then(s,s);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:k_(g)?(ft=0,Zn=null,Eb(s)):(ft=0,Zn=null,Wo(i,s,g,7));break;case 5:var T=null;switch(Qe.tag){case 26:T=Qe.memoizedState;case 5:case 27:var C=Qe;if(T?oE(T):C.stateNode.complete){ft=0,Zn=null;var L=C.sibling;if(L!==null)Qe=L;else{var ne=C.return;ne!==null?(Qe=ne,lf(ne)):Qe=null}break t}}ft=0,Zn=null,Wo(i,s,g,5);break;case 6:ft=0,Zn=null,Wo(i,s,g,6);break;case 8:Hp(),Nt=6;break e;default:throw Error(r(462))}}$D();break}catch(le){yb(i,le)}while(!0);return Dr=Da=null,Y.H=c,Y.A=m,ut=o,Qe!==null?0:(_t=null,Ze=0,Ch(),Nt)}function $D(){for(;Qe!==null&&!bm();)bb(Qe)}function bb(i){var s=GT(i.alternate,i,zr);i.memoizedProps=i.pendingProps,s===null?lf(i):Qe=s}function Eb(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=jT(o,s,s.pendingProps,s.type,void 0,Ze);break;case 11:s=jT(o,s,s.pendingProps,s.type.render,s.ref,Ze);break;case 5:ap(s);default:YT(o,s),s=Qe=T_(s,zr),s=GT(o,s,zr)}i.memoizedProps=i.pendingProps,s===null?lf(i):Qe=s}function Wo(i,s,o,c){Dr=Da=null,ap(s),Uo=null,yu=0;var m=s.return;try{if(OD(i,m,s,o,Ze)){Nt=1,Kh(i,hi(o,i.current)),Qe=null;return}}catch(g){if(m!==null)throw Qe=m,g;Nt=1,Kh(i,hi(o,i.current)),Qe=null;return}s.flags&32768?(rt||c===1?i=!0:Go||(Ze&536870912)!==0?i=!1:(Cs=i=!0,(c===2||c===9||c===3||c===6)&&(c=Xn.current,c!==null&&c.tag===13&&(c.flags|=16384))),wb(s,i)):lf(s)}function lf(i){var s=i;do{if((s.flags&32768)!==0){wb(s,Cs);return}i=s.return;var o=LD(s.alternate,s,zr);if(o!==null){Qe=o;return}if(s=s.sibling,s!==null){Qe=s;return}Qe=s=i}while(s!==null);Nt===0&&(Nt=5)}function wb(i,s){do{var o=UD(i.alternate,i);if(o!==null){o.flags&=32767,Qe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Qe=i;return}Qe=i=o}while(i!==null);Nt=6,Qe=null}function Sb(i,s,o,c,m,g,T,C,L){i.cancelPendingCommit=null;do uf();while(nn!==0);if((ut&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Nm,Sm(i,o,g,T,C,L),i===_t&&(Qe=_t=null,Ze=0),Yo=s,Is=i,Br=o,Bp=g,Fp=m,db=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,QD(as,function(){return Ib(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,m=re.p,re.p=2,T=ut,ut|=4;try{jD(i,s,o)}finally{ut=T,re.p=m,Y.T=c}}nn=1,Ab(),Cb(),Rb()}}function Ab(){if(nn===1){nn=0;var i=Is,s=Yo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var c=re.p;re.p=2;var m=ut;ut|=4;try{sb(s,i);var g=ig,T=h_(i.containerInfo),C=g.focusedElem,L=g.selectionRange;if(T!==C&&C&&C.ownerDocument&&c_(C.ownerDocument.documentElement,C)){if(L!==null&&xm(C)){var ne=L.start,le=L.end;if(le===void 0&&(le=ne),"selectionStart"in C)C.selectionStart=ne,C.selectionEnd=Math.min(le,C.value.length);else{var he=C.ownerDocument||document,ie=he&&he.defaultView||window;if(ie.getSelection){var ae=ie.getSelection(),Ce=C.textContent.length,Le=Math.min(L.start,Ce),vt=L.end===void 0?Le:Math.min(L.end,Ce);!ae.extend&&Le>vt&&(T=vt,vt=Le,Le=T);var W=u_(C,Le),H=u_(C,vt);if(W&&H&&(ae.rangeCount!==1||ae.anchorNode!==W.node||ae.anchorOffset!==W.offset||ae.focusNode!==H.node||ae.focusOffset!==H.offset)){var te=he.createRange();te.setStart(W.node,W.offset),ae.removeAllRanges(),Le>vt?(ae.addRange(te),ae.extend(H.node,H.offset)):(te.setEnd(H.node,H.offset),ae.addRange(te))}}}}for(he=[],ae=C;ae=ae.parentNode;)ae.nodeType===1&&he.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<he.length;C++){var ue=he[C];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}bf=!!ng,ig=ng=null}finally{ut=m,re.p=c,Y.T=o}}i.current=s,nn=2}}function Cb(){if(nn===2){nn=0;var i=Is,s=Yo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var c=re.p;re.p=2;var m=ut;ut|=4;try{eb(i,s.alternate,s)}finally{ut=m,re.p=c,Y.T=o}}nn=3}}function Rb(){if(nn===4||nn===3){nn=0,Jc();var i=Is,s=Yo,o=Br,c=db;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?nn=5:(nn=0,Yo=Is=null,xb(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(xs=null),Sr(o),s=s.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Ai,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Y.T,m=re.p,re.p=2,Y.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var C=c[T];g(C.value,{componentStack:C.stack})}}finally{Y.T=s,re.p=m}}(Br&3)!==0&&uf(),dr(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===qp?Ou++:(Ou=0,qp=i):Ou=0,Pu(0)}}function xb(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,pu(s)))}function uf(){return Ab(),Cb(),Rb(),Ib()}function Ib(){if(nn!==5)return!1;var i=Is,s=Bp;Bp=0;var o=Sr(Br),c=Y.T,m=re.p;try{re.p=32>o?32:o,Y.T=null,o=Fp,Fp=null;var g=Is,T=Br;if(nn=0,Yo=Is=null,Br=0,(ut&6)!==0)throw Error(r(331));var C=ut;if(ut|=4,cb(g.current),ob(g,g.current,T,o),ut=C,Pu(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Ai,g)}catch{}return!0}finally{re.p=m,Y.T=c,xb(i,s)}}function Db(i,s,o){s=hi(o,s),s=bp(i.stateNode,s,2),i=Es(i,s,2),i!==null&&(da(i,2),dr(i))}function dt(i,s,o){if(i.tag===3)Db(i,i,o);else for(;s!==null;){if(s.tag===3){Db(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(xs===null||!xs.has(c))){i=hi(o,i),o=kT(2),c=Es(s,o,2),c!==null&&(MT(o,c,s,i),da(c,2),dr(c));break}}s=s.return}}function $p(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new FD;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(Up=!0,m.add(o),i=YD.bind(null,i,s,o),s.then(i,i))}function YD(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,_t===i&&(Ze&o)===o&&(Nt===4||Nt===3&&(Ze&62914560)===Ze&&300>In()-nf?(ut&2)===0&&Ko(i,0):jp|=o,$o===Ze&&($o=0)),dr(i)}function kb(i,s){s===0&&(s=rh()),i=Ra(i,s),i!==null&&(da(i,s),dr(i))}function KD(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),kb(i,o)}function WD(i,s){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),kb(i,o)}function QD(i,s){return He(i,s)}var cf=null,Qo=null,Yp=!1,hf=!1,Kp=!1,ks=0;function dr(i){i!==Qo&&i.next===null&&(Qo===null?cf=Qo=i:Qo=Qo.next=i),hf=!0,Yp||(Yp=!0,JD())}function Pu(i,s){if(!Kp&&hf){Kp=!0;do for(var o=!1,c=cf;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var T=c.suspendedLanes,C=c.pingedLanes;g=(1<<31-Lt(42|i)+1)-1,g&=m&~(T&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Pb(c,g))}else g=Ze,g=Wi(c,c===_t?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ci(c,g)||(o=!0,Pb(c,g));c=c.next}while(o);Kp=!1}}function XD(){Mb()}function Mb(){hf=Yp=!1;var i=0;ks!==0&&l2()&&(i=ks);for(var s=In(),o=null,c=cf;c!==null;){var m=c.next,g=Nb(c,s);g===0?(c.next=null,o===null?cf=m:o.next=m,m===null&&(Qo=o)):(o=c,(i!==0||(g&3)!==0)&&(hf=!0)),c=m}nn!==0&&nn!==5||Pu(i),ks!==0&&(ks=0)}function Nb(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-Lt(g),C=1<<T,L=m[T];L===-1?((C&o)===0||(C&c)!==0)&&(m[T]=wm(C,s)):L<=s&&(i.expiredLanes|=C),g&=~C}if(s=_t,o=Ze,o=Wi(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(ft===2||ft===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&$i(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ci(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&$i(c),Sr(o)){case 2:case 8:o=Gl;break;case 32:o=as;break;case 268435456:o=Zc;break;default:o=as}return c=Ob.bind(null,i),o=He(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&$i(c),i.callbackPriority=2,i.callbackNode=null,2}function Ob(i,s){if(nn!==0&&nn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(uf()&&i.callbackNode!==o)return null;var c=Ze;return c=Wi(i,i===_t?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(pb(i,c,s),Nb(i,In()),i.callbackNode!=null&&i.callbackNode===o?Ob.bind(null,i):null)}function Pb(i,s){if(uf())return null;pb(i,s,!0)}function JD(){c2(function(){(ut&6)!==0?He(Hl,XD):Mb()})}function Wp(){if(ks===0){var i=Po;i===0&&(i=Yi,Yi<<=1,(Yi&261888)===0&&(Yi=256)),ks=i}return ks}function Vb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:To(""+i)}function Lb(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function ZD(i,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var g=Vb((m[on]||null).action),T=c.submitter;T&&(s=(s=T[on]||null)?Vb(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var C=new ar("action","action",null,c,m);i.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ks!==0){var L=T?Lb(m,T):new FormData(m);pp(o,{pending:!0,data:L,method:m.method,action:g},null,L)}}else typeof g=="function"&&(C.preventDefault(),L=T?Lb(m,T):new FormData(m),pp(o,{pending:!0,data:L,method:m.method,action:g},g,L))},currentTarget:m}]})}}for(var Qp=0;Qp<Mm.length;Qp++){var Xp=Mm[Qp],e2=Xp.toLowerCase(),t2=Xp[0].toUpperCase()+Xp.slice(1);Oi(e2,"on"+t2)}Oi(m_,"onAnimationEnd"),Oi(p_,"onAnimationIteration"),Oi(g_,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(yD,"onTransitionRun"),Oi(vD,"onTransitionStart"),Oi(_D,"onTransitionCancel"),Oi(y_,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function Ub(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var T=c.length-1;0<=T;T--){var C=c[T],L=C.instance,ne=C.currentTarget;if(C=C.listener,L!==g&&m.isPropagationStopped())break e;g=C,m.currentTarget=ne;try{g(m)}catch(le){Ah(le)}m.currentTarget=null,g=L}else for(T=0;T<c.length;T++){if(C=c[T],L=C.instance,ne=C.currentTarget,C=C.listener,L!==g&&m.isPropagationStopped())break e;g=C,m.currentTarget=ne;try{g(m)}catch(le){Ah(le)}m.currentTarget=null,g=L}}}}function Xe(i,s){var o=s[po];o===void 0&&(o=s[po]=new Set);var c=i+"__bubble";o.has(c)||(jb(s,i,2,!1),o.add(c))}function Jp(i,s,o){var c=0;s&&(c|=4),jb(o,i,c,s)}var ff="_reactListening"+Math.random().toString(36).slice(2);function Zp(i){if(!i[ff]){i[ff]=!0,Kl.forEach(function(o){o!=="selectionchange"&&(n2.has(o)||Jp(o,!1,i),Jp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[ff]||(s[ff]=!0,Jp("selectionchange",!1,s))}}function jb(i,s,o,c){switch(mE(s)){case 2:var m=D2;break;case 8:m=k2;break;default:m=mg}o=m.bind(null,s,o,i),m=void 0,!_a||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function eg(i,s,o,c,m){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var C=c.stateNode.containerInfo;if(C===m)break;if(T===4)for(T=c.return;T!==null;){var L=T.tag;if((L===3||L===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;C!==null;){if(T=Zi(C),T===null)return;if(L=T.tag,L===5||L===6||L===26||L===27){c=g=T;continue e}C=C.parentNode}}c=c.return}fs(function(){var ne=g,le=oi(o),he=[];e:{var ie=v_.get(i);if(ie!==void 0){var ae=ar,Ce=i;switch(i){case"keypress":if(ba(o)===0)break e;case"keydown":case"keyup":ae=Eh;break;case"focusin":Ce="focus",ae=wa;break;case"focusout":Ce="blur",ae=wa;break;case"beforeblur":case"afterblur":ae=wa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=_;break;case m_:case p_:case g_:ae=ph;break;case y_:ae=D;break;case"scroll":case"scrollend":ae=au;break;case"wheel":ae=se;break;case"copy":case"cut":case"paste":ae=gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Rr;break;case"toggle":case"beforetoggle":ae=$e}var Le=(s&4)!==0,vt=!Le&&(i==="scroll"||i==="scrollend"),W=Le?ie!==null?ie+"Capture":null:ie;Le=[];for(var H=ne,te;H!==null;){var ue=H;if(te=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||te===null||W===null||(ue=Di(H,W),ue!=null&&Le.push(Lu(H,ue,te))),vt)break;H=H.return}0<Le.length&&(ie=new ae(ie,Ce,null,o,le),he.push({event:ie,listeners:Le}))}}if((s&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",ae=i==="mouseout"||i==="pointerout",ie&&o!==iu&&(Ce=o.relatedTarget||o.fromElement)&&(Zi(Ce)||Ce[Xi]))break e;if((ae||ie)&&(ie=le.window===le?le:(ie=le.ownerDocument)?ie.defaultView||ie.parentWindow:window,ae?(Ce=o.relatedTarget||o.toElement,ae=ne,Ce=Ce?Zi(Ce):null,Ce!==null&&(vt=l(Ce),Le=Ce.tag,Ce!==vt||Le!==5&&Le!==27&&Le!==6)&&(Ce=null)):(ae=null,Ce=ne),ae!==Ce)){if(Le=ou,ue="onMouseLeave",W="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Le=Rr,ue="onPointerLeave",W="onPointerEnter",H="pointer"),vt=ae==null?ie:Yn(ae),te=Ce==null?ie:Yn(Ce),ie=new Le(ue,H+"leave",ae,o,le),ie.target=vt,ie.relatedTarget=te,ue=null,Zi(le)===ne&&(Le=new Le(W,H+"enter",Ce,o,le),Le.target=te,Le.relatedTarget=vt,ue=Le),vt=ue,ae&&Ce)t:{for(Le=i2,W=ae,H=Ce,te=0,ue=W;ue;ue=Le(ue))te++;ue=0;for(var Pe=H;Pe;Pe=Le(Pe))ue++;for(;0<te-ue;)W=Le(W),te--;for(;0<ue-te;)H=Le(H),ue--;for(;te--;){if(W===H||H!==null&&W===H.alternate){Le=W;break t}W=Le(W),H=Le(H)}Le=null}else Le=null;ae!==null&&zb(he,ie,ae,Le,!1),Ce!==null&&vt!==null&&zb(he,vt,Ce,Le,!0)}}e:{if(ie=ne?Yn(ne):window,ae=ie.nodeName&&ie.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ie.type==="file")var at=i_;else if(t_(ie))if(r_)at=mD;else{at=fD;var Me=hD}else ae=ie.nodeName,!ae||ae.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ne&&_o(ne.elementType)&&(at=i_):at=dD;if(at&&(at=at(i,ne))){n_(he,at,o,le);break e}Me&&Me(i,ie,ne),i==="focusout"&&ne&&ie.type==="number"&&ne.memoizedProps.value!=null&&eu(ie,"number",ie.value)}switch(Me=ne?Yn(ne):window,i){case"focusin":(t_(Me)||Me.contentEditable==="true")&&(Ro=Me,Im=ne,fu=null);break;case"focusout":fu=Im=Ro=null;break;case"mousedown":Dm=!0;break;case"contextmenu":case"mouseup":case"dragend":Dm=!1,f_(he,o,le);break;case"selectionchange":if(gD)break;case"keydown":case"keyup":f_(he,o,le)}var Ke;if(lt)e:{switch(i){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Co?Sa(i,o)&&(et="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(et="onCompositionStart");et&&(ur&&o.locale!=="ko"&&(Co||et!=="onCompositionStart"?et==="onCompositionEnd"&&Co&&(Ke=su()):(sr=le,ru="value"in sr?sr.value:sr.textContent,Co=!0)),Me=df(ne,et),0<Me.length&&(et=new lr(et,i,null,o,le),he.push({event:et,listeners:Me}),Ke?et.data=Ke:(Ke=Ao(o),Ke!==null&&(et.data=Ke)))),(Ke=ui?oD(i,o):lD(i,o))&&(et=df(ne,"onBeforeInput"),0<et.length&&(Me=new lr("onBeforeInput","beforeinput",null,o,le),he.push({event:Me,listeners:et}),Me.data=Ke)),ZD(he,i,ne,o,le)}Ub(he,s)})}function Lu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function df(i,s){for(var o=s+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Di(i,o),m!=null&&c.unshift(Lu(i,m,g)),m=Di(i,s),m!=null&&c.push(Lu(i,m,g))),i.tag===3)return c;i=i.return}return[]}function i2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function zb(i,s,o,c,m){for(var g=s._reactName,T=[];o!==null&&o!==c;){var C=o,L=C.alternate,ne=C.stateNode;if(C=C.tag,L!==null&&L===c)break;C!==5&&C!==26&&C!==27||ne===null||(L=ne,m?(ne=Di(o,g),ne!=null&&T.unshift(Lu(o,ne,L))):m||(ne=Di(o,g),ne!=null&&T.push(Lu(o,ne,L)))),o=o.return}T.length!==0&&i.push({event:s,listeners:T})}var r2=/\r\n?/g,s2=/\u0000|\uFFFD/g;function Bb(i){return(typeof i=="string"?i:""+i).replace(r2,`
`).replace(s2,"")}function Fb(i,s){return s=Bb(s),Bb(i)===s}function yt(i,s,o,c,m,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Pn(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Pn(i,""+c);break;case"className":Kn(i,"class",c);break;case"tabIndex":Kn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(i,o,c);break;case"style":nu(i,c,g);break;case"data":if(s!=="object"){Kn(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=To(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&yt(i,s,"name",m.name,m,null),yt(i,s,"formEncType",m.formEncType,m,null),yt(i,s,"formMethod",m.formMethod,m,null),yt(i,s,"formTarget",m.formTarget,m,null)):(yt(i,s,"encType",m.encType,m,null),yt(i,s,"method",m.method,m,null),yt(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=To(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Ii);break;case"onScroll":c!=null&&Xe("scroll",i);break;case"onScrollEnd":c!=null&&Xe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=To(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Xe("beforetoggle",i),Xe("toggle",i),yo(i,"popover",c);break;case"xlinkActuate":$t(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":$t(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":$t(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":$t(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":$t(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":$t(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":$t(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":$t(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":$t(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":yo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=fh.get(o)||o,yo(i,o,c))}}function tg(i,s,o,c,m,g){switch(o){case"style":nu(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Pn(i,c):(typeof c=="number"||typeof c=="bigint")&&Pn(i,""+c);break;case"onScroll":c!=null&&Xe("scroll",i);break;case"onScrollEnd":c!=null&&Xe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=i[on]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):yo(i,o,c)}}}function yn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",i),Xe("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:yt(i,s,g,T,o,null)}}m&&yt(i,s,"srcSet",o.srcSet,o,null),c&&yt(i,s,"src",o.src,o,null);return;case"input":Xe("invalid",i);var C=g=T=m=null,L=null,ne=null;for(c in o)if(o.hasOwnProperty(c)){var le=o[c];if(le!=null)switch(c){case"name":m=le;break;case"type":T=le;break;case"checked":L=le;break;case"defaultChecked":ne=le;break;case"value":g=le;break;case"defaultValue":C=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,s));break;default:yt(i,s,c,le,o,null)}}uh(i,g,C,L,ne,T,m,!1);return;case"select":Xe("invalid",i),c=T=g=null;for(m in o)if(o.hasOwnProperty(m)&&(C=o[m],C!=null))switch(m){case"value":g=C;break;case"defaultValue":T=C;break;case"multiple":c=C;default:yt(i,s,m,C,o,null)}s=g,o=T,i.multiple=!!c,s!=null?ls(i,!!c,s,!1):o!=null&&ls(i,!!c,o,!0);return;case"textarea":Xe("invalid",i),g=m=c=null;for(T in o)if(o.hasOwnProperty(T)&&(C=o[T],C!=null))switch(T){case"value":c=C;break;case"defaultValue":m=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:yt(i,s,T,C,o,null)}us(i,c,m,g);return;case"option":for(L in o)o.hasOwnProperty(L)&&(c=o[L],c!=null)&&(L==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":yt(i,s,L,c,o,null));return;case"dialog":Xe("beforetoggle",i),Xe("toggle",i),Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":Xe("load",i);break;case"video":case"audio":for(c=0;c<Vu.length;c++)Xe(Vu[c],i);break;case"image":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"embed":case"source":case"link":Xe("error",i),Xe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in o)if(o.hasOwnProperty(ne)&&(c=o[ne],c!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:yt(i,s,ne,c,o,null)}return;default:if(_o(s)){for(le in o)o.hasOwnProperty(le)&&(c=o[le],c!==void 0&&tg(i,s,le,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&yt(i,s,C,c,o,null))}function a2(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,T=null,C=null,L=null,ne=null,le=null;for(ae in o){var he=o[ae];if(o.hasOwnProperty(ae)&&he!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":L=he;default:c.hasOwnProperty(ae)||yt(i,s,ae,null,c,he)}}for(var ie in c){var ae=c[ie];if(he=o[ie],c.hasOwnProperty(ie)&&(ae!=null||he!=null))switch(ie){case"type":g=ae;break;case"name":m=ae;break;case"checked":ne=ae;break;case"defaultChecked":le=ae;break;case"value":T=ae;break;case"defaultValue":C=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:ae!==he&&yt(i,s,ie,ae,c,he)}}vo(i,T,C,L,ne,le,g,m);return;case"select":ae=T=C=ie=null;for(g in o)if(L=o[g],o.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":ae=L;default:c.hasOwnProperty(g)||yt(i,s,g,null,c,L)}for(m in c)if(g=c[m],L=o[m],c.hasOwnProperty(m)&&(g!=null||L!=null))switch(m){case"value":ie=g;break;case"defaultValue":C=g;break;case"multiple":T=g;default:g!==L&&yt(i,s,m,g,c,L)}s=C,o=T,c=ae,ie!=null?ls(i,!!o,ie,!1):!!c!=!!o&&(s!=null?ls(i,!!o,s,!0):ls(i,!!o,o?[]:"",!1));return;case"textarea":ae=ie=null;for(C in o)if(m=o[C],o.hasOwnProperty(C)&&m!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:yt(i,s,C,null,c,m)}for(T in c)if(m=c[T],g=o[T],c.hasOwnProperty(T)&&(m!=null||g!=null))switch(T){case"value":ie=m;break;case"defaultValue":ae=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&yt(i,s,T,m,c,g)}ch(i,ie,ae);return;case"option":for(var Ce in o)ie=o[Ce],o.hasOwnProperty(Ce)&&ie!=null&&!c.hasOwnProperty(Ce)&&(Ce==="selected"?i.selected=!1:yt(i,s,Ce,null,c,ie));for(L in c)ie=c[L],ae=o[L],c.hasOwnProperty(L)&&ie!==ae&&(ie!=null||ae!=null)&&(L==="selected"?i.selected=ie&&typeof ie!="function"&&typeof ie!="symbol":yt(i,s,L,ie,c,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in o)ie=o[Le],o.hasOwnProperty(Le)&&ie!=null&&!c.hasOwnProperty(Le)&&yt(i,s,Le,null,c,ie);for(ne in c)if(ie=c[ne],ae=o[ne],c.hasOwnProperty(ne)&&ie!==ae&&(ie!=null||ae!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:yt(i,s,ne,ie,c,ae)}return;default:if(_o(s)){for(var vt in o)ie=o[vt],o.hasOwnProperty(vt)&&ie!==void 0&&!c.hasOwnProperty(vt)&&tg(i,s,vt,void 0,c,ie);for(le in c)ie=c[le],ae=o[le],!c.hasOwnProperty(le)||ie===ae||ie===void 0&&ae===void 0||tg(i,s,le,ie,c,ae);return}}for(var W in o)ie=o[W],o.hasOwnProperty(W)&&ie!=null&&!c.hasOwnProperty(W)&&yt(i,s,W,null,c,ie);for(he in c)ie=c[he],ae=o[he],!c.hasOwnProperty(he)||ie===ae||ie==null&&ae==null||yt(i,s,he,ie,c,ae)}function qb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function o2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,T=m.initiatorType,C=m.duration;if(g&&C&&qb(T)){for(T=0,C=m.responseEnd,c+=1;c<o.length;c++){var L=o[c],ne=L.startTime;if(ne>C)break;var le=L.transferSize,he=L.initiatorType;le&&qb(he)&&(L=L.responseEnd,T+=le*(L<C?1:(C-ne)/(L-ne)))}if(--c,s+=8*(g+T)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var ng=null,ig=null;function mf(i){return i.nodeType===9?i:i.ownerDocument}function Hb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gb(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function rg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var sg=null;function l2(){var i=window.event;return i&&i.type==="popstate"?i===sg?!1:(sg=i,!0):(sg=null,!1)}var $b=typeof setTimeout=="function"?setTimeout:void 0,u2=typeof clearTimeout=="function"?clearTimeout:void 0,Yb=typeof Promise=="function"?Promise:void 0,c2=typeof queueMicrotask=="function"?queueMicrotask:typeof Yb<"u"?function(i){return Yb.resolve(null).then(i).catch(h2)}:$b;function h2(i){setTimeout(function(){throw i})}function Ms(i){return i==="head"}function Kb(i,s){var o=s,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),el(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Uu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Uu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,C=g.nodeName;g[Ji]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Uu(i.ownerDocument.body);o=m}while(o);el(s)}function Wb(i,s){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function ag(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ag(o),go(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function f2(i,s,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ji])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=gi(i.nextSibling),i===null)break}return null}function d2(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=gi(i.nextSibling),i===null))return null;return i}function Qb(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=gi(i.nextSibling),i===null))return null;return i}function og(i){return i.data==="$?"||i.data==="$~"}function lg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function m2(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function gi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var ug=null;function Xb(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return gi(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function Jb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function Zb(i,s,o){switch(s=mf(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Uu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);go(i)}var yi=new Map,eE=new Set;function pf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Fr=re.d;re.d={f:p2,r:g2,D:y2,C:v2,L:_2,m:T2,X:E2,S:b2,M:w2};function p2(){var i=Fr.f(),s=af();return i||s}function g2(i){var s=ai(i);s!==null&&s.tag===5&&s.type==="form"?yT(s):Fr.r(i)}var Xo=typeof document>"u"?null:document;function tE(i,s,o){var c=Xo;if(c&&typeof s=="string"&&s){var m=On(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),eE.has(m)||(eE.add(m),i={rel:i,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),yn(s,"link",i),Gt(s),c.head.appendChild(s)))}}function y2(i){Fr.D(i),tE("dns-prefetch",i,null)}function v2(i,s){Fr.C(i,s),tE("preconnect",i,s)}function _2(i,s,o){Fr.L(i,s,o);var c=Xo;if(c&&i&&s){var m='link[rel="preload"][as="'+On(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+On(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+On(o.imageSizes)+'"]')):m+='[href="'+On(i)+'"]';var g=m;switch(s){case"style":g=Jo(i);break;case"script":g=Zo(i)}yi.has(g)||(i=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),yi.set(g,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(ju(g))||s==="script"&&c.querySelector(zu(g))||(s=c.createElement("link"),yn(s,"link",i),Gt(s),c.head.appendChild(s)))}}function T2(i,s){Fr.m(i,s);var o=Xo;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+On(c)+'"][href="'+On(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Zo(i)}if(!yi.has(g)&&(i=v({rel:"modulepreload",href:i},s),yi.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(zu(g)))return}c=o.createElement("link"),yn(c,"link",i),Gt(c),o.head.appendChild(c)}}}function b2(i,s,o){Fr.S(i,s,o);var c=Xo;if(c&&i){var m=er(c).hoistableStyles,g=Jo(i);s=s||"default";var T=m.get(g);if(!T){var C={loading:0,preload:null};if(T=c.querySelector(ju(g)))C.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},o),(o=yi.get(g))&&cg(i,o);var L=T=c.createElement("link");Gt(L),yn(L,"link",i),L._p=new Promise(function(ne,le){L.onload=ne,L.onerror=le}),L.addEventListener("load",function(){C.loading|=1}),L.addEventListener("error",function(){C.loading|=2}),C.loading|=4,gf(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:C},m.set(g,T)}}}function E2(i,s){Fr.X(i,s);var o=Xo;if(o&&i){var c=er(o).hoistableScripts,m=Zo(i),g=c.get(m);g||(g=o.querySelector(zu(m)),g||(i=v({src:i,async:!0},s),(s=yi.get(m))&&hg(i,s),g=o.createElement("script"),Gt(g),yn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function w2(i,s){Fr.M(i,s);var o=Xo;if(o&&i){var c=er(o).hoistableScripts,m=Zo(i),g=c.get(m);g||(g=o.querySelector(zu(m)),g||(i=v({src:i,async:!0,type:"module"},s),(s=yi.get(m))&&hg(i,s),g=o.createElement("script"),Gt(g),yn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function nE(i,s,o,c){var m=(m=ge.current)?pf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Jo(o.href),o=er(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Jo(o.href);var g=er(m).hoistableStyles,T=g.get(i);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=m.querySelector(ju(i)))&&!g._p&&(T.instance=g,T.state.loading=5),yi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},yi.set(i,o),g||S2(m,i,o,T.state))),s&&c===null)throw Error(r(528,""));return T}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zo(o),o=er(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Jo(i){return'href="'+On(i)+'"'}function ju(i){return'link[rel="stylesheet"]['+i+"]"}function iE(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function S2(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),yn(s,"link",o),Gt(s),i.head.appendChild(s))}function Zo(i){return'[src="'+On(i)+'"]'}function zu(i){return"script[async]"+i}function rE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+On(o.href)+'"]');if(c)return s.instance=c,Gt(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Gt(c),yn(c,"style",m),gf(c,o.precedence,i),s.instance=c;case"stylesheet":m=Jo(o.href);var g=i.querySelector(ju(m));if(g)return s.state.loading|=4,s.instance=g,Gt(g),g;c=iE(o),(m=yi.get(m))&&cg(c,m),g=(i.ownerDocument||i).createElement("link"),Gt(g);var T=g;return T._p=new Promise(function(C,L){T.onload=C,T.onerror=L}),yn(g,"link",c),s.state.loading|=4,gf(g,o.precedence,i),s.instance=g;case"script":return g=Zo(o.src),(m=i.querySelector(zu(g)))?(s.instance=m,Gt(m),m):(c=o,(m=yi.get(g))&&(c=v({},o),hg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Gt(m),yn(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,gf(c,o.precedence,i));return s.instance}function gf(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,T=0;T<c.length;T++){var C=c[T];if(C.dataset.precedence===s)g=C;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function cg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function hg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var yf=null;function sE(i,s,o){if(yf===null){var c=new Map,m=yf=new Map;m.set(o,c)}else m=yf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Ji]||g[Ht]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=i+T;var C=c.get(T);C?C.push(g):c.set(T,[g])}}return c}function aE(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function A2(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function oE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function C2(i,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Jo(c.href),g=s.querySelector(ju(m));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=vf.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,Gt(g);return}g=s.ownerDocument||s,c=iE(c),(m=yi.get(m))&&cg(c,m),g=g.createElement("link"),Gt(g);var T=g;T._p=new Promise(function(C,L){T.onload=C,T.onerror=L}),yn(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=vf.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var fg=0;function R2(i,s){return i.stylesheets&&i.count===0&&Tf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&Tf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&fg===0&&(fg=62500*o2());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Tf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>fg?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function vf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var _f=null;function Tf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,_f=new Map,s.forEach(x2,i),_f=null,vf.call(i))}function x2(i,s){if(!(s.state.loading&4)){var o=_f.get(i);if(o)var c=o.get(null);else{o=new Map,_f.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var T=m[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}m=s.instance,T=m.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,m),o.set(T,m),this.count++,c=vf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Bu={$$typeof:F,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function I2(i,s,o,c,m,g,T,C,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.hiddenUpdates=Qi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function lE(i,s,o,c,m,g,T,C,L,ne,le,he){return i=new I2(i,s,o,T,L,ne,le,he,C),s=1,g===!0&&(s|=24),g=Qn(3,null,null,s),i.current=g,g.stateNode=i,s=Gm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Wm(g),i}function uE(i){return i?(i=Do,i):Do}function cE(i,s,o,c,m,g){m=uE(m),c.context===null?c.context=m:c.pendingContext=m,c=bs(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Es(i,c,s),o!==null&&(zn(o,i,s),_u(o,i,s))}function hE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function dg(i,s){hE(i,s),(i=i.alternate)&&hE(i,s)}function fE(i){if(i.tag===13||i.tag===31){var s=Ra(i,67108864);s!==null&&zn(s,i,67108864),dg(i,67108864)}}function dE(i){if(i.tag===13||i.tag===31){var s=ti();s=pa(s);var o=Ra(i,s);o!==null&&zn(o,i,s),dg(i,s)}}var bf=!0;function D2(i,s,o,c){var m=Y.T;Y.T=null;var g=re.p;try{re.p=2,mg(i,s,o,c)}finally{re.p=g,Y.T=m}}function k2(i,s,o,c){var m=Y.T;Y.T=null;var g=re.p;try{re.p=8,mg(i,s,o,c)}finally{re.p=g,Y.T=m}}function mg(i,s,o,c){if(bf){var m=pg(c);if(m===null)eg(i,s,c,Ef,o),pE(i,c);else if(N2(m,i,s,o,c))c.stopPropagation();else if(pE(i,c),s&4&&-1<M2.indexOf(i)){for(;m!==null;){var g=ai(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Ki(g.pendingLanes);if(T!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var L=1<<31-Lt(T);C.entanglements[1]|=L,T&=~L}dr(g),(ut&6)===0&&(rf=In()+500,Pu(0))}}break;case 31:case 13:C=Ra(g,2),C!==null&&zn(C,g,2),af(),dg(g,2)}if(g=pg(c),g===null&&eg(i,s,c,Ef,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else eg(i,s,c,null,o)}}function pg(i){return i=oi(i),gg(i)}var Ef=null;function gg(i){if(Ef=null,i=Zi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Ef=i,null}function mE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ha()){case Hl:return 2;case Gl:return 8;case as:case Em:return 32;case Zc:return 268435456;default:return 32}default:return 32}}var yg=!1,Ns=null,Os=null,Ps=null,Fu=new Map,qu=new Map,Vs=[],M2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pE(i,s){switch(i){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":Fu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(s.pointerId)}}function Hu(i,s,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},s!==null&&(s=ai(s),s!==null&&fE(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function N2(i,s,o,c,m){switch(s){case"focusin":return Ns=Hu(Ns,i,s,o,c,m),!0;case"dragenter":return Os=Hu(Os,i,s,o,c,m),!0;case"mouseover":return Ps=Hu(Ps,i,s,o,c,m),!0;case"pointerover":var g=m.pointerId;return Fu.set(g,Hu(Fu.get(g)||null,i,s,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,qu.set(g,Hu(qu.get(g)||null,i,s,o,c,m)),!0}return!1}function gE(i){var s=Zi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,Ri(i.priority,function(){dE(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,Ri(i.priority,function(){dE(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=pg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);iu=c,o.target.dispatchEvent(c),iu=null}else return s=ai(o),s!==null&&fE(s),i.blockedOn=o,!1;s.shift()}return!0}function yE(i,s,o){wf(i)&&o.delete(s)}function O2(){yg=!1,Ns!==null&&wf(Ns)&&(Ns=null),Os!==null&&wf(Os)&&(Os=null),Ps!==null&&wf(Ps)&&(Ps=null),Fu.forEach(yE),qu.forEach(yE)}function Sf(i,s){i.blockedOn===s&&(i.blockedOn=null,yg||(yg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,O2)))}var Af=null;function vE(i){Af!==i&&(Af=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Af===i&&(Af=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(gg(c||o)===null)continue;break}var g=ai(o);g!==null&&(i.splice(s,3),s-=3,pp(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function el(i){function s(L){return Sf(L,i)}Ns!==null&&Sf(Ns,i),Os!==null&&Sf(Os,i),Ps!==null&&Sf(Ps,i),Fu.forEach(s),qu.forEach(s);for(var o=0;o<Vs.length;o++){var c=Vs[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Vs.length&&(o=Vs[0],o.blockedOn===null);)gE(o),o.blockedOn===null&&Vs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],T=m[on]||null;if(typeof g=="function")T||vE(o);else if(T){var C=null;if(g&&g.hasAttribute("formAction")){if(m=g,T=g[on]||null)C=T.formAction;else if(gg(m)!==null)continue}else C=T.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),vE(o)}}}function _E(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function vg(i){this._internalRoot=i}Cf.prototype.render=vg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=ti();cE(o,c,i,s,null,null)},Cf.prototype.unmount=vg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;cE(i.current,2,null,i,null,null),af(),s[Xi]=null}};function Cf(i){this._internalRoot=i}Cf.prototype.unstable_scheduleHydration=function(i){if(i){var s=sh();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Vs.length&&s!==0&&s<Vs[o].priority;o++);Vs.splice(o,0,i),o===0&&gE(i)}};var TE=e.version;if(TE!=="19.2.3")throw Error(r(527,TE,"19.2.3"));re.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var P2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rf.isDisabled&&Rf.supportsFiber)try{Ai=Rf.inject(P2),fn=Rf}catch{}}return $u.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",m=RT,g=xT,T=IT;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=lE(i,1,!1,null,null,o,c,null,m,g,T,_E),i[Xi]=s.current,Zp(i),new vg(s)},$u.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,m="",g=RT,T=xT,C=IT,L=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),s=lE(i,1,!0,s,o??null,c,m,L,g,T,C,_E),s.context=uE(null),o=s.current,c=ti(),c=pa(c),m=bs(c),m.callback=null,Es(o,m,c),o=c,s.current.lanes=o,da(s,o),dr(s),i[Xi]=s.current,Zp(i),new Cf(s)},$u.version="19.2.3",$u}var DE;function $2(){if(DE)return bg.exports;DE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bg.exports=G2(),bg.exports}var Y2=$2();const K2=lv(Y2),W2="modulepreload",Q2=function(t,e){return new URL(t,e).href},kE={},hn=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let p=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const u=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=p(n.map(y=>{if(y=Q2(y,r),y in kE)return;kE[y]=!0;const v=y.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(r)for(let M=u.length-1;M>=0;M--){const P=u[M];if(P.href===y&&(!v||P.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${b}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":W2,v||(x.as="script"),x.crossOrigin="",x.href=y,d&&x.setAttribute("nonce",d),document.head.appendChild(x),v)return new Promise((M,P)=>{x.addEventListener("load",M),x.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var ME="popstate";function X2(t={}){function e(r,a){let{pathname:l,search:u,hash:h}=r.location;return uy("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:vc(a)}return Z2(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ii(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J2(){return Math.random().toString(36).substring(2,10)}function NE(t,e){return{usr:t.state,key:t.key,idx:e}}function uy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xl(e):e,state:n,key:e&&e.key||r||J2()}}function vc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Z2(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,h="POP",d=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let B=y(),U=B==null?null:B-p;p=B,d&&d({action:h,location:P.location,delta:U})}function b(B,U){h="PUSH";let j=uy(P.location,B,U);p=y()+1;let F=NE(j,p),fe=P.createHref(j);try{u.pushState(F,"",fe)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;a.location.assign(fe)}l&&d&&d({action:h,location:P.location,delta:1})}function x(B,U){h="REPLACE";let j=uy(P.location,B,U);p=y();let F=NE(j,p),fe=P.createHref(j);u.replaceState(F,"",fe),l&&d&&d({action:h,location:P.location,delta:0})}function M(B){return ek(B)}let P={get action(){return h},get location(){return t(a,u)},listen(B){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(ME,v),d=B,()=>{a.removeEventListener(ME,v),d=null}},createHref(B){return e(a,B)},createURL:M,encodeLocation(B){let U=M(B);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:b,replace:x,go(B){return u.go(B)}};return P}function ek(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:vc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function eA(t,e,n="/"){return tk(t,e,n,!1)}function tk(t,e,n,r){let a=typeof e=="string"?xl(e):e,l=Qr(a.pathname||"/",n);if(l==null)return null;let u=tA(t);nk(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=dk(l);h=hk(u[d],p,r)}return h}function tA(t,e=[],n=[],r="",a=!1){let l=(u,h,d=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&d)return;xt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let v=$r([r,y.relativePath]),b=n.concat(y);u.children&&u.children.length>0&&(xt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),tA(u.children,e,b,v,d)),!(u.path==null&&!u.index)&&e.push({path:v,score:uk(v,u.index),routesMeta:b})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let d of nA(u.path))l(u,h,!0,d)}),e}function nA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=nA(r.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function nk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ck(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ik=/^:[\w-]+$/,rk=3,sk=2,ak=1,ok=10,lk=-2,OE=t=>t==="*";function uk(t,e){let n=t.split("/"),r=n.length;return n.some(OE)&&(r+=lk),e&&(r+=sk),n.filter(a=>!OE(a)).reduce((a,l)=>a+(ik.test(l)?rk:l===""?ak:ok),r)}function ck(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function hk(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=sd({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),b=d.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=sd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:$r([l,v.pathname]),pathnameBase:yk($r([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=$r([l,v.pathnameBase]))}return u}function sd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fk(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:v},b)=>{if(y==="*"){let M=h[b]||"";u=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const x=h[b];return v&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function fk(t,e=!1,n=!0){ii(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function dk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ii(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var iA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mk=t=>iA.test(t);function pk(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?xl(t):t,l;if(n)if(mk(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),ii(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=PE(n.substring(1),"/"):l=PE(n,e)}else l=e;return{pathname:l,search:vk(r),hash:_k(a)}}function PE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ag(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hv(t){let e=gk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function fv(t,e,n,r=!1){let a;typeof t=="string"?a=xl(t):(a={...t},xt(!a.pathname||!a.pathname.includes("?"),Ag("?","pathname","search",a)),xt(!a.pathname||!a.pathname.includes("#"),Ag("#","pathname","hash",a)),xt(!a.search||!a.search.includes("#"),Ag("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}h=v>=0?e[v]:"/"}let d=pk(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var $r=t=>t.join("/").replace(/\/\/+/g,"/"),yk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_k=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Tk=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function bk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Ek(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var rA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sA(t,e){let n=t;if(typeof n!="string"||!iA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(rA)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Qr(u.pathname,e);u.origin===l.origin&&h!=null?n=h+u.search+u.hash:a=!0}catch{ii(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aA=["POST","PUT","PATCH","DELETE"];new Set(aA);var wk=["GET",...aA];new Set(wk);var Il=R.createContext(null);Il.displayName="DataRouter";var qd=R.createContext(null);qd.displayName="DataRouterState";var Sk=R.createContext(!1),oA=R.createContext({isTransitioning:!1});oA.displayName="ViewTransition";var Ak=R.createContext(new Map);Ak.displayName="Fetchers";var Ck=R.createContext(null);Ck.displayName="Await";var ri=R.createContext(null);ri.displayName="Navigation";var Nc=R.createContext(null);Nc.displayName="Location";var Si=R.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var dv=R.createContext(null);dv.displayName="RouteError";var lA="REACT_ROUTER_ERROR",Rk="REDIRECT",xk="ROUTE_ERROR_RESPONSE";function Ik(t){if(t.startsWith(`${lA}:${Rk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Dk(t){if(t.startsWith(`${lA}:${xk}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Tk(e.status,e.statusText,e.data)}catch{}}function kk(t,{relative:e}={}){xt(Dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(ri),{hash:a,pathname:l,search:u}=Oc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:$r([n,l])),r.createHref({pathname:h,search:u,hash:a})}function Dl(){return R.useContext(Nc)!=null}function Hi(){return xt(Dl(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Nc).location}var uA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cA(t){R.useContext(ri).static||R.useLayoutEffect(t)}function kl(){let{isDataRoute:t}=R.useContext(Si);return t?$k():Mk()}function Mk(){xt(Dl(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Il),{basename:e,navigator:n}=R.useContext(ri),{matches:r}=R.useContext(Si),{pathname:a}=Hi(),l=JSON.stringify(hv(r)),u=R.useRef(!1);return cA(()=>{u.current=!0}),R.useCallback((d,p={})=>{if(ii(u.current,uA),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=fv(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:$r([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}var Nk=R.createContext(null);function Ok(t){let e=R.useContext(Si).outlet;return R.useMemo(()=>e&&R.createElement(Nk.Provider,{value:t},e),[e,t])}function kF(){let{matches:t}=R.useContext(Si),e=t[t.length-1];return e?e.params:{}}function Oc(t,{relative:e}={}){let{matches:n}=R.useContext(Si),{pathname:r}=Hi(),a=JSON.stringify(hv(n));return R.useMemo(()=>fv(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function Pk(t,e){return hA(t,e)}function hA(t,e,n,r,a){xt(Dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=R.useContext(ri),{matches:u}=R.useContext(Si),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let j=v&&v.path||"";dA(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=Hi(),x;if(e){let j=typeof e=="string"?xl(e):e;xt(y==="/"||j.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=b;let M=x.pathname||"/",P=M;if(y!=="/"){let j=y.replace(/^\//,"").split("/");P="/"+M.replace(/^\//,"").split("/").slice(j.length).join("/")}let B=eA(t,{pathname:P});ii(v||B!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ii(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=zk(B&&B.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:$r([y,l.encodeLocation?l.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?y:$r([y,l.encodeLocation?l.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),u,n,r,a);return e&&U?R.createElement(Nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},U):U}function Vk(){let t=Gk(),e=bk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:l},"ErrorBoundary")," or"," ",R.createElement("code",{style:l},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:a},n):null,u)}var Lk=R.createElement(Vk,null),fA=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Dk(t.digest);n&&(t=n)}let e=t!==void 0?R.createElement(Si.Provider,{value:this.props.routeContext},R.createElement(dv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?R.createElement(Uk,{error:t},e):e}};fA.contextType=Sk;var Cg=new WeakMap;function Uk({children:t,error:e}){let{basename:n}=R.useContext(ri);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Ik(e.digest);if(r){let a=Cg.get(e);if(a)throw a;let l=sA(r.location,n);if(rA&&!Cg.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw Cg.set(e,u),u}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function jk({routeContext:t,match:e,children:n}){let r=R.useContext(Il);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Si.Provider,{value:t},n)}function zk(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);xt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,d=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=y),v.route.id){let{loaderData:b,errors:x}=n,M=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!x||x[v.route.id]===void 0);if(v.route.lazy||M){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let p=n&&r?(y,v)=>{r(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Ek(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,b)=>{let x,M=!1,P=null,B=null;n&&(x=u&&v.route.id?u[v.route.id]:void 0,P=v.route.errorElement||Lk,h&&(d<0&&b===0?(dA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,B=null):d===b&&(M=!0,B=v.route.hydrateFallbackElement||null)));let U=e.concat(l.slice(0,b+1)),j=()=>{let F;return x?F=P:M?F=B:v.route.Component?F=R.createElement(v.route.Component,null):v.route.element?F=v.route.element:F=y,R.createElement(jk,{match:v,routeContext:{outlet:y,matches:U,isDataRoute:n!=null},children:F})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?R.createElement(fA,{location:n.location,revalidation:n.revalidation,component:P,error:x,children:j(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:p}):j()},null)}function mv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bk(t){let e=R.useContext(Il);return xt(e,mv(t)),e}function Fk(t){let e=R.useContext(qd);return xt(e,mv(t)),e}function qk(t){let e=R.useContext(Si);return xt(e,mv(t)),e}function pv(t){let e=qk(t),n=e.matches[e.matches.length-1];return xt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Hk(){return pv("useRouteId")}function Gk(){let t=R.useContext(dv),e=Fk("useRouteError"),n=pv("useRouteError");return t!==void 0?t:e.errors?.[n]}function $k(){let{router:t}=Bk("useNavigate"),e=pv("useNavigate"),n=R.useRef(!1);return cA(()=>{n.current=!0}),R.useCallback(async(a,l={})=>{ii(n.current,uA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var VE={};function dA(t,e,n){!e&&!VE[t]&&(VE[t]=!0,ii(!1,n))}R.memo(Yk);function Yk({routes:t,future:e,state:n,onError:r}){return hA(t,void 0,n,r,e)}function mA({to:t,replace:e,state:n,relative:r}){xt(Dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=R.useContext(ri);ii(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=R.useContext(Si),{pathname:u}=Hi(),h=kl(),d=fv(t,hv(l),u,r==="path"),p=JSON.stringify(d);return R.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:r})},[h,p,r,e,n]),null}function pA(t){return Ok(t.context)}function Ot(t){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kk({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){xt(!Dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[h,a,l,u]);typeof n=="string"&&(n=xl(n));let{pathname:p="/",search:y="",hash:v="",state:b=null,key:x="default"}=n,M=R.useMemo(()=>{let P=Qr(p,h);return P==null?null:{location:{pathname:P,search:y,hash:v,state:b,key:x},navigationType:r}},[h,p,y,v,b,x,r]);return ii(M!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:R.createElement(ri.Provider,{value:d},R.createElement(Nc.Provider,{children:e,value:M}))}function Wk({children:t,location:e}){return Pk(cy(t),e)}function cy(t,e=[]){let n=[];return R.Children.forEach(t,(r,a)=>{if(!R.isValidElement(r))return;let l=[...e,a];if(r.type===R.Fragment){n.push.apply(n,cy(r.props.children,l));return}xt(r.type===Ot,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=cy(r.props.children,l)),n.push(u)}),n}var Bf="get",Ff="application/x-www-form-urlencoded";function Hd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Qk(t){return Hd(t)&&t.tagName.toLowerCase()==="button"}function Xk(t){return Hd(t)&&t.tagName.toLowerCase()==="form"}function Jk(t){return Hd(t)&&t.tagName.toLowerCase()==="input"}function Zk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eM(t,e){return t.button===0&&(!e||e==="_self")&&!Zk(t)}function hy(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function tM(t,e){let n=hy(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var xf=null;function nM(){if(xf===null)try{new FormData(document.createElement("form"),0),xf=!1}catch{xf=!0}return xf}var iM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rg(t){return t!=null&&!iM.has(t)?(ii(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ff}"`),null):t}function rM(t,e){let n,r,a,l,u;if(Xk(t)){let h=t.getAttribute("action");r=h?Qr(h,e):null,n=t.getAttribute("method")||Bf,a=Rg(t.getAttribute("enctype"))||Ff,l=new FormData(t)}else if(Qk(t)||Jk(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Qr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Bf,a=Rg(t.getAttribute("formenctype"))||Rg(h.getAttribute("enctype"))||Ff,l=new FormData(h,t),!nM()){let{name:p,type:y,value:v}=t;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,v)}}else{if(Hd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bf,r=null,a=Ff,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sM(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Qr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function aM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lM(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await aM(l,n);return u.links?u.links():[]}return[]}));return fM(r.flat(1).filter(oM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function LE(t,e,n,r,a,l){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function uM(t,e,{includeHydrateFallback:n}={}){return cM(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function cM(t){return[...new Set(t)]}function hM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function fM(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(hM(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function gA(){let t=R.useContext(Il);return gv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dM(){let t=R.useContext(qd);return gv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yv=R.createContext(void 0);yv.displayName="FrameworkContext";function yA(){let t=R.useContext(yv);return gv(t,"You must render this element inside a <HydratedRouter> element"),t}function mM(t,e){let n=R.useContext(yv),[r,a]=R.useState(!1),[l,u]=R.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,b=R.useRef(null);R.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=U=>{U.forEach(j=>{u(j.isIntersecting)})},B=new IntersectionObserver(P,{threshold:.5});return b.current&&B.observe(b.current),()=>{B.disconnect()}}},[t]),R.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let x=()=>{a(!0)},M=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Yu(h,x),onBlur:Yu(d,M),onMouseEnter:Yu(p,x),onMouseLeave:Yu(y,M),onTouchStart:Yu(v,x)}]:[!1,b,{}]}function Yu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pM({page:t,...e}){let{router:n}=gA(),r=R.useMemo(()=>eA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(yM,{page:t,matches:r,...e}):null}function gM(t){let{manifest:e,routeModules:n}=yA(),[r,a]=R.useState([]);return R.useEffect(()=>{let l=!1;return lM(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),r}function yM({page:t,matches:e,...n}){let r=Hi(),{future:a,manifest:l,routeModules:u}=yA(),{basename:h}=gA(),{loaderData:d,matches:p}=dM(),y=R.useMemo(()=>LE(t,e,p,l,r,"data"),[t,e,p,l,r]),v=R.useMemo(()=>LE(t,e,p,l,r,"assets"),[t,e,p,l,r]),b=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let P=new Set,B=!1;if(e.forEach(j=>{let F=l.routes[j.route.id];!F||!F.hasLoader||(!y.some(fe=>fe.route.id===j.route.id)&&j.route.id in d&&u[j.route.id]?.shouldRevalidate||F.hasClientLoader?B=!0:P.add(j.route.id))}),P.size===0)return[];let U=sM(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return B&&P.size>0&&U.searchParams.set("_routes",e.filter(j=>P.has(j.route.id)).map(j=>j.route.id).join(",")),[U.pathname+U.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,r,l,y,e,t,u]),x=R.useMemo(()=>uM(v,l),[v,l]),M=gM(v);return R.createElement(R.Fragment,null,b.map(P=>R.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),x.map(P=>R.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),M.map(({key:P,link:B})=>R.createElement("link",{key:P,nonce:n.nonce,...B})))}function vM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _M=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_M&&(window.__reactRouterVersion="7.12.0")}catch{}function TM({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=R.useRef();a.current==null&&(a.current=X2({window:r,v5Compat:!0}));let l=a.current,[u,h]=R.useState({action:l.action,location:l.location}),d=R.useCallback(p=>{n===!1?h(p):R.startTransition(()=>h(p))},[n]);return R.useLayoutEffect(()=>l.listen(d),[l,d]),R.createElement(Kk,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var vA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ad=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:b,...x},M){let{basename:P,unstable_useTransitions:B}=R.useContext(ri),U=typeof p=="string"&&vA.test(p),j=sA(p,P);p=j.to;let F=kk(p,{relative:a}),[fe,V,ee]=mM(r,x),S=SM(p,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:b,unstable_useTransitions:B});function w(N){e&&e(N),N.defaultPrevented||S(N)}let k=R.createElement("a",{...x,...ee,href:j.absoluteURL||F,onClick:j.isExternal||l?e:w,ref:vM(M,V),target:d,"data-discover":!U&&n==="render"?"true":void 0});return fe&&!U?R.createElement(R.Fragment,null,k,R.createElement(pM,{page:F})):k});ad.displayName="Link";var bM=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...p},y){let v=Oc(u,{relative:p.relative}),b=Hi(),x=R.useContext(qd),{navigator:M,basename:P}=R.useContext(ri),B=x!=null&&DM(v)&&h===!0,U=M.encodeLocation?M.encodeLocation(v).pathname:v.pathname,j=b.pathname,F=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(j=j.toLowerCase(),F=F?F.toLowerCase():null,U=U.toLowerCase()),F&&P&&(F=Qr(F,P)||F);const fe=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let V=j===U||!a&&j.startsWith(U)&&j.charAt(fe)==="/",ee=F!=null&&(F===U||!a&&F.startsWith(U)&&F.charAt(U.length)==="/"),S={isActive:V,isPending:ee,isTransitioning:B},w=V?e:void 0,k;typeof r=="function"?k=r(S):k=[r,V?"active":null,ee?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(S):l;return R.createElement(ad,{...p,"aria-current":w,className:k,ref:y,style:N,to:u,viewTransition:h},typeof d=="function"?d(S):d)});bM.displayName="NavLink";var EM=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:u=Bf,action:h,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:b,...x},M)=>{let{unstable_useTransitions:P}=R.useContext(ri),B=xM(),U=IM(h,{relative:p}),j=u.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&vA.test(h),fe=V=>{if(d&&d(V),V.defaultPrevented)return;V.preventDefault();let ee=V.nativeEvent.submitter,S=ee?.getAttribute("formmethod")||u,w=()=>B(ee||V.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:b});P&&n!==!1?R.startTransition(()=>w()):w()};return R.createElement("form",{ref:M,method:j,action:U,onSubmit:r?d:fe,...x,"data-discover":!F&&t==="render"?"true":void 0})});EM.displayName="Form";function wM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _A(t){let e=R.useContext(Il);return xt(e,wM(t)),e}function SM(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let p=kl(),y=Hi(),v=Oc(t,{relative:l});return R.useCallback(b=>{if(eM(b,e)){b.preventDefault();let x=n!==void 0?n:vc(y)===vc(v),M=()=>p(t,{replace:x,state:r,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h});d?R.startTransition(()=>M()):M()}},[y,p,v,n,r,e,t,a,l,u,h,d])}function AM(t){ii(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=R.useRef(hy(t)),n=R.useRef(!1),r=Hi(),a=R.useMemo(()=>tM(r.search,n.current?null:e.current),[r.search]),l=kl(),u=R.useCallback((h,d)=>{const p=hy(typeof h=="function"?h(new URLSearchParams(a)):h);n.current=!0,l("?"+p,d)},[l,a]);return[a,u]}var CM=0,RM=()=>`__${String(++CM)}__`;function xM(){let{router:t}=_A("useSubmit"),{basename:e}=R.useContext(ri),n=Hk(),r=t.fetch,a=t.navigate;return R.useCallback(async(l,u={})=>{let{action:h,method:d,encType:p,formData:y,body:v}=rM(l,e);if(u.navigate===!1){let b=u.fetcherKey||RM();await r(b,n,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||d,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||d,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,a,e,n])}function IM(t,{relative:e}={}){let{basename:n}=R.useContext(ri),r=R.useContext(Si);xt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Oc(t||".",{relative:e})},u=Hi();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:$r([n,l.pathname])),vc(l)}function DM(t,{relative:e}={}){let n=R.useContext(oA);xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_A("useViewTransitionState"),a=Oc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Qr(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Qr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sd(a.pathname,u)!=null||sd(a.pathname,l)!=null}const kM=()=>{};var UE={};const TA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},MM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},bA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let b=(h&15)<<2|p>>6,x=p&63;d||(x=64,u||(b=64)),r.push(n[y],n[v],n[b],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new NM;const b=l<<2|h>>4;if(r.push(b),p!==64){const x=h<<4&240|p>>2;if(r.push(x),v!==64){const M=p<<6&192|v;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OM=function(t){const e=TA(t);return bA.encodeByteArray(e,!0)},od=function(t){return OM(t).replace(/\./g,"")},EA=function(t){try{return bA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function PM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VM=()=>PM().__FIREBASE_DEFAULTS__,LM=()=>{if(typeof process>"u"||typeof UE>"u")return;const t=UE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&EA(t[1]);return e&&JSON.parse(e)},Gd=()=>{try{return kM()||VM()||LM()||UM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wA=t=>Gd()?.emulatorHosts?.[t],SA=t=>{const e=wA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},AA=()=>Gd()?.config,CA=t=>Gd()?.[`_${t}`];class jM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function oa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vv(t){return(await fetch(t,{credentials:"include"})).ok}function zM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[od(JSON.stringify(n)),od(JSON.stringify(u)),""].join(".")}const oc={};function BM(){const t={prod:[],emulator:[]};for(const e of Object.keys(oc))oc[e]?t.emulator.push(e):t.prod.push(e);return t}function FM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let jE=!1;function _v(t,e){if(typeof window>"u"||typeof document>"u"||!oa(window.location.host)||oc[t]===e||oc[t]||jE)return;oc[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",l=BM().prod.length>0;function u(){const b=document.getElementById(r);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{jE=!0,u()},b}function y(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=FM(r),x=n("text"),M=document.getElementById(x)||document.createElement("span"),P=n("learnmore"),B=document.getElementById(P)||document.createElement("a"),U=n("preprendIcon"),j=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const F=b.element;h(F),y(B,P);const fe=p();d(j,U),F.append(j,M,B,fe),document.body.appendChild(F)}l?(M.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function HM(){const t=Gd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $M(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KM(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WM(){return!HM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QM(){try{return typeof indexedDB=="object"}catch{return!1}}function XM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const JM="FirebaseError";class wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JM,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pc.prototype.create)}}class Pc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?ZM(l,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new wr(a,h,r)}}function ZM(t,e){return t.replace(eN,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const eN=/\{\$([^}]+)}/g;function tN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function to(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],u=e[a];if(zE(l)&&zE(u)){if(!to(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function zE(t){return t!==null&&typeof t=="object"}function Vc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function ec(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nN(t,e){const n=new iN(t,e);return n.subscribe.bind(n)}class iN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=xg),a.error===void 0&&(a.error=xg),a.complete===void 0&&(a.complete=xg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xg(){}function bt(t){return t&&t._delegate?t._delegate:t}class Js{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qa="[DEFAULT]";class sN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oN(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aN(t){return t===qa?void 0:t}function oN(t){return t.instantiationMode==="EAGER"}class lN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const uN={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},cN=tt.INFO,hN={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},fN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=hN[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tv{constructor(e){this.name=e,this._logLevel=cN,this._logHandler=fN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const dN=(t,e)=>e.some(n=>t instanceof n);let BE,FE;function mN(){return BE||(BE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pN(){return FE||(FE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RA=new WeakMap,fy=new WeakMap,xA=new WeakMap,Ig=new WeakMap,bv=new WeakMap;function gN(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ks(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&RA.set(n,t)}).catch(()=>{}),bv.set(e,t),e}function yN(t){if(fy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});fy.set(t,e)}let dy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vN(t){dy=t(dy)}function _N(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dg(this),e,...n);return xA.set(r,e.sort?e.sort():[e]),Ks(r)}:pN().includes(t)?function(...e){return t.apply(Dg(this),e),Ks(RA.get(this))}:function(...e){return Ks(t.apply(Dg(this),e))}}function TN(t){return typeof t=="function"?_N(t):(t instanceof IDBTransaction&&yN(t),dN(t,mN())?new Proxy(t,dy):t)}function Ks(t){if(t instanceof IDBRequest)return gN(t);if(Ig.has(t))return Ig.get(t);const e=TN(t);return e!==t&&(Ig.set(t,e),bv.set(e,t)),e}const Dg=t=>bv.get(t);function bN(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Ks(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Ks(u.result),d.oldVersion,d.newVersion,Ks(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const EN=["get","getKey","getAll","getAllKeys","count"],wN=["put","add","delete","clear"],kg=new Map;function qE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kg.get(e))return kg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=wN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||EN.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return kg.set(e,l),l}vN(t=>({...t,get:(e,n,r)=>qE(e,n)||t.get(e,n,r),has:(e,n)=>!!qE(e,n)||t.has(e,n)}));class SN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AN(t){return t.getComponent()?.type==="VERSION"}const my="@firebase/app",HE="0.14.7";const Xr=new Tv("@firebase/app"),CN="@firebase/app-compat",RN="@firebase/analytics-compat",xN="@firebase/analytics",IN="@firebase/app-check-compat",DN="@firebase/app-check",kN="@firebase/auth",MN="@firebase/auth-compat",NN="@firebase/database",ON="@firebase/data-connect",PN="@firebase/database-compat",VN="@firebase/functions",LN="@firebase/functions-compat",UN="@firebase/installations",jN="@firebase/installations-compat",zN="@firebase/messaging",BN="@firebase/messaging-compat",FN="@firebase/performance",qN="@firebase/performance-compat",HN="@firebase/remote-config",GN="@firebase/remote-config-compat",$N="@firebase/storage",YN="@firebase/storage-compat",KN="@firebase/firestore",WN="@firebase/ai",QN="@firebase/firestore-compat",XN="firebase",JN="12.8.0";const py="[DEFAULT]",ZN={[my]:"fire-core",[CN]:"fire-core-compat",[xN]:"fire-analytics",[RN]:"fire-analytics-compat",[DN]:"fire-app-check",[IN]:"fire-app-check-compat",[kN]:"fire-auth",[MN]:"fire-auth-compat",[NN]:"fire-rtdb",[ON]:"fire-data-connect",[PN]:"fire-rtdb-compat",[VN]:"fire-fn",[LN]:"fire-fn-compat",[UN]:"fire-iid",[jN]:"fire-iid-compat",[zN]:"fire-fcm",[BN]:"fire-fcm-compat",[FN]:"fire-perf",[qN]:"fire-perf-compat",[HN]:"fire-rc",[GN]:"fire-rc-compat",[$N]:"fire-gcs",[YN]:"fire-gcs-compat",[KN]:"fire-fst",[QN]:"fire-fst-compat",[WN]:"fire-vertex","fire-js":"fire-js",[XN]:"fire-js-all"};const ld=new Map,eO=new Map,gy=new Map;function GE(t,e){try{t.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function no(t){const e=t.name;if(gy.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;gy.set(e,t);for(const n of ld.values())GE(n,t);for(const n of eO.values())GE(n,t);return!0}function $d(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qn(t){return t==null?!1:t.settings!==void 0}const tO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new Pc("app","Firebase",tO);class nO{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const Ml=JN;function IA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:py,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Ws.create("bad-app-name",{appName:String(a)});if(n||(n=AA()),!n)throw Ws.create("no-options");const l=ld.get(a);if(l){if(to(n,l.options)&&to(r,l.config))return l;throw Ws.create("duplicate-app",{appName:a})}const u=new lN(a);for(const d of gy.values())u.addComponent(d);const h=new nO(n,r,u);return ld.set(a,h),h}function Ev(t=py){const e=ld.get(t);if(!e&&t===py&&AA())return IA();if(!e)throw Ws.create("no-app",{appName:t});return e}function pr(t,e,n){let r=ZN[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(u.join(" "));return}no(new Js(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const iO="firebase-heartbeat-database",rO=1,_c="firebase-heartbeat-store";let Mg=null;function DA(){return Mg||(Mg=bN(iO,rO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_c)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ws.create("idb-open",{originalErrorMessage:t.message})})),Mg}async function sO(t){try{const n=(await DA()).transaction(_c),r=await n.objectStore(_c).get(kA(t));return await n.done,r}catch(e){if(e instanceof wr)Xr.warn(e.message);else{const n=Ws.create("idb-get",{originalErrorMessage:e?.message});Xr.warn(n.message)}}}async function $E(t,e){try{const r=(await DA()).transaction(_c,"readwrite");await r.objectStore(_c).put(e,kA(t)),await r.done}catch(n){if(n instanceof wr)Xr.warn(n.message);else{const r=Ws.create("idb-set",{originalErrorMessage:n?.message});Xr.warn(r.message)}}}function kA(t){return`${t.name}!${t.options.appId}`}const aO=1024,oO=30;class lO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=YE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>oO){const a=hO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=YE(),{heartbeatsToSend:n,unsentEntries:r}=uO(this._heartbeatsCache.heartbeats),a=od(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Xr.warn(e),""}}}function YE(){return new Date().toISOString().substring(0,10)}function uO(t,e=aO){const n=[];let r=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),KE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),KE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QM()?XM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $E(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $E(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function KE(t){return od(JSON.stringify({version:2,heartbeats:t})).length}function hO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function fO(t){no(new Js("platform-logger",e=>new SN(e),"PRIVATE")),no(new Js("heartbeat",e=>new lO(e),"PRIVATE")),pr(my,HE,t),pr(my,HE,"esm2020"),pr("fire-js","")}fO("");var dO="firebase",mO="12.8.0";pr(dO,mO,"app");function MA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pO=MA,NA=new Pc("auth","Firebase",MA());const ud=new Tv("@firebase/auth");function gO(t,...e){ud.logLevel<=tt.WARN&&ud.warn(`Auth (${Ml}): ${t}`,...e)}function qf(t,...e){ud.logLevel<=tt.ERROR&&ud.error(`Auth (${Ml}): ${t}`,...e)}function wi(t,...e){throw Sv(t,...e)}function zi(t,...e){return Sv(t,...e)}function wv(t,e,n){const r={...pO(),[e]:n};return new Pc("auth","Firebase",r).create(e,{appName:t.name})}function Yr(t){return wv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wi(t,"argument-error"),wv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NA.create(t,...e)}function je(t,e,...n){if(!t)throw Sv(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qf(e),new Error(e)}function Jr(t,e){t||Hr(e)}function yy(){return typeof self<"u"&&self.location?.href||""}function vO(){return WE()==="http:"||WE()==="https:"}function WE(){return typeof self<"u"&&self.location?.protocol||null}function _O(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vO()||$M()||"connection"in navigator)?navigator.onLine:!0}function TO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=qM()||YM()}get(){return _O()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Av(t,e){Jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class OA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const EO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wO=new Lc(3e4,6e4);function is(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Gi(t,e,n,r,a={}){return PA(t,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const h=Vc({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...l};return GM()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&oa(t.emulatorConfig.host)&&(p.credentials="include"),OA.fetch()(await VA(t,t.config.apiHost,n,h),p)})}async function PA(t,e,n){t._canInitEmulator=!1;const r={...bO,...e};try{const a=new AO(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw If(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw If(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw If(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw If(t,"user-disabled",u);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw wv(t,y,p);wi(t,y)}}catch(a){if(a instanceof wr)throw a;wi(t,"network-request-failed",{message:String(a)})}}async function Uc(t,e,n,r,a={}){const l=await Gi(t,e,n,r,a);return"mfaPendingCredential"in l&&wi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function VA(t,e,n,r){const a=`${e}${n}?${r}`,l=t,u=l.config.emulator?Av(t.config,a):`${t.config.apiScheme}://${a}`;return EO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function SO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zi(this.auth,"network-request-failed")),wO.get())})}}function If(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=zi(t,e,r);return a.customData._tokenResponse=n,a}function QE(t){return t!==void 0&&t.enterprise!==void 0}class CO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return SO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RO(t,e){return Gi(t,"GET","/v2/recaptchaConfig",is(t,e))}async function xO(t,e){return Gi(t,"POST","/v1/accounts:delete",e)}async function cd(t,e){return Gi(t,"POST","/v1/accounts:lookup",e)}function lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IO(t,e=!1){const n=bt(t),r=await n.getIdToken(e),a=Cv(r);je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:r,authTime:lc(Ng(a.auth_time)),issuedAtTime:lc(Ng(a.iat)),expirationTime:lc(Ng(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ng(t){return Number(t)*1e3}function Cv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qf("JWT malformed, contained fewer than 3 sections"),null;try{const a=EA(n);return a?JSON.parse(a):(qf("Failed to decode base64 JWT payload"),null)}catch(a){return qf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function XE(t){const e=Cv(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function io(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wr&&DO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function DO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class kO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hd(t){const e=t.auth,n=await t.getIdToken(),r=await io(t,cd(e,{idToken:n}));je(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?LA(a.providerUserInfo):[],u=NO(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new vy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function MO(t){const e=bt(t);await hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NO(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function LA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function OO(t,e){const n=await PA(t,{},async()=>{const r=Vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await VA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&oa(t.emulatorConfig.host)&&(d.credentials="include"),OA.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PO(t,e){return Gi(t,"POST","/v2/accounts:revokeToken",is(t,e))}class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=XE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await OO(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,u=new hl;return r&&(je(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(je(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(je(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return Hr("not implemented")}}function Us(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ji{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new kO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new vy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await io(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IO(this,e)}reload(){return MO(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ji({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(Yr(this.auth));const e=await this.getIdToken();return await io(this,xO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:M,stsTokenManager:P}=n;je(v&&P,e,"internal-error");const B=hl.fromJSON(this.name,P);je(typeof v=="string",e,"internal-error"),Us(r,e.name),Us(a,e.name),je(typeof b=="boolean",e,"internal-error"),je(typeof x=="boolean",e,"internal-error"),Us(l,e.name),Us(u,e.name),Us(h,e.name),Us(d,e.name),Us(p,e.name),Us(y,e.name);const U=new ji({uid:v,auth:e,email:a,emailVerified:b,displayName:r,isAnonymous:x,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:B,createdAt:p,lastLoginAt:y});return M&&Array.isArray(M)&&(U.providerData=M.map(j=>({...j}))),d&&(U._redirectEventId=d),U}static async _fromIdTokenResponse(e,n,r=!1){const a=new hl;a.updateFromServerResponse(n);const l=new ji({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await hd(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];je(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?LA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new hl;h.updateFromIdToken(r);const d=new ji({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new vy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}const JE=new Map;function Gr(t){Jr(t instanceof Function,"Expected a class definition");let e=JE.get(t);return e?(Jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JE.set(t,e),e)}class UA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UA.type="NONE";const ZE=UA;function Hf(t,e,n){return`firebase:${t}:${e}:${n}`}class fl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Hf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Hf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cd(this.auth,{idToken:e}).catch(()=>{});return n?ji._fromGetAccountInfoResponse(this.auth,n,e):null}return ji._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fl(Gr(ZE),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Gr(ZE);const u=Hf(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const b=await cd(e,{idToken:y}).catch(()=>{});if(!b)break;v=await ji._fromGetAccountInfoResponse(e,b,y)}else v=ji._fromJSON(e,y);p!==l&&(h=v),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new fl(l,e,r):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new fl(l,e,r))}}function ew(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HA(e))return"Blackberry";if(GA(e))return"Webos";if(zA(e))return"Safari";if((e.includes("chrome/")||BA(e))&&!e.includes("edge/"))return"Chrome";if(qA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function jA(t=xn()){return/firefox\//i.test(t)}function zA(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BA(t=xn()){return/crios\//i.test(t)}function FA(t=xn()){return/iemobile/i.test(t)}function qA(t=xn()){return/android/i.test(t)}function HA(t=xn()){return/blackberry/i.test(t)}function GA(t=xn()){return/webos/i.test(t)}function Rv(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VO(t=xn()){return Rv(t)&&!!window.navigator?.standalone}function LO(){return KM()&&document.documentMode===10}function $A(t=xn()){return Rv(t)||qA(t)||GA(t)||HA(t)||/windows phone/i.test(t)||FA(t)}function YA(t,e=[]){let n;switch(t){case"Browser":n=ew(xn());break;case"Worker":n=`${ew(xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ml}/${r}`}class UO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function jO(t,e={}){return Gi(t,"GET","/v2/passwordPolicy",is(t,e))}const zO=6;class BO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class FO{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tw(this),this.idTokenSubscription=new tw(this),this.beforeStateQueue=new UO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cd(this,{idToken:e}),r=await ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(Yr(this));const n=e?bt(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jO(this),n=new BO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await PO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gr(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function rs(t){return bt(t)}class tw{constructor(e){this.auth=e,this.observer=null,this.addObserver=nN(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qO(t){Yd=t}function KA(t){return Yd.loadJS(t)}function HO(){return Yd.recaptchaEnterpriseScript}function GO(){return Yd.gapiScript}function $O(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class YO{constructor(){this.enterprise=new KO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class KO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const WO="recaptcha-enterprise",WA="NO_RECAPTCHA";class QO{constructor(e){this.type=WO,this.auth=rs(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{RO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new CO(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;QE(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(WA)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YO().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(h=>{if(!n&&QE(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=HO();d.length!==0&&(d+=h),KA(d).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function nw(t,e,n,r=!1,a=!1){const l=new QO(t);let u;if(a)u=WA;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function fd(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await nw(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await nw(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}function XO(t,e){const n=$d(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(to(l,e??{}))return a;wi(a,"already-initialized")}return n.initialize({options:e})}function JO(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ZO(t,e,n){const r=rs(t);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=QA(e),{host:u,port:h}=eP(e),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(to(p,r.config.emulator)&&to(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,oa(u)?(vv(`${l}//${u}${d}`),_v("Auth",!0)):tP()}function QA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eP(t){const e=QA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:iw(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:iw(u)}}}function iw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class xv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}async function nP(t,e){return Gi(t,"POST","/v1/accounts:update",e)}async function iP(t,e){return Gi(t,"POST","/v1/accounts:signUp",e)}async function rP(t,e){return Uc(t,"POST","/v1/accounts:signInWithPassword",is(t,e))}async function XA(t,e){return Gi(t,"POST","/v1/accounts:sendOobCode",is(t,e))}async function sP(t,e){return XA(t,e)}async function aP(t,e){return XA(t,e)}async function oP(t,e){return Uc(t,"POST","/v1/accounts:signInWithEmailLink",is(t,e))}async function lP(t,e){return Uc(t,"POST","/v1/accounts:signInWithEmailLink",is(t,e))}class Tc extends xv{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Tc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Tc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fd(e,n,"signInWithPassword",rP);case"emailLink":return oP(e,{email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fd(e,r,"signUpPassword",iP);case"emailLink":return lP(e,{idToken:n,email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function dl(t,e){return Uc(t,"POST","/v1/accounts:signInWithIdp",is(t,e))}const uP="http://localhost";class ro extends xv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const u=new ro(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return dl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,dl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,dl(e,n)}buildRequest(){const e={requestUri:uP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vc(n)}return e}}function cP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hP(t){const e=Zu(ec(t)).link,n=e?Zu(ec(e)).deep_link_id:null,r=Zu(ec(t)).deep_link_id;return(r?Zu(ec(r)).link:null)||r||n||e||t}class Iv{constructor(e){const n=Zu(ec(e)),r=n.apiKey??null,a=n.oobCode??null,l=cP(n.mode??null);je(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=hP(e);try{return new Iv(n)}catch{return null}}}class Nl{constructor(){this.providerId=Nl.PROVIDER_ID}static credential(e,n){return Tc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Iv.parseLink(n);return je(r,"argument-error"),Tc._fromEmailAndCode(e,r.code,r.tenantId)}}Nl.PROVIDER_ID="password";Nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Dv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jc extends Dv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fs extends jc{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";class qs extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ro._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";class Hs extends jc{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";class Gs extends jc{constructor(){super("twitter.com")}static credential(e,n){return ro._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gs.credential(n,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";async function fP(t,e){return Uc(t,"POST","/v1/accounts:signUp",is(t,e))}class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await ji._fromIdTokenResponse(e,r,a),u=rw(r);return new so({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=rw(r);return new so({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function rw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class dd extends wr{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,dd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new dd(e,n,r,a)}}function JA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?dd._fromErrorAndOperation(t,l,e,r):l})}async function dP(t,e,n=!1){const r=await io(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return so._forOperation(t,"link",r)}async function ZA(t,e,n=!1){const{auth:r}=t;if(qn(r.app))return Promise.reject(Yr(r));const a="reauthenticate";try{const l=await io(t,JA(r,a,e,t),n);je(l.idToken,r,"internal-error");const u=Cv(l.idToken);je(u,r,"internal-error");const{sub:h}=u;return je(t.uid===h,r,"user-mismatch"),so._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&wi(r,"user-mismatch"),l}}async function eC(t,e,n=!1){if(qn(t.app))return Promise.reject(Yr(t));const r="signIn",a=await JA(t,r,e),l=await so._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function mP(t,e){return eC(rs(t),e)}async function MF(t,e){return ZA(bt(t),e)}async function tC(t){const e=rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NF(t,e,n){const r=rs(t);await fd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",aP)}async function OF(t,e,n){if(qn(t.app))return Promise.reject(Yr(t));const r=rs(t),u=await fd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fP).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&tC(t),d}),h=await so._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function PF(t,e,n){return qn(t.app)?Promise.reject(Yr(t)):mP(bt(t),Nl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tC(t),r})}async function VF(t,e){const n=bt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await sP(n.auth,a);l!==t.email&&await t.reload()}async function pP(t,e){return Gi(t,"POST","/v1/accounts:update",e)}async function LF(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=bt(t),l={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await io(r,pP(r.auth,l));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function UF(t,e){return gP(bt(t),null,e)}async function gP(t,e,n){const{auth:r}=t,l={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(l.password=n);const u=await io(t,nP(r,l));await t._updateTokensIfNecessary(u,!0)}function yP(t,e,n,r){return bt(t).onIdTokenChanged(e,n,r)}function vP(t,e,n){return bt(t).beforeAuthStateChanged(e,n)}function _P(t,e,n,r){return bt(t).onAuthStateChanged(e,n,r)}function nC(t){return bt(t).signOut()}const md="__sak";class iC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(md,"1"),this.storage.removeItem(md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const TP=1e3,bP=10;class rC extends iC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$A(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);LO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,bP):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},TP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rC.type="LOCAL";const EP=rC;class sC extends iC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sC.type="SESSION";const aC=sC;function wP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Kd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),d=await wP(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kd.receivers=[];function kv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class SP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=kv("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(b.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function gr(){return window}function AP(t){gr().location.href=t}function oC(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function CP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RP(){return navigator?.serviceWorker?.controller||null}function xP(){return oC()?self:null}const lC="firebaseLocalStorageDb",IP=1,pd="firebaseLocalStorage",uC="fbase_key";class zc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wd(t,e){return t.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function DP(){const t=indexedDB.deleteDatabase(lC);return new zc(t).toPromise()}function _y(){const t=indexedDB.open(lC,IP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pd,{keyPath:uC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pd)?e(r):(r.close(),await DP(),e(await _y()))})})}async function sw(t,e,n){const r=Wd(t,!0).put({[uC]:e,value:n});return new zc(r).toPromise()}async function kP(t,e){const n=Wd(t,!1).get(e),r=await new zc(n).toPromise();return r===void 0?null:r.value}function aw(t,e){const n=Wd(t,!0).delete(e);return new zc(n).toPromise()}const MP=800,NP=3;class cC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _y(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>NP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kd._getInstance(xP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CP(),!this.activeServiceWorker)return;this.sender=new SP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _y();return await sw(e,md,"1"),await aw(e,md),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Wd(a,!1).getAll();return new zc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cC.type="LOCAL";const OP=cC;new Lc(3e4,6e4);function hC(t,e){return e?Gr(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Mv extends xv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PP(t){return eC(t.auth,new Mv(t),t.bypassAuthState)}function VP(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),ZA(n,new Mv(t),t.bypassAuthState)}async function LP(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),dP(n,new Mv(t),t.bypassAuthState)}class fC{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PP;case"linkViaPopup":case"linkViaRedirect":return LP;case"reauthViaPopup":case"reauthViaRedirect":return VP;default:wi(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UP=new Lc(2e3,1e4);async function jF(t,e,n){if(qn(t.app))return Promise.reject(zi(t,"operation-not-supported-in-this-environment"));const r=rs(t);yO(t,e,Dv);const a=hC(r,n);return new Ya(r,"signInViaPopup",e,a).executeNotNull()}class Ya extends fC{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=kv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UP.get())};e()}}Ya.currentPopupAction=null;const jP="pendingRedirect",Gf=new Map;class zP extends fC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gf.get(this.auth._key());if(!e){try{const r=await BP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gf.set(this.auth._key(),e)}return this.bypassAuthState||Gf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BP(t,e){const n=HP(e),r=qP(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function FP(t,e){Gf.set(t._key(),e)}function qP(t){return Gr(t._redirectPersistence)}function HP(t){return Hf(jP,t.config.apiKey,t.name)}async function GP(t,e,n=!1){if(qn(t.app))return Promise.reject(Yr(t));const r=rs(t),a=hC(r,e),u=await new zP(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const $P=600*1e3;class YP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!dC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(zi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$P&&this.cachedEventUids.clear(),this.cachedEventUids.has(ow(e))}saveEventToCache(e){this.cachedEventUids.add(ow(e)),this.lastProcessedEventTime=Date.now()}}function ow(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function KP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dC(t);default:return!1}}async function WP(t,e={}){return Gi(t,"GET","/v1/projects",e)}const QP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XP=/^https?/;async function JP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WP(t);for(const n of e)try{if(ZP(n))return}catch{}wi(t,"unauthorized-domain")}function ZP(t){const e=yy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!XP.test(n))return!1;if(QP.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const eV=new Lc(3e4,6e4);function lw(){const t=gr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tV(t){return new Promise((e,n)=>{function r(){lw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lw(),n(zi(t,"network-request-failed"))},timeout:eV.get()})}if(gr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gr().gapi?.load)r();else{const a=$O("iframefcb");return gr()[a]=()=>{gapi.load?r():n(zi(t,"network-request-failed"))},KA(`${GO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $f=null,e})}let $f=null;function nV(t){return $f=$f||tV(t),$f}const iV=new Lc(5e3,15e3),rV="__/auth/iframe",sV="emulator/auth/iframe",aV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lV(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Av(e,sV):`https://${t.config.authDomain}/${rV}`,r={apiKey:e.apiKey,appName:t.name,v:Ml},a=oV.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Vc(r).slice(1)}`}async function uV(t){const e=await nV(t),n=gr().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:lV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aV,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=zi(t,"network-request-failed"),h=gr().setTimeout(()=>{l(u)},iV.get());function d(){gr().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{l(u)})}))}const cV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hV=500,fV=600,dV="_blank",mV="http://localhost";class uw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pV(t,e,n,r=hV,a=fV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...cV,width:r.toString(),height:a.toString(),top:l,left:u},p=xn().toLowerCase();n&&(h=BA(p)?dV:n),jA(p)&&(e=e||mV,d.scrollbars="yes");const y=Object.entries(d).reduce((b,[x,M])=>`${b}${x}=${M},`,"");if(VO(p)&&h!=="_self")return gV(e||"",h),new uw(null);const v=window.open(e||"",h,y);je(v,t,"popup-blocked");try{v.focus()}catch{}return new uw(v)}function gV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const yV="__/auth/handler",vV="emulator/auth/handler",_V=encodeURIComponent("fac");async function cw(t,e,n,r,a,l){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ml,eventId:a};if(e instanceof Dv){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",tN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof jc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),p=d?`#${_V}=${encodeURIComponent(d)}`:"";return`${TV(t)}?${Vc(h).slice(1)}${p}`}function TV({config:t}){return t.emulator?Av(t,vV):`https://${t.authDomain}/${yV}`}const Og="webStorageSupport";class bV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aC,this._completeRedirectFn=GP,this._overrideRedirectResult=FP}async _openPopup(e,n,r,a){Jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await cw(e,n,r,yy(),a);return pV(e,l,kv())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await cw(e,n,r,yy(),a);return AP(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Jr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uV(e),r=new YP(e);return n.register("authEvent",a=>(je(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Og,{type:Og},a=>{const l=a?.[0]?.[Og];l!==void 0&&n(!!l),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $A()||zA()||Rv()}}const EV=bV;var hw="@firebase/auth",fw="1.12.0";class wV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AV(t){no(new Js("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;je(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YA(t)},p=new FO(r,a,l,d);return JO(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),no(new Js("auth-internal",e=>{const n=rs(e.getProvider("auth").getImmediate());return(r=>new wV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(hw,fw,SV(t)),pr(hw,fw,"esm2020")}const CV=300,RV=CA("authIdTokenMaxAge")||CV;let dw=null;const xV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>RV)return;const a=n?.token;dw!==a&&(dw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function IV(t=Ev()){const e=$d(t,"auth");if(e.isInitialized())return e.getImmediate();const n=XO(t,{popupRedirectResolver:EV,persistence:[OP,EP,aC]}),r=CA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=xV(l.toString());vP(n,u,()=>u(n.currentUser)),yP(n,h=>u(h))}}const a=wA("auth");return a&&ZO(n,`http://${a}`),n}function DV(){return document.getElementsByTagName("head")?.[0]??document}qO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=zi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",DV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AV("Browser");var mw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qs,mC;(function(){var t;function e(S,w){function k(){}k.prototype=w.prototype,S.F=w.prototype,S.prototype=new k,S.prototype.constructor=S,S.D=function(N,O,I){for(var A=Array(arguments.length-2),$=2;$<arguments.length;$++)A[$-2]=arguments[$];return w.prototype[O].apply(N,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(S,w,k){k||(k=0);const N=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)N[O]=w.charCodeAt(k++)|w.charCodeAt(k++)<<8|w.charCodeAt(k++)<<16|w.charCodeAt(k++)<<24;else for(O=0;O<16;++O)N[O]=w[k++]|w[k++]<<8|w[k++]<<16|w[k++]<<24;w=S.g[0],k=S.g[1],O=S.g[2];let I=S.g[3],A;A=w+(I^k&(O^I))+N[0]+3614090360&4294967295,w=k+(A<<7&4294967295|A>>>25),A=I+(O^w&(k^O))+N[1]+3905402710&4294967295,I=w+(A<<12&4294967295|A>>>20),A=O+(k^I&(w^k))+N[2]+606105819&4294967295,O=I+(A<<17&4294967295|A>>>15),A=k+(w^O&(I^w))+N[3]+3250441966&4294967295,k=O+(A<<22&4294967295|A>>>10),A=w+(I^k&(O^I))+N[4]+4118548399&4294967295,w=k+(A<<7&4294967295|A>>>25),A=I+(O^w&(k^O))+N[5]+1200080426&4294967295,I=w+(A<<12&4294967295|A>>>20),A=O+(k^I&(w^k))+N[6]+2821735955&4294967295,O=I+(A<<17&4294967295|A>>>15),A=k+(w^O&(I^w))+N[7]+4249261313&4294967295,k=O+(A<<22&4294967295|A>>>10),A=w+(I^k&(O^I))+N[8]+1770035416&4294967295,w=k+(A<<7&4294967295|A>>>25),A=I+(O^w&(k^O))+N[9]+2336552879&4294967295,I=w+(A<<12&4294967295|A>>>20),A=O+(k^I&(w^k))+N[10]+4294925233&4294967295,O=I+(A<<17&4294967295|A>>>15),A=k+(w^O&(I^w))+N[11]+2304563134&4294967295,k=O+(A<<22&4294967295|A>>>10),A=w+(I^k&(O^I))+N[12]+1804603682&4294967295,w=k+(A<<7&4294967295|A>>>25),A=I+(O^w&(k^O))+N[13]+4254626195&4294967295,I=w+(A<<12&4294967295|A>>>20),A=O+(k^I&(w^k))+N[14]+2792965006&4294967295,O=I+(A<<17&4294967295|A>>>15),A=k+(w^O&(I^w))+N[15]+1236535329&4294967295,k=O+(A<<22&4294967295|A>>>10),A=w+(O^I&(k^O))+N[1]+4129170786&4294967295,w=k+(A<<5&4294967295|A>>>27),A=I+(k^O&(w^k))+N[6]+3225465664&4294967295,I=w+(A<<9&4294967295|A>>>23),A=O+(w^k&(I^w))+N[11]+643717713&4294967295,O=I+(A<<14&4294967295|A>>>18),A=k+(I^w&(O^I))+N[0]+3921069994&4294967295,k=O+(A<<20&4294967295|A>>>12),A=w+(O^I&(k^O))+N[5]+3593408605&4294967295,w=k+(A<<5&4294967295|A>>>27),A=I+(k^O&(w^k))+N[10]+38016083&4294967295,I=w+(A<<9&4294967295|A>>>23),A=O+(w^k&(I^w))+N[15]+3634488961&4294967295,O=I+(A<<14&4294967295|A>>>18),A=k+(I^w&(O^I))+N[4]+3889429448&4294967295,k=O+(A<<20&4294967295|A>>>12),A=w+(O^I&(k^O))+N[9]+568446438&4294967295,w=k+(A<<5&4294967295|A>>>27),A=I+(k^O&(w^k))+N[14]+3275163606&4294967295,I=w+(A<<9&4294967295|A>>>23),A=O+(w^k&(I^w))+N[3]+4107603335&4294967295,O=I+(A<<14&4294967295|A>>>18),A=k+(I^w&(O^I))+N[8]+1163531501&4294967295,k=O+(A<<20&4294967295|A>>>12),A=w+(O^I&(k^O))+N[13]+2850285829&4294967295,w=k+(A<<5&4294967295|A>>>27),A=I+(k^O&(w^k))+N[2]+4243563512&4294967295,I=w+(A<<9&4294967295|A>>>23),A=O+(w^k&(I^w))+N[7]+1735328473&4294967295,O=I+(A<<14&4294967295|A>>>18),A=k+(I^w&(O^I))+N[12]+2368359562&4294967295,k=O+(A<<20&4294967295|A>>>12),A=w+(k^O^I)+N[5]+4294588738&4294967295,w=k+(A<<4&4294967295|A>>>28),A=I+(w^k^O)+N[8]+2272392833&4294967295,I=w+(A<<11&4294967295|A>>>21),A=O+(I^w^k)+N[11]+1839030562&4294967295,O=I+(A<<16&4294967295|A>>>16),A=k+(O^I^w)+N[14]+4259657740&4294967295,k=O+(A<<23&4294967295|A>>>9),A=w+(k^O^I)+N[1]+2763975236&4294967295,w=k+(A<<4&4294967295|A>>>28),A=I+(w^k^O)+N[4]+1272893353&4294967295,I=w+(A<<11&4294967295|A>>>21),A=O+(I^w^k)+N[7]+4139469664&4294967295,O=I+(A<<16&4294967295|A>>>16),A=k+(O^I^w)+N[10]+3200236656&4294967295,k=O+(A<<23&4294967295|A>>>9),A=w+(k^O^I)+N[13]+681279174&4294967295,w=k+(A<<4&4294967295|A>>>28),A=I+(w^k^O)+N[0]+3936430074&4294967295,I=w+(A<<11&4294967295|A>>>21),A=O+(I^w^k)+N[3]+3572445317&4294967295,O=I+(A<<16&4294967295|A>>>16),A=k+(O^I^w)+N[6]+76029189&4294967295,k=O+(A<<23&4294967295|A>>>9),A=w+(k^O^I)+N[9]+3654602809&4294967295,w=k+(A<<4&4294967295|A>>>28),A=I+(w^k^O)+N[12]+3873151461&4294967295,I=w+(A<<11&4294967295|A>>>21),A=O+(I^w^k)+N[15]+530742520&4294967295,O=I+(A<<16&4294967295|A>>>16),A=k+(O^I^w)+N[2]+3299628645&4294967295,k=O+(A<<23&4294967295|A>>>9),A=w+(O^(k|~I))+N[0]+4096336452&4294967295,w=k+(A<<6&4294967295|A>>>26),A=I+(k^(w|~O))+N[7]+1126891415&4294967295,I=w+(A<<10&4294967295|A>>>22),A=O+(w^(I|~k))+N[14]+2878612391&4294967295,O=I+(A<<15&4294967295|A>>>17),A=k+(I^(O|~w))+N[5]+4237533241&4294967295,k=O+(A<<21&4294967295|A>>>11),A=w+(O^(k|~I))+N[12]+1700485571&4294967295,w=k+(A<<6&4294967295|A>>>26),A=I+(k^(w|~O))+N[3]+2399980690&4294967295,I=w+(A<<10&4294967295|A>>>22),A=O+(w^(I|~k))+N[10]+4293915773&4294967295,O=I+(A<<15&4294967295|A>>>17),A=k+(I^(O|~w))+N[1]+2240044497&4294967295,k=O+(A<<21&4294967295|A>>>11),A=w+(O^(k|~I))+N[8]+1873313359&4294967295,w=k+(A<<6&4294967295|A>>>26),A=I+(k^(w|~O))+N[15]+4264355552&4294967295,I=w+(A<<10&4294967295|A>>>22),A=O+(w^(I|~k))+N[6]+2734768916&4294967295,O=I+(A<<15&4294967295|A>>>17),A=k+(I^(O|~w))+N[13]+1309151649&4294967295,k=O+(A<<21&4294967295|A>>>11),A=w+(O^(k|~I))+N[4]+4149444226&4294967295,w=k+(A<<6&4294967295|A>>>26),A=I+(k^(w|~O))+N[11]+3174756917&4294967295,I=w+(A<<10&4294967295|A>>>22),A=O+(w^(I|~k))+N[2]+718787259&4294967295,O=I+(A<<15&4294967295|A>>>17),A=k+(I^(O|~w))+N[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+I&4294967295}r.prototype.v=function(S,w){w===void 0&&(w=S.length);const k=w-this.blockSize,N=this.C;let O=this.h,I=0;for(;I<w;){if(O==0)for(;I<=k;)a(this,S,I),I+=this.blockSize;if(typeof S=="string"){for(;I<w;)if(N[O++]=S.charCodeAt(I++),O==this.blockSize){a(this,N),O=0;break}}else for(;I<w;)if(N[O++]=S[I++],O==this.blockSize){a(this,N),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;w=this.o*8;for(var k=S.length-8;k<S.length;++k)S[k]=w&255,w/=256;for(this.v(S),S=Array(16),w=0,k=0;k<4;++k)for(let N=0;N<32;N+=8)S[w++]=this.g[k]>>>N&255;return S};function l(S,w){var k=h;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=w(S)}function u(S,w){this.h=w;const k=[];let N=!0;for(let O=S.length-1;O>=0;O--){const I=S[O]|0;N&&I==w||(k[O]=I,N=!1)}this.g=k}var h={};function d(S){return-128<=S&&S<128?l(S,function(w){return new u([w|0],w<0?-1:0)}):new u([S|0],S<0?-1:0)}function p(S){if(isNaN(S)||!isFinite(S))return v;if(S<0)return B(p(-S));const w=[];let k=1;for(let N=0;S>=k;N++)w[N]=S/k|0,k*=4294967296;return new u(w,0)}function y(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return B(y(S.substring(1),w));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=p(Math.pow(w,8));let N=v;for(let I=0;I<S.length;I+=8){var O=Math.min(8,S.length-I);const A=parseInt(S.substring(I,I+O),w);O<8?(O=p(Math.pow(w,O)),N=N.j(O).add(p(A))):(N=N.j(k),N=N.add(p(A)))}return N}var v=d(0),b=d(1),x=d(16777216);t=u.prototype,t.m=function(){if(P(this))return-B(this).m();let S=0,w=1;for(let k=0;k<this.g.length;k++){const N=this.i(k);S+=(N>=0?N:4294967296+N)*w,w*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(M(this))return"0";if(P(this))return"-"+B(this).toString(S);const w=p(Math.pow(S,6));var k=this;let N="";for(;;){const O=fe(k,w).g;k=U(k,O.j(w));let I=((k.g.length>0?k.g[0]:k.h)>>>0).toString(S);if(k=O,M(k))return I+N;for(;I.length<6;)I="0"+I;N=I+N}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function M(S){if(S.h!=0)return!1;for(let w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function P(S){return S.h==-1}t.l=function(S){return S=U(this,S),P(S)?-1:M(S)?0:1};function B(S){const w=S.g.length,k=[];for(let N=0;N<w;N++)k[N]=~S.g[N];return new u(k,~S.h).add(b)}t.abs=function(){return P(this)?B(this):this},t.add=function(S){const w=Math.max(this.g.length,S.g.length),k=[];let N=0;for(let O=0;O<=w;O++){let I=N+(this.i(O)&65535)+(S.i(O)&65535),A=(I>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);N=A>>>16,I&=65535,A&=65535,k[O]=A<<16|I}return new u(k,k[k.length-1]&-2147483648?-1:0)};function U(S,w){return S.add(B(w))}t.j=function(S){if(M(this)||M(S))return v;if(P(this))return P(S)?B(this).j(B(S)):B(B(this).j(S));if(P(S))return B(this.j(B(S)));if(this.l(x)<0&&S.l(x)<0)return p(this.m()*S.m());const w=this.g.length+S.g.length,k=[];for(var N=0;N<2*w;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(let O=0;O<S.g.length;O++){const I=this.i(N)>>>16,A=this.i(N)&65535,$=S.i(O)>>>16,G=S.i(O)&65535;k[2*N+2*O]+=A*G,j(k,2*N+2*O),k[2*N+2*O+1]+=I*G,j(k,2*N+2*O+1),k[2*N+2*O+1]+=A*$,j(k,2*N+2*O+1),k[2*N+2*O+2]+=I*$,j(k,2*N+2*O+2)}for(S=0;S<w;S++)k[S]=k[2*S+1]<<16|k[2*S];for(S=w;S<2*w;S++)k[S]=0;return new u(k,0)};function j(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function F(S,w){this.g=S,this.h=w}function fe(S,w){if(M(w))throw Error("division by zero");if(M(S))return new F(v,v);if(P(S))return w=fe(B(S),w),new F(B(w.g),B(w.h));if(P(w))return w=fe(S,B(w)),new F(B(w.g),w.h);if(S.g.length>30){if(P(S)||P(w))throw Error("slowDivide_ only works with positive integers.");for(var k=b,N=w;N.l(S)<=0;)k=V(k),N=V(N);var O=ee(k,1),I=ee(N,1);for(N=ee(N,2),k=ee(k,2);!M(N);){var A=I.add(N);A.l(S)<=0&&(O=O.add(k),I=A),N=ee(N,1),k=ee(k,1)}return w=U(S,O.j(w)),new F(O,w)}for(O=v;S.l(w)>=0;){for(k=Math.max(1,Math.floor(S.m()/w.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),I=p(k),A=I.j(w);P(A)||A.l(S)>0;)k-=N,I=p(k),A=I.j(w);M(I)&&(I=b),O=O.add(I),S=U(S,A)}return new F(O,S)}t.B=function(S){return fe(this,S).h},t.and=function(S){const w=Math.max(this.g.length,S.g.length),k=[];for(let N=0;N<w;N++)k[N]=this.i(N)&S.i(N);return new u(k,this.h&S.h)},t.or=function(S){const w=Math.max(this.g.length,S.g.length),k=[];for(let N=0;N<w;N++)k[N]=this.i(N)|S.i(N);return new u(k,this.h|S.h)},t.xor=function(S){const w=Math.max(this.g.length,S.g.length),k=[];for(let N=0;N<w;N++)k[N]=this.i(N)^S.i(N);return new u(k,this.h^S.h)};function V(S){const w=S.g.length+1,k=[];for(let N=0;N<w;N++)k[N]=S.i(N)<<1|S.i(N-1)>>>31;return new u(k,S.h)}function ee(S,w){const k=w>>5;w%=32;const N=S.g.length-k,O=[];for(let I=0;I<N;I++)O[I]=w>0?S.i(I+k)>>>w|S.i(I+k+1)<<32-w:S.i(I+k);return new u(O,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,mC=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Qs=u}).apply(typeof mw<"u"?mw:typeof self<"u"?self:typeof window<"u"?window:{});var Df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pC,tc,gC,Yf,Ty,yC,vC,_C;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Df=="object"&&Df];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(f,_){if(_)e:{var E=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var Z=f[D];if(!(Z in E))break e;E=E[Z]}f=f[f.length-1],D=E[f],_=_(D),_!=D&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var E=[],D;for(D in _)Object.prototype.hasOwnProperty.call(_,D)&&E.push([D,_[D]]);return E}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function p(f,_,E){return p=d,p.apply(null,arguments)}function y(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var D=E.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(D,Z,se){for(var _e=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)_e[$e-2]=arguments[$e];return _.prototype[Z].apply(D,_e)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function x(f){const _=f.length;if(_>0){const E=Array(_);for(let D=0;D<_;D++)E[D]=f[D];return E}return[]}function M(f,_){for(let D=1;D<arguments.length;D++){const Z=arguments[D];var E=typeof Z;if(E=E!="object"?E:Z?Array.isArray(Z)?"array":E:"null",E=="array"||E=="object"&&typeof Z.length=="number"){E=f.length||0;const se=Z.length||0;f.length=E+se;for(let _e=0;_e<se;_e++)f[E+_e]=Z[_e]}else f.push(Z)}}class P{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(f){u.setTimeout(()=>{throw f},0)}function U(){var f=S;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class j{constructor(){this.h=this.g=null}add(_,E){const D=F.get();D.set(_,E),this.h?this.h.next=D:this.g=D,this.h=D}}var F=new P(()=>new fe,f=>f.reset());class fe{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let V,ee=!1,S=new j,w=()=>{const f=Promise.resolve(void 0);V=()=>{f.then(k)}};function k(){for(var f;f=U();){try{f.h.call(f.g)}catch(E){B(E)}var _=F;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}ee=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return f})();function A(f){return/^[\s\xa0]*$/.test(f)}function $(f,_){O.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v($,O),$.prototype.init=function(f,_){const E=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var G="closure_listenable_"+(Math.random()*1e6|0),Y=0;function re(f,_,E,D,Z){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!D,this.ha=Z,this.key=++Y,this.da=this.fa=!1}function J(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ae(f,_,E){for(const D in f)_.call(E,f[D],D,f)}function Oe(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function z(f){const _={};for(const E in f)_[E]=f[E];return _}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(f,_){let E,D;for(let Z=1;Z<arguments.length;Z++){D=arguments[Z];for(E in D)f[E]=D[E];for(let se=0;se<oe.length;se++)E=oe[se],Object.prototype.hasOwnProperty.call(D,E)&&(f[E]=D[E])}}function K(f){this.src=f,this.g={},this.h=0}K.prototype.add=function(f,_,E,D,Z){const se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);const _e=ge(f,_,D,Z);return _e>-1?(_=f[_e],E||(_.fa=!1)):(_=new re(_,this.src,se,!!D,Z),_.fa=E,f.push(_)),_};function X(f,_){const E=_.type;if(E in f.g){var D=f.g[E],Z=Array.prototype.indexOf.call(D,_,void 0),se;(se=Z>=0)&&Array.prototype.splice.call(D,Z,1),se&&(J(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function ge(f,_,E,D){for(let Z=0;Z<f.length;++Z){const se=f[Z];if(!se.da&&se.listener==_&&se.capture==!!E&&se.ha==D)return Z}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),me={};function Ee(f,_,E,D,Z){if(Array.isArray(_)){for(let se=0;se<_.length;se++)Ee(f,_[se],E,D,Z);return null}return E=Je(E),f&&f[G]?f.J(_,E,h(D)?!!D.capture:!1,Z):Ge(f,_,E,!1,D,Z)}function Ge(f,_,E,D,Z,se){if(!_)throw Error("Invalid event type");const _e=h(Z)?!!Z.capture:!!Z;let $e=be(f);if($e||(f[pe]=$e=new K(f)),E=$e.add(_,E,D,_e,se),E.proxy)return E;if(D=Ne(),E.proxy=D,D.src=f,D.listener=E,f.addEventListener)I||(Z=_e),Z===void 0&&(Z=!1),f.addEventListener(_.toString(),D,Z);else if(f.attachEvent)f.attachEvent(ve(_.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ne(){function f(E){return _.call(f.src,f.listener,E)}const _=we;return f}function It(f,_,E,D,Z){if(Array.isArray(_))for(var se=0;se<_.length;se++)It(f,_[se],E,D,Z);else D=h(D)?!!D.capture:!!D,E=Je(E),f&&f[G]?(f=f.i,se=String(_).toString(),se in f.g&&(_=f.g[se],E=ge(_,E,D,Z),E>-1&&(J(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[se],f.h--)))):f&&(f=be(f))&&(_=f.g[_.toString()],f=-1,_&&(f=ge(_,E,D,Z)),(E=f>-1?_[f]:null)&&ye(E))}function ye(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[G])X(_.i,f);else{var E=f.type,D=f.proxy;_.removeEventListener?_.removeEventListener(E,D,f.capture):_.detachEvent?_.detachEvent(ve(E),D):_.addListener&&_.removeListener&&_.removeListener(D),(E=be(_))?(X(E,f),E.h==0&&(E.src=null,_[pe]=null)):J(f)}}}function ve(f){return f in me?me[f]:me[f]="on"+f}function we(f,_){if(f.da)f=!0;else{_=new $(_,this);const E=f.listener,D=f.ha||f.src;f.fa&&ye(f),f=E.call(D,_)}return f}function be(f){return f=f[pe],f instanceof K?f:null}var ke="__closure_events_fn_"+(Math.random()*1e9>>>0);function Je(f){return typeof f=="function"?f:(f[ke]||(f[ke]=function(_){return f.handleEvent(_)}),f[ke])}function Ue(){N.call(this),this.i=new K(this),this.M=this,this.G=null}v(Ue,N),Ue.prototype[G]=!0,Ue.prototype.removeEventListener=function(f,_,E,D){It(this,f,_,E,D)};function He(f,_){var E,D=f.G;if(D)for(E=[];D;D=D.G)E.push(D);if(f=f.M,D=_.type||_,typeof _=="string")_=new O(_,f);else if(_ instanceof O)_.target=_.target||f;else{var Z=_;_=new O(D,f),Q(_,Z)}Z=!0;let se,_e;if(E)for(_e=E.length-1;_e>=0;_e--)se=_.g=E[_e],Z=$i(se,D,!0,_)&&Z;if(se=_.g=f,Z=$i(se,D,!0,_)&&Z,Z=$i(se,D,!1,_)&&Z,E)for(_e=0;_e<E.length;_e++)se=_.g=E[_e],Z=$i(se,D,!1,_)&&Z}Ue.prototype.N=function(){if(Ue.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let D=0;D<E.length;D++)J(E[D]);delete f.g[_],f.h--}}this.G=null},Ue.prototype.J=function(f,_,E,D){return this.i.add(String(f),_,!1,E,D)},Ue.prototype.K=function(f,_,E,D){return this.i.add(String(f),_,!0,E,D)};function $i(f,_,E,D){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let Z=!0;for(let se=0;se<_.length;++se){const _e=_[se];if(_e&&!_e.da&&_e.capture==E){const $e=_e.listener,Ut=_e.ha||_e.src;_e.fa&&X(f.i,_e),Z=$e.call(Ut,D)!==!1&&Z}}return Z&&!D.defaultPrevented}function bm(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function Jc(f){f.g=bm(()=>{f.g=null,f.i&&(f.i=!1,Jc(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class In extends N{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Jc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(f){N.call(this),this.h=f,this.g={}}v(ha,N);var Hl=[];function Gl(f){Ae(f.g,function(_,E){this.g.hasOwnProperty(E)&&ye(_)},f),f.g={}}ha.prototype.N=function(){ha.Z.N.call(this),Gl(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=u.JSON.stringify,Em=u.JSON.parse,Zc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function eh(){}function th(){}var Ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fn(){O.call(this,"d")}v(fn,O);function si(){O.call(this,"c")}v(si,O);var Lt={},nh=null;function mo(){return nh=nh||new Ue}Lt.Ia="serverreachability";function ih(f){O.call(this,Lt.Ia,f)}v(ih,O);function Yi(f){const _=mo();He(_,new ih(_))}Lt.STAT_EVENT="statevent";function fa(f,_){O.call(this,Lt.STAT_EVENT,f),this.stat=_}v(fa,O);function qt(f){const _=mo();He(_,new fa(_,f))}Lt.Ja="timingevent";function Ki(f,_){O.call(this,Lt.Ja,f),this.size=_}v(Ki,O);function Wi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function Ci(){this.g=!0}Ci.prototype.ua=function(){this.g=!1};function wm(f,_,E,D,Z,se){f.info(function(){if(f.g)if(se){var _e="",$e=se.split("&");for(let lt=0;lt<$e.length;lt++){var Ut=$e[lt].split("=");if(Ut.length>1){const Ct=Ut[0];Ut=Ut[1];const ui=Ct.split("_");_e=ui.length>=2&&ui[1]=="type"?_e+(Ct+"="+Ut+"&"):_e+(Ct+"=redacted&")}}}else _e=null;else _e=se;return"XMLHTTP REQ ("+D+") [attempt "+Z+"]: "+_+`
`+E+`
`+_e})}function rh(f,_,E,D,Z,se,_e){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Z+"]: "+_+`
`+E+`
`+se+" "+_e})}function Qi(f,_,E,D){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Sm(f,E)+(D?" "+D:"")})}function da(f,_){f.info(function(){return"TIMEOUT: "+_})}Ci.prototype.info=function(){};function Sm(f,_){if(!f.g)return _;if(!_)return null;try{const se=JSON.parse(_);if(se){for(f=0;f<se.length;f++)if(Array.isArray(se[f])){var E=se[f];if(!(E.length<2)){var D=E[1];if(Array.isArray(D)&&!(D.length<1)){var Z=D[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let _e=1;_e<D.length;_e++)D[_e]=""}}}}return as(se)}catch{return _}}var ma={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yl;function pa(){}v(pa,eh),pa.prototype.g=function(){return new XMLHttpRequest},Yl=new pa;function Sr(f){return encodeURIComponent(String(f))}function sh(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function Ri(f,_,E,D){this.j=f,this.i=_,this.l=E,this.S=D||1,this.V=new ha(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xi}function xi(){this.i=null,this.g="",this.h=!1}var Ht={},on={};function Xi(f,_,E){f.M=1,f.A=ga($t(_)),f.u=E,f.R=!0,po(f,null)}function po(f,_){f.F=Date.now(),Ji(f),f.B=$t(f.A);var E=f.B,D=f.S;Array.isArray(D)||(D=[String(D)]),_o(E.i,"t",D),f.C=0,E=f.j.L,f.h=new xi,f.g=Th(f.j,E?_:null,!f.u),f.P>0&&(f.O=new In(p(f.Y,f,f.g),f.P)),_=f.V,E=f.g,D=f.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(Hl[0]=Z.toString()),Z=Hl);for(let se=0;se<Z.length;se++){const _e=Ee(E,Z[se],D||_.handleEvent,!1,_.h||_);if(!_e)break;_.g[_e.key]=_e}_=f.J?z(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Yi(),wm(f.i,f.v,f.B,f.l,f.S,f.u)}Ri.prototype.ba=function(f){f=f.target;const _=this.O;_&&ki(f)==3?_.j():this.Y(f)},Ri.prototype.Y=function(f){try{if(f==this.g)e:{const $e=ki(this.g),Ut=this.g.ya(),lt=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||dn(this.g)))){this.K||$e!=4||Ut==7||(Ut==8||lt<=0?Yi(3):Yi(2)),Zi(this);var _=this.g.ca();this.X=_;var E=Am(this);if(this.o=_==200,rh(this.i,this.v,this.B,this.l,this.S,$e,_),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Z=this.g;if((D=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(D)){var se=D;break t}}se=null}if(f=se)Qi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,er(this,f);else{this.o=!1,this.m=3,qt(12),Yn(this),ai(this);break e}}if(this.R){f=!0;let Ct;for(;!this.K&&this.C<E.length;)if(Ct=oh(this,E),Ct==on){$e==4&&(this.m=4,qt(14),f=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Ht){this.m=4,qt(15),Qi(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Qi(this.i,this.l,Ct,null),er(this,Ct);if(ah(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||E.length!=0||this.h.h||(this.m=1,qt(16),f=!1),this.o=this.o&&f,!f)Qi(this.i,this.l,E,"[Invalid Chunked Response]"),Yn(this),ai(this);else if(E.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),lu(_e),_e.P=!0,qt(11))}}else Qi(this.i,this.l,E,null),er(this,E);$e==4&&Yn(this),this.o&&!this.K&&($e==4?gh(this.j,this):(this.o=!1,Ji(this)))}else Cr(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),Yn(this),ai(this)}}}catch{}};function Am(f){if(!ah(f))return f.g.la();const _=dn(f.g);if(_==="")return"";let E="";const D=_.length,Z=ki(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Yn(f),ai(f),"";f.h.i=new u.TextDecoder}for(let se=0;se<D;se++)f.h.h=!0,E+=f.h.i.decode(_[se],{stream:!(Z&&se==D-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function ah(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function oh(f,_){var E=f.C,D=_.indexOf(`
`,E);return D==-1?on:(E=Number(_.substring(E,D)),isNaN(E)?Ht:(D+=1,D+E>_.length?on:(_=_.slice(D,D+E),f.C=D+E,_)))}Ri.prototype.cancel=function(){this.K=!0,Yn(this)};function Ji(f){f.T=Date.now()+f.H,go(f,f.H)}function go(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Wi(p(f.aa,f),_)}function Zi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Ri.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(da(this.i,this.B),this.M!=2&&(Yi(),qt(17)),Yn(this),this.m=2,ai(this)):go(this,this.T-f)};function ai(f){f.j.I==0||f.K||gh(f.j,f)}function Yn(f){Zi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Gl(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function er(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||nr(E.h,f))){if(!f.L&&nr(E.h,f)&&E.I==3){try{var D=E.Ba.g.parse(_)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Z=D;if(Z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)So(E),ms(E);else break e;wa(E),qt(18)}}else E.xa=Z[1],0<E.xa-E.K&&Z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Wi(p(E.Va,E),6e3));tr(E.h)<=1&&E.ta&&(E.ta=void 0)}else lr(E,11)}else if((f.L||E.g==f)&&So(E),!A(_))for(Z=E.Ba.g.parse(_),_=0;_<Z.length;_++){let lt=Z[_];const Ct=lt[0];if(!(Ct<=E.K))if(E.K=Ct,lt=lt[1],E.I==2)if(lt[0]=="c"){E.M=lt[1],E.ba=lt[2];const ui=lt[3];ui!=null&&(E.ka=ui,E.j.info("VER="+E.ka));const ur=lt[4];ur!=null&&(E.za=ur,E.j.info("SVER="+E.za));const Mi=lt[5];Mi!=null&&typeof Mi=="number"&&Mi>0&&(D=1.5*Mi,E.O=D,E.j.info("backChannelRequestTimeoutMs_="+D)),D=E;const Ni=f.g;if(Ni){const Sa=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var se=D.h;se.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Ql(se,se.h),se.h=null))}if(D.G){const Ao=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(D.wa=Ao,ht(D.J,D.G,Ao))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),D=E;var _e=f;if(D.na=_h(D,D.L?D.ba:null,D.W),_e.L){Xl(D.h,_e);var $e=_e,Ut=D.O;Ut&&($e.H=Ut),$e.D&&(Zi($e),Ji($e)),D.g=_e}else mh(D);E.i.length>0&&or(E)}else lt[0]!="stop"&&lt[0]!="close"||lr(E,7);else E.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?lr(E,7):au(E):lt[0]!="noop"&&E.l&&E.l.qa(lt),E.A=0)}}Yi(4)}catch{}}var Gt=class{constructor(f,_){this.g=f,this.map=_}};function Kl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function tr(f){return f.h?1:f.g?f.g.size:0}function nr(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Ql(f,_){f.g?f.g.add(_):f.h=_}function Xl(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Kl.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Jl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return x(f.i)}var lh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yo(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const D=f[E].indexOf("=");let Z,se=null;D>=0?(Z=f[E].substring(0,D),se=f[E].substring(D+1)):Z=f[E],_(Z,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function Kn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Kn?(this.l=f.l,ln(this,f.j),this.o=f.o,this.g=f.g,os(this,f.u),this.h=f.h,Zl(this,fh(f.i)),this.m=f.m):f&&(_=String(f).match(lh))?(this.l=!1,ln(this,_[1]||"",!0),this.o=ir(_[2]||""),this.g=ir(_[3]||"",!0),os(this,_[4]),this.h=ir(_[5]||"",!0),Zl(this,_[6]||"",!0),this.m=ir(_[7]||"")):(this.l=!1,this.i=new us(null,this.l))}Kn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(ya(_,vo,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(ya(_,vo,!0),"@"),f.push(Sr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(ya(E,E.charAt(0)=="/"?eu:uh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",ya(E,ch)),f.join("")},Kn.prototype.resolve=function(f){const _=$t(this);let E=!!f.j;E?ln(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var D=f.h;if(E)os(_,f.u);else if(E=!!f.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Z=_.h.lastIndexOf("/");Z!=-1&&(D=_.h.slice(0,Z+1)+D)}if(Z=D,Z==".."||Z==".")D="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){D=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const se=[];for(let _e=0;_e<Z.length;){const $e=Z[_e++];$e=="."?D&&_e==Z.length&&se.push(""):$e==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),D&&_e==Z.length&&se.push("")):(se.push($e),D=!0)}D=se.join("/")}else D=Z}return E?_.h=D:E=f.i.toString()!=="",E?Zl(_,fh(f.i)):E=!!f.m,E&&(_.m=f.m),_};function $t(f){return new Kn(f)}function ln(f,_,E){f.j=E?ir(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function os(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Zl(f,_,E){_ instanceof us?(f.i=_,To(f.i,f.l)):(E||(_=ya(_,ls)),f.i=new us(_,f.l))}function ht(f,_,E){f.i.set(_,E)}function ga(f){return ht(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ir(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ya(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,On),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function On(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var vo=/[#\/\?@]/g,uh=/[#\?:]/g,eu=/[#\?]/g,ls=/[#\?@]/g,ch=/#/g;function us(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Pn(f){f.g||(f.g=new Map,f.h=0,f.i&&yo(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=us.prototype,t.add=function(f,_){Pn(this),this.i=null,f=cs(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function hh(f,_){Pn(f),_=cs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function tu(f,_){return Pn(f),_=cs(f,_),f.g.has(_)}t.forEach=function(f,_){Pn(this),this.g.forEach(function(E,D){E.forEach(function(Z){f.call(_,Z,D,this)},this)},this)};function nu(f,_){Pn(f);let E=[];if(typeof _=="string")tu(f,_)&&(E=E.concat(f.g.get(cs(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}t.set=function(f,_){return Pn(this),this.i=null,f=cs(this,f),tu(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=nu(this,f),f.length>0?String(f[0]):_):_};function _o(f,_,E){hh(f,_),E.length>0&&(f.i=null,f.g.set(cs(f,_),x(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let D=0;D<_.length;D++){var E=_[D];const Z=Sr(E);E=nu(this,E);for(let se=0;se<E.length;se++){let _e=Z;E[se]!==""&&(_e+="="+Sr(E[se])),f.push(_e)}}return this.i=f.join("&")};function fh(f){const _=new us;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function cs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function To(f,_){_&&!f.j&&(Pn(f),f.i=null,f.g.forEach(function(E,D){const Z=D.toLowerCase();D!=Z&&(hh(this,D),_o(this,Z,E))},f)),f.j=_}function Ii(f,_){const E=new Ci;if(u.Image){const D=new Image;D.onload=y(oi,E,"TestLoadImage: loaded",!0,_,D),D.onerror=y(oi,E,"TestLoadImage: error",!1,_,D),D.onabort=y(oi,E,"TestLoadImage: abort",!1,_,D),D.ontimeout=y(oi,E,"TestLoadImage: timeout",!1,_,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else _(!1)}function iu(f,_){const E=new Ci,D=new AbortController,Z=setTimeout(()=>{D.abort(),oi(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:D.signal}).then(se=>{clearTimeout(Z),se.ok?oi(E,"TestPingServer: ok",!0,_):oi(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Z),oi(E,"TestPingServer: error",!1,_)})}function oi(f,_,E,D,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),D(E)}catch{}}function hs(){this.g=new Zc}function rr(f){this.i=f.Sb||null,this.h=f.ab||!1}v(rr,eh),rr.prototype.g=function(){return new va(this.i,this.h)};function va(f,_){Ue.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(va,Ue),t=va.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Di(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function bo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?fs(this):Di(this),this.readyState==3&&bo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,fs(this))},t.Na=function(f){this.g&&(this.response=f,fs(this))},t.ga=function(){this.g&&fs(this)};function fs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Di(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function Di(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function li(f){let _="";return Ae(f,function(E,D){_+=D,_+=":",_+=E,_+=`\r
`}),_}function _a(f,_,E){e:{for(D in E){var D=!1;break e}D=!0}D||(E=li(E),typeof f=="string"?E!=null&&Sr(E):ht(f,_,E))}function pt(f){Ue.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(pt,Ue);var sr=/^https?$/i,ru=["POST","PUT"];t=pt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,E,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yl.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(se){Ta(this,se);return}if(f=E||"",E=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Z in D)E.set(Z,D[Z]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const se of D.keys())E.set(se,D.get(se));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(E.keys()).find(se=>se.toLowerCase()=="content-type"),Z=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(ru,_,void 0)>=0)||D||Z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,_e]of E)this.g.setRequestHeader(se,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(se){Ta(this,se)}};function Ta(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,su(f),Ar(f)}function su(f){f.A||(f.A=!0,He(f,"complete"),He(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,He(this,"complete"),He(this,"abort"),Ar(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),pt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ba(this):this.Xa())},t.Xa=function(){ba(this)};function ba(f){if(f.h&&typeof l<"u"){if(f.v&&ki(f)==4)setTimeout(f.Ca.bind(f),0);else if(He(f,"readystatechange"),ki(f)==4){f.h=!1;try{const se=f.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var D;if(D=se===0){let _e=String(f.D).match(lh)[1]||null;!_e&&u.self&&u.self.location&&(_e=u.self.location.protocol.slice(0,-1)),D=!sr.test(_e?_e.toLowerCase():"")}E=D}if(E)He(f,"complete"),He(f,"success");else{f.o=6;try{var Z=ki(f)>2?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.ca()+"]",su(f)}}finally{Ar(f)}}}}function Ar(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||He(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ki(f){return f.g?f.g.readyState:0}t.ca=function(){try{return ki(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Em(_)}};function dn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Cr(f){const _={};f=(f.g&&ki(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(A(f[D]))continue;var E=sh(f[D]);const Z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const se=_[Z]||[];_[Z]=se,se.push(E)}Oe(_,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function ds(f){this.za=0,this.i=[],this.j=new Ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ar("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ar("baseRetryDelayMs",5e3,f),this.Za=ar("retryDelaySeedMs",1e4,f),this.Ta=ar("forwardChannelMaxRetries",2,f),this.va=ar("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Kl(f&&f.concurrentRequestLimit),this.Ba=new hs,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ds.prototype,t.ka=8,t.I=1,t.connect=function(f,_,E,D){qt(0),this.W=f,this.H=_||{},E&&D!==void 0&&(this.H.OSID=E,this.H.OAID=D),this.F=this.X,this.J=_h(this,null,this.W),or(this)};function au(f){if(Eo(f),f.I==3){var _=f.V++,E=$t(f.J);if(ht(E,"SID",f.M),ht(E,"RID",_),ht(E,"TYPE","terminate"),Ea(f,E),_=new Ri(f,f.j,_),_.M=2,_.A=ga($t(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=Th(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ji(_)}vh(f)}function ms(f){f.g&&(lu(f),f.g.cancel(),f.g=null)}function Eo(f){ms(f),f.v&&(u.clearTimeout(f.v),f.v=null),So(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function or(f){if(!Wl(f.h)&&!f.m){f.m=!0;var _=f.Ea;V||w(),ee||(V(),ee=!0),S.add(_,f),f.D=0}}function wo(f,_){return tr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Wi(p(f.Ea,f,_),yh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Z=new Ri(this,this.j,f);let se=this.o;if(this.U&&(se?(se=z(se),Q(se,this.U)):se=this.U),this.u!==null||this.R||(Z.J=se,se=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var D=this.i[E];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(_+=D,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=dh(this,Z,_),E=$t(this.J),ht(E,"RID",f),ht(E,"CVER",22),this.G&&ht(E,"X-HTTP-Session-Id",this.G),Ea(this,E),se&&(this.R?_="headers="+Sr(li(se))+"&"+_:this.u&&_a(E,this.u,se)),Ql(this.h,Z),this.Ra&&ht(E,"TYPE","init"),this.S?(ht(E,"$req",_),ht(E,"SID","null"),Z.U=!0,Xi(Z,E,null)):Xi(Z,E,_),this.I=2}}else this.I==3&&(f?ou(this,f):this.i.length==0||Wl(this.h)||ou(this))};function ou(f,_){var E;_?E=_.l:E=f.V++;const D=$t(f.J);ht(D,"SID",f.M),ht(D,"RID",E),ht(D,"AID",f.K),Ea(f,D),f.u&&f.o&&_a(D,f.u,f.o),E=new Ri(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=dh(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ql(f.h,E),Xi(E,D,_)}function Ea(f,_){f.H&&Ae(f.H,function(E,D){ht(_,D,E)}),f.l&&Ae({},function(E,D){ht(_,D,E)})}function dh(f,_,E){E=Math.min(f.i.length,E);const D=f.l?p(f.l.Ka,f.l,f):null;e:{var Z=f.i;let $e=-1;for(;;){const Ut=["count="+E];$e==-1?E>0?($e=Z[0].g,Ut.push("ofs="+$e)):$e=0:Ut.push("ofs="+$e);let lt=!0;for(let Ct=0;Ct<E;Ct++){var se=Z[Ct].g;const ui=Z[Ct].map;if(se-=$e,se<0)$e=Math.max(0,Z[Ct].g-100),lt=!1;else try{se="req"+se+"_"||"";try{var _e=ui instanceof Map?ui:Object.entries(ui);for(const[ur,Mi]of _e){let Ni=Mi;h(Mi)&&(Ni=as(Mi)),Ut.push(se+ur+"="+encodeURIComponent(Ni))}}catch(ur){throw Ut.push(se+"type="+encodeURIComponent("_badmap")),ur}}catch{D&&D(ui)}}if(lt){_e=Ut.join("&");break e}}_e=void 0}return f=f.i.splice(0,E),_.G=f,_e}function mh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;V||w(),ee||(V(),ee=!0),S.add(_,f),f.A=0}}function wa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Wi(p(f.Da,f),yh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,ph(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Wi(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),ms(this),ph(this))};function lu(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function ph(f){f.g=new Ri(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=$t(f.na);ht(_,"RID","rpc"),ht(_,"SID",f.M),ht(_,"AID",f.K),ht(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&ht(_,"TO",f.ia),ht(_,"TYPE","xmlhttp"),Ea(f,_),f.u&&f.o&&_a(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=ga($t(_)),E.u=null,E.R=!0,po(E,f)}t.Va=function(){this.C!=null&&(this.C=null,ms(this),wa(this),qt(19))};function So(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function gh(f,_){var E=null;if(f.g==_){So(f),lu(f),f.g=null;var D=2}else if(nr(f.h,_))E=_.G,Xl(f.h,_),D=1;else return;if(f.I!=0){if(_.o)if(D==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var Z=f.D;D=mo(),He(D,new Ki(D,E)),or(f)}else mh(f);else if(Z=_.m,Z==3||Z==0&&_.X>0||!(D==1&&wo(f,_)||D==2&&wa(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),Z){case 1:lr(f,5);break;case 4:lr(f,10);break;case 3:lr(f,6);break;default:lr(f,2)}}}function yh(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function lr(f,_){if(f.j.info("Error code "+_),_==2){var E=p(f.bb,f),D=f.Ua;const Z=!D;D=new Kn(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ln(D,"https"),ga(D),Z?Ii(D.toString(),E):iu(D.toString(),E)}else qt(2);f.I=0,f.l&&f.l.pa(_),vh(f),Eo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function vh(f){if(f.I=0,f.ja=[],f.l){const _=Jl(f.h);(_.length!=0||f.i.length!=0)&&(M(f.ja,_),M(f.ja,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.oa()}}function _h(f,_,E){var D=E instanceof Kn?$t(E):new Kn(E);if(D.g!="")_&&(D.g=_+"."+D.g),os(D,D.u);else{var Z=u.location;D=Z.protocol,_=_?_+"."+Z.hostname:Z.hostname,Z=+Z.port;const se=new Kn(null);D&&ln(se,D),_&&(se.g=_),Z&&os(se,Z),E&&(se.h=E),D=se}return E=f.G,_=f.wa,E&&_&&ht(D,E,_),ht(D,"VER",f.ka),Ea(f,D),D}function Th(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new pt(new rr({ab:E})):new pt(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bh(){}t=bh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ps(){}ps.prototype.g=function(f,_){return new Dn(f,_)};function Dn(f,_){Ue.call(this),this.g=new ds(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!A(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!A(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Rr(this)}v(Dn,Ue),Dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){au(this.g)},Dn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=as(f),f=E);_.i.push(new Gt(_.Ya++,f)),_.I==3&&or(_)},Dn.prototype.N=function(){this.g.l=null,delete this.j,au(this.g),delete this.g,Dn.Z.N.call(this)};function Eh(f){fn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(Eh,fn);function wh(){si.call(this),this.status=1}v(wh,si);function Rr(f){this.g=f}v(Rr,bh),Rr.prototype.ra=function(){He(this.g,"a")},Rr.prototype.qa=function(f){He(this.g,new Eh(f))},Rr.prototype.pa=function(f){He(this.g,new wh)},Rr.prototype.oa=function(){He(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,_C=function(){return new ps},vC=function(){return mo()},yC=Lt,Ty={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,Yf=ma,$l.COMPLETE="complete",gC=$l,th.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",Ue.prototype.listen=Ue.prototype.J,tc=th,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,pC=pt}).apply(typeof Df<"u"?Df:typeof self<"u"?self:typeof window<"u"?window:{});class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");let Ol="12.8.0";function kV(t){Ol=t}const ao=new Tv("@firebase/firestore");function il(){return ao.logLevel}function Se(t,...e){if(ao.logLevel<=tt.DEBUG){const n=e.map(Nv);ao.debug(`Firestore (${Ol}): ${t}`,...n)}}function Zr(t,...e){if(ao.logLevel<=tt.ERROR){const n=e.map(Nv);ao.error(`Firestore (${Ol}): ${t}`,...n)}}function yl(t,...e){if(ao.logLevel<=tt.WARN){const n=e.map(Nv);ao.warn(`Firestore (${Ol}): ${t}`,...n)}}function Nv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,TC(t,r,n)}function TC(t,e,n){let r=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zr(r),new Error(r)}function ct(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||TC(e,a,r)}function qe(t,e){return t}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class bC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(An.UNAUTHENTICATED)))}shutdown(){}}class NV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class OV{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Kr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Kr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new bC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class PV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class VV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new PV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const r=l=>{l.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Se("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function UV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Ov{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=UV(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function by(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return Pg(a)===Pg(l)?nt(a,l):Pg(a)?1:-1}return nt(t.length,e.length)}const jV=55296,zV=57343;function Pg(t){const e=t.charCodeAt(0);return e>=jV&&e<=zV}function vl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const gw="__name__";class mr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=mr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return nt(e.length,n.length)}static compareSegments(e,n){const r=mr.isNumericId(e),a=mr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?mr.extractNumericId(e).compare(mr.extractNumericId(n)):by(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qs.fromString(e.substring(4,e.length-2))}}class Tt extends mr{construct(e,n,r){return new Tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const BV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends mr{construct(e,n,r){return new Tn(e,n,r)}static isValidIdentifier(e){return BV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gw}static keyField(){return new Tn([gw])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Te(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Te(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(l(),a++)}if(l(),u)throw new Te(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Tt.fromString(e))}static fromName(e){return new Ve(Tt.fromString(e).popFirst(5))}static empty(){return new Ve(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Tt(e.slice()))}}function EC(t,e,n){if(!n)throw new Te(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FV(t,e,n,r){if(e===!0&&r===!0)throw new Te(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yw(t){if(!Ve.isDocumentKey(t))throw new Te(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vw(t){if(Ve.isDocumentKey(t))throw new Te(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function $n(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qd(t);throw new Te(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function qV(t,e){if(e<=0)throw new Te(ce.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function en(t,e){const n={typeString:t};return e&&(n.value=e),n}function Bc(t,e){if(!wC(t))throw new Te(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new Te(ce.INVALID_ARGUMENT,n);return!0}const _w=-62135596800,Tw=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Tw);return new St(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_w)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tw}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bc(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_w;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:en("string",St._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new St(0,0))}static max(){return new Be(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bc=-1;function HV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Be.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new Zs(a,Ve.empty(),e)}function GV(t){return new Zs(t.readTime,t.key,bc)}class Zs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zs(Be.min(),Ve.empty(),bc)}static max(){return new Zs(Be.max(),Ve.empty(),bc)}}function $V(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}const YV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Pl(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==YV)throw t;Se("LocalStore","Unexpectedly lost primary lease")}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,r)=>{n(e)}))}static reject(e){return new de(((n,r)=>{r(e)}))}static waitFor(e){return new de(((n,r)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(d=>r(d)))})),u=!0,l===a&&n()}))}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next((a=>a?de.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new de(((r,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next((y=>{u[p]=y,++h,h===l&&r(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new de(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function WV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(t){return t.name==="IndexedDbTransactionError"}class Xd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xd.ce=-1;const Pv=-1;function Jd(t){return t==null}function gd(t){return t===0&&1/t==-1/0}function QV(t){return typeof t=="number"&&Number.isInteger(t)&&!gd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const SC="";function XV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bw(e)),e=JV(t.get(n),e);return bw(e)}function JV(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case SC:n+="";break;default:n+=l}}return n}function bw(t){return t+SC+""}function Ew(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class kt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kf(this.root,e,this.comparator,!1)}getReverseIterator(){return new kf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kf(this.root,e,this.comparator,!0)}}class kf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??_n.RED,this.left=a??_n.EMPTY,this.right=l??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new _n(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return _n.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class an{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ww(this.data.getIterator())}getIteratorFrom(e){return new ww(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class ww{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ni{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new ni([])}unionWith(e){let n=new an(Tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class CC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new CC("Invalid base64 string: "+l):l}})(e);return new bn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const ZV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=ZV.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ta(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}const RC="server_timestamp",xC="__type__",IC="__previous_value__",DC="__local_write_time__";function Vv(t){return(t?.mapValue?.fields||{})[xC]?.stringValue===RC}function Zd(t){const e=t.mapValue.fields[IC];return Vv(e)?Zd(e):e}function Ec(t){const e=ea(t.mapValue.fields[DC].timestampValue);return new St(e.seconds,e.nanos)}class e4{constructor(e,n,r,a,l,u,h,d,p,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=v}}const yd="(default)";class wc{constructor(e,n){this.projectId=e,this.database=n||yd}static empty(){return new wc("","")}get isDefaultDatabase(){return this.database===yd}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}function t4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Te(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(t.options.projectId,e)}const kC="__type__",n4="__max__",Mf={mapValue:{}},MC="__vector__",vd="value";function na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vv(t)?4:r4(t)?9007199254740991:i4(t)?10:11:ze(28295,{value:t})}function br(t,e){if(t===e)return!0;const n=na(t);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ec(t).isEqual(Ec(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ea(a.timestampValue),h=ea(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ta(a.bytesValue).isEqual(ta(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Bt(a.geoPointValue.latitude)===Bt(l.geoPointValue.latitude)&&Bt(a.geoPointValue.longitude)===Bt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Bt(a.integerValue)===Bt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Bt(a.doubleValue),h=Bt(l.doubleValue);return u===h?gd(u)===gd(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return vl(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(Ew(u)!==Ew(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!br(u[d],h[d])))return!1;return!0})(t,e);default:return ze(52216,{left:t})}}function Sc(t,e){return(t.values||[]).find((n=>br(n,e)))!==void 0}function _l(t,e){if(t===e)return 0;const n=na(t),r=na(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Bt(l.integerValue||l.doubleValue),d=Bt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return Sw(t.timestampValue,e.timestampValue);case 4:return Sw(Ec(t),Ec(e));case 5:return by(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=ta(l),d=ta(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=nt(h[p],d[p]);if(y!==0)return y}return nt(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=nt(Bt(l.latitude),Bt(u.latitude));return h!==0?h:nt(Bt(l.longitude),Bt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Aw(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},p=h[vd]?.arrayValue,y=d[vd]?.arrayValue,v=nt(p?.values?.length||0,y?.values?.length||0);return v!==0?v:Aw(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Mf.mapValue&&u===Mf.mapValue)return 0;if(l===Mf.mapValue)return 1;if(u===Mf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const b=by(d[v],y[v]);if(b!==0)return b;const x=_l(h[d[v]],p[y[v]]);if(x!==0)return x}return nt(d.length,y.length)})(t.mapValue,e.mapValue);default:throw ze(23264,{he:n})}}function Sw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=ea(t),r=ea(e),a=nt(n.seconds,r.seconds);return a!==0?a:nt(n.nanos,r.nanos)}function Aw(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=_l(n[a],r[a]);if(l)return l}return nt(n.length,r.length)}function Tl(t){return Ey(t)}function Ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ea(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ta(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Ey(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${Ey(n.fields[u])}`;return a+"}"})(t.mapValue):ze(61005,{value:t})}function Kf(t){switch(na(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zd(t);return e?16+Kf(e):16;case 5:return 2*t.stringValue.length;case 6:return ta(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Kf(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return la(r.fields,((l,u)=>{a+=l.length+Kf(u)})),a})(t.mapValue);default:throw ze(13486,{value:t})}}function Cw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wy(t){return!!t&&"integerValue"in t}function Lv(t){return!!t&&"arrayValue"in t}function Rw(t){return!!t&&"nullValue"in t}function xw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wf(t){return!!t&&"mapValue"in t}function i4(t){return(t?.mapValue?.fields||{})[kC]?.stringValue===MC}function uc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=uc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uc(t.arrayValue.values[n]);return e}return{...t}}function r4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===n4}class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(n)}setAll(e){let n=Tn.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=uc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());Wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Wf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){la(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Hn(uc(this.value))}}function NC(t){const e=[];return la(t.fields,((n,r)=>{const a=new Tn([n]);if(Wf(r)){const l=NC(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new ni(e)}class Cn{constructor(e,n,r,a,l,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Cn(e,0,Be.min(),Be.min(),Be.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,a){return new Cn(e,1,n,Be.min(),r,a,0)}static newNoDocument(e,n){return new Cn(e,2,n,Be.min(),Be.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Be.min(),Be.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _d{constructor(e,n){this.position=e,this.inclusive=n}}function Iw(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?r=Ve.comparator(Ve.fromName(u.referenceValue),n.key):r=_l(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Dw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}class Ac{constructor(e,n="asc"){this.field=e,this.dir=n}}function s4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class OC{}class Zt extends OC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new o4(e,n,r):n==="array-contains"?new c4(e,r):n==="in"?new h4(e,r):n==="not-in"?new f4(e,r):n==="array-contains-any"?new d4(e,r):new Zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new l4(e,r):new u4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_l(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(_l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends OC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Fi(e,n)}matches(e){return PC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function PC(t){return t.op==="and"}function VC(t){return a4(t)&&PC(t)}function a4(t){for(const e of t.filters)if(e instanceof Fi)return!1;return!0}function Sy(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+Tl(t.value);if(VC(t))return t.filters.map((e=>Sy(e))).join(",");{const e=t.filters.map((n=>Sy(n))).join(",");return`${t.op}(${e})`}}function LC(t,e){return t instanceof Zt?(function(r,a){return a instanceof Zt&&r.op===a.op&&r.field.isEqual(a.field)&&br(r.value,a.value)})(t,e):t instanceof Fi?(function(r,a){return a instanceof Fi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,u,h)=>l&&LC(u,a.filters[h])),!0):!1})(t,e):void ze(19439)}function UC(t){return t instanceof Zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Tl(n.value)}`})(t):t instanceof Fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(UC).join(" ,")+"}"})(t):"Filter"}class o4 extends Zt{constructor(e,n,r){super(e,n,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class l4 extends Zt{constructor(e,n){super(e,"in",n),this.keys=jC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class u4 extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=jC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function jC(t,e){return(e.arrayValue?.values||[]).map((n=>Ve.fromName(n.referenceValue)))}class c4 extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lv(n)&&Sc(n.arrayValue,this.value)}}class h4 extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sc(this.value.arrayValue,n)}}class f4 extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sc(this.value.arrayValue,n)}}class d4 extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Sc(this.value.arrayValue,r)))}}class m4{constructor(e,n=null,r=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function kw(t,e=null,n=[],r=[],a=null,l=null,u=null){return new m4(t,e,n,r,a,l,u)}function Uv(t){const e=qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Sy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Tl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Tl(r))).join(",")),e.Te=n}return e.Te}function jv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!s4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Dw(t.startAt,e.startAt)&&Dw(t.endAt,e.endAt)}function Ay(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ll{constructor(e,n=null,r=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function p4(t,e,n,r,a,l,u,h){return new Ll(t,e,n,r,a,l,u,h)}function em(t){return new Ll(t)}function Mw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function g4(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function zC(t){return t.collectionGroup!==null}function cc(t){const e=qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new an(Tn.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Ac(l,r))})),n.has(Tn.keyField().canonicalString())||e.Ie.push(new Ac(Tn.keyField(),r))}return e.Ie}function yr(t){const e=qe(t);return e.Ee||(e.Ee=y4(e,cc(t))),e.Ee}function y4(t,e){if(t.limitType==="F")return kw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Ac(a.field,l)}));const n=t.endAt?new _d(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _d(t.startAt.position,t.startAt.inclusive):null;return kw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cy(t,e){const n=t.filters.concat([e]);return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function v4(t,e){const n=t.explicitOrderBy.concat([e]);return new Ll(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Td(t,e,n){return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tm(t,e){return jv(yr(t),yr(e))&&t.limitType===e.limitType}function BC(t){return`${Uv(yr(t))}|lt:${t.limitType}`}function rl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>UC(a))).join(", ")}]`),Jd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Tl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Tl(a))).join(",")),`Target(${r})`})(yr(t))}; limitType=${t.limitType})`}function nm(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ve.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of cc(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,d){const p=Iw(u,h,d);return u.inclusive?p<=0:p<0})(r.startAt,cc(r),a)||r.endAt&&!(function(u,h,d){const p=Iw(u,h,d);return u.inclusive?p>=0:p>0})(r.endAt,cc(r),a))})(t,e)}function _4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FC(t){return(e,n)=>{let r=!1;for(const a of cc(t)){const l=T4(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function T4(t,e,n){const r=t.field.isKeyField()?Ve.comparator(e.key,n.key):(function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?_l(d,p):ze(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:t.dir})}}class co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return AC(this.inner)}size(){return this.innerSize}}const b4=new kt(Ve.comparator);function es(){return b4}const qC=new kt(Ve.comparator);function nc(...t){let e=qC;for(const n of t)e=e.insert(n.key,n);return e}function HC(t){let e=qC;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ka(){return hc()}function GC(){return hc()}function hc(){return new co((t=>t.toString()),((t,e)=>t.isEqual(e)))}const E4=new kt(Ve.comparator),w4=new an(Ve.comparator);function it(...t){let e=w4;for(const n of t)e=e.add(n);return e}const S4=new an(nt);function A4(){return S4}function zv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gd(e)?"-0":e}}function $C(t){return{integerValue:""+t}}function C4(t,e){return QV(e)?$C(e):zv(t,e)}class im{constructor(){this._=void 0}}function R4(t,e,n){return t instanceof bd?(function(a,l){const u={fields:{[xC]:{stringValue:RC},[DC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Vv(l)&&(l=Zd(l)),l&&(u.fields[IC]=l),{mapValue:u}})(n,e):t instanceof Cc?KC(t,e):t instanceof Rc?WC(t,e):(function(a,l){const u=YC(a,l),h=Nw(u)+Nw(a.Ae);return wy(u)&&wy(a.Ae)?$C(h):zv(a.serializer,h)})(t,e)}function x4(t,e,n){return t instanceof Cc?KC(t,e):t instanceof Rc?WC(t,e):n}function YC(t,e){return t instanceof Ed?(function(r){return wy(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class bd extends im{}class Cc extends im{constructor(e){super(),this.elements=e}}function KC(t,e){const n=QC(e);for(const r of t.elements)n.some((a=>br(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Rc extends im{constructor(e){super(),this.elements=e}}function WC(t,e){let n=QC(e);for(const r of t.elements)n=n.filter((a=>!br(a,r)));return{arrayValue:{values:n}}}class Ed extends im{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Nw(t){return Bt(t.integerValue||t.doubleValue)}function QC(t){return Lv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function I4(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Cc&&a instanceof Cc||r instanceof Rc&&a instanceof Rc?vl(r.elements,a.elements,br):r instanceof Ed&&a instanceof Ed?br(r.Ae,a.Ae):r instanceof bd&&a instanceof bd})(t.transform,e.transform)}class D4{constructor(e,n){this.version=e,this.transformResults=n}}class bi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rm{}function XC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bv(t.key,bi.none()):new Fc(t.key,t.data,bi.none());{const n=t.data,r=Hn.empty();let a=new an(Tn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new ua(t.key,r,new ni(a.toArray()),bi.none())}}function k4(t,e,n){t instanceof Fc?(function(a,l,u){const h=a.value.clone(),d=Pw(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ua?(function(a,l,u){if(!Qf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=Pw(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(JC(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function fc(t,e,n,r){return t instanceof Fc?(function(l,u,h,d){if(!Qf(l.precondition,u))return h;const p=l.value.clone(),y=Vw(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof ua?(function(l,u,h,d){if(!Qf(l.precondition,u))return h;const p=Vw(l.fieldTransforms,d,u),y=u.data;return y.setAll(JC(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,u,h){return Qf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function M4(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=YC(r.transform,a||null);l!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,l))}return n||null}function Ow(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&vl(r,a,((l,u)=>I4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fc extends rm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ua extends rm{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function JC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Pw(t,e,n){const r=new Map;ct(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);r.set(l.field,x4(u,h,n[a]))}return r}function Vw(t,e,n){const r=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);r.set(a.field,R4(l,u,e))}return r}class Bv extends rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N4 extends rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class O4{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&k4(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GC();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=XC(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),it())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,((n,r)=>Ow(n,r)))&&vl(this.baseMutations,e.baseMutations,((n,r)=>Ow(n,r)))}}class Fv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return E4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new Fv(e,n,r,a)}}class P4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class V4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Xt,st;function L4(t){switch(t){case ce.OK:return ze(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function ZC(t){if(t===void 0)return Zr("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Xt.OK:return ce.OK;case Xt.CANCELLED:return ce.CANCELLED;case Xt.UNKNOWN:return ce.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return ce.INTERNAL;case Xt.UNAVAILABLE:return ce.UNAVAILABLE;case Xt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Xt.NOT_FOUND:return ce.NOT_FOUND;case Xt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Xt.ABORTED:return ce.ABORTED;case Xt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Xt.DATA_LOSS:return ce.DATA_LOSS;default:return ze(39323,{code:t})}}(st=Xt||(Xt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";function U4(){return new TextEncoder}const j4=new Qs([4294967295,4294967295],0);function Lw(t){const e=U4().encode(t),n=new mC;return n.update(e),new Uint8Array(n.digest())}function Uw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Qs([n,r],0),new Qs([a,l],0)]}class qv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(r<0)throw new ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qs.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Qs.fromNumber(r)));return a.compare(j4)===1&&(a=new Qs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Lw(e),[r,a]=Uw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new qv(l,a,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=Lw(e),[r,a]=Uw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sm{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sm(Be.min(),a,new kt(nt),es(),it())}}class qc{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qc(r,n,it(),it(),it())}}class Xf{constructor(e,n,r,a){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=a}}class eR{constructor(e,n){this.targetId=e,this.Ce=n}}class tR{constructor(e,n,r=bn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class jw{constructor(){this.ve=0,this.Fe=zw(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),n=it(),r=it();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:ze(38017,{changeType:l})}})),new qc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=zw()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class z4{constructor(e){this.Ge=e,this.ze=new Map,this.je=es(),this.He=Nf(),this.Je=Nf(),this.Ze=new kt(nt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ze(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Ay(l))if(r===0){const u=new Ve(l.path);this.et(n,u,Cn.newNoDocument(u,Be.min()))}else ct(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=ta(r).toUint8Array()}catch(d){if(d instanceof CC)return yl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new qv(u,a,l)}catch(d){return yl(d instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Ay(h.target)){const d=new Ve(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,Cn.newNoDocument(d,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let r=it();this.Je.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new sm(e,n,this.Ze,this.je,r);return this.je=es(),this.He=Nf(),this.Je=Nf(),this.Ze=new kt(nt),a}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new jw,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new an(nt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new an(nt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Nf(){return new kt(Ve.comparator)}function zw(){return new kt(Ve.comparator)}const B4={asc:"ASCENDING",desc:"DESCENDING"},F4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q4={and:"AND",or:"OR"};class H4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ry(t,e){return t.useProto3Json||Jd(e)?e:{value:e}}function wd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function G4(t,e){return wd(t,e.toTimestamp())}function vr(t){return ct(!!t,49232),Be.fromTimestamp((function(n){const r=ea(n);return new St(r.seconds,r.nanos)})(t))}function Hv(t,e){return xy(t,e).canonicalString()}function xy(t,e){const n=(function(a){return new Tt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function iR(t){const e=Tt.fromString(t);return ct(lR(e),10190,{key:e.toString()}),e}function Iy(t,e){return Hv(t.databaseId,e.path)}function Vg(t,e){const n=iR(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(sR(n))}function rR(t,e){return Hv(t.databaseId,e)}function $4(t){const e=iR(t);return e.length===4?Tt.emptyPath():sR(e)}function Dy(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sR(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Bw(t,e,n){return{name:Iy(t,e),fields:n.value.mapValue.fields}}function Y4(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ze(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(ct(y===void 0||typeof y=="string",58123),bn.fromBase64String(y||"")):(ct(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),bn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?ce.UNKNOWN:ZC(p.code);return new Te(y,p.message||"")})(u);n=new tR(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Vg(t,r.document.name),l=vr(r.document.updateTime),u=r.document.createTime?vr(r.document.createTime):Be.min(),h=new Hn({mapValue:{fields:r.document.fields}}),d=Cn.newFoundDocument(a,l,u,h),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Xf(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Vg(t,r.document),l=r.readTime?vr(r.readTime):Be.min(),u=Cn.newNoDocument(a,l),h=r.removedTargetIds||[];n=new Xf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Vg(t,r.document),l=r.removedTargetIds||[];n=new Xf([],l,a,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new V4(a,l),h=r.targetId;n=new eR(h,u)}}return n}function K4(t,e){let n;if(e instanceof Fc)n={update:Bw(t,e.key,e.value)};else if(e instanceof Bv)n={delete:Iy(t,e.key)};else if(e instanceof ua)n={update:Bw(t,e.key,e.data),updateMask:iL(e.fieldMask)};else{if(!(e instanceof N4))return ze(16599,{dt:e.type});n={verify:Iy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const h=u.transform;if(h instanceof bd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Cc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Rc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ed)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw ze(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:G4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ze(27497)})(t,e.precondition)),n}function W4(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?vr(a.updateTime):vr(l);return u.isEqual(Be.min())&&(u=vr(l)),new D4(u,a.transformResults||[])})(n,e)))):[]}function Q4(t,e){return{documents:[rR(t,e.path)]}}function X4(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rR(t,a);const l=(function(p){if(p.length!==0)return oR(Fi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(b){return{field:sl(b.field),direction:eL(b.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Ry(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function J4(t){let e=$4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){ct(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const b=aR(v);return b instanceof Fi&&VC(b)?b.getFilters():[b]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((b=>(function(M){return new Ac(al(M.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(b)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let b;return b=typeof v=="object"?v.value:v,Jd(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(v){const b=!!v.before,x=v.values||[];return new _d(x,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const b=!v.before,x=v.values||[];return new _d(x,b)})(n.endAt)),p4(e,a,u,l,h,"F",d,p)}function Z4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=al(n.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=al(n.unaryFilter.field);return Zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=al(n.unaryFilter.field);return Zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=al(n.unaryFilter.field);return Zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Zt.create(al(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Fi.create(n.compositeFilter.filters.map((r=>aR(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ze(1026)}})(n.compositeFilter.op))})(t):ze(30097,{filter:t})}function eL(t){return B4[t]}function tL(t){return F4[t]}function nL(t){return q4[t]}function sl(t){return{fieldPath:t.canonicalString()}}function al(t){return Tn.fromServerFormat(t.fieldPath)}function oR(t){return t instanceof Zt?(function(n){if(n.op==="=="){if(xw(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NAN"}};if(Rw(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xw(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NAN"}};if(Rw(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(n.field),op:tL(n.op),value:n.value}}})(t):t instanceof Fi?(function(n){const r=n.getFilters().map((a=>oR(a)));return r.length===1?r[0]:{compositeFilter:{op:nL(n.op),filters:r}}})(t):ze(54877,{filter:t})}function iL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function lR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function uR(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class $s{constructor(e,n,r,a,l=Be.min(),u=Be.min(),h=bn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rL{constructor(e){this.yt=e}}function sL(t){const e=J4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Td(e,e.limit,"L"):e}class aL{constructor(){this.Sn=new oL}addToCollectionParentIndex(e,n){return this.Sn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Zs.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class oL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new an(Tt.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new an(Tt.comparator)).toArray()}}const Fw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cR=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(cR,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);class bl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new bl(0)}static ar(){return new bl(-1)}}const qw="LruGarbageCollector",lL=1048576;function Hw([t,e],[n,r]){const a=nt(t,n);return a===0?nt(e,r):a}class uL{constructor(e){this.Pr=e,this.buffer=new an(Hw),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Hw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Se(qw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?Se(qw,"Ignoring IndexedDB error during garbage collection: ",n):await Pl(n)}await this.Ar(3e5)}))}}class hL{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return de.resolve(Xd.ce);const r=new uL(n);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Fw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fw):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),il()<=tt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function fL(t,e){return new hL(t,e)}class dL{constructor(){this.changes=new co((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class pL{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&fc(r.mutation,a,ni.empty(),St.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,it()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=it()){const a=Ka();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let u=nc();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=Ka();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,it())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,a){let l=es();const u=hc(),h=(function(){return hc()})();return n.forEach(((d,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ua)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),fc(y.mutation,p,y.mutation.getFieldMask(),St.now())):u.set(p.key,ni.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>h.set(p,new mL(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=hc();let a=new kt(((u,h)=>u-h)),l=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let y=r.get(d)||ni.empty();y=h.applyToLocalView(p,y),r.set(d,y);const v=(a.get(h.batchId)||it()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,v=GC();y.forEach((b=>{if(!l.has(b)){const x=XC(n.get(b),r.get(b));x!==null&&v.set(b,x),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return de.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return g4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):de.resolve(Ka());let h=bc,d=l;return u.next((p=>de.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?de.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{d=d.insert(y,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,d,p,it()))).next((y=>({batchId:h,changes:HC(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next((r=>{let a=nc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let u=nc();return this.indexManager.getCollectionParents(e,l).next((h=>de.forEach(h,(d=>{const p=(function(v,b){return new Ll(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((y=>{y.forEach(((v,b)=>{u=u.insert(v,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((u=>{l.forEach(((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Cn.newInvalidDocument(y)))}));let h=nc();return u.forEach(((d,p)=>{const y=l.get(d);y!==void 0&&fc(y.mutation,p,ni.empty(),St.now()),nm(n,p)&&(h=h.insert(d,p))})),h}))}}class gL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return de.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:vr(a.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:sL(a.bundledQuery),readTime:vr(a.readTime)}})(n)),de.resolve()}}class yL{constructor(){this.overlays=new kt(Ve.comparator),this.Lr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ka();return de.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.bt(e,n,l)})),de.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const a=Ka(),l=n.length+1,u=new Ve(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return de.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new kt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=Ka(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Ka(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return de.resolve(h)}bt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new P4(n,r));let l=this.Lr.get(n);l===void 0&&(l=it(),this.Lr.set(n,l)),this.Lr.set(n,l.add(r.key))}}class vL{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}class Gv{constructor(){this.kr=new an(cn.Kr),this.qr=new an(cn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new cn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new cn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Ve(new Tt([])),r=new cn(n,e),a=new cn(n,e+1),l=[];return this.qr.forEachInRange([r,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ve(new Tt([])),r=new cn(n,e),a=new cn(n,e+1);let l=it();return this.qr.forEachInRange([r,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new cn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class cn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ve.comparator(e.key,n.key)||nt(e.Hr,n.Hr)}static Ur(e,n){return nt(e.Hr,n.Hr)||Ve.comparator(e.key,n.key)}}class _L{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new an(cn.Kr)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new O4(l,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Jr=this.Jr.add(new cn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Xr(r),l=a<0?0:a;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Pv:this.Yn-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new cn(n,0),a=new cn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,a],(u=>{const h=this.Zr(u.Hr);l.push(h)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new an(nt);return n.forEach((a=>{const l=new cn(a,0),u=new cn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(h=>{r=r.add(h.Hr)}))})),de.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;Ve.isDocumentKey(l)||(l=l.child(""));const u=new cn(new Ve(l),0);let h=new an(nt);return this.Jr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Hr)),!0)}),u),de.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ct(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return de.forEach(n.mutations,(a=>{const l=new cn(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new cn(n,0),a=this.Jr.firstAfterOrEqual(r);return de.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class TL{constructor(e){this.ti=e,this.docs=(function(){return new kt(Ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=es();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():Cn.newInvalidDocument(a))})),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=es();const u=n.path,h=new Ve(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||$V(GV(y),r)<=0||(a.has(y.key)||nm(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,r,a){ze(9500)}ni(e,n){return de.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new bL(this)}getSize(e){return de.resolve(this.size)}}class bL extends dL{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),de.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class EL{constructor(e){this.persistence=e,this.ri=new co((n=>Uv(n)),jv),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.ii=0,this.si=new Gv,this.targetCount=0,this.oi=bl._r()}forEachTarget(e,n){return this.ri.forEach(((r,a)=>n(a))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),de.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new bl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.lr(n),de.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),de.waitFor(l).next((()=>a))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.si.containsKey(n))}}class hR{constructor(e,n){this._i={},this.overlays={},this.ai=new Xd(0),this.ui=!1,this.ui=!0,this.ci=new vL,this.referenceDelegate=e(this),this.li=new EL(this),this.indexManager=new aL,this.remoteDocumentCache=(function(a){return new TL(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new rL(n),this.Pi=new gL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new _L(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const a=new wL(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return de.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class wL extends KV{constructor(e){super(),this.currentSequenceNumber=e}}class $v{constructor(e){this.persistence=e,this.Ri=new Gv,this.Ai=null}static Vi(e){return new $v(e)}get di(){if(this.Ai)return this.Ai;throw ze(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.di,(r=>{const a=Ve.fromPath(r);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Sd{constructor(e,n){this.persistence=e,this.fi=new co((r=>XV(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=fL(this,n)}static Vi(e,n){return new Sd(e,n)}Ti(){}Ii(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return de.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((l=>l?de.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((h=>{h||(r++,l.removeEntry(u,Be.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),de.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kf(e.data.value)),n}wr(e,n,r){return de.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return de.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Yv{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=a}static Es(e,n){let r=it(),a=it();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Yv(e,n.fromCache,r,a)}}class SL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class AL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return WM()?8:WV(xn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new SL;return this.ys(e,n,u).next((h=>{if(l.result=h,this.As)return this.ws(e,n,u,h.size)}))})).next((()=>l.result))}ws(e,n,r,a){return r.documentReadCount<this.Vs?(il()<=tt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),de.resolve()):(il()<=tt.DEBUG&&Se("QueryEngine","Query:",rl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(il()<=tt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):de.resolve())}gs(e,n){if(Mw(n))return de.resolve(null);let r=yr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Td(n,null,"F"),r=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=it(...l);return this.fs.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.bs(n,h);return this.Ss(n,p,u,d.readTime)?this.gs(e,Td(n,null,"F")):this.Ds(e,p,n,d)}))))})))))}ps(e,n,r,a){return Mw(n)||a.isEqual(Be.min())?de.resolve(null):this.fs.getDocuments(e,r).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,r,a)?de.resolve(null):(il()<=tt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),rl(n)),this.Ds(e,u,n,HV(a,bc)).next((h=>h)))}))}bs(e,n){let r=new an(FC(e));return n.forEach(((a,l)=>{nm(e,l)&&(r=r.add(l))})),r}Ss(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,r){return il()<=tt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",rl(n)),this.fs.getDocumentsMatchingQuery(e,n,Zs.min(),r)}Ds(e,n,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Kv="LocalStore",CL=3e8;class RL{constructor(e,n,r,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new kt(nt),this.Fs=new co((l=>Uv(l)),jv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function xL(t,e,n,r){return new RL(t,e,n,r)}async function fR(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],h=[];let d=it();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function IL(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,y){const v=p.batch,b=v.keys();let x=de.resolve();return b.forEach((M=>{x=x.next((()=>y.getEntry(d,M))).next((P=>{const B=p.docVersions.get(M);ct(B!==null,48541),P.version.compareTo(B)<0&&(v.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))}))})),x.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=it();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function dR(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function DL(t,e){const n=qe(t),r=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((y,v)=>{const b=a.get(v);if(!b)return;h.push(n.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,v))));let x=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(bn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),a=a.insert(v,x),(function(P,B,U){return P.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=CL?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(b,x,y)&&h.push(n.li.updateTargetData(l,x))}));let d=es(),p=it();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(kL(l,u,e.documentUpdates).next((y=>{d=y.Bs,p=y.Ls}))),!r.isEqual(Be.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(y)}return de.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(n.vs=a,l)))}function kL(t,e,n){let r=it(),a=it();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let u=es();return n.forEach(((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Be.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):Se(Kv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{Bs:u,Ls:a}}))}function ML(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Pv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function NL(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.li.getTargetData(r,e).next((l=>l?(a=l,de.resolve(a)):n.li.allocateTargetId(r).next((u=>(a=new $s(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function ky(t,e,n){const r=qe(t),a=r.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Vl(u))throw u;Se(Kv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function Gw(t,e,n){const r=qe(t);let a=Be.min(),l=it();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,y){const v=qe(d),b=v.Fs.get(y);return b!==void 0?de.resolve(v.vs.get(b)):v.li.getTargetData(p,y)})(r,u,yr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,n?a:Be.min(),n?l:it()))).next((h=>(OL(r,_4(e),h),{documents:h,ks:l})))))}function OL(t,e,n){let r=t.Ms.get(e)||Be.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Ms.set(e,r)}class $w{constructor(){this.activeTargetIds=A4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PL{constructor(){this.vo=new $w,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new $w,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VL{Mo(e){}shutdown(){}}const Yw="ConnectivityMonitor";class Kw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Se(Yw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Se(Yw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Of=null;function My(){return Of===null?Of=(function(){return 268435456+Math.round(2147483648*Math.random())})():Of++,"0x"+Of.toString(16)}const Lg="RestConnection",LL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class UL{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===yd?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,n,r,a,l){const u=My(),h=this.Qo(e,n.toUriEncodedString());Se(Lg,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:p}=new URL(h),y=oa(p);return this.zo(e,h,d,r,y).then((v=>(Se(Lg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw yl(Lg,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",r),v}))}jo(e,n,r,a,l,u){return this.Wo(e,n,r,a,l)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const r=LL[e];let a=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class jL{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const wn="WebChannelConnection",Ku=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class ml extends UL{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ml.c_){const e=vC();Ku(e,yC.STAT_EVENT,(n=>{n.stat===Ty.PROXY?Se(wn,"STAT_EVENT: detected buffering proxy"):n.stat===Ty.NOPROXY&&Se(wn,"STAT_EVENT: detected no buffering proxy")})),ml.c_=!0}}zo(e,n,r,a,l){const u=My();return new Promise(((h,d)=>{const p=new pC;p.setWithCredentials(!0),p.listenOnce(gC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Yf.NO_ERROR:const v=p.getResponseJson();Se(wn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Yf.TIMEOUT:Se(wn,`RPC '${e}' ${u} timed out`),d(new Te(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Yf.HTTP_ERROR:const b=p.getStatus();if(Se(wn,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const M=x?.error;if(M&&M.status&&M.message){const P=(function(U){const j=U.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(j)>=0?j:ce.UNKNOWN})(M.status);d(new Te(P,M.message))}else d(new Te(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Te(ce.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Se(wn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);Se(wn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,r,15)}))}T_(e,n,r){const a=My(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const p=l.join("");Se(wn,`Creating RPC '${e}' stream ${a}: ${p}`,h);const y=u.createWebChannel(p,h);this.I_(y);let v=!1,b=!1;const x=new jL({Ho:M=>{b?Se(wn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(v||(Se(wn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),Se(wn,`RPC '${e}' stream ${a} sending:`,M),y.send(M))},Jo:()=>y.close()});return Ku(y,tc.EventType.OPEN,(()=>{b||(Se(wn,`RPC '${e}' stream ${a} transport opened.`),x.i_())})),Ku(y,tc.EventType.CLOSE,(()=>{b||(b=!0,Se(wn,`RPC '${e}' stream ${a} transport closed`),x.o_(),this.E_(y))})),Ku(y,tc.EventType.ERROR,(M=>{b||(b=!0,yl(wn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),x.o_(new Te(ce.UNAVAILABLE,"The operation could not be completed")))})),Ku(y,tc.EventType.MESSAGE,(M=>{if(!b){const P=M.data[0];ct(!!P,16349);const B=P,U=B?.error||B[0]?.error;if(U){Se(wn,`RPC '${e}' stream ${a} received error:`,U);const j=U.status;let F=(function(ee){const S=Xt[ee];if(S!==void 0)return ZC(S)})(j),fe=U.message;F===void 0&&(F=ce.INTERNAL,fe="Unknown error status: "+j+" with message "+U.message),b=!0,x.o_(new Te(F,fe)),y.close()}else Se(wn,`RPC '${e}' stream ${a} received:`,P),x.__(P)}})),ml.u_(),setTimeout((()=>{x.s_()}),0),x}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return _C()}}function zL(t){return new ml(t)}function Ug(){return typeof document<"u"?document:null}function am(t){return new H4(t,!0)}ml.c_=!1;class mR{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Ww="PersistentStream";class pR{constructor(e,n,r,a,l,u,h,d){this.Ci=e,this.b_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new Te(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(Ww,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Se(Ww,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BL extends pR{constructor(e,n,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Y4(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Be.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Be.min():u.readTime?vr(u.readTime):Be.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Dy(this.serializer),n.addTarget=(function(l,u){let h;const d=u.target;if(h=Ay(d)?{documents:Q4(l,d)}:{query:X4(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=nR(l,u.resumeToken);const p=Ry(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Be.min())>0){h.readTime=wd(l,u.snapshotVersion.toTimestamp());const p=Ry(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=Z4(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Dy(this.serializer),n.removeTarget=e,this.K_(n)}}class FL extends pR{constructor(e,n,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=W4(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Dy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>K4(this.serializer,r)))};this.K_(n)}}class qL{}class HL extends qL{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,xy(n,r),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(ce.UNKNOWN,l.toString())}))}jo(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(e,xy(n,r),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function GL(t,e,n,r){return new HL(t,e,n,r)}class $L{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zr(n),this.aa=!1):Se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oo="RemoteStore";class YL{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{ho(this)&&(Se(oo,"Restarting streams for network reachability change."),await(async function(d){const p=qe(d);p.Ea.add(4),await Hc(p),p.Va.set("Unknown"),p.Ea.delete(4),await om(p)})(this))}))})),this.Va=new $L(r,a)}}async function om(t){if(ho(t))for(const e of t.Ra)await e(!0)}async function Hc(t){for(const e of t.Ra)await e(!1)}function gR(t,e){const n=qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Jv(n)?Xv(n):Ul(n).O_()&&Qv(n,e))}function Wv(t,e){const n=qe(t),r=Ul(n);n.Ia.delete(e),r.O_()&&yR(n,e),n.Ia.size===0&&(r.O_()?r.L_():ho(n)&&n.Va.set("Unknown"))}function Qv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ul(t).Z_(e)}function yR(t,e){t.da.$e(e),Ul(t).X_(e)}function Xv(t){t.da=new z4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ul(t).start(),t.Va.ua()}function Jv(t){return ho(t)&&!Ul(t).x_()&&t.Ia.size>0}function ho(t){return qe(t).Ea.size===0}function vR(t){t.da=void 0}async function KL(t){t.Va.set("Online")}async function WL(t){t.Ia.forEach(((e,n)=>{Qv(t,e)}))}async function QL(t,e){vR(t),Jv(t)?(t.Va.ha(e),Xv(t)):t.Va.set("Unknown")}async function XL(t,e,n){if(t.Va.set("Online"),e instanceof tR&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(r){Se(oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ad(t,r)}else if(e instanceof Xf?t.da.Xe(e):e instanceof eR?t.da.st(e):t.da.tt(e),!n.isEqual(Be.min()))try{const r=await dR(t.localStore);n.compareTo(r)>=0&&await(function(l,u){const h=l.da.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(bn.EMPTY_BYTE_STRING,y.snapshotVersion)),yR(l,d);const v=new $s(y.target,d,p,y.sequenceNumber);Qv(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){Se(oo,"Failed to raise snapshot:",r),await Ad(t,r)}}async function Ad(t,e,n){if(!Vl(e))throw e;t.Ea.add(1),await Hc(t),t.Va.set("Offline"),n||(n=()=>dR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Se(oo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await om(t)}))}function _R(t,e){return e().catch((n=>Ad(t,n,e)))}async function lm(t){const e=qe(t),n=ia(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pv;for(;JL(e);)try{const a=await ML(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,ZL(e,a)}catch(a){await Ad(e,a)}TR(e)&&bR(e)}function JL(t){return ho(t)&&t.Ta.length<10}function ZL(t,e){t.Ta.push(e);const n=ia(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function TR(t){return ho(t)&&!ia(t).x_()&&t.Ta.length>0}function bR(t){ia(t).start()}async function e3(t){ia(t).ra()}async function t3(t){const e=ia(t);for(const n of t.Ta)e.ea(n.mutations)}async function n3(t,e,n){const r=t.Ta.shift(),a=Fv.from(r,e,n);await _R(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await lm(t)}async function i3(t,e){e&&ia(t).Y_&&await(async function(r,a){if((function(u){return L4(u)&&u!==ce.ABORTED})(a.code)){const l=r.Ta.shift();ia(r).B_(),await _R(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await lm(r)}})(t,e),TR(t)&&bR(t)}async function Qw(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),Se(oo,"RemoteStore received new credentials");const r=ho(n);n.Ea.add(3),await Hc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await om(n)}async function r3(t,e){const n=qe(t);e?(n.Ea.delete(2),await om(n)):e||(n.Ea.add(2),await Hc(n),n.Va.set("Unknown"))}function Ul(t){return t.ma||(t.ma=(function(n,r,a){const l=qe(n);return l.sa(),new BL(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:KL.bind(null,t),Yo:WL.bind(null,t),t_:QL.bind(null,t),J_:XL.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Jv(t)?Xv(t):t.Va.set("Unknown")):(await t.ma.stop(),vR(t))}))),t.ma}function ia(t){return t.fa||(t.fa=(function(n,r,a){const l=qe(n);return l.sa(),new FL(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:e3.bind(null,t),t_:i3.bind(null,t),ta:t3.bind(null,t),na:n3.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await lm(t)):(await t.fa.stop(),t.Ta.length>0&&(Se(oo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Zv{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const u=Date.now()+r,h=new Zv(e,n,u,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e0(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),Vl(t))return new Te(ce.UNAVAILABLE,`${e}: ${t}`);throw t}class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ve.comparator(n.key,r.key):(n,r)=>Ve.comparator(n.key,r.key),this.keyedMap=nc(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Xw{constructor(){this.ga=new kt(Ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ze(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class El{constructor(e,n,r,a,l,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new El(e,n,pl.emptySet(n),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class s3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class a3{constructor(){this.queries=Jw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=qe(n),l=a.queries;a.queries=Jw(),l.forEach(((u,h)=>{for(const d of h.ba)d.onError(r)}))})(this,new Te(ce.ABORTED,"Firestore shutting down"))}}function Jw(){return new co((t=>BC(t)),tm)}async function t0(t,e){const n=qe(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(r=2):(l=new s3,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=e0(u,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&i0(n)}async function n0(t,e){const n=qe(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function o3(t,e){const n=qe(t);let r=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.ba)h.Fa(a)&&(r=!0);u.wa=a}}r&&i0(n)}function l3(t,e,n){const r=qe(t),a=r.queries.get(e);if(a)for(const l of a.ba)l.onError(n);r.queries.delete(e)}function i0(t){t.Ca.forEach((e=>{e.next()}))}var Ny,Zw;(Zw=Ny||(Ny={})).Ma="default",Zw.Cache="cache";class r0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new El(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ny.Cache}}class ER{constructor(e){this.key=e}}class wR{constructor(e){this.key=e}}class u3{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=it(),this.mutatedKeys=it(),this.eu=FC(e),this.tu=new pl(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new Xw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const b=a.get(y),x=nm(this.query,v)?v:null,M=!!b&&this.mutatedKeys.has(b.key),P=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let B=!1;b&&x?b.data.isEqual(x.data)?M!==P&&(r.track({type:3,doc:x}),B=!0):this.su(b,x)||(r.track({type:2,doc:x}),B=!0,(d&&this.eu(x,d)>0||p&&this.eu(x,p)<0)&&(h=!0)):!b&&x?(r.track({type:0,doc:x}),B=!0):b&&!x&&(r.track({type:1,doc:b}),B=!0,(d||p)&&(h=!0)),B&&(x?(u=u.add(x),l=P?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(x,M){const P=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:B})}};return P(x)-P(M)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,p=d!==this.Xa;return this.Xa=d,u.length!==0||p?{snapshot:new El(this.query,e.tu,l,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=it(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new wR(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new ER(r))})),n}cu(e){this.Za=e.ks,this.Ya=it();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const s0="SyncEngine";class c3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class h3{constructor(e){this.key=e,this.hu=!1}}class f3{constructor(e,n,r,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new co((h=>BC(h)),tm),this.Iu=new Map,this.Eu=new Set,this.Ru=new kt(Ve.comparator),this.Au=new Map,this.Vu=new Gv,this.du={},this.mu=new Map,this.fu=bl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function d3(t,e,n=!0){const r=IR(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await SR(r,e,n,!0),a}async function m3(t,e){const n=IR(t);await SR(n,e,!0,!1)}async function SR(t,e,n,r){const a=await NL(t.localStore,yr(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await p3(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&gR(t.remoteStore,a),h}async function p3(t,e,n,r,a){t.pu=(v,b,x)=>(async function(P,B,U,j){let F=B.view.ru(U);F.Ss&&(F=await Gw(P.localStore,B.query,!1).then((({documents:S})=>B.view.ru(S,F))));const fe=j&&j.targetChanges.get(B.targetId),V=j&&j.targetMismatches.get(B.targetId)!=null,ee=B.view.applyChanges(F,P.isPrimaryClient,fe,V);return tS(P,B.targetId,ee.au),ee.snapshot})(t,v,b,x);const l=await Gw(t.localStore,e,!0),u=new u3(e,l.ks),h=u.ru(l.documents),d=qc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);tS(t,n,p.au);const y=new c3(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function g3(t,e,n){const r=qe(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((u=>!tm(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await ky(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Wv(r.remoteStore,a.targetId),Oy(r,a.targetId)})).catch(Pl)):(Oy(r,a.targetId),await ky(r.localStore,a.targetId,!0))}async function y3(t,e){const n=qe(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wv(n.remoteStore,r.targetId))}async function v3(t,e,n){const r=A3(t);try{const a=await(function(u,h){const d=qe(u),p=St.now(),y=h.reduce(((x,M)=>x.add(M.key)),it());let v,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let M=es(),P=it();return d.xs.getEntries(x,y).next((B=>{M=B,M.forEach(((U,j)=>{j.isValidDocument()||(P=P.add(U))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,M))).next((B=>{v=B;const U=[];for(const j of h){const F=M4(j,v.get(j.key).overlayedDocument);F!=null&&U.push(new ua(j.key,F,NC(F.value.mapValue),bi.exists(!0)))}return d.mutationQueue.addMutationBatch(x,p,U,h)})).next((B=>{b=B;const U=B.applyToLocalDocumentSet(v,P);return d.documentOverlayCache.saveOverlays(x,B.batchId,U)}))})).then((()=>({batchId:b.batchId,changes:HC(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.du[u.currentUser.toKey()];p||(p=new kt(nt)),p=p.insert(h,d),u.du[u.currentUser.toKey()]=p})(r,a.batchId,n),await Gc(r,a.changes),await lm(r.remoteStore)}catch(a){const l=e0(a,"Failed to persist write");n.reject(l)}}async function AR(t,e){const n=qe(t);try{const r=await DL(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ct(u.hu,14607):a.removedDocuments.size>0&&(ct(u.hu,42227),u.hu=!1))})),await Gc(n,r,e)}catch(r){await Pl(r)}}function eS(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=qe(u);d.onlineState=h;let p=!1;d.queries.forEach(((y,v)=>{for(const b of v.ba)b.va(h)&&(p=!0)})),p&&i0(d)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _3(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let u=new kt(Ve.comparator);u=u.insert(l,Cn.newNoDocument(l,Be.min()));const h=it().add(l),d=new sm(Be.min(),new Map,new kt(nt),u,h);await AR(r,d),r.Ru=r.Ru.remove(l),r.Au.delete(e),a0(r)}else await ky(r.localStore,e,!1).then((()=>Oy(r,e,n))).catch(Pl)}async function T3(t,e){const n=qe(t),r=e.batch.batchId;try{const a=await IL(n.localStore,e);RR(n,r,null),CR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gc(n,a)}catch(a){await Pl(a)}}async function b3(t,e,n){const r=qe(t);try{const a=await(function(u,h){const d=qe(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next((v=>(ct(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);RR(r,e,n),CR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gc(r,a)}catch(a){await Pl(a)}}function CR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function RR(t,e,n){const r=qe(t);let a=r.du[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function Oy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||xR(t,r)}))}function xR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Wv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),a0(t))}function tS(t,e,n){for(const r of n)r instanceof ER?(t.Vu.addReference(r.key,e),E3(t,r)):r instanceof wR?(Se(s0,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||xR(t,r.key)):ze(19791,{wu:r})}function E3(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Se(s0,"New document in limbo: "+n),t.Eu.add(r),a0(t))}function a0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ve(Tt.fromString(e)),r=t.fu.next();t.Au.set(r,new h3(n)),t.Ru=t.Ru.insert(n,r),gR(t.remoteStore,new $s(yr(em(n.path)),r,"TargetPurposeLimboResolution",Xd.ce))}}async function Gc(t,e,n){const r=qe(t),a=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{u.push(r.pu(d,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Yv.Es(d.targetId,p);l.push(y)}})))})),await Promise.all(u),r.Pu.J_(a),await(async function(d,p){const y=qe(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>de.forEach(p,(b=>de.forEach(b.Ts,(x=>y.persistence.referenceDelegate.addReference(v,b.targetId,x))).next((()=>de.forEach(b.Is,(x=>y.persistence.referenceDelegate.removeReference(v,b.targetId,x)))))))))}catch(v){if(!Vl(v))throw v;Se(Kv,"Failed to update sequence numbers: "+v)}for(const v of p){const b=v.targetId;if(!v.fromCache){const x=y.vs.get(b),M=x.snapshotVersion,P=x.withLastLimboFreeSnapshotVersion(M);y.vs=y.vs.insert(b,P)}}})(r.localStore,l))}async function w3(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){Se(s0,"User change. New user:",e.toKey());const r=await fR(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new Te(ce.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gc(n,r.Ns)}}function S3(t,e){const n=qe(t),r=n.Au.get(e);if(r&&r.hu)return it().add(r.key);{let a=it();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function IR(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_3.bind(null,e),e.Pu.J_=o3.bind(null,e.eventManager),e.Pu.yu=l3.bind(null,e.eventManager),e}function A3(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b3.bind(null,e),e}class Cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=am(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return xL(this.persistence,new AL,e.initialUser,this.serializer)}Cu(e){return new hR($v.Vi,this.serializer)}Du(e){return new PL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cd.provider={build:()=>new Cd};class C3 extends Cd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof Sd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new hR((r=>Sd.Vi(r,n)),this.serializer)}}class Py{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=w3.bind(null,this.syncEngine),await r3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new a3})()}createDatastore(e){const n=am(e.databaseInfo.databaseId),r=zL(e.databaseInfo);return GL(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,u,h){return new YL(r,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>eS(this.syncEngine,n,0)),(function(){return Kw.v()?new Kw:new VL})())}createSyncEngine(e,n){return(function(a,l,u,h,d,p,y){const v=new f3(a,l,u,h,d,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=qe(n);Se(oo,"RemoteStore shutting down."),r.Ea.add(5),await Hc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Py.provider={build:()=>new Py};class o0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ra="FirestoreClient";class R3{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=a,this.user=An.UNAUTHENTICATED,this.clientId=Ov.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{Se(ra,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Se(ra,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=e0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function jg(t,e){t.asyncQueue.verifyOperationInProgress(),Se(ra,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await fR(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function nS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await x3(t);Se(ra,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Qw(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>Qw(e.remoteStore,a))),t._onlineComponents=e}async function x3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(ra,"Using user provided OfflineComponentProvider");try{await jg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;yl("Error using user provided cache. Falling back to memory cache: "+n),await jg(t,new Cd)}}else Se(ra,"Using default OfflineComponentProvider"),await jg(t,new C3(void 0));return t._offlineComponents}async function DR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(ra,"Using user provided OnlineComponentProvider"),await nS(t,t._uninitializedComponentsProvider._online)):(Se(ra,"Using default OnlineComponentProvider"),await nS(t,new Py))),t._onlineComponents}function I3(t){return DR(t).then((e=>e.syncEngine))}async function Rd(t){const e=await DR(t),n=e.eventManager;return n.onListen=d3.bind(null,e.syncEngine),n.onUnlisten=g3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=m3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=y3.bind(null,e.syncEngine),n}function D3(t,e,n,r){const a=new o0(r),l=new r0(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>t0(await Rd(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>n0(await Rd(t),l)))}}function k3(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new o0({next:b=>{y.Nu(),u.enqueueAndForget((()=>n0(l,v)));const x=b.docs.has(h);!x&&b.fromCache?p.reject(new Te(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&d&&d.source==="server"?p.reject(new Te(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),v=new r0(em(h.path),y,{includeMetadataChanges:!0,Ka:!0});return t0(l,v)})(await Rd(t),t.asyncQueue,e,n,r))),r.promise}function M3(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new o0({next:b=>{y.Nu(),u.enqueueAndForget((()=>n0(l,v))),b.fromCache&&d.source==="server"?p.reject(new Te(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),v=new r0(h,y,{includeMetadataChanges:!0,Ka:!0});return t0(l,v)})(await Rd(t),t.asyncQueue,e,n,r))),r.promise}function N3(t,e){const n=new Kr;return t.asyncQueue.enqueueAndForget((async()=>v3(await I3(t),e,n))),n.promise}function kR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const O3="ComponentProvider",iS=new Map;function P3(t,e,n,r,a){return new e4(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,kR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const MR="firestore.googleapis.com",rS=!0;class sS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MR,this.ssl=rS}else this.host=e.host,this.ssl=e.ssl??rS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lL)throw new Te(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class um{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new MV;switch(r.type){case"firstParty":return new VV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=iS.get(n);r&&(Se(O3,"Removing Datastore"),iS.delete(n),r.terminate())})(this),Promise.resolve()}}function V3(t,e,n,r={}){t=$n(t,um);const a=oa(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(vv(`https://${h}`),_v("Firestore",!0)),l.host!==MR&&l.host!==h&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:r};if(!to(d,u)&&(t._setSettings(d),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=An.MOCK_USER;else{p=zM(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Te(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new An(v)}t._authCredentials=new NV(new bC(p,y))}}class ss{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Bc(n,Vt._jsonSchema))return new Vt(e,r||null,new Ve(Tt.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:en("string",Vt._jsonSchemaVersion),referencePath:en("string")};class Xs extends ss{constructor(e,n,r){super(e,n,em(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Ve(e))}withConverter(e){return new Xs(this.firestore,e,this._path)}}function zg(t,e,...n){if(t=bt(t),EC("collection","path",e),t instanceof um){const r=Tt.fromString(e,...n);return vw(r),new Xs(t,null,r)}{if(!(t instanceof Vt||t instanceof Xs))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return vw(r),new Xs(t.firestore,null,r)}}function Ha(t,e,...n){if(t=bt(t),arguments.length===1&&(e=Ov.newId()),EC("doc","path",e),t instanceof um){const r=Tt.fromString(e,...n);return yw(r),new Vt(t,null,new Ve(r))}{if(!(t instanceof Vt||t instanceof Xs))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return yw(r),new Vt(t.firestore,t instanceof Xs?t.converter:null,new Ve(r))}}const aS="AsyncQueue";class oS{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mR(this,"async_queue_retry"),this._c=()=>{const r=Ug();r&&Se(aS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ug();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;Se(aS,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Zr("INTERNAL UNHANDLED ERROR: ",lS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Zv.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&ze(47125,{Pc:lS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function lS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ts extends um{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new oS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oS(e),this._firestoreClient=void 0,await e}}}function L3(t,e){const n=typeof t=="object"?t:Ev(),r=typeof t=="string"?t:yd,a=$d(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=SA("firestore");l&&V3(a,...l)}return a}function cm(t){if(t._terminated)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U3(t),t._firestoreClient}function U3(t){const e=t._freezeSettings(),n=P3(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new R3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class _i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _i(bn.fromBase64String(e))}catch(n){throw new Te(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _i(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bc(e,_i._jsonSchema))return _i.fromBase64String(e.bytes)}}_i._jsonSchemaVersion="firestore/bytes/1.0",_i._jsonSchema={type:en("string",_i._jsonSchemaVersion),bytes:en("string")};class l0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class u0{constructor(e){this._methodName=e}}class _r{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(Bc(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:en("string",_r._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};class Bi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bc(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Bi(e.vectorValues);throw new Te(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:en("string",Bi._jsonSchemaVersion),vectorValues:en("object")};const j3=/^__.*__$/;class z3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fc(e,this.data,n,this.fieldTransforms)}}class NR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ua(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{dataSource:t})}}class c0{constructor(e,n,r,a,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new c0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return xd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(OR(this.dataSource)&&j3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class B3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||am(e)}createContext(e,n,r,a=!1){return new c0({dataSource:e,methodName:n,targetDoc:r,path:Tn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hm(t){const e=t._freezeSettings(),n=am(t._databaseId);return new B3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PR(t,e,n,r,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);h0("Data must be an object, but it was:",u,r);const h=VR(r,u);let d,p;if(l.merge)d=new ni(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const b=lo(e,v,n);if(!u.contains(b))throw new Te(ce.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);jR(y,b)||y.push(b)}d=new ni(y),p=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=u.fieldTransforms;return new z3(new Hn(h),d,p)}class fm extends u0{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fm}}function F3(t,e,n,r){const a=t.createContext(1,e,n);h0("Data must be an object, but it was:",a,r);const l=[],u=Hn.empty();la(r,((d,p)=>{const y=UR(e,d,n);p=bt(p);const v=a.childContextForFieldPath(y);if(p instanceof fm)l.push(y);else{const b=$c(p,v);b!=null&&(l.push(y),u.set(y,b))}}));const h=new ni(l);return new NR(u,h,a.fieldTransforms)}function q3(t,e,n,r,a,l){const u=t.createContext(1,e,n),h=[lo(e,r,n)],d=[a];if(l.length%2!=0)throw new Te(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)h.push(lo(e,l[b])),d.push(l[b+1]);const p=[],y=Hn.empty();for(let b=h.length-1;b>=0;--b)if(!jR(p,h[b])){const x=h[b];let M=d[b];M=bt(M);const P=u.childContextForFieldPath(x);if(M instanceof fm)p.push(x);else{const B=$c(M,P);B!=null&&(p.push(x),y.set(x,B))}}const v=new ni(p);return new NR(y,v,u.fieldTransforms)}function H3(t,e,n,r=!1){return $c(n,t.createContext(r?4:3,e))}function $c(t,e){if(LR(t=bt(t)))return h0("Unsupported field value:",e,t),VR(t,e);if(t instanceof u0)return(function(r,a){if(!OR(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const l=[];let u=0;for(const h of r){let d=$c(h,a.childContextForArray(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return C4(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=St.fromDate(r);return{timestampValue:wd(a.serializer,l)}}if(r instanceof St){const l=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wd(a.serializer,l)}}if(r instanceof _r)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _i)return{bytesValue:nR(a.serializer,r._byteString)};if(r instanceof Vt){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Hv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Bi)return(function(u,h){const d=u instanceof Bi?u.toArray():u;return{mapValue:{fields:{[kC]:{stringValue:MC},[vd]:{arrayValue:{values:d.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return zv(h.serializer,y)}))}}}}}})(r,a);if(uR(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Qd(r)}`)})(t,e)}function VR(t,e){const n={};return AC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,((r,a)=>{const l=$c(a,e.childContextForField(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function LR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof _r||t instanceof _i||t instanceof Vt||t instanceof u0||t instanceof Bi||uR(t))}function h0(t,e,n){if(!LR(n)||!wC(n)){const r=Qd(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function lo(t,e,n){if((e=bt(e))instanceof l0)return e._internalPath;if(typeof e=="string")return UR(t,e);throw xd("Field path arguments must be of type string or ",t,!1,void 0,n)}const G3=new RegExp("[~\\*/\\[\\]]");function UR(t,e,n){if(e.search(G3)>=0)throw xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new l0(...e.split("."))._internalPath}catch{throw xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xd(t,e,n,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new Te(ce.INVALID_ARGUMENT,h+t+d)}function jR(t,e){return t.some((n=>n.isEqual(e)))}class $3{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return la(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){const n=e.fields?.[vd].arrayValue?.values?.map((r=>Bt(r.doubleValue)));return new Bi(n)}convertGeoPoint(e){return new _r(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const n=ea(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tt.fromString(e);ct(lR(r),9688,{name:e});const a=new wc(r.get(1),r.get(3)),l=new Ve(r.popFirst(5));return a.isEqual(n)||Zr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class f0 extends $3{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}const uS="@firebase/firestore",cS="4.10.0";function hS(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class zR{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(lo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Y3 extends zR{data(){return super.data()}}function BR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d0{}class m0 extends d0{}function fS(t,e,...n){let r=[];e instanceof d0&&r.push(e),r=r.concat(n),(function(l){const u=l.filter((d=>d instanceof p0)).length,h=l.filter((d=>d instanceof dm)).length;if(u>1||u>0&&h>0)throw new Te(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class dm extends m0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dm(e,n,r)}_apply(e){const n=this._parse(e);return FR(e._query,n),new ss(e.firestore,e.converter,Cy(e._query,n))}_parse(e){const n=hm(e.firestore);return(function(l,u,h,d,p,y,v){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){pS(v,y);const M=[];for(const P of v)M.push(mS(d,l,P));b={arrayValue:{values:M}}}else b=mS(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||pS(v,y),b=H3(h,u,v,y==="in"||y==="not-in");return Zt.create(p,y,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dS(t,e,n){const r=e,a=lo("where",t);return dm._create(a,r,n)}class p0 extends d0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new p0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)FR(u,d),u=Cy(u,d)})(e._query,n),new ss(e.firestore,e.converter,Cy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class g0 extends m0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new g0(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new Te(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Te(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ac(l,u)})(e._query,this._field,this._direction);return new ss(e.firestore,e.converter,v4(e._query,n))}}function uo(t,e="asc"){const n=e,r=lo("orderBy",t);return g0._create(r,n)}class y0 extends m0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new y0(e,n,r)}_apply(e){return new ss(e.firestore,e.converter,Td(e._query,this._limit,this._limitType))}}function wl(t){return qV("limit",t),y0._create("limit",t,"F")}function mS(t,e,n){if(typeof(n=bt(n))=="string"){if(n==="")throw new Te(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zC(e)&&n.indexOf("/")!==-1)throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Tt.fromString(n));if(!Ve.isDocumentKey(r))throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cw(t,new Ve(r))}if(n instanceof Vt)return Cw(t,n._key);throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qd(n)}.`)}function pS(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FR(t,e){const n=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function qR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class rc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xa extends zR{constructor(e,n,r,a,l,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xa._jsonSchema={type:en("string",Xa._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class Jf extends Xa{data(e={}){return super.data(e)}}class Ja{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new rc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Jf(this._firestore,this._userDataWriter,r.key,r,new rc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new Jf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new rc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Jf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new rc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:K3(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ov.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function K3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:t})}}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:en("string",Ja._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};function W3(t){t=$n(t,Vt);const e=$n(t.firestore,ts),n=cm(e);return k3(n,t._key).then((r=>HR(e,t,r)))}function Q3(t){t=$n(t,ss);const e=$n(t.firestore,ts),n=cm(e),r=new f0(e);return BR(t._query),M3(n,t._query).then((a=>new Ja(e,r,t,a)))}function X3(t,e,n){t=$n(t,Vt);const r=$n(t.firestore,ts),a=qR(t.converter,e,n),l=hm(r);return mm(r,[PR(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,bi.none())])}function J3(t,e,n,...r){t=$n(t,Vt);const a=$n(t.firestore,ts),l=hm(a);let u;return u=typeof(e=bt(e))=="string"||e instanceof l0?q3(l,"updateDoc",t._key,e,n,r):F3(l,"updateDoc",t._key,e),mm(a,[u.toMutation(t._key,bi.exists(!0))])}function Z3(t){return mm($n(t.firestore,ts),[new Bv(t._key,bi.none())])}function e6(t,e){const n=$n(t.firestore,ts),r=Ha(t),a=qR(t.converter,e),l=hm(t.firestore);return mm(n,[PR(l,"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,bi.exists(!1))]).then((()=>r))}function gS(t,...e){t=bt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||hS(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(hS(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let l,u,h;if(t instanceof Vt)u=$n(t.firestore,ts),h=em(t._key.path),l={next:p=>{e[r]&&e[r](HR(u,t,p))},error:e[r+1],complete:e[r+2]};else{const p=$n(t,ss);u=$n(p.firestore,ts),h=p._query;const y=new f0(u);l={next:v=>{e[r]&&e[r](new Ja(u,y,p,v))},error:e[r+1],complete:e[r+2]},BR(t._query)}const d=cm(u);return D3(d,h,a,l)}function mm(t,e){const n=cm(t);return N3(n,e)}function HR(t,e,n){const r=n.docs.get(e._key),a=new f0(t);return new Xa(t,a,e._key,r,new rc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){kV(Ml),no(new Js("firestore",((r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new ts(new OV(r.getProvider("auth-internal")),new LV(u,r.getProvider("app-check-internal")),t4(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),pr(uS,cS,e),pr(uS,cS,"esm2020")})();const t6={apiKey:"AIzaSyAFLf5FxuXFw21D1Kxkq9cPQ59oGPSJbGg",authDomain:"humi-awake.firebaseapp.com",projectId:"humi-awake",storageBucket:"humi-awake.appspot.com",messagingSenderId:"473703878796",appId:"1:473703878796:web:2b612896eace5d6a6eeba9"},pm=IA(t6),Id=IV(pm),Bn=L3(pm),BF=Object.freeze(Object.defineProperty({__proto__:null,app:pm,auth:Id,db:Bn},Symbol.toStringTag,{value:"Module"}));var Zf={exports:{}},n6=Zf.exports,yS;function i6(){return yS||(yS=1,(function(t){(function(e){function n(V,ee){var S=(V&65535)+(ee&65535),w=(V>>16)+(ee>>16)+(S>>16);return w<<16|S&65535}function r(V,ee){return V<<ee|V>>>32-ee}function a(V,ee,S,w,k,N){return n(r(n(n(ee,V),n(w,N)),k),S)}function l(V,ee,S,w,k,N,O){return a(ee&S|~ee&w,V,ee,k,N,O)}function u(V,ee,S,w,k,N,O){return a(ee&w|S&~w,V,ee,k,N,O)}function h(V,ee,S,w,k,N,O){return a(ee^S^w,V,ee,k,N,O)}function d(V,ee,S,w,k,N,O){return a(S^(ee|~w),V,ee,k,N,O)}function p(V,ee){V[ee>>5]|=128<<ee%32,V[(ee+64>>>9<<4)+14]=ee;var S,w,k,N,O,I=1732584193,A=-271733879,$=-1732584194,G=271733878;for(S=0;S<V.length;S+=16)w=I,k=A,N=$,O=G,I=l(I,A,$,G,V[S],7,-680876936),G=l(G,I,A,$,V[S+1],12,-389564586),$=l($,G,I,A,V[S+2],17,606105819),A=l(A,$,G,I,V[S+3],22,-1044525330),I=l(I,A,$,G,V[S+4],7,-176418897),G=l(G,I,A,$,V[S+5],12,1200080426),$=l($,G,I,A,V[S+6],17,-1473231341),A=l(A,$,G,I,V[S+7],22,-45705983),I=l(I,A,$,G,V[S+8],7,1770035416),G=l(G,I,A,$,V[S+9],12,-1958414417),$=l($,G,I,A,V[S+10],17,-42063),A=l(A,$,G,I,V[S+11],22,-1990404162),I=l(I,A,$,G,V[S+12],7,1804603682),G=l(G,I,A,$,V[S+13],12,-40341101),$=l($,G,I,A,V[S+14],17,-1502002290),A=l(A,$,G,I,V[S+15],22,1236535329),I=u(I,A,$,G,V[S+1],5,-165796510),G=u(G,I,A,$,V[S+6],9,-1069501632),$=u($,G,I,A,V[S+11],14,643717713),A=u(A,$,G,I,V[S],20,-373897302),I=u(I,A,$,G,V[S+5],5,-701558691),G=u(G,I,A,$,V[S+10],9,38016083),$=u($,G,I,A,V[S+15],14,-660478335),A=u(A,$,G,I,V[S+4],20,-405537848),I=u(I,A,$,G,V[S+9],5,568446438),G=u(G,I,A,$,V[S+14],9,-1019803690),$=u($,G,I,A,V[S+3],14,-187363961),A=u(A,$,G,I,V[S+8],20,1163531501),I=u(I,A,$,G,V[S+13],5,-1444681467),G=u(G,I,A,$,V[S+2],9,-51403784),$=u($,G,I,A,V[S+7],14,1735328473),A=u(A,$,G,I,V[S+12],20,-1926607734),I=h(I,A,$,G,V[S+5],4,-378558),G=h(G,I,A,$,V[S+8],11,-2022574463),$=h($,G,I,A,V[S+11],16,1839030562),A=h(A,$,G,I,V[S+14],23,-35309556),I=h(I,A,$,G,V[S+1],4,-1530992060),G=h(G,I,A,$,V[S+4],11,1272893353),$=h($,G,I,A,V[S+7],16,-155497632),A=h(A,$,G,I,V[S+10],23,-1094730640),I=h(I,A,$,G,V[S+13],4,681279174),G=h(G,I,A,$,V[S],11,-358537222),$=h($,G,I,A,V[S+3],16,-722521979),A=h(A,$,G,I,V[S+6],23,76029189),I=h(I,A,$,G,V[S+9],4,-640364487),G=h(G,I,A,$,V[S+12],11,-421815835),$=h($,G,I,A,V[S+15],16,530742520),A=h(A,$,G,I,V[S+2],23,-995338651),I=d(I,A,$,G,V[S],6,-198630844),G=d(G,I,A,$,V[S+7],10,1126891415),$=d($,G,I,A,V[S+14],15,-1416354905),A=d(A,$,G,I,V[S+5],21,-57434055),I=d(I,A,$,G,V[S+12],6,1700485571),G=d(G,I,A,$,V[S+3],10,-1894986606),$=d($,G,I,A,V[S+10],15,-1051523),A=d(A,$,G,I,V[S+1],21,-2054922799),I=d(I,A,$,G,V[S+8],6,1873313359),G=d(G,I,A,$,V[S+15],10,-30611744),$=d($,G,I,A,V[S+6],15,-1560198380),A=d(A,$,G,I,V[S+13],21,1309151649),I=d(I,A,$,G,V[S+4],6,-145523070),G=d(G,I,A,$,V[S+11],10,-1120210379),$=d($,G,I,A,V[S+2],15,718787259),A=d(A,$,G,I,V[S+9],21,-343485551),I=n(I,w),A=n(A,k),$=n($,N),G=n(G,O);return[I,A,$,G]}function y(V){var ee,S="",w=V.length*32;for(ee=0;ee<w;ee+=8)S+=String.fromCharCode(V[ee>>5]>>>ee%32&255);return S}function v(V){var ee,S=[];for(S[(V.length>>2)-1]=void 0,ee=0;ee<S.length;ee+=1)S[ee]=0;var w=V.length*8;for(ee=0;ee<w;ee+=8)S[ee>>5]|=(V.charCodeAt(ee/8)&255)<<ee%32;return S}function b(V){return y(p(v(V),V.length*8))}function x(V,ee){var S,w=v(V),k=[],N=[],O;for(k[15]=N[15]=void 0,w.length>16&&(w=p(w,V.length*8)),S=0;S<16;S+=1)k[S]=w[S]^909522486,N[S]=w[S]^1549556828;return O=p(k.concat(v(ee)),512+ee.length*8),y(p(N.concat(O),640))}function M(V){var ee="0123456789abcdef",S="",w,k;for(k=0;k<V.length;k+=1)w=V.charCodeAt(k),S+=ee.charAt(w>>>4&15)+ee.charAt(w&15);return S}function P(V){return unescape(encodeURIComponent(V))}function B(V){return b(P(V))}function U(V){return M(B(V))}function j(V,ee){return x(P(V),P(ee))}function F(V,ee){return M(j(V,ee))}function fe(V,ee,S){return ee?S?j(ee,V):F(ee,V):S?B(V):U(V)}t.exports?t.exports=fe:e.md5=fe})(n6)})(Zf)),Zf.exports}var r6=i6();const vS=lv(r6),GR=R.createContext(),s6=t=>{if(!t)return null;const e=t.displayName||"User",n=t.email||"";`${vS(n.trim().toLowerCase())}`;const r=`https://ui-avatars.com/api/?name=${encodeURIComponent(e)}&background=random&color=fff&bold=true`,a=t.photoURL||`https://www.gravatar.com/avatar/${vS(n.trim().toLowerCase())}?d=${encodeURIComponent(r)}`,l=["bg-red-500","bg-orange-500","bg-amber-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500"];let u=0;for(let d=0;d<e.length;d++)u=e.charCodeAt(d)+((u<<5)-u);const h=l[Math.abs(u)%l.length];return{...t,uid:t.uid,email:n,name:e,avatar:a,initials:e.charAt(0).toUpperCase(),profileColor:h}},a6=({children:t})=>{const[e,n]=R.useState(null),[r,a]=R.useState(!0);R.useEffect(()=>{const h=_P(Id,d=>{n(d?s6(d):null),a(!1)});return()=>h()},[]);const l=()=>nC(Id),u=h=>{console.log("AuthContext dispatch called (ignored due to Firebase Auth listener):",h)};return q.jsx(GR.Provider,{value:{user:e,loading:r,logout:l,dispatch:u,authIsReady:!r},children:t})},fo=()=>{const t=R.useContext(GR);if(!t)throw new Error("useAuthContext must be used inside an AuthContextProvider");return t},Re={subscribeToCollection:(t,e,...n)=>{if(!Bn)return console.warn("Firestore not initialized"),()=>{};let r=n,a=null;n.length>0&&typeof n[n.length-1]=="function"&&(a=n.pop(),r=n);try{const l=zg(Bn,t),u=fS(l,...r);return gS(u,d=>{const p=d.docs.map(y=>({id:y.id,...y.data()}));e(p)},d=>{a?a(d):console.error(`Error subscribing to ${t}: `,d)})}catch(l){return console.error(`Error setting up subscription for ${t}: `,l),a&&a(l),()=>{}}},subscribeToDocument:(t,e,n)=>{if(!Bn)return()=>{};try{const r=Ha(Bn,t,e);return gS(r,l=>{l.exists()?n({id:l.id,...l.data()}):n(null)},l=>{console.error(`Error subscribing to ${t}/${e}:`,l)})}catch(r){return console.error(`Error in document subscription ${t}/${e}:`,r),()=>{}}},addItem:async(t,e)=>{const n=zg(Bn,t);return await e6(n,e)},setItem:async(t,e,n,r=!0)=>{const a=Ha(Bn,t,e);return await X3(a,n,{merge:r})},updateItem:async(t,e,n)=>{const r=Ha(Bn,t,e);return await J3(r,n)},deleteItem:async(t,e)=>{const n=e?Ha(Bn,t,e):Ha(Bn,t);return await Z3(n)},getDocument:async(t,e)=>{if(!Bn)return null;const n=Ha(Bn,t,e),r=await W3(n);return r.exists()?{id:r.id,...r.data()}:null},getCollection:async(t,...e)=>{if(!Bn)return[];const n=zg(Bn,t),r=fS(n,...e);return(await Q3(r)).docs.map(l=>({id:l.id,...l.data()}))}},$R=R.createContext(),YR=()=>{const t=R.useContext($R);if(!t)throw new Error("useTheme must be used within a ThemeContextProvider");return t},o6=({children:t})=>{const{user:e}=fo(),[n,r]=R.useState(()=>{if(typeof window<"u"){const u=localStorage.getItem("theme");if(u)return u;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"});R.useEffect(()=>{const u=window.document.documentElement;n==="dark"?u.classList.add("dark"):u.classList.remove("dark"),localStorage.setItem("theme",n)},[n]),R.useEffect(()=>{if(!e)return;(async()=>{try{const h=await Re.getDocument(`users/${e.uid}/config/settings`);h&&h.theme&&h.theme!==n&&r(h.theme)}catch(h){console.error("Failed to fetch theme settings",h)}})()},[e?.uid]);const a=R.useCallback(async()=>{const u=n==="dark"?"light":"dark";if(r(u),e)try{await Re.setItem(`users/${e.uid}/config/settings`,{theme:u},!0)}catch(h){console.error("Failed to save theme",h)}},[n,e]),l=R.useMemo(()=>({theme:n,toggleTheme:a,isDark:n==="dark"}),[n,a]);return q.jsx($R.Provider,{value:l,children:t})},KR=R.createContext(),gm=()=>{const t=R.useContext(KR);if(!t)throw new Error("useDate must be used within a DateContextProvider");return t},l6=({children:t})=>{const[e,n]=AM(),r=()=>{const j=new Date;return j.setHours(0,0,0,0),j},a=j=>{if(!j)return null;const[F,fe,V]=j.split("-").map(Number);return new Date(F,fe-1,V)},l=j=>{const F=j.getFullYear(),fe=String(j.getMonth()+1).padStart(2,"0"),V=String(j.getDate()).padStart(2,"0");return`${F}-${fe}-${V}`},u=()=>{const j=e.get("date");if(j){const F=a(j);if(F&&F<=r())return F}return r()},[h,d]=R.useState(u);R.useEffect(()=>{const j=l(h);n({date:j})},[h,n]);const p=()=>h.getTime()===r().getTime(),y=j=>{let F;typeof j=="string"?F=a(j):(F=new Date(j),F.setHours(0,0,0,0));const fe=r();if(F>fe){console.warn("Cannot navigate to future date");return}d(F)},v=()=>{const j=new Date(h);j.setDate(h.getDate()-1),y(j)},b=()=>{const j=new Date(h);j.setDate(h.getDate()+1),!(j>r())&&y(j)},x=()=>{d(r())},M=l(h),P=l(r()),B=()=>h<r(),U=R.useMemo(()=>({currentDate:h,formattedDate:M,isToday:p(),isPast:B(),setDate:y,prevDay:v,nextDay:b,jumpToToday:x,maxDate:P}),[h,M,P]);return q.jsx(KR.Provider,{value:U,children:t})},WR=R.createContext(),FF=()=>{const t=R.useContext(WR);if(!t)throw new Error("useData must be used within a DataContextProvider");return t},u6=({children:t})=>{const{formattedDate:e,isPast:n}=gm(),{user:r}=fo(),[a,l]=R.useState(!0),u=["junkFood","sugar","coldDrinks","screenTime","logExpense"],h=()=>({tasks:[],habits:[],submitted:!1,locked:!1,lastModified:Date.now()}),[d,p]=R.useState(h()),y=I=>({id:I.id||`task_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:I.name||"Untitled Task",time:I.time||"",category:I.category||"EVE/NIGHT",icon:I.icon||"CheckCircle",status:I.status||"unchecked"}),v=async I=>{if(r)try{const A=I.map($=>{const G=y($);return G.status="unchecked",G});console.log("[DataContext] Saving Master Template:",A.length),await Re.setItem(`users/${r.uid}/modules`,"routine",{tasks:A,lastModified:Date.now()},!0)}catch(A){console.error("[DataContext] Failed to save master template:",A)}};R.useEffect(()=>{if(!r){p(h()),l(!1);return}l(!0);const I=async()=>{try{console.log("[DataContext] Attempting to initialize day...");const $=await Re.getDocument(`users/${r.uid}/modules`,"routine");if($&&$.tasks&&$.tasks.length>0){console.log("[DataContext] Found Master Template. Initializing from template.");const Y=$.tasks.map(Oe=>({...Oe,status:"unchecked"}));let re=[];const J=await Re.getCollection(`users/${r.uid}/days`,uo("date","desc"),wl(1));J&&J.length>0&&(re=(J[0].habits||[]).map(z=>({...z,value:z.type==="number"?0:!1})));const Ae={tasks:Y,habits:re,date:e,source:"template",submitted:!1,locked:!1,lastModified:Date.now()};return await Re.setItem(`users/${r.uid}/days`,e,Ae,!0),Ae}const G=await Re.getCollection(`users/${r.uid}/days`,uo("date","desc"),wl(1));if(G&&G.length>0){const Y=G[0];if(Y.date===e)return null;console.log("[DataContext] No template found. Backfilling from:",Y.date);const re=(Y.tasks||[]).map(Oe=>({...Oe,status:"unchecked"})),J=(Y.habits||[]).map(Oe=>({...Oe,value:Oe.type==="number"?0:!1})),Ae={tasks:re,habits:J,date:e,carriedOverFrom:Y.date,submitted:!1,locked:!1,lastModified:Date.now()};return await Re.setItem(`users/${r.uid}/days`,e,Ae,!0),Ae}return null}catch($){return console.error("[DataContext] Backfill error:",$),null}},A=Re.subscribeToDocument(`users/${r.uid}/days`,e,$=>{if($){let G=$.habits||[];const Y=G.length;G=G.filter(z=>!u.includes(z.id));const re=G.length!==Y;let J=$.tasks||[];const Ae=J.some(z=>z.id&&String(z.id).startsWith("task_0"));J.length===0&&G.length===0&&(console.log("[DataContext] Found empty day, attempting backfill..."),I()),J=J.map(z=>{if(!z.category&&z.time){const[oe]=z.time.split(":").map(Number);let Q="EVE/NIGHT";return oe>=4&&oe<9?Q="EARLY MORNING":oe>=9&&oe<13?Q="BEFORE NOON":oe>=13&&oe<17&&(Q="AFTER NOON"),console.log(`DataContext: Auto-categorizing task '${z.name}' to ${Q}`),{...z,category:Q}}return z}),(Ae||re)&&Re.updateItem(`users/${r.uid}/days`,e,{tasks:J,habits:G,locked:!1,submitted:!1}),p({...h(),...$,tasks:J,habits:G,locked:Ae||re?!1:$.locked||!1,submitted:Ae||re?!1:$.submitted||!1})}else{I().then(G=>{G||p(h())}).finally(()=>l(!1));return}l(!1)});return()=>A()},[e,r]);const b=async I=>{if(!r)return;const A=(I.tasks||[]).map(y),$=(I.habits||[]).map(Y=>({...Y,id:Y.id||`habit_${Date.now()}`,value:Y.value!==void 0?Y.value:!1})),G={...I,tasks:A,habits:$,date:e,lastModified:Date.now()};p(G);try{await Re.setItem(`users/${r.uid}/days`,e,G)}catch(Y){console.error("[DataContext] Save failed:",Y)}};new Date().toISOString().split("T")[0];const x=!1,M=async I=>{const A=d.tasks.map($=>{if($.id===I){let G="unchecked";return $.status==="unchecked"?G="checked":$.status==="checked"&&(G="missed"),{...$,status:G}}return $});await b({...d,tasks:A})},P=async(I,A)=>{const $=d.habits.map(G=>G.id===I?{...G,value:A}:G);await b({...d,habits:$})},B=async(I,A="toggle",$="hrs",G)=>{const Y={id:`habit_${Date.now()}`,label:I,type:A,icon:G||(A==="number"?"Activity":"CheckCircle"),value:A==="number"?0:!1,unit:A==="number"?$:void 0};await b({...d,habits:[...d.habits,Y]})},U=async I=>{const A=d.habits.filter($=>$.id!==I);await b({...d,habits:A})},j=async()=>{const I={...d,submitted:!0,locked:!0};await b(I)},F=async I=>{if(n){console.warn("Cannot unlock past days.");return}const A={...d,locked:!1,unlockHistory:[...d.unlockHistory||[],{timestamp:Date.now(),reason:I}]};await b(A)},fe=async I=>{d.tasks.length===0&&await b({...d,tasks:I})},V=async I=>{const A=y({...I,id:`task_${Date.now()}`,status:"unchecked"}),$=[...d.tasks,A];$.sort((G,Y)=>{if(!G.time||!Y.time)return 0;const re=G.time.split(":").map(Number),J=Y.time.split(":").map(Number);return re[0]*60+re[1]-(J[0]*60+J[1])}),await b({...d,tasks:$}),v($)},ee=async(I,A)=>{const $=d.tasks.map(G=>G.id===I?{...G,...A}:G);A.time&&$.sort((G,Y)=>{const re=G.time.split(":").map(Number),J=Y.time.split(":").map(Number);return re[0]*60+re[1]-(J[0]*60+J[1])}),await b({...d,tasks:$}),v($)},S=async I=>{const A=d.tasks.filter($=>$.id!==I);await b({...d,tasks:A}),v(A)},w=async I=>{const A=I.map(y);await b({...d,tasks:A}),v(A)},k=()=>{if(!d?.tasks||d.tasks.length===0)return 0;const I=d.tasks.length,A=d.tasks.filter($=>$.status==="checked").length;return Math.round(A/I*100)},N=async(I=7)=>{if(!r)return[];const A=[];for(let $=0;$<I;$++){const G=new Date;G.setDate(G.getDate()-$);const Y=G.toISOString().split("T")[0];A.push(Re.getDocument(`users/${r.uid}/days`,Y).then(re=>{if(!re)return{date:Y,score:0,data:null};const J=re.tasks||[],Ae=J.filter(z=>z.status==="checked").length,Oe=J.length?Math.round(Ae/J.length*100):0;return{date:Y,score:Oe,data:re}}))}return[]},O=R.useMemo(()=>({dailyData:d,updateTaskStatus:M,updateHabit:P,addHabit:B,deleteHabit:U,submitDay:j,unlockDay:F,initTasks:fe,addTask:V,editTask:ee,deleteTask:S,updateAllTasks:w,isAuthenticated:!!r,isLocked:x,getDisciplineScore:k,getHistory:N,isLoading:a}),[d,x,r,a]);return q.jsx(WR.Provider,{value:O,children:t})},QR=6048e5,c6=864e5,qF=6e4,HF=36e5,_S=Symbol.for("constructDateFrom");function qi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&_S in t?t[_S](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ft(t,e){return qi(e||t,t)}function dc(t,e,n){const r=Ft(t,n?.in);return isNaN(e)?qi(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Za(t,e,n){const r=Ft(t,n?.in);if(isNaN(e))return qi(t,NaN);if(!e)return r;const a=r.getDate(),l=qi(t,r.getTime());l.setMonth(r.getMonth()+e+1,0);const u=l.getDate();return a>=u?l:(r.setFullYear(l.getFullYear(),l.getMonth(),a),r)}let h6={};function Yc(){return h6}function Sl(t,e){const n=Yc(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Ft(t,e?.in),l=a.getDay(),u=(l<r?7:0)+l-r;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function Dd(t,e){return Sl(t,{...e,weekStartsOn:1})}function XR(t,e){const n=Ft(t,e?.in),r=n.getFullYear(),a=qi(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const l=Dd(a),u=qi(n,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const h=Dd(u);return n.getTime()>=l.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function TS(t){const e=Ft(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function JR(t,...e){const n=qi.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function kd(t,e){const n=Ft(t,e?.in);return n.setHours(0,0,0,0),n}function f6(t,e,n){const[r,a]=JR(n?.in,t,e),l=kd(r),u=kd(a),h=+l-TS(l),d=+u-TS(u);return Math.round((h-d)/c6)}function d6(t,e){const n=XR(t,e),r=qi(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Dd(r)}function m6(t,e,n){return dc(t,e*7,n)}function ed(t,e,n){return Za(t,e*12,n)}function Bg(t,e,n){const[r,a]=JR(n?.in,t,e);return+kd(r)==+kd(a)}function p6(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function g6(t){return!(!p6(t)&&typeof t!="number"||isNaN(+Ft(t)))}function bS(t,e){const n=Ft(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function ES(t,e){const n=Ft(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function y6(t,e){const n=Ft(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function v6(t,e){const n=Yc(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Ft(t,e?.in),l=a.getDay(),u=(l<r?-7:0)+6-(l-r);return a.setDate(a.getDate()+u),a.setHours(23,59,59,999),a}const _6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T6=(t,e,n)=>{let r;const a=_6[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Fg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const b6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},E6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},w6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},S6={date:Fg({formats:b6,defaultWidth:"full"}),time:Fg({formats:E6,defaultWidth:"full"}),dateTime:Fg({formats:w6,defaultWidth:"full"})},A6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},C6=(t,e,n,r)=>A6[t];function Wu(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,h=n?.width?String(n.width):u;a=t.formattingValues[h]||t.formattingValues[u]}else{const u=t.defaultWidth,h=n?.width?String(n.width):t.defaultWidth;a=t.values[h]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return a[l]}}const R6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},x6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},I6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},D6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},k6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},M6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},N6=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},O6={ordinalNumber:N6,era:Wu({values:R6,defaultWidth:"wide"}),quarter:Wu({values:x6,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Wu({values:I6,defaultWidth:"wide"}),day:Wu({values:D6,defaultWidth:"wide"}),dayPeriod:Wu({values:k6,defaultWidth:"wide",formattingValues:M6,defaultFormattingWidth:"wide"})};function Qu(t){return(e,n={})=>{const r=n.width,a=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],l=e.match(a);if(!l)return null;const u=l[0],h=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(h)?V6(h,v=>v.test(u)):P6(h,v=>v.test(u));let p;p=t.valueCallback?t.valueCallback(d):d,p=n.valueCallback?n.valueCallback(p):p;const y=e.slice(u.length);return{value:p,rest:y}}}function P6(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function V6(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function L6(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const a=r[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(a.length);return{value:u,rest:h}}}const U6=/^(\d+)(th|st|nd|rd)?/i,j6=/\d+/i,z6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},B6={any:[/^b/i,/^(a|c)/i]},F6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},q6={any:[/1/i,/2/i,/3/i,/4/i]},H6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},G6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Y6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},K6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},W6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Q6={ordinalNumber:L6({matchPattern:U6,parsePattern:j6,valueCallback:t=>parseInt(t,10)}),era:Qu({matchPatterns:z6,defaultMatchWidth:"wide",parsePatterns:B6,defaultParseWidth:"any"}),quarter:Qu({matchPatterns:F6,defaultMatchWidth:"wide",parsePatterns:q6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qu({matchPatterns:H6,defaultMatchWidth:"wide",parsePatterns:G6,defaultParseWidth:"any"}),day:Qu({matchPatterns:$6,defaultMatchWidth:"wide",parsePatterns:Y6,defaultParseWidth:"any"}),dayPeriod:Qu({matchPatterns:K6,defaultMatchWidth:"any",parsePatterns:W6,defaultParseWidth:"any"})},X6={code:"en-US",formatDistance:T6,formatLong:S6,formatRelative:C6,localize:O6,match:Q6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function J6(t,e){const n=Ft(t,e?.in);return f6(n,y6(n))+1}function Z6(t,e){const n=Ft(t,e?.in),r=+Dd(n)-+d6(n);return Math.round(r/QR)+1}function ZR(t,e){const n=Ft(t,e?.in),r=n.getFullYear(),a=Yc(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=qi(e?.in||t,0);u.setFullYear(r+1,0,l),u.setHours(0,0,0,0);const h=Sl(u,e),d=qi(e?.in||t,0);d.setFullYear(r,0,l),d.setHours(0,0,0,0);const p=Sl(d,e);return+n>=+h?r+1:+n>=+p?r:r-1}function e5(t,e){const n=Yc(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=ZR(t,e),l=qi(e?.in||t,0);return l.setFullYear(a,0,r),l.setHours(0,0,0,0),Sl(l,e)}function t5(t,e){const n=Ft(t,e?.in),r=+Sl(n,e)-+e5(n,e);return Math.round(r/QR)+1}function mt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const js={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return mt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):mt(n+1,2)},d(t,e){return mt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return mt(t.getHours()%12||12,e.length)},H(t,e){return mt(t.getHours(),e.length)},m(t,e){return mt(t.getMinutes(),e.length)},s(t,e){return mt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return mt(a,e.length)}},tl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wS={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return js.y(t,e)},Y:function(t,e,n,r){const a=ZR(t,r),l=a>0?a:1-a;if(e==="YY"){const u=l%100;return mt(u,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):mt(l,e.length)},R:function(t,e){const n=XR(t);return mt(n,e.length)},u:function(t,e){const n=t.getFullYear();return mt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return mt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return mt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return js.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return mt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const a=t5(t,r);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):mt(a,e.length)},I:function(t,e,n){const r=Z6(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):mt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):js.d(t,e)},D:function(t,e,n){const r=J6(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):mt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const a=t.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return mt(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const a=t.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return mt(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return mt(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let a;switch(r===12?a=tl.noon:r===0?a=tl.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let a;switch(r>=17?a=tl.evening:r>=12?a=tl.afternoon:r>=4?a=tl.morning:a=tl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return js.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):js.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):mt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):mt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):js.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):js.s(t,e)},S:function(t,e){return js.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return AS(r);case"XXXX":case"XX":return Ga(r);default:return Ga(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return AS(r);case"xxxx":case"xx":return Ga(r);default:return Ga(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+SS(r,":");default:return"GMT"+Ga(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+SS(r,":");default:return"GMT"+Ga(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return mt(r,e.length)},T:function(t,e,n){return mt(+t,e.length)}};function SS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=Math.trunc(r/60),l=r%60;return l===0?n+String(a):n+String(a)+e+mt(l,2)}function AS(t,e){return t%60===0?(t>0?"-":"+")+mt(Math.abs(t)/60,2):Ga(t,e)}function Ga(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=mt(Math.trunc(r/60),2),l=mt(r%60,2);return n+a+e+l}const CS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},ex=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},n5=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return CS(t,e);let l;switch(r){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",CS(r,e)).replace("{{time}}",ex(a,e))},i5={p:ex,P:n5},r5=/^D+$/,s5=/^Y+$/,a5=["D","DD","YY","YYYY"];function o5(t){return r5.test(t)}function l5(t){return s5.test(t)}function u5(t,e,n){const r=c5(t,e,n);if(console.warn(r),a5.includes(t))throw new RangeError(r)}function c5(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const h5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,f5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d5=/^'([^]*?)'?$/,m5=/''/g,p5=/[a-zA-Z]/;function g5(t,e,n){const r=Yc(),a=r.locale??X6,l=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,u=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,h=Ft(t,n?.in);if(!g6(h))throw new RangeError("Invalid time value");let d=e.match(f5).map(y=>{const v=y[0];if(v==="p"||v==="P"){const b=i5[v];return b(y,a.formatLong)}return y}).join("").match(h5).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:y5(y)};if(wS[v])return{isToken:!0,value:y};if(v.match(p5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(d=a.localize.preprocessor(h,d));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:a};return d.map(y=>{if(!y.isToken)return y.value;const v=y.value;(l5(v)||o5(v))&&u5(v,e,String(t));const b=wS[v[0]];return b(h,v,a.localize,p)}).join("")}function y5(t){const e=t.match(d5);return e?e[1].replace(m5,"'"):t}function qg(t,e){return+Ft(t)<+Ft(e)}function Hg(t,e,n){const r=+Ft(t,n?.in),[a,l]=[+Ft(e.start,n?.in),+Ft(e.end,n?.in)].sort((u,h)=>u-h);return r>=a&&r<=l}const tx=R.createContext(),GF=()=>{const t=R.useContext(tx);if(!t)throw new Error("useTasks must be used within a TaskContextProvider");return t},v5=({children:t})=>{const{user:e,authIsReady:n}=fo(),[r,a]=R.useState([]),[l,u]=R.useState([]),[h,d]=R.useState(50),[p,y]=R.useState({}),[v,b]=R.useState(!0),[x,M]=R.useState({autoDeleteCompleted:!1,confirmDelete:!0,showCompletedInList:!0,defaultPriority:"Medium",defaultDuration:15,dailyReminder:!0,reminderTime:"09:00"}),P=g5(new Date,"yyyy-MM-dd");R.useEffect(()=>{if(!n)return;if(!e){a([]),u([]),y({}),b(!1);return}b(!0);const $=Re.subscribeToCollection(`users/${e.uid}/tasks`,J=>{a(J),b(!1)},dS("status","==","pending"),uo("createdAt","desc"),wl(200)),G=Re.subscribeToCollection(`users/${e.uid}/tasks`,J=>{u(J)},dS("status","==","completed"),uo("createdAt","desc"),wl(h)),Y=Re.subscribeToDocument(`users/${e.uid}/config`,"taskSettings",J=>{J&&M(Ae=>({...Ae,...J}))}),re=Re.subscribeToDocument(`users/${e.uid}/data`,"lockedDays",J=>{J&&J.days&&y(J.days)});return()=>{$(),G(),Y(),re()}},[e,n,h]);const B=$=>{if(!e)return;const G={...x,...$};M(G),Re.setItem(`users/${e.uid}/config`,"taskSettings",G)},U=$=>$<P,j=$=>{const G=I.filter(re=>re.date===$);if(G.length===0)return 0;const Y=G.filter(re=>re.status==="completed"||re.isCompleted).length;return Math.round(Y/G.length*100)},F=async($,G={})=>{if(!e)return;const Y=G.date||P;if(U(Y)){console.warn("Cannot add tasks to a locked day.");return}const re={title:$,status:"pending",isCompleted:!1,date:Y,createdAt:Date.now(),priority:G.priority||"Medium",category:G.category||"Work",time:G.time||null,estimatedTime:G.estimatedTime||15,description:G.description||"",userId:e.uid};try{const J=await Re.addItem(`users/${e.uid}/tasks`,re);return console.log("Task added successfully with ID:",J.id),{...re,id:J.id}}catch(J){throw console.error("Error adding task:",J),J}},fe=async($,G)=>{if(!e)return;const Y=I.find(re=>re.id===$);if(Y){if(U(Y.date)){console.warn("Cannot edit tasks of a locked day.");return}await Re.updateItem(`users/${e.uid}/tasks`,$,G)}},V=async $=>{if(!e)return;const G=I.find(Y=>Y.id===$);if(G&&U(G.date)){console.warn("Cannot delete tasks of a locked day.");return}await Re.deleteItem(`users/${e.uid}/tasks`,$)},ee=async($,G)=>{e&&await Re.updateItem(`users/${e.uid}/tasks`,$,{date:G})},S=async $=>{if(!e)return;const G=I.find(J=>J.id===$);if(!G)return;if(U(G.date)&&!G.isCompleted&&G.status!=="completed"){await Re.updateItem(`users/${e.uid}/tasks`,$,{date:P,status:"completed",isCompleted:!0});return}if(U(G.date))return;const Y=!(G.status==="completed"||G.isCompleted),re=Y?"completed":"pending";await Re.updateItem(`users/${e.uid}/tasks`,$,{status:re,isCompleted:Y})},w=async()=>{if(!e)return 0;const $=j(P),G={...p,[P]:{lockedAt:Date.now(),score:$}};return y(G),await Re.setItem(`users/${e.uid}/data`,"lockedDays",{days:G}),$},k=async()=>{if(!e)return;const $=I.map(G=>Re.deleteItem(`users/${e.uid}/tasks`,G.id));await Promise.all($)},[N,O]=R.useState(null),I=R.useMemo(()=>[...r,...l].sort((G,Y)=>Y.createdAt-G.createdAt),[r,l]),A=R.useMemo(()=>({tasks:I,lockedDays:p,settings:x,currentDateStr:P,addTask:F,updateTask:fe,deleteTask:V,toggleTask:S,rescheduleTask:ee,completeDay:w,getDailyScore:j,isDayLocked:U,clearAllTasks:k,updateSettings:B,activePopoverId:N,setActivePopoverId:O,isLoading:v,loadMoreCompleted:()=>d($=>$+50)}),[I,p,P,x,N,v]);return q.jsx(tx.Provider,{value:A,children:t})};const _5="type.googleapis.com/google.protobuf.Int64Value",T5="type.googleapis.com/google.protobuf.UInt64Value";function nx(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Md(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Md(e));if(typeof t=="function"||typeof t=="object")return nx(t,e=>Md(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Al(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case _5:case T5:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Al(e)):typeof t=="function"||typeof t=="object"?nx(t,e=>Al(e)):t}const v0="functions";const RS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gn extends wr{constructor(e,n,r){super(`${v0}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Gn.prototype)}}function b5(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Nd(t,e){let n=b5(t),r=n,a;try{const l=e&&e.error;if(l){const u=l.status;if(typeof u=="string"){if(!RS[u])return new Gn("internal","internal");n=RS[u],r=u}const h=l.message;typeof h=="string"&&(r=h),a=l.details,a!==void 0&&(a=Al(a))}}catch{}return n==="ok"?null:new Gn(n,r,a)}class E5{constructor(e,n,r,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,qn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||r.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:a}}}const Vy="us-central1",w5=/^data: (.*?)(?:\n|$)/;function S5(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Gn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class A5{constructor(e,n,r,a,l=Vy,u=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new E5(e,n,r,a),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(l);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=Vy}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function C5(t,e,n){const r=oa(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(vv(t.emulatorOrigin+"/backends"),_v("Functions",!0))}function R5(t,e,n){const r=a=>I5(t,e,a,{});return r.stream=(a,l)=>k5(t,e,a,l),r}function ix(t){return t.emulatorOrigin&&oa(t.emulatorOrigin)?"include":void 0}async function x5(t,e,n,r,a){n["Content-Type"]="application/json";let l;try{l=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:ix(a)})}catch{return{status:0,json:null}}let u=null;try{u=await l.json()}catch{}return{status:l.status,json:u}}async function rx(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function I5(t,e,n,r){const a=t._url(e);return D5(t,a,n,r)}async function D5(t,e,n,r){n=Md(n);const a={data:n},l=await rx(t,r),u=r.timeout||7e4,h=S5(u),d=await Promise.race([x5(e,a,l,t.fetchImpl,t),h.promise,t.cancelAllRequests]);if(h.cancel(),!d)throw new Gn("cancelled","Firebase Functions instance was deleted.");const p=Nd(d.status,d.json);if(p)throw p;if(!d.json)throw new Gn("internal","Response is not valid JSON object.");let y=d.json.data;if(typeof y>"u"&&(y=d.json.result),typeof y>"u")throw new Gn("internal","Response is missing data field.");return{data:Al(y)}}function k5(t,e,n,r){const a=t._url(e);return M5(t,a,n,r||{})}async function M5(t,e,n,r){n=Md(n);const a={data:n},l=await rx(t,r);l["Content-Type"]="application/json",l.Accept="text/event-stream";let u;try{u=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:l,signal:r?.signal,credentials:ix(t)})}catch(b){if(b instanceof Error&&b.name==="AbortError"){const M=new Gn("cancelled","Request was cancelled.");return{data:Promise.reject(M),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(M)}}}}}}const x=Nd(0,null);return{data:Promise.reject(x),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(x)}}}}}}let h,d;const p=new Promise((b,x)=>{h=b,d=x});r?.signal?.addEventListener("abort",()=>{const b=new Gn("cancelled","Request was cancelled.");d(b)});const y=u.body.getReader(),v=N5(y,h,d,r?.signal);return{stream:{[Symbol.asyncIterator](){const b=v.getReader();return{async next(){const{value:x,done:M}=await b.read();return{value:x,done:M}},async return(){return await b.cancel(),{done:!0,value:void 0}}}}},data:p}}function N5(t,e,n,r){const a=(u,h)=>{const d=u.match(w5);if(!d)return;const p=d[1];try{const y=JSON.parse(p);if("result"in y){e(Al(y.result));return}if("message"in y){h.enqueue(Al(y.message));return}if("error"in y){const v=Nd(0,y);h.error(v),n(v);return}}catch(y){if(y instanceof Gn){h.error(y),n(y);return}}},l=new TextDecoder;return new ReadableStream({start(u){let h="";return d();async function d(){if(r?.aborted){const p=new Gn("cancelled","Request was cancelled");return u.error(p),n(p),Promise.resolve()}try{const{value:p,done:y}=await t.read();if(y){h.trim()&&a(h.trim(),u),u.close();return}if(r?.aborted){const b=new Gn("cancelled","Request was cancelled");u.error(b),n(b),await t.cancel();return}h+=l.decode(p,{stream:!0});const v=h.split(`
`);h=v.pop()||"";for(const b of v)b.trim()&&a(b.trim(),u);return d()}catch(p){const y=p instanceof Gn?p:Nd(0,null);u.error(y),n(y)}}},cancel(){return t.cancel()}})}const xS="@firebase/functions",IS="0.13.1";const O5="auth-internal",P5="app-check-internal",V5="messaging-internal";function L5(t){const e=(n,{instanceIdentifier:r})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(O5),u=n.getProvider(V5),h=n.getProvider(P5);return new A5(a,l,u,h,r)};no(new Js(v0,e,"PUBLIC").setMultipleInstances(!0)),pr(xS,IS,t),pr(xS,IS,"esm2020")}function U5(t=Ev(),e=Vy){const r=$d(bt(t),v0).getImmediate({identifier:e}),a=SA("functions");return a&&j5(r,...a),r}function j5(t,e,n){C5(bt(t),e,n)}function z5(t,e,n){return R5(bt(t),e)}L5();const za={async commitFinancialTransaction(t){const e=U5(pm),n=z5(e,"commitFinancialTransaction");try{return(await n(t)).data}catch(r){throw console.error("Cloud Function Failed:",r),r}}},sx=R.createContext(),B5=()=>{const t=R.useContext(sx);if(!t)throw new Error("useFinance must be used within FinanceContextProvider");return t},F5=({children:t})=>{const{user:e,authIsReady:n}=fo(),r=[{id:"cat_food",name:"Food & Dining",type:"expense",budget:5e3,color:"bg-orange-500",icon:"Utensils"},{id:"cat_transport",name:"Transport",type:"expense",budget:2e3,color:"bg-blue-500",icon:"Bus"},{id:"cat_shopping",name:"Shopping",type:"expense",budget:3e3,color:"bg-pink-500",icon:"ShoppingBag"},{id:"cat_bills",name:"Bills & Utilities",type:"expense",budget:4e3,color:"bg-yellow-500",icon:"Zap"},{id:"cat_salary",name:"Salary",type:"income",budget:0,color:"bg-emerald-500",icon:"DollarSign"}],a=[{id:"acc_cash",name:"Cash Wallet",type:"cash",balance:0,openingBalance:0,isArchived:!1},{id:"acc_bank",name:"Main Bank",type:"bank",balance:0,openingBalance:0,isArchived:!1},{id:"acc_upi",name:"UPI / Digital",type:"upi",balance:0,openingBalance:0,isArchived:!1}],[l,u]=R.useState([]),[h,d]=R.useState(50),[p,y]=R.useState([]),[v,b]=R.useState([]),[x,M]=R.useState([]),[P,B]=R.useState([]),[U,j]=R.useState([]),[F,fe]=R.useState([]),[V,ee]=R.useState(!0);R.useEffect(()=>{if(!n)return;if(!e){u([]),y(r),b(a),M([]),B([]),j([]),fe([]),ee(!1);return}ee(!0);const ye=Re.subscribeToCollection(`users/${e.uid}/transactions`,He=>{u(He),ee(!1)},uo("date","desc"),wl(h)),ve=Re.subscribeToCollection(`users/${e.uid}/categories`,He=>{y(He.length>0?He:[])}),we=Re.subscribeToCollection(`users/${e.uid}/accounts`,He=>b(He.length>0?He:[])),be=Re.subscribeToCollection(`users/${e.uid}/savingsGoals`,He=>M(He)),ke=Re.subscribeToCollection(`users/${e.uid}/debts`,He=>B(He)),Je=Re.subscribeToCollection(`users/${e.uid}/subscriptions`,He=>j(He)),Ue=Re.subscribeToCollection(`users/${e.uid}/recurringRules`,He=>fe(He));return()=>{ye(),ve(),we(),be(),ke(),Je(),Ue()}},[e,n,h]),R.useEffect(()=>{if(!e)return;(async()=>((await Re.getCollection(`users/${e.uid}/categories`)).length===0&&await Promise.all(r.map(be=>Re.addItem(`users/${e.uid}/categories`,be))),(await Re.getCollection(`users/${e.uid}/accounts`)).length===0&&await Promise.all(a.map(be=>Re.addItem(`users/${e.uid}/accounts`,be)))))()},[e?.uid]),R.useEffect(()=>{if(!e||F.length===0)return;(async()=>{const ve=new Date;for(const we of F){if(!we.isActive)continue;let be=new Date(we.nextDueDate),ke=!1;for(;(qg(be,ve)||Bg(be,ve))&&!(we.endDate&&qg(new Date(we.endDate),be));){const Ue={transactionId:crypto.randomUUID(),accountId:we.transactionTemplate.accountId,type:we.transactionTemplate.type,amount:Number(we.transactionTemplate.amount),categoryId:we.transactionTemplate.categoryId,date:be.toISOString(),description:we.transactionTemplate.name||"Recurring Transaction",metadata:{recurringRuleId:we.id,isfromRecurring:!0}};await za.commitFinancialTransaction(Ue),we.frequency==="daily"?be=dc(be,1):we.frequency==="weekly"?be=m6(be,1):we.frequency==="monthly"?be=Za(be,1):we.frequency==="yearly"&&(be=ed(be,1)),ke=!0}ke&&await Re.updateItem(`users/${e.uid}/recurringRules`,we.id,{nextDueDate:be.toISOString()})}})()},[F,e]),R.useEffect(()=>{if(!e||U.length===0)return;(async()=>{const ve=new Date;for(const we of U){if(we.status!=="active"||!we.autoPay)continue;let be=new Date(we.nextBillingDate),ke=!1;for(;qg(be,ve)||Bg(be,ve);){const Ue={transactionId:crypto.randomUUID(),accountId:"acc_bank",type:"expense",amount:Number(we.amount),categoryId:"cat_bills",date:be.toISOString(),description:`Subscription: ${we.name}`,metadata:{isFromSubscription:!0,subscriptionId:we.id}};await za.commitFinancialTransaction(Ue),be=Za(be,1),ke=!0}ke&&await Re.updateItem(`users/${e.uid}/subscriptions`,we.id,{nextBillingDate:be.toISOString()})}})()},[U,e]);const S=R.useCallback(ye=>v.find(ve=>ve.id===ye)?.balance||0,[v]),w=R.useCallback(()=>v.filter(ye=>!ye.isArchived).reduce((ye,ve)=>ye+ve.balance,0),[v]),k=R.useCallback(()=>{const ye=new Date,ve=ES(ye),we=bS(ye);return l.filter(be=>!be.isDeleted&&be.type==="expense"&&Hg(new Date(be.date),{start:ve,end:we})).reduce((be,ke)=>be+Number(ke.amount),0)},[l]),N=R.useCallback(ye=>{const ve=new Date,we=ES(ve),be=bS(ve);return l.filter(ke=>!ke.isDeleted&&Hg(new Date(ke.date),{start:we,end:be})).reduce((ke,Je)=>Je.categoryId===ye?ke+Number(Je.amount):ke,0)},[l]),O=R.useCallback(ye=>{const ve=p.find(He=>He.id===ye);if(!ve||!ve.budget)return null;const we=N(ye),be=Number(ve.budget),ke=be-we,Je=Math.min(Math.round(we/be*100),100);let Ue="good";return Je>=100?Ue="danger":Je>=80&&(Ue="warning"),{spent:we,budget:be,remaining:ke,percent:Je,status:Ue}},[p,N]),I=R.useCallback((ye=new Date)=>l.filter(ve=>!ve.isDeleted&&ve.type==="expense"&&Bg(new Date(ve.date||ve.createdAt),ye)).reduce((ve,we)=>ve+Number(we.amount),0),[l]),A=R.useCallback(()=>{const ye=new Date,ve=Sl(ye,{weekStartsOn:1}),we=v6(ye,{weekStartsOn:1}),be=l.filter(Ue=>!Ue.isDeleted&&Hg(new Date(Ue.date||Ue.createdAt),{start:ve,end:we})),ke=be.filter(Ue=>Ue.type==="income").reduce((Ue,He)=>Ue+Number(He.amount),0),Je=be.filter(Ue=>Ue.type==="expense").reduce((Ue,He)=>Ue+Number(He.amount),0);return ke-Je},[l]),$=R.useCallback(async ye=>{e&&await za.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:ye.accountId,type:ye.type,amount:Number(ye.amount),categoryId:ye.categoryId,date:ye.date||new Date().toISOString(),description:ye.note||ye.description,metadata:{...ye}})},[e]),G=R.useCallback(async({amount:ye,fromAccountId:ve,toAccountId:we,note:be,date:ke})=>{e&&await za.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:ve,toAccountId:we,type:"transfer",amount:Number(ye),date:ke||new Date().toISOString(),description:be||"Fund Transfer",categoryId:"cat_transfer"})},[e]),Y=R.useCallback(async ye=>{if(!e)return;const ve={isActive:!0,nextDueDate:ye.startDate,...ye};await Re.addItem(`users/${e.uid}/recurringRules`,ve)},[e]),re=R.useCallback(async ye=>{if(!e)return;const ve=l.find(Ue=>Ue.transactionId===ye||Ue.id===ye);if(!ve||ve.isDeleted)return;const we=crypto.randomUUID();let be=ve.type==="income"?"expense":"income",ke=ve.accountId,Je;ve.type==="transfer"&&(be="transfer",ke=ve.toAccountId,Je=ve.accountId),await za.commitFinancialTransaction({transactionId:we,accountId:ke,toAccountId:Je,type:be,amount:Number(ve.amount),date:new Date().toISOString(),description:`Correction: Undo ${ve.description||"Transaction"}`,metadata:{isCompensation:!0,originalTransactionId:ve.transactionId||ve.id}})},[e,l]),J=R.useCallback(async ye=>{console.warn("restoreTransaction is deprecated in strict ledger mode.")},[]),Ae=R.useCallback(async(ye,ve)=>{e&&(await re(ye),await $(ve))},[e,re,$]),Oe=R.useCallback(ye=>!1,[]),z=R.useCallback(async(ye,ve)=>{if(!e)return;const{balance:we,...be}=ve;await Re.updateItem(`users/${e.uid}/accounts`,ye,be)},[e]),oe=R.useCallback(async ye=>{if(!e)return;const ve=v.find(we=>we.id===ye);ve&&await Re.updateItem(`users/${e.uid}/accounts`,ye,{isArchived:!ve.isArchived})},[e,v]),Q=R.useCallback(async(ye,ve)=>{e&&await Re.updateItem(`users/${e.uid}/categories`,ye,{budget:ve})},[e]),K=R.useCallback(async ye=>{e&&await Re.addItem(`users/${e.uid}/categories`,ye)},[e]),X=R.useCallback(async(ye,ve=!1,we=null)=>{if(!e)return;const be={createdAt:Date.now(),status:"open",isSettled:!1,paidAmount:0,history:[{id:`dh_${Date.now()}`,date:Date.now(),amount:Number(ye.amount),type:"creation",note:"Record created"}],...ye},ke=await Re.addItem(`users/${e.uid}/debts`,be);if(ve&&we){const Je=ye.type==="payable",Ue=Je?"income":"expense";await za.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:we,type:Ue,amount:Number(ye.amount),categoryId:Je?"cat_debt_in":"cat_debt_out",date:new Date().toISOString(),description:`Debt: ${ye.person}`,metadata:{relatedDebtId:ke.id}})}},[e]),ge=R.useCallback(async(ye,ve,we=new Date)=>{if(!e)return;const be=P.find($i=>$i.id===ye);if(!be)return;const ke=Number(ve),Je=be.type==="receivable";await za.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:"acc_bank",type:Je?"income":"expense",amount:ke,categoryId:"cat_debt",date:new Date(we).toISOString(),description:`Repayment: ${be.person}`,metadata:{relatedDebtId:ye}});const Ue=(be.paidAmount||0)+ke,He=Ue>=Number(be.amount);await Re.updateItem(`users/${e.uid}/debts`,ye,{paidAmount:Ue,isSettled:He,payments:[...be.payments||[],{amount:ke,date:new Date(we).toISOString(),id:`pay_${Date.now()}`}]})},[e,P]),pe=R.useCallback(ye=>{const ve=P.find(we=>we.id===ye);if(ve&&!ve.isSettled){const we=Number(ve.amount)-(ve.paidAmount||0);we>0&&ge(ye,we)}},[P,ge]),me=R.useCallback(async ye=>{if(!e)return;const ve=new Date,we=Number(ye.dueDate);let be=new Date(ve.getFullYear(),ve.getMonth(),we);be<ve&&(be=Za(be,1));const ke={status:"active",autoPay:!0,nextBillingDate:be.toISOString(),...ye};await Re.addItem(`users/${e.uid}/subscriptions`,ke)},[e]),Ee=R.useCallback(async(ye,ve)=>{e&&await Re.updateItem(`users/${e.uid}/subscriptions`,ye,ve)},[e]),Ge=R.useCallback(async ye=>{if(!e)return;const ve=U.find(we=>we.id===ye);ve&&await Re.updateItem(`users/${e.uid}/subscriptions`,ye,{status:ve.status==="active"?"paused":"active"})},[e,U]),Ne=R.useCallback(async ye=>{e&&await Re.deleteItem(`users/${e.uid}/subscriptions`,ye)},[e]),It=R.useMemo(()=>({transactions:l,categories:p,accounts:v,savingsGoals:x,debts:P,subscriptions:U,addTransaction:$,addTransfer:G,deleteTransaction:re,editTransaction:Ae,restoreTransaction:J,checkDuplicate:Oe,getAccountBalance:S,getTotalBalance:w,getMonthlySpend:k,getCategorySpend:N,updateCategoryBudget:Q,addCategory:K,addDebt:X,addDebtPayment:ge,settleDebt:pe,addSubscription:me,updateSubscription:Ee,toggleSubscriptionStatus:Ge,deleteSubscription:Ne,updateAccount:z,toggleArchiveAccount:oe,addRecurringRule:Y,recurringRules:F,getBudgetStats:O,getDailySpend:I,getWeeklySavings:A,isLoading:V,loadMoreTransactions:()=>d(ye=>ye+50)}),[l,p,v,x,P,U,F,V,$,G,re,Ae,J,Oe,S,w,k,N,Q,K,X,ge,pe,me,Ee,Ge,Ne,z,oe,Y,O,I,A]);return q.jsx(sx.Provider,{value:It,children:t})},ax=R.createContext(),q5=({children:t})=>{const[e,n]=R.useState(null),r=R.useCallback(l=>{n(l)},[]),a=R.useCallback(()=>{n(null)},[]);return q.jsx(ax.Provider,{value:{error:e,showError:r,clearError:a},children:t})},ox=()=>R.useContext(ax),Sn=t=>t?t.code?{code:t.code,message:t.message||"Firebase error occurred."}:t instanceof Error?{code:"JS_ERROR",message:t.message}:{code:"UNEXPECTED_ERROR",message:"Unexpected error occurred."}:{code:"UNKNOWN_ERROR",message:"An unknown error occurred."},lx=R.createContext(),H5=[{type:"Oil Change",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Engine Oil Filter",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Air Filter",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:2e4,category:"mandatory"},{type:"Brake Check",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Chain Lubrication",frequencyValue:1,frequencyUnit:"months",frequencyType:"both",odometerValue:500,category:"optional",applicable:["bike","scooter"]},{type:"Coolant Check",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Battery Health",frequencyValue:12,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Tyre Pressure",frequencyValue:1,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Tyre Rotation",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"optional"},{type:"Wheel Alignment",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"optional"},{type:"General Service",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Accident Repair",frequencyType:"none",category:"optional"},{type:"Accessories Maintenance",frequencyValue:12,frequencyUnit:"months",frequencyType:"date",category:"optional"},{type:"Insurance Renewal",frequencyValue:12,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Pollution Certificate",frequencyValue:6,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Registration Renewal",frequencyValue:15,frequencyUnit:"years",frequencyType:"date",category:"mandatory"},{type:"Fitness Certificate",frequencyValue:1,frequencyUnit:"years",frequencyType:"date",category:"optional",applicable:["commercial"]}],$F=()=>{const t=R.useContext(lx);if(!t)throw new Error("useVehicle must be used within VehicleContextProvider");return t},G5=({children:t})=>{const{user:e,authIsReady:n}=fo(),{addTransaction:r,categories:a}=B5(),{showError:l}=ox(),[u,h]=R.useState([]),[d,p]=R.useState([]),[y,v]=R.useState([]),[b,x]=R.useState(20),[M,P]=R.useState([]),[B,U]=R.useState(!0),[j,F]=R.useState(null);R.useEffect(()=>{j&&l(j)},[j,l]),R.useEffect(()=>{if(!n)return;if(!e){h([]),p([]),v([]),P([]),U(!1);return}U(!0);const Q=Re.subscribeToCollection(`users/${e.uid}/vehicles`,pe=>{F(null),h(pe),U(!1)},uo("createdAt","desc"),pe=>{const me=Sn(pe);console.error(me),F(me),U(!1)}),K=Re.subscribeToCollection(`users/${e.uid}/followUps`,pe=>{F(null),p(pe)},pe=>{const me=Sn(pe);console.error(me),F(me)}),X=Re.subscribeToCollection(`users/${e.uid}/serviceRecords`,pe=>{F(null),v(pe)},uo("date","desc"),wl(b),pe=>{const me=Sn(pe);console.error(me),F(me)}),ge=Re.subscribeToCollection(`users/${e.uid}/vehicleLoans`,pe=>{F(null),P(pe)},pe=>{const me=Sn(pe);console.error(me),F(me)});return()=>{Q(),K(),X(),ge()}},[e,n,b]);const fe=R.useCallback(async Q=>{try{if(!e?.uid)return;F(null),await Re.deleteItem(`users/${e.uid}/vehicles/${Q}`),console.log("Vehicle deleted:",Q)}catch(K){const X=Sn(K);throw console.error("Error deleting vehicle:",X),F(X),X}},[e]),V=R.useCallback(async Q=>{try{if(!e)return;F(null);const K={createdAt:Date.now(),isArchived:!1,isActive:u.length===0,...Q},ge=(await Re.addItem(`users/${e.uid}/vehicles`,K)).id,pe=H5.filter(me=>!me.applicable||me.applicable.includes(Q.type)).filter(me=>me.frequencyType!=="none").map(me=>{const Ee=new Date;let Ge=null;(me.frequencyType==="date"||me.frequencyType==="both")&&(me.frequencyUnit==="days"&&(Ge=dc(Ee,me.frequencyValue).toISOString()),me.frequencyUnit==="months"&&(Ge=Za(Ee,me.frequencyValue).toISOString()),me.frequencyUnit==="years"&&(Ge=ed(Ee,me.frequencyValue).toISOString()));let Ne=null;return(me.frequencyType==="odometer"||me.frequencyType==="both")&&(Ne=(Number(Q.odometer)||0)+(me.odometerValue||0)),{vehicleId:ge,type:me.type,frequencyType:me.frequencyType,frequencyValue:me.frequencyValue,frequencyUnit:me.frequencyUnit,odometerValue:me.odometerValue,dueDate:Ge,dueOdometer:Ne,isRecurring:!0,isStandard:!0,status:"pending"}});await Promise.all(pe.map(me=>Re.addItem(`users/${e.uid}/followUps`,me)))}catch(K){const X=Sn(K);throw console.error(X),F(X),X}},[e,u]),ee=R.useCallback(async(Q,K)=>{try{if(!e)return;F(null),await Re.updateItem(`users/${e.uid}/vehicles`,Q,K)}catch(X){const ge=Sn(X);throw console.error(ge),F(ge),ge}},[e]),S=R.useCallback(async Q=>{try{if(!e)return;F(null);const K=u.find(ge=>ge.id===Q);if(!K)return;let X={isArchived:!K.isArchived};!K.isArchived&&K.isActive&&(X.isActive=!1),await ee(Q,X)}catch(K){const X=Sn(K);throw console.error(X),F(X),X}},[e,u,ee]),w=R.useCallback(async Q=>{try{if(!e)return;F(null);const K=u.map(X=>X.id===Q&&!X.isActive?Re.updateItem(`users/${e.uid}/vehicles`,X.id,{isActive:!0}):X.id!==Q&&X.isActive?Re.updateItem(`users/${e.uid}/vehicles`,X.id,{isActive:!1}):Promise.resolve());await Promise.all(K)}catch(K){const X=Sn(K);throw console.error(X),F(X),X}},[e,u]),k=R.useCallback(()=>u.find(Q=>Q.isActive&&!Q.isArchived),[u]),N=R.useCallback(async Q=>{try{if(!e)return;F(null);const K={status:"pending",...Q};await Re.addItem(`users/${e.uid}/followUps`,K)}catch(K){const X=Sn(K);throw console.error(X),F(X),X}},[e]),O=R.useCallback(async Q=>{try{if(!e)return;F(null),await Re.deleteItem(`users/${e.uid}/followUps`,Q)}catch(K){const X=Sn(K);throw console.error(X),F(X),X}},[e]),I=R.useCallback(async(Q,K)=>{try{if(!e)return;F(null);const X=d.find(me=>me.id===Q);if(!X)return;const ge=u.find(me=>me.id===X.vehicleId);let pe={vehicleId:X.vehicleId,followUpId:Q,type:X.type,...K};if(K.cost>0&&K.accountId){let me="cat_vehicle";const Ee=a.find(Ne=>Ne.name==="Vehicle"||Ne.id==="cat_vehicle");Ee?me=Ee.id:me=a.find(Ne=>Ne.name==="Transport")?.id||a.find(Ne=>Ne.type==="expense")?.id;const Ge={amount:K.cost,type:"expense",categoryId:me,accountId:K.accountId,note:`Vehicle: ${ge?.name} - ${X.type}`,date:K.date};await r(Ge),pe.financeTxId=!0}if(await Re.addItem(`users/${e.uid}/serviceRecords`,pe),Number(K.odometer)>Number(ge?.odometer||0)&&await ee(ge.id,{odometer:K.odometer}),await O(Q),X.isRecurring){const me={...X};if(delete me.id,X.frequencyType==="date"||X.frequencyType==="both"){const Ee=new Date(K.date);let Ge=Ee;X.frequencyUnit==="days"&&(Ge=dc(Ee,X.frequencyValue)),X.frequencyUnit==="months"&&(Ge=Za(Ee,X.frequencyValue)),X.frequencyUnit==="years"&&(Ge=ed(Ee,X.frequencyValue)),me.dueDate=Ge.toISOString()}if(X.frequencyType==="odometer"||X.frequencyType==="both"){const Ee=Number(K.odometer);me.dueOdometer=Ee+Number(X.odometerValue||X.frequencyValue)}await N(me)}}catch(X){const ge=Sn(X);throw console.error(ge),F(ge),ge}},[e,d,u,a,r,ee,O,N]),A=R.useCallback(async Q=>{try{if(!e)return;F(null);const K={...Q};if(Q.cost>0&&Q.accountId){let ge=a.find(Ee=>Ee.name==="Transport")?.id||a.find(Ee=>Ee.type==="expense")?.id;const pe=u.find(Ee=>Ee.id===Q.vehicleId),me={amount:Q.cost,type:"expense",categoryId:ge,accountId:Q.accountId,note:`Vehicle: ${pe?.name} - ${Q.type}`,date:Q.date};await r(me),K.financeTxId=!0}await Re.addItem(`users/${e.uid}/serviceRecords`,K);const X=u.find(ge=>ge.id===Q.vehicleId);X&&Number(Q.odometer)>Number(X.odometer||0)&&await ee(X.id,{odometer:Q.odometer})}catch(K){const X=Sn(K);throw console.error(X),F(X),X}},[e,a,u,r,ee]),$=R.useCallback((Q,K)=>y.filter(X=>X.vehicleId===Q&&X.type===K).sort((X,ge)=>new Date(ge.date)-new Date(X.date))[0],[y]),G=R.useCallback(async(Q,K)=>{try{if(!e)return;F(null);const X=d.find(pe=>pe.vehicleId===Q&&pe.type===K.type&&pe.status!=="completed"),ge=u.find(pe=>pe.id===Q);if(X)await O(X.id);else{const pe=new Date;let me=null;(K.frequencyType==="date"||K.frequencyType==="both")&&(K.frequencyUnit==="days"&&(me=dc(pe,K.frequencyValue).toISOString()),K.frequencyUnit==="months"&&(me=Za(pe,K.frequencyValue).toISOString()),K.frequencyUnit==="years"&&(me=ed(pe,K.frequencyValue).toISOString()));let Ee=null;ge&&(K.frequencyType==="odometer"||K.frequencyType==="both")&&(Ee=(Number(ge.odometer)||0)+(K.odometerValue||0));const Ge={vehicleId:Q,type:K.type,frequencyType:K.frequencyType,frequencyValue:K.frequencyValue,frequencyUnit:K.frequencyUnit,odometerValue:K.odometerValue,dueDate:me,dueOdometer:Ee,isRecurring:!0,isStandard:!0,status:"pending"};await N(Ge)}}catch(X){const ge=Sn(X);throw console.error(ge),F(ge),ge}},[e,d,u,O,N]),Y=R.useCallback(async Q=>{try{if(!e)return;F(null);const K={status:"active",history:[],remainingPrincipal:Number(Q.totalLoanAmount),...Q};await Re.addItem(`users/${e.uid}/vehicleLoans`,K)}catch(K){const X=Sn(K);throw console.error(X),F(X),X}},[e]),re=R.useCallback(async(Q,K)=>{try{if(!e)return;F(null);const X=M.find(me=>me.id===Q);if(!X)return;const ge=u.find(me=>me.id===X.vehicleId);let pe=Number(X.remainingPrincipal)-Number(K.principal);if(pe<0&&(pe=0),K.amount>0&&K.accountId){let me="cat_vehicle";const Ee=a.find(Ne=>Ne.name==="Vehicle"||Ne.id==="cat_vehicle");Ee?me=Ee.id:me=a.find(Ne=>Ne.name==="Transport")?.id||a.find(Ne=>Ne.type==="expense")?.id;const Ge={amount:K.amount,type:"expense",categoryId:me,accountId:K.accountId,note:`Vehicle: ${ge?.name} - Loan EMI (${K.type}) - ${X.lender}`,date:K.date};await r(Ge)}await Re.updateItem(`users/${e.uid}/vehicleLoans`,Q,{remainingPrincipal:pe,history:[...X.history||[],K],status:pe<=0?"closed":"active"})}catch(X){const ge=Sn(X);throw console.error(ge),F(ge),ge}},[e,M,u,a,r]),J=R.useCallback(Q=>M.find(K=>K.vehicleId===Q&&K.status!=="closed"),[M]),Ae=R.useCallback(Q=>{const K=M.find(It=>It.id===Q);if(!K)return null;const X=new Date,ge=X.getFullYear(),pe=X.getMonth(),me=new Date(ge,pe,K.dueDateDay),Ee=K.history?.some(It=>{const ye=new Date(It.date);return ye.getFullYear()===ge&&ye.getMonth()===pe&&It.type==="EMI"}),Ge=!Ee&&X>me?"overdue":Ee?"paid":"pending";let Ne=0;if(K.interestType==="reducing"){const It=K.interestRate/100/12;Ne=K.remainingPrincipal*It}else Ne=K.totalLoanAmount*(K.interestRate/100)*(K.tenureMonths/12)/K.tenureMonths;return{status:Ge,dueDate:me.toISOString(),isPastDue:!Ee&&X>me,interestBalance:Math.round(Ne),daysLate:!Ee&&X>me?Math.floor((X-me)/(1e3*60*60*24)):0}},[M]),Oe=R.useCallback(Q=>{const K=u.find(ke=>ke.id===Q);if(!K)return null;const X=y.filter(ke=>ke.vehicleId===Q),ge=d.filter(ke=>ke.vehicleId===Q&&ke.status!=="completed"),pe=X.reduce((ke,Je)=>ke+(Number(Je.cost)||0),0),me=new Date,Ge=X.filter(ke=>new Date(ke.date)>new Date(me.getFullYear(),me.getMonth(),1)).reduce((ke,Je)=>ke+(Number(Je.cost)||0),0),Ne=new Date(K.purchaseDate),It=Math.max(1,(me.getFullYear()-Ne.getFullYear())*12+(me.getMonth()-Ne.getMonth())),ye=Math.round(pe/It),we=ge.filter(ke=>{let Je=!1;return(ke.frequencyType==="date"||ke.frequencyType==="both")&&ke.dueDate&&new Date(ke.dueDate)<me&&(Je=!0),(ke.frequencyType==="odometer"||ke.frequencyType==="both")&&ke.dueOdometer&&Number(K.odometer)>=Number(ke.dueOdometer)&&(Je=!0),Je}).length,be=X.sort((ke,Je)=>new Date(Je.date)-new Date(ke.date))[0];return{totalSpend:pe,monthSpend:Ge,costPerMonth:ye,overdueCount:we,lastServiceDate:be?.date,lastServiceType:be?.type}},[u,y,d]),z=R.useCallback(Q=>{const K=u.find(Ne=>Ne.id===Q);if(!K)return[];const X=[],ge=J(Q);if(ge){const Ne=Ae(ge.id);Ne.isPastDue?X.push({type:"critical",title:`EMI Overdue by ${Ne.daysLate} days`,detail:"Immediate payment required to avoid penalties."}):Ne.status==="active"&&X.push({type:"info",title:`Interest Remaining: ${Ne.interestBalance.toLocaleString()}`,detail:`${ge.interestType==="reducing"?"Reducing Balance":"Flat Rate"} Interest`})}const pe=d.filter(Ne=>Ne.vehicleId===Q&&Ne.status!=="completed"),me=pe.find(Ne=>(Ne.name||Ne.type||"").toLowerCase().includes("insurance"));if(me){const Ne=me.dueDate?Math.ceil((new Date(me.dueDate)-new Date)/864e5):999;Ne<0?X.push({type:"critical",title:"Insurance Expired",detail:` expired ${Math.abs(Ne)} days ago. Do not drive.`}):Ne<=15&&X.push({type:"warning",title:"Insurance Expiring Soon",detail:`Renew within ${Ne} days.`})}const Ee=pe.find(Ne=>(Ne.name||Ne.type||"").toLowerCase().includes("oil"));if(Ee&&Ee.dueOdometer&&Number(K.odometer)>=Number(Ee.dueOdometer)){const Ne=Number(K.odometer)-Number(Ee.dueOdometer);X.push({type:"warning",title:`Oil Change Overdue by ${Ne} km`,detail:"Engine health at risk."})}const Ge=Oe(Q);return Ge&&(X.push({type:"info",title:`Monthly Cost: ${Ge.costPerMonth.toLocaleString()}`,detail:"Average cost of ownership per month."}),Ge.monthSpend>Ge.costPerMonth*1.5&&Ge.monthSpend>2e3&&X.push({type:"warning",title:"Rising Monthly Cost",detail:`This month's spend (${Ge.monthSpend}) is 50% higher than average.`})),X},[u,d,J,Ae,Oe]),oe=R.useMemo(()=>({vehicles:u,followUps:d,serviceRecords:y,addVehicle:V,updateVehicle:ee,toggleArchiveVehicle:S,setVehicleActive:w,getActiveVehicle:k,addFollowUp:N,deleteFollowUp:O,completeFollowUp:I,addServiceRecord:A,getVehicleStats:Oe,getLatestRecord:$,toggleMaintenanceItem:G,loans:M,addLoan:Y,payEMI:re,getLoanForVehicle:J,getLoanDetailedStatus:Ae,getVehicleRisks:z,deleteVehicle:fe,error:j,isLoading:B,loadMoreServiceRecords:()=>x(Q=>Q+20)}),[u,d,y,M,B,V,ee,S,w,k,fe,N,O,I,A,Oe,$,G,Y,re,J,Ae,z]);return q.jsx(lx.Provider,{value:oe,children:t})},_0=""+new URL("awake_logo_new-CKmsyQnW.png",import.meta.url).href,ux=()=>q.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 pb-20",children:q.jsx("div",{className:"relative flex flex-col items-center",children:q.jsx("img",{src:_0,alt:"Loading...",className:"h-16 w-auto animate-pulse object-contain drop-shadow-xl dark:brightness-0 dark:invert"})})}),DS=({children:t})=>{const{user:e,authIsReady:n}=fo();return n?e?t:q.jsx(mA,{to:"/login",replace:!0}):q.jsx(ux,{})},T0=R.createContext({});function b0(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const cx=typeof window<"u",hx=cx?R.useLayoutEffect:R.useEffect,ym=R.createContext(null);function E0(t,e){t.indexOf(e)===-1&&t.push(e)}function w0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Er=(t,e,n)=>n>e?e:n<t?t:n;let S0=()=>{};const ns={},fx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function dx(t){return typeof t=="object"&&t!==null}const mx=t=>/^0[^.\s]+$/u.test(t);function A0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ei=t=>t,$5=(t,e)=>n=>e(t(n)),Kc=(...t)=>t.reduce($5),xc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class C0{constructor(){this.subscriptions=[]}add(e){return E0(this.subscriptions,e),()=>w0(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wr=t=>t*1e3,Ti=t=>t/1e3;function px(t,e){return e?t*(1e3/e):0}const gx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Y5=1e-7,K5=12;function W5(t,e,n,r,a){let l,u,h=0;do u=e+(n-e)/2,l=gx(u,r,a)-t,l>0?n=u:e=u;while(Math.abs(l)>Y5&&++h<K5);return u}function Wc(t,e,n,r){if(t===e&&n===r)return Ei;const a=l=>W5(l,0,1,t,n);return l=>l===0||l===1?l:gx(a(l),e,r)}const yx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vx=t=>e=>1-t(1-e),_x=Wc(.33,1.53,.69,.99),R0=vx(_x),Tx=yx(R0),bx=t=>(t*=2)<1?.5*R0(t):.5*(2-Math.pow(2,-10*(t-1))),x0=t=>1-Math.sin(Math.acos(t)),Ex=vx(x0),wx=yx(x0),Q5=Wc(.42,0,1,1),X5=Wc(0,0,.58,1),Sx=Wc(.42,0,.58,1),J5=t=>Array.isArray(t)&&typeof t[0]!="number",Ax=t=>Array.isArray(t)&&typeof t[0]=="number",Z5={linear:Ei,easeIn:Q5,easeInOut:Sx,easeOut:X5,circIn:x0,circInOut:wx,circOut:Ex,backIn:R0,backInOut:Tx,backOut:_x,anticipate:bx},eU=t=>typeof t=="string",kS=t=>{if(Ax(t)){S0(t.length===4);const[e,n,r,a]=t;return Wc(e,n,r,a)}else if(eU(t))return Z5[t];return t},Pf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tU(t,e){let n=new Set,r=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,v=!1,b=!1)=>{const M=b&&a?n:r;return v&&u.add(y),M.has(y)||M.add(y),y},cancel:y=>{r.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const nU=40;function Cx(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Pf.reduce((F,fe)=>(F[fe]=tU(l),F),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:b,render:x,postRender:M}=u,P=()=>{const F=ns.useManualTiming?a.timestamp:performance.now();n=!1,ns.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(F-a.timestamp,nU),1)),a.timestamp=F,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),v.process(a),b.process(a),x.process(a),M.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(P))},B=()=>{n=!0,r=!0,a.isProcessing||t(P)};return{schedule:Pf.reduce((F,fe)=>{const V=u[fe];return F[fe]=(ee,S=!1,w=!1)=>(n||B(),V.schedule(ee,S,w)),F},{}),cancel:F=>{for(let fe=0;fe<Pf.length;fe++)u[Pf[fe]].cancel(F)},state:a,steps:u}}const{schedule:At,cancel:sa,state:vn,steps:Gg}=Cx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ei,!0);let td;function iU(){td=void 0}const Mn={now:()=>(td===void 0&&Mn.set(vn.isProcessing||ns.useManualTiming?vn.timestamp:performance.now()),td),set:t=>{td=t,queueMicrotask(iU)}},Rx=t=>e=>typeof e=="string"&&e.startsWith(t),xx=Rx("--"),rU=Rx("var(--"),I0=t=>rU(t)?sU.test(t.split("/*")[0].trim()):!1,sU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function MS(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const jl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ic={...jl,transform:t=>Er(0,1,t)},Vf={...jl,default:1},mc=t=>Math.round(t*1e5)/1e5,D0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aU(t){return t==null}const oU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,k0=(t,e)=>n=>!!(typeof n=="string"&&oU.test(n)&&n.startsWith(t)||e&&!aU(n)&&Object.prototype.hasOwnProperty.call(n,e)),Ix=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,u,h]=r.match(D0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},lU=t=>Er(0,255,t),$g={...jl,transform:t=>Math.round(lU(t))},Wa={test:k0("rgb","red"),parse:Ix("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+$g.transform(t)+", "+$g.transform(e)+", "+$g.transform(n)+", "+mc(Ic.transform(r))+")"};function uU(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Ly={test:k0("#"),parse:uU,transform:Wa.transform},Qc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bs=Qc("deg"),Tr=Qc("%"),De=Qc("px"),cU=Qc("vh"),hU=Qc("vw"),NS={...Tr,parse:t=>Tr.parse(t)/100,transform:t=>Tr.transform(t*100)},ol={test:k0("hsl","hue"),parse:Ix("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Tr.transform(mc(e))+", "+Tr.transform(mc(n))+", "+mc(Ic.transform(r))+")"},Jt={test:t=>Wa.test(t)||Ly.test(t)||ol.test(t),parse:t=>Wa.test(t)?Wa.parse(t):ol.test(t)?ol.parse(t):Ly.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wa.transform(t):ol.transform(t),getAnimatableNone:t=>{const e=Jt.parse(t);return e.alpha=0,Jt.transform(e)}},fU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function dU(t){return isNaN(t)&&typeof t=="string"&&(t.match(D0)?.length||0)+(t.match(fU)?.length||0)>0}const Dx="number",kx="color",mU="var",pU="var(",OS="${}",gU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(gU,d=>(Jt.test(d)?(r.color.push(l),a.push(kx),n.push(Jt.parse(d))):d.startsWith(pU)?(r.var.push(l),a.push(mU),n.push(d)):(r.number.push(l),a.push(Dx),n.push(parseFloat(d))),++l,OS)).split(OS);return{values:n,split:h,indexes:r,types:a}}function Mx(t){return Dc(t).values}function Nx(t){const{split:e,types:n}=Dc(t),r=e.length;return a=>{let l="";for(let u=0;u<r;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===Dx?l+=mc(a[u]):h===kx?l+=Jt.transform(a[u]):l+=a[u]}return l}}const yU=t=>typeof t=="number"?0:Jt.test(t)?Jt.getAnimatableNone(t):t;function vU(t){const e=Mx(t);return Nx(t)(e.map(yU))}const aa={test:dU,parse:Mx,createTransformer:Nx,getAnimatableNone:vU};function Yg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _U({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=Yg(d,h,t+1/3),l=Yg(d,h,t),u=Yg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function Od(t,e){return n=>n>0?e:t}const Dt=(t,e,n)=>t+(e-t)*n,Kg=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},TU=[Ly,Wa,ol],bU=t=>TU.find(e=>e.test(t));function PS(t){const e=bU(t);if(!e)return!1;let n=e.parse(t);return e===ol&&(n=_U(n)),n}const VS=(t,e)=>{const n=PS(t),r=PS(e);if(!n||!r)return Od(t,e);const a={...n};return l=>(a.red=Kg(n.red,r.red,l),a.green=Kg(n.green,r.green,l),a.blue=Kg(n.blue,r.blue,l),a.alpha=Dt(n.alpha,r.alpha,l),Wa.transform(a))},Uy=new Set(["none","hidden"]);function EU(t,e){return Uy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function wU(t,e){return n=>Dt(t,e,n)}function M0(t){return typeof t=="number"?wU:typeof t=="string"?I0(t)?Od:Jt.test(t)?VS:CU:Array.isArray(t)?Ox:typeof t=="object"?Jt.test(t)?VS:SU:Od}function Ox(t,e){const n=[...t],r=n.length,a=t.map((l,u)=>M0(l)(l,e[u]));return l=>{for(let u=0;u<r;u++)n[u]=a[u](l);return n}}function SU(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=M0(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function AU(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][r[l]],h=t.values[u]??0;n[a]=h,r[l]++}return n}const CU=(t,e)=>{const n=aa.createTransformer(e),r=Dc(t),a=Dc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Uy.has(t)&&!a.values.length||Uy.has(e)&&!r.values.length?EU(t,e):Kc(Ox(AU(r,a),a.values),n):Od(t,e)};function Px(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Dt(t,e,n):M0(t)(t,e)}const RU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>At.update(e,n),stop:()=>sa(e),now:()=>vn.isProcessing?vn.timestamp:Mn.now()}},Vx=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Pd=2e4;function N0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Pd;)e+=n,r=t.next(e);return e>=Pd?1/0:e}function xU(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(N0(r),Pd);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:Ti(a)}}const IU=5;function Lx(t,e,n){const r=Math.max(e-IU,0);return px(n-t(r),e-r)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wg=.001;function DU({duration:t=Pt.duration,bounce:e=Pt.bounce,velocity:n=Pt.velocity,mass:r=Pt.mass}){let a,l,u=1-e;u=Er(Pt.minDamping,Pt.maxDamping,u),t=Er(Pt.minDuration,Pt.maxDuration,Ti(t)),u<1?(a=p=>{const y=p*u,v=y*t,b=y-n,x=jy(p,u),M=Math.exp(-v);return Wg-b/x*M},l=p=>{const v=p*u*t,b=v*n+n,x=Math.pow(u,2)*Math.pow(p,2)*t,M=Math.exp(-v),P=jy(Math.pow(p,2),u);return(-a(p)+Wg>0?-1:1)*((b-x)*M)/P}):(a=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-Wg+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const h=5/t,d=MU(a,l,h);if(t=Wr(t),isNaN(d))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const kU=12;function MU(t,e,n){let r=n;for(let a=1;a<kU;a++)r=r-t(r)/e(r);return r}function jy(t,e){return t*Math.sqrt(1-e*e)}const NU=["duration","bounce"],OU=["stiffness","damping","mass"];function LS(t,e){return e.some(n=>t[n]!==void 0)}function PU(t){let e={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...t};if(!LS(t,OU)&&LS(t,NU))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Er(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Pt.mass,stiffness:a,damping:l}}else{const n=DU(t);e={...e,...n,mass:Pt.mass},e.isResolvedFromDuration=!0}return e}function Vd(t=Pt.visualDuration,e=Pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:v,velocity:b,isResolvedFromDuration:x}=PU({...n,velocity:-Ti(n.velocity||0)}),M=b||0,P=p/(2*Math.sqrt(d*y)),B=u-l,U=Ti(Math.sqrt(d/y)),j=Math.abs(B)<5;r||(r=j?Pt.restSpeed.granular:Pt.restSpeed.default),a||(a=j?Pt.restDelta.granular:Pt.restDelta.default);let F;if(P<1){const V=jy(U,P);F=ee=>{const S=Math.exp(-P*U*ee);return u-S*((M+P*U*B)/V*Math.sin(V*ee)+B*Math.cos(V*ee))}}else if(P===1)F=V=>u-Math.exp(-U*V)*(B+(M+U*B)*V);else{const V=U*Math.sqrt(P*P-1);F=ee=>{const S=Math.exp(-P*U*ee),w=Math.min(V*ee,300);return u-S*((M+P*U*B)*Math.sinh(w)+V*B*Math.cosh(w))/V}}const fe={calculatedDuration:x&&v||null,next:V=>{const ee=F(V);if(x)h.done=V>=v;else{let S=V===0?M:0;P<1&&(S=V===0?Wr(M):Lx(F,V,ee));const w=Math.abs(S)<=r,k=Math.abs(u-ee)<=a;h.done=w&&k}return h.value=h.done?u:ee,h},toString:()=>{const V=Math.min(N0(fe),Pd),ee=Vx(S=>fe.next(V*S).value,V,30);return V+"ms "+ee},toTransition:()=>{}};return fe}Vd.applyToOptions=t=>{const e=xU(t,100,Vd);return t.ease=e.ease,t.duration=Wr(e.duration),t.type="keyframes",t};function zy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const v=t[0],b={done:!1,value:v},x=w=>h!==void 0&&w<h||d!==void 0&&w>d,M=w=>h===void 0?d:d===void 0||Math.abs(h-w)<Math.abs(d-w)?h:d;let P=n*e;const B=v+P,U=u===void 0?B:u(B);U!==B&&(P=U-v);const j=w=>-P*Math.exp(-w/r),F=w=>U+j(w),fe=w=>{const k=j(w),N=F(w);b.done=Math.abs(k)<=p,b.value=b.done?U:N};let V,ee;const S=w=>{x(b.value)&&(V=w,ee=Vd({keyframes:[b.value,M(b.value)],velocity:Lx(F,w,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return S(0),{calculatedDuration:null,next:w=>{let k=!1;return!ee&&V===void 0&&(k=!0,fe(w),S(w)),V!==void 0&&w>=V?ee.next(w-V):(!k&&fe(w),b)}}}function VU(t,e,n){const r=[],a=n||ns.mix||Px,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||Ei:e;h=Kc(d,h)}r.push(h)}return r}function LU(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(S0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=VU(e,r,a),d=h.length,p=y=>{if(u&&y<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const b=xc(t[v],t[v+1],y);return h[v](b)};return n?y=>p(Er(t[0],t[l-1],y)):p}function UU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=xc(0,e,r);t.push(Dt(n,1,a))}}function jU(t){const e=[0];return UU(e,t.length-1),e}function zU(t,e){return t.map(n=>n*e)}function BU(t,e){return t.map(()=>e||Sx).splice(0,t.length-1)}function pc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=J5(r)?r.map(kS):kS(r),l={done:!1,value:e[0]},u=zU(n&&n.length===e.length?n:jU(e),t),h=LU(u,e,{ease:Array.isArray(a)?a:BU(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const FU=t=>t!==null;function O0(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(FU),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const qU={decay:zy,inertia:zy,tween:pc,keyframes:pc,spring:Vd};function Ux(t){typeof t.type=="string"&&(t.type=qU[t.type])}class P0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const HU=t=>t/100;class V0 extends P0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Mn.now()&&this.tick(Mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Ux(e);const{type:n=pc,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||pc;d!==pc&&typeof h[0]!="number"&&(this.mixKeyframes=Kc(HU,Px(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=N0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:b,repeatDelay:x,type:M,onUpdate:P,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,fe=r;if(v){const w=Math.min(this.currentTime,a)/h;let k=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&k--,k=Math.min(k,v+1),k%2&&(b==="reverse"?(N=1-N,x&&(N-=x/h)):b==="mirror"&&(fe=u)),F=Er(0,1,N)*h}const V=j?{done:!1,value:y[0]}:fe.next(F);l&&(V.value=l(V.value));let{done:ee}=V;!j&&d!==null&&(ee=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ee);return S&&M!==zy&&(V.value=O0(y,this.options,B,this.speed)),P&&P(V.value),S&&this.finish(),V}then(e,n){return this.finished.then(e,n)}get duration(){return Ti(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ti(e)}get time(){return Ti(this.currentTime)}set time(e){e=Wr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Mn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ti(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=RU,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function GU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Qa=t=>t*180/Math.PI,By=t=>{const e=Qa(Math.atan2(t[1],t[0]));return Fy(e)},$U={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:By,rotateZ:By,skewX:t=>Qa(Math.atan(t[1])),skewY:t=>Qa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Fy=t=>(t=t%360,t<0&&(t+=360),t),US=By,jS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),zS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),YU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jS,scaleY:zS,scale:t=>(jS(t)+zS(t))/2,rotateX:t=>Fy(Qa(Math.atan2(t[6],t[5]))),rotateY:t=>Fy(Qa(Math.atan2(-t[2],t[0]))),rotateZ:US,rotate:US,skewX:t=>Qa(Math.atan(t[4])),skewY:t=>Qa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function qy(t){return t.includes("scale")?1:0}function Hy(t,e){if(!t||t==="none")return qy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=YU,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=$U,a=h}if(!a)return qy(e);const l=r[e],u=a[1].split(",").map(WU);return typeof l=="function"?l(u):u[l]}const KU=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Hy(n,e)};function WU(t){return parseFloat(t.trim())}const zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bl=new Set(zl),BS=t=>t===jl||t===De,QU=new Set(["x","y","z"]),XU=zl.filter(t=>!QU.has(t));function JU(t){const e=[];return XU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ys={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Hy(e,"x"),y:(t,{transform:e})=>Hy(e,"y")};Ys.translateX=Ys.x;Ys.translateY=Ys.y;const eo=new Set;let Gy=!1,$y=!1,Yy=!1;function jx(){if($y){const t=Array.from(eo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=JU(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,u])=>{r.getValue(l)?.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}$y=!1,Gy=!1,eo.forEach(t=>t.complete(Yy)),eo.clear()}function zx(){eo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($y=!0)})}function ZU(){Yy=!0,zx(),jx(),Yy=!1}class L0{constructor(e,n,r,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(eo.add(this),Gy||(Gy=!0,At.read(zx),At.resolveKeyframes(jx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}GU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),eo.delete(this)}cancel(){this.state==="scheduled"&&(eo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const e9=t=>t.startsWith("--");function t9(t,e,n){e9(e)?t.style.setProperty(e,n):t.style[e]=n}const n9=A0(()=>window.ScrollTimeline!==void 0),i9={};function r9(t,e){const n=A0(t);return()=>i9[e]??n()}const Bx=r9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,FS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sc([0,.65,.55,1]),circOut:sc([.55,0,1,.45]),backIn:sc([.31,.01,.66,-.59]),backOut:sc([.33,1.53,.69,.99])};function Fx(t,e){if(t)return typeof t=="function"?Bx()?Vx(t,e):"ease-out":Ax(t)?sc(t):Array.isArray(t)?t.map(n=>Fx(n,e)||FS.easeOut):FS[t]}function s9(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[e]:n};d&&(y.offset=d);const v=Fx(h,a);Array.isArray(v)&&(y.easing=v);const b={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(y,b)}function qx(t){return typeof t=="function"&&"applyToOptions"in t}function a9({type:t,...e}){return qx(t)&&Bx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class o9 extends P0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,S0(typeof e.type!="string");const p=a9(e);this.animation=s9(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=O0(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):t9(n,r,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ti(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ti(e)}get time(){return Ti(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Wr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&n9()?(this.animation.timeline=e,Ei):n(this)}}const Hx={anticipate:bx,backInOut:Tx,circInOut:wx};function l9(t){return t in Hx}function u9(t){typeof t.ease=="string"&&l9(t.ease)&&(t.ease=Hx[t.ease])}const Qg=10;class c9 extends o9{constructor(e){u9(e),Ux(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new V0({...u,autoplay:!1}),d=Math.max(Qg,Mn.now()-this.startTime),p=Er(0,Qg,d-Qg);n.setWithVelocity(h.sample(Math.max(0,d-p)).value,h.sample(d).value,p),h.stop()}}const qS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(aa.test(t)||t==="0")&&!t.startsWith("url("));function h9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function f9(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=qS(a,e),h=qS(l,e);return!u||!h?!1:h9(t)||(n==="spring"||qx(n))&&r}function Ky(t){t.duration=0,t.type="keyframes"}const d9=new Set(["opacity","clipPath","filter","transform"]),m9=A0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function p9(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return m9()&&n&&d9.has(n)&&(n!=="transform"||!p)&&!d&&!r&&a!=="mirror"&&l!==0&&u!=="inertia"}const g9=40;class y9 extends P0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Mn.now();const b={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:y,...v},x=y?.KeyframeResolver||L0;this.keyframeResolver=new x(h,(M,P,B)=>this.onKeyframesResolved(M,P,b,!B),d,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:p,onUpdate:y}=r;this.resolvedAt=Mn.now(),f9(e,l,u,h)||((ns.instantAnimations||!d)&&y?.(O0(e,r,n)),e[0]=e[e.length-1],Ky(r),r.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>g9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!p&&p9(b),M=b.motionValue?.owner?.current,P=x?new c9({...b,element:M}):new V0(b);P.finished.then(()=>{this.notifyFinished()}).catch(Ei),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ZU()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Gx(t,e,n,r=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,h=(u-1)*r;return typeof n=="function"?n(l,u):a===1?l*r:h-l*r}const v9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _9(t){const e=v9.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function $x(t,e,n=1){const[r,a]=_9(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const u=l.trim();return fx(u)?parseFloat(u):u}return I0(a)?$x(a,e,n+1):a}const T9={type:"spring",stiffness:500,damping:25,restSpeed:10},b9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),E9={type:"keyframes",duration:.8},w9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},S9=(t,{keyframes:e})=>e.length>2?E9:Bl.has(t)?t.startsWith("scale")?b9(e[1]):T9:w9,A9=t=>t!==null;function C9(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(A9),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function U0(t,e){return t?.[e]??t?.default??t}function R9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const j0=(t,e,n,r={},a,l)=>u=>{const h=U0(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Wr(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:b=>{e.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};R9(h)||Object.assign(y,S9(t,y)),y.duration&&(y.duration=Wr(y.duration)),y.repeatDelay&&(y.repeatDelay=Wr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ky(y),y.delay===0&&(v=!0)),(ns.instantAnimations||ns.skipAnimations)&&(v=!0,Ky(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const b=C9(y.keyframes,h);if(b!==void 0){At.update(()=>{y.onUpdate(b),y.onComplete()});return}}return h.isSync?new V0(y):new y9(y)};function HS(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function z0(t,e,n,r){if(typeof e=="function"){const[a,l]=HS(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=HS(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function gl(t,e,n){const r=t.getProps();return z0(r,e,n!==void 0?n:r.custom,t)}const Yx=new Set(["width","height","top","left","right","bottom",...zl]),GS=30,x9=t=>!isNaN(parseFloat(t));class I9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=Mn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=x9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new C0);const r=this.events[e].add(n);return e==="change"?()=>{r(),At.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,GS);return px(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cl(t,e){return new I9(t,e)}const Wy=t=>Array.isArray(t);function D9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cl(n))}function k9(t){return Wy(t)?t[t.length-1]||0:t}function M9(t,e){const n=gl(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const u in l){const h=k9(l[u]);D9(t,u,h)}}const Rn=t=>!!(t&&t.getVelocity);function N9(t){return!!(Rn(t)&&t.add)}function Qy(t,e){const n=t.getValue("willChange");if(N9(n))return n.add(e);if(!n&&ns.WillChange){const r=new ns.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function B0(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const O9="framerAppearId",Kx="data-"+B0(O9);function Wx(t){return t.props[Kx]}function P9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Qx(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(l=r);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const v=t.getValue(y,t.latestValues[y]??null),b=h[y];if(b===void 0||p&&P9(p,y))continue;const x={delay:n,...U0(l||{},y)},M=v.get();if(M!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===M&&!x.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const U=Wx(t);if(U){const j=window.MotionHandoffAnimation(U,y,At);j!==null&&(x.startTime=j,P=!0)}}Qy(t,y),v.start(j0(y,v,b,t.shouldReduceMotion&&Yx.has(y)?{type:!1}:x,t,P));const B=v.animation;B&&d.push(B)}return u&&Promise.all(d).then(()=>{At.update(()=>{u&&M9(t,u)})}),d}function Xy(t,e,n={}){const r=gl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(Qx(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return V9(t,e,d,p,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,p]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function V9(t,e,n=0,r=0,a=0,l=1,u){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(Xy(d,e,{...u,delay:n+(typeof r=="function"?0:r)+Gx(t.variantChildren,d,r,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function L9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>Xy(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=Xy(t,e,n);else{const a=typeof e=="function"?gl(t,e,n.custom):e;r=Promise.all(Qx(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const U9={test:t=>t==="auto",parse:t=>t},Xx=t=>e=>e.test(t),Jx=[jl,De,Tr,Bs,hU,cU,U9],$S=t=>Jx.find(Xx(t));function j9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||mx(t):!0}const z9=new Set(["brightness","contrast","saturate","opacity"]);function B9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(D0)||[];if(!r)return t;const a=n.replace(r,"");let l=z9.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const F9=/\b([a-z-]*)\(.*?\)/gu,Jy={...aa,getAnimatableNone:t=>{const e=t.match(F9);return e?e.map(B9).join(" "):t}},YS={...jl,transform:Math.round},q9={rotate:Bs,rotateX:Bs,rotateY:Bs,rotateZ:Bs,scale:Vf,scaleX:Vf,scaleY:Vf,scaleZ:Vf,skew:Bs,skewX:Bs,skewY:Bs,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Ic,originX:NS,originY:NS,originZ:De},F0={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,inset:De,insetBlock:De,insetBlockStart:De,insetBlockEnd:De,insetInline:De,insetInlineStart:De,insetInlineEnd:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,paddingBlock:De,paddingBlockStart:De,paddingBlockEnd:De,paddingInline:De,paddingInlineStart:De,paddingInlineEnd:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,marginBlock:De,marginBlockStart:De,marginBlockEnd:De,marginInline:De,marginInlineStart:De,marginInlineEnd:De,backgroundPositionX:De,backgroundPositionY:De,...q9,zIndex:YS,fillOpacity:Ic,strokeOpacity:Ic,numOctaves:YS},H9={...F0,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:Jy,WebkitFilter:Jy},Zx=t=>H9[t];function eI(t,e){let n=Zx(t);return n!==Jy&&(n=aa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const G9=new Set(["auto","none","0"]);function $9(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!G9.has(l)&&Dc(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=eI(n,a)}class Y9 extends L0{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),I0(v))){const b=$x(v,n.current);b!==void 0&&(e[y]=b),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!Yx.has(r)||e.length!==2)return;const[a,l]=e,u=$S(a),h=$S(l),d=MS(a),p=MS(l);if(d!==p&&Ys[r]){this.needsMeasurement=!0;return}if(u!==h)if(BS(u)&&BS(h))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else Ys[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||j9(e[a]))&&r.push(a);r.length&&$9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ys[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=Ys[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function K9(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=n?.[t]??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(r=>r!=null)}const tI=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Zy(t){return dx(t)&&"offsetHeight"in t}const{schedule:q0}=Cx(queueMicrotask,!1),Ui={x:!1,y:!1};function nI(){return Ui.x||Ui.y}function W9(t){return t==="x"||t==="y"?Ui[t]?null:(Ui[t]=!0,()=>{Ui[t]=!1}):Ui.x||Ui.y?null:(Ui.x=Ui.y=!0,()=>{Ui.x=Ui.y=!1})}function iI(t,e){const n=K9(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function KS(t){return!(t.pointerType==="touch"||nI())}function Q9(t,e,n={}){const[r,a,l]=iI(t,n),u=h=>{if(!KS(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const y=v=>{KS(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return r.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const rI=(t,e)=>e?t===e?!0:rI(t,e.parentElement):!1,H0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,X9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sI(t){return X9.has(t.tagName)||t.isContentEditable===!0}const nd=new WeakSet;function WS(t){return e=>{e.key==="Enter"&&t(e)}}function Xg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const J9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=WS(()=>{if(nd.has(n))return;Xg(n,"down");const a=WS(()=>{Xg(n,"up")}),l=()=>Xg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function QS(t){return H0(t)&&!nI()}function Z9(t,e,n={}){const[r,a,l]=iI(t,n),u=h=>{const d=h.currentTarget;if(!QS(h))return;nd.add(d);const p=e(d,h),y=(x,M)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),nd.has(d)&&nd.delete(d),QS(x)&&typeof p=="function"&&p(x,{success:M})},v=x=>{y(x,d===window||d===document||n.useGlobalTarget||rI(d,x.target))},b=x=>{y(x,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",b,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),Zy(h)&&(h.addEventListener("focus",p=>J9(p,a)),!sI(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function aI(t){return dx(t)&&"ownerSVGElement"in t}function ej(t){return aI(t)&&t.tagName==="svg"}const tj=[...Jx,Jt,aa],nj=t=>tj.find(Xx(t)),XS=()=>({translate:0,scale:1,origin:0,originPoint:0}),ll=()=>({x:XS(),y:XS()}),JS=()=>({min:0,max:0}),sn=()=>({x:JS(),y:JS()}),ev={current:null},oI={current:!1},ij=typeof window<"u";function rj(){if(oI.current=!0,!!ij)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ev.current=t.matches;t.addEventListener("change",e),e()}else ev.current=!1}const sj=new WeakMap;function vm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function kc(t){return typeof t=="string"||Array.isArray(t)}const G0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$0=["initial",...G0];function _m(t){return vm(t.animate)||$0.some(e=>kc(t[e]))}function lI(t){return!!(_m(t)||t.variants)}function aj(t,e,n){for(const r in e){const a=e[r],l=n[r];if(Rn(a))t.addValue(r,a);else if(Rn(l))t.addValue(r,Cl(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(r);t.addValue(r,Cl(u!==void 0?u:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ZS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ld={};function uI(t){Ld=t}function oj(){return Ld}class lj{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=L0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Mn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,At.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=_m(n),this.isVariantNode=lI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const x=v[b];d[b]!==void 0&&Rn(x)&&x.set(d[b])}}mount(e){this.current=e,sj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(oI.current||rj(),this.shouldReduceMotion=ev.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),sa(this.notifyUpdate),sa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Bl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&At.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ld){const n=Ld[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ZS.length;r++){const a=ZS[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=aj(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Cl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(fx(r)||mx(r))?r=parseFloat(r):!nj(r)&&aa.test(n)&&(r=eI(e,n)),this.setBaseTarget(e,Rn(r)?r.get():r)),Rn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=z0(this.props,n,this.presenceContext?.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Rn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new C0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){q0.render(this.render)}}class cI extends lj{constructor(){super(...arguments),this.KeyframeResolver=Y9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ca{constructor(e){this.isMounted=!1,this.node=e}update(){}}function hI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function uj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function cj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Jg(t){return t===void 0||t===1}function tv({scale:t,scaleX:e,scaleY:n}){return!Jg(t)||!Jg(e)||!Jg(n)}function $a(t){return tv(t)||fI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function fI(t){return e1(t.x)||e1(t.y)}function e1(t){return t&&t!=="0%"}function Ud(t,e,n){const r=t-n,a=e*r;return n+a}function t1(t,e,n,r,a){return a!==void 0&&(t=Ud(t,a,r)),Ud(t,n,r)+e}function nv(t,e=0,n=1,r,a){t.min=t1(t.min,e,n,r,a),t.max=t1(t.max,e,n,r,a)}function dI(t,{x:e,y:n}){nv(t.x,e.translate,e.scale,e.originPoint),nv(t.y,n.translate,n.scale,n.originPoint)}const n1=.999999999999,i1=1.0000000000001;function hj(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&cl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,dI(t,u)),r&&$a(l.latestValues)&&cl(t,l.latestValues))}e.x<i1&&e.x>n1&&(e.x=1),e.y<i1&&e.y>n1&&(e.y=1)}function ul(t,e){t.min=t.min+e,t.max=t.max+e}function r1(t,e,n,r,a=.5){const l=Dt(t.min,t.max,a);nv(t,e,n,l,r)}function cl(t,e){r1(t.x,e.x,e.scaleX,e.scale,e.originX),r1(t.y,e.y,e.scaleY,e.scale,e.originY)}function mI(t,e){return hI(cj(t.getBoundingClientRect(),e))}function fj(t,e,n){const r=mI(t,n),{scroll:a}=e;return a&&(ul(r.x,a.offset.x),ul(r.y,a.offset.y)),r}const dj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mj=zl.length;function pj(t,e,n){let r="",a=!0;for(let l=0;l<mj;l++){const u=zl[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number")d=h===(u.startsWith("scale")?1:0);else{const p=parseFloat(h);d=u.startsWith("scale")?p===1:p===0}if(!d||n){const p=tI(h,F0[u]);if(!d){a=!1;const y=dj[u]||u;r+=`${y}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function Y0(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const p=e[d];if(Bl.has(d)){u=!0;continue}else if(xx(d)){a[d]=p;continue}else{const y=tI(p,F0[d]);d.startsWith("origin")?(h=!0,l[d]=y):r[d]=y}}if(e.transform||(u||n?r.transform=pj(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${d} ${p} ${y}`}}function pI(t,{style:e,vars:n},r,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,r);for(u in n)l.setProperty(u,n[u])}function s1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=s1(t,e.target.x),r=s1(t,e.target.y);return`${n}% ${r}%`}},gj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=aa.parse(t);if(a.length>5)return r;const l=aa.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const p=Dt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},iv={borderRadius:{...Xu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xu,borderTopRightRadius:Xu,borderBottomLeftRadius:Xu,borderBottomRightRadius:Xu,boxShadow:gj};function gI(t,{layout:e,layoutId:n}){return Bl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!iv[t]||t==="opacity")}function K0(t,e,n){const r=t.style,a=e?.style,l={};if(!r)return l;for(const u in r)(Rn(r[u])||a&&Rn(a[u])||gI(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=r[u]);return l}function yj(t){return window.getComputedStyle(t)}class vj extends cI{constructor(){super(...arguments),this.type="html",this.renderInstance=pI}readValueFromInstance(e,n){if(Bl.has(n))return this.projection?.isProjecting?qy(n):KU(e,n);{const r=yj(e),a=(xx(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mI(e,n)}build(e,n,r){Y0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return K0(e,n,r)}}const _j={offset:"stroke-dashoffset",array:"stroke-dasharray"},Tj={offset:"strokeDashoffset",array:"strokeDasharray"};function bj(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?_j:Tj;t[l.offset]=`${-r}`,t[l.array]=`${e} ${n}`}const Ej=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function yI(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,p,y){if(Y0(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b}=t;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const x of Ej)v[x]!==void 0&&(b[x]=v[x],delete v[x]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&bj(v,a,l,u,!1)}const vI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),_I=t=>typeof t=="string"&&t.toLowerCase()==="svg";function wj(t,e,n,r){pI(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(vI.has(a)?a:B0(a),e.attrs[a])}function TI(t,e,n){const r=K0(t,e,n);for(const a in t)if(Rn(t[a])||Rn(e[a])){const l=zl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}class Sj extends cI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bl.has(n)){const r=Zx(n);return r&&r.default||0}return n=vI.has(n)?n:B0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return TI(e,n,r)}build(e,n,r){yI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){wj(e,n,r,a)}mount(e){this.isSVGTag=_I(e.tagName),super.mount(e)}}const Aj=$0.length;function bI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?bI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Aj;n++){const r=$0[n],a=t.props[r];(kc(a)||a===!1)&&(e[r]=a)}return e}function EI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Cj=[...G0].reverse(),Rj=G0.length;function xj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>L9(t,n,r)))}function Ij(t){let e=xj(t),n=a1(),r=!0;const a=d=>(p,y)=>{const v=gl(t,y,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:x,...M}=v;p={...p,...M,...x}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,y=bI(t.parent)||{},v=[],b=new Set;let x={},M=1/0;for(let B=0;B<Rj;B++){const U=Cj[B],j=n[U],F=p[U]!==void 0?p[U]:y[U],fe=kc(F),V=U===d?j.isActive:null;V===!1&&(M=B);let ee=F===y[U]&&F!==p[U]&&fe;if(ee&&r&&t.manuallyAnimateOnMount&&(ee=!1),j.protectedKeys={...x},!j.isActive&&V===null||!F&&!j.prevProp||vm(F)||typeof F=="boolean")continue;const S=Dj(j.prevProp,F);let w=S||U===d&&j.isActive&&!ee&&fe||B>M&&fe,k=!1;const N=Array.isArray(F)?F:[F];let O=N.reduce(a(U),{});V===!1&&(O={});const{prevResolvedValues:I={}}=j,A={...I,...O},$=re=>{w=!0,b.has(re)&&(k=!0,b.delete(re)),j.needsAnimating[re]=!0;const J=t.getValue(re);J&&(J.liveStyle=!1)};for(const re in A){const J=O[re],Ae=I[re];if(x.hasOwnProperty(re))continue;let Oe=!1;Wy(J)&&Wy(Ae)?Oe=!EI(J,Ae):Oe=J!==Ae,Oe?J!=null?$(re):b.add(re):J!==void 0&&b.has(re)?$(re):j.protectedKeys[re]=!0}j.prevProp=F,j.prevResolvedValues=O,j.isActive&&(x={...x,...O}),r&&t.blockInitialAnimation&&(w=!1);const G=ee&&S;w&&(!G||k)&&v.push(...N.map(re=>{const J={type:U};if(typeof re=="string"&&r&&!G&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ae}=t,Oe=gl(Ae,re);if(Ae.enteringChildren&&Oe){const{delayChildren:z}=Oe.transition||{};J.delay=Gx(Ae.enteringChildren,t,z)}}return{animation:re,options:J}}))}if(b.size){const B={};if(typeof p.initial!="boolean"){const U=gl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(B.transition=U.transition)}b.forEach(U=>{const j=t.getBaseTarget(U),F=t.getValue(U);F&&(F.liveStyle=!0),B[U]=j??null}),v.push({animation:B})}let P=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(v):Promise.resolve()}function h(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),n[d].isActive=p;const y=u(d);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=a1()}}}function Dj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!EI(e,t):!1}function Ba(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function a1(){return{animate:Ba(!0),whileInView:Ba(),whileHover:Ba(),whileTap:Ba(),whileDrag:Ba(),whileFocus:Ba(),exit:Ba()}}function o1(t,e){t.min=e.min,t.max=e.max}function Li(t,e){o1(t.x,e.x),o1(t.y,e.y)}function l1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const wI=1e-4,kj=1-wI,Mj=1+wI,SI=.01,Nj=0-SI,Oj=0+SI;function Nn(t){return t.max-t.min}function Pj(t,e,n){return Math.abs(t-e)<=n}function u1(t,e,n,r=.5){t.origin=r,t.originPoint=Dt(e.min,e.max,t.origin),t.scale=Nn(n)/Nn(e),t.translate=Dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=kj&&t.scale<=Mj||isNaN(t.scale))&&(t.scale=1),(t.translate>=Nj&&t.translate<=Oj||isNaN(t.translate))&&(t.translate=0)}function gc(t,e,n,r){u1(t.x,e.x,n.x,r?r.originX:void 0),u1(t.y,e.y,n.y,r?r.originY:void 0)}function c1(t,e,n){t.min=n.min+e.min,t.max=t.min+Nn(e)}function Vj(t,e,n){c1(t.x,e.x,n.x),c1(t.y,e.y,n.y)}function h1(t,e,n){t.min=e.min-n.min,t.max=t.min+Nn(e)}function jd(t,e,n){h1(t.x,e.x,n.x),h1(t.y,e.y,n.y)}function f1(t,e,n,r,a){return t-=e,t=Ud(t,1/n,r),a!==void 0&&(t=Ud(t,1/a,r)),t}function Lj(t,e=0,n=1,r=.5,a,l=t,u=t){if(Tr.test(e)&&(e=parseFloat(e),e=Dt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Dt(l.min,l.max,r);t===l&&(h-=e),t.min=f1(t.min,e,n,h,a),t.max=f1(t.max,e,n,h,a)}function d1(t,e,[n,r,a],l,u){Lj(t,e[n],e[r],e[a],e.scale,l,u)}const Uj=["x","scaleX","originX"],jj=["y","scaleY","originY"];function m1(t,e,n,r){d1(t.x,e,Uj,n?n.x:void 0,r?r.x:void 0),d1(t.y,e,jj,n?n.y:void 0,r?r.y:void 0)}function p1(t){return t.translate===0&&t.scale===1}function AI(t){return p1(t.x)&&p1(t.y)}function g1(t,e){return t.min===e.min&&t.max===e.max}function zj(t,e){return g1(t.x,e.x)&&g1(t.y,e.y)}function y1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function CI(t,e){return y1(t.x,e.x)&&y1(t.y,e.y)}function v1(t){return Nn(t.x)/Nn(t.y)}function _1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function vi(t){return[t("x"),t("y")]}function Bj(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(r=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:b,skewX:x,skewY:M}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),v&&(r+=`rotateX(${v}deg) `),b&&(r+=`rotateY(${b}deg) `),x&&(r+=`skewX(${x}deg) `),M&&(r+=`skewY(${M}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const RI=["TopLeft","TopRight","BottomLeft","BottomRight"],Fj=RI.length,T1=t=>typeof t=="string"?parseFloat(t):t,b1=t=>typeof t=="number"||De.test(t);function qj(t,e,n,r,a,l){a?(t.opacity=Dt(0,n.opacity??1,Hj(r)),t.opacityExit=Dt(e.opacity??1,0,Gj(r))):l&&(t.opacity=Dt(e.opacity??1,n.opacity??1,r));for(let u=0;u<Fj;u++){const h=`border${RI[u]}Radius`;let d=E1(e,h),p=E1(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||b1(d)===b1(p)?(t[h]=Math.max(Dt(T1(d),T1(p),r),0),(Tr.test(p)||Tr.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=Dt(e.rotate||0,n.rotate||0,r))}function E1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Hj=xI(0,.5,Ex),Gj=xI(.5,.95,Ei);function xI(t,e,n){return r=>r<t?0:r>e?1:n(xc(t,e,r))}function $j(t,e,n){const r=Rn(t)?t:Cl(t);return r.start(j0("",r,e,n)),r.animation}function Mc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Yj=(t,e)=>t.depth-e.depth;class Kj{constructor(){this.children=[],this.isDirty=!1}add(e){E0(this.children,e),this.isDirty=!0}remove(e){w0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Yj),this.isDirty=!1,this.children.forEach(e)}}function Wj(t,e){const n=Mn.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(sa(r),t(l-e))};return At.setup(r,!0),()=>sa(r)}function id(t){return Rn(t)?t.get():t}class Qj{constructor(){this.members=[]}add(e){E0(this.members,e),e.scheduleRender()}remove(e){if(w0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Zg=["","X","Y","Z"],Xj=1e3;let Jj=0;function ey(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function II(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Wx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",At,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&II(r)}function DI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=Jj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tz),this.nodes.forEach(sz),this.nodes.forEach(az),this.nodes.forEach(nz)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Kj)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new C0),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=aI(u)&&!ej(u),this.instance=u;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let y,v=0;const b=()=>this.root.updateBlockedByResize=!1;At.read(()=>{v=window.innerWidth}),t(u,()=>{const x=window.innerWidth;x!==v&&(v=x,this.root.updateBlockedByResize=!0,y&&y(),y=Wj(b,250),rd.hasAnimatedSinceResize&&(rd.hasAnimatedSinceResize=!1,this.nodes.forEach(A1)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||hz,{onLayoutAnimationStart:P,onLayoutAnimationComplete:B}=p.getProps(),U=!this.targetLayout||!CI(this.targetLayout,x),j=!v&&b;if(this.options.layoutRoot||this.resumeFrom||j||v&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...U0(M,"layout"),onPlay:P,onComplete:B};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,j)}else v||A1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),sa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oz),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&II(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(w1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(S1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rz),this.nodes.forEach(Zj),this.nodes.forEach(ez)):this.nodes.forEach(S1),this.clearAllSnapshots();const h=Mn.now();vn.delta=Er(0,1e3/60,h-vn.timestamp),vn.timestamp=h,vn.isProcessing=!0,Gg.update.process(vn),Gg.preRender.process(vn),Gg.render.process(vn),vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,q0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iz),this.sharedNodes.forEach(lz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,At.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){At.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nn(this.snapshot.measuredBox.x)&&!Nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!AI(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||$a(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),fz(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return sn();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(dz))){const{scroll:p}=this.root;p&&(ul(h.x,p.offset.x),ul(h.y,p.offset.y))}return h}removeElementScroll(u){const h=sn();if(Li(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Li(h,u),ul(h.x,y.offset.x),ul(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=sn();Li(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&cl(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),$a(y.latestValues)&&cl(d,y.latestValues)}return $a(this.latestValues)&&cl(d,this.latestValues),d}removeTransform(u){const h=sn();Li(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!$a(p.latestValues))continue;tv(p.latestValues)&&p.updateSnapshot();const y=sn(),v=p.measurePageBox();Li(y,v),m1(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return $a(this.latestValues)&&m1(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=vn.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Vj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Li(this.target,this.layout.layoutBox),dI(this.target,this.targetDelta)):Li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||tv(this.parent.latestValues)||fI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),jd(this.relativeTargetOrigin,h,d),Li(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===vn.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Li(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;hj(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=sn());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(l1(this.prevProjectionDelta.x,this.projectionDelta.x),l1(this.prevProjectionDelta.y,this.projectionDelta.y)),gc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!_1(this.projectionDelta.x,this.prevProjectionDelta.x)||!_1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ll(),this.projectionDelta=ll(),this.projectionDeltaWithTransform=ll()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=ll();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=sn(),x=d?d.source:void 0,M=this.layout?this.layout.source:void 0,P=x!==M,B=this.getStack(),U=!B||B.members.length<=1,j=!!(P&&!U&&this.options.crossfade===!0&&!this.path.some(cz));this.animationProgress=0;let F;this.mixTargetDelta=fe=>{const V=fe/1e3;C1(v.x,u.x,V),C1(v.y,u.y,V),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uz(this.relativeTarget,this.relativeTargetOrigin,b,V),F&&zj(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=sn()),Li(F,this.relativeTarget)),P&&(this.animationValues=y,qj(y,p,this.latestValues,V,j,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(sa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=At.update(()=>{rd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Cl(0)),this.currentAnimation=$j(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Xj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&kI(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||sn();const v=Nn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const b=Nn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+b}Li(h,d),cl(h,y),gc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Qj),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&ey("z",u,p,this.animationValues);for(let y=0;y<Zg.length;y++)ey(`rotate${Zg[y]}`,u,p,this.animationValues),ey(`skew${Zg[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=id(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=id(h?.pointerEvents)||""),this.hasProjected&&!$a(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=Bj(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:b,y:x}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const M in iv){if(y[M]===void 0)continue;const{correct:P,applyTo:B,isCSSVariable:U}=iv[M],j=v==="none"?y[M]:P(y[M],p);if(B){const F=B.length;for(let fe=0;fe<F;fe++)u[B[fe]]=j}else U?this.options.visualElement.renderState.vars[M]=j:u[M]=j}this.options.layoutId&&(u.pointerEvents=p===this?id(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(w1),this.root.sharedNodes.clear()}}}function Zj(t){t.updateLayout()}function ez(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?vi(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],b=Nn(v);v.min=n[y].min,v.max=v.min+b}):kI(a,e.layoutBox,n)&&vi(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],b=Nn(n[y]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const u=ll();gc(u,n,e.layoutBox);const h=ll();l?gc(h,t.applyTransform(r,!0),e.measuredBox):gc(h,n,e.layoutBox);const d=!AI(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:b}=y;if(v&&b){const x=sn();jd(x,e.layoutBox,v.layoutBox);const M=sn();jd(M,n,b.layoutBox),CI(x,M)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=x,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function tz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iz(t){t.clearSnapshot()}function w1(t){t.clearMeasurements()}function S1(t){t.isLayoutDirty=!1}function rz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function A1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function sz(t){t.resolveTargetDelta()}function az(t){t.calcProjection()}function oz(t){t.resetSkewAndRotation()}function lz(t){t.removeLeadSnapshot()}function C1(t,e,n){t.translate=Dt(e.translate,0,n),t.scale=Dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function R1(t,e,n,r){t.min=Dt(e.min,n.min,r),t.max=Dt(e.max,n.max,r)}function uz(t,e,n,r){R1(t.x,e.x,n.x,r),R1(t.y,e.y,n.y,r)}function cz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hz={duration:.45,ease:[.4,0,.1,1]},x1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),I1=x1("applewebkit/")&&!x1("chrome/")?Math.round:Ei;function D1(t){t.min=I1(t.min),t.max=I1(t.max)}function fz(t){D1(t.x),D1(t.y)}function kI(t,e,n){return t==="position"||t==="preserve-aspect"&&!Pj(v1(e),v1(n),.2)}function dz(t){return t!==t.root&&t.scroll?.wasRoot}const mz=DI({attachResizeListener:(t,e)=>Mc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),ty={current:void 0},MI=DI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ty.current){const t=new mz({});t.mount(window),t.setOptions({layoutScroll:!0}),ty.current=t}return ty.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),W0=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function k1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function pz(...t){return e=>{let n=!1;const r=t.map(a=>{const l=k1(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():k1(t[a],null)}}}}function gz(...t){return R.useCallback(pz(...t),t)}class yz extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=Zy(r)&&r.offsetWidth||0,l=Zy(r)&&r.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function vz({children:t,isPresent:e,anchorX:n,anchorY:r,root:a}){const l=R.useId(),u=R.useRef(null),h=R.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=R.useContext(W0),p=t.props?.ref??t?.ref,y=gz(u,p);return R.useInsertionEffect(()=>{const{width:v,height:b,top:x,left:M,right:P,bottom:B}=h.current;if(e||!u.current||!v||!b)return;const U=n==="left"?`left: ${M}`:`right: ${P}`,j=r==="bottom"?`bottom: ${B}`:`top: ${x}`;u.current.dataset.motionPopId=l;const F=document.createElement("style");d&&(F.nonce=d);const fe=a??document.head;return fe.appendChild(F),F.sheet&&F.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${b}px !important;
            ${U}px !important;
            ${j}px !important;
          }
        `),()=>{fe.contains(F)&&fe.removeChild(F)}},[e]),q.jsx(yz,{isPresent:e,childRef:u,sizeRef:h,children:R.cloneElement(t,{ref:y})})}const _z=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,anchorY:d,root:p})=>{const y=b0(Tz),v=R.useId();let b=!0,x=R.useMemo(()=>(b=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:M=>{y.set(M,!0);for(const P of y.values())if(!P)return;r&&r()},register:M=>(y.set(M,!1),()=>y.delete(M))}),[n,y,r]);return l&&b&&(x={...x}),R.useMemo(()=>{y.forEach((M,P)=>y.set(P,!1))},[n]),R.useEffect(()=>{!n&&!y.size&&r&&r()},[n]),u==="popLayout"&&(t=q.jsx(vz,{isPresent:n,anchorX:h,anchorY:d,root:p,children:t})),q.jsx(ym.Provider,{value:x,children:t})};function Tz(){return new Map}function NI(t=!0){const e=R.useContext(ym);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=R.useId();R.useEffect(()=>{if(t)return a(l)},[t]);const u=R.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,u]:[!0]}const Lf=t=>t.key||"";function M1(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const Q0=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",anchorY:d="top",root:p})=>{const[y,v]=NI(u),b=R.useMemo(()=>M1(t),[t]),x=u&&!y?[]:b.map(Lf),M=R.useRef(!0),P=R.useRef(b),B=b0(()=>new Map),U=R.useRef(new Set),[j,F]=R.useState(b),[fe,V]=R.useState(b);hx(()=>{M.current=!1,P.current=b;for(let w=0;w<fe.length;w++){const k=Lf(fe[w]);x.includes(k)?(B.delete(k),U.current.delete(k)):B.get(k)!==!0&&B.set(k,!1)}},[fe,x.length,x.join("-")]);const ee=[];if(b!==j){let w=[...b];for(let k=0;k<fe.length;k++){const N=fe[k],O=Lf(N);x.includes(O)||(w.splice(k,0,N),ee.push(N))}return l==="wait"&&ee.length&&(w=ee),V(M1(w)),F(b),null}const{forceRender:S}=R.useContext(T0);return q.jsx(q.Fragment,{children:fe.map(w=>{const k=Lf(w),N=u&&!y?!1:b===fe||x.includes(k),O=()=>{if(U.current.has(k))return;if(U.current.add(k),B.has(k))B.set(k,!0);else return;let I=!0;B.forEach(A=>{A||(I=!1)}),I&&(S?.(),V(P.current),u&&v?.(),r&&r())};return q.jsx(_z,{isPresent:N,initial:!M.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:N?void 0:O,anchorX:h,anchorY:d,children:w},k)})})},OI=R.createContext({strict:!1}),N1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let O1=!1;function bz(){if(O1)return;const t={};for(const e in N1)t[e]={isEnabled:n=>N1[e].some(r=>!!n[r])};uI(t),O1=!0}function PI(){return bz(),oj()}function Ez(t){const e=PI();for(const n in t)e[n]={...e[n],...t[n]};uI(e)}const wz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||wz.has(t)}let VI=t=>!zd(t);function Sz(t){typeof t=="function"&&(VI=e=>e.startsWith("on")?!zd(e):t(e))}try{Sz(require("@emotion/is-prop-valid").default)}catch{}function Az(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(VI(a)||n===!0&&zd(a)||!e&&!zd(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const Tm=R.createContext({});function Cz(t,e){if(_m(t)){const{initial:n,animate:r}=t;return{initial:n===!1||kc(n)?n:void 0,animate:kc(r)?r:void 0}}return t.inherit!==!1?e:{}}function Rz(t){const{initial:e,animate:n}=Cz(t,R.useContext(Tm));return R.useMemo(()=>({initial:e,animate:n}),[P1(e),P1(n)])}function P1(t){return Array.isArray(t)?t.join(" "):t}const X0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LI(t,e,n){for(const r in e)!Rn(e[r])&&!gI(r,n)&&(t[r]=e[r])}function xz({transformTemplate:t},e){return R.useMemo(()=>{const n=X0();return Y0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Iz(t,e){const n=t.style||{},r={};return LI(r,n,t),Object.assign(r,xz(t,e)),r}function Dz(t,e){const n={},r=Iz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const UI=()=>({...X0(),attrs:{}});function kz(t,e,n,r){const a=R.useMemo(()=>{const l=UI();return yI(l,e,_I(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};LI(l,t.style,t),a.style={...l,...a.style}}return a}const Mz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function J0(t){return typeof t!="string"||t.includes("-")?!1:!!(Mz.indexOf(t)>-1||/[A-Z]/u.test(t))}function Nz(t,e,n,{latestValues:r},a,l=!1,u){const d=(u??J0(t)?kz:Dz)(e,r,a,t),p=Az(e,typeof t=="string",l),y=t!==R.Fragment?{...p,...d,ref:n}:{},{children:v}=e,b=R.useMemo(()=>Rn(v)?v.get():v,[v]);return R.createElement(t,{...y,children:b})}function Oz({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:Pz(n,r,a,t),renderState:e()}}function Pz(t,e,n,r){const a={},l=r(t,{});for(const b in l)a[b]=id(l[b]);let{initial:u,animate:h}=t;const d=_m(t),p=lI(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!vm(v)){const b=Array.isArray(v)?v:[v];for(let x=0;x<b.length;x++){const M=z0(t,b[x]);if(M){const{transitionEnd:P,transition:B,...U}=M;for(const j in U){let F=U[j];if(Array.isArray(F)){const fe=y?F.length-1:0;F=F[fe]}F!==null&&(a[j]=F)}for(const j in P)a[j]=P[j]}}}return a}const jI=t=>(e,n)=>{const r=R.useContext(Tm),a=R.useContext(ym),l=()=>Oz(t,e,r,a);return n?l():b0(l)},Vz=jI({scrapeMotionValuesFromProps:K0,createRenderState:X0}),Lz=jI({scrapeMotionValuesFromProps:TI,createRenderState:UI}),Uz=Symbol.for("motionComponentSymbol");function jz(t,e,n){const r=R.useRef(n);R.useInsertionEffect(()=>{r.current=n});const a=R.useRef(null);return R.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=r.current;if(typeof u=="function")if(l){const h=u(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const zI=R.createContext({});function ac(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zz(t,e,n,r,a,l){const{visualElement:u}=R.useContext(Tm),h=R.useContext(OI),d=R.useContext(ym),p=R.useContext(W0).reducedMotion,y=R.useRef(null);r=r||h.renderer,!y.current&&r&&(y.current=r(t,{visualState:e,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p,isSVG:l}));const v=y.current,b=R.useContext(zI);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&Bz(y.current,n,a,b);const x=R.useRef(!1);R.useInsertionEffect(()=>{v&&x.current&&v.update(n,d)});const M=n[Kx],P=R.useRef(!!M&&!window.MotionHandoffIsComplete?.(M)&&window.MotionHasOptimisedAnimation?.(M));return hx(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),P.current&&v.animationState&&v.animationState.animateChanges())}),R.useEffect(()=>{v&&(!P.current&&v.animationState&&v.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(M)}),P.current=!1),v.enteringChildren=void 0)}),v}function Bz(t,e,n,r){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:BI(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&ac(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:d,layoutRoot:p})}function BI(t){if(t)return t.options.allowProjection!==!1?t.projection:BI(t.parent)}function ny(t,{forwardMotionProps:e=!1,type:n}={},r,a){r&&Ez(r);const l=n?n==="svg":J0(t),u=l?Lz:Vz;function h(p,y){let v;const b={...R.useContext(W0),...p,layoutId:Fz(p)},{isStatic:x}=b,M=Rz(p),P=u(p,x);if(!x&&cx){qz();const B=Hz(b);v=B.MeasureLayout,M.visualElement=zz(t,P,b,a,B.ProjectionNode,l)}return q.jsxs(Tm.Provider,{value:M,children:[v&&M.visualElement?q.jsx(v,{visualElement:M.visualElement,...b}):null,Nz(t,p,jz(P,M.visualElement,y),P,x,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=R.forwardRef(h);return d[Uz]=t,d}function Fz({layoutId:t}){const e=R.useContext(T0).id;return e&&t!==void 0?e+"-"+t:t}function qz(t,e){R.useContext(OI).strict}function Hz(t){const e=PI(),{drag:n,layout:r}=e;if(!n&&!r)return{};const a={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Gz(t,e){if(typeof Proxy>"u")return ny;const n=new Map,r=(l,u)=>ny(l,u,t,e),a=(l,u)=>r(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?r:(n.has(u)||n.set(u,ny(u,void 0,t,e)),n.get(u))})}const $z=(t,e)=>e.isSVG??J0(t)?new Sj(e):new vj(e,{allowProjection:t!==R.Fragment});class Yz extends ca{constructor(e){super(e),e.animationState||(e.animationState=Ij(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Kz=0;class Wz extends ca{constructor(){super(...arguments),this.id=Kz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Qz={animation:{Feature:Yz},exit:{Feature:Wz}};function Xc(t){return{point:{x:t.pageX,y:t.pageY}}}const Xz=t=>e=>H0(e)&&t(e,Xc(e));function yc(t,e,n,r){return Mc(t,e,Xz(n),r)}const FI=({current:t})=>t?t.ownerDocument.defaultView:null,V1=(t,e)=>Math.abs(t-e);function Jz(t,e){const n=V1(t.x,e.x),r=V1(t.y,e.y);return Math.sqrt(n**2+r**2)}const L1=new Set(["auto","scroll"]);class qI{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=ry(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,P=Jz(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!P)return;const{point:B}=x,{timestamp:U}=vn;this.history.push({...B,timestamp:U});const{onStart:j,onMove:F}=this.handlers;M||(j&&j(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,x)},this.handlePointerMove=(x,M)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=iy(M,this.transformPagePoint),At.update(this.updatePoint,!0)},this.handlePointerUp=(x,M)=>{this.end();const{onEnd:P,onSessionEnd:B,resumeAnimation:U}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=ry(x.type==="pointercancel"?this.lastMoveEventInfo:iy(M,this.transformPagePoint),this.history);this.startEvent&&P&&P(x,j),B&&B(x,j)},!H0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=a||window;const d=Xc(e),p=iy(d,this.transformPagePoint),{point:y}=p,{timestamp:v}=vn;this.history=[{...y,timestamp:v}];const{onSessionStart:b}=n;b&&b(e,ry(p,this.history)),this.removeListeners=Kc(yc(this.contextWindow,"pointermove",this.handlePointerMove),yc(this.contextWindow,"pointerup",this.handlePointerUp),yc(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(L1.has(r.overflowX)||L1.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,a=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),At.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),sa(this.updatePoint)}}function iy(t,e){return e?{point:e(t.point)}:t}function U1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ry({point:t},e){return{point:t,delta:U1(t,HI(e)),offset:U1(t,Zz(e)),velocity:eB(e,.1)}}function Zz(t){return t[0]}function HI(t){return t[t.length-1]}function eB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=HI(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>Wr(e)));)n--;if(!r)return{x:0,y:0};const l=Ti(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function tB(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Dt(n,t,r.max):Math.min(t,n)),t}function j1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function nB(t,{top:e,left:n,bottom:r,right:a}){return{x:j1(t.x,n,a),y:j1(t.y,e,r)}}function z1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function iB(t,e){return{x:z1(t.x,e.x),y:z1(t.y,e.y)}}function rB(t,e){let n=.5;const r=Nn(t),a=Nn(e);return a>r?n=xc(e.min,e.max-r,t.min):r>a&&(n=xc(t.min,t.max-a,e.min)),Er(0,1,n)}function sB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const rv=.35;function aB(t=rv){return t===!1?t=0:t===!0&&(t=rv),{x:B1(t,"left","right"),y:B1(t,"top","bottom")}}function B1(t,e,n){return{min:F1(t,e),max:F1(t,n)}}function F1(t,e){return typeof t=="number"?t:t[e]||0}const oB=new WeakMap;class lB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(Xc(v).point)):this.pauseAnimation()},u=(v,b)=>{this.stopAnimation();const{drag:x,dragPropagation:M,onDragStart:P}=this.getProps();if(x&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=W9(x),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vi(U=>{let j=this.getAxisMotionValue(U).get()||0;if(Tr.test(j)){const{projection:F}=this.visualElement;if(F&&F.layout){const fe=F.layout.layoutBox[U];fe&&(j=Nn(fe)*(parseFloat(j)/100))}}this.originPoint[U]=j}),P&&At.postRender(()=>P(v,b)),Qy(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:x,dragDirectionLock:M,onDirectionLock:P,onDrag:B}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:U}=b;if(M&&this.currentDirection===null){this.currentDirection=uB(U),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",b.point,U),this.updateAxis("y",b.point,U),this.visualElement.render(),B&&B(v,b)},d=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>vi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new qI(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:FI(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&At.postRender(()=>h(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!Uf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=tB(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&ac(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=nB(r.layoutBox,e):this.constraints=!1,this.elastic=aB(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=sB(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ac(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=fj(r,a.root,this.visualElement.getTransformPagePoint());let u=iB(a.layout.layoutBox,l);if(n){const h=n(uj(u));this.hasMutatedConstraints=!!h,h&&(u=hI(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=vi(y=>{if(!Uf(y,n,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const b=a?200:1e6,x=a?40:1e7,M={type:"inertia",velocity:r?e[y]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,M)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Qy(this.visualElement,e),r.start(j0(e,r,0,n,this.visualElement,!1))}stopAnimation(){vi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vi(n=>{const{drag:r}=this.getProps();if(!Uf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n],d=l.get()||0;l.set(e[n]-Dt(u,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ac(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};vi(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=rB({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vi(u=>{if(!Uf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(Dt(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;oB.set(this.visualElement,this);const e=this.visualElement.current,n=yc(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps(),v=d.target,b=v!==e&&sI(v);p&&y&&!b&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();ac(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),At.read(r);const u=Mc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(vi(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=rv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Uf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function uB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class cB extends ca{constructor(e){super(e),this.removeGroupControls=Ei,this.removeListeners=Ei,this.controls=new lB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ei}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const q1=t=>(e,n)=>{t&&At.postRender(()=>t(e,n))};class hB extends ca{constructor(){super(...arguments),this.removePointerDownListener=Ei}onPointerDown(e){this.session=new qI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:q1(e),onStart:q1(n),onMove:r,onEnd:(l,u)=>{delete this.session,a&&At.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=yc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let sy=!1;class fB extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),sy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:u}=r;return u&&(u.isPresent=l,sy=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||At.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),q0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;sy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function GI(t){const[e,n]=NI(),r=R.useContext(T0);return q.jsx(fB,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(zI),isPresent:e,safeToRemove:n})}const dB={pan:{Feature:hB},drag:{Feature:cB,ProjectionNode:MI,MeasureLayout:GI}};function H1(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&At.postRender(()=>l(e,Xc(e)))}class mB extends ca{mount(){const{current:e}=this.node;e&&(this.unmount=Q9(e,(n,r)=>(H1(this.node,r,"Start"),a=>H1(this.node,a,"End"))))}unmount(){}}class pB extends ca{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kc(Mc(this.node.current,"focus",()=>this.onFocus()),Mc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function G1(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&At.postRender(()=>l(e,Xc(e)))}class gB extends ca{mount(){const{current:e}=this.node;e&&(this.unmount=Z9(e,(n,r)=>(G1(this.node,r,"Start"),(a,{success:l})=>G1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sv=new WeakMap,ay=new WeakMap,yB=t=>{const e=sv.get(t.target);e&&e(t)},vB=t=>{t.forEach(yB)};function _B({root:t,...e}){const n=t||document;ay.has(n)||ay.set(n,{});const r=ay.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(vB,{root:t,...e})),r[a]}function TB(t,e,n){const r=_B(e);return sv.set(t,n),r.observe(t),()=>{sv.delete(t),r.unobserve(t)}}const bB={some:0,all:1};class EB extends ca{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:bB[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),b=p?y:v;b&&b(d)};return TB(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(wB(e,n))&&this.startObserver()}unmount(){}}function wB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const SB={inView:{Feature:EB},tap:{Feature:gB},focus:{Feature:pB},hover:{Feature:mB}},AB={layout:{ProjectionNode:MI,MeasureLayout:GI}},CB={...Qz,...SB,...dB,...AB},Rl=Gz(CB,$z);const RB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),$1=t=>{const e=xB(t);return e.charAt(0).toUpperCase()+e.slice(1)},$I=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),IB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var DB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kB=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:u,...h},d)=>R.createElement("svg",{ref:d,...DB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:$I("lucide",a),...!l&&!IB(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>R.createElement(p,y)),...Array.isArray(l)?l:[l]]));const tn=(t,e)=>{const n=R.forwardRef(({className:r,...a},l)=>R.createElement(kB,{ref:l,iconNode:e,className:$I(`lucide-${RB($1(t))}`,`lucide-${t}`,r),...a}));return n.displayName=$1(t),n};const MB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],NB=tn("arrow-left",MB);const OB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Bd=tn("calendar",OB);const PB=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],VB=tn("chart-pie",PB);const LB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],UB=tn("chevron-left",LB);const jB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],av=tn("chevron-right",jB);const zB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],BB=tn("clock",zB);const FB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],qB=tn("house",FB);const HB=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],GB=tn("layout-grid",HB);const $B=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],YB=tn("list-todo",$B);const KB=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],WB=tn("list",KB);const QB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],XB=tn("log-out",QB);const JB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],ZB=tn("menu",JB);const e8=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],t8=tn("moon",e8);const n8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],i8=tn("panels-top-left",n8);const r8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],YI=tn("settings",r8);const s8=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],a8=tn("square-check-big",s8);const o8=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],l8=tn("sun",o8);const u8=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],c8=tn("utensils",u8);const h8=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],f8=tn("wallet",h8);const d8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Z0=tn("x",d8),m8=()=>{const[t,e]=R.useState(!1),[n,r]=R.useState(null),[a,l]=R.useState(!1),u=async()=>{r(null),l(!0);try{await nC(Id),t||(l(!1),r(null))}catch(h){t||(console.log(h.message),r(h.message),l(!1))}};return R.useEffect(()=>()=>e(!0),[]),{logout:u,error:n,isPending:a}};function KI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=KI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function p8(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=KI(t))&&(r&&(r+=" "),r+=e);return r}const g8=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},y8=(t,e)=>({classGroupId:t,validator:e}),WI=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Fd="-",Y1=[],v8="arbitrary..",_8=t=>{const e=b8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return T8(u);const h=u.split(Fd),d=h[0]===""&&h.length>1?1:0;return QI(h,d,e)},getConflictingClassGroupIds:(u,h)=>{if(h){const d=r[u],p=n[u];return d?p?g8(p,d):d:p||Y1}return n[u]||Y1}}},QI=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=QI(t,e+1,l);if(p)return p}const u=n.validators;if(u===null)return;const h=e===0?t.join(Fd):t.slice(e).join(Fd),d=u.length;for(let p=0;p<d;p++){const y=u[p];if(y.validator(h))return y.classGroupId}},T8=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?v8+r:void 0})(),b8=t=>{const{theme:e,classGroups:n}=t;return E8(n,e)},E8=(t,e)=>{const n=WI();for(const r in t){const a=t[r];e_(a,n,r,e)}return n},e_=(t,e,n,r)=>{const a=t.length;for(let l=0;l<a;l++){const u=t[l];w8(u,e,n,r)}},w8=(t,e,n,r)=>{if(typeof t=="string"){S8(t,e,n);return}if(typeof t=="function"){A8(t,e,n,r);return}C8(t,e,n,r)},S8=(t,e,n)=>{const r=t===""?e:XI(e,t);r.classGroupId=n},A8=(t,e,n,r)=>{if(R8(t)){e_(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(y8(n,t))},C8=(t,e,n,r)=>{const a=Object.entries(t),l=a.length;for(let u=0;u<l;u++){const[h,d]=a[u];e_(d,XI(e,h),n,r)}},XI=(t,e)=>{let n=t;const r=e.split(Fd),a=r.length;for(let l=0;l<a;l++){const u=r[l];let h=n.nextPart.get(u);h||(h=WI(),n.nextPart.set(u,h)),n=h}return n},R8=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,x8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(l,u)=>{n[l]=u,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=r[l])!==void 0)return a(l,u),u},set(l,u){l in n?n[l]=u:a(l,u)}}},ov="!",K1=":",I8=[],W1=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),D8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const l=[];let u=0,h=0,d=0,p;const y=a.length;for(let P=0;P<y;P++){const B=a[P];if(u===0&&h===0){if(B===K1){l.push(a.slice(d,P)),d=P+1;continue}if(B==="/"){p=P;continue}}B==="["?u++:B==="]"?u--:B==="("?h++:B===")"&&h--}const v=l.length===0?a:a.slice(d);let b=v,x=!1;v.endsWith(ov)?(b=v.slice(0,-1),x=!0):v.startsWith(ov)&&(b=v.slice(1),x=!0);const M=p&&p>d?p-d:void 0;return W1(l,x,b,M)};if(e){const a=e+K1,l=r;r=u=>u.startsWith(a)?l(u.slice(a.length)):W1(I8,!1,u,void 0,!0)}if(n){const a=r;r=l=>n({className:l,parseClassName:a})}return r},k8=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let l=0;l<n.length;l++){const u=n[l],h=u[0]==="[",d=e.has(u);h||d?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(u)):a.push(u)}return a.length>0&&(a.sort(),r.push(...a)),r}},M8=t=>({cache:x8(t.cacheSize),parseClassName:D8(t),sortModifiers:k8(t),..._8(t)}),N8=/\s+/,O8=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],h=t.trim().split(N8);let d="";for(let p=h.length-1;p>=0;p-=1){const y=h[p],{isExternal:v,modifiers:b,hasImportantModifier:x,baseClassName:M,maybePostfixModifierPosition:P}=n(y);if(v){d=y+(d.length>0?" "+d:d);continue}let B=!!P,U=r(B?M.substring(0,P):M);if(!U){if(!B){d=y+(d.length>0?" "+d:d);continue}if(U=r(M),!U){d=y+(d.length>0?" "+d:d);continue}B=!1}const j=b.length===0?"":b.length===1?b[0]:l(b).join(":"),F=x?j+ov:j,fe=F+U;if(u.indexOf(fe)>-1)continue;u.push(fe);const V=a(U,B);for(let ee=0;ee<V.length;++ee){const S=V[ee];u.push(F+S)}d=y+(d.length>0?" "+d:d)}return d},P8=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=JI(n))&&(a&&(a+=" "),a+=r);return a},JI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=JI(t[r]))&&(n&&(n+=" "),n+=e);return n},V8=(t,...e)=>{let n,r,a,l;const u=d=>{const p=e.reduce((y,v)=>v(y),t());return n=M8(p),r=n.cache.get,a=n.cache.set,l=h,h(d)},h=d=>{const p=r(d);if(p)return p;const y=O8(d,n);return a(d,y),y};return l=u,(...d)=>l(P8(...d))},L8=[],rn=t=>{const e=n=>n[t]||L8;return e.isThemeGetter=!0,e},ZI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,eD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,U8=/^\d+\/\d+$/,j8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,B8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,F8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,q8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nl=t=>U8.test(t),We=t=>!!t&&!Number.isNaN(Number(t)),zs=t=>!!t&&Number.isInteger(Number(t)),oy=t=>t.endsWith("%")&&We(t.slice(0,-1)),qr=t=>j8.test(t),H8=()=>!0,G8=t=>z8.test(t)&&!B8.test(t),tD=()=>!1,$8=t=>F8.test(t),Y8=t=>q8.test(t),K8=t=>!xe(t)&&!Ie(t),W8=t=>Fl(t,rD,tD),xe=t=>ZI.test(t),Fa=t=>Fl(t,sD,G8),ly=t=>Fl(t,eF,We),Q1=t=>Fl(t,nD,tD),Q8=t=>Fl(t,iD,Y8),jf=t=>Fl(t,aD,$8),Ie=t=>eD.test(t),Ju=t=>ql(t,sD),X8=t=>ql(t,tF),X1=t=>ql(t,nD),J8=t=>ql(t,rD),Z8=t=>ql(t,iD),zf=t=>ql(t,aD,!0),Fl=(t,e,n)=>{const r=ZI.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ql=(t,e,n=!1)=>{const r=eD.exec(t);return r?r[1]?e(r[1]):n:!1},nD=t=>t==="position"||t==="percentage",iD=t=>t==="image"||t==="url",rD=t=>t==="length"||t==="size"||t==="bg-size",sD=t=>t==="length",eF=t=>t==="number",tF=t=>t==="family-name",aD=t=>t==="shadow",nF=()=>{const t=rn("color"),e=rn("font"),n=rn("text"),r=rn("font-weight"),a=rn("tracking"),l=rn("leading"),u=rn("breakpoint"),h=rn("container"),d=rn("spacing"),p=rn("radius"),y=rn("shadow"),v=rn("inset-shadow"),b=rn("text-shadow"),x=rn("drop-shadow"),M=rn("blur"),P=rn("perspective"),B=rn("aspect"),U=rn("ease"),j=rn("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],V=()=>[...fe(),Ie,xe],ee=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],w=()=>[Ie,xe,d],k=()=>[nl,"full","auto",...w()],N=()=>[zs,"none","subgrid",Ie,xe],O=()=>["auto",{span:["full",zs,Ie,xe]},zs,Ie,xe],I=()=>[zs,"auto",Ie,xe],A=()=>["auto","min","max","fr",Ie,xe],$=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...w()],re=()=>[nl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],J=()=>[t,Ie,xe],Ae=()=>[...fe(),X1,Q1,{position:[Ie,xe]}],Oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",J8,W8,{size:[Ie,xe]}],oe=()=>[oy,Ju,Fa],Q=()=>["","none","full",p,Ie,xe],K=()=>["",We,Ju,Fa],X=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[We,oy,X1,Q1],me=()=>["","none",M,Ie,xe],Ee=()=>["none",We,Ie,xe],Ge=()=>["none",We,Ie,xe],Ne=()=>[We,Ie,xe],It=()=>[nl,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[qr],breakpoint:[qr],color:[H8],container:[qr],"drop-shadow":[qr],ease:["in","out","in-out"],font:[K8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[qr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[qr],shadow:[qr],spacing:["px",We],text:[qr],"text-shadow":[qr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",nl,xe,Ie,B]}],container:["container"],columns:[{columns:[We,xe,Ie,h]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:V()}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[zs,"auto",Ie,xe]}],basis:[{basis:[nl,"full","auto",h,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,nl,"auto","initial","none",xe]}],grow:[{grow:["",We,Ie,xe]}],shrink:[{shrink:["",We,Ie,xe]}],order:[{order:[zs,"first","last","none",Ie,xe]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...$(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...$()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":$()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[h,"screen",...re()]}],"min-w":[{"min-w":[h,"screen","none",...re()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,Ju,Fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ie,ly]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",oy,xe]}],"font-family":[{font:[X8,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ie,xe]}],"line-clamp":[{"line-clamp":[We,"none",Ie,ly]}],leading:[{leading:[l,...w()]}],"list-image":[{"list-image":["none",Ie,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:J()}],"text-color":[{text:J()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",Ie,Fa]}],"text-decoration-color":[{decoration:J()}],"underline-offset":[{"underline-offset":[We,"auto",Ie,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ae()}],"bg-repeat":[{bg:Oe()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zs,Ie,xe],radial:["",Ie,xe],conic:[zs,Ie,xe]},Z8,Q8]}],"bg-color":[{bg:J()}],"gradient-from-pos":[{from:oe()}],"gradient-via-pos":[{via:oe()}],"gradient-to-pos":[{to:oe()}],"gradient-from":[{from:J()}],"gradient-via":[{via:J()}],"gradient-to":[{to:J()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...X(),"hidden","none"]}],"divide-style":[{divide:[...X(),"hidden","none"]}],"border-color":[{border:J()}],"border-color-x":[{"border-x":J()}],"border-color-y":[{"border-y":J()}],"border-color-s":[{"border-s":J()}],"border-color-e":[{"border-e":J()}],"border-color-t":[{"border-t":J()}],"border-color-r":[{"border-r":J()}],"border-color-b":[{"border-b":J()}],"border-color-l":[{"border-l":J()}],"divide-color":[{divide:J()}],"outline-style":[{outline:[...X(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,Ie,xe]}],"outline-w":[{outline:["",We,Ju,Fa]}],"outline-color":[{outline:J()}],shadow:[{shadow:["","none",y,zf,jf]}],"shadow-color":[{shadow:J()}],"inset-shadow":[{"inset-shadow":["none",v,zf,jf]}],"inset-shadow-color":[{"inset-shadow":J()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:J()}],"ring-offset-w":[{"ring-offset":[We,Fa]}],"ring-offset-color":[{"ring-offset":J()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":J()}],"text-shadow":[{"text-shadow":["none",b,zf,jf]}],"text-shadow-color":[{"text-shadow":J()}],opacity:[{opacity:[We,Ie,xe]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":J()}],"mask-image-linear-to-color":[{"mask-linear-to":J()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":J()}],"mask-image-t-to-color":[{"mask-t-to":J()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":J()}],"mask-image-r-to-color":[{"mask-r-to":J()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":J()}],"mask-image-b-to-color":[{"mask-b-to":J()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":J()}],"mask-image-l-to-color":[{"mask-l-to":J()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":J()}],"mask-image-x-to-color":[{"mask-x-to":J()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":J()}],"mask-image-y-to-color":[{"mask-y-to":J()}],"mask-image-radial":[{"mask-radial":[Ie,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":J()}],"mask-image-radial-to-color":[{"mask-radial-to":J()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":fe()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":J()}],"mask-image-conic-to-color":[{"mask-conic-to":J()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ae()}],"mask-repeat":[{mask:Oe()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,xe]}],filter:[{filter:["","none",Ie,xe]}],blur:[{blur:me()}],brightness:[{brightness:[We,Ie,xe]}],contrast:[{contrast:[We,Ie,xe]}],"drop-shadow":[{"drop-shadow":["","none",x,zf,jf]}],"drop-shadow-color":[{"drop-shadow":J()}],grayscale:[{grayscale:["",We,Ie,xe]}],"hue-rotate":[{"hue-rotate":[We,Ie,xe]}],invert:[{invert:["",We,Ie,xe]}],saturate:[{saturate:[We,Ie,xe]}],sepia:[{sepia:["",We,Ie,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,xe]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[We,Ie,xe]}],"backdrop-contrast":[{"backdrop-contrast":[We,Ie,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,Ie,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,Ie,xe]}],"backdrop-invert":[{"backdrop-invert":["",We,Ie,xe]}],"backdrop-opacity":[{"backdrop-opacity":[We,Ie,xe]}],"backdrop-saturate":[{"backdrop-saturate":[We,Ie,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",We,Ie,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",Ie,xe]}],ease:[{ease:["linear","initial",U,Ie,xe]}],delay:[{delay:[We,Ie,xe]}],animate:[{animate:["none",j,Ie,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,Ie,xe]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:Ee()}],"rotate-x":[{"rotate-x":Ee()}],"rotate-y":[{"rotate-y":Ee()}],"rotate-z":[{"rotate-z":Ee()}],scale:[{scale:Ge()}],"scale-x":[{"scale-x":Ge()}],"scale-y":[{"scale-y":Ge()}],"scale-z":[{"scale-z":Ge()}],"scale-3d":["scale-3d"],skew:[{skew:Ne()}],"skew-x":[{"skew-x":Ne()}],"skew-y":[{"skew-y":Ne()}],transform:[{transform:[Ie,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:It()}],"translate-x":[{"translate-x":It()}],"translate-y":[{"translate-y":It()}],"translate-z":[{"translate-z":It()}],"translate-none":["translate-none"],accent:[{accent:J()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:J()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,xe]}],fill:[{fill:["none",...J()]}],"stroke-w":[{stroke:[We,Ju,Fa,ly]}],stroke:[{stroke:["none",...J()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},iF=V8(nF);function J1(...t){return iF(p8(t))}const Z1=({children:t,variant:e="primary",className:n,isLoading:r,disabled:a,...l})=>{const u="inline-flex items-center justify-center rounded-lg text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-white",h={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-600 shadow-sm",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus:ring-slate-500",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus:ring-slate-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-600"},d={default:"h-10 py-2 px-4"};return q.jsx(Rl.button,{whileHover:{scale:a||r?1:1.02},whileTap:{scale:a||r?1:.95},className:J1(u,h[e],d.default,n),disabled:a||r,...l,children:r?q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("img",{src:_0,alt:"Loading...",className:J1("h-5 w-auto animate-pulse",(e==="primary"||e==="danger")&&"brightness-0 invert")}),q.jsx("span",{className:"opacity-70",children:"Processing..."})]}):t})},rF=({isOpen:t,onClose:e})=>{const{currentDate:n,setDate:r,maxDate:a}=gm(),[l,u]=R.useState(new Date(n)),[h,d]=R.useState("day");R.useEffect(()=>{t&&(u(new Date(n)),d("day"))},[t,n]);const p=()=>{r(l),e()},y=new Date;y.setHours(0,0,0,0);const v=U=>U>y,b=(U,j)=>new Date(U,j+1,0).getDate(),x=(U,j)=>new Date(U,j,1).getDay(),M=()=>{const U=l.getFullYear(),j=l.getMonth(),F=b(U,j),fe=x(U,j),V=[];for(let ee=0;ee<fe;ee++)V.push(null);for(let ee=1;ee<=F;ee++)V.push(new Date(U,j,ee));return V},P=U=>{const j=new Date(l);j.setMonth(j.getMonth()+U),u(j)},B=U=>{const j=new Date(l);j.setFullYear(U),j.getMonth()!==l.getMonth()&&j.setDate(0),u(j),d("day")};return q.jsx(Q0,{children:t&&q.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:q.jsxs(Rl.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-sm bg-white rounded-2xl shadow-xl overflow-hidden dark:bg-slate-900 border dark:border-slate-800",children:[q.jsxs("div",{className:"p-4 border-b dark:border-slate-800 flex items-center justify-between",children:[q.jsxs("h3",{className:"font-bold text-lg dark:text-white flex items-center gap-2",children:[q.jsx(Bd,{className:"w-5 h-5 text-indigo-500"}),"Jump to Date"]}),q.jsx("button",{onClick:e,className:"p-1 hover:bg-slate-100 rounded-full dark:hover:bg-slate-800 transition-colors",children:q.jsx(Z0,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"})})]}),q.jsxs("div",{className:"p-4",children:[q.jsxs("div",{className:"flex items-center justify-between mb-4",children:[q.jsx("button",{onClick:()=>P(-1),className:"p-1 hover:bg-slate-100 rounded-lg dark:hover:bg-slate-800",children:q.jsx(UB,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})}),q.jsxs("div",{className:"flex gap-2",children:[q.jsx("button",{onClick:()=>d("month"),className:"font-bold text-slate-800 hover:bg-slate-100 px-2 py-1 rounded-md transition-colors dark:text-white dark:hover:bg-slate-800",children:l.toLocaleString("default",{month:"long"})}),q.jsx("button",{onClick:()=>d("year"),className:"font-bold text-slate-800 hover:bg-slate-100 px-2 py-1 rounded-md transition-colors dark:text-white dark:hover:bg-slate-800",children:l.getFullYear()})]}),q.jsx("button",{onClick:()=>P(1),disabled:l.getMonth()===y.getMonth()&&l.getFullYear()===y.getFullYear(),className:"p-1 hover:bg-slate-100 rounded-lg dark:hover:bg-slate-800 disabled:opacity-30",children:q.jsx(av,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),q.jsxs("div",{className:"h-64 overflow-y-auto",children:[h==="day"&&q.jsxs(q.Fragment,{children:[q.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-bold text-slate-400",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(U=>q.jsx("div",{children:U},U))}),q.jsx("div",{className:"grid grid-cols-7 gap-1",children:M().map((U,j)=>q.jsx("div",{className:"aspect-square flex items-center justify-center",children:U&&q.jsx("button",{onClick:()=>u(U),disabled:v(U),className:`
                                                                w-8 h-8 rounded-full text-sm font-medium transition-colors
                                                                ${U.getDate()===l.getDate()&&U.getMonth()===l.getMonth()?"bg-indigo-600 text-white":v(U)?"text-slate-300 dark:text-slate-700 cursor-not-allowed":"hover:bg-slate-100 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}
                                                            `,children:U.getDate()})},j))})]}),h==="month"&&q.jsx("div",{className:"grid grid-cols-3 gap-2",children:Array.from({length:12},(U,j)=>new Date(0,j)).map((U,j)=>q.jsx("button",{onClick:()=>{const F=new Date(l);F.setMonth(j),u(F),d("day")},className:`p-2 rounded-lg text-sm font-medium transition-colors ${l.getMonth()===j?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"hover:bg-slate-50 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:U.toLocaleString("default",{month:"short"})},j))}),h==="year"&&q.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:10},(U,j)=>y.getFullYear()-j).map(U=>q.jsx("button",{onClick:()=>B(U),className:`p-2 rounded-lg text-sm font-medium transition-colors ${l.getFullYear()===U?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"hover:bg-slate-50 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:U},U))})]})]}),q.jsxs("div",{className:"p-4 bg-slate-50 border-t dark:bg-slate-900 dark:border-slate-800 flex justify-end gap-2",children:[q.jsx(Z1,{variant:"ghost",onClick:e,className:"dark:text-slate-400",children:"Cancel"}),q.jsx(Z1,{onClick:p,children:"Jump"})]})]})})})},sF=({isOpen:t,onClose:e})=>{const{user:n}=fo(),{logout:r}=m8(),{setDate:a,formattedDate:l,maxDate:u}=gm(),h=kl(),[d,p]=R.useState(!1),y=async()=>{console.log("Logout initiated...");try{await r(),h("/login",{replace:!0})}catch(x){console.error("Logout error:",x),localStorage.clear(),window.location.hash="/login"}},v=[{icon:qB,label:"Dashboard",path:"/"},{icon:a8,label:"Daily Routine",path:"/routine"},{icon:Bd,label:"History",path:"/history"},{icon:YI,label:"Settings",path:"/settings"}],b=[{icon:c8,label:"Plan Diet",path:"/diet-plan",color:"text-orange-500",bg:"bg-orange-50"},{icon:VB,label:"Analytics",path:"/analytics",color:"text-indigo-500",bg:"bg-indigo-50"},{icon:f8,label:"Finance",path:"/finance",color:"text-emerald-500",bg:"bg-emerald-50"}];return q.jsx(Q0,{children:t&&q.jsxs(q.Fragment,{children:[q.jsx(Rl.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm"}),q.jsxs(Rl.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-y-0 right-0 z-50 w-3/4 max-w-sm bg-white shadow-2xl flex flex-col dark:bg-slate-900 dark:border-l dark:border-slate-800",children:[q.jsxs("div",{className:"p-5 border-b flex items-center justify-between dark:border-slate-800",children:[q.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Menu"}),q.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full",children:q.jsx(Z0,{className:"w-5 h-5 text-slate-500"})})]}),q.jsx("div",{onClick:()=>{h("/settings"),e()},className:"p-5 bg-slate-50 border-b dark:bg-slate-900 dark:border-slate-800 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold shadow-sm ring-2 ring-white dark:ring-slate-700 overflow-hidden ${n?.profileColor?`${n.profileColor} text-white`:"bg-indigo-100 text-indigo-600"}`,children:n?.photoURL?q.jsx("img",{src:n.photoURL,alt:n?.name,className:"w-full h-full object-cover"}):q.jsx("span",{className:"text-sm font-black uppercase tracking-wider !text-white",children:n?.initials||n?.name?.charAt(0)})}),q.jsxs("div",{className:"flex-1 min-w-0",children:[q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsx("p",{className:"font-bold text-slate-900 truncate dark:text-white",children:n?.name}),q.jsx(av,{className:"w-4 h-4 text-slate-400"})]}),q.jsxs("p",{className:"text-[10px] text-slate-500 font-medium",children:["Member ID: AWK-",n?.uid?.slice(-4).toUpperCase()||"GUEST"]}),q.jsx("p",{className:"text-[10px] text-indigo-500 font-semibold",children:n?.email})]})]})}),q.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[q.jsxs("nav",{className:"space-y-1",children:[v.map(x=>q.jsxs(ad,{to:x.path,onClick:e,className:"flex items-center gap-3 px-3 py-3 rounded-xl hover:bg-slate-50 text-slate-700 font-medium transition-colors dark:text-slate-300 dark:hover:bg-slate-800",children:[q.jsx(x.icon,{className:"w-5 h-5 text-slate-400"}),x.label]},x.path)),q.jsxs("button",{onClick:()=>{p(!0)},className:"flex items-center gap-3 px-3 py-3 rounded-xl hover:bg-slate-50 text-slate-700 font-medium transition-colors w-full text-left dark:text-slate-300 dark:hover:bg-slate-800",children:[q.jsx(Bd,{className:"w-5 h-5 text-slate-400"}),"Jump to Date"]}),d&&q.jsx(rF,{isOpen:d,onClose:()=>{p(!1),e()}})]}),q.jsxs("div",{children:[q.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-3",children:"Tools"}),q.jsx("div",{className:"space-y-2",children:b.map(x=>q.jsxs(ad,{to:x.path,onClick:e,className:"flex items-center justify-between p-3 rounded-xl border border-slate-100 hover:border-slate-200 hover:shadow-sm transition-all group",children:[q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${x.bg} ${x.color}`,children:q.jsx(x.icon,{className:"w-4 h-4"})}),q.jsx("span",{className:"font-medium text-slate-700",children:x.label})]}),q.jsx(av,{className:"w-4 h-4 text-slate-300 group-hover:text-slate-500"})]},x.path))})]})]}),q.jsxs("div",{className:"p-4 border-t",children:[q.jsxs("button",{type:"button",onClick:y,className:"flex items-center gap-3 w-full px-3 py-3 rounded-xl text-red-600 hover:bg-red-50 font-medium transition-colors active:scale-95 z-[60]",children:[q.jsx(XB,{className:"w-5 h-5"}),"Sign Out"]}),q.jsx("p",{className:"text-center text-xs text-slate-300 mt-4",children:"Version 1.0.0"})]})]})]})})},aF=({children:t})=>{const{formattedDate:e}=gm(),[n,r]=R.useState(!1),a=Hi(),l=kl(),h=["/","/routine","/history","/settings"].includes(a.pathname),{isDark:d,toggleTheme:p}=YR();return q.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 pb-24 dark:bg-slate-950 dark:text-slate-50 transition-colors",children:[q.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-slate-200 px-4 py-3 flex items-center justify-between dark:bg-slate-900/80 dark:border-slate-800 transition-colors",children:[q.jsxs("div",{className:"flex items-center gap-4",children:[q.jsx("div",{className:"flex items-center gap-2",children:q.jsx("button",{onClick:()=>l("/"),className:"focus:outline-none hover:opacity-80 transition-opacity",children:q.jsx("img",{src:_0,alt:"HUMI AWAKE",className:"h-8 w-auto object-cover dark:brightness-0 dark:invert"})})}),!h&&q.jsx("div",{className:"flex items-center gap-1 pl-2 border-l border-slate-200 dark:border-slate-800",children:q.jsx("button",{onClick:()=>l(-1),className:"p-1.5 text-slate-500 hover:bg-slate-100 rounded-full transition-colors dark:text-slate-400 dark:hover:bg-slate-800",title:"Go Back",children:q.jsx(NB,{className:"w-5 h-5"})})})]}),q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("button",{onClick:p,className:"p-2 rounded-full text-slate-500 hover:bg-slate-100 transition-colors dark:text-slate-400 dark:hover:bg-slate-800",children:d?q.jsx(t8,{className:"w-5 h-5"}):q.jsx(l8,{className:"w-5 h-5"})}),q.jsx("button",{onClick:()=>r(!0),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-full transition-colors dark:text-slate-300 dark:hover:bg-slate-800",children:q.jsx(GB,{className:"w-6 h-6"})})]})]}),q.jsxs("main",{className:"px-4 py-6 max-w-md mx-auto w-full",children:[t||q.jsx(pA,{}),q.jsx("div",{className:"text-[10px] font-black text-slate-300 dark:text-slate-700 uppercase tracking-[0.2em] text-center mt-8 mb-2 opacity-60",children:"Developed by CoolCraft"})]}),q.jsx(sF,{isOpen:n,onClose:()=>r(!1)})]})},oF=({children:t})=>{const e=kl(),n=Hi(),{isDark:r}=YR(),[a,l]=R.useState(!1),u=y=>n.pathname===y,h=[{icon:WB,label:"Active Tasks",path:"/workspace/tasks"},{icon:Bd,label:"Calendar",path:"/workspace/calendar"},{icon:i8,label:"Overview",path:"/workspace/overview"},{icon:YI,label:"Settings",path:"/workspace/settings"}],d=[{icon:BB,label:"Recent",color:"text-blue-500"}],p=()=>l(!a);return q.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-50 font-sans transition-colors duration-300 pb-24",children:[q.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[q.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl opacity-50 mix-blend-multiply animate-float"}),q.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl opacity-50 mix-blend-multiply animate-float",style:{animationDelay:"2s"}})]}),q.jsxs("header",{className:"sticky top-0 left-0 right-0 h-16 glass-panel z-30 px-4 flex items-center justify-between border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md",children:[q.jsxs("div",{className:"flex items-center gap-3",onClick:()=>e("/"),children:[q.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-tr from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-indigo-500/20",children:q.jsx(YB,{className:"w-5 h-5"})}),q.jsx("div",{children:q.jsx("span",{className:"block font-bold text-slate-900 dark:text-white leading-none",children:"Todo"})})]}),q.jsx("button",{onClick:p,className:"p-2.5 rounded-xl text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:q.jsx(ZB,{className:"w-6 h-6"})})]}),q.jsx(Q0,{children:a&&q.jsxs(q.Fragment,{children:[q.jsx(Rl.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 z-40 bg-slate-900/20 backdrop-blur-sm"}),q.jsxs(Rl.aside,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-y-0 right-0 z-50 w-80 bg-white dark:bg-slate-900 shadow-2xl flex flex-col h-full border-l border-slate-100 dark:border-slate-800",children:[q.jsxs("div",{className:"p-5 flex items-center justify-between border-b border-slate-100 dark:border-slate-800",children:[q.jsx("h2",{className:"font-bold text-lg",children:"Menu"}),q.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:q.jsx(Z0,{className:"w-5 h-5 text-slate-500"})})]}),q.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[q.jsxs("section",{children:[q.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 px-2",children:"Navigation"}),q.jsx("div",{className:"space-y-1",children:h.map(y=>q.jsxs("button",{onClick:()=>{e(y.path),l(!1)},className:`w-full flex items-center justify-between px-3 py-3 rounded-xl transition-all ${u(y.path)?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 font-semibold":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx(y.icon,{className:"w-5 h-5"}),y.label]}),u(y.path)&&q.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})]},y.path))})]}),q.jsxs("section",{children:[q.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 px-2",children:"Favorites"}),d.map((y,v)=>q.jsxs("button",{onClick:()=>{y.label==="Important"&&e("/workspace/important"),y.label==="Recent"&&e("/workspace/recent"),l(!1)},className:"w-full flex items-center gap-3 px-3 py-3 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 rounded-xl transition-colors",children:[q.jsx(y.icon,{className:`w-5 h-5 ${y.color}`}),y.label]},v))]})]})]})]})}),q.jsx("main",{className:"relative z-10 px-4 py-6 max-w-lg mx-auto w-full",children:t||q.jsx(pA,{})})]})},lF=()=>{const{error:t,clearError:e}=ox();return t?q.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,background:"#ff4d4f",color:"white",padding:"12px 16px",zIndex:9999,display:"flex",justifyContent:"space-between",alignItems:"center",fontFamily:"sans-serif"},children:[q.jsx("span",{children:t.message}),q.jsx("button",{onClick:e,style:{background:"transparent",border:"1px solid white",color:"white",cursor:"pointer"},children:"Dismiss"})]}):null},uF=R.lazy(()=>hn(()=>import("./Login-Ch6Wq_MW.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),cF=R.lazy(()=>hn(()=>import("./Dashboard-B5OwqZgJ.js"),__vite__mapDeps([9,10,11,12,13,14,6,15,16,17,2,18,19,20,21,5,22,23,24,25,1]),import.meta.url)),hF=R.lazy(()=>hn(()=>import("./Routine-5AqdhlM1.js"),__vite__mapDeps([26,10,11,12,13,14,6,15,16,17,2,18,19,20,21,5,22,23,24,25,1]),import.meta.url)),fF=R.lazy(()=>hn(()=>import("./History-r6S9II20.js"),__vite__mapDeps([27,2,24,21,7,5]),import.meta.url)),dF=R.lazy(()=>hn(()=>import("./Settings-BRgfPMfr.js").then(t=>t.S),__vite__mapDeps([28,2,18,1,19,29,6,30,31,12]),import.meta.url)),mF=R.lazy(()=>hn(()=>import("./ForgotPassword-CHHXEzfi.js"),__vite__mapDeps([32,1,2,3,4,5,21]),import.meta.url)),pF=R.lazy(()=>hn(()=>import("./Analytics-Bl-rEzLB.js"),__vite__mapDeps([33,2,24,25,34,18]),import.meta.url)),gF=R.lazy(()=>hn(()=>import("./DietPlan-B-JqHqH-.js"),__vite__mapDeps([35,2,5,15]),import.meta.url)),yF=R.lazy(()=>hn(()=>import("./TaskDashboard-C4VQMG_d.js"),__vite__mapDeps([36,11,12,13,14,6,15,16,17,20,37]),import.meta.url)),vF=R.lazy(()=>hn(()=>import("./WorkspaceCalendar-BVh25uNQ.js"),__vite__mapDeps([38,17,16]),import.meta.url)),_F=R.lazy(()=>hn(()=>import("./WorkspaceBoard-SO_jEjW-.js"),__vite__mapDeps([39,20]),import.meta.url)),TF=R.lazy(()=>hn(()=>import("./FilteredTaskView-D6e2s30n.js"),__vite__mapDeps([40,11,12,13,14,6,15,16,17,23]),import.meta.url)),bF=R.lazy(()=>hn(()=>import("./Overview-Dew-ViwE.js"),__vite__mapDeps([41,24,21,34,18,37]),import.meta.url)),EF=R.lazy(()=>hn(()=>import("./FinanceDashboard-C8Vs0D6n.js"),__vite__mapDeps([42,30,8,4,43,14,22,24,20,16]),import.meta.url)),wF=R.lazy(()=>hn(()=>import("./DebtManager-CW09uD49.js"),__vite__mapDeps([44,20,31]),import.meta.url)),SF=R.lazy(()=>hn(()=>import("./AccountDetail-6jhYYlny.js"),__vite__mapDeps([45,46,24]),import.meta.url)),AF=R.lazy(()=>hn(()=>import("./MonthlyOverview-BfBJEqDe.js"),__vite__mapDeps([47,25,16]),import.meta.url)),CF=R.lazy(()=>hn(()=>import("./VehicleDashboard-DHoHXVIz.js"),__vite__mapDeps([48,13,29,5,46,12,6,20,30,43]),import.meta.url));function RF(){return q.jsx(TM,{children:q.jsx(a6,{children:q.jsx(o6,{children:q.jsx(l6,{children:q.jsx(u6,{children:q.jsx(v5,{children:q.jsx(F5,{children:q.jsxs(G5,{children:[q.jsx(lF,{}),q.jsx(R.Suspense,{fallback:q.jsx(ux,{}),children:q.jsxs(Wk,{children:[q.jsx(Ot,{path:"/login",element:q.jsx(uF,{})}),q.jsx(Ot,{path:"/forgot-password",element:q.jsx(mF,{})}),q.jsxs(Ot,{element:q.jsx(DS,{children:q.jsx(aF,{})}),children:[q.jsx(Ot,{path:"/",element:q.jsx(cF,{})}),q.jsx(Ot,{path:"/routine",element:q.jsx(hF,{})}),q.jsx(Ot,{path:"/history",element:q.jsx(fF,{})}),q.jsx(Ot,{path:"/settings",element:q.jsx(dF,{})}),q.jsx(Ot,{path:"/analytics",element:q.jsx(pF,{})}),q.jsx(Ot,{path:"/diet",element:q.jsx(gF,{})}),q.jsx(Ot,{path:"/finance",element:q.jsx(EF,{})}),q.jsx(Ot,{path:"/finance/debt",element:q.jsx(wF,{})}),q.jsx(Ot,{path:"/finance/account/:id",element:q.jsx(SF,{})}),q.jsx(Ot,{path:"/finance/monthly",element:q.jsx(AF,{})}),q.jsx(Ot,{path:"/vehicle",element:q.jsx(CF,{})})]}),q.jsxs(Ot,{path:"/workspace",element:q.jsx(DS,{children:q.jsx(oF,{})}),children:[q.jsx(Ot,{index:!0,element:q.jsx(yF,{})}),q.jsx(Ot,{path:"calendar",element:q.jsx(vF,{})}),q.jsx(Ot,{path:"board",element:q.jsx(_F,{})}),q.jsx(Ot,{path:"overview",element:q.jsx(bF,{})}),q.jsx(Ot,{path:"filter/:filterType",element:q.jsx(TF,{})})]}),q.jsx(Ot,{path:"*",element:q.jsx(mA,{to:"/",replace:!0})})]})})]})})})})})})})})}class xF extends cv.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Render Crash Caught:",e,n)}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?q.jsxs("div",{style:{padding:"40px",textAlign:"center",fontFamily:"sans-serif"},children:[q.jsx("h2",{children:"Something went wrong."}),q.jsx("p",{children:"Please refresh the application."}),q.jsx("button",{onClick:this.handleReload,children:"Reload App"})]}):this.props.children}}K2.createRoot(document.getElementById("root")).render(q.jsx(cv.StrictMode,{children:q.jsx(xF,{children:q.jsx(q5,{children:q.jsx(RF,{})})})}));export{kd as $,Q0 as A,Z1 as B,BB as C,m8 as D,YR as E,ux as F,qs as G,XB as H,Nl as I,rF as J,MF as K,ad as L,t8 as M,mA as N,UF as O,NF as P,NB as Q,cv as R,l8 as S,g5 as T,c8 as U,Hi as V,f8 as W,Z0 as X,Bg as Y,qg as Z,hn as _,Id as a,dc as a0,ES as a1,bS as a2,Sl as a3,v6 as a4,Za as a5,JR as a6,qi as a7,lv as a8,uv as a9,DF as aa,H2 as ab,Hg as ac,kF as ad,Ft as ae,HF as af,qF as ag,$F as ah,YI as ai,H5 as aj,f6 as ak,IF as al,BF as am,nC as b,OF as c,VF as d,fo as e,_0 as f,J1 as g,jF as h,FF as i,q as j,gm as k,kl as l,Rl as m,GF as n,p8 as o,WB as p,tn as q,R as r,PF as s,B5 as t,LF as u,UB as v,av as w,Bd as x,VB as y,Re as z};
