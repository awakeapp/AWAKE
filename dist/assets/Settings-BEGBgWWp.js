import{j as e,P as v,a0 as D,E as I,z as T,v as M,f as U,a1 as F,a2 as G,r as h,V as H,a3 as K,a4 as r,a5 as s,M as W,J as z,a6 as B,a7 as V,U as b,a8 as J,T as Y,A as $,m as w}from"./index-DgPxFht0.js";import{u as q}from"./useLogout-D1HK2v7g.js";import{C as k}from"./ConfirmDialog-CnR6WTQC.js";import{P as Q}from"./pen-D-4zrPxo.js";import{S as X}from"./sun-XkKQiZor.js";import{M as Z}from"./monitor-PjmbOiNw.js";import{G as _}from"./globe-V_wbIT0F.js";import{B as ee}from"./bell-DQKYkyM8.js";import{H as te,D as se}from"./handshake-CW-BQxkb.js";import{K as ae,L as ne}from"./log-out-DLdJgo2m.js";import{S as p}from"./smartphone-DGu3YEyP.js";import"./triangle-alert-BosfxxC0.js";function N(...a){return D(I(a))}const c=({checked:a,onChange:d,disabled:n=!1})=>e.jsx(v,{as:"button",type:"button",role:"switch","aria-checked":a,disabled:n,onClick:()=>!n&&d(!a),scaleDown:.9,className:N("relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out outline-none",a?"bg-primary-600":"bg-slate-200 dark:bg-slate-700",n&&"opacity-50 cursor-not-allowed"),children:e.jsx("span",{className:N("pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",a?"translate-x-5":"translate-x-0")})}),fe=()=>{const a=T(),{t:d}=M(),{user:n}=U(),{themePreference:l,setThemePreference:y}=F(),{appSettings:i,updateSetting:x}=G(),{logout:S}=q(),[C,u]=h.useState(!1),[A,g]=h.useState(!1),[E,m]=h.useState(!1),f=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone,O=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,R=async()=>{try{await S(),a("/")}catch(t){console.error("Sign out error",t)}},L=()=>{localStorage.clear(),window.location.reload()},o=t=>{const j=i.notifications||{};x("notifications",{...j,[t]:!j[t]})},P=`AWK-${n?.uid?.slice(-4).toUpperCase()||"GUEST"}`;return e.jsx(H,{title:d("nav.settings","Settings"),showBack:!0,renderFloating:e.jsxs(e.Fragment,{children:[e.jsx(k,{isOpen:C,onClose:()=>u(!1),onConfirm:R,title:"Sign Out",message:"Are you sure you want to sign out? You will need to log in again to access your data.",confirmText:"Sign Out",isDestructive:!0}),e.jsx(k,{isOpen:A,onClose:()=>g(!1),onConfirm:L,title:"Reset Cache",message:"This will clear all local data and reload the app. Your cloud data is safe.",confirmText:"Reset",isDestructive:!0}),e.jsx($,{children:E&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center",children:[e.jsx(w.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>m(!1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),e.jsxs(w.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"relative w-full max-w-lg bg-white dark:bg-slate-900 rounded-t-[32px] p-8 shadow-2xl z-10 border-t border-white/5",children:[e.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-4",children:"Install AWAKE"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-500 rounded-2xl flex items-center justify-center shrink-0 shadow-lg shadow-indigo-500/30",children:e.jsx(p,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:"Full Screen Mode"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Run AWAKE as a standalone app without the browser bar."})]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-5 rounded-2xl border border-slate-100 dark:border-white/5",children:[e.jsx("p",{className:"font-black text-[10px] uppercase tracking-widest text-slate-400 mb-3",children:"How to Install"}),O?e.jsxs("ol",{className:"text-sm text-slate-600 dark:text-slate-300 space-y-3 font-medium",children:[e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"w-5 h-5 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-[10px] shrink-0",children:"1"}),e.jsxs("span",{children:["Tap the ",e.jsx("strong",{className:"text-indigo-500",children:"Share"})," button in Safari."]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"w-5 h-5 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-[10px] shrink-0",children:"2"}),e.jsxs("span",{children:["Select ",e.jsx("strong",{className:"text-indigo-500",children:"Add to Home Screen"}),"."]})]})]}):e.jsxs("ol",{className:"text-sm text-slate-600 dark:text-slate-300 space-y-3 font-medium",children:[e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"w-5 h-5 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-[10px] shrink-0",children:"1"}),e.jsxs("span",{children:["Tap the ",e.jsx("strong",{className:"text-indigo-500",children:"Three Dots"})," in Chrome."]})]}),e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"w-5 h-5 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-[10px] shrink-0",children:"2"}),e.jsxs("span",{children:["Select ",e.jsx("strong",{className:"text-indigo-500",children:"Install App"}),"."]})]})]})]})]}),e.jsx(b,{variant:"primary",onClick:()=>m(!1),label:"Got it",iconOnly:!1,fullWidth:!0,className:"mt-8 py-4"})]})]})})]}),children:e.jsxs(K,{children:[e.jsx("div",{className:"px-4 mb-8",children:e.jsxs("div",{className:"bg-white dark:bg-[#1C1C1E] rounded-3xl p-6 border border-slate-200/50 dark:border-white/5 shadow-sm relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary-500/5 blur-3xl rounded-full translate-x-10 -translate-y-10 group-hover:scale-110 transition-transform duration-700"}),e.jsxs("div",{className:"flex items-center gap-5 relative z-10",children:[e.jsx("div",{className:"w-20 h-20 rounded-[24px] bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-2xl font-bold text-slate-400 dark:text-slate-500 overflow-hidden shrink-0 border border-slate-200 dark:border-white/10 shadow-sm",children:n?.photoURL?e.jsx("img",{src:n.photoURL,alt:n?.displayName,className:"w-full h-full object-cover"}):e.jsx("span",{className:"uppercase",children:n?.displayName?.[0]||"U"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-[20px] font-bold text-slate-900 dark:text-white leading-tight truncate",children:n?.displayName||"User"}),e.jsxs("div",{className:"mt-1 flex flex-col",children:[e.jsx("span",{className:"text-[12px] font-bold text-primary-600 dark:text-primary-400 uppercase tracking-wider",children:P}),e.jsx("span",{className:"text-[14px] text-slate-500 dark:text-slate-400 truncate mt-0.5",children:n?.email})]})]}),e.jsx(v,{onClick:()=>a("/profile"),scaleDown:.9,className:"w-10 h-10 rounded-full flex items-center justify-center bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 border border-slate-200/50 dark:border-white/5",children:e.jsx(Q,{className:"w-5 h-5"})})]})]})}),e.jsxs(r,{title:"Appearance",children:[e.jsx(s,{icon:l==="dark"?W:l==="light"?X:Z,title:"Theme",subtitle:l.charAt(0).toUpperCase()+l.slice(1),rightElement:e.jsxs("select",{value:l,onChange:t=>y(t.target.value),className:"appearance-none bg-slate-100 dark:bg-slate-800 text-[14px] font-semibold text-slate-700 dark:text-white px-3 py-1.5 rounded-lg outline-none cursor-pointer max-w-[120px]",onClick:t=>t.stopPropagation(),children:[e.jsx("option",{value:"light",children:"Light"}),e.jsx("option",{value:"dark",children:"Dark"}),e.jsx("option",{value:"system",children:"System"})]})}),e.jsx(s,{icon:_,title:"Language",subtitle:i.language==="en"?"English":i.language==="ar"?"Arabic":"Regional",rightElement:e.jsxs("select",{value:i.language,onChange:t=>x("language",t.target.value),className:"appearance-none bg-slate-100 dark:bg-slate-800 text-[14px] font-semibold text-slate-700 dark:text-white px-3 py-1.5 rounded-lg outline-none cursor-pointer",onClick:t=>t.stopPropagation(),children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"ar",children:"العربية"}),e.jsx("option",{value:"kn",children:"ಕನ್ನಡ"}),e.jsx("option",{value:"ml",children:"മലയാളಂ"})]})}),e.jsx(s,{icon:z,title:"Time Format",isLast:!0,rightElement:e.jsxs("select",{value:i.timeFormat,onChange:t=>x("timeFormat",t.target.value),className:"appearance-none bg-slate-100 dark:bg-slate-800 text-[14px] font-semibold text-slate-700 dark:text-white px-3 py-1.5 rounded-lg outline-none cursor-pointer",onClick:t=>t.stopPropagation(),children:[e.jsx("option",{value:"12h",children:"12-hour"}),e.jsx("option",{value:"24h",children:"24-hour"})]})})]}),e.jsxs(r,{title:"Notifications",children:[e.jsx(s,{icon:ee,title:"Global Notifications",subtitle:"All alerts and reminders",rightElement:e.jsx(c,{checked:i.notifications?.global,onChange:()=>o("global")})}),e.jsx(s,{icon:B,title:"Ramadan Alerts",rightElement:e.jsx(c,{checked:i.notifications?.ramadan,onChange:()=>o("ramadan")})}),e.jsx(s,{icon:te,title:"Finance Reminders",rightElement:e.jsx(c,{checked:i.notifications?.finance,onChange:()=>o("finance")})}),e.jsx(s,{icon:V,title:"Vehicle Maintenance",isLast:!0,rightElement:e.jsx(c,{checked:i.notifications?.vehicle,onChange:()=>o("vehicle")})})]}),e.jsxs(r,{title:"Security & Data",children:[e.jsx(s,{icon:ae,title:"Update Password",onClick:()=>a("/profile")}),e.jsx(s,{icon:se,title:"Export All Data",subtitle:"JSON summary",onClick:()=>a("/profile"),isLast:!0})]}),e.jsxs(r,{title:"Mobile App",children:[e.jsx(s,{icon:p,title:"PWA Status",subtitle:f?"Running as standalone App":"Running in browser",rightElement:f?e.jsx("span",{className:"text-[10px] font-black text-emerald-500 bg-emerald-500/10 px-2.5 py-1 rounded-full border border-emerald-500/20",children:"Standlone"}):e.jsx(b,{variant:"primary",onClick:()=>m(!0),label:"Install Now",iconOnly:!1,size:"sm",className:"text-[11px] font-bold px-3 py-1.5"})}),e.jsx(s,{icon:J,title:"App Version",subtitle:"v1.3.0 (Stable)"}),e.jsx(s,{icon:p,title:"Device Info",isLast:!0,subtitle:navigator.platform})]}),e.jsxs(r,{title:"Actions",children:[e.jsx(s,{icon:Y,title:"Reset Local Cache",isDanger:!0,onClick:()=>g(!0)}),e.jsx(s,{icon:ne,title:"Sign Out",isDanger:!0,isLast:!0,onClick:()=>u(!0)})]}),e.jsx("p",{className:"text-center text-[12px] text-slate-400 dark:text-slate-600 mt-2 font-medium tracking-tight",children:"HUMI AWAKE • BUILD 88AF2"})]})})};export{fe as default};
