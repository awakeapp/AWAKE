import{j as e,U as h,a0 as p,E as S,r as c}from"./index-DgPxFht0.js";import{S as b}from"./square-check-big-CjtHy18m.js";import{S as w}from"./square-CRS1Gj_0.js";function d(...s){return p(S(s))}function k({count:s,onCancel:t,onSelectAll:n,isAllSelected:r,actions:l=[],className:m}){return s===0?null:e.jsxs("div",{className:d("fixed top-0 left-0 right-0 z-[150] w-full px-4 flex items-center justify-between","bg-blue-600 text-white shadow-lg",m),style:{paddingTop:"env(safe-area-inset-top, 0px)",height:"calc(60px + env(safe-area-inset-top, 0px))"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{variant:"exit",onClick:t,className:"p-2 -ml-2 bg-transparent text-white hover:bg-white/10",size:"sm"}),e.jsxs("span",{className:"text-lg font-semibold",children:[s," Selected"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(h,{variant:"ghost",onClick:n,label:r?"Deselect All":"Select All",iconOnly:!1,className:"bg-transparent text-white hover:bg-white/10",size:"sm",children:[r?e.jsx(b,{className:"w-5 h-5 mr-2"}):e.jsx(w,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:r?"Deselect All":"Select All"})]}),e.jsx("div",{className:"h-6 w-px bg-white/20 mx-2"}),l.map((i,x)=>e.jsx("button",{onClick:i.onClick,title:i.label,className:d("p-2 rounded-xl hover:bg-white/10 transition-colors active:scale-95",i.variant==="danger"&&"text-red-200 hover:bg-red-500/20"),children:i.icon||e.jsx("span",{className:"text-sm font-medium",children:i.label})},x))]})]})}const C=(s=[])=>{const[t,n]=c.useState(new Set),[r,l]=c.useState(!1),m=c.useCallback(a=>{n(g=>{const o=new Set(g);return o.has(a)?o.delete(a):o.add(a),o.size===0&&l(!1),o})},[]),i=c.useCallback(a=>{l(!0),a&&n(new Set([a]))},[]),x=c.useCallback(()=>{l(!1),n(new Set)},[]),u=c.useCallback(()=>{t.size===s.length?(n(new Set),l(!1)):(n(new Set(s)),l(!0))},[s,t.size]),f=c.useCallback(a=>t.has(a),[t]);return{isSelectionMode:r,setIsSelectionMode:l,selectedIds:Array.from(t),toggleSelection:m,enterSelectionMode:i,exitSelectionMode:x,toggleSelectAll:u,isSelected:f,count:t.size,isAllSelected:s.length>0&&t.size===s.length}};export{k as S,C as u};
