import{w as F,r as b,j as e,A as G,m as M,e as H,k as O,o as P,x as _,n as B,p as R,h as L,y as K,I as V,q as W,t as J,v as Q}from"./index-CQMCZ835.js";import{T as U,a as Y}from"./trophy-CBxjL3w5.js";import{F as X}from"./flame-Cu-n3cOR.js";const Z=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],ee=F("quote",Z),j=[{id:1,quote:"The only way to do great work is to love what you do.",author:"Steve Jobs",bg:"bg-gradient-to-br from-orange-100 to-amber-200 dark:from-orange-900/30 dark:to-amber-900/30",text:"text-amber-900 dark:text-amber-100",accent:"bg-amber-500"},{id:2,quote:"Success is not final, failure is not fatal: it is the courage to continue that counts.",author:"Winston Churchill",bg:"bg-gradient-to-bl from-blue-100 to-indigo-200 dark:from-blue-900/30 dark:to-indigo-900/30",text:"text-indigo-900 dark:text-indigo-100",accent:"bg-indigo-500"},{id:3,quote:"Discipline is doing what needs to be done, even if you don't want to do it.",author:"Unknown",bg:"bg-gradient-to-tr from-emerald-100 to-teal-200 dark:from-emerald-900/30 dark:to-teal-900/30",text:"text-teal-900 dark:text-teal-100",accent:"bg-teal-500"},{id:4,quote:"Your future is created by what you do today, not tomorrow.",author:"Robert Kiyosaki",bg:"bg-gradient-to-tl from-rose-100 to-pink-200 dark:from-rose-900/30 dark:to-pink-900/30",text:"text-rose-900 dark:text-rose-100",accent:"bg-rose-500"},{id:5,quote:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson",bg:"bg-gradient-to-r from-violet-100 to-purple-200 dark:from-violet-900/30 dark:to-purple-900/30",text:"text-purple-900 dark:text-purple-100",accent:"bg-purple-500"}],te=()=>{const[o,i]=b.useState(0);b.useEffect(()=>{const m=setInterval(()=>{i(r=>(r+1)%j.length)},8e3);return()=>clearInterval(m)},[]);const s=j[o];return e.jsxs("div",{className:"relative w-full overflow-hidden rounded-3xl shadow-sm border border-slate-100 dark:border-slate-800 h-64 sm:h-72",children:[e.jsx(G,{mode:"wait",children:e.jsxs(M.div,{initial:{opacity:0,scale:1.05},animate:{opacity:1,scale:1},exit:{opacity:0},transition:{duration:.8},className:`absolute inset-0 ${s.bg} flex flex-col items-center justify-center p-8 text-center`,children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/30 dark:bg-white/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none mix-blend-overlay"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/30 dark:bg-white/5 rounded-full blur-2xl -ml-10 -mb-10 pointer-events-none mix-blend-overlay"}),e.jsx("div",{className:"relative z-10 max-w-lg mx-auto",children:e.jsxs(M.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.6},children:[e.jsx(ee,{className:`w-8 h-8 mb-4 mx-auto opacity-50 ${s.text}`}),e.jsxs("h3",{className:`text-xl sm:text-2xl font-serif font-medium leading-relaxed mb-4 ${s.text}`,children:['"',s.quote,'"']}),e.jsx("div",{className:`w-12 h-1 rounded-full mx-auto mb-3 ${s.accent} opacity-50`}),e.jsx("p",{className:`text-xs font-bold uppercase tracking-widest opacity-70 ${s.text}`,children:s.author})]})})]},s.id)}),e.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2 z-20",children:j.map((m,r)=>e.jsx("button",{onClick:()=>i(r),className:`w-2 h-2 rounded-full transition-all duration-300 ${r===o?"bg-slate-800 dark:bg-white w-6":"bg-slate-400/50 dark:bg-white/30 hover:bg-slate-600 dark:hover:bg-white/50"}`,"aria-label":`Go to slide ${r+1}`},r))})]})},le=()=>{const{user:o}=H(),{dailyData:i}=O(),{tasks:s}=P(),{getDailySpend:m}=_(),r=B(),[f,y]=b.useState({current:0,longest:0,loading:!0});b.useEffect(()=>{if(!o)return;(async()=>{try{const d=await W.getCollection(`users/${o.uid}/days`,J("date","desc"),Q(365)),v=t=>{if(!t.tasks||t.tasks.length===0)return!1;const a=t.tasks.filter(n=>n.status==="checked").length;return Math.round(a/t.tasks.length*100)===100};let w=0,c=0;const D=new Date().toISOString().split("T")[0],C=d.find(t=>t.date===D);C&&v(C)&&(w=1);const T=t=>{const a=new Date(t);return a.setDate(a.getDate()-1),a.toISOString().split("T")[0]};let g=T(D);for(;;){const t=d.find(a=>a.date===g||a.id===g);if(t&&v(t))w++,g=T(g);else break}const x=[...d].sort((t,a)=>t.date.localeCompare(a.date));if(x.length>0){let t=new Date(x[0].date);const a=new Date(x[x.length-1].date);let n=0;for(;t<=a;){const I=t.toISOString().split("T")[0],q=x.find($=>$.date===I||$.id===I);q&&v(q)?n++:(c=Math.max(c,n),n=0),t.setDate(t.getDate()+1)}c=Math.max(c,n)}y({current:w,longest:c,loading:!1})}catch(d){console.error("Streak error:",d),y({current:0,longest:0,loading:!1})}})()},[o,i.tasks]);const p=new Date().getHours();let k="Good Morning";p>=12&&p<17?k="Good Afternoon":p>=17&&(k="Good Evening");const N=i?.tasks||[],z=N.filter(h=>h.status==="checked").length,S=N.length,l=S>0?Math.round(z/S*100):0,A=s.filter(h=>h.status!=="done").length,E=m();let u="";return l>=80&&(u="Finishing strong."),l===100&&(u="Discipline mastered."),e.jsxs("div",{className:"space-y-6 pb-24 pt-4 px-1",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white tracking-tight",children:k}),u&&e.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium mt-1",children:u})]})}),e.jsx(te,{})]}),e.jsxs("div",{onClick:()=>r("/routine"),className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-3xl p-6 shadow-sm relative overflow-hidden active:scale-[0.98] transition-all cursor-pointer group",children:[e.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-indigo-500/20 transition-all duration-1000",style:{width:`${l}%`}}),e.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:R("w-14 h-14 rounded-2xl flex items-center justify-center transition-colors shadow-sm",l===100?"bg-emerald-100 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-400":"bg-slate-100 text-indigo-600 dark:bg-slate-800 dark:text-indigo-400"),children:l===100?e.jsx(U,{className:"w-7 h-7"}):e.jsx(Y,{className:"w-7 h-7"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Daily Routine"}),e.jsxs("div",{className:"text-2xl font-bold text-slate-900 dark:text-white leading-none",children:[l,"% ",e.jsx("span",{className:"text-base font-medium text-slate-400 ml-1",children:"Done"})]})]})]}),e.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-2 rounded-full text-slate-400 group-hover:text-indigo-500 group-hover:translate-x-1 transition-all",children:e.jsx(L,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/10 border border-orange-100 dark:border-orange-900/30 rounded-2xl p-4 flex flex-col justify-between h-32",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"p-2 bg-white dark:bg-slate-900/50 rounded-xl text-orange-500 shadow-sm",children:e.jsx(X,{className:R("w-5 h-5",f.current>0&&"fill-current")})}),e.jsx("span",{className:"text-[10px] font-bold text-orange-400 uppercase tracking-wider",children:"Streak"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 leading-none mb-1",children:[f.current," ",e.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Days"})]}),e.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:["Longest: ",f.longest]})]})]}),e.jsxs("div",{onClick:()=>r("/workspace"),className:"bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 rounded-2xl p-4 flex flex-col justify-between h-32 active:scale-[0.98] transition-transform cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"p-2 bg-white dark:bg-slate-900/50 rounded-xl text-blue-500 shadow-sm",children:e.jsx(K,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-[10px] font-bold text-blue-400 uppercase tracking-wider",children:"Tasks"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 leading-none mb-1",children:[A," ",e.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Left"})]}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:"Workspace"})]})]})]}),e.jsxs("div",{onClick:()=>r("/finance"),className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-3xl p-5 shadow-sm flex items-center justify-between active:scale-[0.98] transition-all cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 rounded-xl",children:e.jsx(V,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-0.5",children:"Today's Spend"}),e.jsxs("div",{className:"text-xl font-bold text-slate-900 dark:text-white",children:["â‚¹",E.toLocaleString()]})]})]}),e.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-2 rounded-full text-slate-400",children:e.jsx(L,{className:"w-4 h-4"})})]})]})};export{le as default};
