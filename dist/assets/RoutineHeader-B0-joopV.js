import{c as ee,j as e,r as D,A as Z,m as B,X,v as W,n as K,o as ce,z as de,w as Le,W as Ne,B as ze,k as me,p as He,J as Ue,D as $e,E as Ge}from"./index-Dni63RkL.js";import{T as We,i as Q,g as ne,G as Ve}from"./TaskItem-BmhovZJU.js";import{c as ae}from"./utils-DayBekdl.js";import{A as Ye,a as qe}from"./AppCard-DpTu2wkq.js";import{r as Je}from"./index-CRWOlv-H.js";import{C as re,a as Ze}from"./clock-BJ1gEYRg.js";import{P as ke}from"./pen-Ci2c5G87.js";import{P as se}from"./plus-C4dEmhiS.js";import{T as he}from"./trash-2-MMtH6vPd.js";import{C as Ke}from"./circle-check-CFvjP0eO.js";import{C as Qe}from"./circle-alert-DjndCTas.js";import{S as Xe}from"./smartphone-CBY9Vp78.js";import{S as ye}from"./star-CUuq1UPs.js";import{T as et}from"./trending-up-CtWGxLuU.js";import{A as tt}from"./award-DlmZ_SXq.js";const at=[["path",{d:"M10 7v10.9",key:"1gynux"}],["path",{d:"M14 6.1V17",key:"116kdf"}],["path",{d:"M16 7V3a1 1 0 0 1 1.707-.707 2.5 2.5 0 0 0 2.152.717 1 1 0 0 1 1.131 1.131 2.5 2.5 0 0 0 .717 2.152A1 1 0 0 1 21 8h-4",key:"gpb6xx"}],["path",{d:"M16.536 7.465a5 5 0 0 0-7.072 0l-2 2a5 5 0 0 0 0 7.07 5 5 0 0 0 7.072 0l2-2a5 5 0 0 0 0-7.07",key:"1tsln4"}],["path",{d:"M8 17v4a1 1 0 0 1-1.707.707 2.5 2.5 0 0 0-2.152-.717 1 1 0 0 1-1.131-1.131 2.5 2.5 0 0 0-.717-2.152A1 1 0 0 1 3 16h4",key:"qexcha"}]],st=ee("candy",at);const rt=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nt=ee("lock",rt);const it=[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]],lt=ee("pizza",it);const ot=[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]],dt=ee("salad",ot);const ct=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],mt=ee("toggle-left",ct),At=({title:T,tasks:m,onUpdateStatus:l,isLocked:n})=>{if(!m||m.length===0)return null;const d=()=>{switch(T){case"EARLY MORNING":return"bg-indigo-500";case"BEFORE NOON":return"bg-blue-500";case"AFTER NOON":return"bg-amber-400";case"EVE/NIGHT":case"NIGHT":return"bg-indigo-900";default:return"bg-slate-500"}},p=m.filter(M=>M.status==="checked").length,x=m.length;return e.jsxs("section",{className:`mb-4 transition-all duration-300 ${n?"opacity-70 grayscale-[0.5] pointer-events-none":""}`,children:[e.jsxs("div",{className:"w-full flex items-center justify-between px-4 py-3 rounded bg-white dark:bg-slate-900 shadow-sm ring-1 ring-slate-900/5 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:ae("w-1.5 h-6 rounded-full",d())}),e.jsx("div",{className:"text-left",children:e.jsx("h3",{className:"text-[11px] font-bold text-slate-700 dark:text-slate-200 uppercase tracking-widest",children:T})})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:[p,"/",x]})})]}),e.jsx("div",{className:"overflow-hidden mt-2",children:e.jsx("div",{className:"grid gap-3 px-1 pb-4",children:m.map(M=>e.jsx(We,{task:M,onUpdateStatus:l,isLocked:n,isRoutine:!0},M.id))})})]})},ht=({isOpen:T,onClose:m,onAdd:l})=>{const[n,d]=D.useState(""),[p,x]=D.useState("toggle"),[M,j]=D.useState("hrs"),N=D.useMemo(()=>n.trim()?Q(n.trim()).icon:null,[n]),s=N?ne(N):re,i=()=>{n.trim()&&(l(n.trim(),p,M,N),f())},f=()=>{m(),setTimeout(()=>{d(""),x("toggle"),j("hrs")},300)};return Je.createPortal(e.jsx(Z,{children:T&&e.jsx(e.Fragment,{children:e.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:f,className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-end sm:items-center justify-center p-4 pb-32 sm:pb-6",style:{zIndex:9999999},children:e.jsxs(B.div,{initial:{y:100,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:100,opacity:0,scale:.95},onClick:w=>w.stopPropagation(),className:"bg-white dark:bg-slate-900 w-full max-w-md rounded shadow-md border border-slate-100 dark:border-slate-800 flex flex-col max-h-[85dvh]",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-800 shrink-0",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Add New Habit"}),e.jsx("button",{onClick:f,className:"p-2 -mr-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 rounded-full transition-colors",children:e.jsx(X,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto custom-scrollbar",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"shrink-0 w-12 h-12 rounded bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-500 border border-indigo-100 dark:border-indigo-500/30",children:e.jsx(s,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Habit Name"}),e.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:w=>d(w.target.value),placeholder:"e.g. Read Books",className:"w-full text-base font-semibold bg-transparent border-b-2 border-slate-200 dark:border-slate-800 focus:border-indigo-500 rounded-none px-0 py-1 outline-none transition-colors dark:text-white placeholder:font-normal placeholder:text-slate-300"})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Tracking Type"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>x("toggle"),className:W("p-3 rounded-xl border-2 flex flex-col items-center gap-2 transition-all duration-200",p==="toggle"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400":"border-slate-200 dark:border-slate-800 text-slate-400 hover:border-slate-300 dark:hover:border-slate-700"),children:[e.jsx(mt,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold text-xs",children:"Yes / No"})]}),e.jsxs("button",{onClick:()=>x("number"),className:W("p-3 rounded-xl border-2 flex flex-col items-center gap-2 transition-all duration-200",p==="number"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400":"border-slate-200 dark:border-slate-800 text-slate-400 hover:border-slate-300 dark:hover:border-slate-700"),children:[e.jsx(Ze,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold text-xs",children:"Time / Duration"})]})]})]}),e.jsx(Z,{children:p==="number"&&e.jsx(B.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"pt-2 pb-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Track In"}),e.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded",children:[e.jsx("button",{onClick:()=>j("hrs"),className:W("flex-1 py-1.5 text-xs font-bold rounded-md transition-all",M==="hrs"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"),children:"Hours"}),e.jsx("button",{onClick:()=>j("mins"),className:W("flex-1 py-1.5 text-xs font-bold rounded-md transition-all",M==="mins"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"),children:"Minutes"})]})]})})})]}),e.jsx("div",{className:"p-6 pt-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 shrink-0 pb-8 sm:pb-6",children:e.jsx("button",{onClick:i,disabled:!n.trim(),className:"w-full py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded font-bold text-base shadow-md hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:hover:scale-100",children:"Create Habit"})})]})})})}),document.body)},xt=({id:T,icon:m,label:l,value:n,onChange:d,onDelete:p,disabled:x,isEditing:M})=>{const{t:j}=K(),N=ne(m);return e.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-slate-50 dark:border-slate-800/50 last:border-0 group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-slate-500 dark:text-slate-400 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900/20 group-hover:text-indigo-600 transition-colors",children:e.jsx(N,{className:"w-4.5 h-4.5"})}),e.jsx("span",{className:"font-normal text-[15px] text-slate-700 dark:text-slate-300",children:l})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(Z,{mode:"wait",children:M?e.jsx(B.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:p,className:"p-2 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-950/30 rounded-full transition-colors",title:"Delete habit",children:e.jsx(he,{className:"w-4.5 h-4.5"})},"delete"):e.jsxs(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-full w-[120px] ring-1 ring-slate-200/50 dark:ring-slate-800",children:[e.jsx("button",{onClick:()=>d(!1),disabled:x,className:W("flex-1 px-3 py-1.5 text-[11px] font-bold rounded-full transition-all duration-200",n?"text-slate-400 dark:text-slate-500 hover:text-slate-600":"bg-emerald-500 text-white shadow-sm"),children:j("daily_habits.no")}),e.jsx("button",{onClick:()=>d(!0),disabled:x,className:W("flex-1 px-3 py-1.5 text-[11px] font-bold rounded-full transition-all duration-200",n?"bg-rose-500 text-white shadow-sm":"text-slate-400 dark:text-slate-500 hover:text-slate-600"),children:j("daily_habits.yes")})]},"toggle")})})]})},ut=({id:T,icon:m,label:l,value:n,unit:d,onChange:p,onDelete:x,disabled:M,isEditing:j})=>{const{t:N}=K(),s=ne(m),i=f=>d==="hrs"?f<=2?"text-emerald-500 dark:text-emerald-400":f<=4?"text-amber-500 dark:text-amber-400":"text-rose-500 dark:text-rose-400":"text-indigo-500 dark:text-indigo-400";return e.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-slate-50 dark:border-slate-800/50 last:border-0 group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-slate-500 dark:text-slate-400 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900/20 group-hover:text-indigo-600 transition-colors",children:e.jsx(s,{className:"w-4.5 h-4.5"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-normal text-[15px] text-slate-700 dark:text-slate-300",children:l}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider",children:N(d==="hrs"?"daily_habits.hours":"daily_habits.minutes")})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Z,{mode:"wait",children:j?e.jsx(B.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:x,className:"p-2 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-950/30 rounded-full transition-colors",title:"Delete habit",children:e.jsx(he,{className:"w-4.5 h-4.5"})},"delete"):e.jsxs(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative flex items-center gap-2",children:[e.jsx("input",{type:"number",min:"0",max:d==="hrs"?24:1440,step:d==="hrs"?.5:1,value:n||0,onChange:f=>p(parseFloat(f.target.value)||0),disabled:M,className:W("w-20 px-3 py-1.5 text-center font-bold text-sm bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all",i(n))}),e.jsx("span",{className:"text-[11px] font-bold text-slate-400 dark:text-slate-600 w-8",children:N(d==="hrs"?"daily_habits.hr":"daily_habits.min")})]},"input")})})]})},Ot=({habits:T,onUpdateHabit:m,isLocked:l})=>{const{t:n}=K(),{addHabit:d,deleteHabit:p}=ce(),[x,M]=D.useState(!1),[j,N]=D.useState(!1),s=(i,f,w,z)=>{d(i,f,w,z)};return e.jsxs("section",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[!l&&e.jsx("button",{onClick:()=>M(!x),className:W("p-1 rounded-full transition-colors",x?"bg-indigo-600 text-white":"text-slate-400 hover:text-indigo-600"),title:n(x?"daily_habits.finish_editing":"daily_habits.manage"),children:x?e.jsx(de,{className:"w-3.5 h-3.5"}):e.jsx(ke,{className:"w-3.5 h-3.5"})}),e.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-[0.1em] dark:text-slate-500",children:n("daily_habits.title")})]}),!l&&e.jsx("button",{onClick:()=>{N(!0),M(!1)},className:"p-1 text-slate-400 hover:text-indigo-600 transition-colors",title:n("daily_habits.add"),children:e.jsx(se,{className:"w-5 h-5"})})]}),e.jsx(Ye,{className:"border-none shadow-premium dark:bg-slate-950 overflow-visible",children:e.jsx(qe,{className:"p-4 sm:p-5",children:e.jsxs("div",{className:"space-y-1",children:[T.map(i=>i.type==="number"?e.jsx(ut,{id:i.id,icon:i.icon,label:i.label,value:i.value,unit:i.unit,onChange:f=>m(i.id,f),onDelete:()=>p(i.id),disabled:l,isEditing:x},i.id):e.jsx(xt,{id:i.id,icon:i.icon,label:i.label,value:i.value,onChange:f=>m(i.id,f),onDelete:()=>p(i.id),disabled:l,isEditing:x},i.id)),T.length===0&&e.jsxs("div",{className:"py-8 text-center bg-slate-50/50 dark:bg-slate-900/30 rounded border-2 border-dashed border-slate-100 dark:border-slate-800",children:[e.jsx("span",{className:"block text-slate-400 text-xs mb-2",children:n("daily_habits.no_habits")}),e.jsx("button",{onClick:()=>{N(!0),M(!1)},className:"text-indigo-500 font-semibold text-xs hover:underline",children:n("daily_habits.add_new")})]})]})})}),e.jsx(ht,{isOpen:j,onClose:()=>N(!1),onAdd:s})]})},pt={Pizza:lt,Candy:st,Salad:dt,CheckCircle:re,Wallet:Ne,Smartphone:Xe,GlassWater:Ve,Activity:ze},Ft=({isOpen:T,onClose:m,data:l,onConfirm:n})=>{const{t:d}=K();if(!T)return null;const p=l.tasks.length,x=l.tasks.filter(w=>w.status==="checked").length,M=l.tasks.filter(w=>w.status==="missed").length,j=p>0?Math.round(x/p*100):0,{getDailySpend:N,getWeeklySavings:s}=Le(),i=N(),f=s();return e.jsx(Z,{children:e.jsx("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center p-0 sm:p-4 bg-slate-900/20 backdrop-blur-sm",children:e.jsx(B.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:30,stiffness:300},className:"w-full sm:max-w-md bg-white/95 dark:bg-slate-950/95 backdrop-blur-3xl rounded-t-[2rem] sm:rounded-[2rem] shadow-md overflow-hidden ring-1 ring-black/5 dark:ring-white/10",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-normal text-slate-900 dark:text-white tracking-tight",children:d("day_overview.title")}),e.jsx("p",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest mt-1",children:d("day_overview.daily_recap")})]}),e.jsx("button",{onClick:m,className:"p-2 bg-slate-50 dark:bg-slate-900 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 rounded-full transition-all active:scale-95",children:e.jsx(X,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center mb-8",children:[e.jsxs("div",{className:"relative w-40 h-40 flex items-center justify-center",children:[e.jsxs("svg",{className:"absolute w-full h-full -rotate-90",children:[e.jsx("circle",{cx:"80",cy:"80",r:"72",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-slate-100 dark:text-slate-800"}),e.jsx(B.circle,{cx:"80",cy:"80",r:"72",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"452.39",initial:{strokeDashoffset:452.39},animate:{strokeDashoffset:452.39-452.39*j/100},transition:{duration:1.5,ease:"circOut"},className:"text-indigo-500",strokeLinecap:"round"})]}),e.jsx("div",{className:"text-center z-10",children:e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs("span",{className:"text-6xl font-light text-slate-900 dark:text-white tracking-tight",children:[j,e.jsx("span",{className:"text-2xl font-light text-indigo-500 ml-px",children:"%"})]})})})]}),e.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-[10px] font-medium mt-2 tracking-[0.2em] uppercase",children:d("day_overview.completion_rate")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[e.jsxs("div",{className:"bg-emerald-50/30 dark:bg-emerald-500/5 p-4 rounded flex flex-col items-center ring-1 ring-emerald-500/5 hover:bg-emerald-50/50 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-white dark:bg-emerald-500/10 rounded-full flex items-center justify-center mb-2 shadow-sm ring-1 ring-emerald-500/10",children:e.jsx(Ke,{className:"w-4 h-4 text-emerald-500"})}),e.jsx("span",{className:"text-xl font-medium text-slate-900 dark:text-white",children:x}),e.jsx("span",{className:"text-[9px] font-medium text-emerald-600/60 dark:text-emerald-500/60 uppercase tracking-widest mt-1",children:d("day_overview.completed")})]}),e.jsxs("div",{className:"bg-rose-50/30 dark:bg-rose-500/5 p-4 rounded flex flex-col items-center ring-1 ring-rose-500/5 hover:bg-rose-50/50 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-white dark:bg-rose-500/10 rounded-full flex items-center justify-center mb-2 shadow-sm ring-1 ring-rose-500/10",children:e.jsx(Qe,{className:"w-4 h-4 text-rose-500"})}),e.jsx("span",{className:"text-xl font-medium text-slate-900 dark:text-white",children:M}),e.jsx("span",{className:"text-[9px] font-medium text-rose-600/60 dark:text-rose-500/60 uppercase tracking-widest mt-1",children:d("day_overview.missed")})]})]}),e.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-900/30 rounded p-4 mb-8 flex justify-between items-center ring-1 ring-slate-200/40 dark:ring-slate-800/40",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-white dark:bg-slate-800 rounded flex items-center justify-center shadow-sm ring-1 ring-slate-100 dark:ring-slate-700",children:e.jsx(Ne,{className:"w-4 h-4 text-indigo-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-medium text-slate-400 uppercase tracking-[0.1em] mb-px",children:d("day_overview.todays_spend")}),e.jsxs("p",{className:"text-base font-medium text-slate-700 dark:text-slate-200",children:["â‚¹",i.toLocaleString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[9px] font-medium text-slate-400 uppercase tracking-[0.1em] mb-px",children:d("day_overview.weekly_save")}),e.jsxs("p",{className:W("text-base font-medium",f>=0?"text-emerald-500":"text-rose-500"),children:[f>=0?"+":"","â‚¹",f.toLocaleString()]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 px-1",children:[e.jsx("div",{className:"h-px flex-1 bg-slate-100 dark:bg-slate-800/40"}),e.jsx("h4",{className:"text-[9px] font-medium text-slate-400 uppercase tracking-[0.2em] text-center",children:d("day_overview.habit_breakdown")}),e.jsx("div",{className:"h-px flex-1 bg-slate-100 dark:bg-slate-800/40"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-y-4 gap-x-3",children:l?.habits?.map(w=>{const z=pt[w.icon]||re,H=w.type==="toggle"?!w.value:w.value>0;let C=w.label;if(w.type==="toggle")C=w.value?w.label:`${d("day_overview.no")} ${w.label.replace("?","")}`;else{const b=w.unit==="hrs"?d("daily_habits.hr"):d("daily_habits.min");C=`${w.value}${b} ${w.label}`}return e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:W("w-7 h-7 rounded-lg flex items-center justify-center shrink-0 transition-colors",H?"bg-emerald-500/5 text-emerald-500":"bg-rose-500/5 text-rose-500"),children:H?e.jsx(re,{className:"w-3.5 h-3.5 stroke-[2]"}):e.jsx(z,{className:"w-3.5 h-3.5 stroke-[2]"})}),e.jsx("div",{className:"flex flex-col min-w-0 pt-px",children:e.jsx("span",{className:W("text-xs font-normal leading-tight truncate",H?"text-slate-700 dark:text-slate-300":"text-slate-500 dark:text-slate-400"),children:C})})]},w.id)})})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs(me,{onClick:n,className:"w-full py-4 text-base font-medium rounded bg-indigo-600 hover:bg-indigo-700 text-white shadow-md shadow-indigo-500/20 flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[e.jsx(nt,{className:"w-4 h-4"}),d("day_overview.lock_save")]})})]})})})})},Rt=({isOpen:T,onClose:m,tasks:l})=>{const{t:n}=K(),[d,p]=D.useState([]),{updateAllTasks:x}=ce(),[M,j]=D.useState(!1),[N,s]=D.useState(""),[i,f]=D.useState("");D.useEffect(()=>{T&&(p([...l]),j(!1),s(""),f(""))},[T,l]);const w=(b,S,h)=>{p(_=>_.map(F=>{if(F.id!==b)return F;const U={[S]:h};if(S==="name"){const L=Q(h);U.icon=L.icon}if(S==="time"){const[L]=h.split(":").map(Number);let Y="EVE/NIGHT";L>=4&&L<9?Y="EARLY MORNING":L>=9&&L<13?Y="BEFORE NOON":L>=13&&L<17&&(Y="AFTER NOON"),U.category=Y}return{...F,...U}}))},z=b=>{p(S=>S.filter(h=>h.id!==b))},H=()=>{if(!N.trim()||!i)return;const[b]=i.split(":").map(Number);let S="EVE/NIGHT";b>=4&&b<9?S="EARLY MORNING":b>=9&&b<13?S="BEFORE NOON":b>=13&&b<17&&(S="AFTER NOON");const h={id:`task_${Date.now()}`,name:N.trim(),time:i,category:S,icon:Q(N.trim()).icon,status:"unchecked"};p(_=>{const F=[..._,h];return F.sort((U,L)=>{if(!U.time||!L.time)return 0;const Y=U.time.split(":").map(Number),te=L.time.split(":").map(Number);return Y[0]*60+Y[1]-(te[0]*60+te[1])}),F}),s(""),f(""),j(!1)},C=()=>{let b=[...d];if(N.trim()&&i){const[h]=i.split(":").map(Number);let _="EVE/NIGHT";h>=4&&h<9?_="EARLY MORNING":h>=9&&h<13?_="BEFORE NOON":h>=13&&h<17&&(_="AFTER NOON");const F={id:`task_${Date.now()}_pending`,name:N.trim(),time:i,category:_,icon:Q(N.trim()).icon,status:"unchecked"};b.push(F)}let S=b.filter(h=>h.name.trim()!==""&&h.time!=="");S=S.map(h=>{if(!h.time)return h;const[_]=h.time.split(":").map(Number);let F="EVE/NIGHT";return _>=4&&_<9?F="EARLY MORNING":_>=9&&_<13?F="BEFORE NOON":_>=13&&_<17&&(F="AFTER NOON"),{...h,category:F}}),S.sort((h,_)=>{if(!h.time||!_.time)return 0;const F=h.time.split(":").map(Number),U=_.time.split(":").map(Number);return F[0]*60+F[1]-(U[0]*60+U[1])}),x(S),m()};return T?e.jsx(Z,{children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 bg-slate-100/20 backdrop-blur-sm",children:e.jsxs(B.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{type:"spring",duration:.3,bounce:0},className:"w-full max-w-lg bg-white dark:bg-slate-950 rounded-[2rem] shadow-md shadow-slate-200/50 dark:shadow-black/50 overflow-hidden flex flex-col max-h-[75vh] ring-1 ring-slate-100 dark:ring-slate-800",children:[e.jsxs("div",{className:"pt-4 pb-3 px-4 sm:px-6 bg-indigo-600 dark:bg-slate-900 shrink-0 z-10 flex items-center justify-between shadow-sm",children:[e.jsx("h3",{className:"text-lg font-normal text-white tracking-wide",children:n("tasks.edit_routine")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{s(""),f(""),j(!0)},className:"p-1 text-indigo-100 hover:text-white transition-colors rounded-full hover:bg-white/10",title:"Add Task",children:e.jsx(se,{className:"w-6 h-6 stroke-[1.5]"})}),e.jsx("button",{onClick:m,className:"p-1 -mr-1 text-indigo-100 hover:text-white transition-colors rounded-full hover:bg-white/10",children:e.jsx(X,{className:"w-6 h-6 stroke-[1.5]"})})]})]}),e.jsxs("div",{className:"overflow-y-auto px-4 sm:px-6 py-2 flex-1 min-h-0 bg-white dark:bg-slate-950 scrollbar-hide",children:[d.length===0&&!M?e.jsxs("div",{className:"py-16 flex flex-col items-center justify-center text-center opacity-40",children:[e.jsx("p",{className:"text-slate-900 font-normal text-lg",children:n("tasks.no_tasks")}),e.jsx("p",{className:"text-slate-500 text-sm mt-1 font-normal",children:n("tasks.add_first_habit")})]}):d.map((b,S)=>e.jsxs(B.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"group flex items-center gap-3 py-2 border-b border-slate-100 dark:border-slate-800/50 last:border-0",children:[e.jsx("div",{className:"shrink-0 z-10",children:e.jsx(we,{value:b.time,onChange:h=>w(b.id,"time",h)})}),e.jsx("div",{className:"shrink-0 w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-500",children:(()=>{let h=ne(b.icon);return h?e.jsx(h,{className:"w-4 h-4"}):e.jsx(de,{className:"w-4 h-4"})})()}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("input",{type:"text",value:b.name,onChange:h=>w(b.id,"name",h.target.value),placeholder:n("tasks.task_name_placeholder"),maxLength:50,className:"w-full bg-transparent border-none p-0 text-[16px] font-normal text-slate-900 dark:text-slate-50 placeholder:text-slate-300 focus:ring-0 focus:outline-none"})}),e.jsx("button",{onClick:()=>z(b.id),className:"shrink-0 p-2 text-slate-300 hover:text-red-500 transition-colors","aria-label":"Delete",children:e.jsx(he,{className:"w-4 h-4 stroke-[1.5]"})})]},b.id)),M&&e.jsxs(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-3 py-2 border-b border-indigo-100 dark:border-indigo-900/30 bg-indigo-50/50 dark:bg-indigo-900/10 -mx-4 px-4 rounded my-1",children:[e.jsx("div",{className:"shrink-0 z-10",children:e.jsx(we,{value:i,onChange:f})}),e.jsx("div",{className:"shrink-0 w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center text-indigo-600",children:(()=>{let b=Q(N).component;return b?e.jsx(b,{className:"w-4 h-4"}):e.jsx(de,{className:"w-4 h-4"})})()}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("input",{autoFocus:!0,type:"text",value:N,onChange:b=>s(b.target.value),onKeyDown:b=>{b.key==="Enter"&&H(),b.key==="Escape"&&j(!1)},placeholder:n("tasks.type_task_name"),className:"w-full bg-transparent border-none p-0 text-[16px] font-normal text-slate-900 dark:text-white placeholder:text-slate-400 focus:ring-0 focus:outline-none"})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>j(!1),className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:e.jsx(X,{className:"w-5 h-5"})}),e.jsx("button",{onClick:H,disabled:!N.trim()||!i,className:"p-1 text-indigo-600 hover:text-indigo-700 disabled:opacity-30 disabled:cursor-not-allowed",children:e.jsx(se,{className:"w-6 h-6"})})]})]}),!M&&e.jsx("div",{className:"pt-2 pb-6",children:e.jsxs("button",{onClick:()=>{s(""),f(""),j(!0)},className:"flex items-center gap-2 text-slate-400 hover:text-indigo-600 transition-colors px-1 group",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center group-hover:bg-indigo-100 dark:group-hover:bg-indigo-900/30 transition-colors",children:e.jsx(se,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm font-normal",children:n("tasks.add_task")})]})})]}),e.jsx("div",{className:"p-4 sm:p-6 bg-white dark:bg-slate-950 shrink-0 border-t border-slate-100 dark:border-slate-800",children:e.jsx(me,{onClick:C,className:"w-full py-4 text-base font-semibold shadow-md shadow-indigo-200/50 dark:shadow-indigo-900/50 bg-indigo-600 hover:bg-indigo-700 text-white rounded hover:scale-[1.01] active:scale-[0.99] transition-all",children:n("tasks.save_routine")})})]})})}):null},we=({value:T,onChange:m})=>{const l=s=>{if(!s||typeof s!="string")return{h:"12",m:"00",p:"AM"};const[i,f]=s.split(":").map(Number),w=i>=12?"PM":"AM",z=i%12||12;return{h:String(z).padStart(2,"0"),m:String(f).padStart(2,"0"),p:w}},n=l(T),[d,p]=D.useState(n.h),[x,M]=D.useState(n.m);D.useEffect(()=>{const s=l(T);p(s.h),M(s.m)},[T]);const j=()=>{let s=parseInt(d)||12;s=Math.max(1,Math.min(12,s));let i=parseInt(x)||0;i=Math.max(0,Math.min(59,i)),n.p==="PM"&&s!==12&&(s+=12),n.p==="AM"&&s===12&&(s=0);const f=`${String(s).padStart(2,"0")}:${String(i).padStart(2,"0")}`;m(f),p(String(Math.max(1,Math.min(12,parseInt(d)||12))).padStart(2,"0")),M(String(Math.max(0,Math.min(59,parseInt(x)||0))).padStart(2,"0"))},N=()=>{let s=parseInt(d)||12;s=Math.max(1,Math.min(12,s));let i=parseInt(x)||0;i=Math.max(0,Math.min(59,i));const f=n.p==="AM"?"PM":"AM";f==="PM"&&s!==12&&(s+=12),f==="AM"&&s===12&&(s=0);const w=`${String(s).padStart(2,"0")}:${String(i).padStart(2,"0")}`;m(w)};return e.jsxs("div",{className:"flex items-center gap-1 bg-slate-50 dark:bg-slate-900/50 rounded px-2 py-2",children:[e.jsx("input",{type:"text",value:d,onChange:s=>p(s.target.value.replace(/\D/g,"").slice(0,2)),onBlur:j,onKeyDown:s=>{s.key==="Enter"&&j()},onFocus:s=>s.target.select(),className:"bg-transparent text-[15px] font-medium text-slate-900 dark:text-slate-100 outline-none text-center w-[24px] p-0 tabular-nums",placeholder:"12"}),e.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-sm font-medium select-none",children:":"}),e.jsx("input",{type:"text",value:x,onChange:s=>M(s.target.value.replace(/\D/g,"").slice(0,2)),onBlur:j,onKeyDown:s=>{s.key==="Enter"&&j()},onFocus:s=>s.target.select(),className:"bg-transparent text-[15px] font-medium text-slate-900 dark:text-slate-100 outline-none text-center w-[24px] p-0 tabular-nums",placeholder:"00"}),e.jsx("button",{onClick:N,className:"ml-px px-2 py-px text-[10px] font-semibold uppercase text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 transition-colors",children:n.p})]})};var xe={};(function T(m,l,n,d){var p=!!(m.Worker&&m.Blob&&m.Promise&&m.OffscreenCanvas&&m.OffscreenCanvasRenderingContext2D&&m.HTMLCanvasElement&&m.HTMLCanvasElement.prototype.transferControlToOffscreen&&m.URL&&m.URL.createObjectURL),x=typeof Path2D=="function"&&typeof DOMMatrix=="function",M=(function(){if(!m.OffscreenCanvas)return!1;try{var a=new OffscreenCanvas(1,1),t=a.getContext("2d");t.fillRect(0,0,1,1);var r=a.transferToImageBitmap();t.createPattern(r,"no-repeat")}catch{return!1}return!0})();function j(){}function N(a){var t=l.exports.Promise,r=t!==void 0?t:m.Promise;return typeof r=="function"?new r(a):(a(j,j),null)}var s=(function(a,t){return{transform:function(r){if(a)return r;if(t.has(r))return t.get(r);var c=new OffscreenCanvas(r.width,r.height),u=c.getContext("2d");return u.drawImage(r,0,0),t.set(r,c),c},clear:function(){t.clear()}}})(M,new Map),i=(function(){var a=Math.floor(16.666666666666668),t,r,c={},u=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(t=function(g){var v=Math.random();return c[v]=requestAnimationFrame(function o(y){u===y||u+a-1<y?(u=y,delete c[v],g()):c[v]=requestAnimationFrame(o)}),v},r=function(g){c[g]&&cancelAnimationFrame(c[g])}):(t=function(g){return setTimeout(g,a)},r=function(g){return clearTimeout(g)}),{frame:t,cancel:r}})(),f=(function(){var a,t,r={};function c(u){function g(v,o){u.postMessage({options:v||{},callback:o})}u.init=function(o){var y=o.transferControlToOffscreen();u.postMessage({canvas:y},[y])},u.fire=function(o,y,I){if(t)return g(o,null),t;var A=Math.random().toString(36).slice(2);return t=N(function(E){function O(R){R.data.callback===A&&(delete r[A],u.removeEventListener("message",O),t=null,s.clear(),I(),E())}u.addEventListener("message",O),g(o,A),r[A]=O.bind(null,{data:{callback:A}})}),t},u.reset=function(){u.postMessage({reset:!0});for(var o in r)r[o](),delete r[o]}}return function(){if(a)return a;if(!n&&p){var u=["var CONFETTI, SIZE = {}, module = {};","("+T.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{a=new Worker(URL.createObjectURL(new Blob([u])))}catch(g){return typeof console<"u"&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",g),null}c(a)}return a}})(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function z(a,t){return t?t(a):a}function H(a){return a!=null}function C(a,t,r){return z(a&&H(a[t])?a[t]:w[t],r)}function b(a){return a<0?0:Math.floor(a)}function S(a,t){return Math.floor(Math.random()*(t-a))+a}function h(a){return parseInt(a,16)}function _(a){return a.map(F)}function F(a){var t=String(a).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:h(t.substring(0,2)),g:h(t.substring(2,4)),b:h(t.substring(4,6))}}function U(a){var t=C(a,"origin",Object);return t.x=C(t,"x",Number),t.y=C(t,"y",Number),t}function L(a){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}function Y(a){var t=a.getBoundingClientRect();a.width=t.width,a.height=t.height}function te(a){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=a,t}function je(a,t,r,c,u,g,v,o,y){a.save(),a.translate(t,r),a.rotate(g),a.scale(c,u),a.arc(0,0,1,v,o,y),a.restore()}function Me(a){var t=a.angle*(Math.PI/180),r=a.spread*(Math.PI/180);return{x:a.x,y:a.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:a.startVelocity*.5+Math.random()*a.startVelocity,angle2D:-t+(.5*r-Math.random()*r),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:a.color,shape:a.shape,tick:0,totalTicks:a.ticks,decay:a.decay,drift:a.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:a.gravity*3,ovalScalar:.6,scalar:a.scalar,flat:a.flat}}function Ce(a,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var r=t.tick++/t.totalTicks,c=t.x+t.random*t.tiltCos,u=t.y+t.random*t.tiltSin,g=t.wobbleX+t.random*t.tiltCos,v=t.wobbleY+t.random*t.tiltSin;if(a.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-r)+")",a.beginPath(),x&&t.shape.type==="path"&&typeof t.shape.path=="string"&&Array.isArray(t.shape.matrix))a.fill(Ie(t.shape.path,t.shape.matrix,t.x,t.y,Math.abs(g-c)*.1,Math.abs(v-u)*.1,Math.PI/10*t.wobble));else if(t.shape.type==="bitmap"){var o=Math.PI/10*t.wobble,y=Math.abs(g-c)*.1,I=Math.abs(v-u)*.1,A=t.shape.bitmap.width*t.scalar,E=t.shape.bitmap.height*t.scalar,O=new DOMMatrix([Math.cos(o)*y,Math.sin(o)*y,-Math.sin(o)*I,Math.cos(o)*I,t.x,t.y]);O.multiplySelf(new DOMMatrix(t.shape.matrix));var R=a.createPattern(s.transform(t.shape.bitmap),"no-repeat");R.setTransform(O),a.globalAlpha=1-r,a.fillStyle=R,a.fillRect(t.x-A/2,t.y-E/2,A,E),a.globalAlpha=1}else if(t.shape==="circle")a.ellipse?a.ellipse(t.x,t.y,Math.abs(g-c)*t.ovalScalar,Math.abs(v-u)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):je(a,t.x,t.y,Math.abs(g-c)*t.ovalScalar,Math.abs(v-u)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if(t.shape==="star")for(var k=Math.PI/2*3,P=4*t.scalar,$=8*t.scalar,G=t.x,q=t.y,J=5,V=Math.PI/J;J--;)G=t.x+Math.cos(k)*$,q=t.y+Math.sin(k)*$,a.lineTo(G,q),k+=V,G=t.x+Math.cos(k)*P,q=t.y+Math.sin(k)*P,a.lineTo(G,q),k+=V;else a.moveTo(Math.floor(t.x),Math.floor(t.y)),a.lineTo(Math.floor(t.wobbleX),Math.floor(u)),a.lineTo(Math.floor(g),Math.floor(v)),a.lineTo(Math.floor(c),Math.floor(t.wobbleY));return a.closePath(),a.fill(),t.tick<t.totalTicks}function Te(a,t,r,c,u){var g=t.slice(),v=a.getContext("2d"),o,y,I=N(function(A){function E(){o=y=null,v.clearRect(0,0,c.width,c.height),s.clear(),u(),A()}function O(){n&&!(c.width===d.width&&c.height===d.height)&&(c.width=a.width=d.width,c.height=a.height=d.height),!c.width&&!c.height&&(r(a),c.width=a.width,c.height=a.height),v.clearRect(0,0,c.width,c.height),g=g.filter(function(R){return Ce(v,R)}),g.length?o=i.frame(O):E()}o=i.frame(O),y=E});return{addFettis:function(A){return g=g.concat(A),I},canvas:a,promise:I,reset:function(){o&&i.cancel(o),y&&y()}}}function ue(a,t){var r=!a,c=!!C(t||{},"resize"),u=!1,g=C(t,"disableForReducedMotion",Boolean),v=p&&!!C(t||{},"useWorker"),o=v?f():null,y=r?L:Y,I=a&&o?!!a.__confetti_initialized:!1,A=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,E;function O(k,P,$){for(var G=C(k,"particleCount",b),q=C(k,"angle",Number),J=C(k,"spread",Number),V=C(k,"startVelocity",Number),_e=C(k,"decay",Number),Ae=C(k,"gravity",Number),Oe=C(k,"drift",Number),ge=C(k,"colors",_),Fe=C(k,"ticks",Number),fe=C(k,"shapes"),Re=C(k,"scalar"),De=!!C(k,"flat"),be=U(k),ve=G,le=[],Pe=a.width*be.x,Be=a.height*be.y;ve--;)le.push(Me({x:Pe,y:Be,angle:q,spread:J,startVelocity:V,color:ge[ve%ge.length],shape:fe[S(0,fe.length)],ticks:Fe,decay:_e,gravity:Ae,drift:Oe,scalar:Re,flat:De}));return E?E.addFettis(le):(E=Te(a,le,y,P,$),E.promise)}function R(k){var P=g||C(k,"disableForReducedMotion",Boolean),$=C(k,"zIndex",Number);if(P&&A)return N(function(V){V()});r&&E?a=E.canvas:r&&!a&&(a=te($),document.body.appendChild(a)),c&&!I&&y(a);var G={width:a.width,height:a.height};o&&!I&&o.init(a),I=!0,o&&(a.__confetti_initialized=!0);function q(){if(o){var V={getBoundingClientRect:function(){if(!r)return a.getBoundingClientRect()}};y(V),o.postMessage({resize:{width:V.width,height:V.height}});return}G.width=G.height=null}function J(){E=null,c&&(u=!1,m.removeEventListener("resize",q)),r&&a&&(document.body.contains(a)&&document.body.removeChild(a),a=null,I=!1)}return c&&!u&&(u=!0,m.addEventListener("resize",q,!1)),o?o.fire(k,G,J):O(k,G,J)}return R.reset=function(){o&&o.reset(),E&&E.reset()},R}var ie;function pe(){return ie||(ie=ue(null,{useWorker:!0,resize:!0})),ie}function Ie(a,t,r,c,u,g,v){var o=new Path2D(a),y=new Path2D;y.addPath(o,new DOMMatrix(t));var I=new Path2D;return I.addPath(y,new DOMMatrix([Math.cos(v)*u,Math.sin(v)*u,-Math.sin(v)*g,Math.cos(v)*g,r,c])),I}function Ee(a){if(!x)throw new Error("path confetti are not supported in this browser");var t,r;typeof a=="string"?t=a:(t=a.path,r=a.matrix);var c=new Path2D(t),u=document.createElement("canvas"),g=u.getContext("2d");if(!r){for(var v=1e3,o=v,y=v,I=0,A=0,E,O,R=0;R<v;R+=2)for(var k=0;k<v;k+=2)g.isPointInPath(c,R,k,"nonzero")&&(o=Math.min(o,R),y=Math.min(y,k),I=Math.max(I,R),A=Math.max(A,k));E=I-o,O=A-y;var P=10,$=Math.min(P/E,P/O);r=[$,0,0,$,-Math.round(E/2+o)*$,-Math.round(O/2+y)*$]}return{type:"path",path:t,matrix:r}}function Se(a){var t,r=1,c="#000000",u='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof a=="string"?t=a:(t=a.text,r="scalar"in a?a.scalar:r,u="fontFamily"in a?a.fontFamily:u,c="color"in a?a.color:c);var g=10*r,v=""+g+"px "+u,o=new OffscreenCanvas(g,g),y=o.getContext("2d");y.font=v;var I=y.measureText(t),A=Math.ceil(I.actualBoundingBoxRight+I.actualBoundingBoxLeft),E=Math.ceil(I.actualBoundingBoxAscent+I.actualBoundingBoxDescent),O=2,R=I.actualBoundingBoxLeft+O,k=I.actualBoundingBoxAscent+O;A+=O+O,E+=O+O,o=new OffscreenCanvas(A,E),y=o.getContext("2d"),y.font=v,y.fillStyle=c,y.fillText(t,R,k);var P=1/r;return{type:"bitmap",bitmap:o.transferToImageBitmap(),matrix:[P,0,0,P,-A*P/2,-E*P/2]}}l.exports=function(){return pe().apply(this,arguments)},l.exports.reset=function(){pe().reset()},l.exports.create=ue,l.exports.shapeFromPath=Ee,l.exports.shapeFromText=Se})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),xe,!1);const gt=xe.exports;xe.exports.create;const oe={"EARLY MORNING":["Love your bed too much?","Sun's up, you should be too.","Snooze button is for losers.","Morning glory? More like morning sad story.","The early bird gets the worm. You get nothing."],"BEFORE NOON":["Lunch isn't earned yet.","Productivity peak? I think not.","Already slacking? It's not even 12.","Your coffee needs to be stronger.","Is this your 'focus' time?"],"AFTER NOON":["Post-lunch coma hit hard?","Afternoon slump or just lazy?","Day's wasting away...","Sun's going down, and so is your discipline.","Siesta time is over."],NIGHT:["Too tired or just quitting?","Ending the day on a low note?","Sleep is sweet, but success is sweeter.","Don't let the day win.","Night owl? More like night fail."],DEFAULT:["Giving up already? My grandma moves faster.","Oh, skipping tasks? Is that your strategy for success?","Weakness disgusts me. Try again.","I thought you said you wanted to change?","Pathetic. Just click it done next time.","Do you need a participation trophy for skipping?","Your future self is disappointed in you.","Discipline is hard, isn't it? clearly too hard for you."]},Dt=({isOpen:T,onClose:m,type:l="success",category:n})=>{D.useEffect(()=>{T&&l==="success"&&gt({particleCount:100,spread:70,origin:{y:.6}})},[T,l]);const p=l==="troll"?(()=>{if(!n)return oe.DEFAULT[0];const x=oe[n]||oe.DEFAULT;return x[Math.floor(Math.random()*x.length)]})():null;return e.jsx(Z,{children:T&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",children:e.jsxs(B.div,{initial:{scale:.5,opacity:0,rotate:l==="troll"?-5:0},animate:{scale:1,opacity:1,rotate:0},exit:{scale:.8,opacity:0},className:"w-full max-w-sm bg-white rounded shadow-md overflow-hidden relative",children:[e.jsxs("div",{className:`h-40 flex items-center justify-center relative overflow-hidden ${l==="success"?"bg-gradient-to-br from-indigo-500 to-purple-600":"bg-gradient-to-br from-purple-500 to-pink-600"}`,children:[e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx(ye,{className:"absolute top-4 left-4 w-8 h-8 text-white rotate-12"}),e.jsx(ye,{className:"absolute bottom-4 right-8 w-6 h-6 text-white -rotate-12"}),e.jsx(et,{className:"absolute top-8 right-6 w-10 h-10 text-white"})]}),e.jsx(B.div,{className:"relative z-10",initial:l==="troll"?{y:10}:{scale:.8},animate:l==="troll"?{y:0}:{scale:1},children:l==="success"?e.jsx("div",{className:"bg-white/20 p-4 rounded-full backdrop-blur-md shadow-md",children:e.jsx(tt,{className:"w-16 h-16 text-white"})}):e.jsx("div",{className:"bg-white/10 p-2 rounded backdrop-blur-sm transform rotate-3",children:e.jsx("img",{src:"/funny_troll_cat.png",alt:"Judging Cat",className:"w-24 h-24 object-contain drop-shadow-md transform -rotate-6",onError:x=>{x.target.onerror=null,x.target.style.display="none",x.target.parentNode.innerHTML='<span style="font-size:3rem">ðŸ˜¿</span>'}})})}),e.jsx("button",{onClick:m,className:"absolute top-3 right-3 p-1 hover:bg-white/20 rounded-full text-white/80 transition-colors",children:e.jsx(X,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("h2",{className:`text-2xl font-black mb-2 uppercase tracking-wide ${l==="success"?"text-slate-900":"text-purple-600"}`,children:l==="success"?"Great Job!":"UH OH..."}),l==="success"?e.jsxs("p",{className:"text-slate-600 mb-6 leading-relaxed",children:["You've completed all tasks in ",e.jsx("span",{className:"font-bold text-indigo-600",children:n}),". Keep up the momentum!"]}):e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-lg font-bold text-slate-800 mb-2 leading-tight",children:['"',p,'"']}),e.jsxs("p",{className:"text-xs text-purple-400 uppercase tracking-widest font-semibold mt-3",children:["Failed at ",n]})]}),e.jsx(me,{onClick:m,className:`w-full justify-center text-lg h-12 shadow-md ${l==="success"?"bg-indigo-600 hover:bg-indigo-700 shadow-indigo-200":"bg-purple-600 hover:bg-purple-700 shadow-purple-200"}`,children:l==="success"?"Keep Going":"I'll Do Better"})]})]})})})},Pt=({onEditClick:T,isLocked:m})=>{const{t:l,i18n:n}=K(),{currentDate:d,isToday:p,prevDay:x,nextDay:M,jumpToToday:j,setDate:N}=He(),{dailyData:s}=ce(),[i,f]=D.useState(!1),w=n.language||"en-US",z=new Intl.DateTimeFormat(w,{weekday:"short"}).format(d).toUpperCase(),H=new Intl.DateTimeFormat(w,{month:"short",day:"numeric"}).format(d).toUpperCase(),C=s?.tasks||[],b=C.filter(_=>_.status==="checked").length,S=C.length,h=S>0?Math.round(b/S*100):0;return e.jsxs(e.Fragment,{children:[e.jsx(Ue,{isOpen:i,onClose:()=>f(!1)}),e.jsxs("div",{className:"rounded-[1.25rem] overflow-hidden bg-slate-900 dark:bg-slate-900 border border-slate-800 shadow-md",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 cursor-pointer min-w-0",onClick:()=>f(!0),children:[e.jsx("span",{className:ae("w-2.5 h-2.5 rounded-full shrink-0",p?"bg-sky-400 shadow-[0_0_8px_3px_rgba(56,189,248,0.25)] animate-pulse":"bg-slate-600")}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-base font-bold tracking-wider text-indigo-400 leading-none",children:p?l("date.today_caps"):z}),e.jsx("div",{className:"text-[11px] font-semibold text-slate-500 tracking-widest mt-2 leading-none uppercase",children:H})]})]}),e.jsx("div",{className:"w-px h-10 bg-slate-700/50 shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-baseline justify-between mb-2",children:[e.jsxs("span",{className:"text-xs font-medium text-slate-400",children:[b," / ",S," ",l("home.done","done")]}),e.jsxs("span",{className:"text-xs font-bold text-slate-300",children:[h,"%"]})]}),e.jsx("div",{className:"h-2 rounded-full bg-slate-800 overflow-hidden",children:e.jsx("div",{className:ae("h-full rounded-full transition-all duration-700 ease-out",h===100?"bg-emerald-500":h>=60?"bg-indigo-500":"bg-sky-500"),style:{width:`${h}%`}})})]}),e.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[e.jsx("button",{onClick:x,className:"w-9 h-9 flex items-center justify-center rounded text-slate-400 hover:text-white hover:bg-slate-800 transition-all active:scale-90",children:e.jsx($e,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>{p?f(!0):j()},className:ae("px-3 py-2 text-[10px] font-bold uppercase tracking-[0.15em] rounded transition-all active:scale-95",p?"text-slate-500 bg-slate-800 border border-slate-700":"text-white bg-indigo-600 hover:bg-indigo-500 shadow-sm shadow-indigo-500/20"),children:p?l("date.jump_caps","JUMP"):l("date.today","TODAY")}),e.jsx("button",{onClick:M,disabled:p,className:"w-9 h-9 flex items-center justify-center rounded text-slate-400 hover:text-white hover:bg-slate-800 transition-all active:scale-90 disabled:opacity-20 disabled:cursor-default",children:e.jsx(Ge,{className:"w-5 h-5"})}),!m&&T&&e.jsx("button",{onClick:T,className:"w-9 h-9 flex items-center justify-center rounded text-slate-400 hover:text-indigo-400 hover:bg-slate-800 transition-all ml-1",title:"Edit routines",children:e.jsx(ke,{className:"w-4 h-4"})})]})]}),!p&&e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-indigo-950/50 border-t border-slate-800/60 text-[10px]",children:[e.jsxs("span",{className:"font-semibold text-indigo-300 tracking-wider",children:["VIEWING ",H]}),e.jsx("button",{onClick:j,className:"text-slate-500 hover:text-indigo-400 transition-colors",children:"tap TODAY to return â†’"})]})]})]})};export{Ot as D,nt as L,Pt as R,Rt as T,Dt as U,At as a,Ft as b};
