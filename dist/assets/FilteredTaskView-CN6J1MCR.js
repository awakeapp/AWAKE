import{ao as g,ap as D,af as j,ai as w,aq as y,q as T,r as m,j as s,ah as p,ab as u,K as v}from"./index-Dni63RkL.js";import{T as x}from"./TaskItem-BmhovZJU.js";import{C as M}from"./circle-alert-DjndCTas.js";import{S as C}from"./star-CUuq1UPs.js";import{a as A}from"./clock-BJ1gEYRg.js";import"./sun-dtd1KfjJ.js";import"./book-open--PJZsoqD.js";import"./bike-CjfyugEC.js";import"./trash-2-MMtH6vPd.js";import"./chevron-down-C8rsnSas.js";import"./chevron-up-DVJoFCMo.js";import"./subMonths-ypCLOBVC.js";import"./isSameMonth-EKRYgKGW.js";function k(a){return g(a,Date.now())}function f(a){return+D(a)<Date.now()}function h(a,n){return j(g(a,a),k(a))}function E(a,n){return j(a,w(k(a),1),n)}const Q=()=>{const{filterType:a}=y(),{tasks:n,toggleTask:i,deleteTask:I,updateTask:H,rescheduleTask:O}=T(),o=m.useMemo(()=>{let t=[...n];switch(a){case"important":return t.filter(e=>e.priority==="High"&&!e.isCompleted&&e.status!=="completed").sort((e,r)=>new Date(e.date)-new Date(r.date));case"recent":return t.sort((e,r)=>r.createdAt-e.createdAt).slice(0,20);default:return t.filter(e=>!e.isCompleted&&e.status==="pending").sort((e,r)=>new Date(e.date)-new Date(r.date))}},[n,a]),c=m.useMemo(()=>{if(a!=="all"&&a!==void 0)return null;const t={};return o.forEach(e=>{const r=e.date||"No Date";t[r]||(t[r]=[]),t[r].push(e)}),Object.entries(t).sort(([e],[r])=>e.localeCompare(r))},[o,a]),b=t=>{if(t==="No Date")return"No Date";try{const e=new Date(t+"T00:00:00");return h(e)?"Today":E(e)?"Tomorrow":f(p(e))?`Overdue Â· ${u(e,"MMM d")}`:u(e,"EEE, MMM d")}catch{return t}},d=t=>{try{const e=new Date(t+"T00:00:00");return f(p(e))&&!h(e)}catch{return!1}},l=a==="important"?{title:"Important Tasks",icon:C,color:"text-yellow-500"}:a==="recent"?{title:"Recently Added",icon:A,color:"text-blue-500"}:{title:"All Active Tasks",icon:v,color:"text-indigo-500"},N=l.icon;return s.jsxs("div",{className:"space-y-6 pb-24",children:[s.jsxs("div",{className:"flex items-center gap-3 border-b border-slate-100 dark:border-slate-800 pb-4",children:[s.jsx("div",{className:`p-2 rounded-lg bg-slate-50 dark:bg-slate-800 ${l.color}`,children:s.jsx(N,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:l.title}),s.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:[o.length," pending task",o.length!==1?"s":""]})]})]}),o.length===0?s.jsx("div",{className:"text-center py-12 border border-dashed border-slate-200 dark:border-slate-800 rounded",children:s.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"No pending tasks. You're all caught up! ðŸŽ‰"})}):c?s.jsx("div",{className:"space-y-6",children:c.map(([t,e])=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d(t)&&s.jsx(M,{className:"w-3.5 h-3.5 text-rose-400 flex-shrink-0"}),s.jsx("span",{className:`text-xs font-bold uppercase tracking-widest ${d(t)?"text-rose-400":"text-slate-400 dark:text-slate-500"}`,children:b(t)}),s.jsx("div",{className:"h-px flex-1 bg-slate-100 dark:bg-slate-800"}),s.jsx("span",{className:"text-[10px] text-slate-400 dark:text-slate-600 font-medium",children:e.length})]}),s.jsx("div",{className:"space-y-2",children:e.map(r=>s.jsx(x,{task:r,onUpdateStatus:i,isLocked:!1},r.id))})]},t))}):s.jsx("div",{className:"space-y-3",children:o.map(t=>s.jsx(x,{task:t,onUpdateStatus:i,isLocked:!1},t.id))})]})};export{Q as default};
