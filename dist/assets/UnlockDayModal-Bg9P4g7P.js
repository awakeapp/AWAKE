import{q as K,j as e,g as ie,m as P,r as F,A as Y,X as Z,o as U,C as Be,i as ve,t as Le,W as ye,B as ae,k as He,R as ze,J as _e,v as Ue,w as $e}from"./index-D2dhrI06.js";import{T as Ge,i as Q,g as se,G as We}from"./TaskItem-9twELoyT.js";import{C as Ve,c as Ye}from"./Card-CZNk89y4.js";import{r as qe}from"./index-DOiIOaCS.js";import{C as te}from"./circle-check-big-DwTlzGT_.js";import{C as oe}from"./check-BSWKSJBS.js";import{P as Je,a as Ze}from"./pen-HTFr2WeX.js";import{P as ee}from"./plus-D4_9nUSd.js";import{T as de}from"./trash-2-CDmjoKQg.js";import{C as Ke}from"./circle-check-D4fhTVqY.js";import{C as Qe}from"./circle-alert-BoN1vF-0.js";import{S as Xe}from"./smartphone-Jpt8U-Ze.js";import{S as fe}from"./star-ChOtgXYO.js";import{T as et}from"./trending-up-D5-Ts_9U.js";import{A as tt}from"./award-C14t_Rxa.js";import{I as at}from"./Input-CdaVv_Ia.js";const st=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],rt=K("activity",st);const nt=[["path",{d:"M10 7v10.9",key:"1gynux"}],["path",{d:"M14 6.1V17",key:"116kdf"}],["path",{d:"M16 7V3a1 1 0 0 1 1.707-.707 2.5 2.5 0 0 0 2.152.717 1 1 0 0 1 1.131 1.131 2.5 2.5 0 0 0 .717 2.152A1 1 0 0 1 21 8h-4",key:"gpb6xx"}],["path",{d:"M16.536 7.465a5 5 0 0 0-7.072 0l-2 2a5 5 0 0 0 0 7.07 5 5 0 0 0 7.072 0l2-2a5 5 0 0 0 0-7.07",key:"1tsln4"}],["path",{d:"M8 17v4a1 1 0 0 1-1.707.707 2.5 2.5 0 0 0-2.152-.717 1 1 0 0 1-1.131-1.131 2.5 2.5 0 0 0-.717-2.152A1 1 0 0 1 3 16h4",key:"qexcha"}]],lt=K("candy",nt);const it=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],ot=K("lock-open",it);const dt=[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]],ct=K("pizza",dt);const mt=[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]],ht=K("salad",mt);const xt=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ut=K("toggle-left",xt),Pt=({title:j,tasks:d,onUpdateStatus:l,isLocked:c})=>{if(!d||d.length===0)return null;const m=()=>{switch(j){case"EARLY MORNING":return"bg-indigo-500";case"BEFORE NOON":return"bg-blue-500";case"AFTER NOON":return"bg-amber-400";case"EVE/NIGHT":case"NIGHT":return"bg-indigo-900";default:return"bg-slate-500"}},b={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},u=d.filter(x=>x.status==="checked").length,k=d.length;return e.jsxs("section",{className:`mb-4 transition-all duration-300 ${c?"opacity-70 grayscale-[0.5] pointer-events-none":""}`,children:[e.jsxs("div",{className:"w-full flex items-center justify-between px-4 py-3 rounded-2xl bg-white dark:bg-slate-900 shadow-sm ring-1 ring-slate-900/5 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:ie("w-1.5 h-6 rounded-full",m())}),e.jsx("div",{className:"text-left",children:e.jsx("h3",{className:"text-[11px] font-bold text-slate-700 dark:text-slate-200 uppercase tracking-widest",children:j})})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded-md",children:[u,"/",k]})})]}),e.jsx("div",{className:"overflow-hidden mt-2",children:e.jsx(P.div,{className:"grid gap-3 px-1 pb-4",variants:b,initial:"hidden",animate:"show",children:d.map(x=>e.jsx(Ge,{task:x,onUpdateStatus:l,isLocked:c,isRoutine:!0},x.id))})})]})},pt=({isOpen:j,onClose:d,onAdd:l})=>{const[c,m]=F.useState(""),[b,u]=F.useState("toggle"),[k,x]=F.useState("hrs"),T=F.useMemo(()=>c.trim()?Q(c.trim()).icon:null,[c]),s=T?se(T):te,h=()=>{c.trim()&&(l(c.trim(),b,k,T),f())},f=()=>{d(),setTimeout(()=>{m(""),u("toggle"),x("hrs")},300)};return qe.createPortal(e.jsx(Y,{children:j&&e.jsx(e.Fragment,{children:e.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:f,className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-end sm:items-center justify-center p-4 pb-32 sm:pb-6",style:{zIndex:9999999},children:e.jsxs(P.div,{initial:{y:100,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:100,opacity:0,scale:.95},onClick:D=>D.stopPropagation(),className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-3xl shadow-2xl border border-slate-100 dark:border-slate-800 flex flex-col max-h-[85dvh]",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-800 shrink-0",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Add New Habit"}),e.jsx("button",{onClick:f,className:"p-2 -mr-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 rounded-full transition-colors",children:e.jsx(Z,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto custom-scrollbar",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"shrink-0 w-12 h-12 rounded-xl bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-500 border border-indigo-100 dark:border-indigo-500/30",children:e.jsx(s,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Habit Name"}),e.jsx("input",{autoFocus:!0,type:"text",value:c,onChange:D=>m(D.target.value),placeholder:"e.g. Read Books",className:"w-full text-base font-semibold bg-transparent border-b-2 border-slate-200 dark:border-slate-800 focus:border-indigo-500 rounded-none px-0 py-1 outline-none transition-colors dark:text-white placeholder:font-normal placeholder:text-slate-300"})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Tracking Type"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>u("toggle"),className:U("p-3 rounded-xl border-2 flex flex-col items-center gap-2 transition-all duration-200",b==="toggle"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400":"border-slate-200 dark:border-slate-800 text-slate-400 hover:border-slate-300 dark:hover:border-slate-700"),children:[e.jsx(ut,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold text-xs",children:"Yes / No"})]}),e.jsxs("button",{onClick:()=>u("number"),className:U("p-3 rounded-xl border-2 flex flex-col items-center gap-2 transition-all duration-200",b==="number"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400":"border-slate-200 dark:border-slate-800 text-slate-400 hover:border-slate-300 dark:hover:border-slate-700"),children:[e.jsx(Be,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold text-xs",children:"Time / Duration"})]})]})]}),e.jsx(Y,{children:b==="number"&&e.jsx(P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"pt-2 pb-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Track In"}),e.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-lg",children:[e.jsx("button",{onClick:()=>x("hrs"),className:U("flex-1 py-1.5 text-xs font-bold rounded-md transition-all",k==="hrs"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"),children:"Hours"}),e.jsx("button",{onClick:()=>x("mins"),className:U("flex-1 py-1.5 text-xs font-bold rounded-md transition-all",k==="mins"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"),children:"Minutes"})]})]})})})]}),e.jsx("div",{className:"p-6 pt-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 shrink-0 pb-10 sm:pb-6",children:e.jsx("button",{onClick:h,disabled:!c.trim(),className:"w-full py-3.5 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold text-base shadow-lg hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:hover:scale-100",children:"Create Habit"})})]})})})}),document.body)},gt=({id:j,icon:d,label:l,value:c,onChange:m,onDelete:b,disabled:u,isEditing:k})=>{const x=se(d);return e.jsxs("div",{className:"flex items-center justify-between py-3.5 border-b border-slate-50 dark:border-slate-800/50 last:border-0 group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-slate-500 dark:text-slate-400 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900/20 group-hover:text-indigo-600 transition-colors",children:e.jsx(x,{className:"w-4.5 h-4.5"})}),e.jsx("span",{className:"font-normal text-[15px] text-slate-700 dark:text-slate-300",children:l})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(Y,{mode:"wait",children:k?e.jsx(P.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:b,className:"p-1.5 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-950/30 rounded-full transition-colors",title:"Delete habit",children:e.jsx(de,{className:"w-4.5 h-4.5"})},"delete"):e.jsxs(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-full w-[120px] ring-1 ring-slate-200/50 dark:ring-slate-800",children:[e.jsx("button",{onClick:()=>m(!1),disabled:u,className:U("flex-1 px-3 py-1.5 text-[11px] font-bold rounded-full transition-all duration-200",c?"text-slate-400 dark:text-slate-500 hover:text-slate-600":"bg-emerald-500 text-white shadow-sm"),children:"NO"}),e.jsx("button",{onClick:()=>m(!0),disabled:u,className:U("flex-1 px-3 py-1.5 text-[11px] font-bold rounded-full transition-all duration-200",c?"bg-rose-500 text-white shadow-sm":"text-slate-400 dark:text-slate-500 hover:text-slate-600"),children:"YES"})]},"toggle")})})]})},ft=({id:j,icon:d,label:l,value:c,unit:m,onChange:b,onDelete:u,disabled:k,isEditing:x})=>{const T=se(d),s=h=>m==="hrs"?h<=2?"text-emerald-500 dark:text-emerald-400":h<=4?"text-amber-500 dark:text-amber-400":"text-rose-500 dark:text-rose-400":"text-indigo-500 dark:text-indigo-400";return e.jsxs("div",{className:"flex items-center justify-between py-3.5 border-b border-slate-50 dark:border-slate-800/50 last:border-0 group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-slate-500 dark:text-slate-400 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900/20 group-hover:text-indigo-600 transition-colors",children:e.jsx(T,{className:"w-4.5 h-4.5"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-normal text-[15px] text-slate-700 dark:text-slate-300",children:l}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider",children:m==="hrs"?"Hours":"Minutes"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Y,{mode:"wait",children:x?e.jsx(P.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:u,className:"p-1.5 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-950/30 rounded-full transition-colors",title:"Delete habit",children:e.jsx(de,{className:"w-4.5 h-4.5"})},"delete"):e.jsxs(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative flex items-center gap-2",children:[e.jsx("input",{type:"number",min:"0",max:m==="hrs"?24:1440,step:m==="hrs"?.5:1,value:c||0,onChange:h=>b(parseFloat(h.target.value)||0),disabled:k,className:U("w-20 px-3 py-1.5 text-center font-bold text-sm bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all",s(c))}),e.jsx("span",{className:"text-[11px] font-bold text-slate-400 dark:text-slate-600 w-8",children:m==="hrs"?"hr":"min"})]},"input")})})]})},Bt=({habits:j,onUpdateHabit:d,isLocked:l})=>{const{addHabit:c,deleteHabit:m}=ve(),[b,u]=F.useState(!1),[k,x]=F.useState(!1),T=(s,h,f,D)=>{c(s,h,f,D)};return e.jsxs("section",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[!l&&e.jsx("button",{onClick:()=>u(!b),className:U("p-1 rounded-full transition-colors",b?"bg-indigo-600 text-white":"text-slate-400 hover:text-indigo-600"),title:b?"Finish Editing":"Manage Habits",children:b?e.jsx(oe,{className:"w-3.5 h-3.5"}):e.jsx(Je,{className:"w-3.5 h-3.5"})}),e.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-[0.1em] dark:text-slate-500",children:"Daily Habits"})]}),!l&&e.jsx("button",{onClick:()=>{x(!0),u(!1)},className:"p-1 text-slate-400 hover:text-indigo-600 transition-colors",title:"Add Habit",children:e.jsx(ee,{className:"w-5 h-5"})})]}),e.jsx(Ve,{className:"border-none shadow-premium dark:bg-slate-950 overflow-visible",children:e.jsx(Ye,{className:"p-4 sm:p-5",children:e.jsxs("div",{className:"space-y-1",children:[j.map(s=>s.type==="number"?e.jsx(ft,{id:s.id,icon:s.icon,label:s.label,value:s.value,unit:s.unit,onChange:h=>d(s.id,h),onDelete:()=>m(s.id),disabled:l,isEditing:b},s.id):e.jsx(gt,{id:s.id,icon:s.icon,label:s.label,value:s.value,onChange:h=>d(s.id,h),onDelete:()=>m(s.id),disabled:l,isEditing:b},s.id)),j.length===0&&e.jsxs("div",{className:"py-8 text-center bg-slate-50/50 dark:bg-slate-900/30 rounded-2xl border-2 border-dashed border-slate-100 dark:border-slate-800",children:[e.jsx("span",{className:"block text-slate-400 text-xs mb-2",children:"No habits tracked yet"}),e.jsx("button",{onClick:()=>{x(!0),u(!1)},className:"text-indigo-500 font-semibold text-xs hover:underline",children:"+ Add New Habit"})]})]})})}),e.jsx(pt,{isOpen:k,onClose:()=>x(!1),onAdd:T})]})},bt={Pizza:ct,Candy:lt,Salad:ht,CheckCircle:te,Wallet:ye,Smartphone:Xe,GlassWater:We,Activity:rt},Lt=({isOpen:j,onClose:d,data:l,onConfirm:c})=>{if(!j)return null;const m=l.tasks.length,b=l.tasks.filter(f=>f.status==="checked").length,u=l.tasks.filter(f=>f.status==="missed").length,k=m>0?Math.round(b/m*100):0,{getDailySpend:x,getWeeklySavings:T}=Le(),s=x(),h=T();return e.jsx(Y,{children:e.jsx("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center p-0 sm:p-4 bg-slate-900/20 backdrop-blur-sm",children:e.jsx(P.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:30,stiffness:300},className:"w-full sm:max-w-md bg-white/95 dark:bg-slate-950/95 backdrop-blur-3xl rounded-t-[2rem] sm:rounded-[2rem] shadow-2xl overflow-hidden ring-1 ring-black/5 dark:ring-white/10",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-normal text-slate-900 dark:text-white tracking-tight",children:"Day Overview"}),e.jsx("p",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest mt-1",children:"Daily Recap"})]}),e.jsx("button",{onClick:d,className:"p-2 bg-slate-50 dark:bg-slate-900 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 rounded-full transition-all active:scale-95",children:e.jsx(Z,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center mb-10",children:[e.jsxs("div",{className:"relative w-40 h-40 flex items-center justify-center",children:[e.jsxs("svg",{className:"absolute w-full h-full -rotate-90",children:[e.jsx("circle",{cx:"80",cy:"80",r:"72",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-slate-100 dark:text-slate-800"}),e.jsx(P.circle,{cx:"80",cy:"80",r:"72",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"452.39",initial:{strokeDashoffset:452.39},animate:{strokeDashoffset:452.39-452.39*k/100},transition:{duration:1.5,ease:"circOut"},className:"text-indigo-500",strokeLinecap:"round"})]}),e.jsx("div",{className:"text-center z-10",children:e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs("span",{className:"text-6xl font-light text-slate-900 dark:text-white tracking-tight",children:[k,e.jsx("span",{className:"text-2xl font-light text-indigo-500 ml-0.5",children:"%"})]})})})]}),e.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-[10px] font-medium mt-2 tracking-[0.2em] uppercase",children:"Completion Rate"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[e.jsxs("div",{className:"bg-emerald-50/30 dark:bg-emerald-500/5 p-4 rounded-3xl flex flex-col items-center ring-1 ring-emerald-500/5 hover:bg-emerald-50/50 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-white dark:bg-emerald-500/10 rounded-full flex items-center justify-center mb-2 shadow-sm ring-1 ring-emerald-500/10",children:e.jsx(Ke,{className:"w-4 h-4 text-emerald-500"})}),e.jsx("span",{className:"text-xl font-medium text-slate-900 dark:text-white",children:b}),e.jsx("span",{className:"text-[9px] font-medium text-emerald-600/60 dark:text-emerald-500/60 uppercase tracking-widest mt-1",children:"Completed"})]}),e.jsxs("div",{className:"bg-rose-50/30 dark:bg-rose-500/5 p-4 rounded-3xl flex flex-col items-center ring-1 ring-rose-500/5 hover:bg-rose-50/50 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-white dark:bg-rose-500/10 rounded-full flex items-center justify-center mb-2 shadow-sm ring-1 ring-rose-500/10",children:e.jsx(Qe,{className:"w-4 h-4 text-rose-500"})}),e.jsx("span",{className:"text-xl font-medium text-slate-900 dark:text-white",children:u}),e.jsx("span",{className:"text-[9px] font-medium text-rose-600/60 dark:text-rose-500/60 uppercase tracking-widest mt-1",children:"Missed"})]})]}),e.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-900/30 rounded-3xl p-5 mb-8 flex justify-between items-center ring-1 ring-slate-200/40 dark:ring-slate-800/40",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-center shadow-sm ring-1 ring-slate-100 dark:ring-slate-700",children:e.jsx(ye,{className:"w-4 h-4 text-indigo-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-medium text-slate-400 uppercase tracking-[0.1em] mb-0.5",children:"Today's Spend"}),e.jsxs("p",{className:"text-base font-medium text-slate-700 dark:text-slate-200",children:["â‚¹",s.toLocaleString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[9px] font-medium text-slate-400 uppercase tracking-[0.1em] mb-0.5",children:"Weekly Save"}),e.jsxs("p",{className:U("text-base font-medium",h>=0?"text-emerald-500":"text-rose-500"),children:[h>=0?"+":"","â‚¹",h.toLocaleString()]})]})]}),e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5 px-1",children:[e.jsx("div",{className:"h-px flex-1 bg-slate-100 dark:bg-slate-800/40"}),e.jsx("h4",{className:"text-[9px] font-medium text-slate-400 uppercase tracking-[0.2em] text-center",children:"Habit Breakdown"}),e.jsx("div",{className:"h-px flex-1 bg-slate-100 dark:bg-slate-800/40"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-y-4 gap-x-3",children:l?.habits?.map(f=>{const D=bt[f.icon]||te,$=f.type==="toggle"?!f.value:f.value>0;let q=f.label;if(f.type==="toggle")q=f.value?f.label:`No ${f.label.replace("?","")}`;else{const r=f.unit==="hrs"?"hr":"min";q=`${f.value}${r} ${f.label}`}return e.jsxs("div",{className:"flex items-start gap-2.5",children:[e.jsx("div",{className:U("w-7 h-7 rounded-lg flex items-center justify-center shrink-0 transition-colors",$?"bg-emerald-500/5 text-emerald-500":"bg-rose-500/5 text-rose-500"),children:$?e.jsx(te,{className:"w-3.5 h-3.5 stroke-[2]"}):e.jsx(D,{className:"w-3.5 h-3.5 stroke-[2]"})}),e.jsx("div",{className:"flex flex-col min-w-0 pt-0.5",children:e.jsx("span",{className:U("text-xs font-normal leading-tight truncate",$?"text-slate-700 dark:text-slate-300":"text-slate-500 dark:text-slate-400"),children:q})})]},f.id)})})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs(ae,{onClick:c,className:"w-full py-4 text-base font-medium rounded-2xl bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg shadow-indigo-500/20 flex items-center justify-center gap-2 transition-all active:scale-[0.98]",children:[e.jsx(Ze,{className:"w-4 h-4"}),"Lock & Save Day"]})})]})})})})},Ht=({isOpen:j,onClose:d,tasks:l})=>{const[c,m]=F.useState([]),{updateAllTasks:b}=ve(),[u,k]=F.useState(!1),[x,T]=F.useState(""),[s,h]=F.useState("");F.useEffect(()=>{j&&(m([...l]),k(!1),T(""),h(""))},[j,l]);const f=(r,O,w)=>{m(E=>E.map(A=>{if(A.id!==r)return A;const H={[O]:w};if(O==="name"){const L=Q(w);H.icon=L.icon}if(O==="time"){const[L]=w.split(":").map(Number);let W="EVE/NIGHT";L>=4&&L<9?W="EARLY MORNING":L>=9&&L<13?W="BEFORE NOON":L>=13&&L<17&&(W="AFTER NOON"),H.category=W}return{...A,...H}}))},D=r=>{m(O=>O.filter(w=>w.id!==r))},$=()=>{if(!x.trim()||!s)return;const[r]=s.split(":").map(Number);let O="EVE/NIGHT";r>=4&&r<9?O="EARLY MORNING":r>=9&&r<13?O="BEFORE NOON":r>=13&&r<17&&(O="AFTER NOON");const w={id:`task_${Date.now()}`,name:x.trim(),time:s,category:O,icon:Q(x.trim()).icon,status:"unchecked"};m(E=>{const A=[...E,w];return A.sort((H,L)=>{if(!H.time||!L.time)return 0;const W=H.time.split(":").map(Number),X=L.time.split(":").map(Number);return W[0]*60+W[1]-(X[0]*60+X[1])}),A}),T(""),h(""),k(!1)},q=()=>{let r=[...c];if(x.trim()&&s){const[w]=s.split(":").map(Number);let E="EVE/NIGHT";w>=4&&w<9?E="EARLY MORNING":w>=9&&w<13?E="BEFORE NOON":w>=13&&w<17&&(E="AFTER NOON");const A={id:`task_${Date.now()}_pending`,name:x.trim(),time:s,category:E,icon:Q(x.trim()).icon,status:"unchecked"};r.push(A)}let O=r.filter(w=>w.name.trim()!==""&&w.time!=="");O=O.map(w=>{if(!w.time)return w;const[E]=w.time.split(":").map(Number);let A="EVE/NIGHT";return E>=4&&E<9?A="EARLY MORNING":E>=9&&E<13?A="BEFORE NOON":E>=13&&E<17&&(A="AFTER NOON"),{...w,category:A}}),O.sort((w,E)=>{if(!w.time||!E.time)return 0;const A=w.time.split(":").map(Number),H=E.time.split(":").map(Number);return A[0]*60+A[1]-(H[0]*60+H[1])}),b(O),d()};return j?e.jsx(Y,{children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 bg-slate-100/20 backdrop-blur-sm",children:e.jsxs(P.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{type:"spring",duration:.3,bounce:0},className:"w-full max-w-lg bg-white dark:bg-slate-950 rounded-[2rem] shadow-2xl shadow-slate-200/50 dark:shadow-black/50 overflow-hidden flex flex-col max-h-[75vh] ring-1 ring-slate-100 dark:ring-slate-800",children:[e.jsxs("div",{className:"pt-5 pb-3 px-5 sm:px-6 bg-indigo-600 dark:bg-slate-900 shrink-0 z-10 flex items-center justify-between shadow-sm",children:[e.jsx("h3",{className:"text-lg font-normal text-white tracking-wide",children:"Edit Routine"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{T(""),h(""),k(!0)},className:"p-1 text-indigo-100 hover:text-white transition-colors rounded-full hover:bg-white/10",title:"Add Task",children:e.jsx(ee,{className:"w-6 h-6 stroke-[1.5]"})}),e.jsx("button",{onClick:d,className:"p-1 -mr-1 text-indigo-100 hover:text-white transition-colors rounded-full hover:bg-white/10",children:e.jsx(Z,{className:"w-6 h-6 stroke-[1.5]"})})]})]}),e.jsxs("div",{className:"overflow-y-auto px-5 sm:px-6 py-2 flex-1 min-h-0 bg-white dark:bg-slate-950 scrollbar-hide",children:[c.length===0&&!u?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-center opacity-40",children:[e.jsx("p",{className:"text-slate-900 font-normal text-lg",children:"No tasks yet"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1 font-normal",children:"Add your first habit below"})]}):c.map((r,O)=>e.jsxs(P.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"group flex items-center gap-3 py-2 border-b border-slate-100 dark:border-slate-800/50 last:border-0",children:[e.jsx("div",{className:"shrink-0 z-10",children:e.jsx(be,{value:r.time,onChange:w=>f(r.id,"time",w)})}),e.jsx("div",{className:"shrink-0 w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-500",children:(()=>{let w=se(r.icon);return w?e.jsx(w,{className:"w-4 h-4"}):e.jsx(oe,{className:"w-4 h-4"})})()}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("input",{type:"text",value:r.name,onChange:w=>f(r.id,"name",w.target.value),placeholder:"Task Name",maxLength:50,className:"w-full bg-transparent border-none p-0 text-[16px] font-normal text-slate-900 dark:text-slate-50 placeholder:text-slate-300 focus:ring-0 focus:outline-none"})}),e.jsx("button",{onClick:()=>D(r.id),className:"shrink-0 p-1.5 text-slate-300 hover:text-red-500 transition-colors","aria-label":"Delete",children:e.jsx(de,{className:"w-4 h-4 stroke-[1.5]"})})]},r.id)),u&&e.jsxs(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-3 py-2 border-b border-indigo-100 dark:border-indigo-900/30 bg-indigo-50/50 dark:bg-indigo-900/10 -mx-4 px-4 rounded-xl my-1",children:[e.jsx("div",{className:"shrink-0 z-10",children:e.jsx(be,{value:s,onChange:h})}),e.jsx("div",{className:"shrink-0 w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center text-indigo-600",children:(()=>{let r=Q(x).component;return r?e.jsx(r,{className:"w-4 h-4"}):e.jsx(oe,{className:"w-4 h-4"})})()}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("input",{autoFocus:!0,type:"text",value:x,onChange:r=>T(r.target.value),onKeyDown:r=>{r.key==="Enter"&&$(),r.key==="Escape"&&k(!1)},placeholder:"Type task name...",className:"w-full bg-transparent border-none p-0 text-[16px] font-normal text-slate-900 dark:text-white placeholder:text-slate-400 focus:ring-0 focus:outline-none"})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>k(!1),className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:e.jsx(Z,{className:"w-5 h-5"})}),e.jsx("button",{onClick:$,disabled:!x.trim()||!s,className:"p-1 text-indigo-600 hover:text-indigo-700 disabled:opacity-30 disabled:cursor-not-allowed",children:e.jsx(ee,{className:"w-6 h-6"})})]})]}),!u&&e.jsx("div",{className:"pt-2 pb-6",children:e.jsxs("button",{onClick:()=>{T(""),h(""),k(!0)},className:"flex items-center gap-2 text-slate-400 hover:text-indigo-600 transition-colors px-1 group",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center group-hover:bg-indigo-100 dark:group-hover:bg-indigo-900/30 transition-colors",children:e.jsx(ee,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm font-normal",children:"Add task"})]})})]}),e.jsx("div",{className:"p-4 sm:p-6 bg-white dark:bg-slate-950 shrink-0 border-t border-slate-100 dark:border-slate-800",children:e.jsx(ae,{onClick:q,className:"w-full py-3.5 text-base font-semibold shadow-lg shadow-indigo-200/50 dark:shadow-indigo-900/50 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl hover:scale-[1.01] active:scale-[0.99] transition-all",children:"Save Routine"})})]})})}):null},be=({value:j,onChange:d})=>{const l=s=>{if(!s||typeof s!="string")return{h:"12",m:"00",p:"AM"};const[h,f]=s.split(":").map(Number),D=h>=12?"PM":"AM",$=h%12||12;return{h:String($).padStart(2,"0"),m:String(f).padStart(2,"0"),p:D}},c=l(j),[m,b]=F.useState(c.h),[u,k]=F.useState(c.m);F.useEffect(()=>{const s=l(j);b(s.h),k(s.m)},[j]);const x=()=>{let s=parseInt(m)||12;s=Math.max(1,Math.min(12,s));let h=parseInt(u)||0;h=Math.max(0,Math.min(59,h)),c.p==="PM"&&s!==12&&(s+=12),c.p==="AM"&&s===12&&(s=0);const f=`${String(s).padStart(2,"0")}:${String(h).padStart(2,"0")}`;d(f),b(String(Math.max(1,Math.min(12,parseInt(m)||12))).padStart(2,"0")),k(String(Math.max(0,Math.min(59,parseInt(u)||0))).padStart(2,"0"))},T=()=>{let s=parseInt(m)||12;s=Math.max(1,Math.min(12,s));let h=parseInt(u)||0;h=Math.max(0,Math.min(59,h));const f=c.p==="AM"?"PM":"AM";f==="PM"&&s!==12&&(s+=12),f==="AM"&&s===12&&(s=0);const D=`${String(s).padStart(2,"0")}:${String(h).padStart(2,"0")}`;d(D)};return e.jsxs("div",{className:"flex items-center gap-1 bg-slate-50 dark:bg-slate-900/50 rounded-lg px-2.5 py-1.5",children:[e.jsx("input",{type:"text",value:m,onChange:s=>b(s.target.value.replace(/\D/g,"").slice(0,2)),onBlur:x,onKeyDown:s=>{s.key==="Enter"&&x()},onFocus:s=>s.target.select(),className:"bg-transparent text-[15px] font-medium text-slate-900 dark:text-slate-100 outline-none text-center w-[24px] p-0 tabular-nums",placeholder:"12"}),e.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-sm font-medium select-none",children:":"}),e.jsx("input",{type:"text",value:u,onChange:s=>k(s.target.value.replace(/\D/g,"").slice(0,2)),onBlur:x,onKeyDown:s=>{s.key==="Enter"&&x()},onFocus:s=>s.target.select(),className:"bg-transparent text-[15px] font-medium text-slate-900 dark:text-slate-100 outline-none text-center w-[24px] p-0 tabular-nums",placeholder:"00"}),e.jsx("button",{onClick:T,className:"ml-0.5 px-1.5 py-0.5 text-[10px] font-semibold uppercase text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 transition-colors",children:c.p})]})};var ce={};(function j(d,l,c,m){var b=!!(d.Worker&&d.Blob&&d.Promise&&d.OffscreenCanvas&&d.OffscreenCanvasRenderingContext2D&&d.HTMLCanvasElement&&d.HTMLCanvasElement.prototype.transferControlToOffscreen&&d.URL&&d.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",k=(function(){if(!d.OffscreenCanvas)return!1;try{var a=new OffscreenCanvas(1,1),t=a.getContext("2d");t.fillRect(0,0,1,1);var n=a.transferToImageBitmap();t.createPattern(n,"no-repeat")}catch{return!1}return!0})();function x(){}function T(a){var t=l.exports.Promise,n=t!==void 0?t:d.Promise;return typeof n=="function"?new n(a):(a(x,x),null)}var s=(function(a,t){return{transform:function(n){if(a)return n;if(t.has(n))return t.get(n);var o=new OffscreenCanvas(n.width,n.height),p=o.getContext("2d");return p.drawImage(n,0,0),t.set(n,o),o},clear:function(){t.clear()}}})(k,new Map),h=(function(){var a=Math.floor(16.666666666666668),t,n,o={},p=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(t=function(g){var v=Math.random();return o[v]=requestAnimationFrame(function i(y){p===y||p+a-1<y?(p=y,delete o[v],g()):o[v]=requestAnimationFrame(i)}),v},n=function(g){o[g]&&cancelAnimationFrame(o[g])}):(t=function(g){return setTimeout(g,a)},n=function(g){return clearTimeout(g)}),{frame:t,cancel:n}})(),f=(function(){var a,t,n={};function o(p){function g(v,i){p.postMessage({options:v||{},callback:i})}p.init=function(i){var y=i.transferControlToOffscreen();p.postMessage({canvas:y},[y])},p.fire=function(i,y,M){if(t)return g(i,null),t;var S=Math.random().toString(36).slice(2);return t=T(function(C){function I(R){R.data.callback===S&&(delete n[S],p.removeEventListener("message",I),t=null,s.clear(),M(),C())}p.addEventListener("message",I),g(i,S),n[S]=I.bind(null,{data:{callback:S}})}),t},p.reset=function(){p.postMessage({reset:!0});for(var i in n)n[i](),delete n[i]}}return function(){if(a)return a;if(!c&&b){var p=["var CONFETTI, SIZE = {}, module = {};","("+j.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{a=new Worker(URL.createObjectURL(new Blob([p])))}catch(g){return typeof console<"u"&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",g),null}o(a)}return a}})(),D={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function $(a,t){return t?t(a):a}function q(a){return a!=null}function r(a,t,n){return $(a&&q(a[t])?a[t]:D[t],n)}function O(a){return a<0?0:Math.floor(a)}function w(a,t){return Math.floor(Math.random()*(t-a))+a}function E(a){return parseInt(a,16)}function A(a){return a.map(H)}function H(a){var t=String(a).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:E(t.substring(0,2)),g:E(t.substring(2,4)),b:E(t.substring(4,6))}}function L(a){var t=r(a,"origin",Object);return t.x=r(t,"x",Number),t.y=r(t,"y",Number),t}function W(a){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}function X(a){var t=a.getBoundingClientRect();a.width=t.width,a.height=t.height}function we(a){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=a,t}function Ne(a,t,n,o,p,g,v,i,y){a.save(),a.translate(t,n),a.rotate(g),a.scale(o,p),a.arc(0,0,1,v,i,y),a.restore()}function ke(a){var t=a.angle*(Math.PI/180),n=a.spread*(Math.PI/180);return{x:a.x,y:a.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:a.startVelocity*.5+Math.random()*a.startVelocity,angle2D:-t+(.5*n-Math.random()*n),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:a.color,shape:a.shape,tick:0,totalTicks:a.ticks,decay:a.decay,drift:a.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:a.gravity*3,ovalScalar:.6,scalar:a.scalar,flat:a.flat}}function je(a,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var n=t.tick++/t.totalTicks,o=t.x+t.random*t.tiltCos,p=t.y+t.random*t.tiltSin,g=t.wobbleX+t.random*t.tiltCos,v=t.wobbleY+t.random*t.tiltSin;if(a.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-n)+")",a.beginPath(),u&&t.shape.type==="path"&&typeof t.shape.path=="string"&&Array.isArray(t.shape.matrix))a.fill(Ce(t.shape.path,t.shape.matrix,t.x,t.y,Math.abs(g-o)*.1,Math.abs(v-p)*.1,Math.PI/10*t.wobble));else if(t.shape.type==="bitmap"){var i=Math.PI/10*t.wobble,y=Math.abs(g-o)*.1,M=Math.abs(v-p)*.1,S=t.shape.bitmap.width*t.scalar,C=t.shape.bitmap.height*t.scalar,I=new DOMMatrix([Math.cos(i)*y,Math.sin(i)*y,-Math.sin(i)*M,Math.cos(i)*M,t.x,t.y]);I.multiplySelf(new DOMMatrix(t.shape.matrix));var R=a.createPattern(s.transform(t.shape.bitmap),"no-repeat");R.setTransform(I),a.globalAlpha=1-n,a.fillStyle=R,a.fillRect(t.x-S/2,t.y-C/2,S,C),a.globalAlpha=1}else if(t.shape==="circle")a.ellipse?a.ellipse(t.x,t.y,Math.abs(g-o)*t.ovalScalar,Math.abs(v-p)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):Ne(a,t.x,t.y,Math.abs(g-o)*t.ovalScalar,Math.abs(v-p)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if(t.shape==="star")for(var N=Math.PI/2*3,B=4*t.scalar,z=8*t.scalar,_=t.x,V=t.y,J=5,G=Math.PI/J;J--;)_=t.x+Math.cos(N)*z,V=t.y+Math.sin(N)*z,a.lineTo(_,V),N+=G,_=t.x+Math.cos(N)*B,V=t.y+Math.sin(N)*B,a.lineTo(_,V),N+=G;else a.moveTo(Math.floor(t.x),Math.floor(t.y)),a.lineTo(Math.floor(t.wobbleX),Math.floor(p)),a.lineTo(Math.floor(g),Math.floor(v)),a.lineTo(Math.floor(o),Math.floor(t.wobbleY));return a.closePath(),a.fill(),t.tick<t.totalTicks}function Me(a,t,n,o,p){var g=t.slice(),v=a.getContext("2d"),i,y,M=T(function(S){function C(){i=y=null,v.clearRect(0,0,o.width,o.height),s.clear(),p(),S()}function I(){c&&!(o.width===m.width&&o.height===m.height)&&(o.width=a.width=m.width,o.height=a.height=m.height),!o.width&&!o.height&&(n(a),o.width=a.width,o.height=a.height),v.clearRect(0,0,o.width,o.height),g=g.filter(function(R){return je(v,R)}),g.length?i=h.frame(I):C()}i=h.frame(I),y=C});return{addFettis:function(S){return g=g.concat(S),M},canvas:a,promise:M,reset:function(){i&&h.cancel(i),y&&y()}}}function me(a,t){var n=!a,o=!!r(t||{},"resize"),p=!1,g=r(t,"disableForReducedMotion",Boolean),v=b&&!!r(t||{},"useWorker"),i=v?f():null,y=n?W:X,M=a&&i?!!a.__confetti_initialized:!1,S=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,C;function I(N,B,z){for(var _=r(N,"particleCount",O),V=r(N,"angle",Number),J=r(N,"spread",Number),G=r(N,"startVelocity",Number),Se=r(N,"decay",Number),Ie=r(N,"gravity",Number),Oe=r(N,"drift",Number),xe=r(N,"colors",A),Ae=r(N,"ticks",Number),ue=r(N,"shapes"),De=r(N,"scalar"),Re=!!r(N,"flat"),pe=L(N),ge=_,ne=[],Fe=a.width*pe.x,Pe=a.height*pe.y;ge--;)ne.push(ke({x:Fe,y:Pe,angle:V,spread:J,startVelocity:G,color:xe[ge%xe.length],shape:ue[w(0,ue.length)],ticks:Ae,decay:Se,gravity:Ie,drift:Oe,scalar:De,flat:Re}));return C?C.addFettis(ne):(C=Me(a,ne,y,B,z),C.promise)}function R(N){var B=g||r(N,"disableForReducedMotion",Boolean),z=r(N,"zIndex",Number);if(B&&S)return T(function(G){G()});n&&C?a=C.canvas:n&&!a&&(a=we(z),document.body.appendChild(a)),o&&!M&&y(a);var _={width:a.width,height:a.height};i&&!M&&i.init(a),M=!0,i&&(a.__confetti_initialized=!0);function V(){if(i){var G={getBoundingClientRect:function(){if(!n)return a.getBoundingClientRect()}};y(G),i.postMessage({resize:{width:G.width,height:G.height}});return}_.width=_.height=null}function J(){C=null,o&&(p=!1,d.removeEventListener("resize",V)),n&&a&&(document.body.contains(a)&&document.body.removeChild(a),a=null,M=!1)}return o&&!p&&(p=!0,d.addEventListener("resize",V,!1)),i?i.fire(N,_,J):I(N,_,J)}return R.reset=function(){i&&i.reset(),C&&C.reset()},R}var re;function he(){return re||(re=me(null,{useWorker:!0,resize:!0})),re}function Ce(a,t,n,o,p,g,v){var i=new Path2D(a),y=new Path2D;y.addPath(i,new DOMMatrix(t));var M=new Path2D;return M.addPath(y,new DOMMatrix([Math.cos(v)*p,Math.sin(v)*p,-Math.sin(v)*g,Math.cos(v)*g,n,o])),M}function Te(a){if(!u)throw new Error("path confetti are not supported in this browser");var t,n;typeof a=="string"?t=a:(t=a.path,n=a.matrix);var o=new Path2D(t),p=document.createElement("canvas"),g=p.getContext("2d");if(!n){for(var v=1e3,i=v,y=v,M=0,S=0,C,I,R=0;R<v;R+=2)for(var N=0;N<v;N+=2)g.isPointInPath(o,R,N,"nonzero")&&(i=Math.min(i,R),y=Math.min(y,N),M=Math.max(M,R),S=Math.max(S,N));C=M-i,I=S-y;var B=10,z=Math.min(B/C,B/I);n=[z,0,0,z,-Math.round(C/2+i)*z,-Math.round(I/2+y)*z]}return{type:"path",path:t,matrix:n}}function Ee(a){var t,n=1,o="#000000",p='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof a=="string"?t=a:(t=a.text,n="scalar"in a?a.scalar:n,p="fontFamily"in a?a.fontFamily:p,o="color"in a?a.color:o);var g=10*n,v=""+g+"px "+p,i=new OffscreenCanvas(g,g),y=i.getContext("2d");y.font=v;var M=y.measureText(t),S=Math.ceil(M.actualBoundingBoxRight+M.actualBoundingBoxLeft),C=Math.ceil(M.actualBoundingBoxAscent+M.actualBoundingBoxDescent),I=2,R=M.actualBoundingBoxLeft+I,N=M.actualBoundingBoxAscent+I;S+=I+I,C+=I+I,i=new OffscreenCanvas(S,C),y=i.getContext("2d"),y.font=v,y.fillStyle=o,y.fillText(t,R,N);var B=1/n;return{type:"bitmap",bitmap:i.transferToImageBitmap(),matrix:[B,0,0,B,-S*B/2,-C*B/2]}}l.exports=function(){return he().apply(this,arguments)},l.exports.reset=function(){he().reset()},l.exports.create=me,l.exports.shapeFromPath=Te,l.exports.shapeFromText=Ee})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),ce,!1);const vt=ce.exports;ce.exports.create;const le={"EARLY MORNING":["Love your bed too much?","Sun's up, you should be too.","Snooze button is for losers.","Morning glory? More like morning sad story.","The early bird gets the worm. You get nothing."],"BEFORE NOON":["Lunch isn't earned yet.","Productivity peak? I think not.","Already slacking? It's not even 12.","Your coffee needs to be stronger.","Is this your 'focus' time?"],"AFTER NOON":["Post-lunch coma hit hard?","Afternoon slump or just lazy?","Day's wasting away...","Sun's going down, and so is your discipline.","Siesta time is over."],NIGHT:["Too tired or just quitting?","Ending the day on a low note?","Sleep is sweet, but success is sweeter.","Don't let the day win.","Night owl? More like night fail."],DEFAULT:["Giving up already? My grandma moves faster.","Oh, skipping tasks? Is that your strategy for success?","Weakness disgusts me. Try again.","I thought you said you wanted to change?","Pathetic. Just click it done next time.","Do you need a participation trophy for skipping?","Your future self is disappointed in you.","Discipline is hard, isn't it? clearly too hard for you."]},zt=({isOpen:j,onClose:d,type:l="success",category:c})=>{F.useEffect(()=>{j&&l==="success"&&vt({particleCount:100,spread:70,origin:{y:.6}})},[j,l]);const b=l==="troll"?(()=>{if(!c)return le.DEFAULT[0];const u=le[c]||le.DEFAULT;return u[Math.floor(Math.random()*u.length)]})():null;return e.jsx(Y,{children:j&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",children:e.jsxs(P.div,{initial:{scale:.5,opacity:0,rotate:l==="troll"?-5:0},animate:{scale:1,opacity:1,rotate:0},exit:{scale:.8,opacity:0},className:"w-full max-w-sm bg-white rounded-3xl shadow-2xl overflow-hidden relative",children:[e.jsxs("div",{className:`h-40 flex items-center justify-center relative overflow-hidden ${l==="success"?"bg-gradient-to-br from-indigo-500 to-purple-600":"bg-gradient-to-br from-purple-500 to-pink-600"}`,children:[e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx(fe,{className:"absolute top-4 left-4 w-8 h-8 text-white rotate-12"}),e.jsx(fe,{className:"absolute bottom-4 right-10 w-6 h-6 text-white -rotate-12"}),e.jsx(et,{className:"absolute top-10 right-6 w-10 h-10 text-white"})]}),e.jsx(P.div,{className:"relative z-10",initial:l==="troll"?{y:10}:{scale:.8},animate:l==="troll"?{y:0}:{scale:1},children:l==="success"?e.jsx("div",{className:"bg-white/20 p-4 rounded-full backdrop-blur-md shadow-inner",children:e.jsx(tt,{className:"w-16 h-16 text-white"})}):e.jsx("div",{className:"bg-white/10 p-2 rounded-2xl backdrop-blur-sm transform rotate-3",children:e.jsx("img",{src:"/funny_troll_cat.png",alt:"Judging Cat",className:"w-24 h-24 object-contain drop-shadow-md transform -rotate-6",onError:u=>{u.target.onerror=null,u.target.style.display="none",u.target.parentNode.innerHTML='<span style="font-size:3rem">ðŸ˜¿</span>'}})})}),e.jsx("button",{onClick:d,className:"absolute top-3 right-3 p-1 hover:bg-white/20 rounded-full text-white/80 transition-colors",children:e.jsx(Z,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("h2",{className:`text-2xl font-black mb-2 uppercase tracking-wide ${l==="success"?"text-slate-900":"text-purple-600"}`,children:l==="success"?"Great Job!":"UH OH..."}),l==="success"?e.jsxs("p",{className:"text-slate-600 mb-6 leading-relaxed",children:["You've completed all tasks in ",e.jsx("span",{className:"font-bold text-indigo-600",children:c}),". Keep up the momentum!"]}):e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-lg font-bold text-slate-800 mb-2 leading-tight",children:['"',b,'"']}),e.jsxs("p",{className:"text-xs text-purple-400 uppercase tracking-widest font-semibold mt-3",children:["Failed at ",c]})]}),e.jsx(ae,{onClick:d,className:`w-full justify-center text-lg h-12 shadow-lg ${l==="success"?"bg-indigo-600 hover:bg-indigo-700 shadow-indigo-200":"bg-purple-600 hover:bg-purple-700 shadow-purple-200"}`,children:l==="success"?"Keep Going":"I'll Do Better"})]})]})})})},_t=({className:j,showControls:d=!0})=>{const{currentDate:l,formattedDate:c,isToday:m,prevDay:b,nextDay:u,jumpToToday:k,setDate:x,maxDate:T}=He(),[s,h]=ze.useState(!1),f=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(l),D=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:l.getFullYear()!==new Date().getFullYear()?"numeric":void 0}).format(l);return e.jsxs("div",{className:ie("mb-8 relative",j),children:[e.jsx(_e,{isOpen:s,onClose:()=>h(!1)}),e.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-indigo-500/5 blur-3xl rounded-full pointer-events-none"}),e.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 bg-white/50 dark:bg-slate-900/40 backdrop-blur-sm rounded-[2rem] border border-white/80 dark:border-slate-800/50 shadow-sm",children:[e.jsxs("div",{className:"flex-1 min-w-0 flex items-start gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 animate-pulse mt-[9px] shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{onClick:()=>h(!0),className:"text-lg sm:text-xl font-bold uppercase tracking-wider text-indigo-600 dark:text-indigo-400 leading-none cursor-pointer hover:text-indigo-700 transition-all active:scale-95 truncate",children:m?"TODAY":f}),e.jsx("div",{className:"relative inline-block group max-w-full",children:e.jsx("p",{onClick:()=>h(!0),className:"text-[10px] sm:text-[11px] font-bold text-slate-400/80 dark:text-slate-500/80 cursor-pointer hover:text-indigo-600 transition-colors whitespace-nowrap overflow-hidden text-ellipsis uppercase tracking-[0.2em] leading-none mt-1.5",children:D})})]})]}),d&&e.jsxs("div",{className:"flex items-center gap-1 p-1 bg-slate-100/50 dark:bg-slate-800/50 rounded-2xl border border-slate-200/50",children:[e.jsx("button",{onClick:b,className:"p-2 hover:bg-white dark:hover:bg-slate-700 text-slate-400 hover:text-indigo-600 rounded-xl transition-all active:scale-90",children:e.jsx(Ue,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>{m?h(!0):k()},className:ie("px-3 py-1.5 text-[10px] font-normal uppercase tracking-widest rounded-xl transition-all active:scale-95 shadow-sm",m?"text-slate-500 bg-white/80 dark:bg-slate-700/80 border border-slate-200/50":"text-white bg-indigo-600 hover:bg-indigo-700 shadow-indigo-200 dark:shadow-none"),children:m?"JUMP":"Today"}),e.jsx("button",{onClick:u,disabled:m,className:"p-2 hover:bg-white dark:hover:bg-slate-700 text-slate-400 hover:text-indigo-600 rounded-xl transition-all active:scale-90 disabled:opacity-20 disabled:hover:bg-transparent",children:e.jsx($e,{className:"w-5 h-5"})})]})]})]})},Ut=({isOpen:j,onClose:d,onConfirm:l})=>{const[c,m]=F.useState(""),[b,u]=F.useState("");if(!j)return null;const k=x=>{if(x.preventDefault(),!c.trim()){u("Please provide a reason");return}l(c),m("")};return e.jsx(Y,{children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",children:e.jsx(P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-sm bg-white dark:bg-slate-900 rounded-2xl shadow-xl overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Unlock Day"}),e.jsx("button",{onClick:d,className:"p-1 hover:bg-slate-100 rounded-full dark:hover:bg-slate-800",children:e.jsx(Z,{className:"w-5 h-5 text-slate-500"})})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center py-4 mb-2",children:[e.jsx("div",{className:"bg-orange-100 p-4 rounded-full mb-3 dark:bg-orange-900/30",children:e.jsx(ot,{className:"w-8 h-8 text-orange-600 dark:text-orange-400"})}),e.jsx("p",{className:"text-center text-sm text-slate-600 dark:text-slate-400",children:"This day is locked. To make changes, please tell us why you need to reopen it."})]}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(at,{placeholder:"e.g. Forgot to add a task...",value:c,onChange:x=>{m(x.target.value),u("")},autoFocus:!0}),b&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:b})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(ae,{type:"submit",className:"w-full",children:"Unlock Day"}),e.jsx("button",{type:"button",onClick:d,className:"w-full py-2 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",children:"Cancel"})]})]})]})})})})};export{_t as D,Pt as R,Ht as T,zt as U,Bt as a,Lt as b,Ut as c};
