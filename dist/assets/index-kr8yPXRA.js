const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-BtySCg0Y.js","assets/trophy-Cd_nXP0Z.js","assets/flame-C7lprmov.js","assets/Routine-D5COhPRU.js","assets/DateHeader-BTd401sK.js","assets/TaskItem-DrLfrPXx.js","assets/bike-8yAkK9Kt.js","assets/trash-2-CFxXK9Ac.js","assets/circle-check-big-CLyJ61Rk.js","assets/chevron-up-DvGckQq7.js","assets/subMonths-C1o4SYwE.js","assets/isSameMonth-CPK1Rxze.js","assets/Card-DpmtOcrU.js","assets/index-Cf2ios4l.js","assets/pen-DuSLvd_X.js","assets/plus-DNwW_Ns-.js","assets/circle-alert-B5DF0-40.js","assets/smartphone-Vgam336S.js","assets/star-CMvXNODG.js","assets/trending-up-Dsdt7K2P.js","assets/award-BvZOVfUx.js","assets/TaskDashboard-C8AL3zip.js","assets/subDays-CBY24JdP.js","assets/FinanceDashboard-ztD0p1ZA.js","assets/triangle-alert-CD1mKGgo.js","assets/refresh-cw-BtZeOVC6.js","assets/differenceInDays-DanESVv8.js","assets/VehicleDashboard-Dzm6Syjb.js","assets/save-BD27em1g.js","assets/trending-down-EA-SCLF7.js","assets/Login-JdP_Q_nC.js","assets/Input-DBYfrGBI.js","assets/ErrorDisplay-B2U82LlO.js","assets/circle-x-9Rp-ZvvR.js","assets/Dashboard-zrLuujH5.js","assets/History-D-KOHbu_.js","assets/Settings-Nq-qGxxS.js","assets/user-C36YXVtV.js","assets/ForgotPassword-CyIcd7WR.js","assets/Analytics-BHA6YpXX.js","assets/CartesianChart-DP43zC-z.js","assets/DietPlan-Dcs-PWAp.js","assets/WorkspaceCalendar--c9aHRtS.js","assets/WorkspaceBoard-LAhgJNvH.js","assets/FilteredTaskView-C3CdKZlf.js","assets/Overview-Gy4_jt6Y.js","assets/DebtManager-BPtkFkwm.js","assets/AccountDetail-DWfVnTO9.js","assets/MonthlyOverview-Bzdqs_9U.js"])))=>i.map(i=>d[i]);
function pM(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var _G=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hg={exports:{}},nu={};var oE;function gM(){if(oE)return nu;oE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return nu.Fragment=e,nu.jsx=n,nu.jsxs=n,nu}var lE;function yM(){return lE||(lE=1,Hg.exports=gM()),Hg.exports}var M=yM(),Gg={exports:{}},He={};var cE;function vM(){if(cE)return He;cE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function I(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,z={};function j(q,ae,pe){this.props=q,this.context=ae,this.refs=z,this.updater=pe||N}j.prototype.isReactComponent={},j.prototype.setState=function(q,ae){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ae,"setState")},j.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function L(){}L.prototype=j.prototype;function U(q,ae,pe){this.props=q,this.context=ae,this.refs=z,this.updater=pe||N}var ce=U.prototype=new L;ce.constructor=U,P(ce,j.prototype),ce.isPureReactComponent=!0;var F=Array.isArray;function X(){}var S={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function D(q,ae,pe){var ne=pe.ref;return{$$typeof:t,type:q,key:ae,ref:ne!==void 0?ne:null,props:pe}}function O(q,ae){return D(q.type,ae,q.props)}function V(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function k(q){var ae={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(pe){return ae[pe]})}var A=/\/+/g;function K(q,ae){return typeof q=="object"&&q!==null&&q.key!=null?k(""+q.key):ae.toString(36)}function $(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(X,X):(q.status="pending",q.then(function(ae){q.status==="pending"&&(q.status="fulfilled",q.value=ae)},function(ae){q.status==="pending"&&(q.status="rejected",q.reason=ae)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function H(q,ae,pe,ne,ie){var J=typeof q;(J==="undefined"||J==="boolean")&&(q=null);var ge=!1;if(q===null)ge=!0;else switch(J){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(q.$$typeof){case t:case e:ge=!0;break;case y:return ge=q._init,H(ge(q._payload),ae,pe,ne,ie)}}if(ge)return ie=ie(q),ge=ne===""?"."+K(q,0):ne,F(ie)?(pe="",ge!=null&&(pe=ge.replace(A,"$&/")+"/"),H(ie,ae,pe,"",function(Le){return Le})):ie!=null&&(V(ie)&&(ie=O(ie,pe+(ie.key==null||q&&q.key===ie.key?"":(""+ie.key).replace(A,"$&/")+"/")+ge)),ae.push(ie)),1;ge=0;var we=ne===""?".":ne+":";if(F(q))for(var de=0;de<q.length;de++)ne=q[de],J=we+K(ne,de),ge+=H(ne,ae,pe,J,ie);else if(de=I(q),typeof de=="function")for(q=de.call(q),de=0;!(ne=q.next()).done;)ne=ne.value,J=we+K(ne,de++),ge+=H(ne,ae,pe,J,ie);else if(J==="object"){if(typeof q.then=="function")return H($(q),ae,pe,ne,ie);throw ae=String(q),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ge}function te(q,ae,pe){if(q==null)return q;var ne=[],ie=0;return H(q,ne,"","",function(J){return ae.call(pe,J,ie++)}),ne}function W(q){if(q._status===-1){var ae=q._result;ae=ae(),ae.then(function(pe){(q._status===0||q._status===-1)&&(q._status=1,q._result=pe)},function(pe){(q._status===0||q._status===-1)&&(q._status=2,q._result=pe)}),q._status===-1&&(q._status=0,q._result=ae)}if(q._status===1)return q._result.default;throw q._result}var _e=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Pe={map:te,forEach:function(q,ae,pe){te(q,function(){ae.apply(this,arguments)},pe)},count:function(q){var ae=0;return te(q,function(){ae++}),ae},toArray:function(q){return te(q,function(ae){return ae})||[]},only:function(q){if(!V(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return He.Activity=v,He.Children=Pe,He.Component=j,He.Fragment=n,He.Profiler=a,He.PureComponent=U,He.StrictMode=i,He.Suspense=f,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,He.__COMPILER_RUNTIME={__proto__:null,c:function(q){return S.H.useMemoCache(q)}},He.cache=function(q){return function(){return q.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(q,ae,pe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ne=P({},q.props),ie=q.key;if(ae!=null)for(J in ae.key!==void 0&&(ie=""+ae.key),ae)!E.call(ae,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&ae.ref===void 0||(ne[J]=ae[J]);var J=arguments.length-2;if(J===1)ne.children=pe;else if(1<J){for(var ge=Array(J),we=0;we<J;we++)ge[we]=arguments[we+2];ne.children=ge}return D(q.type,ie,ne)},He.createContext=function(q){return q={$$typeof:c,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},He.createElement=function(q,ae,pe){var ne,ie={},J=null;if(ae!=null)for(ne in ae.key!==void 0&&(J=""+ae.key),ae)E.call(ae,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ie[ne]=ae[ne]);var ge=arguments.length-2;if(ge===1)ie.children=pe;else if(1<ge){for(var we=Array(ge),de=0;de<ge;de++)we[de]=arguments[de+2];ie.children=we}if(q&&q.defaultProps)for(ne in ge=q.defaultProps,ge)ie[ne]===void 0&&(ie[ne]=ge[ne]);return D(q,J,ie)},He.createRef=function(){return{current:null}},He.forwardRef=function(q){return{$$typeof:h,render:q}},He.isValidElement=V,He.lazy=function(q){return{$$typeof:y,_payload:{_status:-1,_result:q},_init:W}},He.memo=function(q,ae){return{$$typeof:p,type:q,compare:ae===void 0?null:ae}},He.startTransition=function(q){var ae=S.T,pe={};S.T=pe;try{var ne=q(),ie=S.S;ie!==null&&ie(pe,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(X,_e)}catch(J){_e(J)}finally{ae!==null&&pe.types!==null&&(ae.types=pe.types),S.T=ae}},He.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},He.use=function(q){return S.H.use(q)},He.useActionState=function(q,ae,pe){return S.H.useActionState(q,ae,pe)},He.useCallback=function(q,ae){return S.H.useCallback(q,ae)},He.useContext=function(q){return S.H.useContext(q)},He.useDebugValue=function(){},He.useDeferredValue=function(q,ae){return S.H.useDeferredValue(q,ae)},He.useEffect=function(q,ae){return S.H.useEffect(q,ae)},He.useEffectEvent=function(q){return S.H.useEffectEvent(q)},He.useId=function(){return S.H.useId()},He.useImperativeHandle=function(q,ae,pe){return S.H.useImperativeHandle(q,ae,pe)},He.useInsertionEffect=function(q,ae){return S.H.useInsertionEffect(q,ae)},He.useLayoutEffect=function(q,ae){return S.H.useLayoutEffect(q,ae)},He.useMemo=function(q,ae){return S.H.useMemo(q,ae)},He.useOptimistic=function(q,ae){return S.H.useOptimistic(q,ae)},He.useReducer=function(q,ae,pe){return S.H.useReducer(q,ae,pe)},He.useRef=function(q){return S.H.useRef(q)},He.useState=function(q){return S.H.useState(q)},He.useSyncExternalStore=function(q,ae,pe){return S.H.useSyncExternalStore(q,ae,pe)},He.useTransition=function(){return S.H.useTransition()},He.version="19.2.3",He}var uE;function qv(){return uE||(uE=1,Gg.exports=vM()),Gg.exports}var C=qv();const Hv=Bv(C),bG=pM({__proto__:null,default:Hv},[C]);var $g={exports:{}},iu={},Kg={exports:{}},Yg={};var hE;function _M(){return hE||(hE=1,(function(t){function e(H,te){var W=H.length;H.push(te);e:for(;0<W;){var _e=W-1>>>1,Pe=H[_e];if(0<a(Pe,te))H[_e]=te,H[W]=Pe,W=_e;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var te=H[0],W=H.pop();if(W!==te){H[0]=W;e:for(var _e=0,Pe=H.length,q=Pe>>>1;_e<q;){var ae=2*(_e+1)-1,pe=H[ae],ne=ae+1,ie=H[ne];if(0>a(pe,W))ne<Pe&&0>a(ie,pe)?(H[_e]=ie,H[ne]=W,_e=ne):(H[_e]=pe,H[ae]=W,_e=ae);else if(ne<Pe&&0>a(ie,W))H[_e]=ie,H[ne]=W,_e=ne;else break e}}return te}function a(H,te){var W=H.sortIndex-te.sortIndex;return W!==0?W:H.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],p=[],y=1,v=null,b=3,I=!1,N=!1,P=!1,z=!1,j=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function ce(H){for(var te=n(p);te!==null;){if(te.callback===null)i(p);else if(te.startTime<=H)i(p),te.sortIndex=te.expirationTime,e(f,te);else break;te=n(p)}}function F(H){if(P=!1,ce(H),!N)if(n(f)!==null)N=!0,X||(X=!0,k());else{var te=n(p);te!==null&&$(F,te.startTime-H)}}var X=!1,S=-1,E=5,D=-1;function O(){return z?!0:!(t.unstable_now()-D<E)}function V(){if(z=!1,X){var H=t.unstable_now();D=H;var te=!0;try{e:{N=!1,P&&(P=!1,L(S),S=-1),I=!0;var W=b;try{t:{for(ce(H),v=n(f);v!==null&&!(v.expirationTime>H&&O());){var _e=v.callback;if(typeof _e=="function"){v.callback=null,b=v.priorityLevel;var Pe=_e(v.expirationTime<=H);if(H=t.unstable_now(),typeof Pe=="function"){v.callback=Pe,ce(H),te=!0;break t}v===n(f)&&i(f),ce(H)}else i(f);v=n(f)}if(v!==null)te=!0;else{var q=n(p);q!==null&&$(F,q.startTime-H),te=!1}}break e}finally{v=null,b=W,I=!1}te=void 0}}finally{te?k():X=!1}}}var k;if(typeof U=="function")k=function(){U(V)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,K=A.port2;A.port1.onmessage=V,k=function(){K.postMessage(null)}}else k=function(){j(V,0)};function $(H,te){S=j(function(){H(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(H){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var W=b;b=te;try{return H()}finally{b=W}},t.unstable_requestPaint=function(){z=!0},t.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var W=b;b=H;try{return te()}finally{b=W}},t.unstable_scheduleCallback=function(H,te,W){var _e=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?_e+W:_e):W=_e,H){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=W+Pe,H={id:y++,callback:te,priorityLevel:H,startTime:W,expirationTime:Pe,sortIndex:-1},W>_e?(H.sortIndex=W,e(p,H),n(f)===null&&H===n(p)&&(P?(L(S),S=-1):P=!0,$(F,W-_e))):(H.sortIndex=Pe,e(f,H),N||I||(N=!0,X||(X=!0,k()))),H},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(H){var te=b;return function(){var W=b;b=te;try{return H.apply(this,arguments)}finally{b=W}}}})(Yg)),Yg}var fE;function bM(){return fE||(fE=1,Kg.exports=_M()),Kg.exports}var Wg={exports:{}},An={};var dE;function TM(){if(dE)return An;dE=1;var t=qv();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,An.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,y)},An.flushSync=function(f){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=p,i.p=y,i.d.f()}},An.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},An.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},An.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:I}):y==="script"&&i.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},An.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},An.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);i.d.L(f,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},An.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},An.requestFormReset=function(f){i.d.r(f)},An.unstable_batchedUpdates=function(f,p){return f(p)},An.useFormState=function(f,p,y){return c.H.useFormState(f,p,y)},An.useFormStatus=function(){return c.H.useHostTransitionStatus()},An.version="19.2.3",An}var mE;function wM(){if(mE)return Wg.exports;mE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wg.exports=TM(),Wg.exports}var pE;function EM(){if(pE)return iu;pE=1;var t=bM(),e=qv(),n=wM();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return f(m),s;if(g===u)return f(m),r;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=m,u=g;else{for(var T=!1,R=m.child;R;){if(R===o){T=!0,o=m,u=g;break}if(R===u){T=!0,u=m,o=g;break}R=R.sibling}if(!T){for(R=g.child;R;){if(R===o){T=!0,o=g,u=m;break}if(R===u){T=!0,u=g,o=m;break}R=R.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),U=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var A=Symbol.for("react.client.reference");function K(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===A?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case j:return"Profiler";case z:return"StrictMode";case F:return"Suspense";case X:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case N:return"Portal";case U:return s.displayName||"Context";case L:return(s._context.displayName||"Context")+".Consumer";case ce:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case S:return r=s.displayName||null,r!==null?r:K(s.type)||"Memo";case E:r=s._payload,s=s._init;try{return K(s(r))}catch{}}return null}var $=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},_e=[],Pe=-1;function q(s){return{current:s}}function ae(s){0>Pe||(s.current=_e[Pe],_e[Pe]=null,Pe--)}function pe(s,r){Pe++,_e[Pe]=s.current,s.current=r}var ne=q(null),ie=q(null),J=q(null),ge=q(null);function we(s,r){switch(pe(J,r),pe(ie,s),pe(ne,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Dw(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Dw(r),s=kw(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(ne),pe(ne,s)}function de(){ae(ne),ae(ie),ae(J)}function Le(s){s.memoizedState!==null&&pe(ge,s);var r=ne.current,o=kw(r,s.type);r!==o&&(pe(ie,s),pe(ne,o))}function We(s){ie.current===s&&(ae(ne),ae(ie)),ge.current===s&&(ae(ge),Jc._currentValue=W)}var Me,cn;function ye(s){if(Me===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Me=r&&r[1]||"",cn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+s+cn}var be=!1;function Se(s,r){if(!s||be)return"";be=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(oe){var se=oe}Reflect.construct(s,[],fe)}else{try{fe.call()}catch(oe){se=oe}s.call(fe.prototype)}}else{try{throw Error()}catch(oe){se=oe}(fe=s())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(oe){if(oe&&se&&typeof oe.stack=="string")return[oe.stack,se.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],R=g[1];if(T&&R){var B=T.split(`
`),ee=R.split(`
`);for(m=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;if(u===B.length||m===ee.length)for(u=B.length-1,m=ee.length-1;1<=u&&0<=m&&B[u]!==ee[m];)m--;for(;1<=u&&0<=m;u--,m--)if(B[u]!==ee[m]){if(u!==1||m!==1)do if(u--,m--,0>m||B[u]!==ee[m]){var le=`
`+B[u].replace(" at new "," at ");return s.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",s.displayName)),le}while(1<=u&&0<=m);break}}}finally{be=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?ye(o):""}function Ee(s,r){switch(s.tag){case 26:case 27:case 5:return ye(s.type);case 16:return ye("Lazy");case 13:return s.child!==r&&r!==null?ye("Suspense Fallback"):ye("Suspense");case 19:return ye("SuspenseList");case 0:case 15:return Se(s.type,!1);case 11:return Se(s.type.render,!1);case 1:return Se(s.type,!0);case 31:return ye("Activity");default:return""}}function ke(s){try{var r="",o=null;do r+=Ee(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ue=Object.prototype.hasOwnProperty,Fe=t.unstable_scheduleCallback,ot=t.unstable_cancelCallback,ec=t.unstable_shouldYield,fh=t.unstable_requestPaint,Nn=t.unstable_now,wa=t.unstable_getCurrentPriorityLevel,tc=t.unstable_ImmediatePriority,nc=t.unstable_UserBlockingPriority,dr=t.unstable_NormalPriority,Km=t.unstable_LowPriority,dh=t.unstable_IdlePriority,mh=t.log,ph=t.unstable_setDisableYieldValue,Pi=null,pn=null;function fi(s){if(typeof mh=="function"&&ph(s),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Pi,s)}catch{}}var jt=Math.clz32?Math.clz32:yh,gh=Math.log,Co=Math.LN2;function yh(s){return s>>>=0,s===0?32:31-(gh(s)/Co|0)|0}var ts=256,Ea=262144,$t=4194304;function ns(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function is(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var m=0,g=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var R=u&134217727;return R!==0?(u=R&~g,u!==0?m=ns(u):(T&=R,T!==0?m=ns(T):o||(o=R&~s,o!==0&&(m=ns(o))))):(R=u&~g,R!==0?m=ns(R):T!==0?m=ns(T):o||(o=u&~s,o!==0&&(m=ns(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function Oi(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Ym(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vh(){var s=$t;return $t<<=1,($t&62914560)===0&&($t=4194304),s}function ss(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function Sa(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Wm(s,r,o,u,m,g){var T=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var R=s.entanglements,B=s.expirationTimes,ee=s.hiddenUpdates;for(o=T&~o;0<o;){var le=31-jt(o),fe=1<<le;R[le]=0,B[le]=-1;var se=ee[le];if(se!==null)for(ee[le]=null,le=0;le<se.length;le++){var oe=se[le];oe!==null&&(oe.lane&=-536870913)}o&=~fe}u!==0&&Aa(s,u,0),g!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=g&~(T&~r))}function Aa(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-jt(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function ic(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-jt(o),m=1<<u;m&r|s[u]&r&&(s[u]|=r),o&=~m}}function sc(s,r){var o=r&-r;return o=(o&42)!==0?1:Ca(o),(o&(s.suspendedLanes|r))!==0?0:o}function Ca(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ks(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function _h(){var s=te.p;return s!==0?s:(s=window.event,s===void 0?32:eE(s.type))}function Vi(s,r){var o=te.p;try{return te.p=s,r()}finally{te.p=o}}var Li=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Li,un="__reactProps$"+Li,rs="__reactContainer$"+Li,Ro="__reactEvents$"+Li,Qm="__reactListeners$"+Li,bh="__reactHandles$"+Li,Th="__reactResources$"+Li,as="__reactMarker$"+Li;function Io(s){delete s[Kt],delete s[un],delete s[Ro],delete s[Qm],delete s[bh]}function os(s){var r=s[Kt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[rs]||o[Kt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=Uw(s);s!==null;){if(o=s[Kt])return o;s=Uw(s)}return r}s=o,o=s.parentNode}return null}function di(s){if(s=s[Kt]||s[rs]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Jn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function ls(s){var r=s[Th];return r||(r=s[Th]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Yt(s){s[as]=!0}var rc=new Set,ac={};function cs(s,r){us(s,r),us(s+"Capture",r)}function us(s,r){for(ac[s]=r,s=0;s<r.length;s++)rc.add(r[s])}var oc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lc={},cc={};function wh(s){return Ue.call(cc,s)?!0:Ue.call(lc,s)?!1:oc.test(s)?cc[s]=!0:(lc[s]=!0,!1)}function xo(s,r,o){if(wh(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Zn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Wt(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function hn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function mr(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function uc(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,g=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function dt(s){if(!s._valueTracker){var r=mr(s)?"checked":"value";s._valueTracker=uc(s,r,""+s[r])}}function Ra(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=mr(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function hs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ia=/[\n"\\]/g;function jn(s){return s.replace(Ia,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Do(s,r,o,u,m,g,T,R){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),r!=null?T==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+hn(r)):s.value!==""+hn(r)&&(s.value=""+hn(r)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),r!=null?hc(s,T,hn(r)):o!=null?hc(s,T,hn(o)):u!=null&&s.removeAttribute("value"),m==null&&g!=null&&(s.defaultChecked=!!g),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+hn(R):s.removeAttribute("name")}function Eh(s,r,o,u,m,g,T,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){dt(s);return}o=o!=null?""+hn(o):"",r=r!=null?""+hn(r):o,R||r===s.value||(s.value=r),s.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=R?s.checked:!!u,s.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T),dt(s)}function hc(s,r,o){r==="number"&&hs(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function pr(s,r,o,u){if(s=s.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=r.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&u&&(s[o].defaultSelected=!0)}else{for(o=""+hn(o),r=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function Sh(s,r,o){if(r!=null&&(r=""+hn(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+hn(o):""}function gr(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if($(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=hn(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),dt(s)}function Fn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Ah=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fc(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||Ah.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function dc(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&fc(s,m,u)}else for(var g in r)r.hasOwnProperty(g)&&fc(s,g,r[g])}function ko(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(s){return yr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ui(){}var mc=null;function mi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var vr=null,fs=null;function xa(s){var r=di(s);if(r&&(s=r.stateNode)){var o=s[un]||null;e:switch(s=r.stateNode,r.type){case"input":if(Do(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+jn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var m=u[un]||null;if(!m)throw Error(i(90));Do(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&Ra(u)}break e;case"textarea":Sh(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&pr(s,!!o.multiple,r,!1)}}}var No=!1;function _r(s,r,o){if(No)return s(r,o);No=!0;try{var u=s(r);return u}finally{if(No=!1,(vr!==null||fs!==null)&&(bf(),vr&&(r=vr,s=fs,fs=vr=null,xa(r),s)))for(r=0;r<s.length;r++)xa(s[r])}}function ji(s,r){var o=s.stateNode;if(o===null)return null;var u=o[un]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Da=!1;if(pi)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){Da=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{Da=!1}var ds=null,pc=null,ka=null;function gc(){if(ka)return ka;var s,r=pc,o=r.length,u,m="value"in ds?ds.value:ds.textContent,g=m.length;for(s=0;s<o&&r[s]===m[s];s++);var T=o-s;for(u=1;u<=T&&r[o-u]===m[g-u];u++);return ka=m.slice(s,1<u?1-u:void 0)}function Ma(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Ms(){return!0}function Fi(){return!1}function gn(s){function r(o,u,m,g,T){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(o=s[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ms:Fi,this.isPropagationStopped=Fi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),r}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=gn(Ns),br=v({},Ns,{view:0,detail:0}),yc=gn(br),Tr,Po,ps,Oo=v({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ps&&(ps&&s.type==="mousemove"?(Tr=s.screenX-ps.screenX,Po=s.screenY-ps.screenY):Po=Tr=0,ps=s),Tr)},movementY:function(s){return"movementY"in s?s.movementY:Po}}),vc=gn(Oo),Na=v({},Oo,{dataTransfer:0}),Rh=gn(Na),Ih=v({},br,{relatedTarget:0}),Pa=gn(Ih),_c=v({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),xh=gn(_c),Vo=v({},Ns,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Dh=gn(Vo),kh=v({},Ns,{data:0}),gs=gn(kh),Mh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oh(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Ph[s])?!!r[s]:!1}function wr(){return Oh}var Pn=v({},br,{key:function(s){if(s.key){var r=Mh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Ma(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(s){return s.type==="keypress"?Ma(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ma(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Vh=gn(Pn),Lh=v({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ps=gn(Lh),d=v({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),_=gn(d),w=v({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=gn(w),Q=v({},Oo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),re=gn(Q),ve=v({},Ns,{newState:0,oldState:0}),$e=gn(ve),Ft=[9,13,27,32],ut=pi&&"CompositionEvent"in window,It=null;pi&&"documentMode"in document&&(It=document.documentMode);var gi=pi&&"TextEvent"in window&&!It,ys=pi&&(!ut||It&&8<It&&11>=It),zi=" ",Bi=!1;function Oa(s,r){switch(s){case"keyup":return Ft.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Uo=!1;function jk(s,r){switch(s){case"compositionend":return Lo(r);case"keypress":return r.which!==32?null:(Bi=!0,zi);case"textInput":return s=r.data,s===zi&&Bi?null:s;default:return null}}function Fk(s,r){if(Uo)return s==="compositionend"||!ut&&Oa(s,r)?(s=gc(),ka=pc=ds=null,Uo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ys&&r.locale!=="ko"?null:r.data;default:return null}}var zk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z_(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!zk[s.type]:r==="textarea"}function B_(s,r,o,u){vr?fs?fs.push(u):fs=[u]:vr=u,r=Rf(r,"onChange"),0<r.length&&(o=new ms("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var bc=null,Tc=null;function Bk(s){Sw(s,0)}function Uh(s){var r=Jn(s);if(Ra(r))return s}function q_(s,r){if(s==="change")return r}var H_=!1;if(pi){var Xm;if(pi){var Jm="oninput"in document;if(!Jm){var G_=document.createElement("div");G_.setAttribute("oninput","return;"),Jm=typeof G_.oninput=="function"}Xm=Jm}else Xm=!1;H_=Xm&&(!document.documentMode||9<document.documentMode)}function $_(){bc&&(bc.detachEvent("onpropertychange",K_),Tc=bc=null)}function K_(s){if(s.propertyName==="value"&&Uh(Tc)){var r=[];B_(r,Tc,s,mi(s)),_r(Bk,r)}}function qk(s,r,o){s==="focusin"?($_(),bc=r,Tc=o,bc.attachEvent("onpropertychange",K_)):s==="focusout"&&$_()}function Hk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Uh(Tc)}function Gk(s,r){if(s==="click")return Uh(r)}function $k(s,r){if(s==="input"||s==="change")return Uh(r)}function Kk(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var ei=typeof Object.is=="function"?Object.is:Kk;function wc(s,r){if(ei(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!Ue.call(r,m)||!ei(s[m],r[m]))return!1}return!0}function Y_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function W_(s,r){var o=Y_(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Y_(o)}}function Q_(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Q_(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function X_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=hs(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=hs(s.document)}return r}function Zm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var Yk=pi&&"documentMode"in document&&11>=document.documentMode,jo=null,ep=null,Ec=null,tp=!1;function J_(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;tp||jo==null||jo!==hs(u)||(u=jo,"selectionStart"in u&&Zm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ec&&wc(Ec,u)||(Ec=u,u=Rf(ep,"onSelect"),0<u.length&&(r=new ms("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=jo)))}function Va(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Fo={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},np={},Z_={};pi&&(Z_=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function La(s){if(np[s])return np[s];if(!Fo[s])return s;var r=Fo[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in Z_)return np[s]=r[o];return s}var eb=La("animationend"),tb=La("animationiteration"),nb=La("animationstart"),Wk=La("transitionrun"),Qk=La("transitionstart"),Xk=La("transitioncancel"),ib=La("transitionend"),sb=new Map,ip="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ip.push("scrollEnd");function qi(s,r){sb.set(s,r),cs(r,[s])}var jh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},yi=[],zo=0,sp=0;function Fh(){for(var s=zo,r=sp=zo=0;r<s;){var o=yi[r];yi[r++]=null;var u=yi[r];yi[r++]=null;var m=yi[r];yi[r++]=null;var g=yi[r];if(yi[r++]=null,u!==null&&m!==null){var T=u.pending;T===null?m.next=m:(m.next=T.next,T.next=m),u.pending=m}g!==0&&rb(o,m,g)}}function zh(s,r,o,u){yi[zo++]=s,yi[zo++]=r,yi[zo++]=o,yi[zo++]=u,sp|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function rp(s,r,o,u){return zh(s,r,o,u),Bh(s)}function Ua(s,r){return zh(s,null,null,r),Bh(s)}function rb(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var m=!1,g=s.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(m=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,m&&r!==null&&(m=31-jt(o),s=g.hiddenUpdates,u=s[m],u===null?s[m]=[r]:u.push(r),r.lane=o|536870912),g):null}function Bh(s){if(50<Gc)throw Gc=0,mg=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Bo={};function Jk(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(s,r,o,u){return new Jk(s,r,o,u)}function ap(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Os(s,r){var o=s.alternate;return o===null?(o=ti(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function ab(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function qh(s,r,o,u,m,g){var T=0;if(u=s,typeof s=="function")ap(s)&&(T=1);else if(typeof s=="string")T=iM(s,o,ne.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case D:return s=ti(31,o,r,m),s.elementType=D,s.lanes=g,s;case P:return ja(o.children,m,g,r);case z:T=8,m|=24;break;case j:return s=ti(12,o,r,m|2),s.elementType=j,s.lanes=g,s;case F:return s=ti(13,o,r,m),s.elementType=F,s.lanes=g,s;case X:return s=ti(19,o,r,m),s.elementType=X,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:T=10;break e;case L:T=9;break e;case ce:T=11;break e;case S:T=14;break e;case E:T=16,u=null;break e}T=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=ti(T,o,r,m),r.elementType=s,r.type=u,r.lanes=g,r}function ja(s,r,o,u){return s=ti(7,s,u,r),s.lanes=o,s}function op(s,r,o){return s=ti(6,s,null,r),s.lanes=o,s}function ob(s){var r=ti(18,null,null,0);return r.stateNode=s,r}function lp(s,r,o){return r=ti(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var lb=new WeakMap;function vi(s,r){if(typeof s=="object"&&s!==null){var o=lb.get(s);return o!==void 0?o:(r={value:s,source:r,stack:ke(r)},lb.set(s,r),r)}return{value:s,source:r,stack:ke(r)}}var qo=[],Ho=0,Hh=null,Sc=0,_i=[],bi=0,Er=null,vs=1,_s="";function Vs(s,r){qo[Ho++]=Sc,qo[Ho++]=Hh,Hh=s,Sc=r}function cb(s,r,o){_i[bi++]=vs,_i[bi++]=_s,_i[bi++]=Er,Er=s;var u=vs;s=_s;var m=32-jt(u)-1;u&=~(1<<m),o+=1;var g=32-jt(r)+m;if(30<g){var T=m-m%5;g=(u&(1<<T)-1).toString(32),u>>=T,m-=T,vs=1<<32-jt(r)+m|o<<m|u,_s=g+s}else vs=1<<g|o<<m|u,_s=s}function cp(s){s.return!==null&&(Vs(s,1),cb(s,1,0))}function up(s){for(;s===Hh;)Hh=qo[--Ho],qo[Ho]=null,Sc=qo[--Ho],qo[Ho]=null;for(;s===Er;)Er=_i[--bi],_i[bi]=null,_s=_i[--bi],_i[bi]=null,vs=_i[--bi],_i[bi]=null}function ub(s,r){_i[bi++]=vs,_i[bi++]=_s,_i[bi++]=Er,vs=r.id,_s=r.overflow,Er=s}var yn=null,St=null,st=!1,Sr=null,Ti=!1,hp=Error(i(519));function Ar(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ac(vi(r,s)),hp}function hb(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Kt]=s,r[un]=u,o){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(o=0;o<Kc.length;o++)Je(Kc[o],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":Je("invalid",r),Eh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Je("invalid",r);break;case"textarea":Je("invalid",r),gr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Iw(r.textContent,o)?(u.popover!=null&&(Je("beforetoggle",r),Je("toggle",r)),u.onScroll!=null&&Je("scroll",r),u.onScrollEnd!=null&&Je("scrollend",r),u.onClick!=null&&(r.onclick=Ui),r=!0):r=!1,r||Ar(s,!0)}function fb(s){for(yn=s.return;yn;)switch(yn.tag){case 5:case 31:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:yn=yn.return}}function Go(s){if(s!==yn)return!1;if(!st)return fb(s),st=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||xg(s.type,s.memoizedProps)),o=!o),o&&St&&Ar(s),fb(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));St=Lw(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));St=Lw(s)}else r===27?(r=St,jr(s.type)?(s=Pg,Pg=null,St=s):St=r):St=yn?Ei(s.stateNode.nextSibling):null;return!0}function Fa(){St=yn=null,st=!1}function fp(){var s=Sr;return s!==null&&(Hn===null?Hn=s:Hn.push.apply(Hn,s),Sr=null),s}function Ac(s){Sr===null?Sr=[s]:Sr.push(s)}var dp=q(null),za=null,Ls=null;function Cr(s,r,o){pe(dp,r._currentValue),r._currentValue=o}function Us(s){s._currentValue=dp.current,ae(dp)}function mp(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function pp(s,r,o,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var g=m.dependencies;if(g!==null){var T=m.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=m;for(var B=0;B<r.length;B++)if(R.context===r[B]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),mp(g.return,o,s),u||(T=null);break e}g=R.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),mp(T,o,s),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===s){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function $o(s,r,o,u){s=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var R=m.type;ei(m.pendingProps.value,T.value)||(s!==null?s.push(R):s=[R])}}else if(m===ge.current){if(T=m.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Jc):s=[Jc])}m=m.return}s!==null&&pp(r,s,o,u),r.flags|=262144}function Gh(s){for(s=s.firstContext;s!==null;){if(!ei(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ba(s){za=s,Ls=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function vn(s){return db(za,s)}function $h(s,r){return za===null&&Ba(s),db(s,r)}function db(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ls===null){if(s===null)throw Error(i(308));Ls=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Ls=Ls.next=r;return o}var Zk=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},e2=t.unstable_scheduleCallback,t2=t.unstable_NormalPriority,Qt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gp(){return{controller:new Zk,data:new Map,refCount:0}}function Cc(s){s.refCount--,s.refCount===0&&e2(t2,function(){s.controller.abort()})}var Rc=null,yp=0,Ko=0,Yo=null;function n2(s,r){if(Rc===null){var o=Rc=[];yp=0,Ko=bg(),Yo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return yp++,r.then(mb,mb),r}function mb(){if(--yp===0&&Rc!==null){Yo!==null&&(Yo.status="fulfilled");var s=Rc;Rc=null,Ko=0,Yo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function i2(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var pb=H.S;H.S=function(s,r){JT=Nn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&n2(s,r),pb!==null&&pb(s,r)};var qa=q(null);function vp(){var s=qa.current;return s!==null?s:wt.pooledCache}function Kh(s,r){r===null?pe(qa,qa.current):pe(qa,r.pool)}function gb(){var s=vp();return s===null?null:{parent:Qt._currentValue,pool:s}}var Wo=Error(i(460)),_p=Error(i(474)),Yh=Error(i(542)),Wh={then:function(){}};function yb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function vb(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Ui,Ui),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,bb(s),s;default:if(typeof r.status=="string")r.then(Ui,Ui);else{if(s=wt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,bb(s),s}throw Ga=r,Wo}}function Ha(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ga=o,Wo):o}}var Ga=null;function _b(){if(Ga===null)throw Error(i(459));var s=Ga;return Ga=null,s}function bb(s){if(s===Wo||s===Yh)throw Error(i(483))}var Qo=null,Ic=0;function Qh(s){var r=Ic;return Ic+=1,Qo===null&&(Qo=[]),vb(Qo,s,r)}function xc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Xh(s,r){throw r.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Tb(s){function r(Y,G){if(s){var Z=Y.deletions;Z===null?(Y.deletions=[G],Y.flags|=16):Z.push(G)}}function o(Y,G){if(!s)return null;for(;G!==null;)r(Y,G),G=G.sibling;return null}function u(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function m(Y,G){return Y=Os(Y,G),Y.index=0,Y.sibling=null,Y}function g(Y,G,Z){return Y.index=Z,s?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<G?(Y.flags|=67108866,G):Z):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function T(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function R(Y,G,Z,ue){return G===null||G.tag!==6?(G=op(Z,Y.mode,ue),G.return=Y,G):(G=m(G,Z),G.return=Y,G)}function B(Y,G,Z,ue){var Oe=Z.type;return Oe===P?le(Y,G,Z.props.children,ue,Z.key):G!==null&&(G.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===E&&Ha(Oe)===G.type)?(G=m(G,Z.props),xc(G,Z),G.return=Y,G):(G=qh(Z.type,Z.key,Z.props,null,Y.mode,ue),xc(G,Z),G.return=Y,G)}function ee(Y,G,Z,ue){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=lp(Z,Y.mode,ue),G.return=Y,G):(G=m(G,Z.children||[]),G.return=Y,G)}function le(Y,G,Z,ue,Oe){return G===null||G.tag!==7?(G=ja(Z,Y.mode,ue,Oe),G.return=Y,G):(G=m(G,Z),G.return=Y,G)}function fe(Y,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=op(""+G,Y.mode,Z),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case I:return Z=qh(G.type,G.key,G.props,null,Y.mode,Z),xc(Z,G),Z.return=Y,Z;case N:return G=lp(G,Y.mode,Z),G.return=Y,G;case E:return G=Ha(G),fe(Y,G,Z)}if($(G)||k(G))return G=ja(G,Y.mode,Z,null),G.return=Y,G;if(typeof G.then=="function")return fe(Y,Qh(G),Z);if(G.$$typeof===U)return fe(Y,$h(Y,G),Z);Xh(Y,G)}return null}function se(Y,G,Z,ue){var Oe=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Oe!==null?null:R(Y,G,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case I:return Z.key===Oe?B(Y,G,Z,ue):null;case N:return Z.key===Oe?ee(Y,G,Z,ue):null;case E:return Z=Ha(Z),se(Y,G,Z,ue)}if($(Z)||k(Z))return Oe!==null?null:le(Y,G,Z,ue,null);if(typeof Z.then=="function")return se(Y,G,Qh(Z),ue);if(Z.$$typeof===U)return se(Y,G,$h(Y,Z),ue);Xh(Y,Z)}return null}function oe(Y,G,Z,ue,Oe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Y=Y.get(Z)||null,R(G,Y,""+ue,Oe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case I:return Y=Y.get(ue.key===null?Z:ue.key)||null,B(G,Y,ue,Oe);case N:return Y=Y.get(ue.key===null?Z:ue.key)||null,ee(G,Y,ue,Oe);case E:return ue=Ha(ue),oe(Y,G,Z,ue,Oe)}if($(ue)||k(ue))return Y=Y.get(Z)||null,le(G,Y,ue,Oe,null);if(typeof ue.then=="function")return oe(Y,G,Z,Qh(ue),Oe);if(ue.$$typeof===U)return oe(Y,G,Z,$h(G,ue),Oe);Xh(G,ue)}return null}function Re(Y,G,Z,ue){for(var Oe=null,lt=null,Ne=G,Ye=G=0,tt=null;Ne!==null&&Ye<Z.length;Ye++){Ne.index>Ye?(tt=Ne,Ne=null):tt=Ne.sibling;var ct=se(Y,Ne,Z[Ye],ue);if(ct===null){Ne===null&&(Ne=tt);break}s&&Ne&&ct.alternate===null&&r(Y,Ne),G=g(ct,G,Ye),lt===null?Oe=ct:lt.sibling=ct,lt=ct,Ne=tt}if(Ye===Z.length)return o(Y,Ne),st&&Vs(Y,Ye),Oe;if(Ne===null){for(;Ye<Z.length;Ye++)Ne=fe(Y,Z[Ye],ue),Ne!==null&&(G=g(Ne,G,Ye),lt===null?Oe=Ne:lt.sibling=Ne,lt=Ne);return st&&Vs(Y,Ye),Oe}for(Ne=u(Ne);Ye<Z.length;Ye++)tt=oe(Ne,Y,Ye,Z[Ye],ue),tt!==null&&(s&&tt.alternate!==null&&Ne.delete(tt.key===null?Ye:tt.key),G=g(tt,G,Ye),lt===null?Oe=tt:lt.sibling=tt,lt=tt);return s&&Ne.forEach(function(Hr){return r(Y,Hr)}),st&&Vs(Y,Ye),Oe}function je(Y,G,Z,ue){if(Z==null)throw Error(i(151));for(var Oe=null,lt=null,Ne=G,Ye=G=0,tt=null,ct=Z.next();Ne!==null&&!ct.done;Ye++,ct=Z.next()){Ne.index>Ye?(tt=Ne,Ne=null):tt=Ne.sibling;var Hr=se(Y,Ne,ct.value,ue);if(Hr===null){Ne===null&&(Ne=tt);break}s&&Ne&&Hr.alternate===null&&r(Y,Ne),G=g(Hr,G,Ye),lt===null?Oe=Hr:lt.sibling=Hr,lt=Hr,Ne=tt}if(ct.done)return o(Y,Ne),st&&Vs(Y,Ye),Oe;if(Ne===null){for(;!ct.done;Ye++,ct=Z.next())ct=fe(Y,ct.value,ue),ct!==null&&(G=g(ct,G,Ye),lt===null?Oe=ct:lt.sibling=ct,lt=ct);return st&&Vs(Y,Ye),Oe}for(Ne=u(Ne);!ct.done;Ye++,ct=Z.next())ct=oe(Ne,Y,Ye,ct.value,ue),ct!==null&&(s&&ct.alternate!==null&&Ne.delete(ct.key===null?Ye:ct.key),G=g(ct,G,Ye),lt===null?Oe=ct:lt.sibling=ct,lt=ct);return s&&Ne.forEach(function(mM){return r(Y,mM)}),st&&Vs(Y,Ye),Oe}function bt(Y,G,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===P&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case I:e:{for(var Oe=Z.key;G!==null;){if(G.key===Oe){if(Oe=Z.type,Oe===P){if(G.tag===7){o(Y,G.sibling),ue=m(G,Z.props.children),ue.return=Y,Y=ue;break e}}else if(G.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===E&&Ha(Oe)===G.type){o(Y,G.sibling),ue=m(G,Z.props),xc(ue,Z),ue.return=Y,Y=ue;break e}o(Y,G);break}else r(Y,G);G=G.sibling}Z.type===P?(ue=ja(Z.props.children,Y.mode,ue,Z.key),ue.return=Y,Y=ue):(ue=qh(Z.type,Z.key,Z.props,null,Y.mode,ue),xc(ue,Z),ue.return=Y,Y=ue)}return T(Y);case N:e:{for(Oe=Z.key;G!==null;){if(G.key===Oe)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){o(Y,G.sibling),ue=m(G,Z.children||[]),ue.return=Y,Y=ue;break e}else{o(Y,G);break}else r(Y,G);G=G.sibling}ue=lp(Z,Y.mode,ue),ue.return=Y,Y=ue}return T(Y);case E:return Z=Ha(Z),bt(Y,G,Z,ue)}if($(Z))return Re(Y,G,Z,ue);if(k(Z)){if(Oe=k(Z),typeof Oe!="function")throw Error(i(150));return Z=Oe.call(Z),je(Y,G,Z,ue)}if(typeof Z.then=="function")return bt(Y,G,Qh(Z),ue);if(Z.$$typeof===U)return bt(Y,G,$h(Y,Z),ue);Xh(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(o(Y,G.sibling),ue=m(G,Z),ue.return=Y,Y=ue):(o(Y,G),ue=op(Z,Y.mode,ue),ue.return=Y,Y=ue),T(Y)):o(Y,G)}return function(Y,G,Z,ue){try{Ic=0;var Oe=bt(Y,G,Z,ue);return Qo=null,Oe}catch(Ne){if(Ne===Wo||Ne===Yh)throw Ne;var lt=ti(29,Ne,null,Y.mode);return lt.lanes=ue,lt.return=Y,lt}}}var $a=Tb(!0),wb=Tb(!1),Rr=!1;function bp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tp(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ir(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function xr(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(ht&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=Bh(s),rb(s,null,o),r}return zh(s,u,r,o),Bh(s)}function Dc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,ic(s,o)}}function wp(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Ep=!1;function kc(){if(Ep){var s=Yo;if(s!==null)throw s}}function Mc(s,r,o,u){Ep=!1;var m=s.updateQueue;Rr=!1;var g=m.firstBaseUpdate,T=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var B=R,ee=B.next;B.next=null,T===null?g=ee:T.next=ee,T=B;var le=s.alternate;le!==null&&(le=le.updateQueue,R=le.lastBaseUpdate,R!==T&&(R===null?le.firstBaseUpdate=ee:R.next=ee,le.lastBaseUpdate=B))}if(g!==null){var fe=m.baseState;T=0,le=ee=B=null,R=g;do{var se=R.lane&-536870913,oe=se!==R.lane;if(oe?(et&se)===se:(u&se)===se){se!==0&&se===Ko&&(Ep=!0),le!==null&&(le=le.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Re=s,je=R;se=r;var bt=o;switch(je.tag){case 1:if(Re=je.payload,typeof Re=="function"){fe=Re.call(bt,fe,se);break e}fe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=je.payload,se=typeof Re=="function"?Re.call(bt,fe,se):Re,se==null)break e;fe=v({},fe,se);break e;case 2:Rr=!0}}se=R.callback,se!==null&&(s.flags|=64,oe&&(s.flags|=8192),oe=m.callbacks,oe===null?m.callbacks=[se]:oe.push(se))}else oe={lane:se,tag:R.tag,payload:R.payload,callback:R.callback,next:null},le===null?(ee=le=oe,B=fe):le=le.next=oe,T|=se;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;oe=R,R=oe.next,oe.next=null,m.lastBaseUpdate=oe,m.shared.pending=null}}while(!0);le===null&&(B=fe),m.baseState=B,m.firstBaseUpdate=ee,m.lastBaseUpdate=le,g===null&&(m.shared.lanes=0),Pr|=T,s.lanes=T,s.memoizedState=fe}}function Eb(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Sb(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Eb(o[s],r)}var Xo=q(null),Jh=q(0);function Ab(s,r){s=Ks,pe(Jh,s),pe(Xo,r),Ks=s|r.baseLanes}function Sp(){pe(Jh,Ks),pe(Xo,Xo.current)}function Ap(){Ks=Jh.current,ae(Xo),ae(Jh)}var ni=q(null),wi=null;function Dr(s){var r=s.alternate;pe(zt,zt.current&1),pe(ni,s),wi===null&&(r===null||Xo.current!==null||r.memoizedState!==null)&&(wi=s)}function Cp(s){pe(zt,zt.current),pe(ni,s),wi===null&&(wi=s)}function Cb(s){s.tag===22?(pe(zt,zt.current),pe(ni,s),wi===null&&(wi=s)):kr()}function kr(){pe(zt,zt.current),pe(ni,ni.current)}function ii(s){ae(ni),wi===s&&(wi=null),ae(zt)}var zt=q(0);function Zh(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Mg(o)||Ng(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var js=0,Ke=null,vt=null,Xt=null,ef=!1,Jo=!1,Ka=!1,tf=0,Nc=0,Zo=null,s2=0;function Pt(){throw Error(i(321))}function Rp(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!ei(s[o],r[o]))return!1;return!0}function Ip(s,r,o,u,m,g){return js=g,Ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=s===null||s.memoizedState===null?cT:qp,Ka=!1,g=o(u,m),Ka=!1,Jo&&(g=Ib(r,o,u,m)),Rb(s),g}function Rb(s){H.H=Vc;var r=vt!==null&&vt.next!==null;if(js=0,Xt=vt=Ke=null,ef=!1,Nc=0,Zo=null,r)throw Error(i(300));s===null||Jt||(s=s.dependencies,s!==null&&Gh(s)&&(Jt=!0))}function Ib(s,r,o,u){Ke=s;var m=0;do{if(Jo&&(Zo=null),Nc=0,Jo=!1,25<=m)throw Error(i(301));if(m+=1,Xt=vt=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=uT,g=r(o,u)}while(Jo);return g}function r2(){var s=H.H,r=s.useState()[0];return r=typeof r.then=="function"?Pc(r):r,s=s.useState()[0],(vt!==null?vt.memoizedState:null)!==s&&(Ke.flags|=1024),r}function xp(){var s=tf!==0;return tf=0,s}function Dp(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function kp(s){if(ef){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}ef=!1}js=0,Xt=vt=Ke=null,Jo=!1,Nc=tf=0,Zo=null}function On(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ke.memoizedState=Xt=s:Xt=Xt.next=s,Xt}function Bt(){if(vt===null){var s=Ke.alternate;s=s!==null?s.memoizedState:null}else s=vt.next;var r=Xt===null?Ke.memoizedState:Xt.next;if(r!==null)Xt=r,vt=s;else{if(s===null)throw Ke.alternate===null?Error(i(467)):Error(i(310));vt=s,s={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Xt===null?Ke.memoizedState=Xt=s:Xt=Xt.next=s}return Xt}function nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pc(s){var r=Nc;return Nc+=1,Zo===null&&(Zo=[]),s=vb(Zo,s,r),r=Ke,(Xt===null?r.memoizedState:Xt.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?cT:qp),s}function sf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Pc(s);if(s.$$typeof===U)return vn(s)}throw Error(i(438,String(s)))}function Mp(s){var r=null,o=Ke.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=nf(),Ke.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=O;return r.index++,o}function Fs(s,r){return typeof r=="function"?r(s):r}function rf(s){var r=Bt();return Np(r,vt,s)}function Np(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var m=s.baseQueue,g=u.pending;if(g!==null){if(m!==null){var T=m.next;m.next=g.next,g.next=T}r.baseQueue=m=g,u.pending=null}if(g=s.baseState,m===null)s.memoizedState=g;else{r=m.next;var R=T=null,B=null,ee=r,le=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(et&fe)===fe:(js&fe)===fe){var se=ee.revertLane;if(se===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===Ko&&(le=!0);else if((js&se)===se){ee=ee.next,se===Ko&&(le=!0);continue}else fe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},B===null?(R=B=fe,T=g):B=B.next=fe,Ke.lanes|=se,Pr|=se;fe=ee.action,Ka&&o(g,fe),g=ee.hasEagerState?ee.eagerState:o(g,fe)}else se={lane:fe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},B===null?(R=B=se,T=g):B=B.next=se,Ke.lanes|=fe,Pr|=fe;ee=ee.next}while(ee!==null&&ee!==r);if(B===null?T=g:B.next=R,!ei(g,s.memoizedState)&&(Jt=!0,le&&(o=Yo,o!==null)))throw o;s.memoizedState=g,s.baseState=T,s.baseQueue=B,u.lastRenderedState=g}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Pp(s){var r=Bt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do g=s(g,T.action),T=T.next;while(T!==m);ei(g,r.memoizedState)||(Jt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function xb(s,r,o){var u=Ke,m=Bt(),g=st;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var T=!ei((vt||m).memoizedState,o);if(T&&(m.memoizedState=o,Jt=!0),m=m.queue,Lp(Mb.bind(null,u,m,s),[s]),m.getSnapshot!==r||T||Xt!==null&&Xt.memoizedState.tag&1){if(u.flags|=2048,el(9,{destroy:void 0},kb.bind(null,u,m,o,r),null),wt===null)throw Error(i(349));g||(js&127)!==0||Db(u,r,o)}return o}function Db(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Ke.updateQueue,r===null?(r=nf(),Ke.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function kb(s,r,o,u){r.value=o,r.getSnapshot=u,Nb(r)&&Pb(s)}function Mb(s,r,o){return o(function(){Nb(r)&&Pb(s)})}function Nb(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!ei(s,o)}catch{return!0}}function Pb(s){var r=Ua(s,2);r!==null&&Gn(r,s,2)}function Op(s){var r=On();if(typeof s=="function"){var o=s;if(s=o(),Ka){fi(!0);try{o()}finally{fi(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:s},r}function Ob(s,r,o,u){return s.baseState=o,Np(s,vt,typeof u=="function"?u:Fs)}function a2(s,r,o,u,m){if(lf(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};H.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,Vb(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Vb(s,r){var o=r.action,u=r.payload,m=s.state;if(r.isTransition){var g=H.T,T={};H.T=T;try{var R=o(m,u),B=H.S;B!==null&&B(T,R),Lb(s,r,R)}catch(ee){Vp(s,r,ee)}finally{g!==null&&T.types!==null&&(g.types=T.types),H.T=g}}else try{g=o(m,u),Lb(s,r,g)}catch(ee){Vp(s,r,ee)}}function Lb(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Ub(s,r,u)},function(u){return Vp(s,r,u)}):Ub(s,r,o)}function Ub(s,r,o){r.status="fulfilled",r.value=o,jb(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,Vb(s,o)))}function Vp(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,jb(r),r=r.next;while(r!==u)}s.action=null}function jb(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Fb(s,r){return r}function zb(s,r){if(st){var o=wt.formState;if(o!==null){e:{var u=Ke;if(st){if(St){t:{for(var m=St,g=Ti;m.nodeType!==8;){if(!g){m=null;break t}if(m=Ei(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){St=Ei(m.nextSibling),u=m.data==="F!";break e}}Ar(u)}u=!1}u&&(r=o[0])}}return o=On(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fb,lastRenderedState:r},o.queue=u,o=aT.bind(null,Ke,u),u.dispatch=o,u=Op(!1),g=Bp.bind(null,Ke,!1,u.queue),u=On(),m={state:r,dispatch:null,action:s,pending:null},u.queue=m,o=a2.bind(null,Ke,m,g,o),m.dispatch=o,u.memoizedState=s,[r,o,!1]}function Bb(s){var r=Bt();return qb(r,vt,s)}function qb(s,r,o){if(r=Np(s,r,Fb)[0],s=rf(Fs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Pc(r)}catch(T){throw T===Wo?Yh:T}else u=r;r=Bt();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(Ke.flags|=2048,el(9,{destroy:void 0},o2.bind(null,m,o),null)),[u,g,s]}function o2(s,r){s.action=r}function Hb(s){var r=Bt(),o=vt;if(o!==null)return qb(r,o,s);Bt(),r=r.memoizedState,o=Bt();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function el(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Ke.updateQueue,r===null&&(r=nf(),Ke.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function Gb(){return Bt().memoizedState}function af(s,r,o,u){var m=On();Ke.flags|=s,m.memoizedState=el(1|r,{destroy:void 0},o,u===void 0?null:u)}function of(s,r,o,u){var m=Bt();u=u===void 0?null:u;var g=m.memoizedState.inst;vt!==null&&u!==null&&Rp(u,vt.memoizedState.deps)?m.memoizedState=el(r,g,o,u):(Ke.flags|=s,m.memoizedState=el(1|r,g,o,u))}function $b(s,r){af(8390656,8,s,r)}function Lp(s,r){of(2048,8,s,r)}function l2(s){Ke.flags|=4;var r=Ke.updateQueue;if(r===null)r=nf(),Ke.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function Kb(s){var r=Bt().memoizedState;return l2({ref:r,nextImpl:s}),function(){if((ht&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function Yb(s,r){return of(4,2,s,r)}function Wb(s,r){return of(4,4,s,r)}function Qb(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Xb(s,r,o){o=o!=null?o.concat([s]):null,of(4,4,Qb.bind(null,r,s),o)}function Up(){}function Jb(s,r){var o=Bt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Rp(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function Zb(s,r){var o=Bt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Rp(r,u[1]))return u[0];if(u=s(),Ka){fi(!0);try{s()}finally{fi(!1)}}return o.memoizedState=[u,r],u}function jp(s,r,o){return o===void 0||(js&1073741824)!==0&&(et&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=ew(),Ke.lanes|=s,Pr|=s,o)}function eT(s,r,o,u){return ei(o,r)?o:Xo.current!==null?(s=jp(s,o,u),ei(s,r)||(Jt=!0),s):(js&42)===0||(js&1073741824)!==0&&(et&261930)===0?(Jt=!0,s.memoizedState=o):(s=ew(),Ke.lanes|=s,Pr|=s,r)}function tT(s,r,o,u,m){var g=te.p;te.p=g!==0&&8>g?g:8;var T=H.T,R={};H.T=R,Bp(s,!1,r,o);try{var B=m(),ee=H.S;if(ee!==null&&ee(R,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var le=i2(B,u);Oc(s,r,le,ai(s))}else Oc(s,r,u,ai(s))}catch(fe){Oc(s,r,{then:function(){},status:"rejected",reason:fe},ai())}finally{te.p=g,T!==null&&R.types!==null&&(T.types=R.types),H.T=T}}function c2(){}function Fp(s,r,o,u){if(s.tag!==5)throw Error(i(476));var m=nT(s).queue;tT(s,m,r,W,o===null?c2:function(){return iT(s),o(u)})}function nT(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:W},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function iT(s){var r=nT(s);r.next===null&&(r=s.alternate.memoizedState),Oc(s,r.next.queue,{},ai())}function zp(){return vn(Jc)}function sT(){return Bt().memoizedState}function rT(){return Bt().memoizedState}function u2(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=ai();s=Ir(o);var u=xr(r,s,o);u!==null&&(Gn(u,r,o),Dc(u,r,o)),r={cache:gp()},s.payload=r;return}r=r.return}}function h2(s,r,o){var u=ai();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lf(s)?oT(r,o):(o=rp(s,r,o,u),o!==null&&(Gn(o,s,u),lT(o,r,u)))}function aT(s,r,o){var u=ai();Oc(s,r,o,u)}function Oc(s,r,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(lf(s))oT(r,m);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,R=g(T,o);if(m.hasEagerState=!0,m.eagerState=R,ei(R,T))return zh(s,r,m,0),wt===null&&Fh(),!1}catch{}if(o=rp(s,r,m,u),o!==null)return Gn(o,s,u),lT(o,r,u),!0}return!1}function Bp(s,r,o,u){if(u={lane:2,revertLane:bg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},lf(s)){if(r)throw Error(i(479))}else r=rp(s,o,u,2),r!==null&&Gn(r,s,2)}function lf(s){var r=s.alternate;return s===Ke||r!==null&&r===Ke}function oT(s,r){Jo=ef=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function lT(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,ic(s,o)}}var Vc={readContext:vn,use:sf,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};Vc.useEffectEvent=Pt;var cT={readContext:vn,use:sf,useCallback:function(s,r){return On().memoizedState=[s,r===void 0?null:r],s},useContext:vn,useEffect:$b,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,af(4194308,4,Qb.bind(null,r,s),o)},useLayoutEffect:function(s,r){return af(4194308,4,s,r)},useInsertionEffect:function(s,r){af(4,2,s,r)},useMemo:function(s,r){var o=On();r=r===void 0?null:r;var u=s();if(Ka){fi(!0);try{s()}finally{fi(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=On();if(o!==void 0){var m=o(r);if(Ka){fi(!0);try{o(r)}finally{fi(!1)}}}else m=r;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=h2.bind(null,Ke,s),[u.memoizedState,s]},useRef:function(s){var r=On();return s={current:s},r.memoizedState=s},useState:function(s){s=Op(s);var r=s.queue,o=aT.bind(null,Ke,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Up,useDeferredValue:function(s,r){var o=On();return jp(o,s,r)},useTransition:function(){var s=Op(!1);return s=tT.bind(null,Ke,s.queue,!0,!1),On().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Ke,m=On();if(st){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),wt===null)throw Error(i(349));(et&127)!==0||Db(u,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,$b(Mb.bind(null,u,g,s),[s]),u.flags|=2048,el(9,{destroy:void 0},kb.bind(null,u,g,o,r),null),o},useId:function(){var s=On(),r=wt.identifierPrefix;if(st){var o=_s,u=vs;o=(u&~(1<<32-jt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=tf++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=s2++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:zp,useFormState:zb,useActionState:zb,useOptimistic:function(s){var r=On();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Bp.bind(null,Ke,!0,o),o.dispatch=r,[s,r]},useMemoCache:Mp,useCacheRefresh:function(){return On().memoizedState=u2.bind(null,Ke)},useEffectEvent:function(s){var r=On(),o={impl:s};return r.memoizedState=o,function(){if((ht&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},qp={readContext:vn,use:sf,useCallback:Jb,useContext:vn,useEffect:Lp,useImperativeHandle:Xb,useInsertionEffect:Yb,useLayoutEffect:Wb,useMemo:Zb,useReducer:rf,useRef:Gb,useState:function(){return rf(Fs)},useDebugValue:Up,useDeferredValue:function(s,r){var o=Bt();return eT(o,vt.memoizedState,s,r)},useTransition:function(){var s=rf(Fs)[0],r=Bt().memoizedState;return[typeof s=="boolean"?s:Pc(s),r]},useSyncExternalStore:xb,useId:sT,useHostTransitionStatus:zp,useFormState:Bb,useActionState:Bb,useOptimistic:function(s,r){var o=Bt();return Ob(o,vt,s,r)},useMemoCache:Mp,useCacheRefresh:rT};qp.useEffectEvent=Kb;var uT={readContext:vn,use:sf,useCallback:Jb,useContext:vn,useEffect:Lp,useImperativeHandle:Xb,useInsertionEffect:Yb,useLayoutEffect:Wb,useMemo:Zb,useReducer:Pp,useRef:Gb,useState:function(){return Pp(Fs)},useDebugValue:Up,useDeferredValue:function(s,r){var o=Bt();return vt===null?jp(o,s,r):eT(o,vt.memoizedState,s,r)},useTransition:function(){var s=Pp(Fs)[0],r=Bt().memoizedState;return[typeof s=="boolean"?s:Pc(s),r]},useSyncExternalStore:xb,useId:sT,useHostTransitionStatus:zp,useFormState:Hb,useActionState:Hb,useOptimistic:function(s,r){var o=Bt();return vt!==null?Ob(o,vt,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Mp,useCacheRefresh:rT};uT.useEffectEvent=Kb;function Hp(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Gp={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=ai(),m=Ir(u);m.payload=r,o!=null&&(m.callback=o),r=xr(s,m,u),r!==null&&(Gn(r,s,u),Dc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=ai(),m=Ir(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=xr(s,m,u),r!==null&&(Gn(r,s,u),Dc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=ai(),u=Ir(o);u.tag=2,r!=null&&(u.callback=r),r=xr(s,u,o),r!==null&&(Gn(r,s,o),Dc(r,s,o))}};function hT(s,r,o,u,m,g,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,g,T):r.prototype&&r.prototype.isPureReactComponent?!wc(o,u)||!wc(m,g):!0}function fT(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&Gp.enqueueReplaceState(r,r.state,null)}function Ya(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=v({},o));for(var m in s)o[m]===void 0&&(o[m]=s[m])}return o}function dT(s){jh(s)}function mT(s){console.error(s)}function pT(s){jh(s)}function cf(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function gT(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function $p(s,r,o){return o=Ir(o),o.tag=3,o.payload={element:null},o.callback=function(){cf(s,r)},o}function yT(s){return s=Ir(s),s.tag=3,s}function vT(s,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;s.payload=function(){return m(g)},s.callback=function(){gT(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){gT(r,o,u),typeof m!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function f2(s,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&$o(r,o,m,!0),o=ni.current,o!==null){switch(o.tag){case 31:case 13:return wi===null?Tf():o.alternate===null&&Ot===0&&(Ot=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Wh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),yg(s,u,m)),!1;case 22:return o.flags|=65536,u===Wh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),yg(s,u,m)),!1}throw Error(i(435,o.tag))}return yg(s,u,m),Tf(),!1}if(st)return r=ni.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==hp&&(s=Error(i(422),{cause:u}),Ac(vi(s,o)))):(u!==hp&&(r=Error(i(423),{cause:u}),Ac(vi(r,o))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=vi(u,o),m=$p(s.stateNode,u,m),wp(s,m),Ot!==4&&(Ot=2)),!1;var g=Error(i(520),{cause:u});if(g=vi(g,o),Hc===null?Hc=[g]:Hc.push(g),Ot!==4&&(Ot=2),r===null)return!0;u=vi(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=m&-m,o.lanes|=s,s=$p(o.stateNode,u,s),wp(o,s),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Or===null||!Or.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=yT(m),vT(m,s,o,u),wp(o,m),!1}o=o.return}while(o!==null);return!1}var Kp=Error(i(461)),Jt=!1;function _n(s,r,o,u){r.child=s===null?wb(r,null,o,u):$a(r,s.child,o,u)}function _T(s,r,o,u,m){o=o.render;var g=r.ref;if("ref"in u){var T={};for(var R in u)R!=="ref"&&(T[R]=u[R])}else T=u;return Ba(r),u=Ip(s,r,o,T,g,m),R=xp(),s!==null&&!Jt?(Dp(s,r,m),zs(s,r,m)):(st&&R&&cp(r),r.flags|=1,_n(s,r,u,m),r.child)}function bT(s,r,o,u,m){if(s===null){var g=o.type;return typeof g=="function"&&!ap(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,TT(s,r,g,u,m)):(s=qh(o.type,null,u,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!tg(s,m)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:wc,o(T,u)&&s.ref===r.ref)return zs(s,r,m)}return r.flags|=1,s=Os(g,u),s.ref=r.ref,s.return=r,r.child=s}function TT(s,r,o,u,m){if(s!==null){var g=s.memoizedProps;if(wc(g,u)&&s.ref===r.ref)if(Jt=!1,r.pendingProps=u=g,tg(s,m))(s.flags&131072)!==0&&(Jt=!0);else return r.lanes=s.lanes,zs(s,r,m)}return Yp(s,r,o,u,m)}function wT(s,r,o,u){var m=u.children,g=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,s!==null){for(u=r.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~g}else u=0,r.child=null;return ET(s,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Kh(r,g!==null?g.cachePool:null),g!==null?Ab(r,g):Sp(),Cb(r);else return u=r.lanes=536870912,ET(s,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Kh(r,g.cachePool),Ab(r,g),kr(),r.memoizedState=null):(s!==null&&Kh(r,null),Sp(),kr());return _n(s,r,m,o),r.child}function Lc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function ET(s,r,o,u,m){var g=vp();return g=g===null?null:{parent:Qt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},s!==null&&Kh(r,null),Sp(),Cb(r),s!==null&&$o(s,r,u,!0),r.childLanes=m,null}function uf(s,r){return r=ff({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function ST(s,r,o){return $a(r,s.child,null,o),s=uf(r,r.pendingProps),s.flags|=2,ii(r),r.memoizedState=null,s}function d2(s,r,o){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(st){if(u.mode==="hidden")return s=uf(r,u),r.lanes=536870912,Lc(null,s);if(Cp(r),(s=St)?(s=Vw(s,Ti),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Er!==null?{id:vs,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},o=ob(s),o.return=r,r.child=o,yn=r,St=null)):s=null,s===null)throw Ar(r);return r.lanes=536870912,null}return uf(r,u)}var g=s.memoizedState;if(g!==null){var T=g.dehydrated;if(Cp(r),m)if(r.flags&256)r.flags&=-257,r=ST(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Jt||$o(s,r,o,!1),m=(o&s.childLanes)!==0,Jt||m){if(u=wt,u!==null&&(T=sc(u,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,Ua(s,T),Gn(u,s,T),Kp;Tf(),r=ST(s,r,o)}else s=g.treeContext,St=Ei(T.nextSibling),yn=r,st=!0,Sr=null,Ti=!1,s!==null&&ub(r,s),r=uf(r,u),r.flags|=4096;return r}return s=Os(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function hf(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Yp(s,r,o,u,m){return Ba(r),o=Ip(s,r,o,u,void 0,m),u=xp(),s!==null&&!Jt?(Dp(s,r,m),zs(s,r,m)):(st&&u&&cp(r),r.flags|=1,_n(s,r,o,m),r.child)}function AT(s,r,o,u,m,g){return Ba(r),r.updateQueue=null,o=Ib(r,u,o,m),Rb(s),u=xp(),s!==null&&!Jt?(Dp(s,r,g),zs(s,r,g)):(st&&u&&cp(r),r.flags|=1,_n(s,r,o,g),r.child)}function CT(s,r,o,u,m){if(Ba(r),r.stateNode===null){var g=Bo,T=o.contextType;typeof T=="object"&&T!==null&&(g=vn(T)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},bp(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?vn(T):Bo,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Hp(r,o,T,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Gp.enqueueReplaceState(g,g.state,null),Mc(r,u,g,m),kc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){g=r.stateNode;var R=r.memoizedProps,B=Ya(o,R);g.props=B;var ee=g.context,le=o.contextType;T=Bo,typeof le=="object"&&le!==null&&(T=vn(le));var fe=o.getDerivedStateFromProps;le=typeof fe=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,le||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||ee!==T)&&fT(r,g,u,T),Rr=!1;var se=r.memoizedState;g.state=se,Mc(r,u,g,m),kc(),ee=r.memoizedState,R||se!==ee||Rr?(typeof fe=="function"&&(Hp(r,o,fe,u),ee=r.memoizedState),(B=Rr||hT(r,o,B,u,se,ee,T))?(le||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=ee),g.props=u,g.state=ee,g.context=T,u=B):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Tp(s,r),T=r.memoizedProps,le=Ya(o,T),g.props=le,fe=r.pendingProps,se=g.context,ee=o.contextType,B=Bo,typeof ee=="object"&&ee!==null&&(B=vn(ee)),R=o.getDerivedStateFromProps,(ee=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==fe||se!==B)&&fT(r,g,u,B),Rr=!1,se=r.memoizedState,g.state=se,Mc(r,u,g,m),kc();var oe=r.memoizedState;T!==fe||se!==oe||Rr||s!==null&&s.dependencies!==null&&Gh(s.dependencies)?(typeof R=="function"&&(Hp(r,o,R,u),oe=r.memoizedState),(le=Rr||hT(r,o,le,u,se,oe,B)||s!==null&&s.dependencies!==null&&Gh(s.dependencies))?(ee||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,oe,B),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,oe,B)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&se===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&se===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=oe),g.props=u,g.state=oe,g.context=B,u=le):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&se===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&se===s.memoizedState||(r.flags|=1024),u=!1)}return g=u,hf(s,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&u?(r.child=$a(r,s.child,null,m),r.child=$a(r,null,o,m)):_n(s,r,o,m),r.memoizedState=g.state,s=r.child):s=zs(s,r,m),s}function RT(s,r,o,u){return Fa(),r.flags|=256,_n(s,r,o,u),r.child}var Wp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qp(s){return{baseLanes:s,cachePool:gb()}}function Xp(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=ri),s}function IT(s,r,o){var u=r.pendingProps,m=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=s!==null&&s.memoizedState===null?!1:(zt.current&2)!==0),T&&(m=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,s===null){if(st){if(m?Dr(r):kr(),(s=St)?(s=Vw(s,Ti),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Er!==null?{id:vs,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},o=ob(s),o.return=r,r.child=o,yn=r,St=null)):s=null,s===null)throw Ar(r);return Ng(s)?r.lanes=32:r.lanes=536870912,null}var R=u.children;return u=u.fallback,m?(kr(),m=r.mode,R=ff({mode:"hidden",children:R},m),u=ja(u,m,o,null),R.return=r,u.return=r,R.sibling=u,r.child=R,u=r.child,u.memoizedState=Qp(o),u.childLanes=Xp(s,T,o),r.memoizedState=Wp,Lc(null,u)):(Dr(r),Jp(r,R))}var B=s.memoizedState;if(B!==null&&(R=B.dehydrated,R!==null)){if(g)r.flags&256?(Dr(r),r.flags&=-257,r=Zp(s,r,o)):r.memoizedState!==null?(kr(),r.child=s.child,r.flags|=128,r=null):(kr(),R=u.fallback,m=r.mode,u=ff({mode:"visible",children:u.children},m),R=ja(R,m,o,null),R.flags|=2,u.return=r,R.return=r,u.sibling=R,r.child=u,$a(r,s.child,null,o),u=r.child,u.memoizedState=Qp(o),u.childLanes=Xp(s,T,o),r.memoizedState=Wp,r=Lc(null,u));else if(Dr(r),Ng(R)){if(T=R.nextSibling&&R.nextSibling.dataset,T)var ee=T.dgst;T=ee,u=Error(i(419)),u.stack="",u.digest=T,Ac({value:u,source:null,stack:null}),r=Zp(s,r,o)}else if(Jt||$o(s,r,o,!1),T=(o&s.childLanes)!==0,Jt||T){if(T=wt,T!==null&&(u=sc(T,o),u!==0&&u!==B.retryLane))throw B.retryLane=u,Ua(s,u),Gn(T,s,u),Kp;Mg(R)||Tf(),r=Zp(s,r,o)}else Mg(R)?(r.flags|=192,r.child=s.child,r=null):(s=B.treeContext,St=Ei(R.nextSibling),yn=r,st=!0,Sr=null,Ti=!1,s!==null&&ub(r,s),r=Jp(r,u.children),r.flags|=4096);return r}return m?(kr(),R=u.fallback,m=r.mode,B=s.child,ee=B.sibling,u=Os(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&65011712,ee!==null?R=Os(ee,R):(R=ja(R,m,o,null),R.flags|=2),R.return=r,u.return=r,u.sibling=R,r.child=u,Lc(null,u),u=r.child,R=s.child.memoizedState,R===null?R=Qp(o):(m=R.cachePool,m!==null?(B=Qt._currentValue,m=m.parent!==B?{parent:B,pool:B}:m):m=gb(),R={baseLanes:R.baseLanes|o,cachePool:m}),u.memoizedState=R,u.childLanes=Xp(s,T,o),r.memoizedState=Wp,Lc(s.child,u)):(Dr(r),o=s.child,s=o.sibling,o=Os(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(T=r.deletions,T===null?(r.deletions=[s],r.flags|=16):T.push(s)),r.child=o,r.memoizedState=null,o)}function Jp(s,r){return r=ff({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function ff(s,r){return s=ti(22,s,null,r),s.lanes=0,s}function Zp(s,r,o){return $a(r,s.child,null,o),s=Jp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function xT(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),mp(s.return,r,o)}function eg(s,r,o,u,m,g){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=m,T.treeForkCount=g)}function DT(s,r,o){var u=r.pendingProps,m=u.revealOrder,g=u.tail;u=u.children;var T=zt.current,R=(T&2)!==0;if(R?(T=T&1|2,r.flags|=128):T&=1,pe(zt,T),_n(s,r,u,o),u=st?Sc:0,!R&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&xT(s,o,r);else if(s.tag===19)xT(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)s=o.alternate,s!==null&&Zh(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),eg(r,!1,m,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&Zh(s)===null){r.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}eg(r,!0,o,null,g,u);break;case"together":eg(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function zs(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Pr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if($o(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Os(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Os(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function tg(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Gh(s)))}function m2(s,r,o){switch(r.tag){case 3:we(r,r.stateNode.containerInfo),Cr(r,Qt,s.memoizedState.cache),Fa();break;case 27:case 5:Le(r);break;case 4:we(r,r.stateNode.containerInfo);break;case 10:Cr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Cp(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Dr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?IT(s,r,o):(Dr(r),s=zs(s,r,o),s!==null?s.sibling:null);Dr(r);break;case 19:var m=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||($o(s,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return DT(s,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),pe(zt,zt.current),u)break;return null;case 22:return r.lanes=0,wT(s,r,o,r.pendingProps);case 24:Cr(r,Qt,s.memoizedState.cache)}return zs(s,r,o)}function kT(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Jt=!0;else{if(!tg(s,o)&&(r.flags&128)===0)return Jt=!1,m2(s,r,o);Jt=(s.flags&131072)!==0}else Jt=!1,st&&(r.flags&1048576)!==0&&cb(r,Sc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=Ha(r.elementType),r.type=s,typeof s=="function")ap(s)?(u=Ya(s,u),r.tag=1,r=CT(null,r,s,u,o)):(r.tag=0,r=Yp(null,r,s,u,o));else{if(s!=null){var m=s.$$typeof;if(m===ce){r.tag=11,r=_T(null,r,s,u,o);break e}else if(m===S){r.tag=14,r=bT(null,r,s,u,o);break e}}throw r=K(s)||s,Error(i(306,r,""))}}return r;case 0:return Yp(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=Ya(u,r.pendingProps),CT(s,r,u,m,o);case 3:e:{if(we(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var g=r.memoizedState;m=g.element,Tp(s,r),Mc(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Cr(r,Qt,u),u!==g.cache&&pp(r,[Qt],o,!0),kc(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=RT(s,r,u,o);break e}else if(u!==m){m=vi(Error(i(424)),r),Ac(m),r=RT(s,r,u,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,St=Ei(s.firstChild),yn=r,st=!0,Sr=null,Ti=!0,o=wb(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Fa(),u===m){r=zs(s,r,o);break e}_n(s,r,u,o)}r=r.child}return r;case 26:return hf(s,r),s===null?(o=Bw(r.type,null,r.pendingProps,null))?r.memoizedState=o:st||(o=r.type,s=r.pendingProps,u=If(J.current).createElement(o),u[Kt]=r,u[un]=s,bn(u,o,s),Yt(u),r.stateNode=u):r.memoizedState=Bw(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Le(r),s===null&&st&&(u=r.stateNode=jw(r.type,r.pendingProps,J.current),yn=r,Ti=!0,m=St,jr(r.type)?(Pg=m,St=Ei(u.firstChild)):St=m),_n(s,r,r.pendingProps.children,o),hf(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&st&&((m=u=St)&&(u=H2(u,r.type,r.pendingProps,Ti),u!==null?(r.stateNode=u,yn=r,St=Ei(u.firstChild),Ti=!1,m=!0):m=!1),m||Ar(r)),Le(r),m=r.type,g=r.pendingProps,T=s!==null?s.memoizedProps:null,u=g.children,xg(m,g)?u=null:T!==null&&xg(m,T)&&(r.flags|=32),r.memoizedState!==null&&(m=Ip(s,r,r2,null,null,o),Jc._currentValue=m),hf(s,r),_n(s,r,u,o),r.child;case 6:return s===null&&st&&((s=o=St)&&(o=G2(o,r.pendingProps,Ti),o!==null?(r.stateNode=o,yn=r,St=null,s=!0):s=!1),s||Ar(r)),null;case 13:return IT(s,r,o);case 4:return we(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=$a(r,null,u,o):_n(s,r,u,o),r.child;case 11:return _T(s,r,r.type,r.pendingProps,o);case 7:return _n(s,r,r.pendingProps,o),r.child;case 8:return _n(s,r,r.pendingProps.children,o),r.child;case 12:return _n(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Cr(r,r.type,u.value),_n(s,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,Ba(r),m=vn(m),u=u(m),r.flags|=1,_n(s,r,u,o),r.child;case 14:return bT(s,r,r.type,r.pendingProps,o);case 15:return TT(s,r,r.type,r.pendingProps,o);case 19:return DT(s,r,o);case 31:return d2(s,r,o);case 22:return wT(s,r,o,r.pendingProps);case 24:return Ba(r),u=vn(Qt),s===null?(m=vp(),m===null&&(m=wt,g=gp(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:u,cache:m},bp(r),Cr(r,Qt,m)):((s.lanes&o)!==0&&(Tp(s,r),Mc(r,null,null,o),kc()),m=s.memoizedState,g=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Cr(r,Qt,u)):(u=g.cache,Cr(r,Qt,u),u!==m.cache&&pp(r,[Qt],o,!0))),_n(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Bs(s){s.flags|=4}function ng(s,r,o,u,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(sw())s.flags|=8192;else throw Ga=Wh,_p}else s.flags&=-16777217}function MT(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Kw(r))if(sw())s.flags|=8192;else throw Ga=Wh,_p}function df(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?vh():536870912,s.lanes|=r,sl|=r)}function Uc(s,r){if(!st)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function At(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function p2(s,r,o){var u=r.pendingProps;switch(up(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(r),null;case 1:return At(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Us(Qt),de(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Go(r)?Bs(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,fp())),At(r),null;case 26:var m=r.type,g=r.memoizedState;return s===null?(Bs(r),g!==null?(At(r),MT(r,g)):(At(r),ng(r,m,null,u,o))):g?g!==s.memoizedState?(Bs(r),At(r),MT(r,g)):(At(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&Bs(r),At(r),ng(r,m,s,u,o)),null;case 27:if(We(r),o=J.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Bs(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return At(r),null}s=ne.current,Go(r)?hb(r):(s=jw(m,u,o),r.stateNode=s,Bs(r))}return At(r),null;case 5:if(We(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Bs(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return At(r),null}if(g=ne.current,Go(r))hb(r);else{var T=If(J.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(m,{is:u.is}):T.createElement(m)}}g[Kt]=r,g[un]=u;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;e:switch(bn(g,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Bs(r)}}return At(r),ng(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Bs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=J.current,Go(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,m=yn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[Kt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Iw(s.nodeValue,o)),s||Ar(r,!0)}else s=If(s).createTextNode(u),s[Kt]=r,r.stateNode=s}return At(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=Go(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Kt]=r}else Fa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),s=!1}else o=fp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(ii(r),r):(ii(r),null);if((r.flags&128)!==0)throw Error(i(558))}return At(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Go(r),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Kt]=r}else Fa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),m=!1}else m=fp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(ii(r),r):(ii(r),null)}return ii(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),df(r,r.updateQueue),At(r),null);case 4:return de(),s===null&&Sg(r.stateNode.containerInfo),At(r),null;case 10:return Us(r.type),At(r),null;case 19:if(ae(zt),u=r.memoizedState,u===null)return At(r),null;if(m=(r.flags&128)!==0,g=u.rendering,g===null)if(m)Uc(u,!1);else{if(Ot!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=Zh(s),g!==null){for(r.flags|=128,Uc(u,!1),s=g.updateQueue,r.updateQueue=s,df(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)ab(o,s),o=o.sibling;return pe(zt,zt.current&1|2),st&&Vs(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&Nn()>vf&&(r.flags|=128,m=!0,Uc(u,!1),r.lanes=4194304)}else{if(!m)if(s=Zh(g),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,df(r,s),Uc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!st)return At(r),null}else 2*Nn()-u.renderingStartTime>vf&&o!==536870912&&(r.flags|=128,m=!0,Uc(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(s=u.last,s!==null?s.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=Nn(),s.sibling=null,o=zt.current,pe(zt,m?o&1|2:o&1),st&&Vs(r,u.treeForkCount),s):(At(r),null);case 22:case 23:return ii(r),Ap(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(At(r),r.subtreeFlags&6&&(r.flags|=8192)):At(r),o=r.updateQueue,o!==null&&df(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&ae(qa),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Us(Qt),At(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function g2(s,r){switch(up(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Us(Qt),de(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return We(r),null;case 31:if(r.memoizedState!==null){if(ii(r),r.alternate===null)throw Error(i(340));Fa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(ii(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Fa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return ae(zt),null;case 4:return de(),null;case 10:return Us(r.type),null;case 22:case 23:return ii(r),Ap(),s!==null&&ae(qa),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Us(Qt),null;case 25:return null;default:return null}}function NT(s,r){switch(up(r),r.tag){case 3:Us(Qt),de();break;case 26:case 27:case 5:We(r);break;case 4:de();break;case 31:r.memoizedState!==null&&ii(r);break;case 13:ii(r);break;case 19:ae(zt);break;case 10:Us(r.type);break;case 22:case 23:ii(r),Ap(),s!==null&&ae(qa);break;case 24:Us(Qt)}}function jc(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&s)===s){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==m)}}catch(R){pt(r,r.return,R)}}function Mr(s,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&s)===s){var T=u.inst,R=T.destroy;if(R!==void 0){T.destroy=void 0,m=r;var B=o,ee=R;try{ee()}catch(le){pt(m,B,le)}}}u=u.next}while(u!==g)}}catch(le){pt(r,r.return,le)}}function PT(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Sb(r,o)}catch(u){pt(s,s.return,u)}}}function OT(s,r,o){o.props=Ya(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){pt(s,r,u)}}function Fc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(m){pt(s,r,m)}}function bs(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){pt(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){pt(s,r,m)}else o.current=null}function VT(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){pt(s,s.return,m)}}function ig(s,r,o){try{var u=s.stateNode;U2(u,s.type,o,r),u[un]=r}catch(m){pt(s,s.return,m)}}function LT(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&jr(s.type)||s.tag===4}function sg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||LT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&jr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rg(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ui));else if(u!==4&&(u===27&&jr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(rg(s,r,o),s=s.sibling;s!==null;)rg(s,r,o),s=s.sibling}function mf(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&jr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(mf(s,r,o),s=s.sibling;s!==null;)mf(s,r,o),s=s.sibling}function UT(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);bn(r,u,o),r[Kt]=s,r[un]=o}catch(g){pt(s,s.return,g)}}var qs=!1,Zt=!1,ag=!1,jT=typeof WeakSet=="function"?WeakSet:Set,fn=null;function y2(s,r){if(s=s.containerInfo,Rg=Of,s=X_(s),Zm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,R=-1,B=-1,ee=0,le=0,fe=s,se=null;t:for(;;){for(var oe;fe!==o||m!==0&&fe.nodeType!==3||(R=T+m),fe!==g||u!==0&&fe.nodeType!==3||(B=T+u),fe.nodeType===3&&(T+=fe.nodeValue.length),(oe=fe.firstChild)!==null;)se=fe,fe=oe;for(;;){if(fe===s)break t;if(se===o&&++ee===m&&(R=T),se===g&&++le===u&&(B=T),(oe=fe.nextSibling)!==null)break;fe=se,se=fe.parentNode}fe=oe}o=R===-1||B===-1?null:{start:R,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ig={focusedElem:s,selectionRange:o},Of=!1,fn=r;fn!==null;)if(r=fn,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,fn=s;else for(;fn!==null;){switch(r=fn,g=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)m=s[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Re=Ya(o.type,m);s=u.getSnapshotBeforeUpdate(Re,g),u.__reactInternalSnapshotBeforeUpdate=s}catch(je){pt(o,o.return,je)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)kg(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":kg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,fn=s;break}fn=r.return}}function FT(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Gs(s,o),u&4&&jc(5,o);break;case 1:if(Gs(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(T){pt(o,o.return,T)}else{var m=Ya(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(T){pt(o,o.return,T)}}u&64&&PT(o),u&512&&Fc(o,o.return);break;case 3:if(Gs(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Sb(s,r)}catch(T){pt(o,o.return,T)}}break;case 27:r===null&&u&4&&UT(o);case 26:case 5:Gs(s,o),r===null&&u&4&&VT(o),u&512&&Fc(o,o.return);break;case 12:Gs(s,o);break;case 31:Gs(s,o),u&4&&qT(s,o);break;case 13:Gs(s,o),u&4&&HT(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=C2.bind(null,o),$2(s,o))));break;case 22:if(u=o.memoizedState!==null||qs,!u){r=r!==null&&r.memoizedState!==null||Zt,m=qs;var g=Zt;qs=u,(Zt=r)&&!g?$s(s,o,(o.subtreeFlags&8772)!==0):Gs(s,o),qs=m,Zt=g}break;case 30:break;default:Gs(s,o)}}function zT(s){var r=s.alternate;r!==null&&(s.alternate=null,zT(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Io(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var xt=null,zn=!1;function Hs(s,r,o){for(o=o.child;o!==null;)BT(s,r,o),o=o.sibling}function BT(s,r,o){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Pi,o)}catch{}switch(o.tag){case 26:Zt||bs(o,r),Hs(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Zt||bs(o,r);var u=xt,m=zn;jr(o.type)&&(xt=o.stateNode,zn=!1),Hs(s,r,o),Wc(o.stateNode),xt=u,zn=m;break;case 5:Zt||bs(o,r);case 6:if(u=xt,m=zn,xt=null,Hs(s,r,o),xt=u,zn=m,xt!==null)if(zn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(g){pt(o,r,g)}else try{xt.removeChild(o.stateNode)}catch(g){pt(o,r,g)}break;case 18:xt!==null&&(zn?(s=xt,Pw(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),fl(s)):Pw(xt,o.stateNode));break;case 4:u=xt,m=zn,xt=o.stateNode.containerInfo,zn=!0,Hs(s,r,o),xt=u,zn=m;break;case 0:case 11:case 14:case 15:Mr(2,o,r),Zt||Mr(4,o,r),Hs(s,r,o);break;case 1:Zt||(bs(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&OT(o,r,u)),Hs(s,r,o);break;case 21:Hs(s,r,o);break;case 22:Zt=(u=Zt)||o.memoizedState!==null,Hs(s,r,o),Zt=u;break;default:Hs(s,r,o)}}function qT(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{fl(s)}catch(o){pt(r,r.return,o)}}}function HT(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{fl(s)}catch(o){pt(r,r.return,o)}}function v2(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new jT),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new jT),r;default:throw Error(i(435,s.tag))}}function pf(s,r){var o=v2(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var m=R2.bind(null,s,u);u.then(m,m)}})}function Bn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],g=s,T=r,R=T;e:for(;R!==null;){switch(R.tag){case 27:if(jr(R.type)){xt=R.stateNode,zn=!1;break e}break;case 5:xt=R.stateNode,zn=!1;break e;case 3:case 4:xt=R.stateNode.containerInfo,zn=!0;break e}R=R.return}if(xt===null)throw Error(i(160));BT(g,T,m),xt=null,zn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)GT(r,s),r=r.sibling}var Hi=null;function GT(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Bn(r,s),qn(s),u&4&&(Mr(3,s,s.return),jc(3,s),Mr(5,s,s.return));break;case 1:Bn(r,s),qn(s),u&512&&(Zt||o===null||bs(o,o.return)),u&64&&qs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Hi;if(Bn(r,s),qn(s),u&512&&(Zt||o===null||bs(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[as]||g[Kt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),bn(g,u,o),g[Kt]=s,Yt(g),u=g;break e;case"link":var T=Gw("link","href",m).get(u+(o.href||""));if(T){for(var R=0;R<T.length;R++)if(g=T[R],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(R,1);break t}}g=m.createElement(u),bn(g,u,o),m.head.appendChild(g);break;case"meta":if(T=Gw("meta","content",m).get(u+(o.content||""))){for(R=0;R<T.length;R++)if(g=T[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(R,1);break t}}g=m.createElement(u),bn(g,u,o),m.head.appendChild(g);break;default:throw Error(i(468,u))}g[Kt]=s,Yt(g),u=g}s.stateNode=u}else $w(m,s.type,s.stateNode);else s.stateNode=Hw(m,u,s.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?$w(m,s.type,s.stateNode):Hw(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&ig(s,s.memoizedProps,o.memoizedProps)}break;case 27:Bn(r,s),qn(s),u&512&&(Zt||o===null||bs(o,o.return)),o!==null&&u&4&&ig(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Bn(r,s),qn(s),u&512&&(Zt||o===null||bs(o,o.return)),s.flags&32){m=s.stateNode;try{Fn(m,"")}catch(Re){pt(s,s.return,Re)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,ig(s,m,o!==null?o.memoizedProps:m)),u&1024&&(ag=!0);break;case 6:if(Bn(r,s),qn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(Re){pt(s,s.return,Re)}}break;case 3:if(kf=null,m=Hi,Hi=xf(r.containerInfo),Bn(r,s),Hi=m,qn(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{fl(r.containerInfo)}catch(Re){pt(s,s.return,Re)}ag&&(ag=!1,$T(s));break;case 4:u=Hi,Hi=xf(s.stateNode.containerInfo),Bn(r,s),qn(s),Hi=u;break;case 12:Bn(r,s),qn(s);break;case 31:Bn(r,s),qn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,pf(s,u)));break;case 13:Bn(r,s),qn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(yf=Nn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,pf(s,u)));break;case 22:m=s.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,ee=qs,le=Zt;if(qs=ee||m,Zt=le||B,Bn(r,s),Zt=le,qs=ee,qn(s),u&8192)e:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||B||qs||Zt||Wa(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){B=o=r;try{if(g=B.stateNode,m)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{R=B.stateNode;var fe=B.memoizedProps.style,se=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;R.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Re){pt(B,B.return,Re)}}}else if(r.tag===6){if(o===null){B=r;try{B.stateNode.nodeValue=m?"":B.memoizedProps}catch(Re){pt(B,B.return,Re)}}}else if(r.tag===18){if(o===null){B=r;try{var oe=B.stateNode;m?Ow(oe,!0):Ow(B.stateNode,!1)}catch(Re){pt(B,B.return,Re)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,pf(s,o))));break;case 19:Bn(r,s),qn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,pf(s,u)));break;case 30:break;case 21:break;default:Bn(r,s),qn(s)}}function qn(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(LT(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,g=sg(s);mf(s,g,m);break;case 5:var T=o.stateNode;o.flags&32&&(Fn(T,""),o.flags&=-33);var R=sg(s);mf(s,R,T);break;case 3:case 4:var B=o.stateNode.containerInfo,ee=sg(s);rg(s,ee,B);break;default:throw Error(i(161))}}catch(le){pt(s,s.return,le)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function $T(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;$T(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Gs(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)FT(s,r.alternate,r),r=r.sibling}function Wa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Mr(4,r,r.return),Wa(r);break;case 1:bs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&OT(r,r.return,o),Wa(r);break;case 27:Wc(r.stateNode);case 26:case 5:bs(r,r.return),Wa(r);break;case 22:r.memoizedState===null&&Wa(r);break;case 30:Wa(r);break;default:Wa(r)}s=s.sibling}}function $s(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=s,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:$s(m,g,o),jc(4,g);break;case 1:if($s(m,g,o),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ee){pt(u,u.return,ee)}if(u=g,m=u.updateQueue,m!==null){var R=u.stateNode;try{var B=m.shared.hiddenCallbacks;if(B!==null)for(m.shared.hiddenCallbacks=null,m=0;m<B.length;m++)Eb(B[m],R)}catch(ee){pt(u,u.return,ee)}}o&&T&64&&PT(g),Fc(g,g.return);break;case 27:UT(g);case 26:case 5:$s(m,g,o),o&&u===null&&T&4&&VT(g),Fc(g,g.return);break;case 12:$s(m,g,o);break;case 31:$s(m,g,o),o&&T&4&&qT(m,g);break;case 13:$s(m,g,o),o&&T&4&&HT(m,g);break;case 22:g.memoizedState===null&&$s(m,g,o),Fc(g,g.return);break;case 30:break;default:$s(m,g,o)}r=r.sibling}}function og(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Cc(o))}function lg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Cc(s))}function Gi(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)KT(s,r,o,u),r=r.sibling}function KT(s,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Gi(s,r,o,u),m&2048&&jc(9,r);break;case 1:Gi(s,r,o,u);break;case 3:Gi(s,r,o,u),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Cc(s)));break;case 12:if(m&2048){Gi(s,r,o,u),s=r.stateNode;try{var g=r.memoizedProps,T=g.id,R=g.onPostCommit;typeof R=="function"&&R(T,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(B){pt(r,r.return,B)}}else Gi(s,r,o,u);break;case 31:Gi(s,r,o,u);break;case 13:Gi(s,r,o,u);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?Gi(s,r,o,u):zc(s,r):g._visibility&2?Gi(s,r,o,u):(g._visibility|=2,tl(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&og(T,r);break;case 24:Gi(s,r,o,u),m&2048&&lg(r.alternate,r);break;default:Gi(s,r,o,u)}}function tl(s,r,o,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=s,T=r,R=o,B=u,ee=T.flags;switch(T.tag){case 0:case 11:case 15:tl(g,T,R,B,m),jc(8,T);break;case 23:break;case 22:var le=T.stateNode;T.memoizedState!==null?le._visibility&2?tl(g,T,R,B,m):zc(g,T):(le._visibility|=2,tl(g,T,R,B,m)),m&&ee&2048&&og(T.alternate,T);break;case 24:tl(g,T,R,B,m),m&&ee&2048&&lg(T.alternate,T);break;default:tl(g,T,R,B,m)}r=r.sibling}}function zc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,m=u.flags;switch(u.tag){case 22:zc(o,u),m&2048&&og(u.alternate,u);break;case 24:zc(o,u),m&2048&&lg(u.alternate,u);break;default:zc(o,u)}r=r.sibling}}var Bc=8192;function nl(s,r,o){if(s.subtreeFlags&Bc)for(s=s.child;s!==null;)YT(s,r,o),s=s.sibling}function YT(s,r,o){switch(s.tag){case 26:nl(s,r,o),s.flags&Bc&&s.memoizedState!==null&&sM(o,Hi,s.memoizedState,s.memoizedProps);break;case 5:nl(s,r,o);break;case 3:case 4:var u=Hi;Hi=xf(s.stateNode.containerInfo),nl(s,r,o),Hi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Bc,Bc=16777216,nl(s,r,o),Bc=u):nl(s,r,o));break;default:nl(s,r,o)}}function WT(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function qc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];fn=u,XT(u,s)}WT(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)QT(s),s=s.sibling}function QT(s){switch(s.tag){case 0:case 11:case 15:qc(s),s.flags&2048&&Mr(9,s,s.return);break;case 3:qc(s);break;case 12:qc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,gf(s)):qc(s);break;default:qc(s)}}function gf(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];fn=u,XT(u,s)}WT(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Mr(8,r,r.return),gf(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,gf(r));break;default:gf(r)}s=s.sibling}}function XT(s,r){for(;fn!==null;){var o=fn;switch(o.tag){case 0:case 11:case 15:Mr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Cc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,fn=u;else e:for(o=s;fn!==null;){u=fn;var m=u.sibling,g=u.return;if(zT(u),u===o){fn=null;break e}if(m!==null){m.return=g,fn=m;break e}fn=g}}}var _2={getCacheForType:function(s){var r=vn(Qt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return vn(Qt).controller.signal}},b2=typeof WeakMap=="function"?WeakMap:Map,ht=0,wt=null,Xe=null,et=0,mt=0,si=null,Nr=!1,il=!1,cg=!1,Ks=0,Ot=0,Pr=0,Qa=0,ug=0,ri=0,sl=0,Hc=null,Hn=null,hg=!1,yf=0,JT=0,vf=1/0,_f=null,Or=null,rn=0,Vr=null,rl=null,Ys=0,fg=0,dg=null,ZT=null,Gc=0,mg=null;function ai(){return(ht&2)!==0&&et!==0?et&-et:H.T!==null?bg():_h()}function ew(){if(ri===0)if((et&536870912)===0||st){var s=Ea;Ea<<=1,(Ea&3932160)===0&&(Ea=262144),ri=s}else ri=536870912;return s=ni.current,s!==null&&(s.flags|=32),ri}function Gn(s,r,o){(s===wt&&(mt===2||mt===9)||s.cancelPendingCommit!==null)&&(al(s,0),Lr(s,et,ri,!1)),Sa(s,o),((ht&2)===0||s!==wt)&&(s===wt&&((ht&2)===0&&(Qa|=o),Ot===4&&Lr(s,et,ri,!1)),Ts(s))}function tw(s,r,o){if((ht&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||Oi(s,r),m=u?E2(s,r):gg(s,r,!0),g=u;do{if(m===0){il&&!u&&Lr(s,r,0,!1);break}else{if(o=s.current.alternate,g&&!T2(o)){m=gg(s,r,!1),g=!1;continue}if(m===2){if(g=r,s.errorRecoveryDisabledLanes&g)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var R=s;m=Hc;var B=R.current.memoizedState.isDehydrated;if(B&&(al(R,T).flags|=256),T=gg(R,T,!1),T!==2){if(cg&&!B){R.errorRecoveryDisabledLanes|=g,Qa|=g,m=4;break e}g=Hn,Hn=m,g!==null&&(Hn===null?Hn=g:Hn.push.apply(Hn,g))}m=T}if(g=!1,m!==2)continue}}if(m===1){al(s,0),Lr(s,r,0,!0);break}e:{switch(u=s,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Lr(u,r,ri,!Nr);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=yf+300-Nn(),10<m)){if(Lr(u,r,ri,!Nr),is(u,0,!0)!==0)break e;Ys=r,u.timeoutHandle=Mw(nw.bind(null,u,o,Hn,_f,hg,r,ri,Qa,sl,Nr,g,"Throttled",-0,0),m);break e}nw(u,o,Hn,_f,hg,r,ri,Qa,sl,Nr,g,null,-0,0)}}break}while(!0);Ts(s)}function nw(s,r,o,u,m,g,T,R,B,ee,le,fe,se,oe){if(s.timeoutHandle=-1,fe=r.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ui},YT(r,g,fe);var Re=(g&62914560)===g?yf-Nn():(g&4194048)===g?JT-Nn():0;if(Re=rM(fe,Re),Re!==null){Ys=g,s.cancelPendingCommit=Re(uw.bind(null,s,r,g,o,u,m,T,R,B,le,fe,null,se,oe)),Lr(s,g,T,!ee);return}}uw(s,r,g,o,u,m,T,R,B)}function T2(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],g=m.getSnapshot;m=m.value;try{if(!ei(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Lr(s,r,o,u){r&=~ug,r&=~Qa,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var m=r;0<m;){var g=31-jt(m),T=1<<g;u[g]=-1,m&=~T}o!==0&&Aa(s,o,r)}function bf(){return(ht&6)===0?($c(0),!1):!0}function pg(){if(Xe!==null){if(mt===0)var s=Xe.return;else s=Xe,Ls=za=null,kp(s),Qo=null,Ic=0,s=Xe;for(;s!==null;)NT(s.alternate,s),s=s.return;Xe=null}}function al(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,z2(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Ys=0,pg(),wt=s,Xe=o=Os(s.current,null),et=r,mt=0,si=null,Nr=!1,il=Oi(s,r),cg=!1,sl=ri=ug=Qa=Pr=Ot=0,Hn=Hc=null,hg=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var m=31-jt(u),g=1<<m;r|=s[m],u&=~g}return Ks=r,Fh(),o}function iw(s,r){Ke=null,H.H=Vc,r===Wo||r===Yh?(r=_b(),mt=3):r===_p?(r=_b(),mt=4):mt=r===Kp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,si=r,Xe===null&&(Ot=1,cf(s,vi(r,s.current)))}function sw(){var s=ni.current;return s===null?!0:(et&4194048)===et?wi===null:(et&62914560)===et||(et&536870912)!==0?s===wi:!1}function rw(){var s=H.H;return H.H=Vc,s===null?Vc:s}function aw(){var s=H.A;return H.A=_2,s}function Tf(){Ot=4,Nr||(et&4194048)!==et&&ni.current!==null||(il=!0),(Pr&134217727)===0&&(Qa&134217727)===0||wt===null||Lr(wt,et,ri,!1)}function gg(s,r,o){var u=ht;ht|=2;var m=rw(),g=aw();(wt!==s||et!==r)&&(_f=null,al(s,r)),r=!1;var T=Ot;e:do try{if(mt!==0&&Xe!==null){var R=Xe,B=si;switch(mt){case 8:pg(),T=6;break e;case 3:case 2:case 9:case 6:ni.current===null&&(r=!0);var ee=mt;if(mt=0,si=null,ol(s,R,B,ee),o&&il){T=0;break e}break;default:ee=mt,mt=0,si=null,ol(s,R,B,ee)}}w2(),T=Ot;break}catch(le){iw(s,le)}while(!0);return r&&s.shellSuspendCounter++,Ls=za=null,ht=u,H.H=m,H.A=g,Xe===null&&(wt=null,et=0,Fh()),T}function w2(){for(;Xe!==null;)ow(Xe)}function E2(s,r){var o=ht;ht|=2;var u=rw(),m=aw();wt!==s||et!==r?(_f=null,vf=Nn()+500,al(s,r)):il=Oi(s,r);e:do try{if(mt!==0&&Xe!==null){r=Xe;var g=si;t:switch(mt){case 1:mt=0,si=null,ol(s,r,g,1);break;case 2:case 9:if(yb(g)){mt=0,si=null,lw(r);break}r=function(){mt!==2&&mt!==9||wt!==s||(mt=7),Ts(s)},g.then(r,r);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:yb(g)?(mt=0,si=null,lw(r)):(mt=0,si=null,ol(s,r,g,7));break;case 5:var T=null;switch(Xe.tag){case 26:T=Xe.memoizedState;case 5:case 27:var R=Xe;if(T?Kw(T):R.stateNode.complete){mt=0,si=null;var B=R.sibling;if(B!==null)Xe=B;else{var ee=R.return;ee!==null?(Xe=ee,wf(ee)):Xe=null}break t}}mt=0,si=null,ol(s,r,g,5);break;case 6:mt=0,si=null,ol(s,r,g,6);break;case 8:pg(),Ot=6;break e;default:throw Error(i(462))}}S2();break}catch(le){iw(s,le)}while(!0);return Ls=za=null,H.H=u,H.A=m,ht=o,Xe!==null?0:(wt=null,et=0,Fh(),Ot)}function S2(){for(;Xe!==null&&!ec();)ow(Xe)}function ow(s){var r=kT(s.alternate,s,Ks);s.memoizedProps=s.pendingProps,r===null?wf(s):Xe=r}function lw(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=AT(o,r,r.pendingProps,r.type,void 0,et);break;case 11:r=AT(o,r,r.pendingProps,r.type.render,r.ref,et);break;case 5:kp(r);default:NT(o,r),r=Xe=ab(r,Ks),r=kT(o,r,Ks)}s.memoizedProps=s.pendingProps,r===null?wf(s):Xe=r}function ol(s,r,o,u){Ls=za=null,kp(r),Qo=null,Ic=0;var m=r.return;try{if(f2(s,m,r,o,et)){Ot=1,cf(s,vi(o,s.current)),Xe=null;return}}catch(g){if(m!==null)throw Xe=m,g;Ot=1,cf(s,vi(o,s.current)),Xe=null;return}r.flags&32768?(st||u===1?s=!0:il||(et&536870912)!==0?s=!1:(Nr=s=!0,(u===2||u===9||u===3||u===6)&&(u=ni.current,u!==null&&u.tag===13&&(u.flags|=16384))),cw(r,s)):wf(r)}function wf(s){var r=s;do{if((r.flags&32768)!==0){cw(r,Nr);return}s=r.return;var o=p2(r.alternate,r,Ks);if(o!==null){Xe=o;return}if(r=r.sibling,r!==null){Xe=r;return}Xe=r=s}while(r!==null);Ot===0&&(Ot=5)}function cw(s,r){do{var o=g2(s.alternate,s);if(o!==null){o.flags&=32767,Xe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Xe=s;return}Xe=s=o}while(s!==null);Ot=6,Xe=null}function uw(s,r,o,u,m,g,T,R,B){s.cancelPendingCommit=null;do Ef();while(rn!==0);if((ht&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=sp,Wm(s,o,g,T,R,B),s===wt&&(Xe=wt=null,et=0),rl=r,Vr=s,Ys=o,fg=g,dg=m,ZT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,I2(dr,function(){return pw(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,m=te.p,te.p=2,T=ht,ht|=4;try{y2(s,r,o)}finally{ht=T,te.p=m,H.T=u}}rn=1,hw(),fw(),dw()}}function hw(){if(rn===1){rn=0;var s=Vr,r=rl,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var u=te.p;te.p=2;var m=ht;ht|=4;try{GT(r,s);var g=Ig,T=X_(s.containerInfo),R=g.focusedElem,B=g.selectionRange;if(T!==R&&R&&R.ownerDocument&&Q_(R.ownerDocument.documentElement,R)){if(B!==null&&Zm(R)){var ee=B.start,le=B.end;if(le===void 0&&(le=ee),"selectionStart"in R)R.selectionStart=ee,R.selectionEnd=Math.min(le,R.value.length);else{var fe=R.ownerDocument||document,se=fe&&fe.defaultView||window;if(se.getSelection){var oe=se.getSelection(),Re=R.textContent.length,je=Math.min(B.start,Re),bt=B.end===void 0?je:Math.min(B.end,Re);!oe.extend&&je>bt&&(T=bt,bt=je,je=T);var Y=W_(R,je),G=W_(R,bt);if(Y&&G&&(oe.rangeCount!==1||oe.anchorNode!==Y.node||oe.anchorOffset!==Y.offset||oe.focusNode!==G.node||oe.focusOffset!==G.offset)){var Z=fe.createRange();Z.setStart(Y.node,Y.offset),oe.removeAllRanges(),je>bt?(oe.addRange(Z),oe.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),oe.addRange(Z))}}}}for(fe=[],oe=R;oe=oe.parentNode;)oe.nodeType===1&&fe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<fe.length;R++){var ue=fe[R];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Of=!!Rg,Ig=Rg=null}finally{ht=m,te.p=u,H.T=o}}s.current=r,rn=2}}function fw(){if(rn===2){rn=0;var s=Vr,r=rl,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var u=te.p;te.p=2;var m=ht;ht|=4;try{FT(s,r.alternate,r)}finally{ht=m,te.p=u,H.T=o}}rn=3}}function dw(){if(rn===4||rn===3){rn=0,fh();var s=Vr,r=rl,o=Ys,u=ZT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?rn=5:(rn=0,rl=Vr=null,mw(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Or=null),ks(o),r=r.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Pi,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=H.T,m=te.p,te.p=2,H.T=null;try{for(var g=s.onRecoverableError,T=0;T<u.length;T++){var R=u[T];g(R.value,{componentStack:R.stack})}}finally{H.T=r,te.p=m}}(Ys&3)!==0&&Ef(),Ts(s),m=s.pendingLanes,(o&261930)!==0&&(m&42)!==0?s===mg?Gc++:(Gc=0,mg=s):Gc=0,$c(0)}}function mw(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Cc(r)))}function Ef(){return hw(),fw(),dw(),pw()}function pw(){if(rn!==5)return!1;var s=Vr,r=fg;fg=0;var o=ks(Ys),u=H.T,m=te.p;try{te.p=32>o?32:o,H.T=null,o=dg,dg=null;var g=Vr,T=Ys;if(rn=0,rl=Vr=null,Ys=0,(ht&6)!==0)throw Error(i(331));var R=ht;if(ht|=4,QT(g.current),KT(g,g.current,T,o),ht=R,$c(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Pi,g)}catch{}return!0}finally{te.p=m,H.T=u,mw(s,r)}}function gw(s,r,o){r=vi(o,r),r=$p(s.stateNode,r,2),s=xr(s,r,2),s!==null&&(Sa(s,2),Ts(s))}function pt(s,r,o){if(s.tag===3)gw(s,s,o);else for(;r!==null;){if(r.tag===3){gw(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Or===null||!Or.has(u))){s=vi(o,s),o=yT(2),u=xr(r,o,2),u!==null&&(vT(o,u,r,s),Sa(u,2),Ts(u));break}}r=r.return}}function yg(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new b2;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(cg=!0,m.add(o),s=A2.bind(null,s,r,o),r.then(s,s))}function A2(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,wt===s&&(et&o)===o&&(Ot===4||Ot===3&&(et&62914560)===et&&300>Nn()-yf?(ht&2)===0&&al(s,0):ug|=o,sl===et&&(sl=0)),Ts(s)}function yw(s,r){r===0&&(r=vh()),s=Ua(s,r),s!==null&&(Sa(s,r),Ts(s))}function C2(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),yw(s,o)}function R2(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),yw(s,o)}function I2(s,r){return Fe(s,r)}var Sf=null,ll=null,vg=!1,Af=!1,_g=!1,Ur=0;function Ts(s){s!==ll&&s.next===null&&(ll===null?Sf=ll=s:ll=ll.next=s),Af=!0,vg||(vg=!0,D2())}function $c(s,r){if(!_g&&Af){_g=!0;do for(var o=!1,u=Sf;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var T=u.suspendedLanes,R=u.pingedLanes;g=(1<<31-jt(42|s)+1)-1,g&=m&~(T&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Tw(u,g))}else g=et,g=is(u,u===wt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Oi(u,g)||(o=!0,Tw(u,g));u=u.next}while(o);_g=!1}}function x2(){vw()}function vw(){Af=vg=!1;var s=0;Ur!==0&&F2()&&(s=Ur);for(var r=Nn(),o=null,u=Sf;u!==null;){var m=u.next,g=_w(u,r);g===0?(u.next=null,o===null?Sf=m:o.next=m,m===null&&(ll=o)):(o=u,(s!==0||(g&3)!==0)&&(Af=!0)),u=m}rn!==0&&rn!==5||$c(s),Ur!==0&&(Ur=0)}function _w(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var T=31-jt(g),R=1<<T,B=m[T];B===-1?((R&o)===0||(R&u)!==0)&&(m[T]=Ym(R,r)):B<=r&&(s.expiredLanes|=R),g&=~R}if(r=wt,o=et,o=is(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(mt===2||mt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&ot(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Oi(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&ot(u),ks(o)){case 2:case 8:o=nc;break;case 32:o=dr;break;case 268435456:o=dh;break;default:o=dr}return u=bw.bind(null,s),o=Fe(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&ot(u),s.callbackPriority=2,s.callbackNode=null,2}function bw(s,r){if(rn!==0&&rn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Ef()&&s.callbackNode!==o)return null;var u=et;return u=is(s,s===wt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(tw(s,u,r),_w(s,Nn()),s.callbackNode!=null&&s.callbackNode===o?bw.bind(null,s):null)}function Tw(s,r){if(Ef())return null;tw(s,r,!0)}function D2(){B2(function(){(ht&6)!==0?Fe(tc,x2):vw()})}function bg(){if(Ur===0){var s=Ko;s===0&&(s=ts,ts<<=1,(ts&261888)===0&&(ts=256)),Ur=s}return Ur}function ww(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Mo(""+s)}function Ew(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function k2(s,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var g=ww((m[un]||null).action),T=u.submitter;T&&(r=(r=T[un]||null)?ww(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var R=new ms("action","action",null,u,m);s.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ur!==0){var B=T?Ew(m,T):new FormData(m);Fp(o,{pending:!0,data:B,method:m.method,action:g},null,B)}}else typeof g=="function"&&(R.preventDefault(),B=T?Ew(m,T):new FormData(m),Fp(o,{pending:!0,data:B,method:m.method,action:g},g,B))},currentTarget:m}]})}}for(var Tg=0;Tg<ip.length;Tg++){var wg=ip[Tg],M2=wg.toLowerCase(),N2=wg[0].toUpperCase()+wg.slice(1);qi(M2,"on"+N2)}qi(eb,"onAnimationEnd"),qi(tb,"onAnimationIteration"),qi(nb,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(Wk,"onTransitionRun"),qi(Qk,"onTransitionStart"),qi(Xk,"onTransitionCancel"),qi(ib,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kc));function Sw(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],m=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var T=u.length-1;0<=T;T--){var R=u[T],B=R.instance,ee=R.currentTarget;if(R=R.listener,B!==g&&m.isPropagationStopped())break e;g=R,m.currentTarget=ee;try{g(m)}catch(le){jh(le)}m.currentTarget=null,g=B}else for(T=0;T<u.length;T++){if(R=u[T],B=R.instance,ee=R.currentTarget,R=R.listener,B!==g&&m.isPropagationStopped())break e;g=R,m.currentTarget=ee;try{g(m)}catch(le){jh(le)}m.currentTarget=null,g=B}}}}function Je(s,r){var o=r[Ro];o===void 0&&(o=r[Ro]=new Set);var u=s+"__bubble";o.has(u)||(Aw(r,s,2,!1),o.add(u))}function Eg(s,r,o){var u=0;r&&(u|=4),Aw(o,s,u,r)}var Cf="_reactListening"+Math.random().toString(36).slice(2);function Sg(s){if(!s[Cf]){s[Cf]=!0,rc.forEach(function(o){o!=="selectionchange"&&(P2.has(o)||Eg(o,!1,s),Eg(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Cf]||(r[Cf]=!0,Eg("selectionchange",!1,r))}}function Aw(s,r,o,u){switch(eE(r)){case 2:var m=lM;break;case 8:m=cM;break;default:m=jg}o=m.bind(null,r,o,s),m=void 0,!Da||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(r,o,{capture:!0,passive:m}):s.addEventListener(r,o,!0):m!==void 0?s.addEventListener(r,o,{passive:m}):s.addEventListener(r,o,!1)}function Ag(s,r,o,u,m){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var R=u.stateNode.containerInfo;if(R===m)break;if(T===4)for(T=u.return;T!==null;){var B=T.tag;if((B===3||B===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;R!==null;){if(T=os(R),T===null)return;if(B=T.tag,B===5||B===6||B===26||B===27){u=g=T;continue e}R=R.parentNode}}u=u.return}_r(function(){var ee=g,le=mi(o),fe=[];e:{var se=sb.get(s);if(se!==void 0){var oe=ms,Re=s;switch(s){case"keypress":if(Ma(o)===0)break e;case"keydown":case"keyup":oe=Vh;break;case"focusin":Re="focus",oe=Pa;break;case"focusout":Re="blur",oe=Pa;break;case"beforeblur":case"afterblur":oe=Pa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=_;break;case eb:case tb:case nb:oe=xh;break;case ib:oe=x;break;case"scroll":case"scrollend":oe=yc;break;case"wheel":oe=re;break;case"copy":case"cut":case"paste":oe=Dh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Ps;break;case"toggle":case"beforetoggle":oe=$e}var je=(r&4)!==0,bt=!je&&(s==="scroll"||s==="scrollend"),Y=je?se!==null?se+"Capture":null:se;je=[];for(var G=ee,Z;G!==null;){var ue=G;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||Y===null||(ue=ji(G,Y),ue!=null&&je.push(Yc(G,ue,Z))),bt)break;G=G.return}0<je.length&&(se=new oe(se,Re,null,o,le),fe.push({event:se,listeners:je}))}}if((r&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",oe=s==="mouseout"||s==="pointerout",se&&o!==mc&&(Re=o.relatedTarget||o.fromElement)&&(os(Re)||Re[rs]))break e;if((oe||se)&&(se=le.window===le?le:(se=le.ownerDocument)?se.defaultView||se.parentWindow:window,oe?(Re=o.relatedTarget||o.toElement,oe=ee,Re=Re?os(Re):null,Re!==null&&(bt=l(Re),je=Re.tag,Re!==bt||je!==5&&je!==27&&je!==6)&&(Re=null)):(oe=null,Re=ee),oe!==Re)){if(je=vc,ue="onMouseLeave",Y="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(je=Ps,ue="onPointerLeave",Y="onPointerEnter",G="pointer"),bt=oe==null?se:Jn(oe),Z=Re==null?se:Jn(Re),se=new je(ue,G+"leave",oe,o,le),se.target=bt,se.relatedTarget=Z,ue=null,os(le)===ee&&(je=new je(Y,G+"enter",Re,o,le),je.target=Z,je.relatedTarget=bt,ue=je),bt=ue,oe&&Re)t:{for(je=O2,Y=oe,G=Re,Z=0,ue=Y;ue;ue=je(ue))Z++;ue=0;for(var Oe=G;Oe;Oe=je(Oe))ue++;for(;0<Z-ue;)Y=je(Y),Z--;for(;0<ue-Z;)G=je(G),ue--;for(;Z--;){if(Y===G||G!==null&&Y===G.alternate){je=Y;break t}Y=je(Y),G=je(G)}je=null}else je=null;oe!==null&&Cw(fe,se,oe,je,!1),Re!==null&&bt!==null&&Cw(fe,bt,Re,je,!0)}}e:{if(se=ee?Jn(ee):window,oe=se.nodeName&&se.nodeName.toLowerCase(),oe==="select"||oe==="input"&&se.type==="file")var lt=q_;else if(z_(se))if(H_)lt=$k;else{lt=Hk;var Ne=qk}else oe=se.nodeName,!oe||oe.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ee&&ko(ee.elementType)&&(lt=q_):lt=Gk;if(lt&&(lt=lt(s,ee))){B_(fe,lt,o,le);break e}Ne&&Ne(s,se,ee),s==="focusout"&&ee&&se.type==="number"&&ee.memoizedProps.value!=null&&hc(se,"number",se.value)}switch(Ne=ee?Jn(ee):window,s){case"focusin":(z_(Ne)||Ne.contentEditable==="true")&&(jo=Ne,ep=ee,Ec=null);break;case"focusout":Ec=ep=jo=null;break;case"mousedown":tp=!0;break;case"contextmenu":case"mouseup":case"dragend":tp=!1,J_(fe,o,le);break;case"selectionchange":if(Yk)break;case"keydown":case"keyup":J_(fe,o,le)}var Ye;if(ut)e:{switch(s){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Uo?Oa(s,o)&&(tt="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(tt="onCompositionStart");tt&&(ys&&o.locale!=="ko"&&(Uo||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Uo&&(Ye=gc()):(ds=le,pc="value"in ds?ds.value:ds.textContent,Uo=!0)),Ne=Rf(ee,tt),0<Ne.length&&(tt=new gs(tt,s,null,o,le),fe.push({event:tt,listeners:Ne}),Ye?tt.data=Ye:(Ye=Lo(o),Ye!==null&&(tt.data=Ye)))),(Ye=gi?jk(s,o):Fk(s,o))&&(tt=Rf(ee,"onBeforeInput"),0<tt.length&&(Ne=new gs("onBeforeInput","beforeinput",null,o,le),fe.push({event:Ne,listeners:tt}),Ne.data=Ye)),k2(fe,s,ee,o,le)}Sw(fe,r)})}function Yc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function Rf(s,r){for(var o=r+"Capture",u=[];s!==null;){var m=s,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=ji(s,o),m!=null&&u.unshift(Yc(s,m,g)),m=ji(s,r),m!=null&&u.push(Yc(s,m,g))),s.tag===3)return u;s=s.return}return[]}function O2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Cw(s,r,o,u,m){for(var g=r._reactName,T=[];o!==null&&o!==u;){var R=o,B=R.alternate,ee=R.stateNode;if(R=R.tag,B!==null&&B===u)break;R!==5&&R!==26&&R!==27||ee===null||(B=ee,m?(ee=ji(o,g),ee!=null&&T.unshift(Yc(o,ee,B))):m||(ee=ji(o,g),ee!=null&&T.push(Yc(o,ee,B)))),o=o.return}T.length!==0&&s.push({event:r,listeners:T})}var V2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function Rw(s){return(typeof s=="string"?s:""+s).replace(V2,`
`).replace(L2,"")}function Iw(s,r){return r=Rw(r),Rw(s)===r}function _t(s,r,o,u,m,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Fn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Fn(s,""+u);break;case"className":Zn(s,"class",u);break;case"tabIndex":Zn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(s,o,u);break;case"style":dc(s,u,g);break;case"data":if(r!=="object"){Zn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Mo(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&_t(s,r,"name",m.name,m,null),_t(s,r,"formEncType",m.formEncType,m,null),_t(s,r,"formMethod",m.formMethod,m,null),_t(s,r,"formTarget",m.formTarget,m,null)):(_t(s,r,"encType",m.encType,m,null),_t(s,r,"method",m.method,m,null),_t(s,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Mo(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=Ui);break;case"onScroll":u!=null&&Je("scroll",s);break;case"onScrollEnd":u!=null&&Je("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=Mo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":Je("beforetoggle",s),Je("toggle",s),xo(s,"popover",u);break;case"xlinkActuate":Wt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Wt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Wt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Wt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Wt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Wt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Wt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Wt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Wt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":xo(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ch.get(o)||o,xo(s,o,u))}}function Cg(s,r,o,u,m,g){switch(o){case"style":dc(s,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Fn(s,u):(typeof u=="number"||typeof u=="bigint")&&Fn(s,""+u);break;case"onScroll":u!=null&&Je("scroll",s);break;case"onScrollEnd":u!=null&&Je("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ac.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=s[un]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(r,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,m);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):xo(s,o,u)}}}function bn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",s),Je("load",s);var u=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:_t(s,r,g,T,o,null)}}m&&_t(s,r,"srcSet",o.srcSet,o,null),u&&_t(s,r,"src",o.src,o,null);return;case"input":Je("invalid",s);var R=g=T=m=null,B=null,ee=null;for(u in o)if(o.hasOwnProperty(u)){var le=o[u];if(le!=null)switch(u){case"name":m=le;break;case"type":T=le;break;case"checked":B=le;break;case"defaultChecked":ee=le;break;case"value":g=le;break;case"defaultValue":R=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,r));break;default:_t(s,r,u,le,o,null)}}Eh(s,g,R,B,ee,T,m,!1);return;case"select":Je("invalid",s),u=T=g=null;for(m in o)if(o.hasOwnProperty(m)&&(R=o[m],R!=null))switch(m){case"value":g=R;break;case"defaultValue":T=R;break;case"multiple":u=R;default:_t(s,r,m,R,o,null)}r=g,o=T,s.multiple=!!u,r!=null?pr(s,!!u,r,!1):o!=null&&pr(s,!!u,o,!0);return;case"textarea":Je("invalid",s),g=m=u=null;for(T in o)if(o.hasOwnProperty(T)&&(R=o[T],R!=null))switch(T){case"value":u=R;break;case"defaultValue":m=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:_t(s,r,T,R,o,null)}gr(s,u,m,g);return;case"option":for(B in o)o.hasOwnProperty(B)&&(u=o[B],u!=null)&&(B==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":_t(s,r,B,u,o,null));return;case"dialog":Je("beforetoggle",s),Je("toggle",s),Je("cancel",s),Je("close",s);break;case"iframe":case"object":Je("load",s);break;case"video":case"audio":for(u=0;u<Kc.length;u++)Je(Kc[u],s);break;case"image":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"embed":case"source":case"link":Je("error",s),Je("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(u=o[ee],u!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:_t(s,r,ee,u,o,null)}return;default:if(ko(r)){for(le in o)o.hasOwnProperty(le)&&(u=o[le],u!==void 0&&Cg(s,r,le,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&_t(s,r,R,u,o,null))}function U2(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,T=null,R=null,B=null,ee=null,le=null;for(oe in o){var fe=o[oe];if(o.hasOwnProperty(oe)&&fe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":B=fe;default:u.hasOwnProperty(oe)||_t(s,r,oe,null,u,fe)}}for(var se in u){var oe=u[se];if(fe=o[se],u.hasOwnProperty(se)&&(oe!=null||fe!=null))switch(se){case"type":g=oe;break;case"name":m=oe;break;case"checked":ee=oe;break;case"defaultChecked":le=oe;break;case"value":T=oe;break;case"defaultValue":R=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,r));break;default:oe!==fe&&_t(s,r,se,oe,u,fe)}}Do(s,T,R,B,ee,le,g,m);return;case"select":oe=T=R=se=null;for(g in o)if(B=o[g],o.hasOwnProperty(g)&&B!=null)switch(g){case"value":break;case"multiple":oe=B;default:u.hasOwnProperty(g)||_t(s,r,g,null,u,B)}for(m in u)if(g=u[m],B=o[m],u.hasOwnProperty(m)&&(g!=null||B!=null))switch(m){case"value":se=g;break;case"defaultValue":R=g;break;case"multiple":T=g;default:g!==B&&_t(s,r,m,g,u,B)}r=R,o=T,u=oe,se!=null?pr(s,!!o,se,!1):!!u!=!!o&&(r!=null?pr(s,!!o,r,!0):pr(s,!!o,o?[]:"",!1));return;case"textarea":oe=se=null;for(R in o)if(m=o[R],o.hasOwnProperty(R)&&m!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:_t(s,r,R,null,u,m)}for(T in u)if(m=u[T],g=o[T],u.hasOwnProperty(T)&&(m!=null||g!=null))switch(T){case"value":se=m;break;case"defaultValue":oe=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&_t(s,r,T,m,u,g)}Sh(s,se,oe);return;case"option":for(var Re in o)se=o[Re],o.hasOwnProperty(Re)&&se!=null&&!u.hasOwnProperty(Re)&&(Re==="selected"?s.selected=!1:_t(s,r,Re,null,u,se));for(B in u)se=u[B],oe=o[B],u.hasOwnProperty(B)&&se!==oe&&(se!=null||oe!=null)&&(B==="selected"?s.selected=se&&typeof se!="function"&&typeof se!="symbol":_t(s,r,B,se,u,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in o)se=o[je],o.hasOwnProperty(je)&&se!=null&&!u.hasOwnProperty(je)&&_t(s,r,je,null,u,se);for(ee in u)if(se=u[ee],oe=o[ee],u.hasOwnProperty(ee)&&se!==oe&&(se!=null||oe!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,r));break;default:_t(s,r,ee,se,u,oe)}return;default:if(ko(r)){for(var bt in o)se=o[bt],o.hasOwnProperty(bt)&&se!==void 0&&!u.hasOwnProperty(bt)&&Cg(s,r,bt,void 0,u,se);for(le in u)se=u[le],oe=o[le],!u.hasOwnProperty(le)||se===oe||se===void 0&&oe===void 0||Cg(s,r,le,se,u,oe);return}}for(var Y in o)se=o[Y],o.hasOwnProperty(Y)&&se!=null&&!u.hasOwnProperty(Y)&&_t(s,r,Y,null,u,se);for(fe in u)se=u[fe],oe=o[fe],!u.hasOwnProperty(fe)||se===oe||se==null&&oe==null||_t(s,r,fe,se,u,oe)}function xw(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],g=m.transferSize,T=m.initiatorType,R=m.duration;if(g&&R&&xw(T)){for(T=0,R=m.responseEnd,u+=1;u<o.length;u++){var B=o[u],ee=B.startTime;if(ee>R)break;var le=B.transferSize,fe=B.initiatorType;le&&xw(fe)&&(B=B.responseEnd,T+=le*(B<R?1:(R-ee)/(B-ee)))}if(--u,r+=8*(g+T)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Rg=null,Ig=null;function If(s){return s.nodeType===9?s:s.ownerDocument}function Dw(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kw(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function xg(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Dg=null;function F2(){var s=window.event;return s&&s.type==="popstate"?s===Dg?!1:(Dg=s,!0):(Dg=null,!1)}var Mw=typeof setTimeout=="function"?setTimeout:void 0,z2=typeof clearTimeout=="function"?clearTimeout:void 0,Nw=typeof Promise=="function"?Promise:void 0,B2=typeof queueMicrotask=="function"?queueMicrotask:typeof Nw<"u"?function(s){return Nw.resolve(null).then(s).catch(q2)}:Mw;function q2(s){setTimeout(function(){throw s})}function jr(s){return s==="head"}function Pw(s,r){var o=r,u=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(m),fl(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Wc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Wc(o);for(var g=o.firstChild;g;){var T=g.nextSibling,R=g.nodeName;g[as]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Wc(s.ownerDocument.body);o=m}while(o);fl(r)}function Ow(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function kg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":kg(o),Io(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function H2(s,r,o,u){for(;s.nodeType===1;){var m=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[as])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=Ei(s.nextSibling),s===null)break}return null}function G2(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Ei(s.nextSibling),s===null))return null;return s}function Vw(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Ei(s.nextSibling),s===null))return null;return s}function Mg(s){return s.data==="$?"||s.data==="$~"}function Ng(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function $2(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Ei(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Pg=null;function Lw(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return Ei(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function Uw(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function jw(s,r,o){switch(r=If(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Wc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Io(s)}var Si=new Map,Fw=new Set;function xf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ws=te.d;te.d={f:K2,r:Y2,D:W2,C:Q2,L:X2,m:J2,X:eM,S:Z2,M:tM};function K2(){var s=Ws.f(),r=bf();return s||r}function Y2(s){var r=di(s);r!==null&&r.tag===5&&r.type==="form"?iT(r):Ws.r(s)}var cl=typeof document>"u"?null:document;function zw(s,r,o){var u=cl;if(u&&typeof r=="string"&&r){var m=jn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Fw.has(m)||(Fw.add(m),s={rel:s,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),bn(r,"link",s),Yt(r),u.head.appendChild(r)))}}function W2(s){Ws.D(s),zw("dns-prefetch",s,null)}function Q2(s,r){Ws.C(s,r),zw("preconnect",s,r)}function X2(s,r,o){Ws.L(s,r,o);var u=cl;if(u&&s&&r){var m='link[rel="preload"][as="'+jn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+jn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+jn(o.imageSizes)+'"]')):m+='[href="'+jn(s)+'"]';var g=m;switch(r){case"style":g=ul(s);break;case"script":g=hl(s)}Si.has(g)||(s=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),Si.set(g,s),u.querySelector(m)!==null||r==="style"&&u.querySelector(Qc(g))||r==="script"&&u.querySelector(Xc(g))||(r=u.createElement("link"),bn(r,"link",s),Yt(r),u.head.appendChild(r)))}}function J2(s,r){Ws.m(s,r);var o=cl;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+jn(u)+'"][href="'+jn(s)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=hl(s)}if(!Si.has(g)&&(s=v({rel:"modulepreload",href:s},r),Si.set(g,s),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xc(g)))return}u=o.createElement("link"),bn(u,"link",s),Yt(u),o.head.appendChild(u)}}}function Z2(s,r,o){Ws.S(s,r,o);var u=cl;if(u&&s){var m=ls(u).hoistableStyles,g=ul(s);r=r||"default";var T=m.get(g);if(!T){var R={loading:0,preload:null};if(T=u.querySelector(Qc(g)))R.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},o),(o=Si.get(g))&&Og(s,o);var B=T=u.createElement("link");Yt(B),bn(B,"link",s),B._p=new Promise(function(ee,le){B.onload=ee,B.onerror=le}),B.addEventListener("load",function(){R.loading|=1}),B.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Df(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:R},m.set(g,T)}}}function eM(s,r){Ws.X(s,r);var o=cl;if(o&&s){var u=ls(o).hoistableScripts,m=hl(s),g=u.get(m);g||(g=o.querySelector(Xc(m)),g||(s=v({src:s,async:!0},r),(r=Si.get(m))&&Vg(s,r),g=o.createElement("script"),Yt(g),bn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function tM(s,r){Ws.M(s,r);var o=cl;if(o&&s){var u=ls(o).hoistableScripts,m=hl(s),g=u.get(m);g||(g=o.querySelector(Xc(m)),g||(s=v({src:s,async:!0,type:"module"},r),(r=Si.get(m))&&Vg(s,r),g=o.createElement("script"),Yt(g),bn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function Bw(s,r,o,u){var m=(m=J.current)?xf(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=ul(o.href),o=ls(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=ul(o.href);var g=ls(m).hoistableStyles,T=g.get(s);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,T),(g=m.querySelector(Qc(s)))&&!g._p&&(T.instance=g,T.state.loading=5),Si.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Si.set(s,o),g||nM(m,s,o,T.state))),r&&u===null)throw Error(i(528,""));return T}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=hl(o),o=ls(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ul(s){return'href="'+jn(s)+'"'}function Qc(s){return'link[rel="stylesheet"]['+s+"]"}function qw(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function nM(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),bn(r,"link",o),Yt(r),s.head.appendChild(r))}function hl(s){return'[src="'+jn(s)+'"]'}function Xc(s){return"script[async]"+s}function Hw(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+jn(o.href)+'"]');if(u)return r.instance=u,Yt(u),u;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Yt(u),bn(u,"style",m),Df(u,o.precedence,s),r.instance=u;case"stylesheet":m=ul(o.href);var g=s.querySelector(Qc(m));if(g)return r.state.loading|=4,r.instance=g,Yt(g),g;u=qw(o),(m=Si.get(m))&&Og(u,m),g=(s.ownerDocument||s).createElement("link"),Yt(g);var T=g;return T._p=new Promise(function(R,B){T.onload=R,T.onerror=B}),bn(g,"link",u),r.state.loading|=4,Df(g,o.precedence,s),r.instance=g;case"script":return g=hl(o.src),(m=s.querySelector(Xc(g)))?(r.instance=m,Yt(m),m):(u=o,(m=Si.get(g))&&(u=v({},o),Vg(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Yt(m),bn(m,"link",u),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Df(u,o.precedence,s));return r.instance}function Df(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,T=0;T<u.length;T++){var R=u[T];if(R.dataset.precedence===r)g=R;else if(g!==m)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Og(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Vg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var kf=null;function Gw(s,r,o){if(kf===null){var u=new Map,m=kf=new Map;m.set(o,u)}else m=kf,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),m=0;m<o.length;m++){var g=o[m];if(!(g[as]||g[Kt]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=s+T;var R=u.get(T);R?R.push(g):u.set(T,[g])}}return u}function $w(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function iM(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Kw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function sM(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=ul(u.href),g=r.querySelector(Qc(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=Mf.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=g,Yt(g);return}g=r.ownerDocument||r,u=qw(u),(m=Si.get(m))&&Og(u,m),g=g.createElement("link"),Yt(g);var T=g;T._p=new Promise(function(R,B){T.onload=R,T.onerror=B}),bn(g,"link",u),o.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=Mf.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Lg=0;function rM(s,r){return s.stylesheets&&s.count===0&&Pf(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&Pf(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+r);0<s.imgBytes&&Lg===0&&(Lg=62500*j2());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Pf(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>Lg?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Mf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Nf=null;function Pf(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Nf=new Map,r.forEach(aM,s),Nf=null,Mf.call(s))}function aM(s,r){if(!(r.state.loading&4)){var o=Nf.get(s);if(o)var u=o.get(null);else{o=new Map,Nf.set(s,o);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var T=m[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}m=r.instance,T=m.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,m),o.set(T,m),this.count++,u=Mf.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var Jc={$$typeof:U,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function oM(s,r,o,u,m,g,T,R,B){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.hiddenUpdates=ss(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function Yw(s,r,o,u,m,g,T,R,B,ee,le,fe){return s=new oM(s,r,o,T,B,ee,le,fe,R),r=1,g===!0&&(r|=24),g=ti(3,null,null,r),s.current=g,g.stateNode=s,r=gp(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},bp(g),s}function Ww(s){return s?(s=Bo,s):Bo}function Qw(s,r,o,u,m,g){m=Ww(m),u.context===null?u.context=m:u.pendingContext=m,u=Ir(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=xr(s,u,r),o!==null&&(Gn(o,s,r),Dc(o,s,r))}function Xw(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Ug(s,r){Xw(s,r),(s=s.alternate)&&Xw(s,r)}function Jw(s){if(s.tag===13||s.tag===31){var r=Ua(s,67108864);r!==null&&Gn(r,s,67108864),Ug(s,67108864)}}function Zw(s){if(s.tag===13||s.tag===31){var r=ai();r=Ca(r);var o=Ua(s,r);o!==null&&Gn(o,s,r),Ug(s,r)}}var Of=!0;function lM(s,r,o,u){var m=H.T;H.T=null;var g=te.p;try{te.p=2,jg(s,r,o,u)}finally{te.p=g,H.T=m}}function cM(s,r,o,u){var m=H.T;H.T=null;var g=te.p;try{te.p=8,jg(s,r,o,u)}finally{te.p=g,H.T=m}}function jg(s,r,o,u){if(Of){var m=Fg(u);if(m===null)Ag(s,r,u,Vf,o),tE(s,u);else if(hM(m,s,r,o,u))u.stopPropagation();else if(tE(s,u),r&4&&-1<uM.indexOf(s)){for(;m!==null;){var g=di(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ns(g.pendingLanes);if(T!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;T;){var B=1<<31-jt(T);R.entanglements[1]|=B,T&=~B}Ts(g),(ht&6)===0&&(vf=Nn()+500,$c(0))}}break;case 31:case 13:R=Ua(g,2),R!==null&&Gn(R,g,2),bf(),Ug(g,2)}if(g=Fg(u),g===null&&Ag(s,r,u,Vf,o),g===m)break;m=g}m!==null&&u.stopPropagation()}else Ag(s,r,u,null,o)}}function Fg(s){return s=mi(s),zg(s)}var Vf=null;function zg(s){if(Vf=null,s=os(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=h(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Vf=s,null}function eE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wa()){case tc:return 2;case nc:return 8;case dr:case Km:return 32;case dh:return 268435456;default:return 32}default:return 32}}var Bg=!1,Fr=null,zr=null,Br=null,Zc=new Map,eu=new Map,qr=[],uM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tE(s,r){switch(s){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Zc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(r.pointerId)}}function tu(s,r,o,u,m,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},r!==null&&(r=di(r),r!==null&&Jw(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function hM(s,r,o,u,m){switch(r){case"focusin":return Fr=tu(Fr,s,r,o,u,m),!0;case"dragenter":return zr=tu(zr,s,r,o,u,m),!0;case"mouseover":return Br=tu(Br,s,r,o,u,m),!0;case"pointerover":var g=m.pointerId;return Zc.set(g,tu(Zc.get(g)||null,s,r,o,u,m)),!0;case"gotpointercapture":return g=m.pointerId,eu.set(g,tu(eu.get(g)||null,s,r,o,u,m)),!0}return!1}function nE(s){var r=os(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,Vi(s.priority,function(){Zw(o)});return}}else if(r===31){if(r=h(o),r!==null){s.blockedOn=r,Vi(s.priority,function(){Zw(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Lf(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Fg(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);mc=u,o.target.dispatchEvent(u),mc=null}else return r=di(o),r!==null&&Jw(r),s.blockedOn=o,!1;r.shift()}return!0}function iE(s,r,o){Lf(s)&&o.delete(r)}function fM(){Bg=!1,Fr!==null&&Lf(Fr)&&(Fr=null),zr!==null&&Lf(zr)&&(zr=null),Br!==null&&Lf(Br)&&(Br=null),Zc.forEach(iE),eu.forEach(iE)}function Uf(s,r){s.blockedOn===r&&(s.blockedOn=null,Bg||(Bg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fM)))}var jf=null;function sE(s){jf!==s&&(jf=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jf===s&&(jf=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],m=s[r+2];if(typeof u!="function"){if(zg(u||o)===null)continue;break}var g=di(o);g!==null&&(s.splice(r,3),r-=3,Fp(g,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function fl(s){function r(B){return Uf(B,s)}Fr!==null&&Uf(Fr,s),zr!==null&&Uf(zr,s),Br!==null&&Uf(Br,s),Zc.forEach(r),eu.forEach(r);for(var o=0;o<qr.length;o++){var u=qr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<qr.length&&(o=qr[0],o.blockedOn===null);)nE(o),o.blockedOn===null&&qr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],g=o[u+1],T=m[un]||null;if(typeof g=="function")T||sE(o);else if(T){var R=null;if(g&&g.hasAttribute("formAction")){if(m=g,T=g[un]||null)R=T.formAction;else if(zg(m)!==null)continue}else R=T.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),sE(o)}}}function rE(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function qg(s){this._internalRoot=s}Ff.prototype.render=qg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=ai();Qw(o,u,s,r,null,null)},Ff.prototype.unmount=qg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Qw(s.current,2,null,s,null,null),bf(),r[rs]=null}};function Ff(s){this._internalRoot=s}Ff.prototype.unstable_scheduleHydration=function(s){if(s){var r=_h();s={blockedOn:null,target:s,priority:r};for(var o=0;o<qr.length&&r!==0&&r<qr[o].priority;o++);qr.splice(o,0,s),o===0&&nE(s)}};var aE=e.version;if(aE!=="19.2.3")throw Error(i(527,aE,"19.2.3"));te.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var dM={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{Pi=zf.inject(dM),pn=zf}catch{}}return iu.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",m=dT,g=mT,T=pT;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=Yw(s,1,!1,null,null,o,u,null,m,g,T,rE),s[rs]=r.current,Sg(s),new qg(r)},iu.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,m="",g=dT,T=mT,R=pT,B=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(B=o.formState)),r=Yw(s,1,!0,r,o??null,u,m,B,g,T,R,rE),r.context=Ww(null),o=r.current,u=ai(),u=Ca(u),m=Ir(u),m.callback=null,xr(o,m,u),o=u,r.current.lanes=o,Sa(r,o),Ts(r),s[rs]=r.current,Sg(s),new Ff(r)},iu.version="19.2.3",iu}var gE;function SM(){if(gE)return $g.exports;gE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$g.exports=EM(),$g.exports}var AM=SM();const CM=Bv(AM),RM="modulepreload",IM=function(t){return"/AWAKE/"+t},yE={},Dt=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");a=f(n.map(p=>{if(p=IM(p),p in yE)return;yE[p]=!0;const y=p.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":RM,y||(b.as="script"),b.crossOrigin="",b.href=p,h&&b.setAttribute("nonce",h),document.head.appendChild(b),y)return new Promise((I,N)=>{b.addEventListener("load",I),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var vE="popstate";function xM(t={}){function e(i,a){let{pathname:l,search:c,hash:h}=i.location;return Uy("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Du(a)}return kM(e,n,null,t)}function kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function li(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DM(){return Math.random().toString(36).substring(2,10)}function _E(t,e){return{usr:t.state,key:t.key,idx:e}}function Uy(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fl(e):e,state:n,key:e&&e.key||i||DM()}}function Du({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function kM(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h="POP",f=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function v(){h="POP";let z=y(),j=z==null?null:z-p;p=z,f&&f({action:h,location:P.location,delta:j})}function b(z,j){h="PUSH";let L=Uy(P.location,z,j);p=y()+1;let U=_E(L,p),ce=P.createHref(L);try{c.pushState(U,"",ce)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(ce)}l&&f&&f({action:h,location:P.location,delta:1})}function I(z,j){h="REPLACE";let L=Uy(P.location,z,j);p=y();let U=_E(L,p),ce=P.createHref(L);c.replaceState(U,"",ce),l&&f&&f({action:h,location:P.location,delta:0})}function N(z){return MM(z)}let P={get action(){return h},get location(){return t(a,c)},listen(z){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(vE,v),f=z,()=>{a.removeEventListener(vE,v),f=null}},createHref(z){return e(a,z)},createURL:N,encodeLocation(z){let j=N(z);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:I,go(z){return c.go(z)}};return P}function MM(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),kt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Du(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function ZA(t,e,n="/"){return NM(t,e,n,!1)}function NM(t,e,n,i){let a=typeof e=="string"?Fl(e):e,l=ir(a.pathname||"/",n);if(l==null)return null;let c=eC(t);PM(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let p=GM(l);h=qM(c[f],p,i)}return h}function eC(t,e=[],n=[],i="",a=!1){let l=(c,h,f=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&f)return;kt(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=Zs([i,y.relativePath]),b=n.concat(y);c.children&&c.children.length>0&&(kt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),eC(c.children,e,b,v,f)),!(c.path==null&&!c.index)&&e.push({path:v,score:zM(v,c.index),routesMeta:b})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let f of tC(c.path))l(c,h,!0,f)}),e}function tC(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=tC(i.join("/")),h=[];return h.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...c),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function PM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BM(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var OM=/^:[\w-]+$/,VM=3,LM=2,UM=1,jM=10,FM=-2,bE=t=>t==="*";function zM(t,e){let n=t.split("/"),i=n.length;return n.some(bE)&&(i+=FM),e&&(i+=LM),n.filter(a=>!bE(a)).reduce((a,l)=>a+(OM.test(l)?VM:l===""?UM:jM),i)}function BM(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function qM(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],p=h===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=Sd({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),b=f.route;if(!v&&p&&n&&!i[i.length-1].route.index&&(v=Sd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Zs([l,v.pathname]),pathnameBase:WM(Zs([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=Zs([l,v.pathnameBase]))}return c}function Sd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=HM(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:v},b)=>{if(y==="*"){let N=h[b]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const I=h[b];return v&&!I?p[y]=void 0:p[y]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function HM(t,e=!1,n=!0){li(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function GM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ir(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var nC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$M=t=>nC.test(t);function KM(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Fl(t):t,l;if(n)if($M(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),li(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=TE(n.substring(1),"/"):l=TE(n,e)}else l=e;return{pathname:l,search:QM(i),hash:XM(a)}}function TE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Qg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gv(t){let e=YM(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function $v(t,e,n,i=!1){let a;typeof t=="string"?a=Fl(t):(a={...t},kt(!a.pathname||!a.pathname.includes("?"),Qg("?","pathname","search",a)),kt(!a.pathname||!a.pathname.includes("#"),Qg("#","pathname","hash",a)),kt(!a.search||!a.search.includes("#"),Qg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let v=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}h=v>=0?e[v]:"/"}let f=KM(a,h),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var Zs=t=>t.join("/").replace(/\/\/+/g,"/"),WM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,JM=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ZM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function eN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var iC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sC(t,e){let n=t;if(typeof n!="string"||!nC.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(iC)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=ir(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{li(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rC=["POST","PUT","PATCH","DELETE"];new Set(rC);var tN=["GET",...rC];new Set(tN);var zl=C.createContext(null);zl.displayName="DataRouter";var fm=C.createContext(null);fm.displayName="DataRouterState";var nN=C.createContext(!1),aC=C.createContext({isTransitioning:!1});aC.displayName="ViewTransition";var iN=C.createContext(new Map);iN.displayName="Fetchers";var sN=C.createContext(null);sN.displayName="Await";var ui=C.createContext(null);ui.displayName="Navigation";var $u=C.createContext(null);$u.displayName="Location";var Ni=C.createContext({outlet:null,matches:[],isDataRoute:!1});Ni.displayName="Route";var Kv=C.createContext(null);Kv.displayName="RouteError";var oC="REACT_ROUTER_ERROR",rN="REDIRECT",aN="ROUTE_ERROR_RESPONSE";function oN(t){if(t.startsWith(`${oC}:${rN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function lN(t){if(t.startsWith(`${oC}:${aN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new JM(e.status,e.statusText,e.data)}catch{}}function cN(t,{relative:e}={}){kt(Bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=C.useContext(ui),{hash:a,pathname:l,search:c}=Ku(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Zs([n,l])),i.createHref({pathname:h,search:c,hash:a})}function Bl(){return C.useContext($u)!=null}function hi(){return kt(Bl(),"useLocation() may be used only in the context of a <Router> component."),C.useContext($u).location}var lC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cC(t){C.useContext(ui).static||C.useLayoutEffect(t)}function wo(){let{isDataRoute:t}=C.useContext(Ni);return t?SN():uN()}function uN(){kt(Bl(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(zl),{basename:e,navigator:n}=C.useContext(ui),{matches:i}=C.useContext(Ni),{pathname:a}=hi(),l=JSON.stringify(Gv(i)),c=C.useRef(!1);return cC(()=>{c.current=!0}),C.useCallback((f,p={})=>{if(li(c.current,lC),!c.current)return;if(typeof f=="number"){n.go(f);return}let y=$v(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Zs([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}var hN=C.createContext(null);function fN(t){let e=C.useContext(Ni).outlet;return C.useMemo(()=>e&&C.createElement(hN.Provider,{value:t},e),[e,t])}function TG(){let{matches:t}=C.useContext(Ni),e=t[t.length-1];return e?e.params:{}}function Ku(t,{relative:e}={}){let{matches:n}=C.useContext(Ni),{pathname:i}=hi(),a=JSON.stringify(Gv(n));return C.useMemo(()=>$v(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function dN(t,e){return uC(t,e)}function uC(t,e,n,i,a){kt(Bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=C.useContext(ui),{matches:c}=C.useContext(Ni),h=c[c.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let L=v&&v.path||"";fC(p,!v||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let b=hi(),I;if(e){let L=typeof e=="string"?Fl(e):e;kt(y==="/"||L.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${L.pathname}" was given in the \`location\` prop.`),I=L}else I=b;let N=I.pathname||"/",P=N;if(y!=="/"){let L=y.replace(/^\//,"").split("/");P="/"+N.replace(/^\//,"").split("/").slice(L.length).join("/")}let z=ZA(t,{pathname:P});li(v||z!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),li(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=vN(z&&z.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:Zs([y,l.encodeLocation?l.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?y:Zs([y,l.encodeLocation?l.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),c,n,i,a);return e&&j?C.createElement($u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},j):j}function mN(){let t=EN(),e=ZM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:l},"ErrorBoundary")," or"," ",C.createElement("code",{style:l},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:a},n):null,c)}var pN=C.createElement(mN,null),hC=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=lN(t.digest);n&&(t=n)}let e=t!==void 0?C.createElement(Ni.Provider,{value:this.props.routeContext},C.createElement(Kv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?C.createElement(gN,{error:t},e):e}};hC.contextType=nN;var Xg=new WeakMap;function gN({children:t,error:e}){let{basename:n}=C.useContext(ui);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=oN(e.digest);if(i){let a=Xg.get(e);if(a)throw a;let l=sC(i.location,n);if(iC&&!Xg.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Xg.set(e,c),c}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function yN({routeContext:t,match:e,children:n}){let i=C.useContext(zl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Ni.Provider,{value:t},n)}function vN(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let y=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);kt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,f=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=y),v.route.id){let{loaderData:b,errors:I}=n,N=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!I||I[v.route.id]===void 0);if(v.route.lazy||N){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=n&&i?(y,v)=>{i(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:eN(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,b)=>{let I,N=!1,P=null,z=null;n&&(I=c&&v.route.id?c[v.route.id]:void 0,P=v.route.errorElement||pN,h&&(f<0&&b===0?(fC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,z=null):f===b&&(N=!0,z=v.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,b+1)),L=()=>{let U;return I?U=P:N?U=z:v.route.Component?U=C.createElement(v.route.Component,null):v.route.element?U=v.route.element:U=y,C.createElement(yN,{match:v,routeContext:{outlet:y,matches:j,isDataRoute:n!=null},children:U})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?C.createElement(hC,{location:n.location,revalidation:n.revalidation,component:P,error:I,children:L(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:p}):L()},null)}function Yv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _N(t){let e=C.useContext(zl);return kt(e,Yv(t)),e}function bN(t){let e=C.useContext(fm);return kt(e,Yv(t)),e}function TN(t){let e=C.useContext(Ni);return kt(e,Yv(t)),e}function Wv(t){let e=TN(t),n=e.matches[e.matches.length-1];return kt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function wN(){return Wv("useRouteId")}function EN(){let t=C.useContext(Kv),e=bN("useRouteError"),n=Wv("useRouteError");return t!==void 0?t:e.errors?.[n]}function SN(){let{router:t}=_N("useNavigate"),e=Wv("useNavigate"),n=C.useRef(!1);return cC(()=>{n.current=!0}),C.useCallback(async(a,l={})=>{li(n.current,lC),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var wE={};function fC(t,e,n){!e&&!wE[t]&&(wE[t]=!0,li(!1,n))}C.memo(AN);function AN({routes:t,future:e,state:n,onError:i}){return uC(t,void 0,n,i,e)}function dC({to:t,replace:e,state:n,relative:i}){kt(Bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(ui);li(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=C.useContext(Ni),{pathname:c}=hi(),h=wo(),f=$v(t,Gv(l),c,i==="path"),p=JSON.stringify(f);return C.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:i})},[h,p,i,e,n]),null}function mC(t){return fN(t.context)}function Vt(t){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CN({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){kt(!Bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),f=C.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=Fl(n));let{pathname:p="/",search:y="",hash:v="",state:b=null,key:I="default"}=n,N=C.useMemo(()=>{let P=ir(p,h);return P==null?null:{location:{pathname:P,search:y,hash:v,state:b,key:I},navigationType:i}},[h,p,y,v,b,I,i]);return li(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:C.createElement(ui.Provider,{value:f},C.createElement($u.Provider,{children:e,value:N}))}function RN({children:t,location:e}){return dN(jy(t),e)}function jy(t,e=[]){let n=[];return C.Children.forEach(t,(i,a)=>{if(!C.isValidElement(i))return;let l=[...e,a];if(i.type===C.Fragment){n.push.apply(n,jy(i.props.children,l));return}kt(i.type===Vt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=jy(i.props.children,l)),n.push(c)}),n}var nd="get",id="application/x-www-form-urlencoded";function dm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function IN(t){return dm(t)&&t.tagName.toLowerCase()==="button"}function xN(t){return dm(t)&&t.tagName.toLowerCase()==="form"}function DN(t){return dm(t)&&t.tagName.toLowerCase()==="input"}function kN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MN(t,e){return t.button===0&&(!e||e==="_self")&&!kN(t)}function Fy(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(a=>[n,a]):[[n,i]])},[]))}function NN(t,e){let n=Fy(t);return e&&e.forEach((i,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var Bf=null;function PN(){if(Bf===null)try{new FormData(document.createElement("form"),0),Bf=!1}catch{Bf=!0}return Bf}var ON=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jg(t){return t!=null&&!ON.has(t)?(li(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${id}"`),null):t}function VN(t,e){let n,i,a,l,c;if(xN(t)){let h=t.getAttribute("action");i=h?ir(h,e):null,n=t.getAttribute("method")||nd,a=Jg(t.getAttribute("enctype"))||id,l=new FormData(t)}else if(IN(t)||DN(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(i=f?ir(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||nd,a=Jg(t.getAttribute("formenctype"))||Jg(h.getAttribute("enctype"))||id,l=new FormData(h,t),!PN()){let{name:p,type:y,value:v}=t;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,v)}}else{if(dm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nd,i=null,a=id,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function LN(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&ir(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function UN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function FN(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await UN(l,n);return c.links?c.links():[]}return[]}));return HN(i.flat(1).filter(jN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function EE(t,e,n,i,a,l){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,p)=>c(f,p)||h(f,p)):l==="data"?e.filter((f,p)=>{let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function zN(t,e,{includeHydrateFallback:n}={}){return BN(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function BN(t){return[...new Set(t)]}function qN(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function HN(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(qN(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function pC(){let t=C.useContext(zl);return Qv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function GN(){let t=C.useContext(fm);return Qv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xv=C.createContext(void 0);Xv.displayName="FrameworkContext";function gC(){let t=C.useContext(Xv);return Qv(t,"You must render this element inside a <HydratedRouter> element"),t}function $N(t,e){let n=C.useContext(Xv),[i,a]=C.useState(!1),[l,c]=C.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,b=C.useRef(null);C.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let P=j=>{j.forEach(L=>{c(L.isIntersecting)})},z=new IntersectionObserver(P,{threshold:.5});return b.current&&z.observe(b.current),()=>{z.disconnect()}}},[t]),C.useEffect(()=>{if(i){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[i]);let I=()=>{a(!0)},N=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:su(h,I),onBlur:su(f,N),onMouseEnter:su(p,I),onMouseLeave:su(y,N),onTouchStart:su(v,I)}]:[!1,b,{}]}function su(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function KN({page:t,...e}){let{router:n}=pC(),i=C.useMemo(()=>ZA(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?C.createElement(WN,{page:t,matches:i,...e}):null}function YN(t){let{manifest:e,routeModules:n}=gC(),[i,a]=C.useState([]);return C.useEffect(()=>{let l=!1;return FN(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function WN({page:t,matches:e,...n}){let i=hi(),{future:a,manifest:l,routeModules:c}=gC(),{basename:h}=pC(),{loaderData:f,matches:p}=GN(),y=C.useMemo(()=>EE(t,e,p,l,i,"data"),[t,e,p,l,i]),v=C.useMemo(()=>EE(t,e,p,l,i,"assets"),[t,e,p,l,i]),b=C.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let P=new Set,z=!1;if(e.forEach(L=>{let U=l.routes[L.route.id];!U||!U.hasLoader||(!y.some(ce=>ce.route.id===L.route.id)&&L.route.id in f&&c[L.route.id]?.shouldRevalidate||U.hasClientLoader?z=!0:P.add(L.route.id))}),P.size===0)return[];let j=LN(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return z&&P.size>0&&j.searchParams.set("_routes",e.filter(L=>P.has(L.route.id)).map(L=>L.route.id).join(",")),[j.pathname+j.search]},[h,a.unstable_trailingSlashAwareDataRequests,f,i,l,y,e,t,c]),I=C.useMemo(()=>zN(v,l),[v,l]),N=YN(v);return C.createElement(C.Fragment,null,b.map(P=>C.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),I.map(P=>C.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),N.map(({key:P,link:z})=>C.createElement("link",{key:P,nonce:n.nonce,...z})))}function QN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var XN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XN&&(window.__reactRouterVersion="7.12.0")}catch{}function JN({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=C.useRef();a.current==null&&(a.current=xM({window:i,v5Compat:!0}));let l=a.current,[c,h]=C.useState({action:l.action,location:l.location}),f=C.useCallback(p=>{n===!1?h(p):C.startTransition(()=>h(p))},[n]);return C.useLayoutEffect(()=>l.listen(f),[l,f]),C.createElement(CN,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var yC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ad=C.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:h,target:f,to:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:b,...I},N){let{basename:P,unstable_useTransitions:z}=C.useContext(ui),j=typeof p=="string"&&yC.test(p),L=sC(p,P);p=L.to;let U=cN(p,{relative:a}),[ce,F,X]=$N(i,I),S=nP(p,{replace:c,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:b,unstable_useTransitions:z});function E(O){e&&e(O),O.defaultPrevented||S(O)}let D=C.createElement("a",{...I,...X,href:L.absoluteURL||U,onClick:L.isExternal||l?e:E,ref:QN(N,F),target:f,"data-discover":!j&&n==="render"?"true":void 0});return ce&&!j?C.createElement(C.Fragment,null,D,C.createElement(KN,{page:U})):D});Ad.displayName="Link";var ZN=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:h,children:f,...p},y){let v=Ku(c,{relative:p.relative}),b=hi(),I=C.useContext(fm),{navigator:N,basename:P}=C.useContext(ui),z=I!=null&&lP(v)&&h===!0,j=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,L=b.pathname,U=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(L=L.toLowerCase(),U=U?U.toLowerCase():null,j=j.toLowerCase()),U&&P&&(U=ir(U,P)||U);const ce=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let F=L===j||!a&&L.startsWith(j)&&L.charAt(ce)==="/",X=U!=null&&(U===j||!a&&U.startsWith(j)&&U.charAt(j.length)==="/"),S={isActive:F,isPending:X,isTransitioning:z},E=F?e:void 0,D;typeof i=="function"?D=i(S):D=[i,F?"active":null,X?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(S):l;return C.createElement(Ad,{...p,"aria-current":E,className:D,ref:y,style:O,to:c,viewTransition:h},typeof f=="function"?f(S):f)});ZN.displayName="NavLink";var eP=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=nd,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:b,...I},N)=>{let{unstable_useTransitions:P}=C.useContext(ui),z=aP(),j=oP(h,{relative:p}),L=c.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&yC.test(h),ce=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let X=F.nativeEvent.submitter,S=X?.getAttribute("formmethod")||c,E=()=>z(X||F.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:b});P&&n!==!1?C.startTransition(()=>E()):E()};return C.createElement("form",{ref:N,method:L,action:j,onSubmit:i?f:ce,...I,"data-discover":!U&&t==="render"?"true":void 0})});eP.displayName="Form";function tP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vC(t){let e=C.useContext(zl);return kt(e,tP(t)),e}function nP(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let p=wo(),y=hi(),v=Ku(t,{relative:l});return C.useCallback(b=>{if(MN(b,e)){b.preventDefault();let I=n!==void 0?n:Du(y)===Du(v),N=()=>p(t,{replace:I,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});f?C.startTransition(()=>N()):N()}},[y,p,v,n,i,e,t,a,l,c,h,f])}function iP(t){li(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=C.useRef(Fy(t)),n=C.useRef(!1),i=hi(),a=C.useMemo(()=>NN(i.search,n.current?null:e.current),[i.search]),l=wo(),c=C.useCallback((h,f)=>{const p=Fy(typeof h=="function"?h(new URLSearchParams(a)):h);n.current=!0,l("?"+p,f)},[l,a]);return[a,c]}var sP=0,rP=()=>`__${String(++sP)}__`;function aP(){let{router:t}=vC("useSubmit"),{basename:e}=C.useContext(ui),n=wN(),i=t.fetch,a=t.navigate;return C.useCallback(async(l,c={})=>{let{action:h,method:f,encType:p,formData:y,body:v}=VN(l,e);if(c.navigate===!1){let b=c.fetcherKey||rP();await i(b,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||f,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||f,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function oP(t,{relative:e}={}){let{basename:n}=C.useContext(ui),i=C.useContext(Ni);kt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Ku(t||".",{relative:e})},c=hi();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Zs([n,l.pathname])),Du(l)}function lP(t,{relative:e}={}){let n=C.useContext(aC);kt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=vC("useViewTransitionState"),a=Ku(t,{relative:e});if(!n.isTransitioning)return!1;let l=ir(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=ir(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Sd(a.pathname,c)!=null||Sd(a.pathname,l)!=null}const cP=()=>{};var SE={};const uP={SDK_VERSION:"${JSCORE_VERSION}"};const zy=function(t,e){if(!t)throw hP(e)},hP=function(t){return new Error("Firebase Database ("+uP.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};const _C=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},fP=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},bC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,f=a+2<t.length,p=f?t[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let b=(h&15)<<2|p>>6,I=p&63;f||(I=64,c||(b=64)),i.push(n[y],n[v],n[b],n[I])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_C(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new dP;const b=l<<2|h>>4;if(i.push(b),p!==64){const I=h<<4&240|p>>2;if(i.push(I),v!==64){const N=p<<6&192|v;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mP=function(t){const e=_C(t);return bC.encodeByteArray(e,!0)},Cd=function(t){return mP(t).replace(/\./g,"")},TC=function(t){try{return bC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const gP=()=>pP().__FIREBASE_DEFAULTS__,yP=()=>{if(typeof process>"u"||typeof SE>"u")return;const t=SE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TC(t[1]);return e&&JSON.parse(e)},mm=()=>{try{return cP()||gP()||yP()||vP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wC=t=>mm()?.emulatorHosts?.[t],EC=t=>{const e=wC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},SC=()=>mm()?.config,AC=t=>mm()?.[`_${t}`];class _P{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function ga(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jv(t){return(await fetch(t,{credentials:"include"})).ok}function bP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Cd(JSON.stringify(n)),Cd(JSON.stringify(c)),""].join(".")}const _u={};function TP(){const t={prod:[],emulator:[]};for(const e of Object.keys(_u))_u[e]?t.emulator.push(e):t.prod.push(e);return t}function wP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let AE=!1;function Zv(t,e){if(typeof window>"u"||typeof document>"u"||!ga(window.location.host)||_u[t]===e||_u[t]||AE)return;_u[t]=e;function n(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=TP().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,I){b.setAttribute("width","24"),b.setAttribute("id",I),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{AE=!0,c()},b}function y(b,I){b.setAttribute("id",I),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=wP(i),I=n("text"),N=document.getElementById(I)||document.createElement("span"),P=n("learnmore"),z=document.getElementById(P)||document.createElement("a"),j=n("preprendIcon"),L=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const U=b.element;h(U),y(z,P);const ce=p();f(L,j),U.append(L,N,z,ce),document.body.appendChild(U)}l?(N.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function SP(){const t=mm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RP(){const t=Mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IP(){return!SP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function e0(){try{return typeof indexedDB=="object"}catch{return!1}}function RC(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function xP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const DP="FirebaseError";class Xn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=DP,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ya.prototype.create)}}class ya{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?kP(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Xn(a,h,i)}}function kP(t,e){return t.replace(MP,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const MP=/\{\$([^}]+)}/g;function NP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function aa(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(CE(l)&&CE(c)){if(!aa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function CE(t){return t!==null&&typeof t=="object"}function Yu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function hu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function fu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function PP(t,e){const n=new OP(t,e);return n.subscribe.bind(n)}class OP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");VP(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Zg),a.error===void 0&&(a.error=Zg),a.complete===void 0&&(a.complete=Zg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zg(){}const LP=1e3,UP=2,jP=14400*1e3,FP=.5;function Rd(t,e=LP,n=UP){const i=e*Math.pow(n,t),a=Math.round(FP*i*(Math.random()-.5)*2);return Math.min(jP,i+a)}function at(t){return t&&t._delegate?t._delegate:t}class ci{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const eo="[DEFAULT]";class zP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new _P;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qP(e))try{this.getOrInitializeService({instanceIdentifier:eo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=eo){return this.instances.has(e)}getOptions(e=eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:BP(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=eo){return this.component?this.component.multipleInstances?e:eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BP(t){return t===eo?void 0:t}function qP(t){return t.instantiationMode==="EAGER"}class HP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const GP={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},$P=Ze.INFO,KP={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},YP=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=KP[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wu{constructor(e){this.name=e,this._logLevel=$P,this._logHandler=YP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const WP=(t,e)=>e.some(n=>t instanceof n);let RE,IE;function QP(){return RE||(RE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XP(){return IE||(IE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IC=new WeakMap,By=new WeakMap,xC=new WeakMap,ey=new WeakMap,t0=new WeakMap;function JP(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(na(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&IC.set(n,t)}).catch(()=>{}),t0.set(e,t),e}function ZP(t){if(By.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});By.set(t,e)}let qy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return By.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return na(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eO(t){qy=t(qy)}function tO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(ty(this),e,...n);return xC.set(i,e.sort?e.sort():[e]),na(i)}:XP().includes(t)?function(...e){return t.apply(ty(this),e),na(IC.get(this))}:function(...e){return na(t.apply(ty(this),e))}}function nO(t){return typeof t=="function"?tO(t):(t instanceof IDBTransaction&&ZP(t),WP(t,QP())?new Proxy(t,qy):t)}function na(t){if(t instanceof IDBRequest)return JP(t);if(ey.has(t))return ey.get(t);const e=nO(t);return e!==t&&(ey.set(t,e),t0.set(e,t)),e}const ty=t=>t0.get(t);function DC(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=na(c);return i&&c.addEventListener("upgradeneeded",f=>{i(na(c.result),f.oldVersion,f.newVersion,na(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const iO=["get","getKey","getAll","getAllKeys","count"],sO=["put","add","delete","clear"],ny=new Map;function xE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ny.get(e))return ny.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=sO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||iO.includes(n)))return;const l=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&f.done]))[0]};return ny.set(e,l),l}eO(t=>({...t,get:(e,n,i)=>xE(e,n)||t.get(e,n,i),has:(e,n)=>!!xE(e,n)||t.has(e,n)}));class rO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function aO(t){return t.getComponent()?.type==="VERSION"}const Hy="@firebase/app",DE="0.14.7";const sr=new Wu("@firebase/app"),oO="@firebase/app-compat",lO="@firebase/analytics-compat",cO="@firebase/analytics",uO="@firebase/app-check-compat",hO="@firebase/app-check",fO="@firebase/auth",dO="@firebase/auth-compat",mO="@firebase/database",pO="@firebase/data-connect",gO="@firebase/database-compat",yO="@firebase/functions",vO="@firebase/functions-compat",_O="@firebase/installations",bO="@firebase/installations-compat",TO="@firebase/messaging",wO="@firebase/messaging-compat",EO="@firebase/performance",SO="@firebase/performance-compat",AO="@firebase/remote-config",CO="@firebase/remote-config-compat",RO="@firebase/storage",IO="@firebase/storage-compat",xO="@firebase/firestore",DO="@firebase/ai",kO="@firebase/firestore-compat",MO="firebase",NO="12.8.0";const Gy="[DEFAULT]",PO={[Hy]:"fire-core",[oO]:"fire-core-compat",[cO]:"fire-analytics",[lO]:"fire-analytics-compat",[hO]:"fire-app-check",[uO]:"fire-app-check-compat",[fO]:"fire-auth",[dO]:"fire-auth-compat",[mO]:"fire-rtdb",[pO]:"fire-data-connect",[gO]:"fire-rtdb-compat",[yO]:"fire-fn",[vO]:"fire-fn-compat",[_O]:"fire-iid",[bO]:"fire-iid-compat",[TO]:"fire-fcm",[wO]:"fire-fcm-compat",[EO]:"fire-perf",[SO]:"fire-perf-compat",[AO]:"fire-rc",[CO]:"fire-rc-compat",[RO]:"fire-gcs",[IO]:"fire-gcs-compat",[xO]:"fire-fst",[kO]:"fire-fst-compat",[DO]:"fire-vertex","fire-js":"fire-js",[MO]:"fire-js-all"};const Id=new Map,OO=new Map,$y=new Map;function kE(t,e){try{t.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ki(t){const e=t.name;if($y.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;$y.set(e,t);for(const n of Id.values())kE(n,t);for(const n of OO.values())kE(n,t);return!0}function Eo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kn(t){return t==null?!1:t.settings!==void 0}const VO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ia=new ya("app","Firebase",VO);class LO{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ia.create("app-deleted",{appName:this._name})}}const oa=NO;function kC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Gy,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw ia.create("bad-app-name",{appName:String(a)});if(n||(n=SC()),!n)throw ia.create("no-options");const l=Id.get(a);if(l){if(aa(n,l.options)&&aa(i,l.config))return l;throw ia.create("duplicate-app",{appName:a})}const c=new HP(a);for(const f of $y.values())c.addComponent(f);const h=new LO(n,i,c);return Id.set(a,h),h}function pm(t=Gy){const e=Id.get(t);if(!e&&t===Gy&&SC())return kC();if(!e)throw ia.create("no-app",{appName:t});return e}function kn(t,e,n){let i=PO[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(c.join(" "));return}ki(new ci(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const UO="firebase-heartbeat-database",jO=1,ku="firebase-heartbeat-store";let iy=null;function MC(){return iy||(iy=DC(UO,jO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ku)}catch(n){console.warn(n)}}}}).catch(t=>{throw ia.create("idb-open",{originalErrorMessage:t.message})})),iy}async function FO(t){try{const n=(await MC()).transaction(ku),i=await n.objectStore(ku).get(NC(t));return await n.done,i}catch(e){if(e instanceof Xn)sr.warn(e.message);else{const n=ia.create("idb-get",{originalErrorMessage:e?.message});sr.warn(n.message)}}}async function ME(t,e){try{const i=(await MC()).transaction(ku,"readwrite");await i.objectStore(ku).put(e,NC(t)),await i.done}catch(n){if(n instanceof Xn)sr.warn(n.message);else{const i=ia.create("idb-set",{originalErrorMessage:n?.message});sr.warn(i.message)}}}function NC(t){return`${t.name}!${t.options.appId}`}const zO=1024,BO=30;class qO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=NE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>BO){const a=$O(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){sr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=NE(),{heartbeatsToSend:n,unsentEntries:i}=HO(this._heartbeatsCache.heartbeats),a=Cd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return sr.warn(e),""}}}function NE(){return new Date().toISOString().substring(0,10)}function HO(t,e=zO){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),PE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),PE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class GO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e0()?RC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ME(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ME(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function PE(t){return Cd(JSON.stringify({version:2,heartbeats:t})).length}function $O(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function KO(t){ki(new ci("platform-logger",e=>new rO(e),"PRIVATE")),ki(new ci("heartbeat",e=>new qO(e),"PRIVATE")),kn(Hy,DE,t),kn(Hy,DE,"esm2020"),kn("fire-js","")}KO("");var YO="firebase",WO="12.8.0";kn(YO,WO,"app");function PC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QO=PC,OC=new ya("auth","Firebase",PC());const xd=new Wu("@firebase/auth");function XO(t,...e){xd.logLevel<=Ze.WARN&&xd.warn(`Auth (${oa}): ${t}`,...e)}function sd(t,...e){xd.logLevel<=Ze.ERROR&&xd.error(`Auth (${oa}): ${t}`,...e)}function Mi(t,...e){throw i0(t,...e)}function Qi(t,...e){return i0(t,...e)}function n0(t,e,n){const i={...QO(),[e]:n};return new ya("auth","Firebase",i).create(e,{appName:t.name})}function er(t){return n0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JO(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Mi(t,"argument-error"),n0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function i0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return OC.create(t,...e)}function ze(t,e,...n){if(!t)throw i0(e,...n)}function Xs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sd(e),new Error(e)}function rr(t,e){t||Xs(e)}function Ky(){return typeof self<"u"&&self.location?.href||""}function ZO(){return OE()==="http:"||OE()==="https:"}function OE(){return typeof self<"u"&&self.location?.protocol||null}function eV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZO()||CC()||"connection"in navigator)?navigator.onLine:!0}function tV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Qu{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=EP()||CP()}get(){return eV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function s0(t,e){rr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class VC{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sV=new Qu(3e4,6e4);function ur(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function es(t,e,n,i,a={}){return LC(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Yu({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...l};return AP()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ga(t.emulatorConfig.host)&&(p.credentials="include"),VC.fetch()(await UC(t,t.config.apiHost,n,h),p)})}async function LC(t,e,n){t._canInitEmulator=!1;const i={...nV,...e};try{const a=new aV(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw qf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw qf(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw qf(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw qf(t,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw n0(t,y,p);Mi(t,y)}}catch(a){if(a instanceof Xn)throw a;Mi(t,"network-request-failed",{message:String(a)})}}async function Xu(t,e,n,i,a={}){const l=await es(t,e,n,i,a);return"mfaPendingCredential"in l&&Mi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function UC(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?s0(t.config,a):`${t.config.apiScheme}://${a}`;return iV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function rV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Qi(this.auth,"network-request-failed")),sV.get())})}}function qf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Qi(t,e,i);return a.customData._tokenResponse=n,a}function VE(t){return t!==void 0&&t.enterprise!==void 0}class oV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lV(t,e){return es(t,"GET","/v2/recaptchaConfig",ur(t,e))}async function cV(t,e){return es(t,"POST","/v1/accounts:delete",e)}async function Dd(t,e){return es(t,"POST","/v1/accounts:lookup",e)}function bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uV(t,e=!1){const n=at(t),i=await n.getIdToken(e),a=r0(i);ze(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:bu(sy(a.auth_time)),issuedAtTime:bu(sy(a.iat)),expirationTime:bu(sy(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function sy(t){return Number(t)*1e3}function r0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const a=TC(n);return a?JSON.parse(a):(sd("Failed to decode base64 JWT payload"),null)}catch(a){return sd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function LE(t){const e=r0(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function fo(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Xn&&hV(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function hV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class fV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Yy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bu(this.lastLoginAt),this.creationTime=bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kd(t){const e=t.auth,n=await t.getIdToken(),i=await fo(t,Dd(e,{idToken:n}));ze(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?jC(a.providerUserInfo):[],c=mV(t.providerData,l),h=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!c?.length,p=h?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Yy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function dV(t){const e=at(t);await kd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mV(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function jC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function pV(t,e){const n=await LC(t,{},async()=>{const i=Yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await UC(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return t.emulatorConfig&&ga(t.emulatorConfig.host)&&(f.credentials="include"),VC.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gV(t,e){return es(t,"POST","/v2/accounts:revokeToken",ur(t,e))}class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=LE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await pV(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new El;return i&&(ze(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(ze(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(ze(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return Xs("not implemented")}}function Gr(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wi{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new fV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Yy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await fo(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uV(this,e)}reload(){return dV(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await kd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(er(this.auth));const e=await this.getIdToken();return await fo(this,cV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:I,providerData:N,stsTokenManager:P}=n;ze(v&&P,e,"internal-error");const z=El.fromJSON(this.name,P);ze(typeof v=="string",e,"internal-error"),Gr(i,e.name),Gr(a,e.name),ze(typeof b=="boolean",e,"internal-error"),ze(typeof I=="boolean",e,"internal-error"),Gr(l,e.name),Gr(c,e.name),Gr(h,e.name),Gr(f,e.name),Gr(p,e.name),Gr(y,e.name);const j=new Wi({uid:v,auth:e,email:a,emailVerified:b,displayName:i,isAnonymous:I,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:z,createdAt:p,lastLoginAt:y});return N&&Array.isArray(N)&&(j.providerData=N.map(L=>({...L}))),f&&(j._redirectEventId=f),j}static async _fromIdTokenResponse(e,n,i=!1){const a=new El;a.updateFromServerResponse(n);const l=new Wi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await kd(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];ze(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?jC(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new El;h.updateFromIdToken(i);const f=new Wi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Yy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(f,p),f}}const UE=new Map;function Js(t){rr(t instanceof Function,"Expected a class definition");let e=UE.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UE.set(t,e),e)}class FC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FC.type="NONE";const jE=FC;function rd(t,e,n){return`firebase:${t}:${e}:${n}`}class Sl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=rd(this.userKey,a.apiKey,l),this.fullPersistenceKey=rd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dd(this.auth,{idToken:e}).catch(()=>{});return n?Wi._fromGetAccountInfoResponse(this.auth,n,e):null}return Wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Sl(Js(jE),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Js(jE);const c=rd(i,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(c);if(y){let v;if(typeof y=="string"){const b=await Dd(e,{idToken:y}).catch(()=>{});if(!b)break;v=await Wi._fromGetAccountInfoResponse(e,b,y)}else v=Wi._fromJSON(e,y);p!==l&&(h=v),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Sl(l,e,i):(l=f[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Sl(l,e,i))}}function FE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($C(e))return"Blackberry";if(KC(e))return"Webos";if(BC(e))return"Safari";if((e.includes("chrome/")||qC(e))&&!e.includes("edge/"))return"Chrome";if(GC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function zC(t=Mn()){return/firefox\//i.test(t)}function BC(t=Mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qC(t=Mn()){return/crios\//i.test(t)}function HC(t=Mn()){return/iemobile/i.test(t)}function GC(t=Mn()){return/android/i.test(t)}function $C(t=Mn()){return/blackberry/i.test(t)}function KC(t=Mn()){return/webos/i.test(t)}function a0(t=Mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yV(t=Mn()){return a0(t)&&!!window.navigator?.standalone}function vV(){return RP()&&document.documentMode===10}function YC(t=Mn()){return a0(t)||GC(t)||KC(t)||$C(t)||/windows phone/i.test(t)||HC(t)}function WC(t,e=[]){let n;switch(t){case"Browser":n=FE(Mn());break;case"Worker":n=`${FE(Mn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oa}/${i}`}class _V{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,h)=>{try{const f=e(l);c(f)}catch(f){h(f)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function bV(t,e={}){return es(t,"GET","/v2/passwordPolicy",ur(t,e))}const TV=6;class wV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class EV{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zE(this),this.idTokenSubscription=new zE(this),this.beforeStateQueue=new _V(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Js(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Sl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dd(this,{idToken:e}),i=await Wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(er(this));const n=e?at(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bV(this),n=new wV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ya("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await gV(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Js(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[Js(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&XO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function hr(t){return at(t)}class zE{constructor(e){this.auth=e,this.observer=null,this.addObserver=PP(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SV(t){gm=t}function QC(t){return gm.loadJS(t)}function AV(){return gm.recaptchaEnterpriseScript}function CV(){return gm.gapiScript}function RV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class IV{constructor(){this.enterprise=new xV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const DV="recaptcha-enterprise",XC="NO_RECAPTCHA";class kV{constructor(e){this.type=DV,this.auth=hr(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{lV(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new oV(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(f=>{h(f)})})}function a(l,c,h){const f=window.grecaptcha;VE(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(XC)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IV().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(h=>{if(!n&&VE(window.grecaptcha))a(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=AV();f.length!==0&&(f+=h),QC(f).then(()=>{a(h,l,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function BE(t,e,n,i=!1,a=!1){const l=new kV(t);let c;if(a)c=XC;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Md(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await BE(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await BE(t,e,n,n==="getOobCode");return i(t,c)}else return Promise.reject(l)})}function MV(t,e){const n=Eo(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(aa(l,e??{}))return a;Mi(a,"already-initialized")}return n.initialize({options:e})}function NV(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Js);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function PV(t,e,n){const i=hr(t);ze(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=JC(e),{host:c,port:h}=OV(e),f=h===null?"":`:${h}`,p={url:`${l}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){ze(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ze(aa(p,i.config.emulator)&&aa(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,ga(c)?(Jv(`${l}//${c}${f}`),Zv("Auth",!0)):VV()}function JC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function OV(t){const e=JC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:qE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:qE(c)}}}function qE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function VV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class o0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xs("not implemented")}_getIdTokenResponse(e){return Xs("not implemented")}_linkToIdToken(e,n){return Xs("not implemented")}_getReauthenticationResolver(e){return Xs("not implemented")}}async function LV(t,e){return es(t,"POST","/v1/accounts:update",e)}async function UV(t,e){return es(t,"POST","/v1/accounts:signUp",e)}async function jV(t,e){return Xu(t,"POST","/v1/accounts:signInWithPassword",ur(t,e))}async function ZC(t,e){return es(t,"POST","/v1/accounts:sendOobCode",ur(t,e))}async function FV(t,e){return ZC(t,e)}async function zV(t,e){return ZC(t,e)}async function BV(t,e){return Xu(t,"POST","/v1/accounts:signInWithEmailLink",ur(t,e))}async function qV(t,e){return Xu(t,"POST","/v1/accounts:signInWithEmailLink",ur(t,e))}class Mu extends o0{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Mu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Mu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Md(e,n,"signInWithPassword",jV);case"emailLink":return BV(e,{email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Md(e,i,"signUpPassword",UV);case"emailLink":return qV(e,{idToken:n,email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Al(t,e){return Xu(t,"POST","/v1/accounts:signInWithIdp",ur(t,e))}const HV="http://localhost";class mo extends o0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new mo(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Al(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Al(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Al(e,n)}buildRequest(){const e={requestUri:HV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yu(n)}return e}}function GV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $V(t){const e=hu(fu(t)).link,n=e?hu(fu(e)).deep_link_id:null,i=hu(fu(t)).deep_link_id;return(i?hu(fu(i)).link:null)||i||n||e||t}class l0{constructor(e){const n=hu(fu(e)),i=n.apiKey??null,a=n.oobCode??null,l=GV(n.mode??null);ze(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=$V(e);try{return new l0(n)}catch{return null}}}class ql{constructor(){this.providerId=ql.PROVIDER_ID}static credential(e,n){return Mu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=l0.parseLink(n);return ze(i,"argument-error"),Mu._fromEmailAndCode(e,i.code,i.tenantId)}}ql.PROVIDER_ID="password";ql.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ql.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class c0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ju extends c0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qr extends Ju{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";class Xr extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mo._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Xr.credential(n,i)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";class Jr extends Ju{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";class Zr extends Ju{constructor(){super("twitter.com")}static credential(e,n){return mo._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Zr.credential(n,i)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";async function KV(t,e){return Xu(t,"POST","/v1/accounts:signUp",ur(t,e))}class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Wi._fromIdTokenResponse(e,i,a),c=HE(i);return new po({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=HE(i);return new po({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function HE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Nd extends Xn{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Nd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Nd(e,n,i,a)}}function eR(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Nd._fromErrorAndOperation(t,l,e,i):l})}async function YV(t,e,n=!1){const i=await fo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return po._forOperation(t,"link",i)}async function tR(t,e,n=!1){const{auth:i}=t;if(Kn(i.app))return Promise.reject(er(i));const a="reauthenticate";try{const l=await fo(t,eR(i,a,e,t),n);ze(l.idToken,i,"internal-error");const c=r0(l.idToken);ze(c,i,"internal-error");const{sub:h}=c;return ze(t.uid===h,i,"user-mismatch"),po._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Mi(i,"user-mismatch"),l}}async function nR(t,e,n=!1){if(Kn(t.app))return Promise.reject(er(t));const i="signIn",a=await eR(t,i,e),l=await po._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function WV(t,e){return nR(hr(t),e)}async function wG(t,e){return tR(at(t),e)}async function iR(t){const e=hr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EG(t,e,n){const i=hr(t);await Md(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",zV)}async function SG(t,e,n){if(Kn(t.app))return Promise.reject(er(t));const i=hr(t),c=await Md(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KV).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&iR(t),f}),h=await po._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function AG(t,e,n){return Kn(t.app)?Promise.reject(er(t)):WV(at(t),ql.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&iR(t),i})}async function CG(t,e){const n=at(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await FV(n.auth,a);l!==t.email&&await t.reload()}async function QV(t,e){return es(t,"POST","/v1/accounts:update",e)}async function RG(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=at(t),l={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await fo(i,QV(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function IG(t,e){return XV(at(t),null,e)}async function XV(t,e,n){const{auth:i}=t,l={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(l.password=n);const c=await fo(t,LV(i,l));await t._updateTokensIfNecessary(c,!0)}function JV(t,e,n,i){return at(t).onIdTokenChanged(e,n,i)}function ZV(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function eL(t,e,n,i){return at(t).onAuthStateChanged(e,n,i)}function sR(t){return at(t).signOut()}const Pd="__sak";class rR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pd,"1"),this.storage.removeItem(Pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const tL=1e3,nL=10;class aR extends rR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);vV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,nL):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},tL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aR.type="LOCAL";const iL=aR;class oR extends rR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oR.type="SESSION";const lR=oR;function sL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ym{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new ym(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async p=>p(n.origin,l)),f=await sL(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ym.receivers=[];function u0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class rL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,f)=>{const p=u0("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(b.data.response);break;default:clearTimeout(y),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ss(){return window}function aL(t){Ss().location.href=t}function cR(){return typeof Ss().WorkerGlobalScope<"u"&&typeof Ss().importScripts=="function"}async function oL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lL(){return navigator?.serviceWorker?.controller||null}function cL(){return cR()?self:null}const uR="firebaseLocalStorageDb",uL=1,Od="firebaseLocalStorage",hR="fbase_key";class Zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vm(t,e){return t.transaction([Od],e?"readwrite":"readonly").objectStore(Od)}function hL(){const t=indexedDB.deleteDatabase(uR);return new Zu(t).toPromise()}function Wy(){const t=indexedDB.open(uR,uL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Od,{keyPath:hR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Od)?e(i):(i.close(),await hL(),e(await Wy()))})})}async function GE(t,e,n){const i=vm(t,!0).put({[hR]:e,value:n});return new Zu(i).toPromise()}async function fL(t,e){const n=vm(t,!1).get(e),i=await new Zu(n).toPromise();return i===void 0?null:i.value}function $E(t,e){const n=vm(t,!0).delete(e);return new Zu(n).toPromise()}const dL=800,mL=3;class fR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>mL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ym._getInstance(cL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oL(),!this.activeServiceWorker)return;this.sender=new rL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wy();return await GE(e,Pd,"1"),await $E(e,Pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>GE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>fL(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$E(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=vm(a,!1).getAll();return new Zu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fR.type="LOCAL";const pL=fR;new Qu(3e4,6e4);function dR(t,e){return e?Js(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class h0 extends o0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gL(t){return nR(t.auth,new h0(t),t.bypassAuthState)}function yL(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),tR(n,new h0(t),t.bypassAuthState)}async function vL(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),YV(n,new h0(t),t.bypassAuthState)}class mR{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gL;case"linkViaPopup":case"linkViaRedirect":return vL;case"reauthViaPopup":case"reauthViaRedirect":return yL;default:Mi(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _L=new Qu(2e3,1e4);async function xG(t,e,n){if(Kn(t.app))return Promise.reject(Qi(t,"operation-not-supported-in-this-environment"));const i=hr(t);JO(t,e,c0);const a=dR(i,n);return new io(i,"signInViaPopup",e,a).executeNotNull()}class io extends mR{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=u0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_L.get())};e()}}io.currentPopupAction=null;const bL="pendingRedirect",ad=new Map;class TL extends mR{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ad.get(this.auth._key());if(!e){try{const i=await wL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ad.set(this.auth._key(),e)}return this.bypassAuthState||ad.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wL(t,e){const n=AL(e),i=SL(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function EL(t,e){ad.set(t._key(),e)}function SL(t){return Js(t._redirectPersistence)}function AL(t){return rd(bL,t.config.apiKey,t.name)}async function CL(t,e,n=!1){if(Kn(t.app))return Promise.reject(er(t));const i=hr(t),a=dR(i,e),c=await new TL(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const RL=600*1e3;class IL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!pR(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Qi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RL&&this.cachedEventUids.clear(),this.cachedEventUids.has(KE(e))}saveEventToCache(e){this.cachedEventUids.add(KE(e)),this.lastProcessedEventTime=Date.now()}}function KE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function xL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pR(t);default:return!1}}async function DL(t,e={}){return es(t,"GET","/v1/projects",e)}const kL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ML=/^https?/;async function NL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DL(t);for(const n of e)try{if(PL(n))return}catch{}Mi(t,"unauthorized-domain")}function PL(t){const e=Ky(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!ML.test(n))return!1;if(kL.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const OL=new Qu(3e4,6e4);function YE(){const t=Ss().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VL(t){return new Promise((e,n)=>{function i(){YE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YE(),n(Qi(t,"network-request-failed"))},timeout:OL.get()})}if(Ss().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ss().gapi?.load)i();else{const a=RV("iframefcb");return Ss()[a]=()=>{gapi.load?i():n(Qi(t,"network-request-failed"))},QC(`${CV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw od=null,e})}let od=null;function LL(t){return od=od||VL(t),od}const UL=new Qu(5e3,15e3),jL="__/auth/iframe",FL="emulator/auth/iframe",zL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qL(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?s0(e,FL):`https://${t.config.authDomain}/${jL}`,i={apiKey:e.apiKey,appName:t.name,v:oa},a=BL.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Yu(i).slice(1)}`}async function HL(t){const e=await LL(t),n=Ss().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:qL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zL,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Qi(t,"network-request-failed"),h=Ss().setTimeout(()=>{l(c)},UL.get());function f(){Ss().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{l(c)})}))}const GL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$L=500,KL=600,YL="_blank",WL="http://localhost";class WE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QL(t,e,n,i=$L,a=KL){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...GL,width:i.toString(),height:a.toString(),top:l,left:c},p=Mn().toLowerCase();n&&(h=qC(p)?YL:n),zC(p)&&(e=e||WL,f.scrollbars="yes");const y=Object.entries(f).reduce((b,[I,N])=>`${b}${I}=${N},`,"");if(yV(p)&&h!=="_self")return XL(e||"",h),new WE(null);const v=window.open(e||"",h,y);ze(v,t,"popup-blocked");try{v.focus()}catch{}return new WE(v)}function XL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const JL="__/auth/handler",ZL="emulator/auth/handler",e4=encodeURIComponent("fac");async function QE(t,e,n,i,a,l){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:oa,eventId:a};if(e instanceof c0){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",NP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(e instanceof Ju){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await t._getAppCheckToken(),p=f?`#${e4}=${encodeURIComponent(f)}`:"";return`${t4(t)}?${Yu(h).slice(1)}${p}`}function t4({config:t}){return t.emulator?s0(t,ZL):`https://${t.authDomain}/${JL}`}const ry="webStorageSupport";class n4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lR,this._completeRedirectFn=CL,this._overrideRedirectResult=EL}async _openPopup(e,n,i,a){rr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await QE(e,n,i,Ky(),a);return QL(e,l,u0())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await QE(e,n,i,Ky(),a);return aL(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(rr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await HL(e),i=new IL(e);return n.register("authEvent",a=>(ze(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ry,{type:ry},a=>{const l=a?.[0]?.[ry];l!==void 0&&n(!!l),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YC()||BC()||a0()}}const i4=n4;var XE="@firebase/auth",JE="1.12.0";class s4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function r4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a4(t){ki(new ci("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;ze(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WC(t)},p=new EV(i,a,l,f);return NV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ki(new ci("auth-internal",e=>{const n=hr(e.getProvider("auth").getImmediate());return(i=>new s4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kn(XE,JE,r4(t)),kn(XE,JE,"esm2020")}const o4=300,l4=AC("authIdTokenMaxAge")||o4;let ZE=null;const c4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>l4)return;const a=n?.token;ZE!==a&&(ZE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function u4(t=pm()){const e=Eo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MV(t,{popupRedirectResolver:i4,persistence:[pL,iL,lR]}),i=AC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=c4(l.toString());ZV(n,c,()=>c(n.currentUser)),JV(n,h=>c(h))}}const a=wC("auth");return a&&PV(n,`http://${a}`),n}function h4(){return document.getElementsByTagName("head")?.[0]??document}SV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Qi("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",h4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a4("Browser");var eS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sa,gR;(function(){var t;function e(S,E){function D(){}D.prototype=E.prototype,S.F=E.prototype,S.prototype=new D,S.prototype.constructor=S,S.D=function(O,V,k){for(var A=Array(arguments.length-2),K=2;K<arguments.length;K++)A[K-2]=arguments[K];return E.prototype[V].apply(O,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(S,E,D){D||(D=0);const O=Array(16);if(typeof E=="string")for(var V=0;V<16;++V)O[V]=E.charCodeAt(D++)|E.charCodeAt(D++)<<8|E.charCodeAt(D++)<<16|E.charCodeAt(D++)<<24;else for(V=0;V<16;++V)O[V]=E[D++]|E[D++]<<8|E[D++]<<16|E[D++]<<24;E=S.g[0],D=S.g[1],V=S.g[2];let k=S.g[3],A;A=E+(k^D&(V^k))+O[0]+3614090360&4294967295,E=D+(A<<7&4294967295|A>>>25),A=k+(V^E&(D^V))+O[1]+3905402710&4294967295,k=E+(A<<12&4294967295|A>>>20),A=V+(D^k&(E^D))+O[2]+606105819&4294967295,V=k+(A<<17&4294967295|A>>>15),A=D+(E^V&(k^E))+O[3]+3250441966&4294967295,D=V+(A<<22&4294967295|A>>>10),A=E+(k^D&(V^k))+O[4]+4118548399&4294967295,E=D+(A<<7&4294967295|A>>>25),A=k+(V^E&(D^V))+O[5]+1200080426&4294967295,k=E+(A<<12&4294967295|A>>>20),A=V+(D^k&(E^D))+O[6]+2821735955&4294967295,V=k+(A<<17&4294967295|A>>>15),A=D+(E^V&(k^E))+O[7]+4249261313&4294967295,D=V+(A<<22&4294967295|A>>>10),A=E+(k^D&(V^k))+O[8]+1770035416&4294967295,E=D+(A<<7&4294967295|A>>>25),A=k+(V^E&(D^V))+O[9]+2336552879&4294967295,k=E+(A<<12&4294967295|A>>>20),A=V+(D^k&(E^D))+O[10]+4294925233&4294967295,V=k+(A<<17&4294967295|A>>>15),A=D+(E^V&(k^E))+O[11]+2304563134&4294967295,D=V+(A<<22&4294967295|A>>>10),A=E+(k^D&(V^k))+O[12]+1804603682&4294967295,E=D+(A<<7&4294967295|A>>>25),A=k+(V^E&(D^V))+O[13]+4254626195&4294967295,k=E+(A<<12&4294967295|A>>>20),A=V+(D^k&(E^D))+O[14]+2792965006&4294967295,V=k+(A<<17&4294967295|A>>>15),A=D+(E^V&(k^E))+O[15]+1236535329&4294967295,D=V+(A<<22&4294967295|A>>>10),A=E+(V^k&(D^V))+O[1]+4129170786&4294967295,E=D+(A<<5&4294967295|A>>>27),A=k+(D^V&(E^D))+O[6]+3225465664&4294967295,k=E+(A<<9&4294967295|A>>>23),A=V+(E^D&(k^E))+O[11]+643717713&4294967295,V=k+(A<<14&4294967295|A>>>18),A=D+(k^E&(V^k))+O[0]+3921069994&4294967295,D=V+(A<<20&4294967295|A>>>12),A=E+(V^k&(D^V))+O[5]+3593408605&4294967295,E=D+(A<<5&4294967295|A>>>27),A=k+(D^V&(E^D))+O[10]+38016083&4294967295,k=E+(A<<9&4294967295|A>>>23),A=V+(E^D&(k^E))+O[15]+3634488961&4294967295,V=k+(A<<14&4294967295|A>>>18),A=D+(k^E&(V^k))+O[4]+3889429448&4294967295,D=V+(A<<20&4294967295|A>>>12),A=E+(V^k&(D^V))+O[9]+568446438&4294967295,E=D+(A<<5&4294967295|A>>>27),A=k+(D^V&(E^D))+O[14]+3275163606&4294967295,k=E+(A<<9&4294967295|A>>>23),A=V+(E^D&(k^E))+O[3]+4107603335&4294967295,V=k+(A<<14&4294967295|A>>>18),A=D+(k^E&(V^k))+O[8]+1163531501&4294967295,D=V+(A<<20&4294967295|A>>>12),A=E+(V^k&(D^V))+O[13]+2850285829&4294967295,E=D+(A<<5&4294967295|A>>>27),A=k+(D^V&(E^D))+O[2]+4243563512&4294967295,k=E+(A<<9&4294967295|A>>>23),A=V+(E^D&(k^E))+O[7]+1735328473&4294967295,V=k+(A<<14&4294967295|A>>>18),A=D+(k^E&(V^k))+O[12]+2368359562&4294967295,D=V+(A<<20&4294967295|A>>>12),A=E+(D^V^k)+O[5]+4294588738&4294967295,E=D+(A<<4&4294967295|A>>>28),A=k+(E^D^V)+O[8]+2272392833&4294967295,k=E+(A<<11&4294967295|A>>>21),A=V+(k^E^D)+O[11]+1839030562&4294967295,V=k+(A<<16&4294967295|A>>>16),A=D+(V^k^E)+O[14]+4259657740&4294967295,D=V+(A<<23&4294967295|A>>>9),A=E+(D^V^k)+O[1]+2763975236&4294967295,E=D+(A<<4&4294967295|A>>>28),A=k+(E^D^V)+O[4]+1272893353&4294967295,k=E+(A<<11&4294967295|A>>>21),A=V+(k^E^D)+O[7]+4139469664&4294967295,V=k+(A<<16&4294967295|A>>>16),A=D+(V^k^E)+O[10]+3200236656&4294967295,D=V+(A<<23&4294967295|A>>>9),A=E+(D^V^k)+O[13]+681279174&4294967295,E=D+(A<<4&4294967295|A>>>28),A=k+(E^D^V)+O[0]+3936430074&4294967295,k=E+(A<<11&4294967295|A>>>21),A=V+(k^E^D)+O[3]+3572445317&4294967295,V=k+(A<<16&4294967295|A>>>16),A=D+(V^k^E)+O[6]+76029189&4294967295,D=V+(A<<23&4294967295|A>>>9),A=E+(D^V^k)+O[9]+3654602809&4294967295,E=D+(A<<4&4294967295|A>>>28),A=k+(E^D^V)+O[12]+3873151461&4294967295,k=E+(A<<11&4294967295|A>>>21),A=V+(k^E^D)+O[15]+530742520&4294967295,V=k+(A<<16&4294967295|A>>>16),A=D+(V^k^E)+O[2]+3299628645&4294967295,D=V+(A<<23&4294967295|A>>>9),A=E+(V^(D|~k))+O[0]+4096336452&4294967295,E=D+(A<<6&4294967295|A>>>26),A=k+(D^(E|~V))+O[7]+1126891415&4294967295,k=E+(A<<10&4294967295|A>>>22),A=V+(E^(k|~D))+O[14]+2878612391&4294967295,V=k+(A<<15&4294967295|A>>>17),A=D+(k^(V|~E))+O[5]+4237533241&4294967295,D=V+(A<<21&4294967295|A>>>11),A=E+(V^(D|~k))+O[12]+1700485571&4294967295,E=D+(A<<6&4294967295|A>>>26),A=k+(D^(E|~V))+O[3]+2399980690&4294967295,k=E+(A<<10&4294967295|A>>>22),A=V+(E^(k|~D))+O[10]+4293915773&4294967295,V=k+(A<<15&4294967295|A>>>17),A=D+(k^(V|~E))+O[1]+2240044497&4294967295,D=V+(A<<21&4294967295|A>>>11),A=E+(V^(D|~k))+O[8]+1873313359&4294967295,E=D+(A<<6&4294967295|A>>>26),A=k+(D^(E|~V))+O[15]+4264355552&4294967295,k=E+(A<<10&4294967295|A>>>22),A=V+(E^(k|~D))+O[6]+2734768916&4294967295,V=k+(A<<15&4294967295|A>>>17),A=D+(k^(V|~E))+O[13]+1309151649&4294967295,D=V+(A<<21&4294967295|A>>>11),A=E+(V^(D|~k))+O[4]+4149444226&4294967295,E=D+(A<<6&4294967295|A>>>26),A=k+(D^(E|~V))+O[11]+3174756917&4294967295,k=E+(A<<10&4294967295|A>>>22),A=V+(E^(k|~D))+O[2]+718787259&4294967295,V=k+(A<<15&4294967295|A>>>17),A=D+(k^(V|~E))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(V+(A<<21&4294967295|A>>>11))&4294967295,S.g[2]=S.g[2]+V&4294967295,S.g[3]=S.g[3]+k&4294967295}i.prototype.v=function(S,E){E===void 0&&(E=S.length);const D=E-this.blockSize,O=this.C;let V=this.h,k=0;for(;k<E;){if(V==0)for(;k<=D;)a(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<E;)if(O[V++]=S.charCodeAt(k++),V==this.blockSize){a(this,O),V=0;break}}else for(;k<E;)if(O[V++]=S[k++],V==this.blockSize){a(this,O),V=0;break}}this.h=V,this.o+=E},i.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;E=this.o*8;for(var D=S.length-8;D<S.length;++D)S[D]=E&255,E/=256;for(this.v(S),S=Array(16),E=0,D=0;D<4;++D)for(let O=0;O<32;O+=8)S[E++]=this.g[D]>>>O&255;return S};function l(S,E){var D=h;return Object.prototype.hasOwnProperty.call(D,S)?D[S]:D[S]=E(S)}function c(S,E){this.h=E;const D=[];let O=!0;for(let V=S.length-1;V>=0;V--){const k=S[V]|0;O&&k==E||(D[V]=k,O=!1)}this.g=D}var h={};function f(S){return-128<=S&&S<128?l(S,function(E){return new c([E|0],E<0?-1:0)}):new c([S|0],S<0?-1:0)}function p(S){if(isNaN(S)||!isFinite(S))return v;if(S<0)return z(p(-S));const E=[];let D=1;for(let O=0;S>=D;O++)E[O]=S/D|0,D*=4294967296;return new c(E,0)}function y(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return z(y(S.substring(1),E));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=p(Math.pow(E,8));let O=v;for(let k=0;k<S.length;k+=8){var V=Math.min(8,S.length-k);const A=parseInt(S.substring(k,k+V),E);V<8?(V=p(Math.pow(E,V)),O=O.j(V).add(p(A))):(O=O.j(D),O=O.add(p(A)))}return O}var v=f(0),b=f(1),I=f(16777216);t=c.prototype,t.m=function(){if(P(this))return-z(this).m();let S=0,E=1;for(let D=0;D<this.g.length;D++){const O=this.i(D);S+=(O>=0?O:4294967296+O)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N(this))return"0";if(P(this))return"-"+z(this).toString(S);const E=p(Math.pow(S,6));var D=this;let O="";for(;;){const V=ce(D,E).g;D=j(D,V.j(E));let k=((D.g.length>0?D.g[0]:D.h)>>>0).toString(S);if(D=V,N(D))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function N(S){if(S.h!=0)return!1;for(let E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function P(S){return S.h==-1}t.l=function(S){return S=j(this,S),P(S)?-1:N(S)?0:1};function z(S){const E=S.g.length,D=[];for(let O=0;O<E;O++)D[O]=~S.g[O];return new c(D,~S.h).add(b)}t.abs=function(){return P(this)?z(this):this},t.add=function(S){const E=Math.max(this.g.length,S.g.length),D=[];let O=0;for(let V=0;V<=E;V++){let k=O+(this.i(V)&65535)+(S.i(V)&65535),A=(k>>>16)+(this.i(V)>>>16)+(S.i(V)>>>16);O=A>>>16,k&=65535,A&=65535,D[V]=A<<16|k}return new c(D,D[D.length-1]&-2147483648?-1:0)};function j(S,E){return S.add(z(E))}t.j=function(S){if(N(this)||N(S))return v;if(P(this))return P(S)?z(this).j(z(S)):z(z(this).j(S));if(P(S))return z(this.j(z(S)));if(this.l(I)<0&&S.l(I)<0)return p(this.m()*S.m());const E=this.g.length+S.g.length,D=[];for(var O=0;O<2*E;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<S.g.length;V++){const k=this.i(O)>>>16,A=this.i(O)&65535,K=S.i(V)>>>16,$=S.i(V)&65535;D[2*O+2*V]+=A*$,L(D,2*O+2*V),D[2*O+2*V+1]+=k*$,L(D,2*O+2*V+1),D[2*O+2*V+1]+=A*K,L(D,2*O+2*V+1),D[2*O+2*V+2]+=k*K,L(D,2*O+2*V+2)}for(S=0;S<E;S++)D[S]=D[2*S+1]<<16|D[2*S];for(S=E;S<2*E;S++)D[S]=0;return new c(D,0)};function L(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function U(S,E){this.g=S,this.h=E}function ce(S,E){if(N(E))throw Error("division by zero");if(N(S))return new U(v,v);if(P(S))return E=ce(z(S),E),new U(z(E.g),z(E.h));if(P(E))return E=ce(S,z(E)),new U(z(E.g),E.h);if(S.g.length>30){if(P(S)||P(E))throw Error("slowDivide_ only works with positive integers.");for(var D=b,O=E;O.l(S)<=0;)D=F(D),O=F(O);var V=X(D,1),k=X(O,1);for(O=X(O,2),D=X(D,2);!N(O);){var A=k.add(O);A.l(S)<=0&&(V=V.add(D),k=A),O=X(O,1),D=X(D,1)}return E=j(S,V.j(E)),new U(V,E)}for(V=v;S.l(E)>=0;){for(D=Math.max(1,Math.floor(S.m()/E.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=p(D),A=k.j(E);P(A)||A.l(S)>0;)D-=O,k=p(D),A=k.j(E);N(k)&&(k=b),V=V.add(k),S=j(S,A)}return new U(V,S)}t.B=function(S){return ce(this,S).h},t.and=function(S){const E=Math.max(this.g.length,S.g.length),D=[];for(let O=0;O<E;O++)D[O]=this.i(O)&S.i(O);return new c(D,this.h&S.h)},t.or=function(S){const E=Math.max(this.g.length,S.g.length),D=[];for(let O=0;O<E;O++)D[O]=this.i(O)|S.i(O);return new c(D,this.h|S.h)},t.xor=function(S){const E=Math.max(this.g.length,S.g.length),D=[];for(let O=0;O<E;O++)D[O]=this.i(O)^S.i(O);return new c(D,this.h^S.h)};function F(S){const E=S.g.length+1,D=[];for(let O=0;O<E;O++)D[O]=S.i(O)<<1|S.i(O-1)>>>31;return new c(D,S.h)}function X(S,E){const D=E>>5;E%=32;const O=S.g.length-D,V=[];for(let k=0;k<O;k++)V[k]=E>0?S.i(k+D)>>>E|S.i(k+D+1)<<32-E:S.i(k+D);return new c(V,S.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,gR=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,sa=c}).apply(typeof eS<"u"?eS:typeof self<"u"?self:typeof window<"u"?window:{});var Hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yR,du,vR,ld,Qy,_R,bR,TR;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hf=="object"&&Hf];for(var _=0;_<d.length;++_){var w=d[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function a(d,_){if(_)e:{var w=i;d=d.split(".");for(var x=0;x<d.length-1;x++){var Q=d[x];if(!(Q in w))break e;w=w[Q]}d=d[d.length-1],x=w[d],_=_(x),_!=x&&_!=null&&e(w,d,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(_){var w=[],x;for(x in _)Object.prototype.hasOwnProperty.call(_,x)&&w.push([x,_[x]]);return w}});var l=l||{},c=this||self;function h(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function f(d,_,w){return d.call.apply(d.bind,arguments)}function p(d,_,w){return p=f,p.apply(null,arguments)}function y(d,_){var w=Array.prototype.slice.call(arguments,1);return function(){var x=w.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function v(d,_){function w(){}w.prototype=_.prototype,d.Z=_.prototype,d.prototype=new w,d.prototype.constructor=d,d.Ob=function(x,Q,re){for(var ve=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ve[$e-2]=arguments[$e];return _.prototype[Q].apply(x,ve)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function I(d){const _=d.length;if(_>0){const w=Array(_);for(let x=0;x<_;x++)w[x]=d[x];return w}return[]}function N(d,_){for(let x=1;x<arguments.length;x++){const Q=arguments[x];var w=typeof Q;if(w=w!="object"?w:Q?Array.isArray(Q)?"array":w:"null",w=="array"||w=="object"&&typeof Q.length=="number"){w=d.length||0;const re=Q.length||0;d.length=w+re;for(let ve=0;ve<re;ve++)d[w+ve]=Q[ve]}else d.push(Q)}}class P{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function z(d){c.setTimeout(()=>{throw d},0)}function j(){var d=S;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class L{constructor(){this.h=this.g=null}add(_,w){const x=U.get();x.set(_,w),this.h?this.h.next=x:this.g=x,this.h=x}}var U=new P(()=>new ce,d=>d.reset());class ce{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let F,X=!1,S=new L,E=()=>{const d=Promise.resolve(void 0);F=()=>{d.then(D)}};function D(){for(var d;d=j();){try{d.h.call(d.g)}catch(w){z(w)}var _=U;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}X=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};c.addEventListener("test",w,_),c.removeEventListener("test",w,_)}catch{}return d})();function A(d){return/^[\s\xa0]*$/.test(d)}function K(d,_){V.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}v(K,V),K.prototype.init=function(d,_){const w=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(w=="mouseover"?_=d.fromElement:w=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&K.Z.h.call(this)},K.prototype.h=function(){K.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var $="closure_listenable_"+(Math.random()*1e6|0),H=0;function te(d,_,w,x,Q){this.listener=d,this.proxy=null,this.src=_,this.type=w,this.capture=!!x,this.ha=Q,this.key=++H,this.da=this.fa=!1}function W(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function _e(d,_,w){for(const x in d)_.call(w,d[x],x,d)}function Pe(d,_){for(const w in d)_.call(void 0,d[w],w,d)}function q(d){const _={};for(const w in d)_[w]=d[w];return _}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(d,_){let w,x;for(let Q=1;Q<arguments.length;Q++){x=arguments[Q];for(w in x)d[w]=x[w];for(let re=0;re<ae.length;re++)w=ae[re],Object.prototype.hasOwnProperty.call(x,w)&&(d[w]=x[w])}}function ne(d){this.src=d,this.g={},this.h=0}ne.prototype.add=function(d,_,w,x,Q){const re=d.toString();d=this.g[re],d||(d=this.g[re]=[],this.h++);const ve=J(d,_,x,Q);return ve>-1?(_=d[ve],w||(_.fa=!1)):(_=new te(_,this.src,re,!!x,Q),_.fa=w,d.push(_)),_};function ie(d,_){const w=_.type;if(w in d.g){var x=d.g[w],Q=Array.prototype.indexOf.call(x,_,void 0),re;(re=Q>=0)&&Array.prototype.splice.call(x,Q,1),re&&(W(_),d.g[w].length==0&&(delete d.g[w],d.h--))}}function J(d,_,w,x){for(let Q=0;Q<d.length;++Q){const re=d[Q];if(!re.da&&re.listener==_&&re.capture==!!w&&re.ha==x)return Q}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),we={};function de(d,_,w,x,Q){if(Array.isArray(_)){for(let re=0;re<_.length;re++)de(d,_[re],w,x,Q);return null}return w=ke(w),d&&d[$]?d.J(_,w,h(x)?!!x.capture:!1,Q):Le(d,_,w,!1,x,Q)}function Le(d,_,w,x,Q,re){if(!_)throw Error("Invalid event type");const ve=h(Q)?!!Q.capture:!!Q;let $e=Se(d);if($e||(d[ge]=$e=new ne(d)),w=$e.add(_,w,x,ve,re),w.proxy)return w;if(x=We(),w.proxy=x,x.src=d,x.listener=w,d.addEventListener)k||(Q=ve),Q===void 0&&(Q=!1),d.addEventListener(_.toString(),x,Q);else if(d.attachEvent)d.attachEvent(ye(_.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return w}function We(){function d(w){return _.call(d.src,d.listener,w)}const _=be;return d}function Me(d,_,w,x,Q){if(Array.isArray(_))for(var re=0;re<_.length;re++)Me(d,_[re],w,x,Q);else x=h(x)?!!x.capture:!!x,w=ke(w),d&&d[$]?(d=d.i,re=String(_).toString(),re in d.g&&(_=d.g[re],w=J(_,w,x,Q),w>-1&&(W(_[w]),Array.prototype.splice.call(_,w,1),_.length==0&&(delete d.g[re],d.h--)))):d&&(d=Se(d))&&(_=d.g[_.toString()],d=-1,_&&(d=J(_,w,x,Q)),(w=d>-1?_[d]:null)&&cn(w))}function cn(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[$])ie(_.i,d);else{var w=d.type,x=d.proxy;_.removeEventListener?_.removeEventListener(w,x,d.capture):_.detachEvent?_.detachEvent(ye(w),x):_.addListener&&_.removeListener&&_.removeListener(x),(w=Se(_))?(ie(w,d),w.h==0&&(w.src=null,_[ge]=null)):W(d)}}}function ye(d){return d in we?we[d]:we[d]="on"+d}function be(d,_){if(d.da)d=!0;else{_=new K(_,this);const w=d.listener,x=d.ha||d.src;d.fa&&cn(d),d=w.call(x,_)}return d}function Se(d){return d=d[ge],d instanceof ne?d:null}var Ee="__closure_events_fn_"+(Math.random()*1e9>>>0);function ke(d){return typeof d=="function"?d:(d[Ee]||(d[Ee]=function(_){return d.handleEvent(_)}),d[Ee])}function Ue(){O.call(this),this.i=new ne(this),this.M=this,this.G=null}v(Ue,O),Ue.prototype[$]=!0,Ue.prototype.removeEventListener=function(d,_,w,x){Me(this,d,_,w,x)};function Fe(d,_){var w,x=d.G;if(x)for(w=[];x;x=x.G)w.push(x);if(d=d.M,x=_.type||_,typeof _=="string")_=new V(_,d);else if(_ instanceof V)_.target=_.target||d;else{var Q=_;_=new V(x,d),pe(_,Q)}Q=!0;let re,ve;if(w)for(ve=w.length-1;ve>=0;ve--)re=_.g=w[ve],Q=ot(re,x,!0,_)&&Q;if(re=_.g=d,Q=ot(re,x,!0,_)&&Q,Q=ot(re,x,!1,_)&&Q,w)for(ve=0;ve<w.length;ve++)re=_.g=w[ve],Q=ot(re,x,!1,_)&&Q}Ue.prototype.N=function(){if(Ue.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const w=d.g[_];for(let x=0;x<w.length;x++)W(w[x]);delete d.g[_],d.h--}}this.G=null},Ue.prototype.J=function(d,_,w,x){return this.i.add(String(d),_,!1,w,x)},Ue.prototype.K=function(d,_,w,x){return this.i.add(String(d),_,!0,w,x)};function ot(d,_,w,x){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let Q=!0;for(let re=0;re<_.length;++re){const ve=_[re];if(ve&&!ve.da&&ve.capture==w){const $e=ve.listener,Ft=ve.ha||ve.src;ve.fa&&ie(d.i,ve),Q=$e.call(Ft,x)!==!1&&Q}}return Q&&!x.defaultPrevented}function ec(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(d,_||0)}function fh(d){d.g=ec(()=>{d.g=null,d.i&&(d.i=!1,fh(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Nn extends O{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:fh(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wa(d){O.call(this),this.h=d,this.g={}}v(wa,O);var tc=[];function nc(d){_e(d.g,function(_,w){this.g.hasOwnProperty(w)&&cn(_)},d),d.g={}}wa.prototype.N=function(){wa.Z.N.call(this),nc(this)},wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=c.JSON.stringify,Km=c.JSON.parse,dh=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function mh(){}function ph(){}var Pi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pn(){V.call(this,"d")}v(pn,V);function fi(){V.call(this,"c")}v(fi,V);var jt={},gh=null;function Co(){return gh=gh||new Ue}jt.Ia="serverreachability";function yh(d){V.call(this,jt.Ia,d)}v(yh,V);function ts(d){const _=Co();Fe(_,new yh(_))}jt.STAT_EVENT="statevent";function Ea(d,_){V.call(this,jt.STAT_EVENT,d),this.stat=_}v(Ea,V);function $t(d){const _=Co();Fe(_,new Ea(_,d))}jt.Ja="timingevent";function ns(d,_){V.call(this,jt.Ja,d),this.size=_}v(ns,V);function is(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},_)}function Oi(){this.g=!0}Oi.prototype.ua=function(){this.g=!1};function Ym(d,_,w,x,Q,re){d.info(function(){if(d.g)if(re){var ve="",$e=re.split("&");for(let ut=0;ut<$e.length;ut++){var Ft=$e[ut].split("=");if(Ft.length>1){const It=Ft[0];Ft=Ft[1];const gi=It.split("_");ve=gi.length>=2&&gi[1]=="type"?ve+(It+"="+Ft+"&"):ve+(It+"=redacted&")}}}else ve=null;else ve=re;return"XMLHTTP REQ ("+x+") [attempt "+Q+"]: "+_+`
`+w+`
`+ve})}function vh(d,_,w,x,Q,re,ve){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+Q+"]: "+_+`
`+w+`
`+re+" "+ve})}function ss(d,_,w,x){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Wm(d,w)+(x?" "+x:"")})}function Sa(d,_){d.info(function(){return"TIMEOUT: "+_})}Oi.prototype.info=function(){};function Wm(d,_){if(!d.g)return _;if(!_)return null;try{const re=JSON.parse(_);if(re){for(d=0;d<re.length;d++)if(Array.isArray(re[d])){var w=re[d];if(!(w.length<2)){var x=w[1];if(Array.isArray(x)&&!(x.length<1)){var Q=x[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ve=1;ve<x.length;ve++)x[ve]=""}}}}return dr(re)}catch{return _}}var Aa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ic={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sc;function Ca(){}v(Ca,mh),Ca.prototype.g=function(){return new XMLHttpRequest},sc=new Ca;function ks(d){return encodeURIComponent(String(d))}function _h(d){var _=1;d=d.split(":");const w=[];for(;_>0&&d.length;)w.push(d.shift()),_--;return d.length&&w.push(d.join(":")),w}function Vi(d,_,w,x){this.j=d,this.i=_,this.l=w,this.S=x||1,this.V=new wa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Li}function Li(){this.i=null,this.g="",this.h=!1}var Kt={},un={};function rs(d,_,w){d.M=1,d.A=Ra(Wt(_)),d.u=w,d.R=!0,Ro(d,null)}function Ro(d,_){d.F=Date.now(),as(d),d.B=Wt(d.A);var w=d.B,x=d.S;Array.isArray(x)||(x=[String(x)]),ko(w.i,"t",x),d.C=0,w=d.j.L,d.h=new Li,d.g=Ph(d.j,w?_:null,!d.u),d.P>0&&(d.O=new Nn(p(d.Y,d,d.g),d.P)),_=d.V,w=d.g,x=d.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(tc[0]=Q.toString()),Q=tc);for(let re=0;re<Q.length;re++){const ve=de(w,Q[re],x||_.handleEvent,!1,_.h||_);if(!ve)break;_.g[ve.key]=ve}_=d.J?q(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),ts(),Ym(d.i,d.v,d.B,d.l,d.S,d.u)}Vi.prototype.ba=function(d){d=d.target;const _=this.O;_&&Fi(d)==3?_.j():this.Y(d)},Vi.prototype.Y=function(d){try{if(d==this.g)e:{const $e=Fi(this.g),Ft=this.g.ya(),ut=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||gn(this.g)))){this.K||$e!=4||Ft==7||(Ft==8||ut<=0?ts(3):ts(2)),os(this);var _=this.g.ca();this.X=_;var w=Qm(this);if(this.o=_==200,vh(this.i,this.v,this.B,this.l,this.S,$e,_),this.o){if(this.U&&!this.L){t:{if(this.g){var x,Q=this.g;if((x=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(x)){var re=x;break t}}re=null}if(d=re)ss(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ls(this,d);else{this.o=!1,this.m=3,$t(12),Jn(this),di(this);break e}}if(this.R){d=!0;let It;for(;!this.K&&this.C<w.length;)if(It=Th(this,w),It==un){$e==4&&(this.m=4,$t(14),d=!1),ss(this.i,this.l,null,"[Incomplete Response]");break}else if(It==Kt){this.m=4,$t(15),ss(this.i,this.l,w,"[Invalid Chunk]"),d=!1;break}else ss(this.i,this.l,It,null),ls(this,It);if(bh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||w.length!=0||this.h.h||(this.m=1,$t(16),d=!1),this.o=this.o&&d,!d)ss(this.i,this.l,w,"[Invalid Chunked Response]"),Jn(this),di(this);else if(w.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),_c(ve),ve.P=!0,$t(11))}}else ss(this.i,this.l,w,null),ls(this,w);$e==4&&Jn(this),this.o&&!this.K&&($e==4?Dh(this.j,this):(this.o=!1,as(this)))}else Ns(this.g),_==400&&w.indexOf("Unknown SID")>0?(this.m=3,$t(12)):(this.m=0,$t(13)),Jn(this),di(this)}}}catch{}};function Qm(d){if(!bh(d))return d.g.la();const _=gn(d.g);if(_==="")return"";let w="";const x=_.length,Q=Fi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Jn(d),di(d),"";d.h.i=new c.TextDecoder}for(let re=0;re<x;re++)d.h.h=!0,w+=d.h.i.decode(_[re],{stream:!(Q&&re==x-1)});return _.length=0,d.h.g+=w,d.C=0,d.h.g}function bh(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Th(d,_){var w=d.C,x=_.indexOf(`
`,w);return x==-1?un:(w=Number(_.substring(w,x)),isNaN(w)?Kt:(x+=1,x+w>_.length?un:(_=_.slice(x,x+w),d.C=x+w,_)))}Vi.prototype.cancel=function(){this.K=!0,Jn(this)};function as(d){d.T=Date.now()+d.H,Io(d,d.H)}function Io(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=is(p(d.aa,d),_)}function os(d){d.D&&(c.clearTimeout(d.D),d.D=null)}Vi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Sa(this.i,this.B),this.M!=2&&(ts(),$t(17)),Jn(this),this.m=2,di(this)):Io(this,this.T-d)};function di(d){d.j.I==0||d.K||Dh(d.j,d)}function Jn(d){os(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,nc(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function ls(d,_){try{var w=d.j;if(w.I!=0&&(w.g==d||us(w.h,d))){if(!d.L&&us(w.h,d)&&w.I==3){try{var x=w.Ba.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var Q=x;if(Q[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<d.F)Vo(w),Tr(w);else break e;Pa(w),$t(18)}}else w.xa=Q[1],0<w.xa-w.K&&Q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=is(p(w.Va,w),6e3));cs(w.h)<=1&&w.ta&&(w.ta=void 0)}else gs(w,11)}else if((d.L||w.g==d)&&Vo(w),!A(_))for(Q=w.Ba.g.parse(_),_=0;_<Q.length;_++){let ut=Q[_];const It=ut[0];if(!(It<=w.K))if(w.K=It,ut=ut[1],w.I==2)if(ut[0]=="c"){w.M=ut[1],w.ba=ut[2];const gi=ut[3];gi!=null&&(w.ka=gi,w.j.info("VER="+w.ka));const ys=ut[4];ys!=null&&(w.za=ys,w.j.info("SVER="+w.za));const zi=ut[5];zi!=null&&typeof zi=="number"&&zi>0&&(x=1.5*zi,w.O=x,w.j.info("backChannelRequestTimeoutMs_="+x)),x=w;const Bi=d.g;if(Bi){const Oa=Bi.g?Bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oa){var re=x.h;re.g||Oa.indexOf("spdy")==-1&&Oa.indexOf("quic")==-1&&Oa.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(oc(re,re.h),re.h=null))}if(x.G){const Lo=Bi.g?Bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Lo&&(x.wa=Lo,dt(x.J,x.G,Lo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-d.F,w.j.info("Handshake RTT: "+w.T+"ms")),x=w;var ve=d;if(x.na=Nh(x,x.L?x.ba:null,x.W),ve.L){lc(x.h,ve);var $e=ve,Ft=x.O;Ft&&($e.H=Ft),$e.D&&(os($e),as($e)),x.g=ve}else Ih(x);w.i.length>0&&ps(w)}else ut[0]!="stop"&&ut[0]!="close"||gs(w,7);else w.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?gs(w,7):yc(w):ut[0]!="noop"&&w.l&&w.l.qa(ut),w.A=0)}}ts(4)}catch{}}var Yt=class{constructor(d,_){this.g=d,this.map=_}};function rc(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ac(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function cs(d){return d.h?1:d.g?d.g.size:0}function us(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function oc(d,_){d.g?d.g.add(_):d.h=_}function lc(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}rc.prototype.cancel=function(){if(this.i=cc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function cc(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const w of d.g.values())_=_.concat(w.G);return _}return I(d.i)}var wh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xo(d,_){if(d){d=d.split("&");for(let w=0;w<d.length;w++){const x=d[w].indexOf("=");let Q,re=null;x>=0?(Q=d[w].substring(0,x),re=d[w].substring(x+1)):Q=d[w],_(Q,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Zn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof Zn?(this.l=d.l,hn(this,d.j),this.o=d.o,this.g=d.g,mr(this,d.u),this.h=d.h,uc(this,Ch(d.i)),this.m=d.m):d&&(_=String(d).match(wh))?(this.l=!1,hn(this,_[1]||"",!0),this.o=hs(_[2]||""),this.g=hs(_[3]||"",!0),mr(this,_[4]),this.h=hs(_[5]||"",!0),uc(this,_[6]||"",!0),this.m=hs(_[7]||"")):(this.l=!1,this.i=new gr(null,this.l))}Zn.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(Ia(_,Do,!0),":");var w=this.g;return(w||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Ia(_,Do,!0),"@"),d.push(ks(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&d.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Ia(w,w.charAt(0)=="/"?hc:Eh,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Ia(w,Sh)),d.join("")},Zn.prototype.resolve=function(d){const _=Wt(this);let w=!!d.j;w?hn(_,d.j):w=!!d.o,w?_.o=d.o:w=!!d.g,w?_.g=d.g:w=d.u!=null;var x=d.h;if(w)mr(_,d.u);else if(w=!!d.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var Q=_.h.lastIndexOf("/");Q!=-1&&(x=_.h.slice(0,Q+1)+x)}if(Q=x,Q==".."||Q==".")x="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){x=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const re=[];for(let ve=0;ve<Q.length;){const $e=Q[ve++];$e=="."?x&&ve==Q.length&&re.push(""):$e==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),x&&ve==Q.length&&re.push("")):(re.push($e),x=!0)}x=re.join("/")}else x=Q}return w?_.h=x:w=d.i.toString()!=="",w?uc(_,Ch(d.i)):w=!!d.m,w&&(_.m=d.m),_};function Wt(d){return new Zn(d)}function hn(d,_,w){d.j=w?hs(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function mr(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function uc(d,_,w){_ instanceof gr?(d.i=_,Mo(d.i,d.l)):(w||(_=Ia(_,pr)),d.i=new gr(_,d.l))}function dt(d,_,w){d.i.set(_,w)}function Ra(d){return dt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function hs(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ia(d,_,w){return typeof d=="string"?(d=encodeURI(d).replace(_,jn),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function jn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Do=/[#\/\?@]/g,Eh=/[#\?:]/g,hc=/[#\?]/g,pr=/[#\?@]/g,Sh=/#/g;function gr(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Fn(d){d.g||(d.g=new Map,d.h=0,d.i&&xo(d.i,function(_,w){d.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}t=gr.prototype,t.add=function(d,_){Fn(this),this.i=null,d=yr(this,d);let w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(_),this.h+=1,this};function Ah(d,_){Fn(d),_=yr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function fc(d,_){return Fn(d),_=yr(d,_),d.g.has(_)}t.forEach=function(d,_){Fn(this),this.g.forEach(function(w,x){w.forEach(function(Q){d.call(_,Q,x,this)},this)},this)};function dc(d,_){Fn(d);let w=[];if(typeof _=="string")fc(d,_)&&(w=w.concat(d.g.get(yr(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)w=w.concat(d[_]);return w}t.set=function(d,_){return Fn(this),this.i=null,d=yr(this,d),fc(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=dc(this,d),d.length>0?String(d[0]):_):_};function ko(d,_,w){Ah(d,_),w.length>0&&(d.i=null,d.g.set(yr(d,_),I(w)),d.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let x=0;x<_.length;x++){var w=_[x];const Q=ks(w);w=dc(this,w);for(let re=0;re<w.length;re++){let ve=Q;w[re]!==""&&(ve+="="+ks(w[re])),d.push(ve)}}return this.i=d.join("&")};function Ch(d){const _=new gr;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function yr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Mo(d,_){_&&!d.j&&(Fn(d),d.i=null,d.g.forEach(function(w,x){const Q=x.toLowerCase();x!=Q&&(Ah(this,x),ko(this,Q,w))},d)),d.j=_}function Ui(d,_){const w=new Oi;if(c.Image){const x=new Image;x.onload=y(mi,w,"TestLoadImage: loaded",!0,_,x),x.onerror=y(mi,w,"TestLoadImage: error",!1,_,x),x.onabort=y(mi,w,"TestLoadImage: abort",!1,_,x),x.ontimeout=y(mi,w,"TestLoadImage: timeout",!1,_,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else _(!1)}function mc(d,_){const w=new Oi,x=new AbortController,Q=setTimeout(()=>{x.abort(),mi(w,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:x.signal}).then(re=>{clearTimeout(Q),re.ok?mi(w,"TestPingServer: ok",!0,_):mi(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),mi(w,"TestPingServer: error",!1,_)})}function mi(d,_,w,x,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),x(w)}catch{}}function vr(){this.g=new dh}function fs(d){this.i=d.Sb||null,this.h=d.ab||!1}v(fs,mh),fs.prototype.g=function(){return new xa(this.i,this.h)};function xa(d,_){Ue.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(xa,Ue),t=xa.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,ji(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ji(this)),this.g&&(this.readyState=3,ji(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;No(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function No(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?_r(this):ji(this),this.readyState==3&&No(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,_r(this))},t.Na=function(d){this.g&&(this.response=d,_r(this))},t.ga=function(){this.g&&_r(this)};function _r(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ji(d)}t.setRequestHeader=function(d,_){this.A.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=_.next();return d.join(`\r
`)};function ji(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function pi(d){let _="";return _e(d,function(w,x){_+=x,_+=":",_+=w,_+=`\r
`}),_}function Da(d,_,w){e:{for(x in w){var x=!1;break e}x=!0}x||(w=pi(w),typeof d=="string"?w!=null&&ks(w):dt(d,_,w))}function yt(d){Ue.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(yt,Ue);var ds=/^https?$/i,pc=["POST","PUT"];t=yt.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,_,w,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sc.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(re){ka(this,re);return}if(d=w||"",w=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var Q in x)w.set(Q,x[Q]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const re of x.keys())w.set(re,x.get(re));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(w.keys()).find(re=>re.toLowerCase()=="content-type"),Q=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(pc,_,void 0)>=0)||x||Q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of w)this.g.setRequestHeader(re,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(re){ka(this,re)}};function ka(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,gc(d),Ms(d)}function gc(d){d.A||(d.A=!0,Fe(d,"complete"),Fe(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Fe(this,"complete"),Fe(this,"abort"),Ms(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ms(this,!0)),yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ma(this):this.Xa())},t.Xa=function(){Ma(this)};function Ma(d){if(d.h&&typeof l<"u"){if(d.v&&Fi(d)==4)setTimeout(d.Ca.bind(d),0);else if(Fe(d,"readystatechange"),Fi(d)==4){d.h=!1;try{const re=d.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var x;if(x=re===0){let ve=String(d.D).match(wh)[1]||null;!ve&&c.self&&c.self.location&&(ve=c.self.location.protocol.slice(0,-1)),x=!ds.test(ve?ve.toLowerCase():"")}w=x}if(w)Fe(d,"complete"),Fe(d,"success");else{d.o=6;try{var Q=Fi(d)>2?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.ca()+"]",gc(d)}}finally{Ms(d)}}}}function Ms(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const w=d.g;d.g=null,_||Fe(d,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Fi(d){return d.g?d.g.readyState:0}t.ca=function(){try{return Fi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Km(_)}};function gn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ns(d){const _={};d=(d.g&&Fi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if(A(d[x]))continue;var w=_h(d[x]);const Q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const re=_[Q]||[];_[Q]=re,re.push(w)}Pe(_,function(x){return x.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(d,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||_}function br(d){this.za=0,this.i=[],this.j=new Oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ms("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ms("baseRetryDelayMs",5e3,d),this.Za=ms("retryDelaySeedMs",1e4,d),this.Ta=ms("forwardChannelMaxRetries",2,d),this.va=ms("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new rc(d&&d.concurrentRequestLimit),this.Ba=new vr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=br.prototype,t.ka=8,t.I=1,t.connect=function(d,_,w,x){$t(0),this.W=d,this.H=_||{},w&&x!==void 0&&(this.H.OSID=w,this.H.OAID=x),this.F=this.X,this.J=Nh(this,null,this.W),ps(this)};function yc(d){if(Po(d),d.I==3){var _=d.V++,w=Wt(d.J);if(dt(w,"SID",d.M),dt(w,"RID",_),dt(w,"TYPE","terminate"),Na(d,w),_=new Vi(d,d.j,_),_.M=2,_.A=Ra(Wt(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=_.A,w=!0),w||(_.g=Ph(_.j,null),_.g.ea(_.A)),_.F=Date.now(),as(_)}Mh(d)}function Tr(d){d.g&&(_c(d),d.g.cancel(),d.g=null)}function Po(d){Tr(d),d.v&&(c.clearTimeout(d.v),d.v=null),Vo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function ps(d){if(!ac(d.h)&&!d.m){d.m=!0;var _=d.Ea;F||E(),X||(F(),X=!0),S.add(_,d),d.D=0}}function Oo(d,_){return cs(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=is(p(d.Ea,d,_),kh(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Q=new Vi(this,this.j,d);let re=this.o;if(this.U&&(re?(re=q(re),pe(re,this.U)):re=this.U),this.u!==null||this.R||(Q.J=re,re=null),this.S)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var x=this.i[w];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(_+=x,_>4096){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=Rh(this,Q,_),w=Wt(this.J),dt(w,"RID",d),dt(w,"CVER",22),this.G&&dt(w,"X-HTTP-Session-Id",this.G),Na(this,w),re&&(this.R?_="headers="+ks(pi(re))+"&"+_:this.u&&Da(w,this.u,re)),oc(this.h,Q),this.Ra&&dt(w,"TYPE","init"),this.S?(dt(w,"$req",_),dt(w,"SID","null"),Q.U=!0,rs(Q,w,null)):rs(Q,w,_),this.I=2}}else this.I==3&&(d?vc(this,d):this.i.length==0||ac(this.h)||vc(this))};function vc(d,_){var w;_?w=_.l:w=d.V++;const x=Wt(d.J);dt(x,"SID",d.M),dt(x,"RID",w),dt(x,"AID",d.K),Na(d,x),d.u&&d.o&&Da(x,d.u,d.o),w=new Vi(d,d.j,w,d.D+1),d.u===null&&(w.J=d.o),_&&(d.i=_.G.concat(d.i)),_=Rh(d,w,1e3),w.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),oc(d.h,w),rs(w,x,_)}function Na(d,_){d.H&&_e(d.H,function(w,x){dt(_,x,w)}),d.l&&_e({},function(w,x){dt(_,x,w)})}function Rh(d,_,w){w=Math.min(d.i.length,w);const x=d.l?p(d.l.Ka,d.l,d):null;e:{var Q=d.i;let $e=-1;for(;;){const Ft=["count="+w];$e==-1?w>0?($e=Q[0].g,Ft.push("ofs="+$e)):$e=0:Ft.push("ofs="+$e);let ut=!0;for(let It=0;It<w;It++){var re=Q[It].g;const gi=Q[It].map;if(re-=$e,re<0)$e=Math.max(0,Q[It].g-100),ut=!1;else try{re="req"+re+"_"||"";try{var ve=gi instanceof Map?gi:Object.entries(gi);for(const[ys,zi]of ve){let Bi=zi;h(zi)&&(Bi=dr(zi)),Ft.push(re+ys+"="+encodeURIComponent(Bi))}}catch(ys){throw Ft.push(re+"type="+encodeURIComponent("_badmap")),ys}}catch{x&&x(gi)}}if(ut){ve=Ft.join("&");break e}}ve=void 0}return d=d.i.splice(0,w),_.G=d,ve}function Ih(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;F||E(),X||(F(),X=!0),S.add(_,d),d.A=0}}function Pa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=is(p(d.Da,d),kh(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,xh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=is(p(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,$t(10),Tr(this),xh(this))};function _c(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function xh(d){d.g=new Vi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=Wt(d.na);dt(_,"RID","rpc"),dt(_,"SID",d.M),dt(_,"AID",d.K),dt(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&dt(_,"TO",d.ia),dt(_,"TYPE","xmlhttp"),Na(d,_),d.u&&d.o&&Da(_,d.u,d.o),d.O&&(d.g.H=d.O);var w=d.g;d=d.ba,w.M=1,w.A=Ra(Wt(_)),w.u=null,w.R=!0,Ro(w,d)}t.Va=function(){this.C!=null&&(this.C=null,Tr(this),Pa(this),$t(19))};function Vo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Dh(d,_){var w=null;if(d.g==_){Vo(d),_c(d),d.g=null;var x=2}else if(us(d.h,_))w=_.G,lc(d.h,_),x=1;else return;if(d.I!=0){if(_.o)if(x==1){w=_.u?_.u.length:0,_=Date.now()-_.F;var Q=d.D;x=Co(),Fe(x,new ns(x,w)),ps(d)}else Ih(d);else if(Q=_.m,Q==3||Q==0&&_.X>0||!(x==1&&Oo(d,_)||x==2&&Pa(d)))switch(w&&w.length>0&&(_=d.h,_.i=_.i.concat(w)),Q){case 1:gs(d,5);break;case 4:gs(d,10);break;case 3:gs(d,6);break;default:gs(d,2)}}}function kh(d,_){let w=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(w*=2),w*_}function gs(d,_){if(d.j.info("Error code "+_),_==2){var w=p(d.bb,d),x=d.Ua;const Q=!x;x=new Zn(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||hn(x,"https"),Ra(x),Q?Ui(x.toString(),w):mc(x.toString(),w)}else $t(2);d.I=0,d.l&&d.l.pa(_),Mh(d),Po(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function Mh(d){if(d.I=0,d.ja=[],d.l){const _=cc(d.h);(_.length!=0||d.i.length!=0)&&(N(d.ja,_),N(d.ja,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.oa()}}function Nh(d,_,w){var x=w instanceof Zn?Wt(w):new Zn(w);if(x.g!="")_&&(x.g=_+"."+x.g),mr(x,x.u);else{var Q=c.location;x=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;const re=new Zn(null);x&&hn(re,x),_&&(re.g=_),Q&&mr(re,Q),w&&(re.h=w),x=re}return w=d.G,_=d.wa,w&&_&&dt(x,w,_),dt(x,"VER",d.ka),Na(d,x),x}function Ph(d,_,w){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new yt(new fs({ab:w})):new yt(d.ma),_.Fa(d.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oh(){}t=Oh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function wr(){}wr.prototype.g=function(d,_){return new Pn(d,_)};function Pn(d,_){Ue.call(this),this.g=new br(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!A(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!A(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Ps(this)}v(Pn,Ue),Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){yc(this.g)},Pn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.v&&(w={},w.__data__=dr(d),d=w);_.i.push(new Yt(_.Ya++,d)),_.I==3&&ps(_)},Pn.prototype.N=function(){this.g.l=null,delete this.j,yc(this.g),delete this.g,Pn.Z.N.call(this)};function Vh(d){pn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const w in _){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}v(Vh,pn);function Lh(){fi.call(this),this.status=1}v(Lh,fi);function Ps(d){this.g=d}v(Ps,Oh),Ps.prototype.ra=function(){Fe(this.g,"a")},Ps.prototype.qa=function(d){Fe(this.g,new Vh(d))},Ps.prototype.pa=function(d){Fe(this.g,new Lh)},Ps.prototype.oa=function(){Fe(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,TR=function(){return new wr},bR=function(){return Co()},_R=jt,Qy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Aa.NO_ERROR=0,Aa.TIMEOUT=8,Aa.HTTP_ERROR=6,ld=Aa,ic.COMPLETE="complete",vR=ic,ph.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",Ue.prototype.listen=Ue.prototype.J,du=ph,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,yR=yt}).apply(typeof Hf<"u"?Hf:typeof self<"u"?self:typeof window<"u"?window:{});class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");let Hl="12.8.0";function f4(t){Hl=t}const go=new Wu("@firebase/firestore");function pl(){return go.logLevel}function Ae(t,...e){if(go.logLevel<=Ze.DEBUG){const n=e.map(f0);go.debug(`Firestore (${Hl}): ${t}`,...n)}}function ar(t,...e){if(go.logLevel<=Ze.ERROR){const n=e.map(f0);go.error(`Firestore (${Hl}): ${t}`,...n)}}function Dl(t,...e){if(go.logLevel<=Ze.WARN){const n=e.map(f0);go.warn(`Firestore (${Hl}): ${t}`,...n)}}function f0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Be(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,wR(t,i,n)}function wR(t,e,n){let i=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ar(i),new Error(i)}function ft(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||wR(e,a,i)}function Ge(t,e){return t}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class ER{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class m4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class p4{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let l=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new tr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new tr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ft(typeof i.accessToken=="string",31837,{l:i}),new ER(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class g4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=In.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class y4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new g4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const i=l=>{l.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function _4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class d0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=_4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function nt(t,e){return t<e?-1:t>e?1:0}function Xy(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return ay(a)===ay(l)?nt(a,l):ay(a)?1:-1}return nt(t.length,e.length)}const b4=55296,T4=57343;function ay(t){const e=t.charCodeAt(0);return e>=b4&&e<=T4}function kl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const nS="__name__";class ws{constructor(e,n,i){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Be(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ws.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ws?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=ws.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return nt(e.length,n.length)}static compareSegments(e,n){const i=ws.isNumericId(e),a=ws.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?ws.extractNumericId(e).compare(ws.extractNumericId(n)):Xy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sa.fromString(e.substring(4,e.length-2))}}class Et extends ws{construct(e,n,i){return new Et(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new Et(n)}static emptyPath(){return new Et([])}}const w4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends ws{construct(e,n,i){return new En(e,n,i)}static isValidIdentifier(e){return w4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nS}static keyField(){return new En([nS])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Te(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Te(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Te(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new Te(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(n)}static emptyPath(){return new En([])}}class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Et.fromString(e))}static fromName(e){return new Ve(Et.fromString(e).popFirst(5))}static empty(){return new Ve(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Et(e.slice()))}}function SR(t,e,n){if(!n)throw new Te(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function E4(t,e,n,i){if(e===!0&&i===!0)throw new Te(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iS(t){if(!Ve.isDocumentKey(t))throw new Te(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sS(t){if(Ve.isDocumentKey(t))throw new Te(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function AR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function _m(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function Qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_m(t);throw new Te(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function S4(t,e){if(e<=0)throw new Te(he.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function sn(t,e){const n={typeString:t};return e&&(n.value=e),n}function eh(t,e){if(!AR(t))throw new Te(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new Te(he.INVALID_ARGUMENT,n);return!0}const rS=-62135596800,aS=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*aS);return new Ct(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rS)throw new Te(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aS}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eh(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:sn("string",Ct._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Ct(0,0))}static max(){return new qe(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nu=-1;function A4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=qe.fromTimestamp(i===1e9?new Ct(n+1,0):new Ct(n,i));return new la(a,Ve.empty(),e)}function C4(t){return new la(t.readTime,t.key,Nu)}class la{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new la(qe.min(),Ve.empty(),Nu)}static max(){return new la(qe.max(),Ve.empty(),Nu)}}function R4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}const I4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Gl(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==I4)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):me.reject(n)}static resolve(e){return new me(((n,i)=>{n(e)}))}static reject(e){return new me(((n,i)=>{i(e)}))}static waitFor(e){return new me(((n,i)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(f=>i(f)))})),c=!0,l===a&&n()}))}static or(e){let n=me.resolve(!1);for(const i of e)n=n.next((a=>a?me.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new me(((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next((y=>{c[p]=y,++h,h===l&&i(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new me(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function D4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $l(t){return t.name==="IndexedDbTransactionError"}class bm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bm.ce=-1;const m0=-1;function Tm(t){return t==null}function Vd(t){return t===0&&1/t==-1/0}function k4(t){return typeof t=="number"&&Number.isInteger(t)&&!Vd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const CR="";function M4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oS(e)),e=N4(t.get(n),e);return oS(e)}function N4(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case CR:n+="";break;default:n+=l}}return n}function oS(t){return t+CR+""}function lS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function va(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Nt{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gf(this.root,e,this.comparator,!0)}}class Gf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??wn.RED,this.left=a??wn.EMPTY,this.right=l??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new wn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return wn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ln{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cS(this.data.getIterator())}getIteratorFrom(e){return new cS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class cS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class oi{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new oi([])}unionWith(e){let n=new ln(En.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new oi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return kl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class IR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new IR("Invalid base64 string: "+l):l}})(e);return new Sn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const P4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(t){if(ft(!!t,39018),typeof t=="string"){let e=0;const n=P4.exec(t);if(ft(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ua(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}const xR="server_timestamp",DR="__type__",kR="__previous_value__",MR="__local_write_time__";function p0(t){return(t?.mapValue?.fields||{})[DR]?.stringValue===xR}function wm(t){const e=t.mapValue.fields[kR];return p0(e)?wm(e):e}function Pu(t){const e=ca(t.mapValue.fields[MR].timestampValue);return new Ct(e.seconds,e.nanos)}class O4{constructor(e,n,i,a,l,c,h,f,p,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=v}}const Ld="(default)";class Ou{constructor(e,n){this.projectId=e,this.database=n||Ld}static empty(){return new Ou("","")}get isDefaultDatabase(){return this.database===Ld}isEqual(e){return e instanceof Ou&&e.projectId===this.projectId&&e.database===this.database}}function V4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Te(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ou(t.options.projectId,e)}const NR="__type__",L4="__max__",$f={mapValue:{}},PR="__vector__",Ud="value";function ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?p0(t)?4:j4(t)?9007199254740991:U4(t)?10:11:Be(28295,{value:t})}function xs(t,e){if(t===e)return!0;const n=ha(t);if(n!==ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pu(t).isEqual(Pu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ca(a.timestampValue),h=ca(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ua(a.bytesValue).isEqual(ua(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return qt(a.geoPointValue.latitude)===qt(l.geoPointValue.latitude)&&qt(a.geoPointValue.longitude)===qt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return qt(a.integerValue)===qt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=qt(a.doubleValue),h=qt(l.doubleValue);return c===h?Vd(c)===Vd(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return kl(t.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(lS(c)!==lS(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!xs(c[f],h[f])))return!1;return!0})(t,e);default:return Be(52216,{left:t})}}function Vu(t,e){return(t.values||[]).find((n=>xs(n,e)))!==void 0}function Ml(t,e){if(t===e)return 0;const n=ha(t),i=ha(e);if(n!==i)return nt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=qt(l.integerValue||l.doubleValue),f=qt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return uS(t.timestampValue,e.timestampValue);case 4:return uS(Pu(t),Pu(e));case 5:return Xy(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=ua(l),f=ua(c);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),f=c.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=nt(h[p],f[p]);if(y!==0)return y}return nt(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=nt(qt(l.latitude),qt(c.latitude));return h!==0?h:nt(qt(l.longitude),qt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return hS(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},f=c.fields||{},p=h[Ud]?.arrayValue,y=f[Ud]?.arrayValue,v=nt(p?.values?.length||0,y?.values?.length||0);return v!==0?v:hS(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===$f.mapValue&&c===$f.mapValue)return 0;if(l===$f.mapValue)return 1;if(c===$f.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),p=c.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let v=0;v<f.length&&v<y.length;++v){const b=Xy(f[v],y[v]);if(b!==0)return b;const I=Ml(h[f[v]],p[y[v]]);if(I!==0)return I}return nt(f.length,y.length)})(t.mapValue,e.mapValue);default:throw Be(23264,{he:n})}}function uS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=ca(t),i=ca(e),a=nt(n.seconds,i.seconds);return a!==0?a:nt(n.nanos,i.nanos)}function hS(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Ml(n[a],i[a]);if(l)return l}return nt(n.length,i.length)}function Nl(t){return Jy(t)}function Jy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=ca(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ua(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Jy(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Jy(n.fields[c])}`;return a+"}"})(t.mapValue):Be(61005,{value:t})}function cd(t){switch(ha(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wm(t);return e?16+cd(e):16;case 5:return 2*t.stringValue.length;case 6:return ua(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+cd(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return va(i.fields,((l,c)=>{a+=l.length+cd(c)})),a})(t.mapValue);default:throw Be(13486,{value:t})}}function fS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zy(t){return!!t&&"integerValue"in t}function g0(t){return!!t&&"arrayValue"in t}function dS(t){return!!t&&"nullValue"in t}function mS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ud(t){return!!t&&"mapValue"in t}function U4(t){return(t?.mapValue?.fields||{})[NR]?.stringValue===PR}function Tu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return va(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Tu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tu(t.arrayValue.values[n]);return e}return{...t}}function j4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===L4}class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!ud(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(n)}setAll(e){let n=En.emptyPath(),i={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,i,a),i={},a=[],n=h.popLast()}c?i[h.lastSegment()]=Tu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];ud(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){va(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Yn(Tu(this.value))}}function OR(t){const e=[];return va(t.fields,((n,i)=>{const a=new En([n]);if(ud(i)){const l=OR(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new oi(e)}class xn{constructor(e,n,i,a,l,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new xn(e,0,qe.min(),qe.min(),qe.min(),Yn.empty(),0)}static newFoundDocument(e,n,i,a){return new xn(e,1,n,qe.min(),i,a,0)}static newNoDocument(e,n){return new xn(e,2,n,qe.min(),qe.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,qe.min(),qe.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jd{constructor(e,n){this.position=e,this.inclusive=n}}function pS(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ve.comparator(Ve.fromName(c.referenceValue),n.key):i=Ml(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function gS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xs(t.position[n],e.position[n]))return!1;return!0}class Lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function F4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class VR{}class nn extends VR{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new B4(e,n,i):n==="array-contains"?new G4(e,i):n==="in"?new $4(e,i):n==="not-in"?new K4(e,i):n==="array-contains-any"?new Y4(e,i):new nn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new q4(e,i):new H4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ml(n,this.value)):n!==null&&ha(this.value)===ha(n)&&this.matchesComparison(Ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends VR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ji(e,n)}matches(e){return LR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LR(t){return t.op==="and"}function UR(t){return z4(t)&&LR(t)}function z4(t){for(const e of t.filters)if(e instanceof Ji)return!1;return!0}function ev(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+Nl(t.value);if(UR(t))return t.filters.map((e=>ev(e))).join(",");{const e=t.filters.map((n=>ev(n))).join(",");return`${t.op}(${e})`}}function jR(t,e){return t instanceof nn?(function(i,a){return a instanceof nn&&i.op===a.op&&i.field.isEqual(a.field)&&xs(i.value,a.value)})(t,e):t instanceof Ji?(function(i,a){return a instanceof Ji&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,h)=>l&&jR(c,a.filters[h])),!0):!1})(t,e):void Be(19439)}function FR(t){return t instanceof nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Nl(n.value)}`})(t):t instanceof Ji?(function(n){return n.op.toString()+" {"+n.getFilters().map(FR).join(" ,")+"}"})(t):"Filter"}class B4 extends nn{constructor(e,n,i){super(e,n,i),this.key=Ve.fromName(i.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class q4 extends nn{constructor(e,n){super(e,"in",n),this.keys=zR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class H4 extends nn{constructor(e,n){super(e,"not-in",n),this.keys=zR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function zR(t,e){return(e.arrayValue?.values||[]).map((n=>Ve.fromName(n.referenceValue)))}class G4 extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return g0(n)&&Vu(n.arrayValue,this.value)}}class $4 extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vu(this.value.arrayValue,n)}}class K4 extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vu(this.value.arrayValue,n)}}class Y4 extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!g0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Vu(this.value.arrayValue,i)))}}class W4{constructor(e,n=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function yS(t,e=null,n=[],i=[],a=null,l=null,c=null){return new W4(t,e,n,i,a,l,c)}function y0(t){const e=Ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>ev(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Tm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Nl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Nl(i))).join(",")),e.Te=n}return e.Te}function v0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!F4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gS(t.startAt,e.startAt)&&gS(t.endAt,e.endAt)}function tv(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Kl{constructor(e,n=null,i=[],a=[],l=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Q4(t,e,n,i,a,l,c,h){return new Kl(t,e,n,i,a,l,c,h)}function Em(t){return new Kl(t)}function vS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function X4(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function BR(t){return t.collectionGroup!==null}function wu(t){const e=Ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new ln(En.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Lu(l,i))})),n.has(En.keyField().canonicalString())||e.Ie.push(new Lu(En.keyField(),i))}return e.Ie}function As(t){const e=Ge(t);return e.Ee||(e.Ee=J4(e,wu(t))),e.Ee}function J4(t,e){if(t.limitType==="F")return yS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Lu(a.field,l)}));const n=t.endAt?new jd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new jd(t.startAt.position,t.startAt.inclusive):null;return yS(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function nv(t,e){const n=t.filters.concat([e]);return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Z4(t,e){const n=t.explicitOrderBy.concat([e]);return new Kl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Fd(t,e,n){return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sm(t,e){return v0(As(t),As(e))&&t.limitType===e.limitType}function qR(t){return`${y0(As(t))}|lt:${t.limitType}`}function gl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>FR(a))).join(", ")}]`),Tm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Nl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Nl(a))).join(",")),`Target(${i})`})(As(t))}; limitType=${t.limitType})`}function Am(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of wu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,h,f){const p=pS(c,h,f);return c.inclusive?p<=0:p<0})(i.startAt,wu(i),a)||i.endAt&&!(function(c,h,f){const p=pS(c,h,f);return c.inclusive?p>=0:p>0})(i.endAt,wu(i),a))})(t,e)}function e3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HR(t){return(e,n)=>{let i=!1;for(const a of wu(t)){const l=t3(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function t3(t,e,n){const i=t.field.isKeyField()?Ve.comparator(e.key,n.key):(function(l,c,h){const f=c.data.field(l),p=h.data.field(l);return f!==null&&p!==null?Ml(f,p):Be(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Be(19790,{direction:t.dir})}}class So{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return RR(this.inner)}size(){return this.innerSize}}const n3=new Nt(Ve.comparator);function or(){return n3}const GR=new Nt(Ve.comparator);function mu(...t){let e=GR;for(const n of t)e=e.insert(n.key,n);return e}function $R(t){let e=GR;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function so(){return Eu()}function KR(){return Eu()}function Eu(){return new So((t=>t.toString()),((t,e)=>t.isEqual(e)))}const i3=new Nt(Ve.comparator),s3=new ln(Ve.comparator);function it(...t){let e=s3;for(const n of t)e=e.add(n);return e}const r3=new ln(nt);function a3(){return r3}function _0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vd(e)?"-0":e}}function YR(t){return{integerValue:""+t}}function o3(t,e){return k4(e)?YR(e):_0(t,e)}class Cm{constructor(){this._=void 0}}function l3(t,e,n){return t instanceof Uu?(function(a,l){const c={fields:{[DR]:{stringValue:xR},[MR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&p0(l)&&(l=wm(l)),l&&(c.fields[kR]=l),{mapValue:c}})(n,e):t instanceof ju?QR(t,e):t instanceof Fu?XR(t,e):(function(a,l){const c=WR(a,l),h=_S(c)+_S(a.Ae);return Zy(c)&&Zy(a.Ae)?YR(h):_0(a.serializer,h)})(t,e)}function c3(t,e,n){return t instanceof ju?QR(t,e):t instanceof Fu?XR(t,e):n}function WR(t,e){return t instanceof zd?(function(i){return Zy(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Uu extends Cm{}class ju extends Cm{constructor(e){super(),this.elements=e}}function QR(t,e){const n=JR(e);for(const i of t.elements)n.some((a=>xs(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Fu extends Cm{constructor(e){super(),this.elements=e}}function XR(t,e){let n=JR(e);for(const i of t.elements)n=n.filter((a=>!xs(a,i)));return{arrayValue:{values:n}}}class zd extends Cm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function _S(t){return qt(t.integerValue||t.doubleValue)}function JR(t){return g0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class u3{constructor(e,n){this.field=e,this.transform=n}}function h3(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof ju&&a instanceof ju||i instanceof Fu&&a instanceof Fu?kl(i.elements,a.elements,xs):i instanceof zd&&a instanceof zd?xs(i.Ae,a.Ae):i instanceof Uu&&a instanceof Uu})(t.transform,e.transform)}class f3{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rm{}function ZR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new b0(t.key,Ii.none()):new th(t.key,t.data,Ii.none());{const n=t.data,i=Yn.empty();let a=new ln(En.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new _a(t.key,i,new oi(a.toArray()),Ii.none())}}function d3(t,e,n){t instanceof th?(function(a,l,c){const h=a.value.clone(),f=TS(a.fieldTransforms,l,c.transformResults);h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof _a?(function(a,l,c){if(!hd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=TS(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(eI(a)),f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Su(t,e,n,i){return t instanceof th?(function(l,c,h,f){if(!hd(l.precondition,c))return h;const p=l.value.clone(),y=wS(l.fieldTransforms,f,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof _a?(function(l,c,h,f){if(!hd(l.precondition,c))return h;const p=wS(l.fieldTransforms,f,c),y=c.data;return y.setAll(eI(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,i):(function(l,c,h){return hd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function m3(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=WR(i.transform,a||null);l!=null&&(n===null&&(n=Yn.empty()),n.set(i.field,l))}return n||null}function bS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&kl(i,a,((l,c)=>h3(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class th extends Rm{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class _a extends Rm{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function eI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function TS(t,e,n){const i=new Map;ft(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,c3(c,h,n[a]))}return i}function wS(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,l3(l,c,e))}return i}class b0 extends Rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p3 extends Rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class g3{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&d3(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Su(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Su(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=KR();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const f=ZR(c,h);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(qe.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),it())}isEqual(e){return this.batchId===e.batchId&&kl(this.mutations,e.mutations,((n,i)=>bS(n,i)))&&kl(this.baseMutations,e.baseMutations,((n,i)=>bS(n,i)))}}class T0{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){ft(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return i3})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new T0(e,n,i,a)}}class y3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class v3{constructor(e,n){this.count=e,this.unchangedNames=n}}var en,rt;function _3(t){switch(t){case he.OK:return Be(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function tI(t){if(t===void 0)return ar("GRPC error has no .code"),he.UNKNOWN;switch(t){case en.OK:return he.OK;case en.CANCELLED:return he.CANCELLED;case en.UNKNOWN:return he.UNKNOWN;case en.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case en.INTERNAL:return he.INTERNAL;case en.UNAVAILABLE:return he.UNAVAILABLE;case en.UNAUTHENTICATED:return he.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case en.NOT_FOUND:return he.NOT_FOUND;case en.ALREADY_EXISTS:return he.ALREADY_EXISTS;case en.PERMISSION_DENIED:return he.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case en.ABORTED:return he.ABORTED;case en.OUT_OF_RANGE:return he.OUT_OF_RANGE;case en.UNIMPLEMENTED:return he.UNIMPLEMENTED;case en.DATA_LOSS:return he.DATA_LOSS;default:return Be(39323,{code:t})}}(rt=en||(en={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";function b3(){return new TextEncoder}const T3=new sa([4294967295,4294967295],0);function ES(t){const e=b3().encode(t),n=new gR;return n.update(e),new Uint8Array(n.digest())}function SS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new sa([n,i],0),new sa([a,l],0)]}class w0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new pu(`Invalid padding: ${n}`);if(i<0)throw new pu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new pu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=sa.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(sa.fromNumber(i)));return a.compare(T3)===1&&(a=new sa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ES(e),[i,a]=SS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new w0(l,a,n);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=ES(e),[i,a]=SS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Im{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,nh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Im(qe.min(),a,new Nt(nt),or(),it())}}class nh{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new nh(i,n,it(),it(),it())}}class fd{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class nI{constructor(e,n){this.targetId=e,this.Ce=n}}class iI{constructor(e,n,i=Sn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class AS{constructor(){this.ve=0,this.Fe=CS(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),n=it(),i=it();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Be(38017,{changeType:l})}})),new nh(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=CS()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class w3{constructor(e){this.Ge=e,this.ze=new Map,this.je=or(),this.He=Kf(),this.Je=Kf(),this.Ze=new Nt(nt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(tv(l))if(i===0){const c=new Ve(l.path);this.et(n,c,xn.newNoDocument(c,qe.min()))}else ft(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=ua(i).toUint8Array()}catch(f){if(f instanceof IR)return Dl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new w0(c,a,l)}catch(f){return Dl(f instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&tv(h.target)){const f=new Ve(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,xn.newNoDocument(f,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let i=it();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Im(e,n,this.Ze,this.je,i);return this.je=or(),this.He=Kf(),this.Je=Kf(),this.Ze=new Nt(nt),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new AS,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new ln(nt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new ln(nt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new AS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kf(){return new Nt(Ve.comparator)}function CS(){return new Nt(Ve.comparator)}const E3={asc:"ASCENDING",desc:"DESCENDING"},S3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A3={and:"AND",or:"OR"};class C3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function iv(t,e){return t.useProto3Json||Tm(e)?e:{value:e}}function Bd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function R3(t,e){return Bd(t,e.toTimestamp())}function Cs(t){return ft(!!t,49232),qe.fromTimestamp((function(n){const i=ca(n);return new Ct(i.seconds,i.nanos)})(t))}function E0(t,e){return sv(t,e).canonicalString()}function sv(t,e){const n=(function(a){return new Et(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function rI(t){const e=Et.fromString(t);return ft(uI(e),10190,{key:e.toString()}),e}function rv(t,e){return E0(t.databaseId,e.path)}function oy(t,e){const n=rI(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(oI(n))}function aI(t,e){return E0(t.databaseId,e)}function I3(t){const e=rI(t);return e.length===4?Et.emptyPath():oI(e)}function av(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oI(t){return ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function RS(t,e,n){return{name:rv(t,e),fields:n.value.mapValue.fields}}function x3(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(ft(y===void 0||typeof y=="string",58123),Sn.fromBase64String(y||"")):(ft(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Sn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(p){const y=p.code===void 0?he.UNKNOWN:tI(p.code);return new Te(y,p.message||"")})(c);n=new iI(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=oy(t,i.document.name),l=Cs(i.document.updateTime),c=i.document.createTime?Cs(i.document.createTime):qe.min(),h=new Yn({mapValue:{fields:i.document.fields}}),f=xn.newFoundDocument(a,l,c,h),p=i.targetIds||[],y=i.removedTargetIds||[];n=new fd(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=oy(t,i.document),l=i.readTime?Cs(i.readTime):qe.min(),c=xn.newNoDocument(a,l),h=i.removedTargetIds||[];n=new fd([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=oy(t,i.document),l=i.removedTargetIds||[];n=new fd([],l,a,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new v3(a,l),h=i.targetId;n=new nI(h,c)}}return n}function D3(t,e){let n;if(e instanceof th)n={update:RS(t,e.key,e.value)};else if(e instanceof b0)n={delete:rv(t,e.key)};else if(e instanceof _a)n={update:RS(t,e.key,e.data),updateMask:j3(e.fieldMask)};else{if(!(e instanceof p3))return Be(16599,{dt:e.type});n={verify:rv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const h=c.transform;if(h instanceof Uu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Fu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof zd)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Be(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:R3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Be(27497)})(t,e.precondition)),n}function k3(t,e){return t&&t.length>0?(ft(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Cs(a.updateTime):Cs(l);return c.isEqual(qe.min())&&(c=Cs(l)),new f3(c,a.transformResults||[])})(n,e)))):[]}function M3(t,e){return{documents:[aI(t,e.path)]}}function N3(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=aI(t,a);const l=(function(p){if(p.length!==0)return cI(Ji.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(b){return{field:yl(b.field),direction:V3(b.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=iv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function P3(t){let e=I3(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ft(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const b=lI(v);return b instanceof Ji&&UR(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((b=>(function(N){return new Lu(vl(N.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(b)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let b;return b=typeof v=="object"?v.value:v,Tm(b)?null:b})(n.limit));let f=null;n.startAt&&(f=(function(v){const b=!!v.before,I=v.values||[];return new jd(I,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const b=!v.before,I=v.values||[];return new jd(I,b)})(n.endAt)),Q4(e,a,c,l,h,"F",f,p)}function O3(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=vl(n.unaryFilter.field);return nn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=vl(n.unaryFilter.field);return nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=vl(n.unaryFilter.field);return nn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=vl(n.unaryFilter.field);return nn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return nn.create(vl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ji.create(n.compositeFilter.filters.map((i=>lI(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(n.compositeFilter.op))})(t):Be(30097,{filter:t})}function V3(t){return E3[t]}function L3(t){return S3[t]}function U3(t){return A3[t]}function yl(t){return{fieldPath:t.canonicalString()}}function vl(t){return En.fromServerFormat(t.fieldPath)}function cI(t){return t instanceof nn?(function(n){if(n.op==="=="){if(mS(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NAN"}};if(dS(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mS(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NOT_NAN"}};if(dS(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yl(n.field),op:L3(n.op),value:n.value}}})(t):t instanceof Ji?(function(n){const i=n.getFilters().map((a=>cI(a)));return i.length===1?i[0]:{compositeFilter:{op:U3(n.op),filters:i}}})(t):Be(54877,{filter:t})}function j3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function uI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function hI(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class ea{constructor(e,n,i,a,l=qe.min(),c=qe.min(),h=Sn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class F3{constructor(e){this.yt=e}}function z3(t){const e=P3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fd(e,e.limit,"L"):e}class B3{constructor(){this.Sn=new q3}addToCollectionParentIndex(e,n){return this.Sn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(la.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(la.min())}updateCollectionGroup(e,n,i){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class q3{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new ln(Et.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new ln(Et.comparator)).toArray()}}const IS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fI=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(fI,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);class Pl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Pl(0)}static ar(){return new Pl(-1)}}const xS="LruGarbageCollector",H3=1048576;function DS([t,e],[n,i]){const a=nt(t,n);return a===0?nt(e,i):a}class G3{constructor(e){this.Pr=e,this.buffer=new ln(DS),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();DS(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $3{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ae(xS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$l(n)?Ae(xS,"Ignoring IndexedDB error during garbage collection: ",n):await Gl(n)}await this.Ar(3e5)}))}}class K3{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return me.resolve(bm.ce);const i=new G3(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(IS)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IS):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,c,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,n)))).next((v=>(l=v,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(p=Date.now(),pl()<=Ze.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function Y3(t,e){return new K3(t,e)}class W3{constructor(){this.changes=new So((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?me.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Q3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class X3{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Su(i.mutation,a,oi.empty(),Ct.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,it()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=it()){const a=so();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=mu();return l.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=so();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,it())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,i,a){let l=or();const c=Eu(),h=(function(){return Eu()})();return n.forEach(((f,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof _a)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Su(y.mutation,p,y.mutation.getFieldMask(),Ct.now())):c.set(p.key,oi.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>h.set(p,new Q3(y,c.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=Eu();let a=new Nt(((c,h)=>c-h)),l=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let y=i.get(f)||oi.empty();y=h.applyToLocalView(p,y),i.set(f,y);const v=(a.get(h.batchId)||it()).add(f);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,v=KR();y.forEach((b=>{if(!l.has(b)){const I=ZR(n.get(b),i.get(b));I!==null&&v.set(b,I),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return me.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return X4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):me.resolve(so());let h=Nu,f=l;return c.next((p=>me.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?me.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{f=f.insert(y,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,it()))).next((y=>({batchId:h,changes:$R(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next((i=>{let a=mu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=mu();return this.indexManager.getCollectionParents(e,l).next((h=>me.forEach(h,(f=>{const p=(function(v,b){return new Kl(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((y=>{y.forEach(((v,b)=>{c=c.insert(v,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((f,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,xn.newInvalidDocument(y)))}));let h=mu();return c.forEach(((f,p)=>{const y=l.get(f);y!==void 0&&Su(y.mutation,p,oi.empty(),Ct.now()),Am(n,p)&&(h=h.insert(f,p))})),h}))}}class J3{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return me.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Cs(a.createTime)}})(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:z3(a.bundledQuery),readTime:Cs(a.readTime)}})(n)),me.resolve()}}class Z3{constructor(){this.overlays=new Nt(Ve.comparator),this.Lr=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const i=so();return me.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),me.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),me.resolve()}getOverlaysForCollection(e,n,i){const a=so(),l=n.length+1,c=new Ve(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return me.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new Nt(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=so(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=so(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return me.resolve(h)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new y3(n,i));let l=this.Lr.get(n);l===void 0&&(l=it(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class e5{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}class S0{constructor(){this.kr=new ln(mn.Kr),this.qr=new ln(mn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new mn(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new mn(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Ve(new Et([])),i=new mn(n,e),a=new mn(n,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ve(new Et([])),i=new mn(n,e),a=new mn(n,e+1);let l=it();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new mn(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class mn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ve.comparator(e.key,n.key)||nt(e.Hr,n.Hr)}static Ur(e,n){return nt(e.Hr,n.Hr)||Ve.comparator(e.key,n.key)}}class t5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ln(mn.Kr)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new g3(l,n,i,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new mn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return me.resolve(c)}lookupMutationBatch(e,n){return me.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return me.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?m0:this.Yn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new mn(n,0),a=new mn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ln(nt);return n.forEach((a=>{const l=new mn(a,0),c=new mn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{i=i.add(h.Hr)}))})),me.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ve.isDocumentKey(l)||(l=l.child(""));const c=new mn(new Ve(l),0);let h=new ln(nt);return this.Jr.forEachWhile((f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Hr)),!0)}),c),me.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ft(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return me.forEach(n.mutations,(a=>{const l=new mn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new mn(n,0),a=this.Jr.firstAfterOrEqual(i);return me.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class n5{constructor(e){this.ti=e,this.docs=(function(){return new Nt(Ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return me.resolve(i?i.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let i=or();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():xn.newInvalidDocument(a))})),me.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=or();const c=n.path,h=new Ve(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||R4(C4(y),i)<=0||(a.has(y.key)||Am(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return me.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Be(9500)}ni(e,n){return me.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new i5(this)}getSize(e){return me.resolve(this.size)}}class i5 extends W3{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),me.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class s5{constructor(e){this.persistence=e,this.ri=new So((n=>y0(n)),v0),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.ii=0,this.si=new S0,this.targetCount=0,this.oi=Pl._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),me.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Pl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.lr(n),me.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),me.waitFor(l).next((()=>a))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return me.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),me.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),me.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return me.resolve(i)}containsKey(e,n){return me.resolve(this.si.containsKey(n))}}class dI{constructor(e,n){this._i={},this.overlays={},this.ai=new bm(0),this.ui=!1,this.ui=!0,this.ci=new e5,this.referenceDelegate=e(this),this.li=new s5(this),this.indexManager=new B3,this.remoteDocumentCache=(function(a){return new n5(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new F3(n),this.Pi=new J3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Z3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new t5(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){Ae("MemoryPersistence","Starting transaction:",e);const a=new r5(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return me.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class r5 extends x4{constructor(e){super(),this.currentSequenceNumber=e}}class A0{constructor(e){this.persistence=e,this.Ri=new S0,this.Ai=null}static Vi(e){return new A0(e)}get di(){if(this.Ai)return this.Ai;throw Be(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),me.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),me.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,(i=>{const a=Ve.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,qe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return me.or([()=>me.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class qd{constructor(e,n){this.persistence=e,this.fi=new So((i=>M4(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=Y3(this,n)}static Vi(e,n){return new qd(e,n)}Ti(){}Ii(e){return me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return me.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?me.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(i++,l.removeEntry(c,qe.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),me.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),me.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),me.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cd(e.data.value)),n}wr(e,n,i){return me.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return me.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class C0{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=it(),a=it();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new C0(e,n.fromCache,i,a)}}class a5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class o5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return IP()?8:D4(Mn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new a5;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(pl()<=Ze.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",gl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),me.resolve()):(pl()<=Ze.DEBUG&&Ae("QueryEngine","Query:",gl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(pl()<=Ze.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",gl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(n))):me.resolve())}gs(e,n){if(vS(n))return me.resolve(null);let i=As(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Fd(n,null,"F"),i=As(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=it(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const p=this.bs(n,h);return this.Ss(n,p,c,f.readTime)?this.gs(e,Fd(n,null,"F")):this.Ds(e,p,n,f)}))))})))))}ps(e,n,i,a){return vS(n)||a.isEqual(qe.min())?me.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,i,a)?me.resolve(null):(pl()<=Ze.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),gl(n)),this.Ds(e,c,n,A4(a,Nu)).next((h=>h)))}))}bs(e,n){let i=new ln(HR(e));return n.forEach(((a,l)=>{Am(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return pl()<=Ze.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",gl(n)),this.fs.getDocumentsMatchingQuery(e,n,la.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const R0="LocalStore",l5=3e8;class c5{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Nt(nt),this.Fs=new So((l=>y0(l)),v0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X3(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function u5(t,e,n,i){return new c5(t,e,n,i)}async function mI(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],h=[];let f=it();for(const p of a){c.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(i,f).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function h5(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,y){const v=p.batch,b=v.keys();let I=me.resolve();return b.forEach((N=>{I=I.next((()=>y.getEntry(f,N))).next((P=>{const z=p.docVersions.get(N);ft(z!==null,48541),P.version.compareTo(z)<0&&(v.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))}))})),I.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=it();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function pI(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function f5(t,e){const n=Ge(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((y,v)=>{const b=a.get(v);if(!b)return;h.push(n.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,v))));let I=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?I=I.withResumeToken(Sn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,i)),a=a.insert(v,I),(function(P,z,j){return P.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=l5?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(b,I,y)&&h.push(n.li.updateTargetData(l,I))}));let f=or(),p=it();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(d5(l,c,e.documentUpdates).next((y=>{f=y.Bs,p=y.Ls}))),!i.isEqual(qe.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(y)}return me.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(n.vs=a,l)))}function d5(t,e,n){let i=it(),a=it();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=or();return n.forEach(((h,f)=>{const p=l.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(qe.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):Ae(R0,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{Bs:c,Ls:a}}))}function m5(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=m0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function p5(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,me.resolve(a)):n.li.allocateTargetId(i).next((c=>(a=new ea(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function ov(t,e,n){const i=Ge(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!$l(c))throw c;Ae(R0,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function kS(t,e,n){const i=Ge(t);let a=qe.min(),l=it();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,p,y){const v=Ge(f),b=v.Fs.get(y);return b!==void 0?me.resolve(v.vs.get(b)):v.li.getTargetData(p,y)})(i,c,As(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,h.targetId).next((f=>{l=f}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,n?a:qe.min(),n?l:it()))).next((h=>(g5(i,e3(e),h),{documents:h,ks:l})))))}function g5(t,e,n){let i=t.Ms.get(e)||qe.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class MS{constructor(){this.activeTargetIds=a3()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y5{constructor(){this.vo=new MS,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new MS,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class v5{Mo(e){}shutdown(){}}const NS="ConnectivityMonitor";class PS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ae(NS,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ae(NS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yf=null;function lv(){return Yf===null?Yf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yf++,"0x"+Yf.toString(16)}const ly="RestConnection",_5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class b5{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Ld?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const c=lv(),h=this.Qo(e,n.toUriEncodedString());Ae(ly,`Sending RPC '${e}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,l);const{host:p}=new URL(h),y=ga(p);return this.zo(e,h,f,i,y).then((v=>(Ae(ly,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Dl(ly,`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",i),v}))}jo(e,n,i,a,l,c){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=_5[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class T5{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Cn="WebChannelConnection",ru=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Cl extends b5{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Cl.c_){const e=bR();ru(e,_R.STAT_EVENT,(n=>{n.stat===Qy.PROXY?Ae(Cn,"STAT_EVENT: detected buffering proxy"):n.stat===Qy.NOPROXY&&Ae(Cn,"STAT_EVENT: detected no buffering proxy")})),Cl.c_=!0}}zo(e,n,i,a,l){const c=lv();return new Promise(((h,f)=>{const p=new yR;p.setWithCredentials(!0),p.listenOnce(vR.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case ld.NO_ERROR:const v=p.getResponseJson();Ae(Cn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case ld.TIMEOUT:Ae(Cn,`RPC '${e}' ${c} timed out`),f(new Te(he.DEADLINE_EXCEEDED,"Request time out"));break;case ld.HTTP_ERROR:const b=p.getStatus();if(Ae(Cn,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I?.error;if(N&&N.status&&N.message){const P=(function(j){const L=j.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(L)>=0?L:he.UNKNOWN})(N.status);f(new Te(P,N.message))}else f(new Te(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Te(he.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Ae(Cn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);Ae(Cn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,i,15)}))}T_(e,n,i){const a=lv(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=l.join("");Ae(Cn,`Creating RPC '${e}' stream ${a}: ${p}`,h);const y=c.createWebChannel(p,h);this.I_(y);let v=!1,b=!1;const I=new T5({Ho:N=>{b?Ae(Cn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(v||(Ae(Cn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),Ae(Cn,`RPC '${e}' stream ${a} sending:`,N),y.send(N))},Jo:()=>y.close()});return ru(y,du.EventType.OPEN,(()=>{b||(Ae(Cn,`RPC '${e}' stream ${a} transport opened.`),I.i_())})),ru(y,du.EventType.CLOSE,(()=>{b||(b=!0,Ae(Cn,`RPC '${e}' stream ${a} transport closed`),I.o_(),this.E_(y))})),ru(y,du.EventType.ERROR,(N=>{b||(b=!0,Dl(Cn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),I.o_(new Te(he.UNAVAILABLE,"The operation could not be completed")))})),ru(y,du.EventType.MESSAGE,(N=>{if(!b){const P=N.data[0];ft(!!P,16349);const z=P,j=z?.error||z[0]?.error;if(j){Ae(Cn,`RPC '${e}' stream ${a} received error:`,j);const L=j.status;let U=(function(X){const S=en[X];if(S!==void 0)return tI(S)})(L),ce=j.message;U===void 0&&(U=he.INTERNAL,ce="Unknown error status: "+L+" with message "+j.message),b=!0,I.o_(new Te(U,ce)),y.close()}else Ae(Cn,`RPC '${e}' stream ${a} received:`,P),I.__(P)}})),Cl.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return TR()}}function w5(t){return new Cl(t)}function cy(){return typeof document<"u"?document:null}function xm(t){return new C3(t,!0)}Cl.c_=!1;class gI{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&Ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const OS="PersistentStream";class yI{constructor(e,n,i,a,l,c,h,f){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new Te(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ae(OS,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Ae(OS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class E5 extends yI{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=x3(this.serializer,e),i=(function(l){if(!("targetChange"in l))return qe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?qe.min():c.readTime?Cs(c.readTime):qe.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=av(this.serializer),n.addTarget=(function(l,c){let h;const f=c.target;if(h=tv(f)?{documents:M3(l,f)}:{query:N3(l,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=sI(l,c.resumeToken);const p=iv(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(qe.min())>0){h.readTime=Bd(l,c.snapshotVersion.toTimestamp());const p=iv(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const i=O3(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=av(this.serializer),n.removeTarget=e,this.K_(n)}}class S5 extends yI{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=k3(e.writeResults,e.commitTime),i=Cs(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=av(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>D3(this.serializer,i)))};this.K_(n)}}class A5{}class C5 extends A5{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Te(he.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,sv(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(he.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,sv(n,i),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Te(he.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function R5(t,e,n,i){return new C5(t,e,n,i)}class I5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ar(n),this.aa=!1):Ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const yo="RemoteStore";class x5{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{Ao(this)&&(Ae(yo,"Restarting streams for network reachability change."),await(async function(f){const p=Ge(f);p.Ea.add(4),await ih(p),p.Va.set("Unknown"),p.Ea.delete(4),await Dm(p)})(this))}))})),this.Va=new I5(i,a)}}async function Dm(t){if(Ao(t))for(const e of t.Ra)await e(!0)}async function ih(t){for(const e of t.Ra)await e(!1)}function vI(t,e){const n=Ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),k0(n)?D0(n):Yl(n).O_()&&x0(n,e))}function I0(t,e){const n=Ge(t),i=Yl(n);n.Ia.delete(e),i.O_()&&_I(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ao(n)&&n.Va.set("Unknown"))}function x0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yl(t).Z_(e)}function _I(t,e){t.da.$e(e),Yl(t).X_(e)}function D0(t){t.da=new w3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Yl(t).start(),t.Va.ua()}function k0(t){return Ao(t)&&!Yl(t).x_()&&t.Ia.size>0}function Ao(t){return Ge(t).Ea.size===0}function bI(t){t.da=void 0}async function D5(t){t.Va.set("Online")}async function k5(t){t.Ia.forEach(((e,n)=>{x0(t,e)}))}async function M5(t,e){bI(t),k0(t)?(t.Va.ha(e),D0(t)):t.Va.set("Unknown")}async function N5(t,e,n){if(t.Va.set("Online"),e instanceof iI&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(i){Ae(yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Hd(t,i)}else if(e instanceof fd?t.da.Xe(e):e instanceof nI?t.da.st(e):t.da.tt(e),!n.isEqual(qe.min()))try{const i=await pI(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,p)=>{const y=l.Ia.get(f);if(!y)return;l.Ia.set(f,y.withResumeToken(Sn.EMPTY_BYTE_STRING,y.snapshotVersion)),_I(l,f);const v=new ea(y.target,f,p,y.sequenceNumber);x0(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){Ae(yo,"Failed to raise snapshot:",i),await Hd(t,i)}}async function Hd(t,e,n){if(!$l(e))throw e;t.Ea.add(1),await ih(t),t.Va.set("Offline"),n||(n=()=>pI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ae(yo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dm(t)}))}function TI(t,e){return e().catch((n=>Hd(t,n,e)))}async function km(t){const e=Ge(t),n=fa(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:m0;for(;P5(e);)try{const a=await m5(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,O5(e,a)}catch(a){await Hd(e,a)}wI(e)&&EI(e)}function P5(t){return Ao(t)&&t.Ta.length<10}function O5(t,e){t.Ta.push(e);const n=fa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function wI(t){return Ao(t)&&!fa(t).x_()&&t.Ta.length>0}function EI(t){fa(t).start()}async function V5(t){fa(t).ra()}async function L5(t){const e=fa(t);for(const n of t.Ta)e.ea(n.mutations)}async function U5(t,e,n){const i=t.Ta.shift(),a=T0.from(i,e,n);await TI(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await km(t)}async function j5(t,e){e&&fa(t).Y_&&await(async function(i,a){if((function(c){return _3(c)&&c!==he.ABORTED})(a.code)){const l=i.Ta.shift();fa(i).B_(),await TI(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await km(i)}})(t,e),wI(t)&&EI(t)}async function VS(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Ae(yo,"RemoteStore received new credentials");const i=Ao(n);n.Ea.add(3),await ih(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dm(n)}async function F5(t,e){const n=Ge(t);e?(n.Ea.delete(2),await Dm(n)):e||(n.Ea.add(2),await ih(n),n.Va.set("Unknown"))}function Yl(t){return t.ma||(t.ma=(function(n,i,a){const l=Ge(n);return l.sa(),new E5(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:D5.bind(null,t),Yo:k5.bind(null,t),t_:M5.bind(null,t),J_:N5.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),k0(t)?D0(t):t.Va.set("Unknown")):(await t.ma.stop(),bI(t))}))),t.ma}function fa(t){return t.fa||(t.fa=(function(n,i,a){const l=Ge(n);return l.sa(),new S5(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:V5.bind(null,t),t_:j5.bind(null,t),ta:L5.bind(null,t),na:U5.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await km(t)):(await t.fa.stop(),t.Ta.length>0&&(Ae(yo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class M0{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,h=new M0(e,n,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N0(t,e){if(ar("AsyncQueue",`${e}: ${t}`),$l(t))return new Te(he.UNAVAILABLE,`${e}: ${t}`);throw t}class Rl{static emptySet(e){return new Rl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ve.comparator(n.key,i.key):(n,i)=>Ve.comparator(n.key,i.key),this.keyedMap=mu(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Rl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class LS{constructor(){this.ga=new Nt(Ve.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Be(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Ol{constructor(e,n,i,a,l,c,h,f,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Ol(e,n,Rl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class z5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class B5{constructor(){this.queries=US(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Ge(n),l=a.queries;a.queries=US(),l.forEach(((c,h)=>{for(const f of h.ba)f.onError(i)}))})(this,new Te(he.ABORTED,"Firestore shutting down"))}}function US(){return new So((t=>qR(t)),Sm)}async function P0(t,e){const n=Ge(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new z5,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=N0(c,`Initialization of query '${gl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&V0(n)}async function O0(t,e){const n=Ge(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function q5(t,e){const n=Ge(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(i=!0);c.wa=a}}i&&V0(n)}function H5(t,e,n){const i=Ge(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function V0(t){t.Ca.forEach((e=>{e.next()}))}var cv,jS;(jS=cv||(cv={})).Ma="default",jS.Cache="cache";class L0{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Ol(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cv.Cache}}class SI{constructor(e){this.key=e}}class AI{constructor(e){this.key=e}}class G5{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=it(),this.mutatedKeys=it(),this.eu=HR(e),this.tu=new Rl(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new LS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const b=a.get(y),I=Am(this.query,v)?v:null,N=!!b&&this.mutatedKeys.has(b.key),P=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let z=!1;b&&I?b.data.isEqual(I.data)?N!==P&&(i.track({type:3,doc:I}),z=!0):this.su(b,I)||(i.track({type:2,doc:I}),z=!0,(f&&this.eu(I,f)>0||p&&this.eu(I,p)<0)&&(h=!0)):!b&&I?(i.track({type:0,doc:I}),z=!0):b&&!I&&(i.track({type:1,doc:b}),z=!0,(f||p)&&(h=!0)),z&&(I?(c=c.add(I),l=P?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,v)=>(function(I,N){const P=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:z})}};return P(I)-P(N)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,p=f!==this.Xa;return this.Xa=f,c.length!==0||p?{snapshot:new Ol(this.query,e.tu,l,c,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=it(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new AI(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new SI(i))})),n}cu(e){this.Za=e.ks,this.Ya=it();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const U0="SyncEngine";class $5{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class K5{constructor(e){this.key=e,this.hu=!1}}class Y5{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new So((h=>qR(h)),Sm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Nt(Ve.comparator),this.Au=new Map,this.Vu=new S0,this.du={},this.mu=new Map,this.fu=Pl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function W5(t,e,n=!0){const i=kI(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await CI(i,e,n,!0),a}async function Q5(t,e){const n=kI(t);await CI(n,e,!0,!1)}async function CI(t,e,n,i){const a=await p5(t.localStore,As(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await X5(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&vI(t.remoteStore,a),h}async function X5(t,e,n,i,a){t.pu=(v,b,I)=>(async function(P,z,j,L){let U=z.view.ru(j);U.Ss&&(U=await kS(P.localStore,z.query,!1).then((({documents:S})=>z.view.ru(S,U))));const ce=L&&L.targetChanges.get(z.targetId),F=L&&L.targetMismatches.get(z.targetId)!=null,X=z.view.applyChanges(U,P.isPrimaryClient,ce,F);return zS(P,z.targetId,X.au),X.snapshot})(t,v,b,I);const l=await kS(t.localStore,e,!0),c=new G5(e,l.ks),h=c.ru(l.documents),f=nh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=c.applyChanges(h,t.isPrimaryClient,f);zS(t,n,p.au);const y=new $5(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function J5(t,e,n){const i=Ge(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Sm(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ov(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&I0(i.remoteStore,a.targetId),uv(i,a.targetId)})).catch(Gl)):(uv(i,a.targetId),await ov(i.localStore,a.targetId,!0))}async function Z5(t,e){const n=Ge(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),I0(n.remoteStore,i.targetId))}async function e6(t,e,n){const i=o6(t);try{const a=await(function(c,h){const f=Ge(c),p=Ct.now(),y=h.reduce(((I,N)=>I.add(N.key)),it());let v,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let N=or(),P=it();return f.xs.getEntries(I,y).next((z=>{N=z,N.forEach(((j,L)=>{L.isValidDocument()||(P=P.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(I,N))).next((z=>{v=z;const j=[];for(const L of h){const U=m3(L,v.get(L.key).overlayedDocument);U!=null&&j.push(new _a(L.key,U,OR(U.value.mapValue),Ii.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,j,h)})).next((z=>{b=z;const j=z.applyToLocalDocumentSet(v,P);return f.documentOverlayCache.saveOverlays(I,z.batchId,j)}))})).then((()=>({batchId:b.batchId,changes:$R(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let p=c.du[c.currentUser.toKey()];p||(p=new Nt(nt)),p=p.insert(h,f),c.du[c.currentUser.toKey()]=p})(i,a.batchId,n),await sh(i,a.changes),await km(i.remoteStore)}catch(a){const l=N0(a,"Failed to persist write");n.reject(l)}}async function RI(t,e){const n=Ge(t);try{const i=await f5(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ft(c.hu,14607):a.removedDocuments.size>0&&(ft(c.hu,42227),c.hu=!1))})),await sh(n,i,e)}catch(i){await Gl(i)}}function FS(t,e,n){const i=Ge(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=Ge(c);f.onlineState=h;let p=!1;f.queries.forEach(((y,v)=>{for(const b of v.ba)b.va(h)&&(p=!0)})),p&&V0(f)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function t6(t,e,n){const i=Ge(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new Nt(Ve.comparator);c=c.insert(l,xn.newNoDocument(l,qe.min()));const h=it().add(l),f=new Im(qe.min(),new Map,new Nt(nt),c,h);await RI(i,f),i.Ru=i.Ru.remove(l),i.Au.delete(e),j0(i)}else await ov(i.localStore,e,!1).then((()=>uv(i,e,n))).catch(Gl)}async function n6(t,e){const n=Ge(t),i=e.batch.batchId;try{const a=await h5(n.localStore,e);xI(n,i,null),II(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await sh(n,a)}catch(a){await Gl(a)}}async function i6(t,e,n){const i=Ge(t);try{const a=await(function(c,h){const f=Ge(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next((v=>(ft(v!==null,37113),y=v.keys(),f.mutationQueue.removeMutationBatch(p,v)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>f.localDocuments.getDocuments(p,y)))}))})(i.localStore,e);xI(i,e,n),II(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await sh(i,a)}catch(a){await Gl(a)}}function II(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function xI(t,e,n){const i=Ge(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function uv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||DI(t,i)}))}function DI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(I0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),j0(t))}function zS(t,e,n){for(const i of n)i instanceof SI?(t.Vu.addReference(i.key,e),s6(t,i)):i instanceof AI?(Ae(U0,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||DI(t,i.key)):Be(19791,{wu:i})}function s6(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(Ae(U0,"New document in limbo: "+n),t.Eu.add(i),j0(t))}function j0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ve(Et.fromString(e)),i=t.fu.next();t.Au.set(i,new K5(n)),t.Ru=t.Ru.insert(n,i),vI(t.remoteStore,new ea(As(Em(n.path)),i,"TargetPurposeLimboResolution",bm.ce))}}async function sh(t,e,n){const i=Ge(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(p){a.push(p);const y=C0.Es(f.targetId,p);l.push(y)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(f,p){const y=Ge(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>me.forEach(p,(b=>me.forEach(b.Ts,(I=>y.persistence.referenceDelegate.addReference(v,b.targetId,I))).next((()=>me.forEach(b.Is,(I=>y.persistence.referenceDelegate.removeReference(v,b.targetId,I)))))))))}catch(v){if(!$l(v))throw v;Ae(R0,"Failed to update sequence numbers: "+v)}for(const v of p){const b=v.targetId;if(!v.fromCache){const I=y.vs.get(b),N=I.snapshotVersion,P=I.withLastLimboFreeSnapshotVersion(N);y.vs=y.vs.insert(b,P)}}})(i.localStore,l))}async function r6(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Ae(U0,"User change. New user:",e.toKey());const i=await mI(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((f=>{f.reject(new Te(he.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await sh(n,i.Ns)}}function a6(t,e){const n=Ge(t),i=n.Au.get(e);if(i&&i.hu)return it().add(i.key);{let a=it();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function kI(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t6.bind(null,e),e.Pu.J_=q5.bind(null,e.eventManager),e.Pu.yu=H5.bind(null,e.eventManager),e}function o6(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i6.bind(null,e),e}class Gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return u5(this.persistence,new o5,e.initialUser,this.serializer)}Cu(e){return new dI(A0.Vi,this.serializer)}Du(e){return new y5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gd.provider={build:()=>new Gd};class l6 extends Gd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ft(this.persistence.referenceDelegate instanceof qd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new $3(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new dI((i=>qd.Vi(i,n)),this.serializer)}}class hv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>FS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=r6.bind(null,this.syncEngine),await F5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new B5})()}createDatastore(e){const n=xm(e.databaseInfo.databaseId),i=w5(e.databaseInfo);return R5(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,h){return new x5(i,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>FS(this.syncEngine,n,0)),(function(){return PS.v()?new PS:new v5})())}createSyncEngine(e,n){return(function(a,l,c,h,f,p,y){const v=new Y5(a,l,c,h,f,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ge(n);Ae(yo,"RemoteStore shutting down."),i.Ea.add(5),await ih(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hv.provider={build:()=>new hv};class F0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const da="FirestoreClient";class c6{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=In.UNAUTHENTICATED,this.clientId=d0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{Ae(da,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Ae(da,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=N0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function uy(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(da,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await mI(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function BS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await u6(t);Ae(da,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>VS(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>VS(e.remoteStore,a))),t._onlineComponents=e}async function u6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(da,"Using user provided OfflineComponentProvider");try{await uy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Dl("Error using user provided cache. Falling back to memory cache: "+n),await uy(t,new Gd)}}else Ae(da,"Using default OfflineComponentProvider"),await uy(t,new l6(void 0));return t._offlineComponents}async function MI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(da,"Using user provided OnlineComponentProvider"),await BS(t,t._uninitializedComponentsProvider._online)):(Ae(da,"Using default OnlineComponentProvider"),await BS(t,new hv))),t._onlineComponents}function h6(t){return MI(t).then((e=>e.syncEngine))}async function $d(t){const e=await MI(t),n=e.eventManager;return n.onListen=W5.bind(null,e.syncEngine),n.onUnlisten=J5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Q5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Z5.bind(null,e.syncEngine),n}function f6(t,e,n,i){const a=new F0(i),l=new L0(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>P0(await $d(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>O0(await $d(t),l)))}}function d6(t,e,n={}){const i=new tr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,p){const y=new F0({next:b=>{y.Nu(),c.enqueueAndForget((()=>O0(l,v)));const I=b.docs.has(h);!I&&b.fromCache?p.reject(new Te(he.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&b.fromCache&&f&&f.source==="server"?p.reject(new Te(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),v=new L0(Em(h.path),y,{includeMetadataChanges:!0,Ka:!0});return P0(l,v)})(await $d(t),t.asyncQueue,e,n,i))),i.promise}function m6(t,e,n={}){const i=new tr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,p){const y=new F0({next:b=>{y.Nu(),c.enqueueAndForget((()=>O0(l,v))),b.fromCache&&f.source==="server"?p.reject(new Te(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),v=new L0(h,y,{includeMetadataChanges:!0,Ka:!0});return P0(l,v)})(await $d(t),t.asyncQueue,e,n,i))),i.promise}function p6(t,e){const n=new tr;return t.asyncQueue.enqueueAndForget((async()=>e6(await h6(t),e,n))),n.promise}function NI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const g6="ComponentProvider",qS=new Map;function y6(t,e,n,i,a){return new O4(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,NI(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const PI="firestore.googleapis.com",HS=!0;class GS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PI,this.ssl=HS}else this.host=e.host,this.ssl=e.ssl??HS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<H3)throw new Te(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NI(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new d4;switch(i.type){case"firstParty":return new y4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Te(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=qS.get(n);i&&(Ae(g6,"Removing Datastore"),qS.delete(n),i.terminate())})(this),Promise.resolve()}}function v6(t,e,n,i={}){t=Qn(t,Mm);const a=ga(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(Jv(`https://${h}`),Zv("Firestore",!0)),l.host!==PI&&l.host!==h&&Dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:h,ssl:a,emulatorOptions:i};if(!aa(f,c)&&(t._setSettings(f),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=In.MOCK_USER;else{p=bP(i.mockUserToken,t._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Te(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new In(v)}t._authCredentials=new m4(new ER(p,y))}}class fr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new fr(this.firestore,e,this._query)}}class Ut{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(eh(n,Ut._jsonSchema))return new Ut(e,i||null,new Ve(Et.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:sn("string",Ut._jsonSchemaVersion),referencePath:sn("string")};class ra extends fr{constructor(e,n,i){super(e,n,Em(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new Ve(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function dd(t,e,...n){if(t=at(t),SR("collection","path",e),t instanceof Mm){const i=Et.fromString(e,...n);return sS(i),new ra(t,null,i)}{if(!(t instanceof Ut||t instanceof ra))throw new Te(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Et.fromString(e,...n));return sS(i),new ra(t.firestore,null,i)}}function Es(t,e,...n){if(t=at(t),arguments.length===1&&(e=d0.newId()),SR("doc","path",e),t instanceof Mm){const i=Et.fromString(e,...n);return iS(i),new Ut(t,null,new Ve(i))}{if(!(t instanceof Ut||t instanceof ra))throw new Te(he.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Et.fromString(e,...n));return iS(i),new Ut(t.firestore,t instanceof ra?t.converter:null,new Ve(i))}}const $S="AsyncQueue";class KS{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gI(this,"async_queue_retry"),this._c=()=>{const i=cy();i&&Ae($S,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=cy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!$l(e))throw e;Ae($S,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,ar("INTERNAL UNHANDLED ERROR: ",YS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=M0.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Be(47125,{Pc:YS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function YS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class lr extends Mm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new KS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KS(e),this._firestoreClient=void 0,await e}}}function _6(t,e){const n=typeof t=="object"?t:pm(),i=typeof t=="string"?t:Ld,a=Eo(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=EC("firestore");l&&v6(a,...l)}return a}function Nm(t){if(t._terminated)throw new Te(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||b6(t),t._firestoreClient}function b6(t){const e=t._freezeSettings(),n=y6(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new c6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ci(Sn.fromBase64String(e))}catch(n){throw new Te(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ci(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eh(e,Ci._jsonSchema))return Ci.fromBase64String(e.bytes)}}Ci._jsonSchemaVersion="firestore/bytes/1.0",Ci._jsonSchema={type:sn("string",Ci._jsonSchemaVersion),bytes:sn("string")};class z0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pm{constructor(e){this._methodName=e}}class Rs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rs._jsonSchemaVersion}}static fromJSON(e){if(eh(e,Rs._jsonSchema))return new Rs(e.latitude,e.longitude)}}Rs._jsonSchemaVersion="firestore/geoPoint/1.0",Rs._jsonSchema={type:sn("string",Rs._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};class Xi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eh(e,Xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Xi(e.vectorValues);throw new Te(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:sn("string",Xi._jsonSchemaVersion),vectorValues:sn("object")};const T6=/^__.*__$/;class w6{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,n,this.fieldTransforms):new th(e,this.data,n,this.fieldTransforms)}}class OI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new _a(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{dataSource:t})}}class B0{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new B0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Kd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(VI(this.dataSource)&&T6.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class E6{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||xm(e)}createContext(e,n,i,a=!1){return new B0({dataSource:e,methodName:n,targetDoc:i,path:En.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Om(t){const e=t._freezeSettings(),n=xm(t._databaseId);return new E6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LI(t,e,n,i,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);H0("Data must be an object, but it was:",c,i);const h=UI(i,c);let f,p;if(l.merge)f=new oi(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const b=vo(e,v,n);if(!c.contains(b))throw new Te(he.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);zI(y,b)||y.push(b)}f=new oi(y),p=c.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,p=c.fieldTransforms;return new w6(new Yn(h),f,p)}class Vm extends Pm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vm}}class q0 extends Pm{_toFieldTransform(e){return new u3(e.path,new Uu)}isEqual(e){return e instanceof q0}}function S6(t,e,n,i){const a=t.createContext(1,e,n);H0("Data must be an object, but it was:",a,i);const l=[],c=Yn.empty();va(i,((f,p)=>{const y=FI(e,f,n);p=at(p);const v=a.childContextForFieldPath(y);if(p instanceof Vm)l.push(y);else{const b=rh(p,v);b!=null&&(l.push(y),c.set(y,b))}}));const h=new oi(l);return new OI(c,h,a.fieldTransforms)}function A6(t,e,n,i,a,l){const c=t.createContext(1,e,n),h=[vo(e,i,n)],f=[a];if(l.length%2!=0)throw new Te(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)h.push(vo(e,l[b])),f.push(l[b+1]);const p=[],y=Yn.empty();for(let b=h.length-1;b>=0;--b)if(!zI(p,h[b])){const I=h[b];let N=f[b];N=at(N);const P=c.childContextForFieldPath(I);if(N instanceof Vm)p.push(I);else{const z=rh(N,P);z!=null&&(p.push(I),y.set(I,z))}}const v=new oi(p);return new OI(y,v,c.fieldTransforms)}function C6(t,e,n,i=!1){return rh(n,t.createContext(i?4:3,e))}function rh(t,e){if(jI(t=at(t)))return H0("Unsupported field value:",e,t),UI(t,e);if(t instanceof Pm)return(function(i,a){if(!VI(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const h of i){let f=rh(h,a.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=at(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return o3(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ct.fromDate(i);return{timestampValue:Bd(a.serializer,l)}}if(i instanceof Ct){const l=new Ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Bd(a.serializer,l)}}if(i instanceof Rs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ci)return{bytesValue:sI(a.serializer,i._byteString)};if(i instanceof Ut){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:E0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Xi)return(function(c,h){const f=c instanceof Xi?c.toArray():c;return{mapValue:{fields:{[NR]:{stringValue:PR},[Ud]:{arrayValue:{values:f.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return _0(h.serializer,y)}))}}}}}})(i,a);if(hI(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${_m(i)}`)})(t,e)}function UI(t,e){const n={};return RR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(t,((i,a)=>{const l=rh(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function jI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Rs||t instanceof Ci||t instanceof Ut||t instanceof Pm||t instanceof Xi||hI(t))}function H0(t,e,n){if(!jI(n)||!AR(n)){const i=_m(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function vo(t,e,n){if((e=at(e))instanceof z0)return e._internalPath;if(typeof e=="string")return FI(t,e);throw Kd("Field path arguments must be of type string or ",t,!1,void 0,n)}const R6=new RegExp("[~\\*/\\[\\]]");function FI(t,e,n){if(e.search(R6)>=0)throw Kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new z0(...e.split("."))._internalPath}catch{throw Kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kd(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new Te(he.INVALID_ARGUMENT,h+t+f)}function zI(t,e){return t.some((n=>n.isEqual(e)))}class I6{convertValue(e,n="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return va(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[Ud].arrayValue?.values?.map((i=>qt(i.doubleValue)));return new Xi(n)}convertGeoPoint(e){return new Rs(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=wm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){const n=ca(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Et.fromString(e);ft(uI(i),9688,{name:e});const a=new Ou(i.get(1),i.get(3)),l=new Ve(i.popFirst(5));return a.isEqual(n)||ar(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class G0 extends I6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ci(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function md(){return new q0("serverTimestamp")}const WS="@firebase/firestore",QS="4.10.0";function XS(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class BI{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(vo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class x6 extends BI{data(){return super.data()}}function qI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $0{}class K0 extends $0{}function fv(t,e,...n){let i=[];e instanceof $0&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((f=>f instanceof Y0)).length,h=l.filter((f=>f instanceof Lm)).length;if(c>1||c>0&&h>0)throw new Te(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Lm extends K0{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Lm(e,n,i)}_apply(e){const n=this._parse(e);return HI(e._query,n),new fr(e.firestore,e.converter,nv(e._query,n))}_parse(e){const n=Om(e.firestore);return(function(l,c,h,f,p,y,v){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Te(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){ZS(v,y);const N=[];for(const P of v)N.push(JS(f,l,P));b={arrayValue:{values:N}}}else b=JS(f,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||ZS(v,y),b=C6(h,c,v,y==="in"||y==="not-in");return nn.create(p,y,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dv(t,e,n){const i=e,a=vo("where",t);return Lm._create(a,i,n)}class Y0 extends $0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Y0(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ji.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const f of h)HI(c,f),c=nv(c,f)})(e._query,n),new fr(e.firestore,e.converter,nv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class W0 extends K0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new W0(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new Te(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Te(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lu(l,c)})(e._query,this._field,this._direction);return new fr(e.firestore,e.converter,Z4(e._query,n))}}function _o(t,e="asc"){const n=e,i=vo("orderBy",t);return W0._create(i,n)}class Q0 extends K0{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Q0(e,n,i)}_apply(e){return new fr(e.firestore,e.converter,Fd(e._query,this._limit,this._limitType))}}function Vl(t){return S4("limit",t),Q0._create("limit",t,"F")}function JS(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new Te(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BR(e)&&n.indexOf("/")!==-1)throw new Te(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Et.fromString(n));if(!Ve.isDocumentKey(i))throw new Te(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return fS(t,new Ve(i))}if(n instanceof Ut)return fS(t,n._key);throw new Te(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(n)}.`)}function ZS(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HI(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Te(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function GI(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class gu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends BI{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(vo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:sn("string",lo._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class pd extends lo{data(e={}){return super.data(e)}}class co{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new gu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new pd(this._firestore,this._userDataWriter,i.key,i,new gu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new pd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new gu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const f=new pd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new gu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:D6(h.type),doc:f,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=d0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function D6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:sn("string",co._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};function X0(t){t=Qn(t,Ut);const e=Qn(t.firestore,lr),n=Nm(e);return d6(n,t._key).then((i=>YI(e,t,i)))}function $I(t){t=Qn(t,fr);const e=Qn(t.firestore,lr),n=Nm(e),i=new G0(e);return qI(t._query),m6(n,t._query).then((a=>new co(e,i,t,a)))}function Yd(t,e,n){t=Qn(t,Ut);const i=Qn(t.firestore,lr),a=GI(t.converter,e,n),l=Om(i);return Um(i,[LI(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ii.none())])}function KI(t,e,n,...i){t=Qn(t,Ut);const a=Qn(t.firestore,lr),l=Om(a);let c;return c=typeof(e=at(e))=="string"||e instanceof z0?A6(l,"updateDoc",t._key,e,n,i):S6(l,"updateDoc",t._key,e),Um(a,[c.toMutation(t._key,Ii.exists(!0))])}function k6(t){return Um(Qn(t.firestore,lr),[new b0(t._key,Ii.none())])}function M6(t,e){const n=Qn(t.firestore,lr),i=Es(t),a=GI(t.converter,e),l=Om(t.firestore);return Um(n,[LI(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Ii.exists(!1))]).then((()=>i))}function Wd(t,...e){t=at(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||XS(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(XS(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,c,h;if(t instanceof Ut)c=Qn(t.firestore,lr),h=Em(t._key.path),l={next:p=>{e[i]&&e[i](YI(c,t,p))},error:e[i+1],complete:e[i+2]};else{const p=Qn(t,fr);c=Qn(p.firestore,lr),h=p._query;const y=new G0(c);l={next:v=>{e[i]&&e[i](new co(c,y,p,v))},error:e[i+1],complete:e[i+2]},qI(t._query)}const f=Nm(c);return f6(f,h,a,l)}function Um(t,e){const n=Nm(t);return p6(n,e)}function YI(t,e,n){const i=n.docs.get(e._key),a=new G0(t);return new lo(t,a,e._key,i,new gu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){f4(oa),ki(new ci("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new lr(new p4(i.getProvider("auth-internal")),new v4(c,i.getProvider("app-check-internal")),V4(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),kn(WS,QS,e),kn(WS,QS,"esm2020")})();const WI="@firebase/installations",J0="0.6.19";const QI=1e4,XI=`w:${J0}`,JI="FIS_v2",N6="https://firebaseinstallations.googleapis.com/v1",P6=3600*1e3,O6="installations",V6="Installations";const L6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bo=new ya(O6,V6,L6);function ZI(t){return t instanceof Xn&&t.code.includes("request-failed")}function ex({projectId:t}){return`${N6}/projects/${t}/installations`}function tx(t){return{token:t.token,requestStatus:2,expiresIn:j6(t.expiresIn),creationTime:Date.now()}}async function nx(t,e){const i=(await e.json()).error;return bo.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function ix({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function U6(t,{refreshToken:e}){const n=ix(t);return n.append("Authorization",F6(e)),n}async function sx(t){const e=await t();return e.status>=500&&e.status<600?t():e}function j6(t){return Number(t.replace("s","000"))}function F6(t){return`${JI} ${t}`}async function z6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=ex(t),a=ix(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={fid:n,authVersion:JI,appId:t.appId,sdkVersion:XI},h={method:"POST",headers:a,body:JSON.stringify(c)},f=await sx(()=>fetch(i,h));if(f.ok){const p=await f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:tx(p.authToken)}}else throw await nx("Create Installation",f)}function rx(t){return new Promise(e=>{setTimeout(e,t)})}function B6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const q6=/^[cdef][\w-]{21}$/,mv="";function H6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=G6(t);return q6.test(n)?n:mv}catch{return mv}}function G6(t){return B6(t).substr(0,22)}function jm(t){return`${t.appName}!${t.appId}`}const ax=new Map;function ox(t,e){const n=jm(t);lx(n,e),$6(n,e)}function lx(t,e){const n=ax.get(t);if(n)for(const i of n)i(e)}function $6(t,e){const n=K6();n&&n.postMessage({key:t,fid:e}),Y6()}let ro=null;function K6(){return!ro&&"BroadcastChannel"in self&&(ro=new BroadcastChannel("[Firebase] FID Change"),ro.onmessage=t=>{lx(t.data.key,t.data.fid)}),ro}function Y6(){ax.size===0&&ro&&(ro.close(),ro=null)}const W6="firebase-installations-database",Q6=1,To="firebase-installations-store";let hy=null;function Z0(){return hy||(hy=DC(W6,Q6,{upgrade:(t,e)=>{e===0&&t.createObjectStore(To)}})),hy}async function Qd(t,e){const n=jm(t),a=(await Z0()).transaction(To,"readwrite"),l=a.objectStore(To),c=await l.get(n);return await l.put(e,n),await a.done,(!c||c.fid!==e.fid)&&ox(t,e.fid),e}async function cx(t){const e=jm(t),i=(await Z0()).transaction(To,"readwrite");await i.objectStore(To).delete(e),await i.done}async function Fm(t,e){const n=jm(t),a=(await Z0()).transaction(To,"readwrite"),l=a.objectStore(To),c=await l.get(n),h=e(c);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!c||c.fid!==h.fid)&&ox(t,h.fid),h}async function e_(t){let e;const n=await Fm(t.appConfig,i=>{const a=X6(i),l=J6(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===mv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function X6(t){const e=t||{fid:H6(),registrationStatus:0};return ux(e)}function J6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(bo.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Z6(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:eU(t)}:{installationEntry:e}}async function Z6(t,e){try{const n=await z6(t,e);return Qd(t.appConfig,n)}catch(n){throw ZI(n)&&n.customData.serverCode===409?await cx(t.appConfig):await Qd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function eU(t){let e=await e1(t.appConfig);for(;e.registrationStatus===1;)await rx(100),e=await e1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await e_(t);return i||n}return e}function e1(t){return Fm(t,e=>{if(!e)throw bo.create("installation-not-found");return ux(e)})}function ux(t){return tU(t)?{fid:t.fid,registrationStatus:0}:t}function tU(t){return t.registrationStatus===1&&t.registrationTime+QI<Date.now()}async function nU({appConfig:t,heartbeatServiceProvider:e},n){const i=iU(t,n),a=U6(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={installation:{sdkVersion:XI,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(c)},f=await sx(()=>fetch(i,h));if(f.ok){const p=await f.json();return tx(p)}else throw await nx("Generate Auth Token",f)}function iU(t,{fid:e}){return`${ex(t)}/${e}/authTokens:generate`}async function t_(t,e=!1){let n;const i=await Fm(t.appConfig,l=>{if(!hx(l))throw bo.create("not-registered");const c=l.authToken;if(!e&&aU(c))return l;if(c.requestStatus===1)return n=sU(t,e),l;{if(!navigator.onLine)throw bo.create("app-offline");const h=lU(l);return n=rU(t,h),h}});return n?await n:i.authToken}async function sU(t,e){let n=await t1(t.appConfig);for(;n.authToken.requestStatus===1;)await rx(100),n=await t1(t.appConfig);const i=n.authToken;return i.requestStatus===0?t_(t,e):i}function t1(t){return Fm(t,e=>{if(!hx(e))throw bo.create("not-registered");const n=e.authToken;return cU(n)?{...e,authToken:{requestStatus:0}}:e})}async function rU(t,e){try{const n=await nU(t,e),i={...e,authToken:n};return await Qd(t.appConfig,i),n}catch(n){if(ZI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await cx(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await Qd(t.appConfig,i)}throw n}}function hx(t){return t!==void 0&&t.registrationStatus===2}function aU(t){return t.requestStatus===2&&!oU(t)}function oU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+P6}function lU(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function cU(t){return t.requestStatus===1&&t.requestTime+QI<Date.now()}async function uU(t){const e=t,{installationEntry:n,registrationPromise:i}=await e_(e);return i?i.catch(console.error):t_(e).catch(console.error),n.fid}async function hU(t,e=!1){const n=t;return await fU(n),(await t_(n,e)).token}async function fU(t){const{registrationPromise:e}=await e_(t);e&&await e}function dU(t){if(!t||!t.options)throw fy("App Configuration");if(!t.name)throw fy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw fy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function fy(t){return bo.create("missing-app-config-values",{valueName:t})}const fx="installations",mU="installations-internal",pU=t=>{const e=t.getProvider("app").getImmediate(),n=dU(e),i=Eo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},gU=t=>{const e=t.getProvider("app").getImmediate(),n=Eo(e,fx).getImmediate();return{getId:()=>uU(n),getToken:a=>hU(n,a)}};function yU(){ki(new ci(fx,pU,"PUBLIC")),ki(new ci(mU,gU,"PRIVATE"))}yU();kn(WI,J0);kn(WI,J0,"esm2020");const dy="@firebase/remote-config",n1="0.8.0";class dx{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}const mx="remote-config",i1=100;const vU={"already-initialized":"Remote Config already initialized","registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser","custom-signal-max-allowed-signals":"Setting more than {$maxSignals} custom signals is not supported.","stream-error":"The stream was not able to connect to the backend: {$originalErrorMessage}.","realtime-unavailable":"The Realtime service is unavailable: {$originalErrorMessage}","update-message-invalid":"The stream invalidation message was unparsable: {$originalErrorMessage}","update-not-fetched":"Unable to fetch the latest config: {$originalErrorMessage}","analytics-unavailable":"Connection to Firebase Analytics failed: {$originalErrorMessage}"},Ht=new ya("remoteconfig","Remote Config",vU);function _U(t,e){return t instanceof Xn&&t.code.indexOf(e)!==-1}class bU{constructor(e){this.storage=e._storage,this.logger=e._logger,this.analyticsProvider=e._analyticsProvider}async updateActiveExperiments(e){const n=await this.storage.getActiveExperiments()||new Set,i=this.createExperimentInfoMap(e);return this.addActiveExperiments(i),this.removeInactiveExperiments(n,i),this.storage.setActiveExperiments(new Set(i.keys()))}createExperimentInfoMap(e){const n=new Map;for(const i of e)n.set(i.experimentId,i);return n}addActiveExperiments(e){const n={};for(const[i,a]of e.entries())n[`firebase${i}`]=a.variantId;this.addExperimentToAnalytics(n)}removeInactiveExperiments(e,n){const i={};for(const a of e)n.has(a)||(i[`firebase${a}`]=null);this.addExperimentToAnalytics(i)}addExperimentToAnalytics(e){if(Object.keys(e).length!==0)try{const n=this.analyticsProvider.getImmediate({optional:!0});n?(n.setUserProperties(e),n.logEvent("set_firebase_experiment_state")):this.logger.warn("Analytics import failed. Verify if you have imported Firebase Analytics in your app code.")}catch(n){throw Ht.create("analytics-unavailable",{originalErrorMessage:n?.message})}}}function TU(t=pm(),e={}){t=at(t);const n=Eo(t,mx);if(n.isInitialized()){const a=n.getOptions();if(aa(a,e))return n.getImmediate();throw Ht.create("already-initialized")}n.initialize({options:e});const i=n.getImmediate();return e.initialFetchResponse&&(i._initializePromise=Promise.all([i._storage.setLastSuccessfulFetchResponse(e.initialFetchResponse),i._storage.setActiveConfigEtag(e.initialFetchResponse?.eTag||""),i._storage.setActiveConfigTemplateVersion(e.initialFetchResponse.templateVersion||0),i._storageCache.setLastSuccessfulFetchTimestampMillis(Date.now()),i._storageCache.setLastFetchStatus("success"),i._storageCache.setActiveConfig(e.initialFetchResponse?.config||{})]).then(),i._isInitializationComplete=!0),i}async function wU(t){const e=at(t),[n,i]=await Promise.all([e._storage.getLastSuccessfulFetchResponse(),e._storage.getActiveConfigEtag()]);if(!n||!n.config||!n.eTag||!n.templateVersion||n.eTag===i)return!1;const a=new bU(e),l=n.experiments?a.updateActiveExperiments(n.experiments):Promise.resolve();return await Promise.all([e._storageCache.setActiveConfig(n.config),e._storage.setActiveConfigEtag(n.eTag),e._storage.setActiveConfigTemplateVersion(n.templateVersion),l]),!0}function EU(t){const e=at(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}async function SU(t){const e=at(t),n=new dx;setTimeout(async()=>{n.abort()},e.settings.fetchTimeoutMillis);const i=e._storageCache.getCustomSignals();i&&e._logger.debug(`Fetching config with custom signals: ${JSON.stringify(i)}`);try{await e._client.fetch({cacheMaxAgeMillis:e.settings.minimumFetchIntervalMillis,signal:n,customSignals:i}),await e._storageCache.setLastFetchStatus("success")}catch(a){const l=_U(a,"fetch-throttle")?"throttle":"failure";throw await e._storageCache.setLastFetchStatus(l),a}}class AU{constructor(e,n,i,a){this.client=e,this.storage=n,this.storageCache=i,this.logger=a}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-n,a=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${a}.`),a}async fetch(e){const[n,i]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n))return i;e.eTag=i&&i.eTag;const a=await this.client.fetch(e),l=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return a.status===200&&l.push(this.storage.setLastSuccessfulFetchResponse(a)),await Promise.all(l),a}}function CU(t=navigator){return t.languages&&t.languages[0]||t.language}class RU{constructor(e,n,i,a,l,c){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=i,this.projectId=a,this.apiKey=l,this.appId=c}async fetch(e){const[n,i]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},h={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:i,app_id:this.appId,language_code:CU(),custom_signals:e.customSignals},f={method:"POST",headers:c,body:JSON.stringify(h)},p=fetch(l,f),y=new Promise((L,U)=>{e.signal.addEventListener(()=>{const ce=new Error("The operation was aborted.");ce.name="AbortError",U(ce)})});let v;try{await Promise.race([p,y]),v=await p}catch(L){let U="fetch-client-network";throw L?.name==="AbortError"&&(U="fetch-timeout"),Ht.create(U,{originalErrorMessage:L?.message})}let b=v.status;const I=v.headers.get("ETag")||void 0;let N,P,z,j;if(v.status===200){let L;try{L=await v.json()}catch(U){throw Ht.create("fetch-client-parse",{originalErrorMessage:U?.message})}N=L.entries,P=L.state,z=L.templateVersion,j=L.experimentDescriptions}if(P==="INSTANCE_STATE_UNSPECIFIED"?b=500:P==="NO_CHANGE"?b=304:(P==="NO_TEMPLATE"||P==="EMPTY_CONFIG")&&(N={},j=[]),b!==304&&b!==200)throw Ht.create("fetch-status",{httpStatus:b});return{status:b,eTag:I,config:N,templateVersion:z,experiments:j}}}function IU(t,e){return new Promise((n,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),i(Ht.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xU(t){if(!(t instanceof Xn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class DU{constructor(e,n){this.client=e,this.storage=n}async fetch(e){const n=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,n)}async attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:i}){await IU(e.signal,n);try{const a=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),a}catch(a){if(!xU(a))throw a;const l={throttleEndTimeMillis:Date.now()+Rd(i),backoffCount:i+1};return await this.storage.setThrottleMetadata(l),this.attemptFetch(e,l)}}}const kU=60*1e3,MU=720*60*1e3;class NU{get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}constructor(e,n,i,a,l,c,h){this.app=e,this._client=n,this._storageCache=i,this._storage=a,this._logger=l,this._realtimeHandler=c,this._analyticsProvider=h,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:kU,minimumFetchIntervalMillis:MU},this.defaultConfig={}}}function gd(t,e){const n=t.target.error||void 0;return Ht.create(e,{originalErrorMessage:n&&n?.message})}const Yr="app_namespace_store",PU="firebase_remote_config",OU=1;function VU(){return new Promise((t,e)=>{try{const n=indexedDB.open(PU,OU);n.onerror=i=>{e(gd(i,"storage-open"))},n.onsuccess=i=>{t(i.target.result)},n.onupgradeneeded=i=>{const a=i.target.result;i.oldVersion===0&&a.createObjectStore(Yr,{keyPath:"compositeKey"})}}catch(n){e(Ht.create("storage-open",{originalErrorMessage:n?.message}))}})}class px{getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getActiveExperiments(){return this.get("active_experiments")}setActiveExperiments(e){return this.set("active_experiments",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}getCustomSignals(){return this.get("custom_signals")}getRealtimeBackoffMetadata(){return this.get("realtime_backoff_metadata")}setRealtimeBackoffMetadata(e){return this.set("realtime_backoff_metadata",e)}getActiveConfigTemplateVersion(){return this.get("last_known_template_version")}setActiveConfigTemplateVersion(e){return this.set("last_known_template_version",e)}}class LU extends px{constructor(e,n,i,a=VU()){super(),this.appId=e,this.appName=n,this.namespace=i,this.openDbPromise=a}async setCustomSignals(e){const i=(await this.openDbPromise).transaction([Yr],"readwrite"),a=await this.getWithTransaction("custom_signals",i),l=gx(e,a||{});return await this.setWithTransaction("custom_signals",l,i),l}async getWithTransaction(e,n){return new Promise((i,a)=>{const l=n.objectStore(Yr),c=this.createCompositeKey(e);try{const h=l.get(c);h.onerror=f=>{a(gd(f,"storage-get"))},h.onsuccess=f=>{const p=f.target.result;i(p?p.value:void 0)}}catch(h){a(Ht.create("storage-get",{originalErrorMessage:h?.message}))}})}async setWithTransaction(e,n,i){return new Promise((a,l)=>{const c=i.objectStore(Yr),h=this.createCompositeKey(e);try{const f=c.put({compositeKey:h,value:n});f.onerror=p=>{l(gd(p,"storage-set"))},f.onsuccess=()=>{a()}}catch(f){l(Ht.create("storage-set",{originalErrorMessage:f?.message}))}})}async get(e){const i=(await this.openDbPromise).transaction([Yr],"readonly");return this.getWithTransaction(e,i)}async set(e,n){const a=(await this.openDbPromise).transaction([Yr],"readwrite");return this.setWithTransaction(e,n,a)}async delete(e){const n=await this.openDbPromise;return new Promise((i,a)=>{const c=n.transaction([Yr],"readwrite").objectStore(Yr),h=this.createCompositeKey(e);try{const f=c.delete(h);f.onerror=p=>{a(gd(p,"storage-delete"))},f.onsuccess=()=>{i()}}catch(f){a(Ht.create("storage-delete",{originalErrorMessage:f?.message}))}})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class UU extends px{constructor(){super(...arguments),this.storage={}}async get(e){return Promise.resolve(this.storage[e])}async set(e,n){return this.storage[e]=n,Promise.resolve(void 0)}async delete(e){return this.storage[e]=void 0,Promise.resolve()}async setCustomSignals(e){const n=this.storage.custom_signals||{};return this.storage.custom_signals=gx(e,n),Promise.resolve(this.storage.custom_signals)}}function gx(t,e){const n={...e,...t},i=Object.fromEntries(Object.entries(n).filter(([a,l])=>l!==null).map(([a,l])=>typeof l=="number"?[a,l.toString()]:[a,l]));if(Object.keys(i).length>i1)throw Ht.create("custom-signal-max-allowed-signals",{maxSignals:i1});return i}class jU{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}getCustomSignals(){return this.customSignals}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),i=this.storage.getActiveConfig(),a=this.storage.getCustomSignals(),l=await e;l&&(this.lastFetchStatus=l);const c=await n;c&&(this.lastSuccessfulFetchTimestampMillis=c);const h=await i;h&&(this.activeConfig=h);const f=await a;f&&(this.customSignals=f)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}async setCustomSignals(e){this.customSignals=await this.storage.setCustomSignals(e)}}class FU{constructor(e){this.allowedEvents_=e,this.listeners_={},zy(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const a=this.getInitialEvent(e);a&&n.apply(i,a)}off(e,n,i){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let l=0;l<a.length;l++)if(a[l].callback===n&&(!i||i===a[l].context)){a.splice(l,1);return}}validateEventType_(e){zy(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class n_ extends FU{static getInstance(){return new n_}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return zy(e==="visible","Unknown event type: "+e),[this.visible_]}}const zU="X-Goog-Api-Key",BU="X-Goog-Firebase-Installations-Auth",my=8,s1=3,r1=-1,a1=0,o1="featureDisabled",l1="retryIntervalSeconds",c1="latestTemplateVersionNumber";class qU{constructor(e,n,i,a,l,c,h,f,p,y){this.firebaseInstallations=e,this.storage=n,this.sdkVersion=i,this.namespace=a,this.projectId=l,this.apiKey=c,this.appId=h,this.logger=f,this.storageCache=p,this.cachingClient=y,this.observers=new Set,this.isConnectionActive=!1,this.isRealtimeDisabled=!1,this.httpRetriesRemaining=my,this.isInBackground=!1,this.decoder=new TextDecoder("utf-8"),this.isClosingConnection=!1,this.propagateError=v=>this.observers.forEach(b=>b.error?.(v)),this.isStatusCodeRetryable=v=>!v||[408,429,502,503,504].includes(v),this.setRetriesRemaining(),n_.getInstance().on("visible",this.onVisibilityChange,this)}async setRetriesRemaining(){const n=(await this.storage.getRealtimeBackoffMetadata())?.numFailedStreams||0;this.httpRetriesRemaining=Math.max(my-n,1)}async updateBackoffMetadataWithLastFailedStreamConnectionTime(e){const n=((await this.storage.getRealtimeBackoffMetadata())?.numFailedStreams||0)+1,i=Rd(n,6e4,2);await this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:new Date(e.getTime()+i),numFailedStreams:n})}async updateBackoffMetadataWithRetryInterval(e){const n=Date.now(),i=e*1e3,a=new Date(n+i);await this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:a,numFailedStreams:0}),await this.retryHttpConnectionWhenBackoffEnds()}async closeRealtimeHttpConnection(){if(!this.isClosingConnection){this.isClosingConnection=!0;try{this.reader&&await this.reader.cancel()}catch{this.logger.debug("Failed to cancel the reader, connection was lost.")}finally{this.reader=void 0}this.controller&&(await this.controller.abort(),this.controller=void 0),this.isClosingConnection=!1}}async resetRealtimeBackoff(){await this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:new Date(-1),numFailedStreams:0})}resetRetryCount(){this.httpRetriesRemaining=my}async establishRealtimeConnection(e,n,i,a){const l=await this.storage.getActiveConfigEtag(),c=await this.storage.getActiveConfigTemplateVersion(),h={[zU]:this.apiKey,[BU]:i,"Content-Type":"application/json",Accept:"application/json","If-None-Match":l||"*","Content-Encoding":"gzip"},f={project:this.projectId,namespace:this.namespace,lastKnownVersionNumber:c,appId:this.appId,sdkVersion:this.sdkVersion,appInstanceId:n};return await fetch(e,{method:"POST",headers:h,body:JSON.stringify(f),signal:a})}getRealtimeUrl(){const n=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfigrealtime.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:streamFetchInvalidations?key=${this.apiKey}`;return new URL(n)}async createRealtimeConnection(){const[e,n]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken(!1)]);this.controller=new AbortController;const i=this.getRealtimeUrl();return await this.establishRealtimeConnection(i,e,n,this.controller.signal)}async retryHttpConnectionWhenBackoffEnds(){let e=await this.storage.getRealtimeBackoffMetadata();e||(e={backoffEndTimeMillis:new Date(r1),numFailedStreams:a1});const n=new Date(e.backoffEndTimeMillis).getTime(),i=Date.now(),a=Math.max(0,n-i);await this.makeRealtimeHttpConnection(a)}setIsHttpConnectionRunning(e){this.isConnectionActive=e}checkAndSetHttpConnectionFlagIfNotRunning(){const e=this.canEstablishStreamConnection();return e&&this.setIsHttpConnectionRunning(!0),e}fetchResponseIsUpToDate(e,n){return e.config!=null&&e.templateVersion?e.templateVersion>=n:this.storageCache.getLastFetchStatus()==="success"}parseAndValidateConfigUpdateMessage(e){const n=e.indexOf("{"),i=e.indexOf("}",n);return n<0||i<0||n>=i?"":e.substring(n,i+1)}isEventListenersEmpty(){return this.observers.size===0}getRandomInt(e){return Math.floor(Math.random()*e)}executeAllListenerCallbacks(e){this.observers.forEach(n=>n.next(e))}getChangedParams(e,n){const i=new Set,a=new Set(Object.keys(e||{})),l=new Set(Object.keys(n||{}));for(const c of a)(!l.has(c)||e[c]!==n[c])&&i.add(c);for(const c of l)a.has(c)||i.add(c);return i}async fetchLatestConfig(e,n){const i=e-1,a=s1-i,l=this.storageCache.getCustomSignals();l&&this.logger.debug(`Fetching config with custom signals: ${JSON.stringify(l)}`);const c=new dx;try{const h={cacheMaxAgeMillis:0,signal:c,customSignals:l,fetchType:"REALTIME",fetchAttempt:a},f=await this.cachingClient.fetch(h);let p=await this.storage.getActiveConfig();if(!this.fetchResponseIsUpToDate(f,n)){this.logger.debug("Fetched template version is the same as SDK's current version. Retrying fetch."),await this.autoFetch(i,n);return}if(f.config==null){this.logger.debug("The fetch succeeded, but the backend had no updates.");return}p==null&&(p={});const y=this.getChangedParams(f.config,p);if(y.size===0){this.logger.debug("Config was fetched, but no params changed.");return}const v={getUpdatedKeys(){return new Set(y)}};this.executeAllListenerCallbacks(v)}catch(h){const f=h instanceof Error?h.message:String(h),p=Ht.create("update-not-fetched",{originalErrorMessage:`Failed to auto-fetch config update: ${f}`});this.propagateError(p)}}async autoFetch(e,n){if(e===0){const l=Ht.create("update-not-fetched",{originalErrorMessage:"Unable to fetch the latest version of the template."});this.propagateError(l);return}const a=this.getRandomInt(4)*1e3;await new Promise(l=>setTimeout(l,a)),await this.fetchLatestConfig(e,n)}async handleNotifications(e){let n,i="";for(;;){const{done:a,value:l}=await e.read();if(a)break;if(n=this.decoder.decode(l,{stream:!0}),i+=n,n.includes("}")){if(i=this.parseAndValidateConfigUpdateMessage(i),i.length===0)continue;try{const c=JSON.parse(i);if(this.isEventListenersEmpty())break;if(o1 in c&&c[o1]===!0){const h=Ht.create("realtime-unavailable",{originalErrorMessage:"The server is temporarily unavailable. Try again in a few minutes."});this.propagateError(h);break}if(c1 in c){const h=await this.storage.getActiveConfigTemplateVersion(),f=Number(c[c1]);h&&f>h&&await this.autoFetch(s1,f)}if(l1 in c){const h=Number(c[l1]);await this.updateBackoffMetadataWithRetryInterval(h)}}catch(c){this.logger.debug("Unable to parse latest config update message.",c);const h=c instanceof Error?c.message:String(c);this.propagateError(Ht.create("update-message-invalid",{originalErrorMessage:h}))}i=""}}}async listenForNotifications(e){try{await this.handleNotifications(e)}catch{this.isInBackground||this.logger.debug("Real-time connection was closed due to an exception.")}}async prepareAndBeginRealtimeHttpStream(){if(!this.checkAndSetHttpConnectionFlagIfNotRunning())return;let e=await this.storage.getRealtimeBackoffMetadata();e||(e={backoffEndTimeMillis:new Date(r1),numFailedStreams:a1});const n=e.backoffEndTimeMillis.getTime();if(Date.now()<n){await this.retryHttpConnectionWhenBackoffEnds();return}let i,a;try{if(i=await this.createRealtimeConnection(),a=i.status,i.ok&&i.body){this.resetRetryCount(),await this.resetRealtimeBackoff();const l=i.body.getReader();this.reader=l,await this.listenForNotifications(l)}}catch(l){this.isInBackground?this.resetRetryCount():this.logger.debug("Exception connecting to real-time RC backend. Retrying the connection...:",l)}finally{await this.closeRealtimeHttpConnection(),this.setIsHttpConnectionRunning(!1);const l=!this.isInBackground&&(a===void 0||this.isStatusCodeRetryable(a));if(l&&await this.updateBackoffMetadataWithLastFailedStreamConnectionTime(new Date),l||i?.ok)await this.retryHttpConnectionWhenBackoffEnds();else{const c=`Unable to connect to the server. HTTP status code: ${a}`,h=Ht.create("stream-error",{originalErrorMessage:c});this.propagateError(h)}}}canEstablishStreamConnection(){const e=this.observers.size>0,n=!this.isRealtimeDisabled,i=!this.isConnectionActive,a=!this.isInBackground;return e&&n&&i&&a}async makeRealtimeHttpConnection(e){if(this.canEstablishStreamConnection()){if(this.httpRetriesRemaining>0)this.httpRetriesRemaining--,await new Promise(n=>setTimeout(n,e)),this.prepareAndBeginRealtimeHttpStream();else if(!this.isInBackground){const n=Ht.create("stream-error",{originalErrorMessage:"Unable to connect to the server. Check your connection and try again."});this.propagateError(n)}}}async beginRealtime(){this.observers.size>0&&await this.makeRealtimeHttpConnection(0)}addObserver(e){this.observers.add(e),this.beginRealtime()}removeObserver(e){this.observers.has(e)&&this.observers.delete(e)}async onVisibilityChange(e){this.isInBackground=!e,e?e&&await this.beginRealtime():await this.closeRealtimeHttpConnection()}}function HU(){ki(new ci(mx,t,"PUBLIC").setMultipleInstances(!0)),kn(dy,n1),kn(dy,n1,"esm2020");function t(e,{options:n}){const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate(),l=e.getProvider("analytics-internal"),{projectId:c,apiKey:h,appId:f}=i.options;if(!c)throw Ht.create("registration-project-id");if(!h)throw Ht.create("registration-api-key");if(!f)throw Ht.create("registration-app-id");const p=n?.templateId||"firebase",y=e0()?new LU(f,i.name,p):new UU,v=new jU(y),b=new Wu(dy);b.logLevel=Ze.ERROR;const I=new RU(a,oa,p,c,h,f),N=new DU(I,y),P=new AU(N,y,v,b),z=new qU(a,y,oa,p,c,h,f,b,v,P),j=new NU(i,P,v,y,b,z,l);return EU(j),j}}async function GU(t){return t=at(t),await SU(t),wU(t)}HU();const $U={apiKey:"AIzaSyAFLf5FxuXFw21D1Kxkq9cPQ59oGPSJbGg",authDomain:"humi-awake.firebaseapp.com",projectId:"humi-awake",storageBucket:"humi-awake.appspot.com",messagingSenderId:"473703878796",appId:"1:473703878796:web:2b612896eace5d6a6eeba9"},ah=kC($U),Xd=u4(ah),dn=_6(ah),yd=TU(ah),kG=Object.freeze(Object.defineProperty({__proto__:null,app:ah,auth:Xd,db:dn,remoteConfig:yd},Symbol.toStringTag,{value:"Module"}));var vd={exports:{}},KU=vd.exports,u1;function YU(){return u1||(u1=1,(function(t){(function(e){function n(F,X){var S=(F&65535)+(X&65535),E=(F>>16)+(X>>16)+(S>>16);return E<<16|S&65535}function i(F,X){return F<<X|F>>>32-X}function a(F,X,S,E,D,O){return n(i(n(n(X,F),n(E,O)),D),S)}function l(F,X,S,E,D,O,V){return a(X&S|~X&E,F,X,D,O,V)}function c(F,X,S,E,D,O,V){return a(X&E|S&~E,F,X,D,O,V)}function h(F,X,S,E,D,O,V){return a(X^S^E,F,X,D,O,V)}function f(F,X,S,E,D,O,V){return a(S^(X|~E),F,X,D,O,V)}function p(F,X){F[X>>5]|=128<<X%32,F[(X+64>>>9<<4)+14]=X;var S,E,D,O,V,k=1732584193,A=-271733879,K=-1732584194,$=271733878;for(S=0;S<F.length;S+=16)E=k,D=A,O=K,V=$,k=l(k,A,K,$,F[S],7,-680876936),$=l($,k,A,K,F[S+1],12,-389564586),K=l(K,$,k,A,F[S+2],17,606105819),A=l(A,K,$,k,F[S+3],22,-1044525330),k=l(k,A,K,$,F[S+4],7,-176418897),$=l($,k,A,K,F[S+5],12,1200080426),K=l(K,$,k,A,F[S+6],17,-1473231341),A=l(A,K,$,k,F[S+7],22,-45705983),k=l(k,A,K,$,F[S+8],7,1770035416),$=l($,k,A,K,F[S+9],12,-1958414417),K=l(K,$,k,A,F[S+10],17,-42063),A=l(A,K,$,k,F[S+11],22,-1990404162),k=l(k,A,K,$,F[S+12],7,1804603682),$=l($,k,A,K,F[S+13],12,-40341101),K=l(K,$,k,A,F[S+14],17,-1502002290),A=l(A,K,$,k,F[S+15],22,1236535329),k=c(k,A,K,$,F[S+1],5,-165796510),$=c($,k,A,K,F[S+6],9,-1069501632),K=c(K,$,k,A,F[S+11],14,643717713),A=c(A,K,$,k,F[S],20,-373897302),k=c(k,A,K,$,F[S+5],5,-701558691),$=c($,k,A,K,F[S+10],9,38016083),K=c(K,$,k,A,F[S+15],14,-660478335),A=c(A,K,$,k,F[S+4],20,-405537848),k=c(k,A,K,$,F[S+9],5,568446438),$=c($,k,A,K,F[S+14],9,-1019803690),K=c(K,$,k,A,F[S+3],14,-187363961),A=c(A,K,$,k,F[S+8],20,1163531501),k=c(k,A,K,$,F[S+13],5,-1444681467),$=c($,k,A,K,F[S+2],9,-51403784),K=c(K,$,k,A,F[S+7],14,1735328473),A=c(A,K,$,k,F[S+12],20,-1926607734),k=h(k,A,K,$,F[S+5],4,-378558),$=h($,k,A,K,F[S+8],11,-2022574463),K=h(K,$,k,A,F[S+11],16,1839030562),A=h(A,K,$,k,F[S+14],23,-35309556),k=h(k,A,K,$,F[S+1],4,-1530992060),$=h($,k,A,K,F[S+4],11,1272893353),K=h(K,$,k,A,F[S+7],16,-155497632),A=h(A,K,$,k,F[S+10],23,-1094730640),k=h(k,A,K,$,F[S+13],4,681279174),$=h($,k,A,K,F[S],11,-358537222),K=h(K,$,k,A,F[S+3],16,-722521979),A=h(A,K,$,k,F[S+6],23,76029189),k=h(k,A,K,$,F[S+9],4,-640364487),$=h($,k,A,K,F[S+12],11,-421815835),K=h(K,$,k,A,F[S+15],16,530742520),A=h(A,K,$,k,F[S+2],23,-995338651),k=f(k,A,K,$,F[S],6,-198630844),$=f($,k,A,K,F[S+7],10,1126891415),K=f(K,$,k,A,F[S+14],15,-1416354905),A=f(A,K,$,k,F[S+5],21,-57434055),k=f(k,A,K,$,F[S+12],6,1700485571),$=f($,k,A,K,F[S+3],10,-1894986606),K=f(K,$,k,A,F[S+10],15,-1051523),A=f(A,K,$,k,F[S+1],21,-2054922799),k=f(k,A,K,$,F[S+8],6,1873313359),$=f($,k,A,K,F[S+15],10,-30611744),K=f(K,$,k,A,F[S+6],15,-1560198380),A=f(A,K,$,k,F[S+13],21,1309151649),k=f(k,A,K,$,F[S+4],6,-145523070),$=f($,k,A,K,F[S+11],10,-1120210379),K=f(K,$,k,A,F[S+2],15,718787259),A=f(A,K,$,k,F[S+9],21,-343485551),k=n(k,E),A=n(A,D),K=n(K,O),$=n($,V);return[k,A,K,$]}function y(F){var X,S="",E=F.length*32;for(X=0;X<E;X+=8)S+=String.fromCharCode(F[X>>5]>>>X%32&255);return S}function v(F){var X,S=[];for(S[(F.length>>2)-1]=void 0,X=0;X<S.length;X+=1)S[X]=0;var E=F.length*8;for(X=0;X<E;X+=8)S[X>>5]|=(F.charCodeAt(X/8)&255)<<X%32;return S}function b(F){return y(p(v(F),F.length*8))}function I(F,X){var S,E=v(F),D=[],O=[],V;for(D[15]=O[15]=void 0,E.length>16&&(E=p(E,F.length*8)),S=0;S<16;S+=1)D[S]=E[S]^909522486,O[S]=E[S]^1549556828;return V=p(D.concat(v(X)),512+X.length*8),y(p(O.concat(V),640))}function N(F){var X="0123456789abcdef",S="",E,D;for(D=0;D<F.length;D+=1)E=F.charCodeAt(D),S+=X.charAt(E>>>4&15)+X.charAt(E&15);return S}function P(F){return unescape(encodeURIComponent(F))}function z(F){return b(P(F))}function j(F){return N(z(F))}function L(F,X){return I(P(F),P(X))}function U(F,X){return N(L(F,X))}function ce(F,X,S){return X?S?L(X,F):U(X,F):S?z(F):j(F)}t.exports?t.exports=ce:e.md5=ce})(KU)})(vd)),vd.exports}var WU=YU();const h1=Bv(WU);const f1="analytics",QU="firebase_id",XU="origin",JU=60*1e3,ZU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",i_="https://www.googletagmanager.com/gtag/js";const Un=new Wu("@firebase/analytics");const e9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xi=new ya("analytics","Analytics",e9);function t9(t){if(!t.startsWith(i_)){const e=xi.create("invalid-gtag-resource",{gtagURL:t});return Un.warn(e.message),""}return t}function yx(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function n9(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function i9(t,e){const n=n9("firebase-js-sdk-policy",{createScriptURL:t9}),i=document.createElement("script"),a=`${i_}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function s9(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function r9(t,e,n,i,a,l){const c=i[a];try{if(c)await e[c];else{const f=(await yx(n)).find(p=>p.measurementId===a);f&&await e[f.appId]}}catch(h){Un.error(h)}t("config",a,l)}async function a9(t,e,n,i,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const h=await yx(n);for(const f of c){const p=h.find(v=>v.measurementId===f),y=p&&e[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",i,a||{})}catch(l){Un.error(l)}}function o9(t,e,n,i){async function a(l,...c){try{if(l==="event"){const[h,f]=c;await a9(t,e,n,h,f)}else if(l==="config"){const[h,f]=c;await r9(t,e,n,i,h,f)}else if(l==="consent"){const[h,f]=c;t("consent",h,f)}else if(l==="get"){const[h,f,p]=c;t("get",h,f,p)}else if(l==="set"){const[h]=c;t("set",h)}else t(l,...c)}catch(h){Un.error(h)}}return a}function l9(t,e,n,i,a){let l=function(...c){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=o9(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function c9(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(i_)&&n.src.includes(t))return n;return null}const u9=30,h9=1e3;class f9{constructor(e={},n=h9){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const vx=new f9;function d9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function m9(t){const{appId:e,apiKey:n}=t,i={method:"GET",headers:d9(n)},a=ZU.replace("{app-id}",e),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let c="";try{const h=await l.json();h.error?.message&&(c=h.error.message)}catch{}throw xi.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function p9(t,e=vx,n){const{appId:i,apiKey:a,measurementId:l}=t.options;if(!i)throw xi.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw xi.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new v9;return setTimeout(async()=>{h.abort()},JU),_x({appId:i,apiKey:a,measurementId:l},c,h,e)}async function _x(t,{throttleEndTimeMillis:e,backoffCount:n},i,a=vx){const{appId:l,measurementId:c}=t;try{await g9(i,e)}catch(h){if(c)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:c};throw h}try{const h=await m9(t);return a.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!y9(f)){if(a.deleteThrottleMetadata(l),c)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:c};throw h}const p=Number(f?.customData?.httpStatus)===503?Rd(n,a.intervalMillis,u9):Rd(n,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,y),Un.debug(`Calling attemptFetch again in ${p} millis`),_x(t,y,i,a)}}function g9(t,e){return new Promise((n,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),i(xi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function y9(t){if(!(t instanceof Xn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class v9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _9(t,e,n,i,a){if(a&&a.global){t("event",n,i);return}else{const l=await e,c={...i,send_to:l};t("event",n,c)}}async function b9(t,e,n,i){if(i&&i.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function T9(){if(e0())try{await RC()}catch(t){return Un.warn(xi.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Un.warn(xi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function w9(t,e,n,i,a,l,c){const h=p9(t);h.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Un.error(b)),e.push(h);const f=T9().then(b=>{if(b)return i.getId()}),[p,y]=await Promise.all([h,f]);c9(l)||i9(l,p.measurementId),a("js",new Date);const v=c?.config??{};return v[XU]="firebase",v.update=!0,y!=null&&(v[QU]=y),a("config",p.measurementId,v),p.measurementId}class E9{constructor(e){this.app=e}_delete(){return delete Il[this.app.options.appId],Promise.resolve()}}let Il={},d1=[];const m1={};let py="dataLayer",S9="gtag",p1,s_,g1=!1;function A9(){const t=[];if(CC()&&t.push("This is a browser extension environment."),xP()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,a)=>`(${a+1}) ${i}`).join(" "),n=xi.create("invalid-analytics-context",{errorInfo:e});Un.warn(n.message)}}function C9(t,e,n){A9();const i=t.options.appId;if(!i)throw xi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xi.create("no-api-key");if(Il[i]!=null)throw xi.create("already-exists",{id:i});if(!g1){s9(py);const{wrappedGtag:l,gtagCore:c}=l9(Il,d1,m1,py,S9);s_=l,p1=c,g1=!0}return Il[i]=w9(t,d1,m1,e,p1,py,n),new E9(t)}function R9(t,e,n){t=at(t),b9(s_,Il[t.app.options.appId],e,n).catch(i=>Un.error(i))}function I9(t,e,n,i){t=at(t),_9(s_,Il[t.app.options.appId],e,n,i).catch(a=>Un.error(a))}const y1="@firebase/analytics",v1="0.10.19";function x9(){ki(new ci(f1,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return C9(i,a,n)},"PUBLIC")),ki(new ci("analytics-internal",t,"PRIVATE")),kn(y1,v1),kn(y1,v1,"esm2020");function t(e){try{const n=e.getProvider(f1).getImmediate();return{logEvent:(i,a,l)=>I9(n,i,a,l),setUserProperties:(i,a)=>R9(n,i,a)}}catch(n){throw xi.create("interop-component-reg-failed",{reason:n})}}}x9();const D9=t=>{},k9=t=>{},MG=(t="email")=>{},NG=(t="email")=>{},bx=C.createContext(),M9=t=>{if(!t)return null;const e=t.displayName||"User",n=t.email||"";`${h1(n.trim().toLowerCase())}`;const i=`https://ui-avatars.com/api/?name=${encodeURIComponent(e)}&background=random&color=fff&bold=true`,a=t.photoURL||`https://www.gravatar.com/avatar/${h1(n.trim().toLowerCase())}?d=${encodeURIComponent(i)}`,l=["bg-red-500","bg-orange-500","bg-amber-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500"];let c=0;for(let f=0;f<e.length;f++)c=e.charCodeAt(f)+((c<<5)-c);const h=l[Math.abs(c)%l.length];return{...t,uid:t.uid,email:n,name:e,avatar:a,initials:e.charAt(0).toUpperCase(),profileColor:h}},N9=({children:t})=>{const[e,n]=C.useState(null),[i,a]=C.useState(!0);C.useEffect(()=>{const f=eL(Xd,p=>{if(p){const y=M9(p),v=Es(dn,"users",p.uid);X0(v).then(b=>{let I="user";b.exists()?I=b.data().role||"user":Yd(v,{uid:p.uid,email:p.email,name:p.displayName||"User",role:"user",createdAt:md()}).catch(N=>console.error("Error creating user doc:",N)),n({...y,role:I}),a(!1),D9(p.uid),k9({user_email:p.email})}).catch(b=>{console.error("Error fetching user role:",b),n(y),a(!1)})}else n(null),a(!1)});return()=>f()},[]);const l=C.useCallback(async()=>{await sR(Xd)},[]),c=C.useCallback(f=>{},[]),h=C.useMemo(()=>({user:e,loading:i,logout:l,dispatch:c,authIsReady:!i,isAdmin:e?.role==="admin"}),[e,i,l,c]);return M.jsx(bx.Provider,{value:h,children:t})},ba=()=>{const t=C.useContext(bx);if(!t)throw new Error("useAuthContext must be used inside an AuthContextProvider");return t},Ce={subscribeToCollection:(t,e,...n)=>{if(!dn)return console.warn("Firestore not initialized"),()=>{};let i=n,a=null;n.length>0&&typeof n[n.length-1]=="function"&&(a=n.pop(),i=n);try{const l=dd(dn,t),c=fv(l,...i);return Wd(c,f=>{const p=f.docs.map(y=>({id:y.id,...y.data()}));e(p)},f=>{a?a(f):console.error(`Error subscribing to ${t}: `,f)})}catch(l){return console.error(`Error setting up subscription for ${t}: `,l),a&&a(l),()=>{}}},subscribeToDocument:(t,e,n)=>{if(!dn)return()=>{};try{const i=Es(dn,t,e);return Wd(i,l=>{l.exists()?n({id:l.id,...l.data()}):n(null)},l=>{console.error(`Error subscribing to ${t}/${e}:`,l)})}catch(i){return console.error(`Error in document subscription ${t}/${e}:`,i),()=>{}}},addItem:async(t,e)=>{const n=dd(dn,t);return await M6(n,e)},setItem:async(t,e,n,i=!0)=>{const a=Es(dn,t,e);return await Yd(a,n,{merge:i})},updateItem:async(t,e,n)=>{const i=Es(dn,t,e);return await KI(i,n)},deleteItem:async(t,e)=>{const n=e?Es(dn,t,e):Es(dn,t);return await k6(n)},getDocument:async(t,e)=>{if(!dn)return null;const n=Es(dn,t,e),i=await X0(n);return i.exists()?{id:i.id,...i.data()}:null},getCollection:async(t,...e)=>{if(!dn)return[];const n=dd(dn,t),i=fv(n,...e);return(await $I(i)).docs.map(l=>({id:l.id,...l.data()}))}},Tx=C.createContext(),wx=()=>{const t=C.useContext(Tx);if(!t)throw new Error("useTheme must be used within a ThemeContextProvider");return t},P9=({children:t})=>{const{user:e}=ba(),[n,i]=C.useState(()=>{if(typeof window<"u"){const c=localStorage.getItem("theme");if(c)return c;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"});C.useEffect(()=>{const c=window.document.documentElement,h="#ffffff",f="#020617";c.classList.add("theme-transition"),n==="dark"?(c.classList.add("dark"),c.style.colorScheme="dark"):(c.classList.remove("dark"),c.style.colorScheme="light");const p=document.querySelector('meta[name="theme-color"]'),y=n==="dark"?f:h;p&&p.setAttribute("content",y),localStorage.setItem("theme",n);const v=setTimeout(()=>{c.classList.remove("theme-transition")},300);return()=>clearTimeout(v)},[n]);const a=C.useCallback(async()=>{const c=n==="dark"?"light":"dark";if(i(c),e)try{await Ce.setItem(`users/${e.uid}/config`,"settings",{theme:c},!0)}catch(h){console.error("Failed to save theme",h)}},[n,e]),l=C.useMemo(()=>({theme:n,toggleTheme:a,isDark:n==="dark"}),[n,a]);return M.jsx(Tx.Provider,{value:l,children:t})},Ex=C.createContext(),zm=()=>{const t=C.useContext(Ex);if(!t)throw new Error("useDate must be used within a DateContextProvider");return t},O9=({children:t})=>{const[e,n]=iP(),i=()=>{const L=new Date;return L.setHours(0,0,0,0),L},a=L=>{if(!L)return null;const[U,ce,F]=L.split("-").map(Number);return new Date(U,ce-1,F)},l=L=>{const U=L.getFullYear(),ce=String(L.getMonth()+1).padStart(2,"0"),F=String(L.getDate()).padStart(2,"0");return`${U}-${ce}-${F}`},c=()=>{const L=e.get("date");if(L){const U=a(L);if(U&&U<=i())return U}return i()},[h,f]=C.useState(c);C.useEffect(()=>{const L=l(h);n({date:L})},[h,n]);const p=useCallback(L=>{let U;typeof L=="string"?U=a(L):(U=new Date(L),U.setHours(0,0,0,0));const ce=i();if(U>ce){console.warn("Cannot navigate to future date");return}f(U)},[]),y=useCallback(()=>{f(L=>{const U=new Date(L);return U.setDate(L.getDate()-1),U})},[]),v=useCallback(()=>{f(L=>{const U=i(),ce=new Date(L);return ce.setDate(L.getDate()+1),ce>U?L:ce})},[]),b=useCallback(()=>{f(i())},[]),I=C.useMemo(()=>l(h),[h]),N=C.useMemo(()=>l(i()),[]),P=h.getTime()===i().getTime(),z=h<i(),j=C.useMemo(()=>({currentDate:h,formattedDate:I,isToday:P,isPast:z,setDate:p,prevDay:y,nextDay:v,jumpToToday:b,maxDate:N}),[h,I,P,z,p,y,v,b,N]);return M.jsx(Ex.Provider,{value:j,children:t})},V9={getDayRef(t,e){return Es(dn,"users",t,"days",e)},subscribeToDay(t,e,n){const i=this.getDayRef(t,e);return Wd(i,a=>{a.exists()?n(a.data()):n(null)},a=>{console.error("Firestore Subscribe Error:",a)})},async saveDay(t,e,n){const i=this.getDayRef(t,e);try{await Yd(i,{...n,lastModified:md()},{merge:!0})}catch(a){throw console.error("Firestore Save Error:",a),a}},async lockDay(t,e){const n=this.getDayRef(t,e);await KI(n,{locked:!0,submitted:!0,lockedAt:md()})},async getRecentHistory(t,e=7){const n=[];for(let i=0;i<e;i++){const a=new Date;a.setDate(a.getDate()-i);const l=a.toISOString().split("T")[0],c=this.getDayRef(t,l),h=await X0(c);h.exists()?n.push({date:l,data:h.data(),score:this.calculateScore(h.data())}):n.push({date:l,data:null,score:0})}return n.reverse()},async getAllHistory(t){try{const e=dd(dn,"users",t,"days"),n=new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],i=fv(e,dv("date",">=",n)),a=await $I(i),l=[];return a.forEach(c=>{const h=c.data();l.push({date:c.id,data:h,score:this.calculateScore(h)})}),l.sort((c,h)=>c.date.localeCompare(h.date)),l}catch(e){return console.error("Error fetching all history:",e),[]}},calculateScore(t){if(!t||!t.tasks)return 0;const e=t.tasks.length;if(e===0)return 0;const n=t.tasks.filter(i=>i.status==="checked").length;return Math.round(n/e*100)},getModuleRef(t,e){return Es(dn,"users",t,"modules",e)},subscribeToModule(t,e,n){const i=this.getModuleRef(t,e);return Wd(i,a=>{a.exists()?n(a.data()):n(null)},a=>{console.error(`Firestore Module Subscribe Error (${e}):`,a)})},async saveModule(t,e,n){const i=this.getModuleRef(t,e);try{await Yd(i,{...n,lastModified:md()},{merge:!0})}catch(a){throw console.error(`Firestore Module Save Error (${e}):`,a),a}}},Sx=C.createContext(),PG=()=>{const t=C.useContext(Sx);if(!t)throw new Error("useData must be used within a DataContextProvider");return t},L9=({children:t})=>{const{formattedDate:e,isPast:n}=zm(),{user:i}=ba(),[a,l]=C.useState(!0),c=["junkFood","sugar","coldDrinks","screenTime","logExpense"],h=()=>({tasks:[],habits:[],submitted:!1,locked:!1,lastModified:Date.now()}),[f,p]=C.useState(h()),y=useCallback(A=>({id:A.id||`task_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:A.name||"Untitled Task",time:A.time||"",category:A.category||"EVE/NIGHT",icon:A.icon||"CheckCircle",status:A.status||"unchecked"}),[]),v=useCallback(async A=>{if(i)try{const K=A.map($=>{const H=y($);return H.status="unchecked",H});await Ce.setItem(`users/${i.uid}/modules`,"routine",{tasks:K,lastModified:Date.now()},!0)}catch(K){console.error("[DataContext] Failed to save master template:",K)}},[i,y]);C.useEffect(()=>{if(!i){p(h()),l(!1);return}l(!0);const A=async()=>{try{const $=await Ce.getDocument(`users/${i.uid}/modules`,"routine");if($&&$.tasks&&$.tasks.length>0){const te=$.tasks.map(q=>({...q,status:"unchecked"}));let W=[];const _e=await Ce.getCollection(`users/${i.uid}/days`,_o("date","desc"),Vl(1));_e&&_e.length>0&&(W=(_e[0].habits||[]).map(ae=>({...ae,value:ae.type==="number"?0:!1})));const Pe={tasks:te,habits:W,date:e,source:"template",submitted:!1,locked:!1,lastModified:Date.now()};return await Ce.setItem(`users/${i.uid}/days`,e,Pe,!0),Pe}const H=await Ce.getCollection(`users/${i.uid}/days`,_o("date","desc"),Vl(1));if(H&&H.length>0){const te=H[0];if(te.date===e)return null;const W=(te.tasks||[]).map(q=>({...q,status:"unchecked"})),_e=(te.habits||[]).map(q=>({...q,value:q.type==="number"?0:!1})),Pe={tasks:W,habits:_e,date:e,carriedOverFrom:te.date,submitted:!1,locked:!1,lastModified:Date.now()};return await Ce.setItem(`users/${i.uid}/days`,e,Pe,!0),Pe}return null}catch($){return console.error("[DataContext] Backfill error:",$),null}},K=Ce.subscribeToDocument(`users/${i.uid}/days`,e,$=>{if($){let H=$.habits||[];const te=H.length;H=H.filter(ae=>!c.includes(ae.id));const W=H.length!==te;let _e=$.tasks||[];const Pe=_e.some(ae=>ae.id&&String(ae.id).startsWith("task_0"));_e.length===0&&H.length===0&&A(),_e=_e.map(ae=>{if(!ae.category&&ae.time){const[pe]=ae.time.split(":").map(Number);let ne="EVE/NIGHT";return pe>=4&&pe<9?ne="EARLY MORNING":pe>=9&&pe<13?ne="BEFORE NOON":pe>=13&&pe<17&&(ne="AFTER NOON"),{...ae,category:ne}}return ae}),(Pe||W)&&Ce.updateItem(`users/${i.uid}/days`,e,{tasks:_e,habits:H,locked:!1,submitted:!1}),p({...h(),...$,tasks:_e,habits:H,locked:Pe||W?!1:$.locked||!1,submitted:Pe||W?!1:$.submitted||!1})}else{A().then(H=>{H||p(h())}).finally(()=>l(!1));return}l(!1)});return()=>K()},[e,i]);const b=useCallback(async A=>{if(!i)return;const K=(A.tasks||[]).map(y),$=(A.habits||[]).map(te=>({...te,id:te.id||`habit_${Date.now()}`,value:te.value!==void 0?te.value:!1})),H={...A,tasks:K,habits:$,date:e,lastModified:Date.now()};p(H);try{await Ce.setItem(`users/${i.uid}/days`,e,H)}catch(te){console.error("[DataContext] Save failed:",te)}},[i,e,y]);new Date().toISOString().split("T")[0];const I=!1,N=useCallback(async A=>{const K=f.tasks.map($=>{if($.id===A){let H="unchecked";return $.status==="unchecked"?H="checked":$.status==="checked"&&(H="missed"),{...$,status:H}}return $});await b({...f,tasks:K})},[f,I,b]),P=useCallback(async(A,K)=>{const $=f.habits.map(H=>H.id===A?{...H,value:K}:H);await b({...f,habits:$})},[f,I,b]),z=useCallback(async(A,K="toggle",$="hrs",H)=>{const te={id:`habit_${Date.now()}`,label:A,type:K,icon:H||(K==="number"?"Activity":"CheckCircle"),value:K==="number"?0:!1,unit:K==="number"?$:void 0};await b({...f,habits:[...f.habits,te]})},[f,I,b]),j=useCallback(async A=>{const K=f.habits.filter($=>$.id!==A);await b({...f,habits:K})},[f,I,b]),L=useCallback(async()=>{const A={...f,submitted:!0,locked:!0};await b(A)},[f,b]),U=useCallback(async A=>{if(n){console.warn("Cannot unlock past days.");return}const K={...f,locked:!1,unlockHistory:[...f.unlockHistory||[],{timestamp:Date.now(),reason:A}]};await b(K)},[f,n,b]),ce=useCallback(async A=>{f.tasks.length===0&&await b({...f,tasks:A})},[f,b]),F=useCallback(async A=>{const K=y({...A,id:`task_${Date.now()}`,status:"unchecked"}),$=[...f.tasks,K];$.sort((H,te)=>{if(!H.time||!te.time)return 0;const W=H.time.split(":").map(Number),_e=te.time.split(":").map(Number);return W[0]*60+W[1]-(_e[0]*60+_e[1])}),await b({...f,tasks:$}),v($)},[f,I,b,v,y]),X=useCallback(async(A,K)=>{const $=f.tasks.map(H=>H.id===A?{...H,...K}:H);K.time&&$.sort((H,te)=>{const W=H.time.split(":").map(Number),_e=te.time.split(":").map(Number);return W[0]*60+W[1]-(_e[0]*60+_e[1])}),await b({...f,tasks:$}),v($)},[f,I,b,v]),S=useCallback(async A=>{const K=f.tasks.filter($=>$.id!==A);await b({...f,tasks:K}),v(K)},[f,I,b,v]),E=useCallback(async A=>{const K=A.map(y);await b({...f,tasks:K}),v(K)},[f,I,b,v,y]),D=useCallback(()=>{if(!f?.tasks||f.tasks.length===0)return 0;const A=f.tasks.length,K=f.tasks.filter($=>$.status==="checked").length;return Math.round(K/A*100)},[f]),O=useCallback(async(A=7)=>{if(!i)return[];const K=[];for(let $=0;$<A;$++){const H=new Date;H.setDate(H.getDate()-$);const te=H.toISOString().split("T")[0];K.push(Ce.getDocument(`users/${i.uid}/days`,te).then(W=>{if(!W)return{date:te,score:0,data:null};const _e=W.tasks||[],Pe=_e.filter(ae=>ae.status==="checked").length,q=_e.length?Math.round(Pe/_e.length*100):0;return{date:te,score:q,data:W}}))}return[]},[i]),V=useCallback(async()=>i?await V9.getAllHistory(i.uid):[],[i]),k=C.useMemo(()=>({dailyData:f,updateTaskStatus:N,updateHabit:P,addHabit:z,deleteHabit:j,submitDay:L,unlockDay:U,initTasks:ce,addTask:F,editTask:X,deleteTask:S,updateAllTasks:E,isAuthenticated:!!i,isLocked:I,getDisciplineScore:D,getHistory:O,getAllHistory:V,isLoading:a}),[f,N,P,z,j,L,U,ce,F,X,S,E,i,I,D,O,V,a]);return M.jsx(Sx.Provider,{value:k,children:t})},Ax=6048e5,U9=864e5,OG=6e4,VG=36e5,_1=Symbol.for("constructDateFrom");function Zi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&_1 in t?t[_1](e):t instanceof Date?new t.constructor(e):new Date(e)}function Gt(t,e){return Zi(e||t,t)}function Au(t,e,n){const i=Gt(t,n?.in);return isNaN(e)?Zi(t,NaN):(e&&i.setDate(i.getDate()+e),i)}function uo(t,e,n){const i=Gt(t,n?.in);if(isNaN(e))return Zi(t,NaN);if(!e)return i;const a=i.getDate(),l=Zi(t,i.getTime());l.setMonth(i.getMonth()+e+1,0);const c=l.getDate();return a>=c?l:(i.setFullYear(l.getFullYear(),l.getMonth(),a),i)}let j9={};function oh(){return j9}function Ll(t,e){const n=oh(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Gt(t,e?.in),l=a.getDay(),c=(l<i?7:0)+l-i;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function Jd(t,e){return Ll(t,{...e,weekStartsOn:1})}function Cx(t,e){const n=Gt(t,e?.in),i=n.getFullYear(),a=Zi(n,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const l=Jd(a),c=Zi(n,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const h=Jd(c);return n.getTime()>=l.getTime()?i+1:n.getTime()>=h.getTime()?i:i-1}function b1(t){const e=Gt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Rx(t,...e){const n=Zi.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function Zd(t,e){const n=Gt(t,e?.in);return n.setHours(0,0,0,0),n}function F9(t,e,n){const[i,a]=Rx(n?.in,t,e),l=Zd(i),c=Zd(a),h=+l-b1(l),f=+c-b1(c);return Math.round((h-f)/U9)}function z9(t,e){const n=Cx(t,e),i=Zi(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Jd(i)}function B9(t,e,n){return Au(t,e*7,n)}function _d(t,e,n){return uo(t,e*12,n)}function gy(t,e,n){const[i,a]=Rx(n?.in,t,e);return+Zd(i)==+Zd(a)}function q9(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function H9(t){return!(!q9(t)&&typeof t!="number"||isNaN(+Gt(t)))}function T1(t,e){const n=Gt(t,e?.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function w1(t,e){const n=Gt(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function G9(t,e){const n=Gt(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function $9(t,e){const n=oh(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Gt(t,e?.in),l=a.getDay(),c=(l<i?-7:0)+6-(l-i);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}const K9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Y9=(t,e,n)=>{let i;const a=K9[t];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function yy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const W9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Q9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},X9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},J9={date:yy({formats:W9,defaultWidth:"full"}),time:yy({formats:Q9,defaultWidth:"full"}),dateTime:yy({formats:X9,defaultWidth:"full"})},Z9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ej=(t,e,n,i)=>Z9[t];function au(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let a;if(i==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,h=n?.width?String(n.width):c;a=t.formattingValues[h]||t.formattingValues[c]}else{const c=t.defaultWidth,h=n?.width?String(n.width):t.defaultWidth;a=t.values[h]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(e):e;return a[l]}}const tj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ij={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oj=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},lj={ordinalNumber:oj,era:au({values:tj,defaultWidth:"wide"}),quarter:au({values:nj,defaultWidth:"wide",argumentCallback:t=>t-1}),month:au({values:ij,defaultWidth:"wide"}),day:au({values:sj,defaultWidth:"wide"}),dayPeriod:au({values:rj,defaultWidth:"wide",formattingValues:aj,defaultFormattingWidth:"wide"})};function ou(t){return(e,n={})=>{const i=n.width,a=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],h=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(h)?uj(h,v=>v.test(c)):cj(h,v=>v.test(c));let p;p=t.valueCallback?t.valueCallback(f):f,p=n.valueCallback?n.valueCallback(p):p;const y=e.slice(c.length);return{value:p,rest:y}}}function cj(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function uj(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function hj(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const a=i[0],l=e.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(a.length);return{value:c,rest:h}}}const fj=/^(\d+)(th|st|nd|rd)?/i,dj=/\d+/i,mj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pj={any:[/^b/i,/^(a|c)/i]},gj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yj={any:[/1/i,/2/i,/3/i,/4/i]},vj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_j={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Tj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ej={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Sj={ordinalNumber:hj({matchPattern:fj,parsePattern:dj,valueCallback:t=>parseInt(t,10)}),era:ou({matchPatterns:mj,defaultMatchWidth:"wide",parsePatterns:pj,defaultParseWidth:"any"}),quarter:ou({matchPatterns:gj,defaultMatchWidth:"wide",parsePatterns:yj,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ou({matchPatterns:vj,defaultMatchWidth:"wide",parsePatterns:_j,defaultParseWidth:"any"}),day:ou({matchPatterns:bj,defaultMatchWidth:"wide",parsePatterns:Tj,defaultParseWidth:"any"}),dayPeriod:ou({matchPatterns:wj,defaultMatchWidth:"any",parsePatterns:Ej,defaultParseWidth:"any"})},Aj={code:"en-US",formatDistance:Y9,formatLong:J9,formatRelative:ej,localize:lj,match:Sj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Cj(t,e){const n=Gt(t,e?.in);return F9(n,G9(n))+1}function Rj(t,e){const n=Gt(t,e?.in),i=+Jd(n)-+z9(n);return Math.round(i/Ax)+1}function Ix(t,e){const n=Gt(t,e?.in),i=n.getFullYear(),a=oh(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=Zi(e?.in||t,0);c.setFullYear(i+1,0,l),c.setHours(0,0,0,0);const h=Ll(c,e),f=Zi(e?.in||t,0);f.setFullYear(i,0,l),f.setHours(0,0,0,0);const p=Ll(f,e);return+n>=+h?i+1:+n>=+p?i:i-1}function Ij(t,e){const n=oh(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=Ix(t,e),l=Zi(e?.in||t,0);return l.setFullYear(a,0,i),l.setHours(0,0,0,0),Ll(l,e)}function xj(t,e){const n=Gt(t,e?.in),i=+Ll(n,e)-+Ij(n,e);return Math.round(i/Ax)+1}function gt(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const $r={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return gt(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):gt(n+1,2)},d(t,e){return gt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return gt(t.getHours()%12||12,e.length)},H(t,e){return gt(t.getHours(),e.length)},m(t,e){return gt(t.getMinutes(),e.length)},s(t,e){return gt(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),a=Math.trunc(i*Math.pow(10,n-3));return gt(a,e.length)}},dl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},E1={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return $r.y(t,e)},Y:function(t,e,n,i){const a=Ix(t,i),l=a>0?a:1-a;if(e==="YY"){const c=l%100;return gt(c,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):gt(l,e.length)},R:function(t,e){const n=Cx(t);return gt(n,e.length)},u:function(t,e){const n=t.getFullYear();return gt(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return gt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return gt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return $r.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return gt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const a=xj(t,i);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):gt(a,e.length)},I:function(t,e,n){const i=Rj(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):gt(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):$r.d(t,e)},D:function(t,e,n){const i=Cj(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):gt(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const a=t.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return gt(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const a=t.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return gt(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),a=i===0?7:i;switch(e){case"i":return String(a);case"ii":return gt(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let a;switch(i===12?a=dl.noon:i===0?a=dl.midnight:a=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let a;switch(i>=17?a=dl.evening:i>=12?a=dl.afternoon:i>=4?a=dl.morning:a=dl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return $r.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):$r.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):gt(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):gt(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):$r.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):$r.s(t,e)},S:function(t,e){return $r.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return A1(i);case"XXXX":case"XX":return to(i);default:return to(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return A1(i);case"xxxx":case"xx":return to(i);default:return to(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+S1(i,":");default:return"GMT"+to(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+S1(i,":");default:return"GMT"+to(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return gt(i,e.length)},T:function(t,e,n){return gt(+t,e.length)}};function S1(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),a=Math.trunc(i/60),l=i%60;return l===0?n+String(a):n+String(a)+e+gt(l,2)}function A1(t,e){return t%60===0?(t>0?"-":"+")+gt(Math.abs(t)/60,2):to(t,e)}function to(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),a=gt(Math.trunc(i/60),2),l=gt(i%60,2);return n+a+e+l}const C1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},xx=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Dj=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return C1(t,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",C1(i,e)).replace("{{time}}",xx(a,e))},kj={p:xx,P:Dj},Mj=/^D+$/,Nj=/^Y+$/,Pj=["D","DD","YY","YYYY"];function Oj(t){return Mj.test(t)}function Vj(t){return Nj.test(t)}function Lj(t,e,n){const i=Uj(t,e,n);if(console.warn(i),Pj.includes(t))throw new RangeError(i)}function Uj(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zj=/^'([^]*?)'?$/,Bj=/''/g,qj=/[a-zA-Z]/;function Hj(t,e,n){const i=oh(),a=i.locale??Aj,l=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=Gt(t,n?.in);if(!H9(h))throw new RangeError("Invalid time value");let f=e.match(Fj).map(y=>{const v=y[0];if(v==="p"||v==="P"){const b=kj[v];return b(y,a.formatLong)}return y}).join("").match(jj).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:Gj(y)};if(E1[v])return{isToken:!0,value:y};if(v.match(qj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(f=a.localize.preprocessor(h,f));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return f.map(y=>{if(!y.isToken)return y.value;const v=y.value;(Vj(v)||Oj(v))&&Lj(v,e,String(t));const b=E1[v[0]];return b(h,v,a.localize,p)}).join("")}function Gj(t){const e=t.match(zj);return e?e[1].replace(Bj,"'"):t}function vy(t,e){return+Gt(t)<+Gt(e)}function _y(t,e,n){const i=+Gt(t,n?.in),[a,l]=[+Gt(e.start,n?.in),+Gt(e.end,n?.in)].sort((c,h)=>c-h);return i>=a&&i<=l}const Dx=C.createContext(),LG=()=>{const t=C.useContext(Dx);if(!t)throw new Error("useTasks must be used within a TaskContextProvider");return t},$j=({children:t})=>{const{user:e,authIsReady:n}=ba(),[i,a]=C.useState([]),[l,c]=C.useState([]),[h,f]=C.useState(50),[p,y]=C.useState({}),[v,b]=C.useState(!0),[I,N]=C.useState({autoDeleteCompleted:!1,confirmDelete:!0,showCompletedInList:!0,defaultPriority:"Medium",defaultDuration:15,dailyReminder:!0,reminderTime:"09:00"}),P=Hj(new Date,"yyyy-MM-dd");C.useEffect(()=>{if(!n)return;if(!e){a([]),c([]),y({}),b(!1);return}b(!0);const K=Ce.subscribeToCollection(`users/${e.uid}/tasks`,W=>{a(W),b(!1)},dv("status","==","pending"),_o("createdAt","desc"),Vl(200)),$=Ce.subscribeToCollection(`users/${e.uid}/tasks`,W=>{c(W)},dv("status","==","completed"),_o("createdAt","desc"),Vl(h)),H=Ce.subscribeToDocument(`users/${e.uid}/config`,"taskSettings",W=>{W&&N(_e=>({..._e,...W}))}),te=Ce.subscribeToDocument(`users/${e.uid}/data`,"lockedDays",W=>{W&&W.days&&y(W.days)});return()=>{K(),$(),H(),te()}},[e,n,h]);const z=K=>{if(!e)return;const $={...I,...K};N($),Ce.setItem(`users/${e.uid}/config`,"taskSettings",$)},j=useCallback(K=>K<P,[P]),L=useCallback(K=>{const H=[...i,...l].filter(W=>W.date===K);if(H.length===0)return 0;const te=H.filter(W=>W.status==="completed"||W.isCompleted).length;return Math.round(te/H.length*100)},[i,l]),U=useCallback(async(K,$={})=>{if(!e)return;const H=$.date||P;if(H<P){console.warn("Cannot add tasks to a locked day.");return}const te={title:K,status:"pending",isCompleted:!1,date:H,createdAt:Date.now(),priority:$.priority||"Medium",category:$.category||"Work",time:$.time||null,estimatedTime:$.estimatedTime||15,description:$.description||"",userId:e.uid};try{const W=await Ce.addItem(`users/${e.uid}/tasks`,te);return{...te,id:W.id}}catch(W){throw console.error("Error adding task:",W),W}},[e,P]),ce=useCallback(async(K,$)=>{if(!e)return;const te=[...i,...l].find(W=>W.id===K);if(te){if(te.date<P){console.warn("Cannot edit tasks of a locked day.");return}await Ce.updateItem(`users/${e.uid}/tasks`,K,$)}},[e,i,l,P]),F=useCallback(async K=>{if(!e)return;const H=[...i,...l].find(te=>te.id===K);if(H&&H.date<P){console.warn("Cannot delete tasks of a locked day.");return}await Ce.deleteItem(`users/${e.uid}/tasks`,K)},[e,i,l,P]),X=useCallback(async(K,$)=>{e&&await Ce.updateItem(`users/${e.uid}/tasks`,K,{date:$})},[e]),S=useCallback(async K=>{if(!e)return;const H=[...i,...l].find(_e=>_e.id===K);if(!H)return;if(H.date<P&&!H.isCompleted&&H.status!=="completed"){await Ce.updateItem(`users/${e.uid}/tasks`,K,{date:P,status:"completed",isCompleted:!0});return}if(H.date<P)return;const te=!(H.status==="completed"||H.isCompleted),W=te?"completed":"pending";await Ce.updateItem(`users/${e.uid}/tasks`,K,{status:W,isCompleted:te})},[e,i,l,P]),E=useCallback(async()=>{if(!e)return 0;const $=[...i,...l].filter(W=>W.date===P);let H=0;if($.length>0){const W=$.filter(_e=>_e.status==="completed"||_e.isCompleted).length;H=Math.round(W/$.length*100)}const te={...p,[P]:{lockedAt:Date.now(),score:H}};return y(te),await Ce.setItem(`users/${e.uid}/data`,"lockedDays",{days:te}),H},[e,i,l,P,p]),D=useCallback(async()=>{if(!e)return;const $=[...i,...l].map(H=>Ce.deleteItem(`users/${e.uid}/tasks`,H.id));await Promise.all($)},[e,i,l]),[O,V]=C.useState(null),k=C.useMemo(()=>[...i,...l].sort(($,H)=>H.createdAt-$.createdAt),[i,l]),A=C.useMemo(()=>({tasks:k,lockedDays:p,settings:I,currentDateStr:P,addTask:U,updateTask:ce,deleteTask:F,toggleTask:S,rescheduleTask:X,completeDay:E,getDailyScore:L,isDayLocked:j,clearAllTasks:D,updateSettings:z,activePopoverId:O,setActivePopoverId:V,isLoading:v,loadMoreCompleted:()=>f(K=>K+50)}),[k,p,I,P,U,ce,F,S,X,E,L,j,D,z,O,v]);return M.jsx(Dx.Provider,{value:A,children:t})};const Kj="type.googleapis.com/google.protobuf.Int64Value",Yj="type.googleapis.com/google.protobuf.UInt64Value";function kx(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function em(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>em(e));if(typeof t=="function"||typeof t=="object")return kx(t,e=>em(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Ul(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case Kj:case Yj:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Ul(e)):typeof t=="function"||typeof t=="object"?kx(t,e=>Ul(e)):t}const r_="functions";const R1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Wn extends Xn{constructor(e,n,i){super(`${r_}/${e}`,n||""),this.details=i,Object.setPrototypeOf(this,Wn.prototype)}}function Wj(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function tm(t,e){let n=Wj(t),i=n,a;try{const l=e&&e.error;if(l){const c=l.status;if(typeof c=="string"){if(!R1[c])return new Wn("internal","internal");n=R1[c],i=c}const h=l.message;typeof h=="string"&&(i=h),a=l.details,a!==void 0&&(a=Ul(a))}}catch{}return n==="ok"?null:new Wn(n,i,a)}class Qj{constructor(e,n,i,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Kn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||i.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:a}}}const pv="us-central1",Xj=/^data: (.*?)(?:\n|$)/;function Jj(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new Wn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Zj{constructor(e,n,i,a,l=pv,c=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new Qj(e,n,i,a),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(l);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=pv}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function eF(t,e,n){const i=ga(e);t.emulatorOrigin=`http${i?"s":""}://${e}:${n}`,i&&(Jv(t.emulatorOrigin+"/backends"),Zv("Functions",!0))}function tF(t,e,n){const i=a=>iF(t,e,a,{});return i.stream=(a,l)=>rF(t,e,a,l),i}function Mx(t){return t.emulatorOrigin&&ga(t.emulatorOrigin)?"include":void 0}async function nF(t,e,n,i,a){n["Content-Type"]="application/json";let l;try{l=await i(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:Mx(a)})}catch{return{status:0,json:null}}let c=null;try{c=await l.json()}catch{}return{status:l.status,json:c}}async function Nx(t,e){const n={},i=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return i.authToken&&(n.Authorization="Bearer "+i.authToken),i.messagingToken&&(n["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=i.appCheckToken),n}function iF(t,e,n,i){const a=t._url(e);return sF(t,a,n,i)}async function sF(t,e,n,i){n=em(n);const a={data:n},l=await Nx(t,i),c=i.timeout||7e4,h=Jj(c),f=await Promise.race([nF(e,a,l,t.fetchImpl,t),h.promise,t.cancelAllRequests]);if(h.cancel(),!f)throw new Wn("cancelled","Firebase Functions instance was deleted.");const p=tm(f.status,f.json);if(p)throw p;if(!f.json)throw new Wn("internal","Response is not valid JSON object.");let y=f.json.data;if(typeof y>"u"&&(y=f.json.result),typeof y>"u")throw new Wn("internal","Response is missing data field.");return{data:Ul(y)}}function rF(t,e,n,i){const a=t._url(e);return aF(t,a,n,i||{})}async function aF(t,e,n,i){n=em(n);const a={data:n},l=await Nx(t,i);l["Content-Type"]="application/json",l.Accept="text/event-stream";let c;try{c=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:l,signal:i?.signal,credentials:Mx(t)})}catch(b){if(b instanceof Error&&b.name==="AbortError"){const N=new Wn("cancelled","Request was cancelled.");return{data:Promise.reject(N),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(N)}}}}}}const I=tm(0,null);return{data:Promise.reject(I),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(I)}}}}}}let h,f;const p=new Promise((b,I)=>{h=b,f=I});i?.signal?.addEventListener("abort",()=>{const b=new Wn("cancelled","Request was cancelled.");f(b)});const y=c.body.getReader(),v=oF(y,h,f,i?.signal);return{stream:{[Symbol.asyncIterator](){const b=v.getReader();return{async next(){const{value:I,done:N}=await b.read();return{value:I,done:N}},async return(){return await b.cancel(),{done:!0,value:void 0}}}}},data:p}}function oF(t,e,n,i){const a=(c,h)=>{const f=c.match(Xj);if(!f)return;const p=f[1];try{const y=JSON.parse(p);if("result"in y){e(Ul(y.result));return}if("message"in y){h.enqueue(Ul(y.message));return}if("error"in y){const v=tm(0,y);h.error(v),n(v);return}}catch(y){if(y instanceof Wn){h.error(y),n(y);return}}},l=new TextDecoder;return new ReadableStream({start(c){let h="";return f();async function f(){if(i?.aborted){const p=new Wn("cancelled","Request was cancelled");return c.error(p),n(p),Promise.resolve()}try{const{value:p,done:y}=await t.read();if(y){h.trim()&&a(h.trim(),c),c.close();return}if(i?.aborted){const b=new Wn("cancelled","Request was cancelled");c.error(b),n(b),await t.cancel();return}h+=l.decode(p,{stream:!0});const v=h.split(`
`);h=v.pop()||"";for(const b of v)b.trim()&&a(b.trim(),c);return f()}catch(p){const y=p instanceof Wn?p:tm(0,null);c.error(y),n(y)}}},cancel(){return t.cancel()}})}const I1="@firebase/functions",x1="0.13.1";const lF="auth-internal",cF="app-check-internal",uF="messaging-internal";function hF(t){const e=(n,{instanceIdentifier:i})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(lF),c=n.getProvider(uF),h=n.getProvider(cF);return new Zj(a,l,c,h,i)};ki(new ci(r_,e,"PUBLIC").setMultipleInstances(!0)),kn(I1,x1,t),kn(I1,x1,"esm2020")}function fF(t=pm(),e=pv){const i=Eo(at(t),r_).getImmediate({identifier:e}),a=EC("functions");return a&&dF(i,...a),i}function dF(t,e,n){eF(at(t),e,n)}function mF(t,e,n){return tF(at(t),e)}hF();const Xa={async commitFinancialTransaction(t){const e=fF(ah),n=mF(e,"commitFinancialTransaction");try{return(await n(t)).data}catch(i){throw console.error("Cloud Function Failed:",i),i}}},Px=C.createContext(),pF=()=>{const t=C.useContext(Px);if(!t)throw new Error("useFinance must be used within FinanceContextProvider");return t},gF=({children:t})=>{const{user:e,authIsReady:n}=ba(),i=[{id:"cat_food",name:"Food & Dining",type:"expense",budget:5e3,color:"bg-orange-500",icon:"Utensils"},{id:"cat_transport",name:"Transport",type:"expense",budget:2e3,color:"bg-blue-500",icon:"Bus"},{id:"cat_shopping",name:"Shopping",type:"expense",budget:3e3,color:"bg-pink-500",icon:"ShoppingBag"},{id:"cat_bills",name:"Bills & Utilities",type:"expense",budget:4e3,color:"bg-yellow-500",icon:"Zap"},{id:"cat_salary",name:"Salary",type:"income",budget:0,color:"bg-emerald-500",icon:"IndianRupee"}],a=[{id:"acc_cash",name:"Cash Wallet",type:"cash",balance:0,openingBalance:0,isArchived:!1},{id:"acc_bank",name:"Main Bank",type:"bank",balance:0,openingBalance:0,isArchived:!1},{id:"acc_upi",name:"UPI / Digital",type:"upi",balance:0,openingBalance:0,isArchived:!1}],[l,c]=C.useState([]),[h,f]=C.useState(50),[p,y]=C.useState([]),[v,b]=C.useState([]),[I,N]=C.useState([]),[P,z]=C.useState([]),[j,L]=C.useState([]),[U,ce]=C.useState([]),[F,X]=C.useState(!0);C.useEffect(()=>{if(!n)return;if(!e){c([]),y(i),b(a),N([]),z([]),L([]),ce([]),X(!1);return}X(!0);const ye=Ce.subscribeToCollection(`users/${e.uid}/transactions`,ot=>{c(ot),X(!1)},_o("date","desc"),Vl(h)),be=Ce.subscribeToCollection(`users/${e.uid}/categories`,ot=>{y(ot.length>0?ot:[])}),Se=Ce.subscribeToCollection(`users/${e.uid}/accounts`,ot=>b(ot.length>0?ot:[])),Ee=Ce.subscribeToCollection(`users/${e.uid}/savingsGoals`,ot=>N(ot)),ke=Ce.subscribeToCollection(`users/${e.uid}/debts`,ot=>z(ot)),Ue=Ce.subscribeToCollection(`users/${e.uid}/subscriptions`,ot=>L(ot)),Fe=Ce.subscribeToCollection(`users/${e.uid}/recurringRules`,ot=>ce(ot));return()=>{ye(),be(),Se(),Ee(),ke(),Ue(),Fe()}},[e,n,h]),C.useEffect(()=>{if(!e)return;(async()=>((await Ce.getCollection(`users/${e.uid}/categories`)).length===0&&await Promise.all(i.map(Ee=>Ce.addItem(`users/${e.uid}/categories`,Ee))),(await Ce.getCollection(`users/${e.uid}/accounts`)).length===0&&await Promise.all(a.map(Ee=>Ce.addItem(`users/${e.uid}/accounts`,Ee)))))()},[e?.uid]),C.useEffect(()=>{if(!e||U.length===0)return;(async()=>{const be=new Date;for(const Se of U){if(!Se.isActive)continue;let Ee=new Date(Se.nextDueDate),ke=!1;for(;(vy(Ee,be)||gy(Ee,be))&&!(Se.endDate&&vy(new Date(Se.endDate),Ee));){const Fe={transactionId:crypto.randomUUID(),accountId:Se.transactionTemplate.accountId,type:Se.transactionTemplate.type,amount:Number(Se.transactionTemplate.amount),categoryId:Se.transactionTemplate.categoryId,date:Ee.toISOString(),description:Se.transactionTemplate.name||"Recurring Transaction",metadata:{recurringRuleId:Se.id,isfromRecurring:!0}};await Xa.commitFinancialTransaction(Fe),Se.frequency==="daily"?Ee=Au(Ee,1):Se.frequency==="weekly"?Ee=B9(Ee,1):Se.frequency==="monthly"?Ee=uo(Ee,1):Se.frequency==="yearly"&&(Ee=_d(Ee,1)),ke=!0}ke&&await Ce.updateItem(`users/${e.uid}/recurringRules`,Se.id,{nextDueDate:Ee.toISOString()})}})()},[U,e]),C.useEffect(()=>{if(!e||j.length===0)return;(async()=>{const be=new Date;for(const Se of j){if(Se.status!=="active"||!Se.autoPay)continue;let Ee=new Date(Se.nextBillingDate),ke=!1;for(;vy(Ee,be)||gy(Ee,be);){const Fe={transactionId:crypto.randomUUID(),accountId:"acc_bank",type:"expense",amount:Number(Se.amount),categoryId:"cat_bills",date:Ee.toISOString(),description:`Subscription: ${Se.name}`,metadata:{isFromSubscription:!0,subscriptionId:Se.id}};await Xa.commitFinancialTransaction(Fe),Ee=uo(Ee,1),ke=!0}ke&&await Ce.updateItem(`users/${e.uid}/subscriptions`,Se.id,{nextBillingDate:Ee.toISOString()})}})()},[j,e]);const S=C.useCallback(ye=>v.find(be=>be.id===ye)?.balance||0,[v]),E=C.useCallback(()=>v.filter(ye=>!ye.isArchived).reduce((ye,be)=>ye+be.balance,0),[v]),D=C.useCallback(()=>{const ye=new Date,be=w1(ye),Se=T1(ye);return l.filter(Ee=>!Ee.isDeleted&&Ee.type==="expense"&&_y(new Date(Ee.date),{start:be,end:Se})).reduce((Ee,ke)=>Ee+Number(ke.amount),0)},[l]),O=C.useCallback(ye=>{const be=new Date,Se=w1(be),Ee=T1(be);return l.filter(ke=>!ke.isDeleted&&_y(new Date(ke.date),{start:Se,end:Ee})).reduce((ke,Ue)=>Ue.categoryId===ye?ke+Number(Ue.amount):ke,0)},[l]),V=C.useCallback(ye=>{const be=p.find(ot=>ot.id===ye);if(!be||!be.budget)return null;const Se=O(ye),Ee=Number(be.budget),ke=Ee-Se,Ue=Math.min(Math.round(Se/Ee*100),100);let Fe="good";return Ue>=100?Fe="danger":Ue>=80&&(Fe="warning"),{spent:Se,budget:Ee,remaining:ke,percent:Ue,status:Fe}},[p,O]),k=C.useCallback((ye=new Date)=>l.filter(be=>!be.isDeleted&&be.type==="expense"&&gy(new Date(be.date||be.createdAt),ye)).reduce((be,Se)=>be+Number(Se.amount),0),[l]),A=C.useCallback(()=>{const ye=new Date,be=Ll(ye,{weekStartsOn:1}),Se=$9(ye,{weekStartsOn:1}),Ee=l.filter(Fe=>!Fe.isDeleted&&_y(new Date(Fe.date||Fe.createdAt),{start:be,end:Se})),ke=Ee.filter(Fe=>Fe.type==="income").reduce((Fe,ot)=>Fe+Number(ot.amount),0),Ue=Ee.filter(Fe=>Fe.type==="expense").reduce((Fe,ot)=>Fe+Number(ot.amount),0);return ke-Ue},[l]),K=C.useCallback(async ye=>{e&&await Xa.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:ye.accountId,type:ye.type,amount:Number(ye.amount),categoryId:ye.categoryId,date:ye.date||new Date().toISOString(),description:ye.note||ye.description,metadata:{...ye}})},[e]),$=C.useCallback(async({amount:ye,fromAccountId:be,toAccountId:Se,note:Ee,date:ke})=>{e&&await Xa.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:be,toAccountId:Se,type:"transfer",amount:Number(ye),date:ke||new Date().toISOString(),description:Ee||"Fund Transfer",categoryId:"cat_transfer"})},[e]),H=C.useCallback(async ye=>{if(!e)return;const be={isActive:!0,nextDueDate:ye.startDate,...ye};await Ce.addItem(`users/${e.uid}/recurringRules`,be)},[e]),te=C.useCallback(async ye=>{if(!e)return;const be=l.find(Fe=>Fe.transactionId===ye||Fe.id===ye);if(!be||be.isDeleted)return;const Se=crypto.randomUUID();let Ee=be.type==="income"?"expense":"income",ke=be.accountId,Ue;be.type==="transfer"&&(Ee="transfer",ke=be.toAccountId,Ue=be.accountId),await Xa.commitFinancialTransaction({transactionId:Se,accountId:ke,toAccountId:Ue,type:Ee,amount:Number(be.amount),date:new Date().toISOString(),description:`Correction: Undo ${be.description||"Transaction"}`,metadata:{isCompensation:!0,originalTransactionId:be.transactionId||be.id}})},[e,l]),W=C.useCallback(async ye=>{console.warn("restoreTransaction is deprecated in strict ledger mode.")},[]),_e=C.useCallback(async(ye,be)=>{e&&(await te(ye),await K(be))},[e,te,K]),Pe=C.useCallback(ye=>!1,[]),q=C.useCallback(async(ye,be)=>{if(!e)return;const{balance:Se,...Ee}=be;await Ce.updateItem(`users/${e.uid}/accounts`,ye,Ee)},[e]),ae=C.useCallback(async ye=>{if(!e)return;const be=v.find(Se=>Se.id===ye);be&&await Ce.updateItem(`users/${e.uid}/accounts`,ye,{isArchived:!be.isArchived})},[e,v]),pe=C.useCallback(async(ye,be)=>{e&&await Ce.updateItem(`users/${e.uid}/categories`,ye,{budget:be})},[e]),ne=C.useCallback(async ye=>{e&&await Ce.addItem(`users/${e.uid}/categories`,ye)},[e]),ie=C.useCallback(async(ye,be=!1,Se=null)=>{if(!e)return;const Ee={createdAt:Date.now(),status:"open",isSettled:!1,paidAmount:0,history:[{id:`dh_${Date.now()}`,date:Date.now(),amount:Number(ye.amount),type:"creation",note:"Record created"}],...ye},ke=await Ce.addItem(`users/${e.uid}/debts`,Ee);if(be&&Se){const Ue=ye.type==="payable",Fe=Ue?"income":"expense";await Xa.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:Se,type:Fe,amount:Number(ye.amount),categoryId:Ue?"cat_debt_in":"cat_debt_out",date:new Date().toISOString(),description:`Debt: ${ye.person}`,metadata:{relatedDebtId:ke.id}})}},[e]),J=C.useCallback(async(ye,be,Se=new Date)=>{if(!e)return;const Ee=P.find(ec=>ec.id===ye);if(!Ee)return;const ke=Number(be),Ue=Ee.type==="receivable";await Xa.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:"acc_bank",type:Ue?"income":"expense",amount:ke,categoryId:"cat_debt",date:new Date(Se).toISOString(),description:`Repayment: ${Ee.person}`,metadata:{relatedDebtId:ye}});const Fe=(Ee.paidAmount||0)+ke,ot=Fe>=Number(Ee.amount);await Ce.updateItem(`users/${e.uid}/debts`,ye,{paidAmount:Fe,isSettled:ot,payments:[...Ee.payments||[],{amount:ke,date:new Date(Se).toISOString(),id:`pay_${Date.now()}`}]})},[e,P]),ge=C.useCallback(ye=>{const be=P.find(Se=>Se.id===ye);if(be&&!be.isSettled){const Se=Number(be.amount)-(be.paidAmount||0);Se>0&&J(ye,Se)}},[P,J]),we=C.useCallback(async ye=>{if(!e)return;const be=new Date,Se=Number(ye.dueDate);let Ee=new Date(be.getFullYear(),be.getMonth(),Se);Ee<be&&(Ee=uo(Ee,1));const ke={status:"active",autoPay:!0,nextBillingDate:Ee.toISOString(),...ye};await Ce.addItem(`users/${e.uid}/subscriptions`,ke)},[e]),de=C.useCallback(async(ye,be)=>{e&&await Ce.updateItem(`users/${e.uid}/subscriptions`,ye,be)},[e]),Le=C.useCallback(async ye=>{if(!e)return;const be=j.find(Se=>Se.id===ye);be&&await Ce.updateItem(`users/${e.uid}/subscriptions`,ye,{status:be.status==="active"?"paused":"active"})},[e,j]),We=C.useCallback(async ye=>{e&&await Ce.deleteItem(`users/${e.uid}/subscriptions`,ye)},[e]),Me=C.useCallback(()=>f(ye=>ye+50),[]),cn=C.useMemo(()=>({transactions:l,categories:p,accounts:v,savingsGoals:I,debts:P,subscriptions:j,addTransaction:K,addTransfer:$,deleteTransaction:te,editTransaction:_e,restoreTransaction:W,checkDuplicate:Pe,getAccountBalance:S,getTotalBalance:E,getMonthlySpend:D,getCategorySpend:O,updateCategoryBudget:pe,addCategory:ne,addDebt:ie,addDebtPayment:J,settleDebt:ge,addSubscription:we,updateSubscription:de,toggleSubscriptionStatus:Le,deleteSubscription:We,updateAccount:q,toggleArchiveAccount:ae,addRecurringRule:H,recurringRules:U,getBudgetStats:V,getDailySpend:k,getWeeklySavings:A,isLoading:F,loadMoreTransactions:Me}),[l,p,v,I,P,j,U,F,K,$,te,_e,W,Pe,S,E,D,O,pe,ne,ie,J,ge,we,de,Le,We,q,ae,H,V,k,A,Me]);return M.jsx(Px.Provider,{value:cn,children:t})},Ox=C.createContext(),yF=({children:t})=>{const[e,n]=C.useState(null),i=C.useCallback(l=>{n(l)},[]),a=C.useCallback(()=>{n(null)},[]);return M.jsx(Ox.Provider,{value:{error:e,showError:i,clearError:a},children:t})},Vx=()=>C.useContext(Ox),Rn=t=>t?t.code?{code:t.code,message:t.message||"Firebase error occurred."}:t instanceof Error?{code:"JS_ERROR",message:t.message}:{code:"UNEXPECTED_ERROR",message:"Unexpected error occurred."}:{code:"UNKNOWN_ERROR",message:"An unknown error occurred."},Lx=C.createContext(),vF=[{type:"Oil Change",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Engine Oil Filter",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Air Filter",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:2e4,category:"mandatory"},{type:"Brake Check",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Chain Lubrication",frequencyValue:1,frequencyUnit:"months",frequencyType:"both",odometerValue:500,category:"optional",applicable:["bike","scooter"]},{type:"Coolant Check",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Battery Health",frequencyValue:12,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Tyre Pressure",frequencyValue:1,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Tyre Rotation",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"optional"},{type:"Wheel Alignment",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"optional"},{type:"General Service",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Accident Repair",frequencyType:"none",category:"optional"},{type:"Accessories Maintenance",frequencyValue:12,frequencyUnit:"months",frequencyType:"date",category:"optional"},{type:"Insurance Renewal",frequencyValue:12,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Pollution Certificate",frequencyValue:6,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Registration Renewal",frequencyValue:15,frequencyUnit:"years",frequencyType:"date",category:"mandatory"},{type:"Fitness Certificate",frequencyValue:1,frequencyUnit:"years",frequencyType:"date",category:"optional",applicable:["commercial"]}],UG=()=>{const t=C.useContext(Lx);if(!t)throw new Error("useVehicle must be used within VehicleContextProvider");return t},_F=({children:t})=>{const{user:e,authIsReady:n}=ba(),{addTransaction:i,categories:a}=pF(),{showError:l}=Vx(),[c,h]=C.useState([]),[f,p]=C.useState([]),[y,v]=C.useState([]),[b,I]=C.useState(20),[N,P]=C.useState([]),[z,j]=C.useState(!0),[L,U]=C.useState(null);C.useEffect(()=>{L&&l(L)},[L,l]),C.useEffect(()=>{if(!n)return;if(!e){h([]),p([]),v([]),P([]),j(!1);return}j(!0);const ne=Ce.subscribeToCollection(`users/${e.uid}/vehicles`,we=>{U(null),h(we),j(!1)},_o("createdAt","desc"),we=>{const de=Rn(we);console.error(de),U(de),j(!1)}),ie=Ce.subscribeToCollection(`users/${e.uid}/followUps`,we=>{U(null),p(we)},we=>{const de=Rn(we);console.error(de),U(de)}),J=Ce.subscribeToCollection(`users/${e.uid}/serviceRecords`,we=>{U(null),v(we)},_o("date","desc"),Vl(b),we=>{const de=Rn(we);console.error(de),U(de)}),ge=Ce.subscribeToCollection(`users/${e.uid}/vehicleLoans`,we=>{U(null),P(we)},we=>{const de=Rn(we);console.error(de),U(de)});return()=>{ne(),ie(),J(),ge()}},[e,n,b]);const ce=C.useCallback(async ne=>{try{if(!e?.uid)return;U(null),await Ce.deleteItem(`users/${e.uid}/vehicles/${ne}`)}catch(ie){const J=Rn(ie);throw console.error("Error deleting vehicle:",J),U(J),J}},[e]),F=C.useCallback(async ne=>{try{if(!e)return;U(null);const ie={createdAt:Date.now(),isArchived:!1,isActive:c.length===0,...ne},ge=(await Ce.addItem(`users/${e.uid}/vehicles`,ie)).id,we=vF.filter(de=>!de.applicable||de.applicable.includes(ne.type)).filter(de=>de.frequencyType!=="none").map(de=>{const Le=new Date;let We=null;(de.frequencyType==="date"||de.frequencyType==="both")&&(de.frequencyUnit==="days"&&(We=Au(Le,de.frequencyValue).toISOString()),de.frequencyUnit==="months"&&(We=uo(Le,de.frequencyValue).toISOString()),de.frequencyUnit==="years"&&(We=_d(Le,de.frequencyValue).toISOString()));let Me=null;return(de.frequencyType==="odometer"||de.frequencyType==="both")&&(Me=(Number(ne.odometer)||0)+(de.odometerValue||0)),{vehicleId:ge,type:de.type,frequencyType:de.frequencyType,frequencyValue:de.frequencyValue,frequencyUnit:de.frequencyUnit,odometerValue:de.odometerValue,dueDate:We,dueOdometer:Me,isRecurring:!0,isStandard:!0,status:"pending"}});await Promise.all(we.map(de=>Ce.addItem(`users/${e.uid}/followUps`,de)))}catch(ie){const J=Rn(ie);throw console.error(J),U(J),J}},[e,c]),X=C.useCallback(async(ne,ie)=>{try{if(!e)return;U(null),await Ce.updateItem(`users/${e.uid}/vehicles`,ne,ie)}catch(J){const ge=Rn(J);throw console.error(ge),U(ge),ge}},[e]),S=C.useCallback(async ne=>{try{if(!e)return;U(null);const ie=c.find(ge=>ge.id===ne);if(!ie)return;let J={isArchived:!ie.isArchived};!ie.isArchived&&ie.isActive&&(J.isActive=!1),await X(ne,J)}catch(ie){const J=Rn(ie);throw console.error(J),U(J),J}},[e,c,X]),E=C.useCallback(async ne=>{try{if(!e)return;U(null);const ie=c.map(J=>J.id===ne&&!J.isActive?Ce.updateItem(`users/${e.uid}/vehicles`,J.id,{isActive:!0}):J.id!==ne&&J.isActive?Ce.updateItem(`users/${e.uid}/vehicles`,J.id,{isActive:!1}):Promise.resolve());await Promise.all(ie)}catch(ie){const J=Rn(ie);throw console.error(J),U(J),J}},[e,c]),D=C.useCallback(()=>c.find(ne=>ne.isActive&&!ne.isArchived),[c]),O=C.useCallback(async ne=>{try{if(!e)return;U(null);const ie={status:"pending",...ne};await Ce.addItem(`users/${e.uid}/followUps`,ie)}catch(ie){const J=Rn(ie);throw console.error(J),U(J),J}},[e]),V=C.useCallback(async ne=>{try{if(!e)return;U(null),await Ce.deleteItem(`users/${e.uid}/followUps`,ne)}catch(ie){const J=Rn(ie);throw console.error(J),U(J),J}},[e]),k=C.useCallback(async(ne,ie)=>{try{if(!e)return;U(null);const J=f.find(de=>de.id===ne);if(!J)return;const ge=c.find(de=>de.id===J.vehicleId);let we={vehicleId:J.vehicleId,followUpId:ne,type:J.type,...ie};if(ie.cost>0&&ie.accountId){let de="cat_vehicle";const Le=a.find(Me=>Me.name==="Vehicle"||Me.id==="cat_vehicle");Le?de=Le.id:de=a.find(Me=>Me.name==="Transport")?.id||a.find(Me=>Me.type==="expense")?.id;const We={amount:ie.cost,type:"expense",categoryId:de,accountId:ie.accountId,note:`Vehicle: ${ge?.name} - ${J.type}`,date:ie.date};await i(We),we.financeTxId=!0}if(await Ce.addItem(`users/${e.uid}/serviceRecords`,we),Number(ie.odometer)>Number(ge?.odometer||0)&&await X(ge.id,{odometer:ie.odometer}),await V(ne),J.isRecurring){const de={...J};if(delete de.id,J.frequencyType==="date"||J.frequencyType==="both"){const Le=new Date(ie.date);let We=Le;J.frequencyUnit==="days"&&(We=Au(Le,J.frequencyValue)),J.frequencyUnit==="months"&&(We=uo(Le,J.frequencyValue)),J.frequencyUnit==="years"&&(We=_d(Le,J.frequencyValue)),de.dueDate=We.toISOString()}if(J.frequencyType==="odometer"||J.frequencyType==="both"){const Le=Number(ie.odometer);de.dueOdometer=Le+Number(J.odometerValue||J.frequencyValue)}await O(de)}}catch(J){const ge=Rn(J);throw console.error(ge),U(ge),ge}},[e,f,c,a,i,X,V,O]),A=C.useCallback(async ne=>{try{if(!e)return;U(null);const ie={...ne};if(ne.cost>0&&ne.accountId){let ge=a.find(Le=>Le.name==="Transport")?.id||a.find(Le=>Le.type==="expense")?.id;const we=c.find(Le=>Le.id===ne.vehicleId),de={amount:ne.cost,type:"expense",categoryId:ge,accountId:ne.accountId,note:`Vehicle: ${we?.name} - ${ne.type}`,date:ne.date};await i(de),ie.financeTxId=!0}await Ce.addItem(`users/${e.uid}/serviceRecords`,ie);const J=c.find(ge=>ge.id===ne.vehicleId);J&&Number(ne.odometer)>Number(J.odometer||0)&&await X(J.id,{odometer:ne.odometer})}catch(ie){const J=Rn(ie);throw console.error(J),U(J),J}},[e,a,c,i,X]),K=C.useCallback((ne,ie)=>y.filter(J=>J.vehicleId===ne&&J.type===ie).sort((J,ge)=>new Date(ge.date)-new Date(J.date))[0],[y]),$=C.useCallback(async(ne,ie)=>{try{if(!e)return;U(null);const J=f.find(we=>we.vehicleId===ne&&we.type===ie.type&&we.status!=="completed"),ge=c.find(we=>we.id===ne);if(J)await V(J.id);else{const we=new Date;let de=null;(ie.frequencyType==="date"||ie.frequencyType==="both")&&(ie.frequencyUnit==="days"&&(de=Au(we,ie.frequencyValue).toISOString()),ie.frequencyUnit==="months"&&(de=uo(we,ie.frequencyValue).toISOString()),ie.frequencyUnit==="years"&&(de=_d(we,ie.frequencyValue).toISOString()));let Le=null;ge&&(ie.frequencyType==="odometer"||ie.frequencyType==="both")&&(Le=(Number(ge.odometer)||0)+(ie.odometerValue||0));const We={vehicleId:ne,type:ie.type,frequencyType:ie.frequencyType,frequencyValue:ie.frequencyValue,frequencyUnit:ie.frequencyUnit,odometerValue:ie.odometerValue,dueDate:de,dueOdometer:Le,isRecurring:!0,isStandard:!0,status:"pending"};await O(We)}}catch(J){const ge=Rn(J);throw console.error(ge),U(ge),ge}},[e,f,c,V,O]),H=C.useCallback(async ne=>{try{if(!e)return;U(null);const ie={status:"active",history:[],remainingPrincipal:Number(ne.totalLoanAmount),...ne};await Ce.addItem(`users/${e.uid}/vehicleLoans`,ie)}catch(ie){const J=Rn(ie);throw console.error(J),U(J),J}},[e]),te=C.useCallback(async(ne,ie)=>{try{if(!e)return;U(null);const J=N.find(de=>de.id===ne);if(!J)return;const ge=c.find(de=>de.id===J.vehicleId);let we=Number(J.remainingPrincipal)-Number(ie.principal);if(we<0&&(we=0),ie.amount>0&&ie.accountId){let de="cat_vehicle";const Le=a.find(Me=>Me.name==="Vehicle"||Me.id==="cat_vehicle");Le?de=Le.id:de=a.find(Me=>Me.name==="Transport")?.id||a.find(Me=>Me.type==="expense")?.id;const We={amount:ie.amount,type:"expense",categoryId:de,accountId:ie.accountId,note:`Vehicle: ${ge?.name} - Loan EMI (${ie.type}) - ${J.lender}`,date:ie.date};await i(We)}await Ce.updateItem(`users/${e.uid}/vehicleLoans`,ne,{remainingPrincipal:we,history:[...J.history||[],ie],status:we<=0?"closed":"active"})}catch(J){const ge=Rn(J);throw console.error(ge),U(ge),ge}},[e,N,c,a,i]),W=C.useCallback(ne=>N.find(ie=>ie.vehicleId===ne&&ie.status!=="closed"),[N]),_e=C.useCallback(ne=>{const ie=N.find(cn=>cn.id===ne);if(!ie)return null;const J=new Date,ge=J.getFullYear(),we=J.getMonth(),de=new Date(ge,we,ie.dueDateDay),Le=ie.history?.some(cn=>{const ye=new Date(cn.date);return ye.getFullYear()===ge&&ye.getMonth()===we&&cn.type==="EMI"}),We=!Le&&J>de?"overdue":Le?"paid":"pending";let Me=0;if(ie.interestType==="reducing"){const cn=ie.interestRate/100/12;Me=ie.remainingPrincipal*cn}else Me=ie.totalLoanAmount*(ie.interestRate/100)*(ie.tenureMonths/12)/ie.tenureMonths;return{status:We,dueDate:de.toISOString(),isPastDue:!Le&&J>de,interestBalance:Math.round(Me),daysLate:!Le&&J>de?Math.floor((J-de)/(1e3*60*60*24)):0}},[N]),Pe=C.useCallback(ne=>{const ie=c.find(ke=>ke.id===ne);if(!ie)return null;const J=y.filter(ke=>ke.vehicleId===ne),ge=f.filter(ke=>ke.vehicleId===ne&&ke.status!=="completed"),we=J.reduce((ke,Ue)=>ke+(Number(Ue.cost)||0),0),de=new Date,We=J.filter(ke=>new Date(ke.date)>new Date(de.getFullYear(),de.getMonth(),1)).reduce((ke,Ue)=>ke+(Number(Ue.cost)||0),0),Me=new Date(ie.purchaseDate),cn=Math.max(1,(de.getFullYear()-Me.getFullYear())*12+(de.getMonth()-Me.getMonth())),ye=Math.round(we/cn),Se=ge.filter(ke=>{let Ue=!1;return(ke.frequencyType==="date"||ke.frequencyType==="both")&&ke.dueDate&&new Date(ke.dueDate)<de&&(Ue=!0),(ke.frequencyType==="odometer"||ke.frequencyType==="both")&&ke.dueOdometer&&Number(ie.odometer)>=Number(ke.dueOdometer)&&(Ue=!0),Ue}).length,Ee=J.sort((ke,Ue)=>new Date(Ue.date)-new Date(ke.date))[0];return{totalSpend:we,monthSpend:We,costPerMonth:ye,overdueCount:Se,lastServiceDate:Ee?.date,lastServiceType:Ee?.type}},[c,y,f]),q=C.useCallback(ne=>{const ie=c.find(Me=>Me.id===ne);if(!ie)return[];const J=[],ge=W(ne);if(ge){const Me=_e(ge.id);Me.isPastDue?J.push({type:"critical",title:`EMI Overdue by ${Me.daysLate} days`,detail:"Immediate payment required to avoid penalties."}):Me.status==="active"&&J.push({type:"info",title:`Interest Remaining: ${Me.interestBalance.toLocaleString()}`,detail:`${ge.interestType==="reducing"?"Reducing Balance":"Flat Rate"} Interest`})}const we=f.filter(Me=>Me.vehicleId===ne&&Me.status!=="completed"),de=we.find(Me=>(Me.name||Me.type||"").toLowerCase().includes("insurance"));if(de){const Me=de.dueDate?Math.ceil((new Date(de.dueDate)-new Date)/864e5):999;Me<0?J.push({type:"critical",title:"Insurance Expired",detail:` expired ${Math.abs(Me)} days ago. Do not drive.`}):Me<=15&&J.push({type:"warning",title:"Insurance Expiring Soon",detail:`Renew within ${Me} days.`})}const Le=we.find(Me=>(Me.name||Me.type||"").toLowerCase().includes("oil"));if(Le&&Le.dueOdometer&&Number(ie.odometer)>=Number(Le.dueOdometer)){const Me=Number(ie.odometer)-Number(Le.dueOdometer);J.push({type:"warning",title:`Oil Change Overdue by ${Me} km`,detail:"Engine health at risk."})}const We=Pe(ne);return We&&(J.push({type:"info",title:`Monthly Cost: ${We.costPerMonth.toLocaleString()}`,detail:"Average cost of ownership per month."}),We.monthSpend>We.costPerMonth*1.5&&We.monthSpend>2e3&&J.push({type:"warning",title:"Rising Monthly Cost",detail:`This month's spend (${We.monthSpend}) is 50% higher than average.`})),J},[c,f,W,_e,Pe]),ae=C.useCallback(()=>I(ne=>ne+20),[]),pe=C.useMemo(()=>({vehicles:c,followUps:f,serviceRecords:y,addVehicle:F,updateVehicle:X,toggleArchiveVehicle:S,setVehicleActive:E,getActiveVehicle:D,addFollowUp:O,deleteFollowUp:V,completeFollowUp:k,addServiceRecord:A,getVehicleStats:Pe,getLatestRecord:K,toggleMaintenanceItem:$,loans:N,addLoan:H,payEMI:te,getLoanForVehicle:W,getLoanDetailedStatus:_e,getVehicleRisks:q,deleteVehicle:ce,error:L,isLoading:z,loadMoreServiceRecords:ae}),[c,f,y,N,z,F,X,S,E,D,ce,O,V,k,A,Pe,K,$,H,te,W,_e,q,ae]);return M.jsx(Lx.Provider,{value:pe,children:t})},a_="/AWAKE/assets/awake_logo_new-CKmsyQnW.png",Ux=()=>M.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 pb-20",children:M.jsx("div",{className:"relative flex flex-col items-center",children:M.jsx("img",{src:a_,alt:"Loading...",className:"h-16 w-auto animate-pulse object-contain drop-shadow-xl dark:brightness-0 dark:invert"})})}),D1=({children:t})=>{const{user:e,authIsReady:n}=ba();return n?e?t:M.jsx(dC,{to:"/login",replace:!0}):M.jsx(Ux,{})},o_=C.createContext({});function l_(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const jx=typeof window<"u",Fx=jx?C.useLayoutEffect:C.useEffect,Bm=C.createContext(null);function c_(t,e){t.indexOf(e)===-1&&t.push(e)}function u_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ds=(t,e,n)=>n>e?e:n<t?t:n;let h_=()=>{};const cr={},zx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Bx(t){return typeof t=="object"&&t!==null}const qx=t=>/^0[^.\s]+$/u.test(t);function f_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Di=t=>t,bF=(t,e)=>n=>e(t(n)),lh=(...t)=>t.reduce(bF),zu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class d_{constructor(){this.subscriptions=[]}add(e){return c_(this.subscriptions,e),()=>u_(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nr=t=>t*1e3,Ri=t=>t/1e3;function Hx(t,e){return e?t*(1e3/e):0}const Gx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,TF=1e-7,wF=12;function EF(t,e,n,i,a){let l,c,h=0;do c=e+(n-e)/2,l=Gx(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>TF&&++h<wF);return c}function ch(t,e,n,i){if(t===e&&n===i)return Di;const a=l=>EF(l,0,1,t,n);return l=>l===0||l===1?l:Gx(a(l),e,i)}const $x=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Kx=t=>e=>1-t(1-e),Yx=ch(.33,1.53,.69,.99),m_=Kx(Yx),Wx=$x(m_),Qx=t=>(t*=2)<1?.5*m_(t):.5*(2-Math.pow(2,-10*(t-1))),p_=t=>1-Math.sin(Math.acos(t)),Xx=Kx(p_),Jx=$x(p_),SF=ch(.42,0,1,1),AF=ch(0,0,.58,1),Zx=ch(.42,0,.58,1),CF=t=>Array.isArray(t)&&typeof t[0]!="number",eD=t=>Array.isArray(t)&&typeof t[0]=="number",RF={linear:Di,easeIn:SF,easeInOut:Zx,easeOut:AF,circIn:p_,circInOut:Jx,circOut:Xx,backIn:m_,backInOut:Wx,backOut:Yx,anticipate:Qx},IF=t=>typeof t=="string",k1=t=>{if(eD(t)){h_(t.length===4);const[e,n,i,a]=t;return ch(e,n,i,a)}else if(IF(t))return RF[t];return t},Wf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xF(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(y){c.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,v=!1,b=!1)=>{const N=b&&a?n:i;return v&&c.add(y),N.has(y)||N.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const DF=40;function tD(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Wf.reduce((U,ce)=>(U[ce]=xF(l),U),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:y,update:v,preRender:b,render:I,postRender:N}=c,P=()=>{const U=cr.useManualTiming?a.timestamp:performance.now();n=!1,cr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(U-a.timestamp,DF),1)),a.timestamp=U,a.isProcessing=!0,h.process(a),f.process(a),p.process(a),y.process(a),v.process(a),b.process(a),I.process(a),N.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(P))},z=()=>{n=!0,i=!0,a.isProcessing||t(P)};return{schedule:Wf.reduce((U,ce)=>{const F=c[ce];return U[ce]=(X,S=!1,E=!1)=>(n||z(),F.schedule(X,S,E)),U},{}),cancel:U=>{for(let ce=0;ce<Wf.length;ce++)c[Wf[ce]].cancel(U)},state:a,steps:c}}const{schedule:Rt,cancel:ma,state:Tn,steps:by}=tD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Di,!0);let bd;function kF(){bd=void 0}const Vn={now:()=>(bd===void 0&&Vn.set(Tn.isProcessing||cr.useManualTiming?Tn.timestamp:performance.now()),bd),set:t=>{bd=t,queueMicrotask(kF)}},nD=t=>e=>typeof e=="string"&&e.startsWith(t),iD=nD("--"),MF=nD("var(--"),g_=t=>MF(t)?NF.test(t.split("/*")[0].trim()):!1,NF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function M1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Wl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bu={...Wl,transform:t=>Ds(0,1,t)},Qf={...Wl,default:1},Cu=t=>Math.round(t*1e5)/1e5,y_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PF(t){return t==null}const OF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,v_=(t,e)=>n=>!!(typeof n=="string"&&OF.test(n)&&n.startsWith(t)||e&&!PF(n)&&Object.prototype.hasOwnProperty.call(n,e)),sD=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,h]=i.match(y_);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},VF=t=>Ds(0,255,t),Ty={...Wl,transform:t=>Math.round(VF(t))},ao={test:v_("rgb","red"),parse:sD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Ty.transform(t)+", "+Ty.transform(e)+", "+Ty.transform(n)+", "+Cu(Bu.transform(i))+")"};function LF(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const gv={test:v_("#"),parse:LF,transform:ao.transform},uh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wr=uh("deg"),Is=uh("%"),De=uh("px"),UF=uh("vh"),jF=uh("vw"),N1={...Is,parse:t=>Is.parse(t)/100,transform:t=>Is.transform(t*100)},_l={test:v_("hsl","hue"),parse:sD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Is.transform(Cu(e))+", "+Is.transform(Cu(n))+", "+Cu(Bu.transform(i))+")"},tn={test:t=>ao.test(t)||gv.test(t)||_l.test(t),parse:t=>ao.test(t)?ao.parse(t):_l.test(t)?_l.parse(t):gv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ao.transform(t):_l.transform(t),getAnimatableNone:t=>{const e=tn.parse(t);return e.alpha=0,tn.transform(e)}},FF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zF(t){return isNaN(t)&&typeof t=="string"&&(t.match(y_)?.length||0)+(t.match(FF)?.length||0)>0}const rD="number",aD="color",BF="var",qF="var(",P1="${}",HF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(HF,f=>(tn.test(f)?(i.color.push(l),a.push(aD),n.push(tn.parse(f))):f.startsWith(qF)?(i.var.push(l),a.push(BF),n.push(f)):(i.number.push(l),a.push(rD),n.push(parseFloat(f))),++l,P1)).split(P1);return{values:n,split:h,indexes:i,types:a}}function oD(t){return qu(t).values}function lD(t){const{split:e,types:n}=qu(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===rD?l+=Cu(a[c]):h===aD?l+=tn.transform(a[c]):l+=a[c]}return l}}const GF=t=>typeof t=="number"?0:tn.test(t)?tn.getAnimatableNone(t):t;function $F(t){const e=oD(t);return lD(t)(e.map(GF))}const pa={test:zF,parse:oD,createTransformer:lD,getAnimatableNone:$F};function wy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function KF({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;a=wy(f,h,t+1/3),l=wy(f,h,t),c=wy(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function nm(t,e){return n=>n>0?e:t}const Mt=(t,e,n)=>t+(e-t)*n,Ey=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},YF=[gv,ao,_l],WF=t=>YF.find(e=>e.test(t));function O1(t){const e=WF(t);if(!e)return!1;let n=e.parse(t);return e===_l&&(n=KF(n)),n}const V1=(t,e)=>{const n=O1(t),i=O1(e);if(!n||!i)return nm(t,e);const a={...n};return l=>(a.red=Ey(n.red,i.red,l),a.green=Ey(n.green,i.green,l),a.blue=Ey(n.blue,i.blue,l),a.alpha=Mt(n.alpha,i.alpha,l),ao.transform(a))},yv=new Set(["none","hidden"]);function QF(t,e){return yv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function XF(t,e){return n=>Mt(t,e,n)}function __(t){return typeof t=="number"?XF:typeof t=="string"?g_(t)?nm:tn.test(t)?V1:ez:Array.isArray(t)?cD:typeof t=="object"?tn.test(t)?V1:JF:nm}function cD(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>__(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function JF(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=__(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function ZF(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=t.values[c]??0;n[a]=h,i[l]++}return n}const ez=(t,e)=>{const n=pa.createTransformer(e),i=qu(t),a=qu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?yv.has(t)&&!a.values.length||yv.has(e)&&!i.values.length?QF(t,e):lh(cD(ZF(i,a),a.values),n):nm(t,e)};function uD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Mt(t,e,n):__(t)(t,e)}const tz=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Rt.update(e,n),stop:()=>ma(e),now:()=>Tn.isProcessing?Tn.timestamp:Vn.now()}},hD=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},im=2e4;function b_(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<im;)e+=n,i=t.next(e);return e>=im?1/0:e}function nz(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(b_(i),im);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Ri(a)}}const iz=5;function fD(t,e,n){const i=Math.max(e-iz,0);return Hx(n-t(i),e-i)}const Lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sy=.001;function sz({duration:t=Lt.duration,bounce:e=Lt.bounce,velocity:n=Lt.velocity,mass:i=Lt.mass}){let a,l,c=1-e;c=Ds(Lt.minDamping,Lt.maxDamping,c),t=Ds(Lt.minDuration,Lt.maxDuration,Ri(t)),c<1?(a=p=>{const y=p*c,v=y*t,b=y-n,I=vv(p,c),N=Math.exp(-v);return Sy-b/I*N},l=p=>{const v=p*c*t,b=v*n+n,I=Math.pow(c,2)*Math.pow(p,2)*t,N=Math.exp(-v),P=vv(Math.pow(p,2),c);return(-a(p)+Sy>0?-1:1)*((b-I)*N)/P}):(a=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-Sy+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const h=5/t,f=az(a,l,h);if(t=nr(t),isNaN(f))return{stiffness:Lt.stiffness,damping:Lt.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:t}}}const rz=12;function az(t,e,n){let i=n;for(let a=1;a<rz;a++)i=i-t(i)/e(i);return i}function vv(t,e){return t*Math.sqrt(1-e*e)}const oz=["duration","bounce"],lz=["stiffness","damping","mass"];function L1(t,e){return e.some(n=>t[n]!==void 0)}function cz(t){let e={velocity:Lt.velocity,stiffness:Lt.stiffness,damping:Lt.damping,mass:Lt.mass,isResolvedFromDuration:!1,...t};if(!L1(t,lz)&&L1(t,oz))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*Ds(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Lt.mass,stiffness:a,damping:l}}else{const n=sz(t);e={...e,...n,mass:Lt.mass},e.isResolvedFromDuration=!0}return e}function sm(t=Lt.visualDuration,e=Lt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:p,mass:y,duration:v,velocity:b,isResolvedFromDuration:I}=cz({...n,velocity:-Ri(n.velocity||0)}),N=b||0,P=p/(2*Math.sqrt(f*y)),z=c-l,j=Ri(Math.sqrt(f/y)),L=Math.abs(z)<5;i||(i=L?Lt.restSpeed.granular:Lt.restSpeed.default),a||(a=L?Lt.restDelta.granular:Lt.restDelta.default);let U;if(P<1){const F=vv(j,P);U=X=>{const S=Math.exp(-P*j*X);return c-S*((N+P*j*z)/F*Math.sin(F*X)+z*Math.cos(F*X))}}else if(P===1)U=F=>c-Math.exp(-j*F)*(z+(N+j*z)*F);else{const F=j*Math.sqrt(P*P-1);U=X=>{const S=Math.exp(-P*j*X),E=Math.min(F*X,300);return c-S*((N+P*j*z)*Math.sinh(E)+F*z*Math.cosh(E))/F}}const ce={calculatedDuration:I&&v||null,next:F=>{const X=U(F);if(I)h.done=F>=v;else{let S=F===0?N:0;P<1&&(S=F===0?nr(N):fD(U,F,X));const E=Math.abs(S)<=i,D=Math.abs(c-X)<=a;h.done=E&&D}return h.value=h.done?c:X,h},toString:()=>{const F=Math.min(b_(ce),im),X=hD(S=>ce.next(F*S).value,F,30);return F+"ms "+X},toTransition:()=>{}};return ce}sm.applyToOptions=t=>{const e=nz(t,100,sm);return t.ease=e.ease,t.duration=nr(e.duration),t.type="keyframes",t};function _v({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:p=.5,restSpeed:y}){const v=t[0],b={done:!1,value:v},I=E=>h!==void 0&&E<h||f!==void 0&&E>f,N=E=>h===void 0?f:f===void 0||Math.abs(h-E)<Math.abs(f-E)?h:f;let P=n*e;const z=v+P,j=c===void 0?z:c(z);j!==z&&(P=j-v);const L=E=>-P*Math.exp(-E/i),U=E=>j+L(E),ce=E=>{const D=L(E),O=U(E);b.done=Math.abs(D)<=p,b.value=b.done?j:O};let F,X;const S=E=>{I(b.value)&&(F=E,X=sm({keyframes:[b.value,N(b.value)],velocity:fD(U,E,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return S(0),{calculatedDuration:null,next:E=>{let D=!1;return!X&&F===void 0&&(D=!0,ce(E),S(E)),F!==void 0&&E>=F?X.next(E-F):(!D&&ce(E),b)}}}function uz(t,e,n){const i=[],a=n||cr.mix||uD,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Di:e;h=lh(f,h)}i.push(h)}return i}function hz(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(h_(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=uz(e,i,a),f=h.length,p=y=>{if(c&&y<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const b=zu(t[v],t[v+1],y);return h[v](b)};return n?y=>p(Ds(t[0],t[l-1],y)):p}function fz(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=zu(0,e,i);t.push(Mt(n,1,a))}}function dz(t){const e=[0];return fz(e,t.length-1),e}function mz(t,e){return t.map(n=>n*e)}function pz(t,e){return t.map(()=>e||Zx).splice(0,t.length-1)}function Ru({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=CF(i)?i.map(k1):k1(i),l={done:!1,value:e[0]},c=mz(n&&n.length===e.length?n:dz(e),t),h=hz(c,e,{ease:Array.isArray(a)?a:pz(e,a)});return{calculatedDuration:t,next:f=>(l.value=h(f),l.done=f>=t,l)}}const gz=t=>t!==null;function T_(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(gz),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const yz={decay:_v,inertia:_v,tween:Ru,keyframes:Ru,spring:sm};function dD(t){typeof t.type=="string"&&(t.type=yz[t.type])}class w_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const vz=t=>t/100;class E_ extends w_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Vn.now()&&this.tick(Vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;dD(e);const{type:n=Ru,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const f=n||Ru;f!==Ru&&typeof h[0]!="number"&&(this.mixKeyframes=lh(vz,uD(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=b_(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:b,repeatDelay:I,type:N,onUpdate:P,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let U=this.currentTime,ce=i;if(v){const E=Math.min(this.currentTime,a)/h;let D=Math.floor(E),O=E%1;!O&&E>=1&&(O=1),O===1&&D--,D=Math.min(D,v+1),D%2&&(b==="reverse"?(O=1-O,I&&(O-=I/h)):b==="mirror"&&(ce=c)),U=Ds(0,1,O)*h}const F=L?{done:!1,value:y[0]}:ce.next(U);l&&(F.value=l(F.value));let{done:X}=F;!L&&f!==null&&(X=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return S&&N!==_v&&(F.value=T_(y,this.options,z,this.speed)),P&&P(F.value),S&&this.finish(),F}then(e,n){return this.finished.then(e,n)}get duration(){return Ri(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ri(e)}get time(){return Ri(this.currentTime)}set time(e){e=nr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Vn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=tz,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function _z(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const oo=t=>t*180/Math.PI,bv=t=>{const e=oo(Math.atan2(t[1],t[0]));return Tv(e)},bz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:bv,rotateZ:bv,skewX:t=>oo(Math.atan(t[1])),skewY:t=>oo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Tv=t=>(t=t%360,t<0&&(t+=360),t),U1=bv,j1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),F1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Tz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:j1,scaleY:F1,scale:t=>(j1(t)+F1(t))/2,rotateX:t=>Tv(oo(Math.atan2(t[6],t[5]))),rotateY:t=>Tv(oo(Math.atan2(-t[2],t[0]))),rotateZ:U1,rotate:U1,skewX:t=>oo(Math.atan(t[4])),skewY:t=>oo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function wv(t){return t.includes("scale")?1:0}function Ev(t,e){if(!t||t==="none")return wv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=Tz,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=bz,a=h}if(!a)return wv(e);const l=i[e],c=a[1].split(",").map(Ez);return typeof l=="function"?l(c):c[l]}const wz=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ev(n,e)};function Ez(t){return parseFloat(t.trim())}const Ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xl=new Set(Ql),z1=t=>t===Wl||t===De,Sz=new Set(["x","y","z"]),Az=Ql.filter(t=>!Sz.has(t));function Cz(t){const e=[];return Az.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const ta={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ev(e,"x"),y:(t,{transform:e})=>Ev(e,"y")};ta.translateX=ta.x;ta.translateY=ta.y;const ho=new Set;let Sv=!1,Av=!1,Cv=!1;function mD(){if(Av){const t=Array.from(ho).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=Cz(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Av=!1,Sv=!1,ho.forEach(t=>t.complete(Cv)),ho.clear()}function pD(){ho.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Av=!0)})}function Rz(){Cv=!0,pD(),mD(),Cv=!1}class S_{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ho.add(this),Sv||(Sv=!0,Rt.read(pD),Rt.resolveKeyframes(mD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const h=i.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}_z(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ho.delete(this)}cancel(){this.state==="scheduled"&&(ho.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Iz=t=>t.startsWith("--");function xz(t,e,n){Iz(e)?t.style.setProperty(e,n):t.style[e]=n}const Dz=f_(()=>window.ScrollTimeline!==void 0),kz={};function Mz(t,e){const n=f_(t);return()=>kz[e]??n()}const gD=Mz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,B1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yu([0,.65,.55,1]),circOut:yu([.55,0,1,.45]),backIn:yu([.31,.01,.66,-.59]),backOut:yu([.33,1.53,.69,.99])};function yD(t,e){if(t)return typeof t=="function"?gD()?hD(t,e):"ease-out":eD(t)?yu(t):Array.isArray(t)?t.map(n=>yD(n,e)||B1.easeOut):B1[t]}function Nz(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:f}={},p=void 0){const y={[e]:n};f&&(y.offset=f);const v=yD(h,a);Array.isArray(v)&&(y.easing=v);const b={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(y,b)}function vD(t){return typeof t=="function"&&"applyToOptions"in t}function Pz({type:t,...e}){return vD(t)&&gD()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Oz extends w_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,h_(typeof e.type!="string");const p=Pz(e);this.animation=Nz(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=T_(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):xz(n,i,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ri(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ri(e)}get time(){return Ri(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=nr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Dz()?(this.animation.timeline=e,Di):n(this)}}const _D={anticipate:Qx,backInOut:Wx,circInOut:Jx};function Vz(t){return t in _D}function Lz(t){typeof t.ease=="string"&&Vz(t.ease)&&(t.ease=_D[t.ease])}const Ay=10;class Uz extends Oz{constructor(e){Lz(e),dD(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new E_({...c,autoplay:!1}),f=Math.max(Ay,Vn.now()-this.startTime),p=Ds(0,Ay,f-Ay);n.setWithVelocity(h.sample(Math.max(0,f-p)).value,h.sample(f).value,p),h.stop()}}const q1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pa.test(t)||t==="0")&&!t.startsWith("url("));function jz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Fz(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=q1(a,e),h=q1(l,e);return!c||!h?!1:jz(t)||(n==="spring"||vD(n))&&i}function Rv(t){t.duration=0,t.type="keyframes"}const zz=new Set(["opacity","clipPath","filter","transform"]),Bz=f_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qz(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return Bz()&&n&&zz.has(n)&&(n!=="transform"||!p)&&!f&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const Hz=40;class Gz extends w_{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:f,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Vn.now();const b={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:p,element:y,...v},I=y?.KeyframeResolver||S_;this.keyframeResolver=new I(h,(N,P,z)=>this.onKeyframesResolved(N,P,b,!z),f,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:f,isHandoff:p,onUpdate:y}=i;this.resolvedAt=Vn.now(),Fz(e,l,c,h)||((cr.instantAnimations||!f)&&y?.(T_(e,i,n)),e[0]=e[e.length-1],Rv(i),i.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Hz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},I=!p&&qz(b),N=b.motionValue?.owner?.current,P=I?new Uz({...b,element:N}):new E_(b);P.finished.then(()=>{this.notifyFinished()}).catch(Di),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Rz()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function bD(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),c=t.size,h=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:h-l*i}const $z=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Kz(t){const e=$z.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function TD(t,e,n=1){const[i,a]=Kz(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return zx(c)?parseFloat(c):c}return g_(a)?TD(a,e,n+1):a}const Yz={type:"spring",stiffness:500,damping:25,restSpeed:10},Wz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Qz={type:"keyframes",duration:.8},Xz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Jz=(t,{keyframes:e})=>e.length>2?Qz:Xl.has(t)?t.startsWith("scale")?Wz(e[1]):Yz:Xz,Zz=t=>t!==null;function eB(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(Zz),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function A_(t,e){return t?.[e]??t?.default??t}function tB({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:p,...y}){return!!Object.keys(y).length}const C_=(t,e,n,i={},a,l)=>c=>{const h=A_(i,t)||{},f=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-nr(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:b=>{e.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};tB(h)||Object.assign(y,Jz(t,y)),y.duration&&(y.duration=nr(y.duration)),y.repeatDelay&&(y.repeatDelay=nr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Rv(y),y.delay===0&&(v=!0)),(cr.instantAnimations||cr.skipAnimations)&&(v=!0,Rv(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const b=eB(y.keyframes,h);if(b!==void 0){Rt.update(()=>{y.onUpdate(b),y.onComplete()});return}}return h.isSync?new E_(y):new Gz(y)};function H1(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function R_(t,e,n,i){if(typeof e=="function"){const[a,l]=H1(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=H1(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function xl(t,e,n){const i=t.getProps();return R_(i,e,n!==void 0?n:i.custom,t)}const wD=new Set(["width","height","top","left","right","bottom",...Ql]),G1=30,nB=t=>!isNaN(parseFloat(t));class iB{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Vn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Vn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new d_);const i=this.events[e].add(n);return e==="change"?()=>{i(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>G1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,G1);return Hx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jl(t,e){return new iB(t,e)}const Iv=t=>Array.isArray(t);function sB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,jl(n))}function rB(t){return Iv(t)?t[t.length-1]||0:t}function aB(t,e){const n=xl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const h=rB(l[c]);sB(t,c,h)}}const Dn=t=>!!(t&&t.getVelocity);function oB(t){return!!(Dn(t)&&t.add)}function xv(t,e){const n=t.getValue("willChange");if(oB(n))return n.add(e);if(!n&&cr.WillChange){const i=new cr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function I_(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const lB="framerAppearId",ED="data-"+I_(lB);function SD(t){return t.props[ED]}function cB({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function AD(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;i&&(l=i);const f=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const v=t.getValue(y,t.latestValues[y]??null),b=h[y];if(b===void 0||p&&cB(p,y))continue;const I={delay:n,...A_(l||{},y)},N=v.get();if(N!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===N&&!I.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const j=SD(t);if(j){const L=window.MotionHandoffAnimation(j,y,Rt);L!==null&&(I.startTime=L,P=!0)}}xv(t,y),v.start(C_(y,v,b,t.shouldReduceMotion&&wD.has(y)?{type:!1}:I,t,P));const z=v.animation;z&&f.push(z)}return c&&Promise.all(f).then(()=>{Rt.update(()=>{c&&aB(t,c)})}),f}function Dv(t,e,n={}){const i=xl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(AD(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return uB(t,e,f,p,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,p]=h==="beforeChildren"?[l,c]:[c,l];return f().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function uB(t,e,n=0,i=0,a=0,l=1,c){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(Dv(f,e,{...c,delay:n+(typeof i=="function"?0:i)+bD(t.variantChildren,f,i,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function hB(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Dv(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Dv(t,e,n);else{const a=typeof e=="function"?xl(t,e,n.custom):e;i=Promise.all(AD(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const fB={test:t=>t==="auto",parse:t=>t},CD=t=>e=>e.test(t),RD=[Wl,De,Is,Wr,jF,UF,fB],$1=t=>RD.find(CD(t));function dB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||qx(t):!0}const mB=new Set(["brightness","contrast","saturate","opacity"]);function pB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(y_)||[];if(!i)return t;const a=n.replace(i,"");let l=mB.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const gB=/\b([a-z-]*)\(.*?\)/gu,kv={...pa,getAnimatableNone:t=>{const e=t.match(gB);return e?e.map(pB).join(" "):t}},K1={...Wl,transform:Math.round},yB={rotate:Wr,rotateX:Wr,rotateY:Wr,rotateZ:Wr,scale:Qf,scaleX:Qf,scaleY:Qf,scaleZ:Qf,skew:Wr,skewX:Wr,skewY:Wr,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Bu,originX:N1,originY:N1,originZ:De},x_={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,inset:De,insetBlock:De,insetBlockStart:De,insetBlockEnd:De,insetInline:De,insetInlineStart:De,insetInlineEnd:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,paddingBlock:De,paddingBlockStart:De,paddingBlockEnd:De,paddingInline:De,paddingInlineStart:De,paddingInlineEnd:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,marginBlock:De,marginBlockStart:De,marginBlockEnd:De,marginInline:De,marginInlineStart:De,marginInlineEnd:De,backgroundPositionX:De,backgroundPositionY:De,...yB,zIndex:K1,fillOpacity:Bu,strokeOpacity:Bu,numOctaves:K1},vB={...x_,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:kv,WebkitFilter:kv},ID=t=>vB[t];function xD(t,e){let n=ID(t);return n!==kv&&(n=pa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _B=new Set(["auto","none","0"]);function bB(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!_B.has(l)&&qu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=xD(n,a)}class TB extends S_{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),g_(v))){const b=TD(v,n.current);b!==void 0&&(e[y]=b),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!wD.has(i)||e.length!==2)return;const[a,l]=e,c=$1(a),h=$1(l),f=M1(a),p=M1(l);if(f!==p&&ta[i]){this.needsMeasurement=!0;return}if(c!==h)if(z1(c)&&z1(h))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else ta[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||dB(e[a]))&&i.push(a);i.length&&bB(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ta[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=ta[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function wB(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const DD=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Mv(t){return Bx(t)&&"offsetHeight"in t}const{schedule:D_}=tD(queueMicrotask,!1),Ki={x:!1,y:!1};function kD(){return Ki.x||Ki.y}function EB(t){return t==="x"||t==="y"?Ki[t]?null:(Ki[t]=!0,()=>{Ki[t]=!1}):Ki.x||Ki.y?null:(Ki.x=Ki.y=!0,()=>{Ki.x=Ki.y=!1})}function MD(t,e){const n=wB(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function Y1(t){return!(t.pointerType==="touch"||kD())}function SB(t,e,n={}){const[i,a,l]=MD(t,n),c=h=>{if(!Y1(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const y=v=>{Y1(v)&&(p(v),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const ND=(t,e)=>e?t===e?!0:ND(t,e.parentElement):!1,k_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,AB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PD(t){return AB.has(t.tagName)||t.isContentEditable===!0}const Td=new WeakSet;function W1(t){return e=>{e.key==="Enter"&&t(e)}}function Cy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const CB=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=W1(()=>{if(Td.has(n))return;Cy(n,"down");const a=W1(()=>{Cy(n,"up")}),l=()=>Cy(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Q1(t){return k_(t)&&!kD()}function RB(t,e,n={}){const[i,a,l]=MD(t,n),c=h=>{const f=h.currentTarget;if(!Q1(h))return;Td.add(f);const p=e(f,h),y=(I,N)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Td.has(f)&&Td.delete(f),Q1(I)&&typeof p=="function"&&p(I,{success:N})},v=I=>{y(I,f===window||f===document||n.useGlobalTarget||ND(f,I.target))},b=I=>{y(I,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",b,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),Mv(h)&&(h.addEventListener("focus",p=>CB(p,a)),!PD(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function OD(t){return Bx(t)&&"ownerSVGElement"in t}function IB(t){return OD(t)&&t.tagName==="svg"}const xB=[...RD,tn,pa],DB=t=>xB.find(CD(t)),X1=()=>({translate:0,scale:1,origin:0,originPoint:0}),bl=()=>({x:X1(),y:X1()}),J1=()=>({min:0,max:0}),on=()=>({x:J1(),y:J1()}),Nv={current:null},VD={current:!1},kB=typeof window<"u";function MB(){if(VD.current=!0,!!kB)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Nv.current=t.matches;t.addEventListener("change",e),e()}else Nv.current=!1}const NB=new WeakMap;function qm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Hu(t){return typeof t=="string"||Array.isArray(t)}const M_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],N_=["initial",...M_];function Hm(t){return qm(t.animate)||N_.some(e=>Hu(t[e]))}function LD(t){return!!(Hm(t)||t.variants)}function PB(t,e,n){for(const i in e){const a=e[i],l=n[i];if(Dn(a))t.addValue(i,a);else if(Dn(l))t.addValue(i,jl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,jl(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Z1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let rm={};function UD(t){rm=t}function OB(){return rm}class VB{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=S_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Vn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Rt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Hm(n),this.isVariantNode=LD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const I=v[b];f[b]!==void 0&&Dn(I)&&I.set(f[b])}}mount(e){this.current=e,NB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(VD.current||MB(),this.shouldReduceMotion=Nv.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ma(this.notifyUpdate),ma(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Xl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Rt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rm){const n=rm[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):on()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Z1.length;i++){const a=Z1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=PB(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=jl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(zx(i)||qx(i))?i=parseFloat(i):!DB(i)&&pa.test(n)&&(i=xD(e,n)),this.setBaseTarget(e,Dn(i)?i.get():i)),Dn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=R_(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Dn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new d_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){D_.render(this.render)}}class jD extends VB{constructor(){super(...arguments),this.KeyframeResolver=TB}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Ta{constructor(e){this.isMounted=!1,this.node=e}update(){}}function FD({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function LB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function UB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ry(t){return t===void 0||t===1}function Pv({scale:t,scaleX:e,scaleY:n}){return!Ry(t)||!Ry(e)||!Ry(n)}function no(t){return Pv(t)||zD(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function zD(t){return eA(t.x)||eA(t.y)}function eA(t){return t&&t!=="0%"}function am(t,e,n){const i=t-n,a=e*i;return n+a}function tA(t,e,n,i,a){return a!==void 0&&(t=am(t,a,i)),am(t,n,i)+e}function Ov(t,e=0,n=1,i,a){t.min=tA(t.min,e,n,i,a),t.max=tA(t.max,e,n,i,a)}function BD(t,{x:e,y:n}){Ov(t.x,e.translate,e.scale,e.originPoint),Ov(t.y,n.translate,n.scale,n.originPoint)}const nA=.999999999999,iA=1.0000000000001;function jB(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&wl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,BD(t,c)),i&&no(l.latestValues)&&wl(t,l.latestValues))}e.x<iA&&e.x>nA&&(e.x=1),e.y<iA&&e.y>nA&&(e.y=1)}function Tl(t,e){t.min=t.min+e,t.max=t.max+e}function sA(t,e,n,i,a=.5){const l=Mt(t.min,t.max,a);Ov(t,e,n,l,i)}function wl(t,e){sA(t.x,e.x,e.scaleX,e.scale,e.originX),sA(t.y,e.y,e.scaleY,e.scale,e.originY)}function qD(t,e){return FD(UB(t.getBoundingClientRect(),e))}function FB(t,e,n){const i=qD(t,n),{scroll:a}=e;return a&&(Tl(i.x,a.offset.x),Tl(i.y,a.offset.y)),i}const zB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BB=Ql.length;function qB(t,e,n){let i="",a=!0;for(let l=0;l<BB;l++){const c=Ql[l],h=t[c];if(h===void 0)continue;let f=!0;if(typeof h=="number")f=h===(c.startsWith("scale")?1:0);else{const p=parseFloat(h);f=c.startsWith("scale")?p===1:p===0}if(!f||n){const p=DD(h,x_[c]);if(!f){a=!1;const y=zB[c]||c;i+=`${y}(${p}) `}n&&(e[c]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function P_(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const f in e){const p=e[f];if(Xl.has(f)){c=!0;continue}else if(iD(f)){a[f]=p;continue}else{const y=DD(p,x_[f]);f.startsWith("origin")?(h=!0,l[f]=y):i[f]=y}}if(e.transform||(c||n?i.transform=qB(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${f} ${p} ${y}`}}function HD(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function rA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const lu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=rA(t,e.target.x),i=rA(t,e.target.y);return`${n}% ${i}%`}},HB={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=pa.parse(t);if(a.length>5)return i;const l=pa.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=f;const p=Mt(h,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Vv={borderRadius:{...lu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lu,borderTopRightRadius:lu,borderBottomLeftRadius:lu,borderBottomRightRadius:lu,boxShadow:HB};function GD(t,{layout:e,layoutId:n}){return Xl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vv[t]||t==="opacity")}function O_(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const c in i)(Dn(i[c])||a&&Dn(a[c])||GD(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=i[c]);return l}function GB(t){return window.getComputedStyle(t)}class $B extends jD{constructor(){super(...arguments),this.type="html",this.renderInstance=HD}readValueFromInstance(e,n){if(Xl.has(n))return this.projection?.isProjecting?wv(n):wz(e,n);{const i=GB(e),a=(iD(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return qD(e,n)}build(e,n,i){P_(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return O_(e,n,i)}}const KB={offset:"stroke-dashoffset",array:"stroke-dasharray"},YB={offset:"strokeDashoffset",array:"strokeDasharray"};function WB(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?KB:YB;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const QB=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function $D(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},f,p,y){if(P_(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b}=t;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const I of QB)v[I]!==void 0&&(b[I]=v[I],delete v[I]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),a!==void 0&&WB(v,a,l,c,!1)}const KD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),YD=t=>typeof t=="string"&&t.toLowerCase()==="svg";function XB(t,e,n,i){HD(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(KD.has(a)?a:I_(a),e.attrs[a])}function WD(t,e,n){const i=O_(t,e,n);for(const a in t)if(Dn(t[a])||Dn(e[a])){const l=Ql.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class JB extends jD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=on}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xl.has(n)){const i=ID(n);return i&&i.default||0}return n=KD.has(n)?n:I_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return WD(e,n,i)}build(e,n,i){$D(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){XB(e,n,i,a)}mount(e){this.isSVGTag=YD(e.tagName),super.mount(e)}}const ZB=N_.length;function QD(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?QD(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ZB;n++){const i=N_[n],a=t.props[i];(Hu(a)||a===!1)&&(e[i]=a)}return e}function XD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const e8=[...M_].reverse(),t8=M_.length;function n8(t){return e=>Promise.all(e.map(({animation:n,options:i})=>hB(t,n,i)))}function i8(t){let e=n8(t),n=aA(),i=!0;const a=f=>(p,y)=>{const v=xl(t,y,f==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:I,...N}=v;p={...p,...N,...I}}return p};function l(f){e=f(t)}function c(f){const{props:p}=t,y=QD(t.parent)||{},v=[],b=new Set;let I={},N=1/0;for(let z=0;z<t8;z++){const j=e8[z],L=n[j],U=p[j]!==void 0?p[j]:y[j],ce=Hu(U),F=j===f?L.isActive:null;F===!1&&(N=z);let X=U===y[j]&&U!==p[j]&&ce;if(X&&i&&t.manuallyAnimateOnMount&&(X=!1),L.protectedKeys={...I},!L.isActive&&F===null||!U&&!L.prevProp||qm(U)||typeof U=="boolean")continue;const S=s8(L.prevProp,U);let E=S||j===f&&L.isActive&&!X&&ce||z>N&&ce,D=!1;const O=Array.isArray(U)?U:[U];let V=O.reduce(a(j),{});F===!1&&(V={});const{prevResolvedValues:k={}}=L,A={...k,...V},K=te=>{E=!0,b.has(te)&&(D=!0,b.delete(te)),L.needsAnimating[te]=!0;const W=t.getValue(te);W&&(W.liveStyle=!1)};for(const te in A){const W=V[te],_e=k[te];if(I.hasOwnProperty(te))continue;let Pe=!1;Iv(W)&&Iv(_e)?Pe=!XD(W,_e):Pe=W!==_e,Pe?W!=null?K(te):b.add(te):W!==void 0&&b.has(te)?K(te):L.protectedKeys[te]=!0}L.prevProp=U,L.prevResolvedValues=V,L.isActive&&(I={...I,...V}),i&&t.blockInitialAnimation&&(E=!1);const $=X&&S;E&&(!$||D)&&v.push(...O.map(te=>{const W={type:j};if(typeof te=="string"&&i&&!$&&t.manuallyAnimateOnMount&&t.parent){const{parent:_e}=t,Pe=xl(_e,te);if(_e.enteringChildren&&Pe){const{delayChildren:q}=Pe.transition||{};W.delay=bD(_e.enteringChildren,t,q)}}return{animation:te,options:W}}))}if(b.size){const z={};if(typeof p.initial!="boolean"){const j=xl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(z.transition=j.transition)}b.forEach(j=>{const L=t.getBaseTarget(j),U=t.getValue(j);U&&(U.liveStyle=!0),z[j]=L??null}),v.push({animation:z})}let P=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),i=!1,P?e(v):Promise.resolve()}function h(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(f,p)),n[f].isActive=p;const y=c(f);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=aA()}}}function s8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!XD(e,t):!1}function Ja(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aA(){return{animate:Ja(!0),whileInView:Ja(),whileHover:Ja(),whileTap:Ja(),whileDrag:Ja(),whileFocus:Ja(),exit:Ja()}}function oA(t,e){t.min=e.min,t.max=e.max}function $i(t,e){oA(t.x,e.x),oA(t.y,e.y)}function lA(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const JD=1e-4,r8=1-JD,a8=1+JD,ZD=.01,o8=0-ZD,l8=0+ZD;function Ln(t){return t.max-t.min}function c8(t,e,n){return Math.abs(t-e)<=n}function cA(t,e,n,i=.5){t.origin=i,t.originPoint=Mt(e.min,e.max,t.origin),t.scale=Ln(n)/Ln(e),t.translate=Mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=r8&&t.scale<=a8||isNaN(t.scale))&&(t.scale=1),(t.translate>=o8&&t.translate<=l8||isNaN(t.translate))&&(t.translate=0)}function Iu(t,e,n,i){cA(t.x,e.x,n.x,i?i.originX:void 0),cA(t.y,e.y,n.y,i?i.originY:void 0)}function uA(t,e,n){t.min=n.min+e.min,t.max=t.min+Ln(e)}function u8(t,e,n){uA(t.x,e.x,n.x),uA(t.y,e.y,n.y)}function hA(t,e,n){t.min=e.min-n.min,t.max=t.min+Ln(e)}function om(t,e,n){hA(t.x,e.x,n.x),hA(t.y,e.y,n.y)}function fA(t,e,n,i,a){return t-=e,t=am(t,1/n,i),a!==void 0&&(t=am(t,1/a,i)),t}function h8(t,e=0,n=1,i=.5,a,l=t,c=t){if(Is.test(e)&&(e=parseFloat(e),e=Mt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Mt(l.min,l.max,i);t===l&&(h-=e),t.min=fA(t.min,e,n,h,a),t.max=fA(t.max,e,n,h,a)}function dA(t,e,[n,i,a],l,c){h8(t,e[n],e[i],e[a],e.scale,l,c)}const f8=["x","scaleX","originX"],d8=["y","scaleY","originY"];function mA(t,e,n,i){dA(t.x,e,f8,n?n.x:void 0,i?i.x:void 0),dA(t.y,e,d8,n?n.y:void 0,i?i.y:void 0)}function pA(t){return t.translate===0&&t.scale===1}function ek(t){return pA(t.x)&&pA(t.y)}function gA(t,e){return t.min===e.min&&t.max===e.max}function m8(t,e){return gA(t.x,e.x)&&gA(t.y,e.y)}function yA(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function tk(t,e){return yA(t.x,e.x)&&yA(t.y,e.y)}function vA(t){return Ln(t.x)/Ln(t.y)}function _A(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Ai(t){return[t("x"),t("y")]}function p8(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:b,skewX:I,skewY:N}=n;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),I&&(i+=`skewX(${I}deg) `),N&&(i+=`skewY(${N}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const nk=["TopLeft","TopRight","BottomLeft","BottomRight"],g8=nk.length,bA=t=>typeof t=="string"?parseFloat(t):t,TA=t=>typeof t=="number"||De.test(t);function y8(t,e,n,i,a,l){a?(t.opacity=Mt(0,n.opacity??1,v8(i)),t.opacityExit=Mt(e.opacity??1,0,_8(i))):l&&(t.opacity=Mt(e.opacity??1,n.opacity??1,i));for(let c=0;c<g8;c++){const h=`border${nk[c]}Radius`;let f=wA(e,h),p=wA(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||TA(f)===TA(p)?(t[h]=Math.max(Mt(bA(f),bA(p),i),0),(Is.test(p)||Is.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=Mt(e.rotate||0,n.rotate||0,i))}function wA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const v8=ik(0,.5,Xx),_8=ik(.5,.95,Di);function ik(t,e,n){return i=>i<t?0:i>e?1:n(zu(t,e,i))}function b8(t,e,n){const i=Dn(t)?t:jl(t);return i.start(C_("",i,e,n)),i.animation}function Gu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const T8=(t,e)=>t.depth-e.depth;class w8{constructor(){this.children=[],this.isDirty=!1}add(e){c_(this.children,e),this.isDirty=!0}remove(e){u_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(T8),this.isDirty=!1,this.children.forEach(e)}}function E8(t,e){const n=Vn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(ma(i),t(l-e))};return Rt.setup(i,!0),()=>ma(i)}function wd(t){return Dn(t)?t.get():t}class S8{constructor(){this.members=[]}add(e){c_(this.members,e),e.scheduleRender()}remove(e){if(u_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ed={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Iy=["","X","Y","Z"],A8=1e3;let C8=0;function xy(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function sk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=SD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Rt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&sk(i)}function rk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=C8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(x8),this.nodes.forEach(N8),this.nodes.forEach(P8),this.nodes.forEach(D8)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new w8)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new d_),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=OD(c)&&!IB(c),this.instance=c;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let y,v=0;const b=()=>this.root.updateBlockedByResize=!1;Rt.read(()=>{v=window.innerWidth}),t(c,()=>{const I=window.innerWidth;I!==v&&(v=I,this.root.updateBlockedByResize=!0,y&&y(),y=E8(b,250),Ed.hasAnimatedSinceResize&&(Ed.hasAnimatedSinceResize=!1,this.nodes.forEach(AA)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||j8,{onLayoutAnimationStart:P,onLayoutAnimationComplete:z}=p.getProps(),j=!this.targetLayout||!tk(this.targetLayout,I),L=!v&&b;if(this.options.layoutRoot||this.resumeFrom||L||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...A_(N,"layout"),onPlay:P,onComplete:z};(p.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(y,L)}else v||AA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ma(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(O8),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(EA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(SA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(M8),this.nodes.forEach(R8),this.nodes.forEach(I8)):this.nodes.forEach(SA),this.clearAllSnapshots();const h=Vn.now();Tn.delta=Ds(0,1e3/60,h-Tn.timestamp),Tn.timestamp=h,Tn.isProcessing=!0,by.update.process(Tn),by.preRender.process(Tn),by.render.process(Tn),Tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,D_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(k8),this.sharedNodes.forEach(V8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ln(this.snapshot.measuredBox.x)&&!Ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=on(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!ek(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||no(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),F8(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return on();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(z8))){const{scroll:p}=this.root;p&&(Tl(h.x,p.offset.x),Tl(h.y,p.offset.y))}return h}removeElementScroll(c){const h=on();if($i(h,c),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&$i(h,c),Tl(h.x,y.offset.x),Tl(h.y,y.offset.y))}return h}applyTransform(c,h=!1){const f=on();$i(f,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&wl(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),no(y.latestValues)&&wl(f,y.latestValues)}return no(this.latestValues)&&wl(f,this.latestValues),f}removeTransform(c){const h=on();$i(h,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!no(p.latestValues))continue;Pv(p.latestValues)&&p.updateSnapshot();const y=on(),v=p.measurePageBox();$i(y,v),mA(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return no(this.latestValues)&&mA(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=Tn.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=on(),this.targetWithTransforms=on()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$i(this.target,this.layout.layoutBox),BD(this.target,this.targetDelta)):$i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Pv(this.parent.latestValues)||zD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),om(this.relativeTargetOrigin,h,f),$i(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Tn.timestamp&&(f=!1),f)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;$i(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;jB(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=on());const{target:I}=c;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lA(this.prevProjectionDelta.x,this.projectionDelta.x),lA(this.prevProjectionDelta.y,this.projectionDelta.y)),Iu(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!_A(this.projectionDelta.x,this.prevProjectionDelta.x)||!_A(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bl(),this.projectionDelta=bl(),this.projectionDeltaWithTransform=bl()}setAnimationOrigin(c,h=!1){const f=this.snapshot,p=f?f.latestValues:{},y={...this.latestValues},v=bl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=on(),I=f?f.source:void 0,N=this.layout?this.layout.source:void 0,P=I!==N,z=this.getStack(),j=!z||z.members.length<=1,L=!!(P&&!j&&this.options.crossfade===!0&&!this.path.some(U8));this.animationProgress=0;let U;this.mixTargetDelta=ce=>{const F=ce/1e3;CA(v.x,c.x,F),CA(v.y,c.y,F),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(om(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),L8(this.relativeTarget,this.relativeTargetOrigin,b,F),U&&m8(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=on()),$i(U,this.relativeTarget)),P&&(this.animationValues=y,y8(y,p,this.latestValues,F,L,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ma(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{Ed.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jl(0)),this.currentAnimation=b8(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(A8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:y}=c;if(!(!h||!f||!p)){if(this!==c&&this.layout&&p&&ak(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||on();const v=Ln(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const b=Ln(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+b}$i(h,f),wl(h,y),Iu(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new S8),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&xy("z",c,p,this.animationValues);for(let y=0;y<Iy.length;y++)xy(`rotate${Iy[y]}`,c,p,this.animationValues),xy(`skew${Iy[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=wd(h?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=wd(h?.pointerEvents)||""),this.hasProjected&&!no(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=p8(this.projectionDeltaWithTransform,this.treeScale,y);f&&(v=f(y,v)),c.transform=v;const{x:b,y:I}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${I.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const N in Vv){if(y[N]===void 0)continue;const{correct:P,applyTo:z,isCSSVariable:j}=Vv[N],L=v==="none"?y[N]:P(y[N],p);if(z){const U=z.length;for(let ce=0;ce<U;ce++)c[z[ce]]=L}else j?this.options.visualElement.renderState.vars[N]=L:c[N]=L}this.options.layoutId&&(c.pointerEvents=p===this?wd(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(EA),this.root.sharedNodes.clear()}}}function R8(t){t.updateLayout()}function I8(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Ai(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],b=Ln(v);v.min=n[y].min,v.max=v.min+b}):ak(a,e.layoutBox,n)&&Ai(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],b=Ln(n[y]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const c=bl();Iu(c,n,e.layoutBox);const h=bl();l?Iu(h,t.applyTransform(i,!0),e.measuredBox):Iu(h,n,e.layoutBox);const f=!ek(c);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:b}=y;if(v&&b){const I=on();om(I,e.layoutBox,v.layoutBox);const N=on();om(N,n,b.layoutBox),tk(I,N)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=I,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function x8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function D8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function k8(t){t.clearSnapshot()}function EA(t){t.clearMeasurements()}function SA(t){t.isLayoutDirty=!1}function M8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function AA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function N8(t){t.resolveTargetDelta()}function P8(t){t.calcProjection()}function O8(t){t.resetSkewAndRotation()}function V8(t){t.removeLeadSnapshot()}function CA(t,e,n){t.translate=Mt(e.translate,0,n),t.scale=Mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function RA(t,e,n,i){t.min=Mt(e.min,n.min,i),t.max=Mt(e.max,n.max,i)}function L8(t,e,n,i){RA(t.x,e.x,n.x,i),RA(t.y,e.y,n.y,i)}function U8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const j8={duration:.45,ease:[.4,0,.1,1]},IA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),xA=IA("applewebkit/")&&!IA("chrome/")?Math.round:Di;function DA(t){t.min=xA(t.min),t.max=xA(t.max)}function F8(t){DA(t.x),DA(t.y)}function ak(t,e,n){return t==="position"||t==="preserve-aspect"&&!c8(vA(e),vA(n),.2)}function z8(t){return t!==t.root&&t.scroll?.wasRoot}const B8=rk({attachResizeListener:(t,e)=>Gu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Dy={current:void 0},ok=rk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dy.current){const t=new B8({});t.mount(window),t.setOptions({layoutScroll:!0}),Dy.current=t}return Dy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),V_=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function kA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function q8(...t){return e=>{let n=!1;const i=t.map(a=>{const l=kA(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():kA(t[a],null)}}}}function H8(...t){return C.useCallback(q8(...t),t)}class G8 extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=Mv(i)&&i.offsetWidth||0,l=Mv(i)&&i.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function $8({children:t,isPresent:e,anchorX:n,anchorY:i,root:a}){const l=C.useId(),c=C.useRef(null),h=C.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=C.useContext(V_),p=t.props?.ref??t?.ref,y=H8(c,p);return C.useInsertionEffect(()=>{const{width:v,height:b,top:I,left:N,right:P,bottom:z}=h.current;if(e||!c.current||!v||!b)return;const j=n==="left"?`left: ${N}`:`right: ${P}`,L=i==="bottom"?`bottom: ${z}`:`top: ${I}`;c.current.dataset.motionPopId=l;const U=document.createElement("style");f&&(U.nonce=f);const ce=a??document.head;return ce.appendChild(U),U.sheet&&U.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${b}px !important;
            ${j}px !important;
            ${L}px !important;
          }
        `),()=>{ce.contains(U)&&ce.removeChild(U)}},[e]),M.jsx(G8,{isPresent:e,childRef:c,sizeRef:h,children:C.cloneElement(t,{ref:y})})}const K8=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,anchorY:f,root:p})=>{const y=l_(Y8),v=C.useId();let b=!0,I=C.useMemo(()=>(b=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:N=>{y.set(N,!0);for(const P of y.values())if(!P)return;i&&i()},register:N=>(y.set(N,!1),()=>y.delete(N))}),[n,y,i]);return l&&b&&(I={...I}),C.useMemo(()=>{y.forEach((N,P)=>y.set(P,!1))},[n]),C.useEffect(()=>{!n&&!y.size&&i&&i()},[n]),c==="popLayout"&&(t=M.jsx($8,{isPresent:n,anchorX:h,anchorY:f,root:p,children:t})),M.jsx(Bm.Provider,{value:I,children:t})};function Y8(){return new Map}function lk(t=!0){const e=C.useContext(Bm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=C.useId();C.useEffect(()=>{if(t)return a(l)},[t]);const c=C.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const Xf=t=>t.key||"";function MA(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const Gm=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",anchorY:f="top",root:p})=>{const[y,v]=lk(c),b=C.useMemo(()=>MA(t),[t]),I=c&&!y?[]:b.map(Xf),N=C.useRef(!0),P=C.useRef(b),z=l_(()=>new Map),j=C.useRef(new Set),[L,U]=C.useState(b),[ce,F]=C.useState(b);Fx(()=>{N.current=!1,P.current=b;for(let E=0;E<ce.length;E++){const D=Xf(ce[E]);I.includes(D)?(z.delete(D),j.current.delete(D)):z.get(D)!==!0&&z.set(D,!1)}},[ce,I.length,I.join("-")]);const X=[];if(b!==L){let E=[...b];for(let D=0;D<ce.length;D++){const O=ce[D],V=Xf(O);I.includes(V)||(E.splice(D,0,O),X.push(O))}return l==="wait"&&X.length&&(E=X),F(MA(E)),U(b),null}const{forceRender:S}=C.useContext(o_);return M.jsx(M.Fragment,{children:ce.map(E=>{const D=Xf(E),O=c&&!y?!1:b===ce||I.includes(D),V=()=>{if(j.current.has(D))return;if(j.current.add(D),z.has(D))z.set(D,!0);else return;let k=!0;z.forEach(A=>{A||(k=!1)}),k&&(S?.(),F(P.current),c&&v?.(),i&&i())};return M.jsx(K8,{isPresent:O,initial:!N.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:O?void 0:V,anchorX:h,anchorY:f,children:E},D)})})},ck=C.createContext({strict:!1}),NA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let PA=!1;function W8(){if(PA)return;const t={};for(const e in NA)t[e]={isEnabled:n=>NA[e].some(i=>!!n[i])};UD(t),PA=!0}function uk(){return W8(),OB()}function Q8(t){const e=uk();for(const n in t)e[n]={...e[n],...t[n]};UD(e)}const X8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||X8.has(t)}let hk=t=>!lm(t);function J8(t){typeof t=="function"&&(hk=e=>e.startsWith("on")?!lm(e):t(e))}try{J8(require("@emotion/is-prop-valid").default)}catch{}function Z8(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(hk(a)||n===!0&&lm(a)||!e&&!lm(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const $m=C.createContext({});function e7(t,e){if(Hm(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Hu(n)?n:void 0,animate:Hu(i)?i:void 0}}return t.inherit!==!1?e:{}}function t7(t){const{initial:e,animate:n}=e7(t,C.useContext($m));return C.useMemo(()=>({initial:e,animate:n}),[OA(e),OA(n)])}function OA(t){return Array.isArray(t)?t.join(" "):t}const L_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fk(t,e,n){for(const i in e)!Dn(e[i])&&!GD(i,n)&&(t[i]=e[i])}function n7({transformTemplate:t},e){return C.useMemo(()=>{const n=L_();return P_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function i7(t,e){const n=t.style||{},i={};return fk(i,n,t),Object.assign(i,n7(t,e)),i}function s7(t,e){const n={},i=i7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const dk=()=>({...L_(),attrs:{}});function r7(t,e,n,i){const a=C.useMemo(()=>{const l=dk();return $D(l,e,YD(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};fk(l,t.style,t),a.style={...l,...a.style}}return a}const a7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function U_(t){return typeof t!="string"||t.includes("-")?!1:!!(a7.indexOf(t)>-1||/[A-Z]/u.test(t))}function o7(t,e,n,{latestValues:i},a,l=!1,c){const f=(c??U_(t)?r7:s7)(e,i,a,t),p=Z8(e,typeof t=="string",l),y=t!==C.Fragment?{...p,...f,ref:n}:{},{children:v}=e,b=C.useMemo(()=>Dn(v)?v.get():v,[v]);return C.createElement(t,{...y,children:b})}function l7({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:c7(n,i,a,t),renderState:e()}}function c7(t,e,n,i){const a={},l=i(t,{});for(const b in l)a[b]=wd(l[b]);let{initial:c,animate:h}=t;const f=Hm(t),p=LD(t);e&&p&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const v=y?h:c;if(v&&typeof v!="boolean"&&!qm(v)){const b=Array.isArray(v)?v:[v];for(let I=0;I<b.length;I++){const N=R_(t,b[I]);if(N){const{transitionEnd:P,transition:z,...j}=N;for(const L in j){let U=j[L];if(Array.isArray(U)){const ce=y?U.length-1:0;U=U[ce]}U!==null&&(a[L]=U)}for(const L in P)a[L]=P[L]}}}return a}const mk=t=>(e,n)=>{const i=C.useContext($m),a=C.useContext(Bm),l=()=>l7(t,e,i,a);return n?l():l_(l)},u7=mk({scrapeMotionValuesFromProps:O_,createRenderState:L_}),h7=mk({scrapeMotionValuesFromProps:WD,createRenderState:dk}),f7=Symbol.for("motionComponentSymbol");function d7(t,e,n){const i=C.useRef(n);C.useInsertionEffect(()=>{i.current=n});const a=C.useRef(null);return C.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=i.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const pk=C.createContext({});function vu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function m7(t,e,n,i,a,l){const{visualElement:c}=C.useContext($m),h=C.useContext(ck),f=C.useContext(Bm),p=C.useContext(V_).reducedMotion,y=C.useRef(null);i=i||h.renderer,!y.current&&i&&(y.current=i(t,{visualState:e,parent:c,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p,isSVG:l}));const v=y.current,b=C.useContext(pk);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&p7(y.current,n,a,b);const I=C.useRef(!1);C.useInsertionEffect(()=>{v&&I.current&&v.update(n,f)});const N=n[ED],P=C.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return Fx(()=>{v&&(I.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),P.current&&v.animationState&&v.animationState.animateChanges())}),C.useEffect(()=>{v&&(!P.current&&v.animationState&&v.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),P.current=!1),v.enteringChildren=void 0)}),v}function p7(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:gk(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&vu(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:f,layoutRoot:p})}function gk(t){if(t)return t.options.allowProjection!==!1?t.projection:gk(t.parent)}function ky(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&Q8(i);const l=n?n==="svg":U_(t),c=l?h7:u7;function h(p,y){let v;const b={...C.useContext(V_),...p,layoutId:g7(p)},{isStatic:I}=b,N=t7(p),P=c(p,I);if(!I&&jx){y7();const z=v7(b);v=z.MeasureLayout,N.visualElement=m7(t,P,b,a,z.ProjectionNode,l)}return M.jsxs($m.Provider,{value:N,children:[v&&N.visualElement?M.jsx(v,{visualElement:N.visualElement,...b}):null,o7(t,p,d7(P,N.visualElement,y),P,I,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=C.forwardRef(h);return f[f7]=t,f}function g7({layoutId:t}){const e=C.useContext(o_).id;return e&&t!==void 0?e+"-"+t:t}function y7(t,e){C.useContext(ck).strict}function v7(t){const e=uk(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function _7(t,e){if(typeof Proxy>"u")return ky;const n=new Map,i=(l,c)=>ky(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,ky(c,void 0,t,e)),n.get(c))})}const b7=(t,e)=>e.isSVG??U_(t)?new JB(e):new $B(e,{allowProjection:t!==C.Fragment});class T7 extends Ta{constructor(e){super(e),e.animationState||(e.animationState=i8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let w7=0;class E7 extends Ta{constructor(){super(...arguments),this.id=w7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const S7={animation:{Feature:T7},exit:{Feature:E7}};function hh(t){return{point:{x:t.pageX,y:t.pageY}}}const A7=t=>e=>k_(e)&&t(e,hh(e));function xu(t,e,n,i){return Gu(t,e,A7(n),i)}const yk=({current:t})=>t?t.ownerDocument.defaultView:null,VA=(t,e)=>Math.abs(t-e);function C7(t,e){const n=VA(t.x,e.x),i=VA(t.y,e.y);return Math.sqrt(n**2+i**2)}const LA=new Set(["auto","scroll"]);class vk{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=I=>{this.handleScroll(I.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Ny(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,P=C7(I.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!P)return;const{point:z}=I,{timestamp:j}=Tn;this.history.push({...z,timestamp:j});const{onStart:L,onMove:U}=this.handlers;N||(L&&L(this.lastMoveEvent,I),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,I)},this.handlePointerMove=(I,N)=>{this.lastMoveEvent=I,this.lastMoveEventInfo=My(N,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(I,N)=>{this.end();const{onEnd:P,onSessionEnd:z,resumeAnimation:j}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Ny(I.type==="pointercancel"?this.lastMoveEventInfo:My(N,this.transformPagePoint),this.history);this.startEvent&&P&&P(I,L),z&&z(I,L)},!k_(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const f=hh(e),p=My(f,this.transformPagePoint),{point:y}=p,{timestamp:v}=Tn;this.history=[{...y,timestamp:v}];const{onSessionStart:b}=n;b&&b(e,Ny(p,this.history)),this.removeListeners=lh(xu(this.contextWindow,"pointermove",this.handlePointerMove),xu(this.contextWindow,"pointerup",this.handlePointerUp),xu(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(LA.has(i.overflowX)||LA.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Rt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ma(this.updatePoint)}}function My(t,e){return e?{point:e(t.point)}:t}function UA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ny({point:t},e){return{point:t,delta:UA(t,_k(e)),offset:UA(t,R7(e)),velocity:I7(e,.1)}}function R7(t){return t[0]}function _k(t){return t[t.length-1]}function I7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=_k(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>nr(e)));)n--;if(!i)return{x:0,y:0};const l=Ri(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function x7(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Mt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Mt(n,t,i.max):Math.min(t,n)),t}function jA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function D7(t,{top:e,left:n,bottom:i,right:a}){return{x:jA(t.x,n,a),y:jA(t.y,e,i)}}function FA(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function k7(t,e){return{x:FA(t.x,e.x),y:FA(t.y,e.y)}}function M7(t,e){let n=.5;const i=Ln(t),a=Ln(e);return a>i?n=zu(e.min,e.max-i,t.min):i>a&&(n=zu(t.min,t.max-a,e.min)),Ds(0,1,n)}function N7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Lv=.35;function P7(t=Lv){return t===!1?t=0:t===!0&&(t=Lv),{x:zA(t,"left","right"),y:zA(t,"top","bottom")}}function zA(t,e,n){return{min:BA(t,e),max:BA(t,n)}}function BA(t,e){return typeof t=="number"?t:t[e]||0}const O7=new WeakMap;class V7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=on(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(hh(v).point)):this.pauseAnimation()},c=(v,b)=>{this.stopAnimation();const{drag:I,dragPropagation:N,onDragStart:P}=this.getProps();if(I&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EB(I),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ai(j=>{let L=this.getAxisMotionValue(j).get()||0;if(Is.test(L)){const{projection:U}=this.visualElement;if(U&&U.layout){const ce=U.layout.layoutBox[j];ce&&(L=Ln(ce)*(parseFloat(L)/100))}}this.originPoint[j]=L}),P&&Rt.postRender(()=>P(v,b)),xv(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:I,dragDirectionLock:N,onDirectionLock:P,onDrag:z}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:j}=b;if(N&&this.currentDirection===null){this.currentDirection=L7(j),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",b.point,j),this.updateAxis("y",b.point,j),this.visualElement.render(),z&&z(v,b)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Ai(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new vk(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:yk(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Rt.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Jf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=x7(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&vu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=D7(i.layoutBox,e):this.constraints=!1,this.elastic=P7(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ai(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=N7(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!vu(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=FB(i,a.root,this.visualElement.getTransformPagePoint());let c=k7(a.layout.layoutBox,l);if(n){const h=n(LB(c));this.hasMutatedConstraints=!!h,h&&(c=FD(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Ai(y=>{if(!Jf(y,n,this.currentDirection))return;let v=f&&f[y]||{};c&&(v={min:0,max:0});const b=a?200:1e6,I=a?40:1e7,N={type:"inertia",velocity:i?e[y]:0,bounceStiffness:b,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,N)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return xv(this.visualElement,e),i.start(C_(e,i,0,n,this.visualElement,!1))}stopAnimation(){Ai(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ai(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ai(n=>{const{drag:i}=this.getProps();if(!Jf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],f=l.get()||0;l.set(e[n]-Mt(c,h,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!vu(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ai(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();a[c]=M7({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ai(c=>{if(!Jf(c,e,null))return;const h=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];h.set(Mt(f,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;O7.set(this.visualElement,this);const e=this.visualElement.current,n=xu(e,"pointerdown",f=>{const{drag:p,dragListener:y=!0}=this.getProps(),v=f.target,b=v!==e&&PD(v);p&&y&&!b&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();vu(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Rt.read(i);const c=Gu(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ai(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=f[y].translate,v.set(v.get()+f[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Lv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Jf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function L7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class U7 extends Ta{constructor(e){super(e),this.removeGroupControls=Di,this.removeListeners=Di,this.controls=new V7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Di}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const qA=t=>(e,n)=>{t&&Rt.postRender(()=>t(e,n))};class j7 extends Ta{constructor(){super(...arguments),this.removePointerDownListener=Di}onPointerDown(e){this.session=new vk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:qA(e),onStart:qA(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&Rt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=xu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Py=!1;class F7 extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Py&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Ed.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Py=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Rt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),D_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Py=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bk(t){const[e,n]=lk(),i=C.useContext(o_);return M.jsx(F7,{...t,layoutGroup:i,switchLayoutGroup:C.useContext(pk),isPresent:e,safeToRemove:n})}const z7={pan:{Feature:j7},drag:{Feature:U7,ProjectionNode:ok,MeasureLayout:bk}};function HA(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&Rt.postRender(()=>l(e,hh(e)))}class B7 extends Ta{mount(){const{current:e}=this.node;e&&(this.unmount=SB(e,(n,i)=>(HA(this.node,i,"Start"),a=>HA(this.node,a,"End"))))}unmount(){}}class q7 extends Ta{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lh(Gu(this.node.current,"focus",()=>this.onFocus()),Gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function GA(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&Rt.postRender(()=>l(e,hh(e)))}class H7 extends Ta{mount(){const{current:e}=this.node;e&&(this.unmount=RB(e,(n,i)=>(GA(this.node,i,"Start"),(a,{success:l})=>GA(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Uv=new WeakMap,Oy=new WeakMap,G7=t=>{const e=Uv.get(t.target);e&&e(t)},$7=t=>{t.forEach(G7)};function K7({root:t,...e}){const n=t||document;Oy.has(n)||Oy.set(n,{});const i=Oy.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver($7,{root:t,...e})),i[a]}function Y7(t,e,n){const i=K7(e);return Uv.set(t,n),i.observe(t),()=>{Uv.delete(t),i.unobserve(t)}}const W7={some:0,all:1};class Q7 extends Ta{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:W7[a]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),b=p?y:v;b&&b(f)};return Y7(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(X7(e,n))&&this.startObserver()}unmount(){}}function X7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const J7={inView:{Feature:Q7},tap:{Feature:H7},focus:{Feature:q7},hover:{Feature:B7}},Z7={layout:{ProjectionNode:ok,MeasureLayout:bk}},eq={...S7,...J7,...z7,...Z7},Yi=_7(eq,b7);const tq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),$A=t=>{const e=nq(t);return e.charAt(0).toUpperCase()+e.slice(1)},Tk=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),iq=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var sq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rq=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...h},f)=>C.createElement("svg",{ref:f,...sq,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Tk("lucide",a),...!l&&!iq(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,y])=>C.createElement(p,y)),...Array.isArray(l)?l:[l]]));const Tt=(t,e)=>{const n=C.forwardRef(({className:i,...a},l)=>C.createElement(rq,{ref:l,iconNode:e,className:Tk(`lucide-${tq($A(t))}`,`lucide-${t}`,i),...a}));return n.displayName=$A(t),n};const aq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],oq=Tt("activity",aq);const lq=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],cq=Tt("arrow-left",lq);const uq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hq=Tt("arrow-right",uq);const fq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],cm=Tt("calendar",fq);const dq=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],mq=Tt("car",dq);const pq=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],gq=Tt("chart-pie",pq);const yq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vq=Tt("check",yq);const _q=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bq=Tt("chevron-left",_q);const Tq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jv=Tt("chevron-right",Tq);const wq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Eq=Tt("circle-check",wq);const Sq=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Aq=Tt("clock",Sq);const Cq=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],wk=Tt("house",Cq);const Rq=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Iq=Tt("indian-rupee",Rq);const xq=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Dq=Tt("layout-grid",xq);const kq=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],Ek=Tt("list-todo",kq);const Mq=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Nq=Tt("list",Mq);const Pq=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Oq=Tt("log-out",Pq);const Vq=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Lq=Tt("menu",Vq);const Uq=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],jq=Tt("moon",Uq);const Fq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],zq=Tt("panels-top-left",Fq);const Bq=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sk=Tt("settings",Bq);const qq=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Hq=Tt("sparkles",qq);const Gq=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$q=Tt("square-check-big",Gq);const Kq=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Yq=Tt("sun",Kq);const Wq=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Qq=Tt("utensils",Wq);const Xq=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Jq=Tt("wallet",Xq);const Zq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],j_=Tt("x",Zq);const eH=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],tH=Tt("zap",eH),nH=()=>{const[t,e]=C.useState(!1),[n,i]=C.useState(null),[a,l]=C.useState(!1),c=async()=>{i(null),l(!0);try{await sR(Xd),t||(l(!1),i(null))}catch(h){t||(console.log(h.message),i(h.message),l(!1))}};return C.useEffect(()=>()=>e(!0),[]),{logout:c,error:n,isPending:a}};function Ak(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=Ak(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Fv(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=Ak(t))&&(i&&(i+=" "),i+=e);return i}const iH=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},sH=(t,e)=>({classGroupId:t,validator:e}),Ck=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),um="-",KA=[],rH="arbitrary..",aH=t=>{const e=lH(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return oH(c);const h=c.split(um),f=h[0]===""&&h.length>1?1:0;return Rk(h,f,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const f=i[c],p=n[c];return f?p?iH(p,f):f:p||KA}return n[c]||KA}}},Rk=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=Rk(t,e+1,l);if(p)return p}const c=n.validators;if(c===null)return;const h=e===0?t.join(um):t.slice(e).join(um),f=c.length;for(let p=0;p<f;p++){const y=c[p];if(y.validator(h))return y.classGroupId}},oH=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?rH+i:void 0})(),lH=t=>{const{theme:e,classGroups:n}=t;return cH(n,e)},cH=(t,e)=>{const n=Ck();for(const i in t){const a=t[i];F_(a,n,i,e)}return n},F_=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];uH(c,e,n,i)}},uH=(t,e,n,i)=>{if(typeof t=="string"){hH(t,e,n);return}if(typeof t=="function"){fH(t,e,n,i);return}dH(t,e,n,i)},hH=(t,e,n)=>{const i=t===""?e:Ik(e,t);i.classGroupId=n},fH=(t,e,n,i)=>{if(mH(t)){F_(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(sH(n,t))},dH=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,f]=a[c];F_(f,Ik(e,h),n,i)}},Ik=(t,e)=>{let n=t;const i=e.split(um),a=i.length;for(let l=0;l<a;l++){const c=i[l];let h=n.nextPart.get(c);h||(h=Ck(),n.nextPart.set(c,h)),n=h}return n},mH=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,pH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},zv="!",YA=":",gH=[],WA=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),yH=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,h=0,f=0,p;const y=a.length;for(let P=0;P<y;P++){const z=a[P];if(c===0&&h===0){if(z===YA){l.push(a.slice(f,P)),f=P+1;continue}if(z==="/"){p=P;continue}}z==="["?c++:z==="]"?c--:z==="("?h++:z===")"&&h--}const v=l.length===0?a:a.slice(f);let b=v,I=!1;v.endsWith(zv)?(b=v.slice(0,-1),I=!0):v.startsWith(zv)&&(b=v.slice(1),I=!0);const N=p&&p>f?p-f:void 0;return WA(l,I,b,N)};if(e){const a=e+YA,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):WA(gH,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},vH=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",f=e.has(c);h||f?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},_H=t=>({cache:pH(t.cacheSize),parseClassName:yH(t),sortModifiers:vH(t),...aH(t)}),bH=/\s+/,TH=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(bH);let f="";for(let p=h.length-1;p>=0;p-=1){const y=h[p],{isExternal:v,modifiers:b,hasImportantModifier:I,baseClassName:N,maybePostfixModifierPosition:P}=n(y);if(v){f=y+(f.length>0?" "+f:f);continue}let z=!!P,j=i(z?N.substring(0,P):N);if(!j){if(!z){f=y+(f.length>0?" "+f:f);continue}if(j=i(N),!j){f=y+(f.length>0?" "+f:f);continue}z=!1}const L=b.length===0?"":b.length===1?b[0]:l(b).join(":"),U=I?L+zv:L,ce=U+j;if(c.indexOf(ce)>-1)continue;c.push(ce);const F=a(j,z);for(let X=0;X<F.length;++X){const S=F[X];c.push(U+S)}f=y+(f.length>0?" "+f:f)}return f},wH=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=xk(n))&&(a&&(a+=" "),a+=i);return a},xk=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=xk(t[i]))&&(n&&(n+=" "),n+=e);return n},EH=(t,...e)=>{let n,i,a,l;const c=f=>{const p=e.reduce((y,v)=>v(y),t());return n=_H(p),i=n.cache.get,a=n.cache.set,l=h,h(f)},h=f=>{const p=i(f);if(p)return p;const y=TH(f,n);return a(f,y),y};return l=c,(...f)=>l(wH(...f))},SH=[],an=t=>{const e=n=>n[t]||SH;return e.isThemeGetter=!0,e},Dk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,kk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,AH=/^\d+\/\d+$/,CH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,xH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ml=t=>AH.test(t),Qe=t=>!!t&&!Number.isNaN(Number(t)),Kr=t=>!!t&&Number.isInteger(Number(t)),Vy=t=>t.endsWith("%")&&Qe(t.slice(0,-1)),Qs=t=>CH.test(t),kH=()=>!0,MH=t=>RH.test(t)&&!IH.test(t),Mk=()=>!1,NH=t=>xH.test(t),PH=t=>DH.test(t),OH=t=>!Ie(t)&&!xe(t),VH=t=>Jl(t,Ok,Mk),Ie=t=>Dk.test(t),Za=t=>Jl(t,Vk,MH),Ly=t=>Jl(t,zH,Qe),QA=t=>Jl(t,Nk,Mk),LH=t=>Jl(t,Pk,PH),Zf=t=>Jl(t,Lk,NH),xe=t=>kk.test(t),cu=t=>Zl(t,Vk),UH=t=>Zl(t,BH),XA=t=>Zl(t,Nk),jH=t=>Zl(t,Ok),FH=t=>Zl(t,Pk),ed=t=>Zl(t,Lk,!0),Jl=(t,e,n)=>{const i=Dk.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},Zl=(t,e,n=!1)=>{const i=kk.exec(t);return i?i[1]?e(i[1]):n:!1},Nk=t=>t==="position"||t==="percentage",Pk=t=>t==="image"||t==="url",Ok=t=>t==="length"||t==="size"||t==="bg-size",Vk=t=>t==="length",zH=t=>t==="number",BH=t=>t==="family-name",Lk=t=>t==="shadow",qH=()=>{const t=an("color"),e=an("font"),n=an("text"),i=an("font-weight"),a=an("tracking"),l=an("leading"),c=an("breakpoint"),h=an("container"),f=an("spacing"),p=an("radius"),y=an("shadow"),v=an("inset-shadow"),b=an("text-shadow"),I=an("drop-shadow"),N=an("blur"),P=an("perspective"),z=an("aspect"),j=an("ease"),L=an("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...ce(),xe,Ie],X=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],E=()=>[xe,Ie,f],D=()=>[ml,"full","auto",...E()],O=()=>[Kr,"none","subgrid",xe,Ie],V=()=>["auto",{span:["full",Kr,xe,Ie]},Kr,xe,Ie],k=()=>[Kr,"auto",xe,Ie],A=()=>["auto","min","max","fr",xe,Ie],K=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...E()],te=()=>[ml,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],W=()=>[t,xe,Ie],_e=()=>[...ce(),XA,QA,{position:[xe,Ie]}],Pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",jH,VH,{size:[xe,Ie]}],ae=()=>[Vy,cu,Za],pe=()=>["","none","full",p,xe,Ie],ne=()=>["",Qe,cu,Za],ie=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[Qe,Vy,XA,QA],we=()=>["","none",N,xe,Ie],de=()=>["none",Qe,xe,Ie],Le=()=>["none",Qe,xe,Ie],We=()=>[Qe,xe,Ie],Me=()=>[ml,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qs],breakpoint:[Qs],color:[kH],container:[Qs],"drop-shadow":[Qs],ease:["in","out","in-out"],font:[OH],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qs],shadow:[Qs],spacing:["px",Qe],text:[Qs],"text-shadow":[Qs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ml,Ie,xe,z]}],container:["container"],columns:[{columns:[Qe,Ie,xe,h]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Kr,"auto",xe,Ie]}],basis:[{basis:[ml,"full","auto",h,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Qe,ml,"auto","initial","none",Ie]}],grow:[{grow:["",Qe,xe,Ie]}],shrink:[{shrink:["",Qe,xe,Ie]}],order:[{order:[Kr,"first","last","none",xe,Ie]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[h,"screen",...te()]}],"min-w":[{"min-w":[h,"screen","none",...te()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,cu,Za]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,xe,Ly]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Vy,Ie]}],"font-family":[{font:[UH,Ie,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,xe,Ie]}],"line-clamp":[{"line-clamp":[Qe,"none",xe,Ly]}],leading:[{leading:[l,...E()]}],"list-image":[{"list-image":["none",xe,Ie]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,Ie]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[Qe,"from-font","auto",xe,Za]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Qe,"auto",xe,Ie]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:_e()}],"bg-repeat":[{bg:Pe()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Kr,xe,Ie],radial:["",xe,Ie],conic:[Kr,xe,Ie]},FH,LH]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:ae()}],"gradient-via-pos":[{via:ae()}],"gradient-to-pos":[{to:ae()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ie(),"hidden","none"]}],"divide-style":[{divide:[...ie(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Qe,xe,Ie]}],"outline-w":[{outline:["",Qe,cu,Za]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",y,ed,Zf]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",v,ed,Zf]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Qe,Za]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",b,ed,Zf]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Qe,xe,Ie]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[xe,Ie]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ce()}],"mask-image-conic-pos":[{"mask-conic":[Qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:_e()}],"mask-repeat":[{mask:Pe()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,Ie]}],filter:[{filter:["","none",xe,Ie]}],blur:[{blur:we()}],brightness:[{brightness:[Qe,xe,Ie]}],contrast:[{contrast:[Qe,xe,Ie]}],"drop-shadow":[{"drop-shadow":["","none",I,ed,Zf]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Qe,xe,Ie]}],"hue-rotate":[{"hue-rotate":[Qe,xe,Ie]}],invert:[{invert:["",Qe,xe,Ie]}],saturate:[{saturate:[Qe,xe,Ie]}],sepia:[{sepia:["",Qe,xe,Ie]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,Ie]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[Qe,xe,Ie]}],"backdrop-contrast":[{"backdrop-contrast":[Qe,xe,Ie]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Qe,xe,Ie]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Qe,xe,Ie]}],"backdrop-invert":[{"backdrop-invert":["",Qe,xe,Ie]}],"backdrop-opacity":[{"backdrop-opacity":[Qe,xe,Ie]}],"backdrop-saturate":[{"backdrop-saturate":[Qe,xe,Ie]}],"backdrop-sepia":[{"backdrop-sepia":["",Qe,xe,Ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,Ie]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Qe,"initial",xe,Ie]}],ease:[{ease:["linear","initial",j,xe,Ie]}],delay:[{delay:[Qe,xe,Ie]}],animate:[{animate:["none",L,xe,Ie]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,xe,Ie]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:de()}],"rotate-x":[{"rotate-x":de()}],"rotate-y":[{"rotate-y":de()}],"rotate-z":[{"rotate-z":de()}],scale:[{scale:Le()}],"scale-x":[{"scale-x":Le()}],"scale-y":[{"scale-y":Le()}],"scale-z":[{"scale-z":Le()}],"scale-3d":["scale-3d"],skew:[{skew:We()}],"skew-x":[{"skew-x":We()}],"skew-y":[{"skew-y":We()}],transform:[{transform:[xe,Ie,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Me()}],"translate-x":[{"translate-x":Me()}],"translate-y":[{"translate-y":Me()}],"translate-z":[{"translate-z":Me()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,Ie]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,Ie]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Qe,cu,Za,Ly]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},HH=EH(qH);function JA(...t){return HH(Fv(t))}const hm=C.memo(({children:t,variant:e="primary",className:n,isLoading:i,disabled:a,forceScale:l,...c})=>{const h="inline-flex items-center justify-center rounded-lg text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-white active:scale-95",f={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-600 shadow-sm",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus:ring-slate-500",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus:ring-slate-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-600"},p={default:"h-10 py-2 px-4"};return M.jsx(Yi.button,{whileHover:{scale:a||i?1:1.02},whileTap:{scale:a||i?1:.98},transition:{duration:.1},className:JA(h,f[e],p.default,n),disabled:a||i,...c,children:i?M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("img",{src:a_,alt:"Loading...",className:JA("h-5 w-auto animate-pulse",(e==="primary"||e==="danger")&&"brightness-0 invert")}),M.jsx("span",{className:"opacity-70",children:"Processing..."})]}):t})});hm.displayName="Button";const GH=({isOpen:t,onClose:e})=>{const{currentDate:n,setDate:i,maxDate:a}=zm(),[l,c]=C.useState(new Date(n)),[h,f]=C.useState("day");C.useEffect(()=>{t&&(c(new Date(n)),f("day"))},[t,n]);const p=()=>{i(l),e()},y=new Date;y.setHours(0,0,0,0);const v=j=>j>y,b=(j,L)=>new Date(j,L+1,0).getDate(),I=(j,L)=>new Date(j,L,1).getDay(),N=()=>{const j=l.getFullYear(),L=l.getMonth(),U=b(j,L),ce=I(j,L),F=[];for(let X=0;X<ce;X++)F.push(null);for(let X=1;X<=U;X++)F.push(new Date(j,L,X));return F},P=j=>{const L=new Date(l);L.setMonth(L.getMonth()+j),c(L)},z=j=>{const L=new Date(l);L.setFullYear(j),L.getMonth()!==l.getMonth()&&L.setDate(0),c(L),f("day")};return M.jsx(Gm,{children:t&&M.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:M.jsxs(Yi.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-sm bg-white rounded-2xl shadow-xl overflow-hidden dark:bg-slate-900 border dark:border-slate-800",children:[M.jsxs("div",{className:"p-4 border-b dark:border-slate-800 flex items-center justify-between",children:[M.jsxs("h3",{className:"font-bold text-lg dark:text-white flex items-center gap-2",children:[M.jsx(cm,{className:"w-5 h-5 text-indigo-500"}),"Jump to Date"]}),M.jsx("button",{onClick:e,className:"p-1 hover:bg-slate-100 rounded-full dark:hover:bg-slate-800 transition-colors",children:M.jsx(j_,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"})})]}),M.jsxs("div",{className:"p-4",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4",children:[M.jsx("button",{onClick:()=>P(-1),className:"p-1 hover:bg-slate-100 rounded-lg dark:hover:bg-slate-800",children:M.jsx(bq,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:()=>f("month"),className:"font-bold text-slate-800 hover:bg-slate-100 px-2 py-1 rounded-md transition-colors dark:text-white dark:hover:bg-slate-800",children:l.toLocaleString("default",{month:"long"})}),M.jsx("button",{onClick:()=>f("year"),className:"font-bold text-slate-800 hover:bg-slate-100 px-2 py-1 rounded-md transition-colors dark:text-white dark:hover:bg-slate-800",children:l.getFullYear()})]}),M.jsx("button",{onClick:()=>P(1),disabled:l.getMonth()===y.getMonth()&&l.getFullYear()===y.getFullYear(),className:"p-1 hover:bg-slate-100 rounded-lg dark:hover:bg-slate-800 disabled:opacity-30",children:M.jsx(jv,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),M.jsxs("div",{className:"h-64 overflow-y-auto",children:[h==="day"&&M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-bold text-slate-400",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(j=>M.jsx("div",{children:j},j))}),M.jsx("div",{className:"grid grid-cols-7 gap-1",children:N().map((j,L)=>M.jsx("div",{className:"aspect-square flex items-center justify-center",children:j&&M.jsx("button",{onClick:()=>c(j),disabled:v(j),className:`
                                                                w-8 h-8 rounded-full text-sm font-medium transition-colors
                                                                ${j.getDate()===l.getDate()&&j.getMonth()===l.getMonth()?"bg-indigo-600 text-white":v(j)?"text-slate-300 dark:text-slate-700 cursor-not-allowed":"hover:bg-slate-100 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}
                                                            `,children:j.getDate()})},L))})]}),h==="month"&&M.jsx("div",{className:"grid grid-cols-3 gap-2",children:Array.from({length:12},(j,L)=>new Date(0,L)).map((j,L)=>M.jsx("button",{onClick:()=>{const U=new Date(l);U.setMonth(L),c(U),f("day")},className:`p-2 rounded-lg text-sm font-medium transition-colors ${l.getMonth()===L?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"hover:bg-slate-50 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:j.toLocaleString("default",{month:"short"})},L))}),h==="year"&&M.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:10},(j,L)=>y.getFullYear()-L).map(j=>M.jsx("button",{onClick:()=>z(j),className:`p-2 rounded-lg text-sm font-medium transition-colors ${l.getFullYear()===j?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"hover:bg-slate-50 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:j},j))})]})]}),M.jsxs("div",{className:"p-4 bg-slate-50 border-t dark:bg-slate-900 dark:border-slate-800 flex justify-end gap-2",children:[M.jsx(hm,{variant:"ghost",onClick:e,className:"dark:text-slate-400",children:"Cancel"}),M.jsx(hm,{onClick:p,children:"Jump"})]})]})})})},$H=({isOpen:t,onClose:e})=>{const{user:n}=ba(),{logout:i}=nH(),{setDate:a,formattedDate:l,maxDate:c}=zm(),h=wo(),[f,p]=C.useState(!1),y=async()=>{try{await i(),h("/login",{replace:!0})}catch(I){console.error("Logout error:",I),localStorage.clear(),window.location.hash="/login"}},v=[{icon:wk,label:"Dashboard",path:"/"},{icon:$q,label:"Daily Routine",path:"/routine"},{icon:cm,label:"History",path:"/history"},{icon:Sk,label:"Settings",path:"/settings"}],b=[{icon:Qq,label:"Plan Diet",path:"/diet-plan",color:"text-orange-500",bg:"bg-orange-50"},{icon:gq,label:"Analytics",path:"/analytics",color:"text-indigo-500",bg:"bg-indigo-50"},{icon:Jq,label:"Finance",path:"/finance",color:"text-emerald-500",bg:"bg-emerald-50"}];return M.jsx(Gm,{children:t&&M.jsxs(M.Fragment,{children:[M.jsx(Yi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm"}),M.jsxs(Yi.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-y-0 right-0 z-50 w-3/4 max-w-sm bg-white shadow-2xl flex flex-col dark:bg-slate-900 dark:border-l dark:border-slate-800",children:[M.jsxs("div",{className:"p-5 border-b flex items-center justify-between dark:border-slate-800",children:[M.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Menu"}),M.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full",children:M.jsx(j_,{className:"w-5 h-5 text-slate-500"})})]}),M.jsx("div",{onClick:()=>{h("/settings"),e()},className:"p-5 bg-slate-50 border-b dark:bg-slate-900 dark:border-slate-800 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold shadow-sm ring-2 ring-white dark:ring-slate-700 overflow-hidden ${n?.profileColor?`${n.profileColor} text-white`:"bg-indigo-100 text-indigo-600"}`,children:n?.photoURL?M.jsx("img",{src:n.photoURL,alt:n?.name,className:"w-full h-full object-cover"}):M.jsx("span",{className:"text-sm font-black uppercase tracking-wider !text-white",children:n?.initials||n?.name?.charAt(0)})}),M.jsxs("div",{className:"flex-1 min-w-0",children:[M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsx("p",{className:"font-bold text-slate-900 truncate dark:text-white",children:n?.name}),M.jsx(jv,{className:"w-4 h-4 text-slate-400"})]}),M.jsxs("p",{className:"text-[10px] text-slate-500 font-medium",children:["Member ID: AWK-",n?.uid?.slice(-4).toUpperCase()||"GUEST"]}),M.jsx("p",{className:"text-[10px] text-indigo-500 font-semibold",children:n?.email})]})]})}),M.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[M.jsxs("nav",{className:"space-y-1",children:[v.map(I=>M.jsxs(Ad,{to:I.path,onClick:e,className:"flex items-center gap-3 px-3 py-3 rounded-xl hover:bg-slate-50 text-slate-700 font-medium transition-colors dark:text-slate-300 dark:hover:bg-slate-800",children:[M.jsx(I.icon,{className:"w-5 h-5 text-slate-400"}),I.label]},I.path)),M.jsxs("button",{onClick:()=>{p(!0)},className:"flex items-center gap-3 px-3 py-3 rounded-xl hover:bg-slate-50 text-slate-700 font-medium transition-colors w-full text-left dark:text-slate-300 dark:hover:bg-slate-800",children:[M.jsx(cm,{className:"w-5 h-5 text-slate-400"}),"Jump to Date"]}),f&&M.jsx(GH,{isOpen:f,onClose:()=>{p(!1),e()}})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-3",children:"Tools"}),M.jsx("div",{className:"space-y-2",children:b.map(I=>M.jsxs(Ad,{to:I.path,onClick:e,className:"flex items-center justify-between p-3 rounded-xl border border-slate-100 hover:border-slate-200 hover:shadow-sm transition-all group",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${I.bg} ${I.color}`,children:M.jsx(I.icon,{className:"w-4 h-4"})}),M.jsx("span",{className:"font-medium text-slate-700",children:I.label})]}),M.jsx(jv,{className:"w-4 h-4 text-slate-300 group-hover:text-slate-500"})]},I.path))})]})]}),M.jsxs("div",{className:"p-4 border-t",children:[M.jsxs("button",{type:"button",onClick:y,className:"flex items-center gap-3 w-full px-3 py-3 rounded-xl text-red-600 hover:bg-red-50 font-medium transition-colors active:scale-95 z-[60]",children:[M.jsx(Oq,{className:"w-5 h-5"}),"Sign Out"]}),M.jsx("p",{className:"text-center text-xs text-slate-300 mt-4",children:"Version 1.0.0"})]})]})]})})},td={"/":()=>Dt(()=>import("./Home-BtySCg0Y.js"),__vite__mapDeps([0,1,2])),"/routine":()=>Dt(()=>import("./Routine-D5COhPRU.js"),__vite__mapDeps([3,4,5,2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])),"/workspace":()=>Dt(()=>import("./TaskDashboard-C8AL3zip.js"),__vite__mapDeps([21,5,2,6,7,8,9,10,11,15,22])),"/finance":()=>Dt(()=>import("./FinanceDashboard-ztD0p1ZA.js"),__vite__mapDeps([23,24,25,7,17,26,19,15,10])),"/vehicle":()=>Dt(()=>import("./VehicleDashboard-Dzm6Syjb.js"),__vite__mapDeps([27,6,28,16,29,8,15,24,26]))},uu=({to:t,icon:e,label:n,isActive:i,onClick:a})=>M.jsxs("button",{onClick:a,className:"flex-1 flex items-center justify-center relative h-12 group","aria-label":n,onMouseEnter:()=>{td[t]&&td[t]()},onTouchStart:()=>{td[t]&&td[t]()},children:[i&&M.jsx("div",{className:"absolute inset-x-2 inset-y-2 bg-blue-500 rounded-xl opacity-100 shadow-[0_0_15px_rgba(59,130,246,0.6)] animate-in fade-in zoom-in duration-200"}),M.jsx(e,{className:`w-6 h-6 relative z-10 transition-all duration-300 ${i?"text-white scale-110":"text-slate-400 group-hover:text-white group-hover:scale-110"}`,strokeWidth:i?2.5:2})]}),Uk=()=>{const{pathname:t}=hi(),e=wo(),[n,i]=C.useState(t);C.useEffect(()=>{i(t)},[t]);const a=c=>{i(c),e(c)},l=c=>n===c||c!=="/"&&n.startsWith(c);return M.jsx("nav",{className:"fixed bottom-5 left-0 right-0 z-50 sm:hidden flex justify-center px-4",children:M.jsxs("div",{className:"flex items-center justify-between w-full max-w-sm bg-slate-900/95 border border-slate-700/50 rounded-full px-2 py-2 shadow-[0_10px_40px_rgba(0,0,0,0.5)] backdrop-blur-xl ring-1 ring-white/10",children:[M.jsx(uu,{to:"/",icon:wk,label:"Home",isActive:n==="/",onClick:()=>a("/")}),M.jsx(uu,{to:"/routine",icon:Eq,label:"Routine",isActive:l("/routine"),onClick:()=>a("/routine")}),M.jsx(uu,{to:"/workspace",icon:Ek,label:"To-Do",isActive:l("/workspace"),onClick:()=>a("/workspace")}),M.jsx(uu,{to:"/finance",icon:Iq,label:"Finance",isActive:l("/finance"),onClick:()=>a("/finance")}),M.jsx(uu,{to:"/vehicle",icon:mq,label:"Vehicle",isActive:l("/vehicle"),onClick:()=>a("/vehicle")})]})})},KH=({children:t})=>{const{formattedDate:e}=zm(),[n,i]=C.useState(!1),a=hi(),l=wo(),h=["/","/routine","/history","/settings"].includes(a.pathname),{isDark:f,toggleTheme:p}=wx();return M.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 pb-24 dark:bg-slate-950 dark:text-slate-50 transition-colors",children:[M.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-slate-200 px-4 py-3 flex items-center justify-between dark:bg-slate-900/80 dark:border-slate-800 transition-colors",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsx("div",{className:"flex items-center gap-2",children:M.jsx("button",{onClick:()=>l("/"),className:"focus:outline-none hover:opacity-80 transition-opacity",children:M.jsx("img",{src:a_,alt:"HUMI AWAKE",className:"h-8 w-auto object-cover dark:brightness-0 dark:invert"})})}),!h&&M.jsx("div",{className:"flex items-center gap-1 pl-2 border-l border-slate-200 dark:border-slate-800",children:M.jsx("button",{onClick:()=>l(-1),className:"p-1.5 text-slate-500 hover:bg-slate-100 rounded-full transition-colors dark:text-slate-400 dark:hover:bg-slate-800",title:"Go Back",children:M.jsx(cq,{className:"w-5 h-5"})})})]}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("button",{onClick:p,className:"p-2 rounded-full text-slate-500 hover:bg-slate-100 transition-colors dark:text-slate-400 dark:hover:bg-slate-800",children:f?M.jsx(jq,{className:"w-5 h-5"}):M.jsx(Yq,{className:"w-5 h-5"})}),M.jsx("button",{onClick:()=>i(!0),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-full transition-colors dark:text-slate-300 dark:hover:bg-slate-800",children:M.jsx(Dq,{className:"w-6 h-6"})})]})]}),M.jsxs("main",{className:"px-4 py-6 max-w-md mx-auto w-full",children:[M.jsx(C.Suspense,{fallback:M.jsx("div",{className:"flex items-center justify-center p-12",children:M.jsx("div",{className:"w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})}),children:t||M.jsx(mC,{})}),M.jsx("div",{className:"text-[10px] font-black text-slate-300 dark:text-slate-700 uppercase tracking-[0.2em] text-center mt-8 mb-2 opacity-60",children:"Developed by CoolCraft"})]}),M.jsx(Uk,{}),M.jsx($H,{isOpen:n,onClose:()=>i(!1)})]})},YH=({children:t})=>{const e=wo(),n=hi(),{isDark:i}=wx(),[a,l]=C.useState(!1),c=y=>n.pathname===y,h=[{icon:Nq,label:"Active Tasks",path:"/workspace/tasks"},{icon:cm,label:"Calendar",path:"/workspace/calendar"},{icon:zq,label:"Overview",path:"/workspace/overview"},{icon:Sk,label:"Settings",path:"/workspace/settings"}],f=[{icon:Aq,label:"Recent",color:"text-blue-500"}],p=()=>l(!a);return M.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-50 font-sans transition-colors duration-300 pb-24",children:[M.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[M.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl opacity-50 mix-blend-multiply animate-float"}),M.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl opacity-50 mix-blend-multiply animate-float",style:{animationDelay:"2s"}})]}),M.jsxs("header",{className:"sticky top-0 left-0 right-0 h-16 glass-panel z-30 px-4 flex items-center justify-between border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md",children:[M.jsxs("div",{className:"flex items-center gap-3",onClick:()=>e("/"),children:[M.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-tr from-cyan-500 to-blue-600 flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-blue-500/20",children:M.jsx(Ek,{className:"w-5 h-5"})}),M.jsx("div",{children:M.jsx("span",{className:"block font-bold text-slate-900 dark:text-white leading-none",children:"Todo"})})]}),M.jsx("button",{onClick:p,className:"p-2.5 rounded-xl text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:M.jsx(Lq,{className:"w-6 h-6"})})]}),M.jsx(Gm,{children:a&&M.jsxs(M.Fragment,{children:[M.jsx(Yi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 z-40 bg-slate-900/20 backdrop-blur-sm"}),M.jsxs(Yi.aside,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-y-0 right-0 z-50 w-80 bg-white dark:bg-slate-900 shadow-2xl flex flex-col h-full border-l border-slate-100 dark:border-slate-800",children:[M.jsxs("div",{className:"p-5 flex items-center justify-between border-b border-slate-100 dark:border-slate-800",children:[M.jsx("h2",{className:"font-bold text-lg",children:"Menu"}),M.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:M.jsx(j_,{className:"w-5 h-5 text-slate-500"})})]}),M.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[M.jsxs("section",{children:[M.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 px-2",children:"Navigation"}),M.jsx("div",{className:"space-y-1",children:h.map(y=>M.jsxs("button",{onClick:()=>{e(y.path),l(!1)},className:`w-full flex items-center justify-between px-3 py-3 rounded-xl transition-all ${c(y.path)?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 font-semibold":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx(y.icon,{className:"w-5 h-5"}),y.label]}),c(y.path)&&M.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})]},y.path))})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 px-2",children:"Favorites"}),f.map((y,v)=>M.jsxs("button",{onClick:()=>{y.label==="Important"&&e("/workspace/important"),y.label==="Recent"&&e("/workspace/recent"),l(!1)},className:"w-full flex items-center gap-3 px-3 py-3 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 rounded-xl transition-colors",children:[M.jsx(y.icon,{className:`w-5 h-5 ${y.color}`}),y.label]},v))]})]})]})]})}),M.jsx("main",{className:"relative z-10 px-4 py-6 max-w-lg mx-auto w-full",children:M.jsx(C.Suspense,{fallback:M.jsx("div",{className:"flex items-center justify-center p-12",children:M.jsx("div",{className:"w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})}),children:t||M.jsx(mC,{})})}),M.jsx(Uk,{})]})},WH=()=>{const{error:t,clearError:e}=Vx();return t?M.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,background:"#ff4d4f",color:"white",padding:"12px 16px",zIndex:9999,display:"flex",justifyContent:"space-between",alignItems:"center",fontFamily:"sans-serif"},children:[M.jsx("span",{children:t.message}),M.jsx("button",{onClick:e,style:{background:"transparent",border:"1px solid white",color:"white",cursor:"pointer"},children:"Dismiss"})]}):null},QH=()=>{const{user:t}=ba(),[e,n]=C.useState(!1),[i,a]=C.useState(!0),[l,c]=C.useState(0),h=[{title:"Welcome to Awake",text:"Your daily routine and discipline system.",icon:Hq,color:"text-amber-500",bg:"bg-amber-50 dark:bg-amber-900/20"},{title:"Track Tasks & Routine",text:"Complete daily actions and build consistency.",icon:oq,color:"text-indigo-500",bg:"bg-indigo-50 dark:bg-indigo-900/20"},{title:"Quick Capture",text:"Add tasks or expenses instantly. Finance supports your discipline.",icon:tH,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-900/20"}];C.useEffect(()=>{t?Ce.getDocument(`users/${t.uid}/config`,"settings").then(v=>{v?.onboardingCompleted!==!0&&n(!0),a(!1)}).catch(v=>{console.error("Error checking onboarding status:",v),a(!1)}):a(!1)},[t]);const f=async()=>{if(t)try{await Ce.setItem(`users/${t.uid}/config`,"settings",{onboardingCompleted:!0},!0),n(!1)}catch(v){console.error("Failed to complete onboarding:",v),n(!1)}},p=()=>{l<h.length-1?c(v=>v+1):f()};if(i||!e)return null;const y=h[l].icon;return M.jsx(Gm,{children:e&&M.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[M.jsx(Yi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-slate-900/80 backdrop-blur-md"}),M.jsx(Yi.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",bounce:.4,duration:.6},className:"relative bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-800",children:M.jsxs("div",{className:"p-8 flex flex-col items-center text-center min-h-[420px]",children:[M.jsx(Yi.div,{initial:{scale:0,rotate:-20},animate:{scale:1,rotate:0},transition:{type:"spring",bounce:.5,duration:.6},className:Fv("w-24 h-24 rounded-[2rem] flex items-center justify-center mb-8 shadow-inner",h[l].bg),children:M.jsx(y,{className:Fv("w-10 h-10",h[l].color)})},`icon-${l}`),M.jsxs(Yi.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1},className:"flex-1",children:[M.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-3 tracking-tight",children:h[l].title}),M.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium leading-relaxed max-w-[260px] mx-auto text-sm",children:h[l].text})]},`text-${l}`),M.jsx("div",{className:"flex gap-2 my-8 justify-center",children:h.map((v,b)=>M.jsx(Yi.div,{initial:!1,animate:{width:b===l?32:6,backgroundColor:b===l?document.documentElement.classList.contains("dark")?"#fff":"#0f172a":document.documentElement.classList.contains("dark")?"#334155":"#e2e8f0"},className:"h-1.5 rounded-full"},b))}),M.jsx("div",{className:"w-full",children:M.jsx(hm,{onClick:p,className:"w-full py-4 rounded-2xl text-base font-bold shadow-xl shadow-indigo-500/20 active:scale-95 transition-transform",children:l===h.length-1?M.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Start Using Awake ",M.jsx(vq,{className:"w-5 h-5 stroke-[3]"})]}):M.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Continue ",M.jsx(hq,{className:"w-5 h-5 stroke-[3]"})]})})})]})})]})})},XH=async()=>{if(!yd)return!1;try{yd.settings={minimumFetchIntervalMillis:36e5,fetchTimeoutMillis:6e4};const t=await GU(yd);return console.log("Remote config fetched:",t),t}catch(t){return console.error("Remote config error:",t),!1}},JH=C.lazy(()=>Dt(()=>import("./Login-JdP_Q_nC.js"),__vite__mapDeps([30,31,12,32,25,16,8,33])));C.lazy(()=>Dt(()=>import("./Dashboard-zrLuujH5.js"),__vite__mapDeps([34,4,5,2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,1])));const ZH=C.lazy(()=>Dt(()=>import("./Home-BtySCg0Y.js"),__vite__mapDeps([0,1,2]))),eG=C.lazy(()=>Dt(()=>import("./Routine-D5COhPRU.js"),__vite__mapDeps([3,4,5,2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),tG=C.lazy(()=>Dt(()=>import("./History-D-KOHbu_.js"),__vite__mapDeps([35,12,19,33,16]))),nG=C.lazy(()=>Dt(()=>import("./Settings-Nq-qGxxS.js").then(t=>t.S),__vite__mapDeps([36,12,13,31,14,28,8,24,37]))),iG=C.lazy(()=>Dt(()=>import("./ForgotPassword-CyIcd7WR.js"),__vite__mapDeps([38,31,12,32,25,16]))),sG=C.lazy(()=>Dt(()=>import("./Analytics-BHA6YpXX.js"),__vite__mapDeps([39,12,19,20,40,13]))),rG=C.lazy(()=>Dt(()=>import("./DietPlan-Dcs-PWAp.js"),__vite__mapDeps([41,12,16,9]))),aG=C.lazy(()=>Dt(()=>import("./TaskDashboard-C8AL3zip.js"),__vite__mapDeps([21,5,2,6,7,8,9,10,11,15,22]))),oG=C.lazy(()=>Dt(()=>import("./WorkspaceCalendar--c9aHRtS.js"),__vite__mapDeps([42,11,10]))),lG=C.lazy(()=>Dt(()=>import("./WorkspaceBoard-LAhgJNvH.js"),__vite__mapDeps([43,15]))),cG=C.lazy(()=>Dt(()=>import("./FilteredTaskView-C3CdKZlf.js"),__vite__mapDeps([44,5,2,6,7,8,9,10,11,18]))),uG=C.lazy(()=>Dt(()=>import("./Overview-Gy4_jt6Y.js"),__vite__mapDeps([45,19,40,13,22]))),hG=C.lazy(()=>Dt(()=>import("./FinanceDashboard-ztD0p1ZA.js"),__vite__mapDeps([23,24,25,7,17,26,19,15,10]))),fG=C.lazy(()=>Dt(()=>import("./DebtManager-BPtkFkwm.js"),__vite__mapDeps([46,15,37]))),dG=C.lazy(()=>Dt(()=>import("./AccountDetail-DWfVnTO9.js"),__vite__mapDeps([47,29,19]))),mG=C.lazy(()=>Dt(()=>import("./MonthlyOverview-Bzdqs_9U.js"),__vite__mapDeps([48,20,10]))),pG=C.lazy(()=>Dt(()=>import("./VehicleDashboard-Dzm6Syjb.js"),__vite__mapDeps([27,6,28,16,29,8,15,24,26])));function gG(){const t=hi();return C.useEffect(()=>{t.pathname.replace("/","")},[t]),null}function yG(){return C.useEffect(()=>{XH().catch(console.error)},[]),M.jsx(JN,{basename:"/AWAKE/",children:M.jsx(N9,{children:M.jsx(P9,{children:M.jsx(O9,{children:M.jsx(L9,{children:M.jsx($j,{children:M.jsx(gF,{children:M.jsxs(_F,{children:[M.jsx(gG,{}),M.jsx(WH,{}),M.jsx(QH,{}),M.jsx(C.Suspense,{fallback:M.jsx(Ux,{}),children:M.jsxs(RN,{children:[M.jsx(Vt,{path:"/login",element:M.jsx(JH,{})}),M.jsx(Vt,{path:"/forgot-password",element:M.jsx(iG,{})}),M.jsxs(Vt,{element:M.jsx(D1,{children:M.jsx(KH,{})}),children:[M.jsx(Vt,{path:"/",element:M.jsx(ZH,{})}),M.jsx(Vt,{path:"/routine",element:M.jsx(eG,{})}),M.jsx(Vt,{path:"/history",element:M.jsx(tG,{})}),M.jsx(Vt,{path:"/settings",element:M.jsx(nG,{})}),M.jsx(Vt,{path:"/analytics",element:M.jsx(sG,{})}),M.jsx(Vt,{path:"/diet",element:M.jsx(rG,{})}),M.jsx(Vt,{path:"/finance",element:M.jsx(hG,{})}),M.jsx(Vt,{path:"/finance/debt",element:M.jsx(fG,{})}),M.jsx(Vt,{path:"/finance/account/:id",element:M.jsx(dG,{})}),M.jsx(Vt,{path:"/finance/monthly",element:M.jsx(mG,{})}),M.jsx(Vt,{path:"/vehicle",element:M.jsx(pG,{})})]}),M.jsxs(Vt,{path:"/workspace",element:M.jsx(D1,{children:M.jsx(YH,{})}),children:[M.jsx(Vt,{index:!0,element:M.jsx(aG,{})}),M.jsx(Vt,{path:"calendar",element:M.jsx(oG,{})}),M.jsx(Vt,{path:"board",element:M.jsx(lG,{})}),M.jsx(Vt,{path:"overview",element:M.jsx(uG,{})}),M.jsx(Vt,{path:"filter/:filterType",element:M.jsx(cG,{})})]}),M.jsx(Vt,{path:"*",element:M.jsx(dC,{to:"/",replace:!0})})]})})]})})})})})})})})}class vG extends Hv.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Render Crash Caught:",e,n)}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?M.jsxs("div",{style:{padding:"40px",textAlign:"center",fontFamily:"sans-serif"},children:[M.jsx("h2",{children:"Something went wrong."}),M.jsx("p",{children:"Please refresh the application."}),M.jsx("button",{onClick:this.handleReload,children:"Reload App"})]}):this.props.children}}CM.createRoot(document.getElementById("root")).render(M.jsx(Hv.StrictMode,{children:M.jsx(vG,{children:M.jsx(yF,{children:M.jsx(yG,{})})})}));export{ql as $,Gm as A,hm as B,Nq as C,Aq as D,vq as E,Ux as F,Xr as G,Eq as H,Iq as I,oq as J,GH as K,Ad as L,bq as M,dC as N,jv as O,cm as P,gq as Q,Hv as R,Hq as S,nH as T,wx as U,jq as V,Jq as W,j_ as X,Yq as Y,Oq as Z,Dt as _,Xd as a,wG as a0,IG as a1,EG as a2,cq as a3,Qq as a4,Hj as a5,hi as a6,gy as a7,vy as a8,Zd as a9,Au as aa,w1 as ab,T1 as ac,Ll as ad,$9 as ae,uo as af,Rx as ag,Zi as ah,Bv as ai,qv as aj,bG as ak,wM as al,tH as am,_y as an,TG as ao,Gt as ap,VG as aq,OG as ar,mq as as,UG as at,Sk as au,vF as av,F9 as aw,_G as ax,kG as ay,sR as b,SG as c,CG as d,NG as e,ba as f,a_ as g,JA as h,hq as i,M as j,xG as k,PG as l,Yi as m,zm as n,wo as o,LG as p,Fv as q,C as r,AG as s,MG as t,RG as u,Ce as v,_o as w,Vl as x,Tt as y,pF as z};
