const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-kFSWFdUh.js","assets/trophy-CeNffp_p.js","assets/flame-DB6dUnr4.js","assets/Routine-DGqWxXmR.js","assets/DateHeader-Ey2_-q1y.js","assets/TaskItem-DuMidY3N.js","assets/bike-2eqR8vsR.js","assets/trash-2-BHwfP6D3.js","assets/circle-check-big-B3TdwQBy.js","assets/chevron-up-DQQqf6Rm.js","assets/subMonths-DzNcT13B.js","assets/isSameMonth-Byzilhgj.js","assets/Card-C-TjTITl.js","assets/index-DHfMBK2u.js","assets/pen-CdWc92k7.js","assets/plus-GEb0nyWt.js","assets/circle-alert-D_iw1gi7.js","assets/smartphone-DvVlLf0O.js","assets/star-NxSsZZd-.js","assets/trending-up-CSEn-UM_.js","assets/award-Cvr_jrmG.js","assets/TaskDashboard-D0OgZpJz.js","assets/subDays-bn-BsZtq.js","assets/FinanceDashboard-jTMsTffl.js","assets/triangle-alert-BHWITVMc.js","assets/refresh-cw-C4n1kH9S.js","assets/differenceInDays-QZErkA6t.js","assets/VehicleDashboard-CdUaYKvK.js","assets/save-Bg-LxpeL.js","assets/trending-down-Ws42HBXL.js","assets/Login-BfSnbypx.js","assets/Input-Dmt1KRy1.js","assets/ErrorDisplay-CqTJg6aQ.js","assets/circle-x-D5LXktpi.js","assets/Dashboard-y1W2A3l1.js","assets/History-Rm6a4WQb.js","assets/Settings-Df1Jm8pU.js","assets/user-C6f9bCS-.js","assets/ForgotPassword-Bbxd0aJA.js","assets/Analytics-3EsEZO6Z.js","assets/CartesianChart-Cz54mMDs.js","assets/DietPlan-FYwpj3hl.js","assets/WorkspaceCalendar-DGniJmKQ.js","assets/WorkspaceBoard-acVehxAk.js","assets/FilteredTaskView-CvGWZQjB.js","assets/Overview-WU6ZTwNZ.js","assets/DebtManager-BGkjs3es.js","assets/AccountDetail--pqVl0eh.js","assets/MonthlyOverview-DM0LBu0l.js"])))=>i.map(i=>d[i]);
function W2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var ZF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _v(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xg={exports:{}},$u={};var ME;function Q2(){if(ME)return $u;ME=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:l}}return $u.Fragment=e,$u.jsx=n,$u.jsxs=n,$u}var NE;function X2(){return NE||(NE=1,xg.exports=Q2()),xg.exports}var M=X2(),Ig={exports:{}},He={};var OE;function J2(){if(OE)return He;OE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=T&&q[T]||q["@@iterator"],typeof q=="function"?q:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,F={};function B(q,ae,pe){this.props=q,this.context=ae,this.refs=F,this.updater=pe||N}B.prototype.isReactComponent={},B.prototype.setState=function(q,ae){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ae,"setState")},B.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function U(){}U.prototype=B.prototype;function z(q,ae,pe){this.props=q,this.context=ae,this.refs=F,this.updater=pe||N}var ue=z.prototype=new U;ue.constructor=z,P(ue,B.prototype),ue.isPureReactComponent=!0;var L=Array.isArray;function X(){}var A={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function D(q,ae,pe){var ne=pe.ref;return{$$typeof:t,type:q,key:ae,ref:ne!==void 0?ne:null,props:pe}}function O(q,ae){return D(q.type,ae,q.props)}function V(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function k(q){var ae={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(pe){return ae[pe]})}var C=/\/+/g;function Y(q,ae){return typeof q=="object"&&q!==null&&q.key!=null?k(""+q.key):ae.toString(36)}function $(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(X,X):(q.status="pending",q.then(function(ae){q.status==="pending"&&(q.status="fulfilled",q.value=ae)},function(ae){q.status==="pending"&&(q.status="rejected",q.reason=ae)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function H(q,ae,pe,ne,ie){var J=typeof q;(J==="undefined"||J==="boolean")&&(q=null);var ge=!1;if(q===null)ge=!0;else switch(J){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(q.$$typeof){case t:case e:ge=!0;break;case y:return ge=q._init,H(ge(q._payload),ae,pe,ne,ie)}}if(ge)return ie=ie(q),ge=ne===""?"."+Y(q,0):ne,L(ie)?(pe="",ge!=null&&(pe=ge.replace(C,"$&/")+"/"),H(ie,ae,pe,"",function(Ue){return Ue})):ie!=null&&(V(ie)&&(ie=O(ie,pe+(ie.key==null||q&&q.key===ie.key?"":(""+ie.key).replace(C,"$&/")+"/")+ge)),ae.push(ie)),1;ge=0;var Ee=ne===""?".":ne+":";if(L(q))for(var de=0;de<q.length;de++)ne=q[de],J=Ee+Y(ne,de),ge+=H(ne,ae,pe,J,ie);else if(de=x(q),typeof de=="function")for(q=de.call(q),de=0;!(ne=q.next()).done;)ne=ne.value,J=Ee+Y(ne,de++),ge+=H(ne,ae,pe,J,ie);else if(J==="object"){if(typeof q.then=="function")return H($(q),ae,pe,ne,ie);throw ae=String(q),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ge}function te(q,ae,pe){if(q==null)return q;var ne=[],ie=0;return H(q,ne,"","",function(J){return ae.call(pe,J,ie++)}),ne}function W(q){if(q._status===-1){var ae=q._result;ae=ae(),ae.then(function(pe){(q._status===0||q._status===-1)&&(q._status=1,q._result=pe)},function(pe){(q._status===0||q._status===-1)&&(q._status=2,q._result=pe)}),q._status===-1&&(q._status=0,q._result=ae)}if(q._status===1)return q._result.default;throw q._result}var _e=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Pe={map:te,forEach:function(q,ae,pe){te(q,function(){ae.apply(this,arguments)},pe)},count:function(q){var ae=0;return te(q,function(){ae++}),ae},toArray:function(q){return te(q,function(ae){return ae})||[]},only:function(q){if(!V(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return He.Activity=v,He.Children=Pe,He.Component=B,He.Fragment=n,He.Profiler=a,He.PureComponent=z,He.StrictMode=r,He.Suspense=d,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,He.__COMPILER_RUNTIME={__proto__:null,c:function(q){return A.H.useMemoCache(q)}},He.cache=function(q){return function(){return q.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(q,ae,pe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ne=P({},q.props),ie=q.key;if(ae!=null)for(J in ae.key!==void 0&&(ie=""+ae.key),ae)!S.call(ae,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&ae.ref===void 0||(ne[J]=ae[J]);var J=arguments.length-2;if(J===1)ne.children=pe;else if(1<J){for(var ge=Array(J),Ee=0;Ee<J;Ee++)ge[Ee]=arguments[Ee+2];ne.children=ge}return D(q.type,ie,ne)},He.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},He.createElement=function(q,ae,pe){var ne,ie={},J=null;if(ae!=null)for(ne in ae.key!==void 0&&(J=""+ae.key),ae)S.call(ae,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ie[ne]=ae[ne]);var ge=arguments.length-2;if(ge===1)ie.children=pe;else if(1<ge){for(var Ee=Array(ge),de=0;de<ge;de++)Ee[de]=arguments[de+2];ie.children=Ee}if(q&&q.defaultProps)for(ne in ge=q.defaultProps,ge)ie[ne]===void 0&&(ie[ne]=ge[ne]);return D(q,J,ie)},He.createRef=function(){return{current:null}},He.forwardRef=function(q){return{$$typeof:h,render:q}},He.isValidElement=V,He.lazy=function(q){return{$$typeof:y,_payload:{_status:-1,_result:q},_init:W}},He.memo=function(q,ae){return{$$typeof:p,type:q,compare:ae===void 0?null:ae}},He.startTransition=function(q){var ae=A.T,pe={};A.T=pe;try{var ne=q(),ie=A.S;ie!==null&&ie(pe,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(X,_e)}catch(J){_e(J)}finally{ae!==null&&pe.types!==null&&(ae.types=pe.types),A.T=ae}},He.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},He.use=function(q){return A.H.use(q)},He.useActionState=function(q,ae,pe){return A.H.useActionState(q,ae,pe)},He.useCallback=function(q,ae){return A.H.useCallback(q,ae)},He.useContext=function(q){return A.H.useContext(q)},He.useDebugValue=function(){},He.useDeferredValue=function(q,ae){return A.H.useDeferredValue(q,ae)},He.useEffect=function(q,ae){return A.H.useEffect(q,ae)},He.useEffectEvent=function(q){return A.H.useEffectEvent(q)},He.useId=function(){return A.H.useId()},He.useImperativeHandle=function(q,ae,pe){return A.H.useImperativeHandle(q,ae,pe)},He.useInsertionEffect=function(q,ae){return A.H.useInsertionEffect(q,ae)},He.useLayoutEffect=function(q,ae){return A.H.useLayoutEffect(q,ae)},He.useMemo=function(q,ae){return A.H.useMemo(q,ae)},He.useOptimistic=function(q,ae){return A.H.useOptimistic(q,ae)},He.useReducer=function(q,ae,pe){return A.H.useReducer(q,ae,pe)},He.useRef=function(q){return A.H.useRef(q)},He.useState=function(q){return A.H.useState(q)},He.useSyncExternalStore=function(q,ae,pe){return A.H.useSyncExternalStore(q,ae,pe)},He.useTransition=function(){return A.H.useTransition()},He.version="19.2.3",He}var PE;function bv(){return PE||(PE=1,Ig.exports=J2()),Ig.exports}var w=bv();const Tv=_v(w),e7=W2({__proto__:null,default:Tv},[w]);var Dg={exports:{}},Yu={},kg={exports:{}},Mg={};var VE;function Z2(){return VE||(VE=1,(function(t){function e(H,te){var W=H.length;H.push(te);e:for(;0<W;){var _e=W-1>>>1,Pe=H[_e];if(0<a(Pe,te))H[_e]=te,H[W]=Pe,W=_e;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var te=H[0],W=H.pop();if(W!==te){H[0]=W;e:for(var _e=0,Pe=H.length,q=Pe>>>1;_e<q;){var ae=2*(_e+1)-1,pe=H[ae],ne=ae+1,ie=H[ne];if(0>a(pe,W))ne<Pe&&0>a(ie,pe)?(H[_e]=ie,H[ne]=W,_e=ne):(H[_e]=pe,H[ae]=W,_e=ae);else if(ne<Pe&&0>a(ie,W))H[_e]=ie,H[ne]=W,_e=ne;else break e}}return te}function a(H,te){var W=H.sortIndex-te.sortIndex;return W!==0?W:H.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,v=null,T=3,x=!1,N=!1,P=!1,F=!1,B=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function ue(H){for(var te=n(p);te!==null;){if(te.callback===null)r(p);else if(te.startTime<=H)r(p),te.sortIndex=te.expirationTime,e(d,te);else break;te=n(p)}}function L(H){if(P=!1,ue(H),!N)if(n(d)!==null)N=!0,X||(X=!0,k());else{var te=n(p);te!==null&&$(L,te.startTime-H)}}var X=!1,A=-1,S=5,D=-1;function O(){return F?!0:!(t.unstable_now()-D<S)}function V(){if(F=!1,X){var H=t.unstable_now();D=H;var te=!0;try{e:{N=!1,P&&(P=!1,U(A),A=-1),x=!0;var W=T;try{t:{for(ue(H),v=n(d);v!==null&&!(v.expirationTime>H&&O());){var _e=v.callback;if(typeof _e=="function"){v.callback=null,T=v.priorityLevel;var Pe=_e(v.expirationTime<=H);if(H=t.unstable_now(),typeof Pe=="function"){v.callback=Pe,ue(H),te=!0;break t}v===n(d)&&r(d),ue(H)}else r(d);v=n(d)}if(v!==null)te=!0;else{var q=n(p);q!==null&&$(L,q.startTime-H),te=!1}}break e}finally{v=null,T=W,x=!1}te=void 0}}finally{te?k():X=!1}}}var k;if(typeof z=="function")k=function(){z(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Y=C.port2;C.port1.onmessage=V,k=function(){Y.postMessage(null)}}else k=function(){B(V,0)};function $(H,te){A=B(function(){H(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(H){switch(T){case 1:case 2:case 3:var te=3;break;default:te=T}var W=T;T=te;try{return H()}finally{T=W}},t.unstable_requestPaint=function(){F=!0},t.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var W=T;T=H;try{return te()}finally{T=W}},t.unstable_scheduleCallback=function(H,te,W){var _e=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?_e+W:_e):W=_e,H){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=W+Pe,H={id:y++,callback:te,priorityLevel:H,startTime:W,expirationTime:Pe,sortIndex:-1},W>_e?(H.sortIndex=W,e(p,H),n(d)===null&&H===n(p)&&(P?(U(A),A=-1):P=!0,$(L,W-_e))):(H.sortIndex=Pe,e(d,H),N||x||(N=!0,X||(X=!0,k()))),H},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(H){var te=T;return function(){var W=T;T=te;try{return H.apply(this,arguments)}finally{T=W}}}})(Mg)),Mg}var LE;function ek(){return LE||(LE=1,kg.exports=Z2()),kg.exports}var Ng={exports:{}},Sn={};var UE;function tk(){if(UE)return Sn;UE=1;var t=bv();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},Sn.flushSync=function(d){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=y,r.d.f()}},Sn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},Sn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Sn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:x}):y==="script"&&r.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Sn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},Sn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);r.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Sn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},Sn.requestFormReset=function(d){r.d.r(d)},Sn.unstable_batchedUpdates=function(d,p){return d(p)},Sn.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},Sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Sn.version="19.2.3",Sn}var jE;function nk(){if(jE)return Ng.exports;jE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ng.exports=tk(),Ng.exports}var zE;function ik(){if(zE)return Yu;zE=1;var t=ek(),e=bv(),n=nk();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),i;if(g===c)return d(m),s;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=m,c=g;else{for(var b=!1,R=m.child;R;){if(R===o){b=!0,o=m,c=g;break}if(R===c){b=!0,c=m,o=g;break}R=R.sibling}if(!b){for(R=g.child;R;){if(R===o){b=!0,o=g,c=m;break}if(R===c){b=!0,c=g,o=m;break}R=R.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),z=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var C=Symbol.for("react.client.reference");function Y(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===C?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case B:return"Profiler";case F:return"StrictMode";case L:return"Suspense";case X:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case z:return i.displayName||"Context";case U:return(i._context.displayName||"Context")+".Consumer";case ue:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return s=i.displayName||null,s!==null?s:Y(i.type)||"Memo";case S:s=i._payload,i=i._init;try{return Y(i(s))}catch{}}return null}var $=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},_e=[],Pe=-1;function q(i){return{current:i}}function ae(i){0>Pe||(i.current=_e[Pe],_e[Pe]=null,Pe--)}function pe(i,s){Pe++,_e[Pe]=i.current,i.current=s}var ne=q(null),ie=q(null),J=q(null),ge=q(null);function Ee(i,s){switch(pe(J,s),pe(ie,i),pe(ne,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?tE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=tE(s),i=nE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(ne),pe(ne,i)}function de(){ae(ne),ae(ie),ae(J)}function Ue(i){i.memoizedState!==null&&pe(ge,i);var s=ne.current,o=nE(s,i.type);s!==o&&(pe(ie,i),pe(ne,o))}function We(i){ie.current===i&&(ae(ne),ae(ie)),ge.current===i&&(ae(ge),Fu._currentValue=W)}var Ne,Ot;function ye(i){if(Ne===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ne=s&&s[1]||"",Ot=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+i+Ot}var be=!1;function we(i,s){if(!i||be)return"";be=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(oe){var re=oe}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(oe){re=oe}i.call(fe.prototype)}}else{try{throw Error()}catch(oe){re=oe}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(oe){if(oe&&re&&typeof oe.stack=="string")return[oe.stack,re.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],R=g[1];if(b&&R){var j=b.split(`
`),ee=R.split(`
`);for(m=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;if(c===j.length||m===ee.length)for(c=j.length-1,m=ee.length-1;1<=c&&0<=m&&j[c]!==ee[m];)m--;for(;1<=c&&0<=m;c--,m--)if(j[c]!==ee[m]){if(c!==1||m!==1)do if(c--,m--,0>m||j[c]!==ee[m]){var le=`
`+j[c].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=c&&0<=m);break}}}finally{be=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ye(o):""}function Se(i,s){switch(i.tag){case 26:case 27:case 5:return ye(i.type);case 16:return ye("Lazy");case 13:return i.child!==s&&s!==null?ye("Suspense Fallback"):ye("Suspense");case 19:return ye("SuspenseList");case 0:case 15:return we(i.type,!1);case 11:return we(i.type.render,!1);case 1:return we(i.type,!0);case 31:return ye("Activity");default:return""}}function Fe(i){try{var s="",o=null;do s+=Se(i,o),o=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ae=Object.prototype.hasOwnProperty,Me=t.unstable_scheduleCallback,Xe=t.unstable_cancelCallback,Hl=t.unstable_shouldYield,th=t.unstable_requestPaint,kn=t.unstable_now,ma=t.unstable_getCurrentPriorityLevel,Gl=t.unstable_ImmediatePriority,$l=t.unstable_UserBlockingPriority,ls=t.unstable_NormalPriority,km=t.unstable_LowPriority,nh=t.unstable_IdlePriority,ih=t.log,rh=t.unstable_setDisableYieldValue,Ri=null,mn=null;function ai(i){if(typeof ih=="function"&&rh(i),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(Ri,i)}catch{}}var zt=Math.clz32?Math.clz32:ah,sh=Math.log,go=Math.LN2;function ah(i){return i>>>=0,i===0?32:31-(sh(i)/go|0)|0}var Ki=256,pa=262144,$t=4194304;function Wi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qi(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var R=c&134217727;return R!==0?(c=R&~g,c!==0?m=Wi(c):(b&=R,b!==0?m=Wi(b):o||(o=R&~i,o!==0&&(m=Wi(o))))):(R=c&~g,R!==0?m=Wi(R):b!==0?m=Wi(b):o||(o=c&~i,o!==0&&(m=Wi(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function xi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Mm(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oh(){var i=$t;return $t<<=1,($t&62914560)===0&&($t=4194304),i}function Xi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function ga(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Nm(i,s,o,c,m,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var R=i.entanglements,j=i.expirationTimes,ee=i.hiddenUpdates;for(o=b&~o;0<o;){var le=31-zt(o),fe=1<<le;R[le]=0,j[le]=-1;var re=ee[le];if(re!==null)for(ee[le]=null,le=0;le<re.length;le++){var oe=re[le];oe!==null&&(oe.lane&=-536870913)}o&=~fe}c!==0&&ya(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~s))}function ya(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-zt(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Yl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-zt(o),m=1<<c;m&s|i[c]&s&&(i[c]|=s),o&=~m}}function Kl(i,s){var o=s&-s;return o=(o&42)!==0?1:va(o),(o&(i.suspendedLanes|s))!==0?0:o}function va(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Cr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function lh(){var i=te.p;return i!==0?i:(i=window.event,i===void 0?32:AE(i.type))}function Ii(i,s){var o=te.p;try{return te.p=i,s()}finally{te.p=o}}var Di=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Di,un="__reactProps$"+Di,Ji="__reactContainer$"+Di,yo="__reactEvents$"+Di,Om="__reactListeners$"+Di,uh="__reactHandles$"+Di,ch="__reactResources$"+Di,Zi="__reactMarker$"+Di;function vo(i){delete i[Yt],delete i[un],delete i[yo],delete i[Om],delete i[uh]}function er(i){var s=i[Yt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Ji]||o[Yt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=uE(i);i!==null;){if(o=i[Yt])return o;i=uE(i)}return s}i=o,o=i.parentNode}return null}function oi(i){if(i=i[Yt]||i[Ji]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Kn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function tr(i){var s=i[ch];return s||(s=i[ch]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Kt(i){i[Zi]=!0}var Wl=new Set,Ql={};function nr(i,s){ir(i,s),ir(i+"Capture",s)}function ir(i,s){for(Ql[i]=s,i=0;i<s.length;i++)Wl.add(s[i])}var Xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jl={},Zl={};function hh(i){return Ae.call(Zl,i)?!0:Ae.call(Jl,i)?!1:Xl.test(i)?Zl[i]=!0:(Jl[i]=!0,!1)}function _o(i,s,o){if(hh(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Wn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Wt(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function us(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function eu(i,s,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ft(i){if(!i._valueTracker){var s=us(i)?"checked":"value";i._valueTracker=eu(i,s,""+i[s])}}function _a(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=us(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function rr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ba=/[\n"\\]/g;function Vn(i){return i.replace(ba,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function bo(i,s,o,c,m,g,b,R){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?tu(i,b,cn(s)):o!=null?tu(i,b,cn(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+cn(R):i.removeAttribute("name")}function fh(i,s,o,c,m,g,b,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){ft(i);return}o=o!=null?""+cn(o):"",s=s!=null?""+cn(s):o,R||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=R?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),ft(i)}function tu(i,s,o){s==="number"&&rr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function cs(i,s,o,c){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+cn(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function dh(i,s,o){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+cn(o):""}function hs(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if($(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=cn(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),ft(i)}function Ln(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var mh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nu(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||mh.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function iu(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&nu(i,m,c)}else for(var g in s)s.hasOwnProperty(g)&&nu(i,g,s[g])}function To(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ph=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(i){return fs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ki(){}var ru=null;function li(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ds=null,sr=null;function Ta(i){var s=oi(i);if(s&&(i=s.stateNode)){var o=i[un]||null;e:switch(i=s.stateNode,s.type){case"input":if(bo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Vn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var m=c[un]||null;if(!m)throw Error(r(90));bo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&_a(c)}break e;case"textarea":dh(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&cs(i,!!o.multiple,s,!1)}}}var wo=!1;function ms(i,s,o){if(wo)return i(s,o);wo=!0;try{var c=i(s);return c}finally{if(wo=!1,(ds!==null||sr!==null)&&(uf(),ds&&(s=ds,i=sr,sr=ds=null,Ta(s),i)))for(s=0;s<i.length;s++)Ta(i[s])}}function Mi(i,s){var o=i.stateNode;if(o===null)return null;var c=o[un]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ea=!1;if(ui)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{Ea=!1}var ar=null,su=null,wa=null;function au(){if(wa)return wa;var i,s=su,o=s.length,c,m="value"in ar?ar.value:ar.textContent,g=m.length;for(i=0;i<o&&s[i]===m[i];i++);var b=o-i;for(c=1;c<=b&&s[o-c]===m[g-c];c++);return wa=m.slice(i,1<c?1-c:void 0)}function Sa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Rr(){return!0}function Ni(){return!1}function pn(i){function s(o,c,m,g,b){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(o=i[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Rr:Ni,this.isPropagationStopped=Ni,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),s}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},or=pn(xr),ps=v({},xr,{view:0,detail:0}),ou=pn(ps),gs,So,lr,Ao=v({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==lr&&(lr&&i.type==="mousemove"?(gs=i.screenX-lr.screenX,So=i.screenY-lr.screenY):So=gs=0,lr=i),gs)},movementY:function(i){return"movementY"in i?i.movementY:So}}),lu=pn(Ao),Aa=v({},Ao,{dataTransfer:0}),gh=pn(Aa),yh=v({},ps,{relatedTarget:0}),Ca=pn(yh),uu=v({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),vh=pn(uu),Co=v({},xr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),_h=pn(Co),bh=v({},xr,{data:0}),ur=pn(bh),Th={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=wh[i])?!!s[i]:!1}function ys(){return Sh}var Mn=v({},ps,{key:function(i){if(i.key){var s=Th[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Sa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Eh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(i){return i.type==="keypress"?Sa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Sa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ah=pn(Mn),Ch=v({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ir=pn(Ch),f=v({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),_=pn(f),E=v({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=pn(E),Q=v({},Ao,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),se=pn(Q),ve=v({},xr,{newState:0,oldState:0}),$e=pn(ve),Bt=[9,13,27,32],ut=ui&&"CompositionEvent"in window,xt=null;ui&&"documentMode"in document&&(xt=document.documentMode);var ci=ui&&"TextEvent"in window&&!xt,cr=ui&&(!ut||xt&&8<xt&&11>=xt),Oi=" ",Pi=!1;function Ra(i,s){switch(i){case"keyup":return Bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ro(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var xo=!1;function _D(i,s){switch(i){case"compositionend":return Ro(s);case"keypress":return s.which!==32?null:(Pi=!0,Oi);case"textInput":return i=s.data,i===Oi&&Pi?null:i;default:return null}}function bD(i,s){if(xo)return i==="compositionend"||!ut&&Ra(i,s)?(i=au(),wa=su=ar=null,xo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return cr&&s.locale!=="ko"?null:s.data;default:return null}}var TD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f_(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!TD[i.type]:s==="textarea"}function d_(i,s,o,c){ds?sr?sr.push(c):sr=[c]:ds=c,s=gf(s,"onChange"),0<s.length&&(o=new or("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var cu=null,hu=null;function ED(i){WT(i,0)}function Rh(i){var s=Kn(i);if(_a(s))return i}function m_(i,s){if(i==="change")return s}var p_=!1;if(ui){var Pm;if(ui){var Vm="oninput"in document;if(!Vm){var g_=document.createElement("div");g_.setAttribute("oninput","return;"),Vm=typeof g_.oninput=="function"}Pm=Vm}else Pm=!1;p_=Pm&&(!document.documentMode||9<document.documentMode)}function y_(){cu&&(cu.detachEvent("onpropertychange",v_),hu=cu=null)}function v_(i){if(i.propertyName==="value"&&Rh(hu)){var s=[];d_(s,hu,i,li(i)),ms(ED,s)}}function wD(i,s,o){i==="focusin"?(y_(),cu=s,hu=o,cu.attachEvent("onpropertychange",v_)):i==="focusout"&&y_()}function SD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Rh(hu)}function AD(i,s){if(i==="click")return Rh(s)}function CD(i,s){if(i==="input"||i==="change")return Rh(s)}function RD(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Qn=typeof Object.is=="function"?Object.is:RD;function fu(i,s){if(Qn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Ae.call(s,m)||!Qn(i[m],s[m]))return!1}return!0}function __(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function b_(i,s){var o=__(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=__(o)}}function T_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?T_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function E_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=rr(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=rr(i.document)}return s}function Lm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var xD=ui&&"documentMode"in document&&11>=document.documentMode,Io=null,Um=null,du=null,jm=!1;function w_(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;jm||Io==null||Io!==rr(c)||(c=Io,"selectionStart"in c&&Lm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),du&&fu(du,c)||(du=c,c=gf(Um,"onSelect"),0<c.length&&(s=new or("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=Io)))}function xa(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Do={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},zm={},S_={};ui&&(S_=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Ia(i){if(zm[i])return zm[i];if(!Do[i])return i;var s=Do[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in S_)return zm[i]=s[o];return i}var A_=Ia("animationend"),C_=Ia("animationiteration"),R_=Ia("animationstart"),ID=Ia("transitionrun"),DD=Ia("transitionstart"),kD=Ia("transitioncancel"),x_=Ia("transitionend"),I_=new Map,Bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bm.push("scrollEnd");function Vi(i,s){I_.set(i,s),nr(s,[i])}var xh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},hi=[],ko=0,Fm=0;function Ih(){for(var i=ko,s=Fm=ko=0;s<i;){var o=hi[s];hi[s++]=null;var c=hi[s];hi[s++]=null;var m=hi[s];hi[s++]=null;var g=hi[s];if(hi[s++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}g!==0&&D_(o,m,g)}}function Dh(i,s,o,c){hi[ko++]=i,hi[ko++]=s,hi[ko++]=o,hi[ko++]=c,Fm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function qm(i,s,o,c){return Dh(i,s,o,c),kh(i)}function Da(i,s){return Dh(i,null,null,s),kh(i)}function D_(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&s!==null&&(m=31-zt(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=o|536870912),g):null}function kh(i){if(50<Pu)throw Pu=0,Jp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Mo={};function MD(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(i,s,o,c){return new MD(i,s,o,c)}function Hm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Dr(i,s){var o=i.alternate;return o===null?(o=Xn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function k_(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Mh(i,s,o,c,m,g){var b=0;if(c=i,typeof i=="function")Hm(i)&&(b=1);else if(typeof i=="string")b=L2(i,o,ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Xn(31,o,s,m),i.elementType=D,i.lanes=g,i;case P:return ka(o.children,m,g,s);case F:b=8,m|=24;break;case B:return i=Xn(12,o,s,m|2),i.elementType=B,i.lanes=g,i;case L:return i=Xn(13,o,s,m),i.elementType=L,i.lanes=g,i;case X:return i=Xn(19,o,s,m),i.elementType=X,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:b=10;break e;case U:b=9;break e;case ue:b=11;break e;case A:b=14;break e;case S:b=16,c=null;break e}b=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Xn(b,o,s,m),s.elementType=i,s.type=c,s.lanes=g,s}function ka(i,s,o,c){return i=Xn(7,i,c,s),i.lanes=o,i}function Gm(i,s,o){return i=Xn(6,i,null,s),i.lanes=o,i}function M_(i){var s=Xn(18,null,null,0);return s.stateNode=i,s}function $m(i,s,o){return s=Xn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var N_=new WeakMap;function fi(i,s){if(typeof i=="object"&&i!==null){var o=N_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Fe(s)},N_.set(i,s),s)}return{value:i,source:s,stack:Fe(s)}}var No=[],Oo=0,Nh=null,mu=0,di=[],mi=0,vs=null,hr=1,fr="";function kr(i,s){No[Oo++]=mu,No[Oo++]=Nh,Nh=i,mu=s}function O_(i,s,o){di[mi++]=hr,di[mi++]=fr,di[mi++]=vs,vs=i;var c=hr;i=fr;var m=32-zt(c)-1;c&=~(1<<m),o+=1;var g=32-zt(s)+m;if(30<g){var b=m-m%5;g=(c&(1<<b)-1).toString(32),c>>=b,m-=b,hr=1<<32-zt(s)+m|o<<m|c,fr=g+i}else hr=1<<g|o<<m|c,fr=i}function Ym(i){i.return!==null&&(kr(i,1),O_(i,1,0))}function Km(i){for(;i===Nh;)Nh=No[--Oo],No[Oo]=null,mu=No[--Oo],No[Oo]=null;for(;i===vs;)vs=di[--mi],di[mi]=null,fr=di[--mi],di[mi]=null,hr=di[--mi],di[mi]=null}function P_(i,s){di[mi++]=hr,di[mi++]=fr,di[mi++]=vs,hr=s.id,fr=s.overflow,vs=i}var gn=null,St=null,st=!1,_s=null,pi=!1,Wm=Error(r(519));function bs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pu(fi(s,i)),Wm}function V_(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[Yt]=i,s[un]=c,o){case"dialog":Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":case"embed":Ze("load",s);break;case"video":case"audio":for(o=0;o<Lu.length;o++)Ze(Lu[o],s);break;case"source":Ze("error",s);break;case"img":case"image":case"link":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"input":Ze("invalid",s),fh(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ze("invalid",s);break;case"textarea":Ze("invalid",s),hs(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||ZT(s.textContent,o)?(c.popover!=null&&(Ze("beforetoggle",s),Ze("toggle",s)),c.onScroll!=null&&Ze("scroll",s),c.onScrollEnd!=null&&Ze("scrollend",s),c.onClick!=null&&(s.onclick=ki),s=!0):s=!1,s||bs(i,!0)}function L_(i){for(gn=i.return;gn;)switch(gn.tag){case 5:case 31:case 13:pi=!1;return;case 27:case 3:pi=!0;return;default:gn=gn.return}}function Po(i){if(i!==gn)return!1;if(!st)return L_(i),st=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||dg(i.type,i.memoizedProps)),o=!o),o&&St&&bs(i),L_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));St=lE(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));St=lE(i)}else s===27?(s=St,Os(i.type)?(i=vg,vg=null,St=i):St=s):St=gn?yi(i.stateNode.nextSibling):null;return!0}function Ma(){St=gn=null,st=!1}function Qm(){var i=_s;return i!==null&&(Bn===null?Bn=i:Bn.push.apply(Bn,i),_s=null),i}function pu(i){_s===null?_s=[i]:_s.push(i)}var Xm=q(null),Na=null,Mr=null;function Ts(i,s,o){pe(Xm,s._currentValue),s._currentValue=o}function Nr(i){i._currentValue=Xm.current,ae(Xm)}function Jm(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function Zm(i,s,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var b=m.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=m;for(var j=0;j<s.length;j++)if(R.context===s[j]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),Jm(g.return,o,i),c||(b=null);break e}g=R.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(r(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Jm(b,o,i),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===i){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function Vo(i,s,o,c){i=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var R=m.type;Qn(m.pendingProps.value,b.value)||(i!==null?i.push(R):i=[R])}}else if(m===ge.current){if(b=m.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Fu):i=[Fu])}m=m.return}i!==null&&Zm(s,i,o,c),s.flags|=262144}function Oh(i){for(i=i.firstContext;i!==null;){if(!Qn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Oa(i){Na=i,Mr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function yn(i){return U_(Na,i)}function Ph(i,s){return Na===null&&Oa(i),U_(i,s)}function U_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Mr===null){if(i===null)throw Error(r(308));Mr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Mr=Mr.next=s;return o}var ND=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},OD=t.unstable_scheduleCallback,PD=t.unstable_NormalPriority,Qt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ep(){return{controller:new ND,data:new Map,refCount:0}}function gu(i){i.refCount--,i.refCount===0&&OD(PD,function(){i.controller.abort()})}var yu=null,tp=0,Lo=0,Uo=null;function VD(i,s){if(yu===null){var o=yu=[];tp=0,Lo=rg(),Uo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return tp++,s.then(j_,j_),s}function j_(){if(--tp===0&&yu!==null){Uo!==null&&(Uo.status="fulfilled");var i=yu;yu=null,Lo=0,Uo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function LD(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var z_=H.S;H.S=function(i,s){wT=kn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&VD(i,s),z_!==null&&z_(i,s)};var Pa=q(null);function np(){var i=Pa.current;return i!==null?i:Tt.pooledCache}function Vh(i,s){s===null?pe(Pa,Pa.current):pe(Pa,s.pool)}function B_(){var i=np();return i===null?null:{parent:Qt._currentValue,pool:i}}var jo=Error(r(460)),ip=Error(r(474)),Lh=Error(r(542)),Uh={then:function(){}};function F_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function q_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(ki,ki),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,G_(i),i;default:if(typeof s.status=="string")s.then(ki,ki);else{if(i=Tt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,G_(i),i}throw La=s,jo}}function Va(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(La=o,jo):o}}var La=null;function H_(){if(La===null)throw Error(r(459));var i=La;return La=null,i}function G_(i){if(i===jo||i===Lh)throw Error(r(483))}var zo=null,vu=0;function jh(i){var s=vu;return vu+=1,zo===null&&(zo=[]),q_(zo,i,s)}function _u(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function zh(i,s){throw s.$$typeof===T?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function $_(i){function s(K,G){if(i){var Z=K.deletions;Z===null?(K.deletions=[G],K.flags|=16):Z.push(G)}}function o(K,G){if(!i)return null;for(;G!==null;)s(K,G),G=G.sibling;return null}function c(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function m(K,G){return K=Dr(K,G),K.index=0,K.sibling=null,K}function g(K,G,Z){return K.index=Z,i?(Z=K.alternate,Z!==null?(Z=Z.index,Z<G?(K.flags|=67108866,G):Z):(K.flags|=67108866,G)):(K.flags|=1048576,G)}function b(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function R(K,G,Z,ce){return G===null||G.tag!==6?(G=Gm(Z,K.mode,ce),G.return=K,G):(G=m(G,Z),G.return=K,G)}function j(K,G,Z,ce){var Ve=Z.type;return Ve===P?le(K,G,Z.props.children,ce,Z.key):G!==null&&(G.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===S&&Va(Ve)===G.type)?(G=m(G,Z.props),_u(G,Z),G.return=K,G):(G=Mh(Z.type,Z.key,Z.props,null,K.mode,ce),_u(G,Z),G.return=K,G)}function ee(K,G,Z,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=$m(Z,K.mode,ce),G.return=K,G):(G=m(G,Z.children||[]),G.return=K,G)}function le(K,G,Z,ce,Ve){return G===null||G.tag!==7?(G=ka(Z,K.mode,ce,Ve),G.return=K,G):(G=m(G,Z),G.return=K,G)}function fe(K,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Gm(""+G,K.mode,Z),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return Z=Mh(G.type,G.key,G.props,null,K.mode,Z),_u(Z,G),Z.return=K,Z;case N:return G=$m(G,K.mode,Z),G.return=K,G;case S:return G=Va(G),fe(K,G,Z)}if($(G)||k(G))return G=ka(G,K.mode,Z,null),G.return=K,G;if(typeof G.then=="function")return fe(K,jh(G),Z);if(G.$$typeof===z)return fe(K,Ph(K,G),Z);zh(K,G)}return null}function re(K,G,Z,ce){var Ve=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ve!==null?null:R(K,G,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return Z.key===Ve?j(K,G,Z,ce):null;case N:return Z.key===Ve?ee(K,G,Z,ce):null;case S:return Z=Va(Z),re(K,G,Z,ce)}if($(Z)||k(Z))return Ve!==null?null:le(K,G,Z,ce,null);if(typeof Z.then=="function")return re(K,G,jh(Z),ce);if(Z.$$typeof===z)return re(K,G,Ph(K,Z),ce);zh(K,Z)}return null}function oe(K,G,Z,ce,Ve){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return K=K.get(Z)||null,R(G,K,""+ce,Ve);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:return K=K.get(ce.key===null?Z:ce.key)||null,j(G,K,ce,Ve);case N:return K=K.get(ce.key===null?Z:ce.key)||null,ee(G,K,ce,Ve);case S:return ce=Va(ce),oe(K,G,Z,ce,Ve)}if($(ce)||k(ce))return K=K.get(Z)||null,le(G,K,ce,Ve,null);if(typeof ce.then=="function")return oe(K,G,Z,jh(ce),Ve);if(ce.$$typeof===z)return oe(K,G,Z,Ph(G,ce),Ve);zh(G,ce)}return null}function xe(K,G,Z,ce){for(var Ve=null,ot=null,Oe=G,Ke=G=0,tt=null;Oe!==null&&Ke<Z.length;Ke++){Oe.index>Ke?(tt=Oe,Oe=null):tt=Oe.sibling;var lt=re(K,Oe,Z[Ke],ce);if(lt===null){Oe===null&&(Oe=tt);break}i&&Oe&&lt.alternate===null&&s(K,Oe),G=g(lt,G,Ke),ot===null?Ve=lt:ot.sibling=lt,ot=lt,Oe=tt}if(Ke===Z.length)return o(K,Oe),st&&kr(K,Ke),Ve;if(Oe===null){for(;Ke<Z.length;Ke++)Oe=fe(K,Z[Ke],ce),Oe!==null&&(G=g(Oe,G,Ke),ot===null?Ve=Oe:ot.sibling=Oe,ot=Oe);return st&&kr(K,Ke),Ve}for(Oe=c(Oe);Ke<Z.length;Ke++)tt=oe(Oe,K,Ke,Z[Ke],ce),tt!==null&&(i&&tt.alternate!==null&&Oe.delete(tt.key===null?Ke:tt.key),G=g(tt,G,Ke),ot===null?Ve=tt:ot.sibling=tt,ot=tt);return i&&Oe.forEach(function(js){return s(K,js)}),st&&kr(K,Ke),Ve}function je(K,G,Z,ce){if(Z==null)throw Error(r(151));for(var Ve=null,ot=null,Oe=G,Ke=G=0,tt=null,lt=Z.next();Oe!==null&&!lt.done;Ke++,lt=Z.next()){Oe.index>Ke?(tt=Oe,Oe=null):tt=Oe.sibling;var js=re(K,Oe,lt.value,ce);if(js===null){Oe===null&&(Oe=tt);break}i&&Oe&&js.alternate===null&&s(K,Oe),G=g(js,G,Ke),ot===null?Ve=js:ot.sibling=js,ot=js,Oe=tt}if(lt.done)return o(K,Oe),st&&kr(K,Ke),Ve;if(Oe===null){for(;!lt.done;Ke++,lt=Z.next())lt=fe(K,lt.value,ce),lt!==null&&(G=g(lt,G,Ke),ot===null?Ve=lt:ot.sibling=lt,ot=lt);return st&&kr(K,Ke),Ve}for(Oe=c(Oe);!lt.done;Ke++,lt=Z.next())lt=oe(Oe,K,Ke,lt.value,ce),lt!==null&&(i&&lt.alternate!==null&&Oe.delete(lt.key===null?Ke:lt.key),G=g(lt,G,Ke),ot===null?Ve=lt:ot.sibling=lt,ot=lt);return i&&Oe.forEach(function(K2){return s(K,K2)}),st&&kr(K,Ke),Ve}function _t(K,G,Z,ce){if(typeof Z=="object"&&Z!==null&&Z.type===P&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:e:{for(var Ve=Z.key;G!==null;){if(G.key===Ve){if(Ve=Z.type,Ve===P){if(G.tag===7){o(K,G.sibling),ce=m(G,Z.props.children),ce.return=K,K=ce;break e}}else if(G.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===S&&Va(Ve)===G.type){o(K,G.sibling),ce=m(G,Z.props),_u(ce,Z),ce.return=K,K=ce;break e}o(K,G);break}else s(K,G);G=G.sibling}Z.type===P?(ce=ka(Z.props.children,K.mode,ce,Z.key),ce.return=K,K=ce):(ce=Mh(Z.type,Z.key,Z.props,null,K.mode,ce),_u(ce,Z),ce.return=K,K=ce)}return b(K);case N:e:{for(Ve=Z.key;G!==null;){if(G.key===Ve)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){o(K,G.sibling),ce=m(G,Z.children||[]),ce.return=K,K=ce;break e}else{o(K,G);break}else s(K,G);G=G.sibling}ce=$m(Z,K.mode,ce),ce.return=K,K=ce}return b(K);case S:return Z=Va(Z),_t(K,G,Z,ce)}if($(Z))return xe(K,G,Z,ce);if(k(Z)){if(Ve=k(Z),typeof Ve!="function")throw Error(r(150));return Z=Ve.call(Z),je(K,G,Z,ce)}if(typeof Z.then=="function")return _t(K,G,jh(Z),ce);if(Z.$$typeof===z)return _t(K,G,Ph(K,Z),ce);zh(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(o(K,G.sibling),ce=m(G,Z),ce.return=K,K=ce):(o(K,G),ce=Gm(Z,K.mode,ce),ce.return=K,K=ce),b(K)):o(K,G)}return function(K,G,Z,ce){try{vu=0;var Ve=_t(K,G,Z,ce);return zo=null,Ve}catch(Oe){if(Oe===jo||Oe===Lh)throw Oe;var ot=Xn(29,Oe,null,K.mode);return ot.lanes=ce,ot.return=K,ot}}}var Ua=$_(!0),Y_=$_(!1),Es=!1;function rp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ws(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ss(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ct&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=kh(i),D_(i,null,o),s}return Dh(i,c,s,o),kh(i)}function bu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,Yl(i,o)}}function ap(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var op=!1;function Tu(){if(op){var i=Uo;if(i!==null)throw i}}function Eu(i,s,o,c){op=!1;var m=i.updateQueue;Es=!1;var g=m.firstBaseUpdate,b=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var j=R,ee=j.next;j.next=null,b===null?g=ee:b.next=ee,b=j;var le=i.alternate;le!==null&&(le=le.updateQueue,R=le.lastBaseUpdate,R!==b&&(R===null?le.firstBaseUpdate=ee:R.next=ee,le.lastBaseUpdate=j))}if(g!==null){var fe=m.baseState;b=0,le=ee=j=null,R=g;do{var re=R.lane&-536870913,oe=re!==R.lane;if(oe?(et&re)===re:(c&re)===re){re!==0&&re===Lo&&(op=!0),le!==null&&(le=le.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var xe=i,je=R;re=s;var _t=o;switch(je.tag){case 1:if(xe=je.payload,typeof xe=="function"){fe=xe.call(_t,fe,re);break e}fe=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=je.payload,re=typeof xe=="function"?xe.call(_t,fe,re):xe,re==null)break e;fe=v({},fe,re);break e;case 2:Es=!0}}re=R.callback,re!==null&&(i.flags|=64,oe&&(i.flags|=8192),oe=m.callbacks,oe===null?m.callbacks=[re]:oe.push(re))}else oe={lane:re,tag:R.tag,payload:R.payload,callback:R.callback,next:null},le===null?(ee=le=oe,j=fe):le=le.next=oe,b|=re;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;oe=R,R=oe.next,oe.next=null,m.lastBaseUpdate=oe,m.shared.pending=null}}while(!0);le===null&&(j=fe),m.baseState=j,m.firstBaseUpdate=ee,m.lastBaseUpdate=le,g===null&&(m.shared.lanes=0),Is|=b,i.lanes=b,i.memoizedState=fe}}function K_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function W_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)K_(o[i],s)}var Bo=q(null),Bh=q(0);function Q_(i,s){i=Fr,pe(Bh,i),pe(Bo,s),Fr=i|s.baseLanes}function lp(){pe(Bh,Fr),pe(Bo,Bo.current)}function up(){Fr=Bh.current,ae(Bo),ae(Bh)}var Jn=q(null),gi=null;function As(i){var s=i.alternate;pe(Ft,Ft.current&1),pe(Jn,i),gi===null&&(s===null||Bo.current!==null||s.memoizedState!==null)&&(gi=i)}function cp(i){pe(Ft,Ft.current),pe(Jn,i),gi===null&&(gi=i)}function X_(i){i.tag===22?(pe(Ft,Ft.current),pe(Jn,i),gi===null&&(gi=i)):Cs()}function Cs(){pe(Ft,Ft.current),pe(Jn,Jn.current)}function Zn(i){ae(Jn),gi===i&&(gi=null),ae(Ft)}var Ft=q(0);function Fh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||gg(o)||yg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Or=0,Ye=null,yt=null,Xt=null,qh=!1,Fo=!1,ja=!1,Hh=0,wu=0,qo=null,UD=0;function Pt(){throw Error(r(321))}function hp(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Qn(i[o],s[o]))return!1;return!0}function fp(i,s,o,c,m,g){return Or=g,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=i===null||i.memoizedState===null?Ob:Rp,ja=!1,g=o(c,m),ja=!1,Fo&&(g=Z_(s,o,c,m)),J_(i),g}function J_(i){H.H=Cu;var s=yt!==null&&yt.next!==null;if(Or=0,Xt=yt=Ye=null,qh=!1,wu=0,qo=null,s)throw Error(r(300));i===null||Jt||(i=i.dependencies,i!==null&&Oh(i)&&(Jt=!0))}function Z_(i,s,o,c){Ye=i;var m=0;do{if(Fo&&(qo=null),wu=0,Fo=!1,25<=m)throw Error(r(301));if(m+=1,Xt=yt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=Pb,g=s(o,c)}while(Fo);return g}function jD(){var i=H.H,s=i.useState()[0];return s=typeof s.then=="function"?Su(s):s,i=i.useState()[0],(yt!==null?yt.memoizedState:null)!==i&&(Ye.flags|=1024),s}function dp(){var i=Hh!==0;return Hh=0,i}function mp(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function pp(i){if(qh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}qh=!1}Or=0,Xt=yt=Ye=null,Fo=!1,wu=Hh=0,qo=null}function Nn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ye.memoizedState=Xt=i:Xt=Xt.next=i,Xt}function qt(){if(yt===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=yt.next;var s=Xt===null?Ye.memoizedState:Xt.next;if(s!==null)Xt=s,yt=i;else{if(i===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));yt=i,i={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Xt===null?Ye.memoizedState=Xt=i:Xt=Xt.next=i}return Xt}function Gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Su(i){var s=wu;return wu+=1,qo===null&&(qo=[]),i=q_(qo,i,s),s=Ye,(Xt===null?s.memoizedState:Xt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?Ob:Rp),i}function $h(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Su(i);if(i.$$typeof===z)return yn(i)}throw Error(r(438,String(i)))}function gp(i){var s=null,o=Ye.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ye.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Gh(),Ye.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=O;return s.index++,o}function Pr(i,s){return typeof s=="function"?s(i):s}function Yh(i){var s=qt();return yp(s,yt,i)}function yp(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var b=m.next;m.next=g.next,g.next=b}s.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var R=b=null,j=null,ee=s,le=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(et&fe)===fe:(Or&fe)===fe){var re=ee.revertLane;if(re===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===Lo&&(le=!0);else if((Or&re)===re){ee=ee.next,re===Lo&&(le=!0);continue}else fe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},j===null?(R=j=fe,b=g):j=j.next=fe,Ye.lanes|=re,Is|=re;fe=ee.action,ja&&o(g,fe),g=ee.hasEagerState?ee.eagerState:o(g,fe)}else re={lane:fe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},j===null?(R=j=re,b=g):j=j.next=re,Ye.lanes|=fe,Is|=fe;ee=ee.next}while(ee!==null&&ee!==s);if(j===null?b=g:j.next=R,!Qn(g,i.memoizedState)&&(Jt=!0,le&&(o=Uo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=j,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function vp(i){var s=qt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do g=i(g,b.action),b=b.next;while(b!==m);Qn(g,s.memoizedState)||(Jt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function eb(i,s,o){var c=Ye,m=qt(),g=st;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var b=!Qn((yt||m).memoizedState,o);if(b&&(m.memoizedState=o,Jt=!0),m=m.queue,Tp(ib.bind(null,c,m,i),[i]),m.getSnapshot!==s||b||Xt!==null&&Xt.memoizedState.tag&1){if(c.flags|=2048,Ho(9,{destroy:void 0},nb.bind(null,c,m,o,s),null),Tt===null)throw Error(r(349));g||(Or&127)!==0||tb(c,s,o)}return o}function tb(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ye.updateQueue,s===null?(s=Gh(),Ye.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function nb(i,s,o,c){s.value=o,s.getSnapshot=c,rb(s)&&sb(i)}function ib(i,s,o){return o(function(){rb(s)&&sb(i)})}function rb(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Qn(i,o)}catch{return!0}}function sb(i){var s=Da(i,2);s!==null&&Fn(s,i,2)}function _p(i){var s=Nn();if(typeof i=="function"){var o=i;if(i=o(),ja){ai(!0);try{o()}finally{ai(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:i},s}function ab(i,s,o,c){return i.baseState=o,yp(i,yt,typeof c=="function"?c:Pr)}function zD(i,s,o,c,m){if(Qh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};H.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,ob(s,g)):(g.next=o.next,s.pending=o.next=g)}}function ob(i,s){var o=s.action,c=s.payload,m=i.state;if(s.isTransition){var g=H.T,b={};H.T=b;try{var R=o(m,c),j=H.S;j!==null&&j(b,R),lb(i,s,R)}catch(ee){bp(i,s,ee)}finally{g!==null&&b.types!==null&&(g.types=b.types),H.T=g}}else try{g=o(m,c),lb(i,s,g)}catch(ee){bp(i,s,ee)}}function lb(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){ub(i,s,c)},function(c){return bp(i,s,c)}):ub(i,s,o)}function ub(i,s,o){s.status="fulfilled",s.value=o,cb(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,ob(i,o)))}function bp(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,cb(s),s=s.next;while(s!==c)}i.action=null}function cb(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function hb(i,s){return s}function fb(i,s){if(st){var o=Tt.formState;if(o!==null){e:{var c=Ye;if(st){if(St){t:{for(var m=St,g=pi;m.nodeType!==8;){if(!g){m=null;break t}if(m=yi(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){St=yi(m.nextSibling),c=m.data==="F!";break e}}bs(c)}c=!1}c&&(s=o[0])}}return o=Nn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hb,lastRenderedState:s},o.queue=c,o=kb.bind(null,Ye,c),c.dispatch=o,c=_p(!1),g=Cp.bind(null,Ye,!1,c.queue),c=Nn(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,o=zD.bind(null,Ye,m,g,o),m.dispatch=o,c.memoizedState=i,[s,o,!1]}function db(i){var s=qt();return mb(s,yt,i)}function mb(i,s,o){if(s=yp(i,s,hb)[0],i=Yh(Pr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Su(s)}catch(b){throw b===jo?Lh:b}else c=s;s=qt();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&(Ye.flags|=2048,Ho(9,{destroy:void 0},BD.bind(null,m,o),null)),[c,g,i]}function BD(i,s){i.action=s}function pb(i){var s=qt(),o=yt;if(o!==null)return mb(s,o,i);qt(),s=s.memoizedState,o=qt();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function Ho(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=Ye.updateQueue,s===null&&(s=Gh(),Ye.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function gb(){return qt().memoizedState}function Kh(i,s,o,c){var m=Nn();Ye.flags|=i,m.memoizedState=Ho(1|s,{destroy:void 0},o,c===void 0?null:c)}function Wh(i,s,o,c){var m=qt();c=c===void 0?null:c;var g=m.memoizedState.inst;yt!==null&&c!==null&&hp(c,yt.memoizedState.deps)?m.memoizedState=Ho(s,g,o,c):(Ye.flags|=i,m.memoizedState=Ho(1|s,g,o,c))}function yb(i,s){Kh(8390656,8,i,s)}function Tp(i,s){Wh(2048,8,i,s)}function FD(i){Ye.flags|=4;var s=Ye.updateQueue;if(s===null)s=Gh(),Ye.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function vb(i){var s=qt().memoizedState;return FD({ref:s,nextImpl:i}),function(){if((ct&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function _b(i,s){return Wh(4,2,i,s)}function bb(i,s){return Wh(4,4,i,s)}function Tb(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Eb(i,s,o){o=o!=null?o.concat([i]):null,Wh(4,4,Tb.bind(null,s,i),o)}function Ep(){}function wb(i,s){var o=qt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&hp(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function Sb(i,s){var o=qt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&hp(s,c[1]))return c[0];if(c=i(),ja){ai(!0);try{i()}finally{ai(!1)}}return o.memoizedState=[c,s],c}function wp(i,s,o){return o===void 0||(Or&1073741824)!==0&&(et&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=AT(),Ye.lanes|=i,Is|=i,o)}function Ab(i,s,o,c){return Qn(o,s)?o:Bo.current!==null?(i=wp(i,o,c),Qn(i,s)||(Jt=!0),i):(Or&42)===0||(Or&1073741824)!==0&&(et&261930)===0?(Jt=!0,i.memoizedState=o):(i=AT(),Ye.lanes|=i,Is|=i,s)}function Cb(i,s,o,c,m){var g=te.p;te.p=g!==0&&8>g?g:8;var b=H.T,R={};H.T=R,Cp(i,!1,s,o);try{var j=m(),ee=H.S;if(ee!==null&&ee(R,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var le=LD(j,c);Au(i,s,le,ni(i))}else Au(i,s,c,ni(i))}catch(fe){Au(i,s,{then:function(){},status:"rejected",reason:fe},ni())}finally{te.p=g,b!==null&&R.types!==null&&(b.types=R.types),H.T=b}}function qD(){}function Sp(i,s,o,c){if(i.tag!==5)throw Error(r(476));var m=Rb(i).queue;Cb(i,m,s,W,o===null?qD:function(){return xb(i),o(c)})}function Rb(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:W},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function xb(i){var s=Rb(i);s.next===null&&(s=i.alternate.memoizedState),Au(i,s.next.queue,{},ni())}function Ap(){return yn(Fu)}function Ib(){return qt().memoizedState}function Db(){return qt().memoizedState}function HD(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=ni();i=ws(o);var c=Ss(s,i,o);c!==null&&(Fn(c,s,o),bu(c,s,o)),s={cache:ep()},i.payload=s;return}s=s.return}}function GD(i,s,o){var c=ni();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qh(i)?Mb(s,o):(o=qm(i,s,o,c),o!==null&&(Fn(o,i,c),Nb(o,s,c)))}function kb(i,s,o){var c=ni();Au(i,s,o,c)}function Au(i,s,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Qh(i))Mb(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,R=g(b,o);if(m.hasEagerState=!0,m.eagerState=R,Qn(R,b))return Dh(i,s,m,0),Tt===null&&Ih(),!1}catch{}if(o=qm(i,s,m,c),o!==null)return Fn(o,i,c),Nb(o,s,c),!0}return!1}function Cp(i,s,o,c){if(c={lane:2,revertLane:rg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Qh(i)){if(s)throw Error(r(479))}else s=qm(i,o,c,2),s!==null&&Fn(s,i,2)}function Qh(i){var s=i.alternate;return i===Ye||s!==null&&s===Ye}function Mb(i,s){Fo=qh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Nb(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,Yl(i,o)}}var Cu={readContext:yn,use:$h,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};Cu.useEffectEvent=Pt;var Ob={readContext:yn,use:$h,useCallback:function(i,s){return Nn().memoizedState=[i,s===void 0?null:s],i},useContext:yn,useEffect:yb,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Kh(4194308,4,Tb.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Kh(4194308,4,i,s)},useInsertionEffect:function(i,s){Kh(4,2,i,s)},useMemo:function(i,s){var o=Nn();s=s===void 0?null:s;var c=i();if(ja){ai(!0);try{i()}finally{ai(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=Nn();if(o!==void 0){var m=o(s);if(ja){ai(!0);try{o(s)}finally{ai(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=GD.bind(null,Ye,i),[c.memoizedState,i]},useRef:function(i){var s=Nn();return i={current:i},s.memoizedState=i},useState:function(i){i=_p(i);var s=i.queue,o=kb.bind(null,Ye,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Ep,useDeferredValue:function(i,s){var o=Nn();return wp(o,i,s)},useTransition:function(){var i=_p(!1);return i=Cb.bind(null,Ye,i.queue,!0,!1),Nn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=Ye,m=Nn();if(st){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Tt===null)throw Error(r(349));(et&127)!==0||tb(c,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,yb(ib.bind(null,c,g,i),[i]),c.flags|=2048,Ho(9,{destroy:void 0},nb.bind(null,c,g,o,s),null),o},useId:function(){var i=Nn(),s=Tt.identifierPrefix;if(st){var o=fr,c=hr;o=(c&~(1<<32-zt(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Hh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=UD++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Ap,useFormState:fb,useActionState:fb,useOptimistic:function(i){var s=Nn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Cp.bind(null,Ye,!0,o),o.dispatch=s,[i,s]},useMemoCache:gp,useCacheRefresh:function(){return Nn().memoizedState=HD.bind(null,Ye)},useEffectEvent:function(i){var s=Nn(),o={impl:i};return s.memoizedState=o,function(){if((ct&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Rp={readContext:yn,use:$h,useCallback:wb,useContext:yn,useEffect:Tp,useImperativeHandle:Eb,useInsertionEffect:_b,useLayoutEffect:bb,useMemo:Sb,useReducer:Yh,useRef:gb,useState:function(){return Yh(Pr)},useDebugValue:Ep,useDeferredValue:function(i,s){var o=qt();return Ab(o,yt.memoizedState,i,s)},useTransition:function(){var i=Yh(Pr)[0],s=qt().memoizedState;return[typeof i=="boolean"?i:Su(i),s]},useSyncExternalStore:eb,useId:Ib,useHostTransitionStatus:Ap,useFormState:db,useActionState:db,useOptimistic:function(i,s){var o=qt();return ab(o,yt,i,s)},useMemoCache:gp,useCacheRefresh:Db};Rp.useEffectEvent=vb;var Pb={readContext:yn,use:$h,useCallback:wb,useContext:yn,useEffect:Tp,useImperativeHandle:Eb,useInsertionEffect:_b,useLayoutEffect:bb,useMemo:Sb,useReducer:vp,useRef:gb,useState:function(){return vp(Pr)},useDebugValue:Ep,useDeferredValue:function(i,s){var o=qt();return yt===null?wp(o,i,s):Ab(o,yt.memoizedState,i,s)},useTransition:function(){var i=vp(Pr)[0],s=qt().memoizedState;return[typeof i=="boolean"?i:Su(i),s]},useSyncExternalStore:eb,useId:Ib,useHostTransitionStatus:Ap,useFormState:pb,useActionState:pb,useOptimistic:function(i,s){var o=qt();return yt!==null?ab(o,yt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:gp,useCacheRefresh:Db};Pb.useEffectEvent=vb;function xp(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Ip={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=ni(),m=ws(c);m.payload=s,o!=null&&(m.callback=o),s=Ss(i,m,c),s!==null&&(Fn(s,i,c),bu(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=ni(),m=ws(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Ss(i,m,c),s!==null&&(Fn(s,i,c),bu(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=ni(),c=ws(o);c.tag=2,s!=null&&(c.callback=s),s=Ss(i,c,o),s!==null&&(Fn(s,i,o),bu(s,i,o))}};function Vb(i,s,o,c,m,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,b):s.prototype&&s.prototype.isPureReactComponent?!fu(o,c)||!fu(m,g):!0}function Lb(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&Ip.enqueueReplaceState(s,s.state,null)}function za(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function Ub(i){xh(i)}function jb(i){console.error(i)}function zb(i){xh(i)}function Xh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Bb(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Dp(i,s,o){return o=ws(o),o.tag=3,o.payload={element:null},o.callback=function(){Xh(i,s)},o}function Fb(i){return i=ws(i),i.tag=3,i}function qb(i,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){Bb(s,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){Bb(s,o,c),typeof m!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function $D(i,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Vo(s,o,m,!0),o=Jn.current,o!==null){switch(o.tag){case 31:case 13:return gi===null?cf():o.alternate===null&&Vt===0&&(Vt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Uh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),tg(i,c,m)),!1;case 22:return o.flags|=65536,c===Uh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),tg(i,c,m)),!1}throw Error(r(435,o.tag))}return tg(i,c,m),cf(),!1}if(st)return s=Jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Wm&&(i=Error(r(422),{cause:c}),pu(fi(i,o)))):(c!==Wm&&(s=Error(r(423),{cause:c}),pu(fi(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=fi(c,o),m=Dp(i.stateNode,c,m),ap(i,m),Vt!==4&&(Vt=2)),!1;var g=Error(r(520),{cause:c});if(g=fi(g,o),Ou===null?Ou=[g]:Ou.push(g),Vt!==4&&(Vt=2),s===null)return!0;c=fi(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Dp(o.stateNode,c,i),ap(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ds===null||!Ds.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Fb(m),qb(m,i,o,c),ap(o,m),!1}o=o.return}while(o!==null);return!1}var kp=Error(r(461)),Jt=!1;function vn(i,s,o,c){s.child=i===null?Y_(s,null,o,c):Ua(s,i.child,o,c)}function Hb(i,s,o,c,m){o=o.render;var g=s.ref;if("ref"in c){var b={};for(var R in c)R!=="ref"&&(b[R]=c[R])}else b=c;return Oa(s),c=fp(i,s,o,b,g,m),R=dp(),i!==null&&!Jt?(mp(i,s,m),Vr(i,s,m)):(st&&R&&Ym(s),s.flags|=1,vn(i,s,c,m),s.child)}function Gb(i,s,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!Hm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,$b(i,s,g,c,m)):(i=Mh(o.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!jp(i,m)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:fu,o(b,c)&&i.ref===s.ref)return Vr(i,s,m)}return s.flags|=1,i=Dr(g,c),i.ref=s.ref,i.return=s,s.child=i}function $b(i,s,o,c,m){if(i!==null){var g=i.memoizedProps;if(fu(g,c)&&i.ref===s.ref)if(Jt=!1,s.pendingProps=c=g,jp(i,m))(i.flags&131072)!==0&&(Jt=!0);else return s.lanes=i.lanes,Vr(i,s,m)}return Mp(i,s,o,c,m)}function Yb(i,s,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=s.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,s.child=null;return Kb(i,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vh(s,g!==null?g.cachePool:null),g!==null?Q_(s,g):lp(),X_(s);else return c=s.lanes=536870912,Kb(i,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Vh(s,g.cachePool),Q_(s,g),Cs(),s.memoizedState=null):(i!==null&&Vh(s,null),lp(),Cs());return vn(i,s,m,o),s.child}function Ru(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Kb(i,s,o,c,m){var g=np();return g=g===null?null:{parent:Qt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&Vh(s,null),lp(),X_(s),i!==null&&Vo(i,s,c,!0),s.childLanes=m,null}function Jh(i,s){return s=ef({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Wb(i,s,o){return Ua(s,i.child,null,o),i=Jh(s,s.pendingProps),i.flags|=2,Zn(s),s.memoizedState=null,i}function YD(i,s,o){var c=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(st){if(c.mode==="hidden")return i=Jh(s,c),s.lanes=536870912,Ru(null,i);if(cp(s),(i=St)?(i=oE(i,pi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:vs!==null?{id:hr,overflow:fr}:null,retryLane:536870912,hydrationErrors:null},o=M_(i),o.return=s,s.child=o,gn=s,St=null)):i=null,i===null)throw bs(s);return s.lanes=536870912,null}return Jh(s,c)}var g=i.memoizedState;if(g!==null){var b=g.dehydrated;if(cp(s),m)if(s.flags&256)s.flags&=-257,s=Wb(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Jt||Vo(i,s,o,!1),m=(o&i.childLanes)!==0,Jt||m){if(c=Tt,c!==null&&(b=Kl(c,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,Da(i,b),Fn(c,i,b),kp;cf(),s=Wb(i,s,o)}else i=g.treeContext,St=yi(b.nextSibling),gn=s,st=!0,_s=null,pi=!1,i!==null&&P_(s,i),s=Jh(s,c),s.flags|=4096;return s}return i=Dr(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Zh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Mp(i,s,o,c,m){return Oa(s),o=fp(i,s,o,c,void 0,m),c=dp(),i!==null&&!Jt?(mp(i,s,m),Vr(i,s,m)):(st&&c&&Ym(s),s.flags|=1,vn(i,s,o,m),s.child)}function Qb(i,s,o,c,m,g){return Oa(s),s.updateQueue=null,o=Z_(s,c,o,m),J_(i),c=dp(),i!==null&&!Jt?(mp(i,s,g),Vr(i,s,g)):(st&&c&&Ym(s),s.flags|=1,vn(i,s,o,g),s.child)}function Xb(i,s,o,c,m){if(Oa(s),s.stateNode===null){var g=Mo,b=o.contextType;typeof b=="object"&&b!==null&&(g=yn(b)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ip,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},rp(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?yn(b):Mo,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(xp(s,o,b,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Ip.enqueueReplaceState(g,g.state,null),Eu(s,c,g,m),Tu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var R=s.memoizedProps,j=za(o,R);g.props=j;var ee=g.context,le=o.contextType;b=Mo,typeof le=="object"&&le!==null&&(b=yn(le));var fe=o.getDerivedStateFromProps;le=typeof fe=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,le||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||ee!==b)&&Lb(s,g,c,b),Es=!1;var re=s.memoizedState;g.state=re,Eu(s,c,g,m),Tu(),ee=s.memoizedState,R||re!==ee||Es?(typeof fe=="function"&&(xp(s,o,fe,c),ee=s.memoizedState),(j=Es||Vb(s,o,j,c,re,ee,b))?(le||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=ee),g.props=c,g.state=ee,g.context=b,c=j):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,sp(i,s),b=s.memoizedProps,le=za(o,b),g.props=le,fe=s.pendingProps,re=g.context,ee=o.contextType,j=Mo,typeof ee=="object"&&ee!==null&&(j=yn(ee)),R=o.getDerivedStateFromProps,(ee=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==fe||re!==j)&&Lb(s,g,c,j),Es=!1,re=s.memoizedState,g.state=re,Eu(s,c,g,m),Tu();var oe=s.memoizedState;b!==fe||re!==oe||Es||i!==null&&i.dependencies!==null&&Oh(i.dependencies)?(typeof R=="function"&&(xp(s,o,R,c),oe=s.memoizedState),(le=Es||Vb(s,o,le,c,re,oe,j)||i!==null&&i.dependencies!==null&&Oh(i.dependencies))?(ee||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,oe,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,oe,j)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=oe),g.props=c,g.state=oe,g.context=j,c=le):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,Zh(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=Ua(s,i.child,null,m),s.child=Ua(s,null,o,m)):vn(i,s,o,m),s.memoizedState=g.state,i=s.child):i=Vr(i,s,m),i}function Jb(i,s,o,c){return Ma(),s.flags|=256,vn(i,s,o,c),s.child}var Np={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Op(i){return{baseLanes:i,cachePool:B_()}}function Pp(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=ti),i}function Zb(i,s,o){var c=s.pendingProps,m=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Ft.current&2)!==0),b&&(m=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(st){if(m?As(s):Cs(),(i=St)?(i=oE(i,pi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:vs!==null?{id:hr,overflow:fr}:null,retryLane:536870912,hydrationErrors:null},o=M_(i),o.return=s,s.child=o,gn=s,St=null)):i=null,i===null)throw bs(s);return yg(i)?s.lanes=32:s.lanes=536870912,null}var R=c.children;return c=c.fallback,m?(Cs(),m=s.mode,R=ef({mode:"hidden",children:R},m),c=ka(c,m,o,null),R.return=s,c.return=s,R.sibling=c,s.child=R,c=s.child,c.memoizedState=Op(o),c.childLanes=Pp(i,b,o),s.memoizedState=Np,Ru(null,c)):(As(s),Vp(s,R))}var j=i.memoizedState;if(j!==null&&(R=j.dehydrated,R!==null)){if(g)s.flags&256?(As(s),s.flags&=-257,s=Lp(i,s,o)):s.memoizedState!==null?(Cs(),s.child=i.child,s.flags|=128,s=null):(Cs(),R=c.fallback,m=s.mode,c=ef({mode:"visible",children:c.children},m),R=ka(R,m,o,null),R.flags|=2,c.return=s,R.return=s,c.sibling=R,s.child=c,Ua(s,i.child,null,o),c=s.child,c.memoizedState=Op(o),c.childLanes=Pp(i,b,o),s.memoizedState=Np,s=Ru(null,c));else if(As(s),yg(R)){if(b=R.nextSibling&&R.nextSibling.dataset,b)var ee=b.dgst;b=ee,c=Error(r(419)),c.stack="",c.digest=b,pu({value:c,source:null,stack:null}),s=Lp(i,s,o)}else if(Jt||Vo(i,s,o,!1),b=(o&i.childLanes)!==0,Jt||b){if(b=Tt,b!==null&&(c=Kl(b,o),c!==0&&c!==j.retryLane))throw j.retryLane=c,Da(i,c),Fn(b,i,c),kp;gg(R)||cf(),s=Lp(i,s,o)}else gg(R)?(s.flags|=192,s.child=i.child,s=null):(i=j.treeContext,St=yi(R.nextSibling),gn=s,st=!0,_s=null,pi=!1,i!==null&&P_(s,i),s=Vp(s,c.children),s.flags|=4096);return s}return m?(Cs(),R=c.fallback,m=s.mode,j=i.child,ee=j.sibling,c=Dr(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&65011712,ee!==null?R=Dr(ee,R):(R=ka(R,m,o,null),R.flags|=2),R.return=s,c.return=s,c.sibling=R,s.child=c,Ru(null,c),c=s.child,R=i.child.memoizedState,R===null?R=Op(o):(m=R.cachePool,m!==null?(j=Qt._currentValue,m=m.parent!==j?{parent:j,pool:j}:m):m=B_(),R={baseLanes:R.baseLanes|o,cachePool:m}),c.memoizedState=R,c.childLanes=Pp(i,b,o),s.memoizedState=Np,Ru(i.child,c)):(As(s),o=i.child,i=o.sibling,o=Dr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=o,s.memoizedState=null,o)}function Vp(i,s){return s=ef({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ef(i,s){return i=Xn(22,i,null,s),i.lanes=0,i}function Lp(i,s,o){return Ua(s,i.child,null,o),i=Vp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function eT(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Jm(i.return,s,o)}function Up(i,s,o,c,m,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=m,b.treeForkCount=g)}function tT(i,s,o){var c=s.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var b=Ft.current,R=(b&2)!==0;if(R?(b=b&1|2,s.flags|=128):b&=1,pe(Ft,b),vn(i,s,c,o),c=st?mu:0,!R&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&eT(i,o,s);else if(i.tag===19)eT(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&Fh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Up(s,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Fh(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Up(s,!0,o,null,g,c);break;case"together":Up(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Vr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Is|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Vo(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Dr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Dr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function jp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Oh(i)))}function KD(i,s,o){switch(s.tag){case 3:Ee(s,s.stateNode.containerInfo),Ts(s,Qt,i.memoizedState.cache),Ma();break;case 27:case 5:Ue(s);break;case 4:Ee(s,s.stateNode.containerInfo);break;case 10:Ts(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,cp(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(As(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Zb(i,s,o):(As(s),i=Vr(i,s,o),i!==null?i.sibling:null);As(s);break;case 19:var m=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Vo(i,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return tT(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),pe(Ft,Ft.current),c)break;return null;case 22:return s.lanes=0,Yb(i,s,o,s.pendingProps);case 24:Ts(s,Qt,i.memoizedState.cache)}return Vr(i,s,o)}function nT(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Jt=!0;else{if(!jp(i,o)&&(s.flags&128)===0)return Jt=!1,KD(i,s,o);Jt=(i.flags&131072)!==0}else Jt=!1,st&&(s.flags&1048576)!==0&&O_(s,mu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=Va(s.elementType),s.type=i,typeof i=="function")Hm(i)?(c=za(i,c),s.tag=1,s=Xb(null,s,i,c,o)):(s.tag=0,s=Mp(null,s,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===ue){s.tag=11,s=Hb(null,s,i,c,o);break e}else if(m===A){s.tag=14,s=Gb(null,s,i,c,o);break e}}throw s=Y(i)||i,Error(r(306,s,""))}}return s;case 0:return Mp(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=za(c,s.pendingProps),Xb(i,s,c,m,o);case 3:e:{if(Ee(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;m=g.element,sp(i,s),Eu(s,c,null,o);var b=s.memoizedState;if(c=b.cache,Ts(s,Qt,c),c!==g.cache&&Zm(s,[Qt],o,!0),Tu(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Jb(i,s,c,o);break e}else if(c!==m){m=fi(Error(r(424)),s),pu(m),s=Jb(i,s,c,o);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,St=yi(i.firstChild),gn=s,st=!0,_s=null,pi=!0,o=Y_(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ma(),c===m){s=Vr(i,s,o);break e}vn(i,s,c,o)}s=s.child}return s;case 26:return Zh(i,s),i===null?(o=dE(s.type,null,s.pendingProps,null))?s.memoizedState=o:st||(o=s.type,i=s.pendingProps,c=yf(J.current).createElement(o),c[Yt]=s,c[un]=i,_n(c,o,i),Kt(c),s.stateNode=c):s.memoizedState=dE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ue(s),i===null&&st&&(c=s.stateNode=cE(s.type,s.pendingProps,J.current),gn=s,pi=!0,m=St,Os(s.type)?(vg=m,St=yi(c.firstChild)):St=m),vn(i,s,s.pendingProps.children,o),Zh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&st&&((m=c=St)&&(c=S2(c,s.type,s.pendingProps,pi),c!==null?(s.stateNode=c,gn=s,St=yi(c.firstChild),pi=!1,m=!0):m=!1),m||bs(s)),Ue(s),m=s.type,g=s.pendingProps,b=i!==null?i.memoizedProps:null,c=g.children,dg(m,g)?c=null:b!==null&&dg(m,b)&&(s.flags|=32),s.memoizedState!==null&&(m=fp(i,s,jD,null,null,o),Fu._currentValue=m),Zh(i,s),vn(i,s,c,o),s.child;case 6:return i===null&&st&&((i=o=St)&&(o=A2(o,s.pendingProps,pi),o!==null?(s.stateNode=o,gn=s,St=null,i=!0):i=!1),i||bs(s)),null;case 13:return Zb(i,s,o);case 4:return Ee(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Ua(s,null,c,o):vn(i,s,c,o),s.child;case 11:return Hb(i,s,s.type,s.pendingProps,o);case 7:return vn(i,s,s.pendingProps,o),s.child;case 8:return vn(i,s,s.pendingProps.children,o),s.child;case 12:return vn(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Ts(s,s.type,c.value),vn(i,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Oa(s),m=yn(m),c=c(m),s.flags|=1,vn(i,s,c,o),s.child;case 14:return Gb(i,s,s.type,s.pendingProps,o);case 15:return $b(i,s,s.type,s.pendingProps,o);case 19:return tT(i,s,o);case 31:return YD(i,s,o);case 22:return Yb(i,s,o,s.pendingProps);case 24:return Oa(s),c=yn(Qt),i===null?(m=np(),m===null&&(m=Tt,g=ep(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:c,cache:m},rp(s),Ts(s,Qt,m)):((i.lanes&o)!==0&&(sp(i,s),Eu(s,null,null,o),Tu()),m=i.memoizedState,g=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Ts(s,Qt,c)):(c=g.cache,Ts(s,Qt,c),c!==m.cache&&Zm(s,[Qt],o,!0))),vn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Lr(i){i.flags|=4}function zp(i,s,o,c,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(IT())i.flags|=8192;else throw La=Uh,ip}else i.flags&=-16777217}function iT(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!vE(s))if(IT())i.flags|=8192;else throw La=Uh,ip}function tf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?oh():536870912,i.lanes|=s,Ko|=s)}function xu(i,s){if(!st)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function At(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function WD(i,s,o){var c=s.pendingProps;switch(Km(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(s),null;case 1:return At(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Nr(Qt),de(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Po(s)?Lr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qm())),At(s),null;case 26:var m=s.type,g=s.memoizedState;return i===null?(Lr(s),g!==null?(At(s),iT(s,g)):(At(s),zp(s,m,null,c,o))):g?g!==i.memoizedState?(Lr(s),At(s),iT(s,g)):(At(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&Lr(s),At(s),zp(s,m,i,c,o)),null;case 27:if(We(s),o=J.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Lr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return At(s),null}i=ne.current,Po(s)?V_(s):(i=cE(m,c,o),s.stateNode=i,Lr(s))}return At(s),null;case 5:if(We(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Lr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return At(s),null}if(g=ne.current,Po(s))V_(s);else{var b=yf(J.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?b.createElement(m,{is:c.is}):b.createElement(m)}}g[Yt]=s,g[un]=c;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=g;e:switch(_n(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Lr(s)}}return At(s),zp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Lr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=J.current,Po(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,m=gn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Yt]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||ZT(i.nodeValue,o)),i||bs(s,!0)}else i=yf(i).createTextNode(c),i[Yt]=s,s.stateNode=i}return At(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(c=Po(s),o!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Yt]=s}else Ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),i=!1}else o=Qm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Zn(s),s):(Zn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return At(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Po(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Yt]=s}else Ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),m=!1}else m=Qm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Zn(s),s):(Zn(s),null)}return Zn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),tf(s,s.updateQueue),At(s),null);case 4:return de(),i===null&&lg(s.stateNode.containerInfo),At(s),null;case 10:return Nr(s.type),At(s),null;case 19:if(ae(Ft),c=s.memoizedState,c===null)return At(s),null;if(m=(s.flags&128)!==0,g=c.rendering,g===null)if(m)xu(c,!1);else{if(Vt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Fh(i),g!==null){for(s.flags|=128,xu(c,!1),i=g.updateQueue,s.updateQueue=i,tf(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)k_(o,i),o=o.sibling;return pe(Ft,Ft.current&1|2),st&&kr(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&kn()>of&&(s.flags|=128,m=!0,xu(c,!1),s.lanes=4194304)}else{if(!m)if(i=Fh(g),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,tf(s,i),xu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!st)return At(s),null}else 2*kn()-c.renderingStartTime>of&&o!==536870912&&(s.flags|=128,m=!0,xu(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(i=c.last,i!==null?i.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=kn(),i.sibling=null,o=Ft.current,pe(Ft,m?o&1|2:o&1),st&&kr(s,c.treeForkCount),i):(At(s),null);case 22:case 23:return Zn(s),up(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(At(s),s.subtreeFlags&6&&(s.flags|=8192)):At(s),o=s.updateQueue,o!==null&&tf(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&ae(Pa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Nr(Qt),At(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function QD(i,s){switch(Km(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Nr(Qt),de(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return We(s),null;case 31:if(s.memoizedState!==null){if(Zn(s),s.alternate===null)throw Error(r(340));Ma()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Zn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ma()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ae(Ft),null;case 4:return de(),null;case 10:return Nr(s.type),null;case 22:case 23:return Zn(s),up(),i!==null&&ae(Pa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Nr(Qt),null;case 25:return null;default:return null}}function rT(i,s){switch(Km(s),s.tag){case 3:Nr(Qt),de();break;case 26:case 27:case 5:We(s);break;case 4:de();break;case 31:s.memoizedState!==null&&Zn(s);break;case 13:Zn(s);break;case 19:ae(Ft);break;case 10:Nr(s.type);break;case 22:case 23:Zn(s),up(),i!==null&&ae(Pa);break;case 24:Nr(Qt)}}function Iu(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==m)}}catch(R){mt(s,s.return,R)}}function Rs(i,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var b=c.inst,R=b.destroy;if(R!==void 0){b.destroy=void 0,m=s;var j=o,ee=R;try{ee()}catch(le){mt(m,j,le)}}}c=c.next}while(c!==g)}}catch(le){mt(s,s.return,le)}}function sT(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{W_(s,o)}catch(c){mt(i,i.return,c)}}}function aT(i,s,o){o.props=za(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){mt(i,s,c)}}function Du(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){mt(i,s,m)}}function dr(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){mt(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){mt(i,s,m)}else o.current=null}function oT(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){mt(i,i.return,m)}}function Bp(i,s,o){try{var c=i.stateNode;v2(c,i.type,o,s),c[un]=s}catch(m){mt(i,i.return,m)}}function lT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Os(i.type)||i.tag===4}function Fp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||lT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Os(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function qp(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ki));else if(c!==4&&(c===27&&Os(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(qp(i,s,o),i=i.sibling;i!==null;)qp(i,s,o),i=i.sibling}function nf(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&Os(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(nf(i,s,o),i=i.sibling;i!==null;)nf(i,s,o),i=i.sibling}function uT(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);_n(s,c,o),s[Yt]=i,s[un]=o}catch(g){mt(i,i.return,g)}}var Ur=!1,Zt=!1,Hp=!1,cT=typeof WeakSet=="function"?WeakSet:Set,hn=null;function XD(i,s){if(i=i.containerInfo,hg=Sf,i=E_(i),Lm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,R=-1,j=-1,ee=0,le=0,fe=i,re=null;t:for(;;){for(var oe;fe!==o||m!==0&&fe.nodeType!==3||(R=b+m),fe!==g||c!==0&&fe.nodeType!==3||(j=b+c),fe.nodeType===3&&(b+=fe.nodeValue.length),(oe=fe.firstChild)!==null;)re=fe,fe=oe;for(;;){if(fe===i)break t;if(re===o&&++ee===m&&(R=b),re===g&&++le===c&&(j=b),(oe=fe.nextSibling)!==null)break;fe=re,re=fe.parentNode}fe=oe}o=R===-1||j===-1?null:{start:R,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(fg={focusedElem:i,selectionRange:o},Sf=!1,hn=s;hn!==null;)if(s=hn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,hn=i;else for(;hn!==null;){switch(s=hn,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var xe=za(o.type,m);i=c.getSnapshotBeforeUpdate(xe,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(je){mt(o,o.return,je)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)pg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":pg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,hn=i;break}hn=s.return}}function hT(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:zr(i,o),c&4&&Iu(5,o);break;case 1:if(zr(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(b){mt(o,o.return,b)}else{var m=za(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){mt(o,o.return,b)}}c&64&&sT(o),c&512&&Du(o,o.return);break;case 3:if(zr(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{W_(i,s)}catch(b){mt(o,o.return,b)}}break;case 27:s===null&&c&4&&uT(o);case 26:case 5:zr(i,o),s===null&&c&4&&oT(o),c&512&&Du(o,o.return);break;case 12:zr(i,o);break;case 31:zr(i,o),c&4&&mT(i,o);break;case 13:zr(i,o),c&4&&pT(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=a2.bind(null,o),C2(i,o))));break;case 22:if(c=o.memoizedState!==null||Ur,!c){s=s!==null&&s.memoizedState!==null||Zt,m=Ur;var g=Zt;Ur=c,(Zt=s)&&!g?Br(i,o,(o.subtreeFlags&8772)!==0):zr(i,o),Ur=m,Zt=g}break;case 30:break;default:zr(i,o)}}function fT(i){var s=i.alternate;s!==null&&(i.alternate=null,fT(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&vo(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var It=null,Un=!1;function jr(i,s,o){for(o=o.child;o!==null;)dT(i,s,o),o=o.sibling}function dT(i,s,o){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Ri,o)}catch{}switch(o.tag){case 26:Zt||dr(o,s),jr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Zt||dr(o,s);var c=It,m=Un;Os(o.type)&&(It=o.stateNode,Un=!1),jr(i,s,o),ju(o.stateNode),It=c,Un=m;break;case 5:Zt||dr(o,s);case 6:if(c=It,m=Un,It=null,jr(i,s,o),It=c,Un=m,It!==null)if(Un)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(o.stateNode)}catch(g){mt(o,s,g)}else try{It.removeChild(o.stateNode)}catch(g){mt(o,s,g)}break;case 18:It!==null&&(Un?(i=It,sE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),nl(i)):sE(It,o.stateNode));break;case 4:c=It,m=Un,It=o.stateNode.containerInfo,Un=!0,jr(i,s,o),It=c,Un=m;break;case 0:case 11:case 14:case 15:Rs(2,o,s),Zt||Rs(4,o,s),jr(i,s,o);break;case 1:Zt||(dr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&aT(o,s,c)),jr(i,s,o);break;case 21:jr(i,s,o);break;case 22:Zt=(c=Zt)||o.memoizedState!==null,jr(i,s,o),Zt=c;break;default:jr(i,s,o)}}function mT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{nl(i)}catch(o){mt(s,s.return,o)}}}function pT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{nl(i)}catch(o){mt(s,s.return,o)}}function JD(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new cT),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new cT),s;default:throw Error(r(435,i.tag))}}function rf(i,s){var o=JD(i);s.forEach(function(c){if(!o.has(c)){o.add(c);var m=o2.bind(null,i,c);c.then(m,m)}})}function jn(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,b=s,R=b;e:for(;R!==null;){switch(R.tag){case 27:if(Os(R.type)){It=R.stateNode,Un=!1;break e}break;case 5:It=R.stateNode,Un=!1;break e;case 3:case 4:It=R.stateNode.containerInfo,Un=!0;break e}R=R.return}if(It===null)throw Error(r(160));dT(g,b,m),It=null,Un=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)gT(s,i),s=s.sibling}var Li=null;function gT(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:jn(s,i),zn(i),c&4&&(Rs(3,i,i.return),Iu(3,i),Rs(5,i,i.return));break;case 1:jn(s,i),zn(i),c&512&&(Zt||o===null||dr(o,o.return)),c&64&&Ur&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Li;if(jn(s,i),zn(i),c&512&&(Zt||o===null||dr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Zi]||g[Yt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),_n(g,c,o),g[Yt]=i,Kt(g),c=g;break e;case"link":var b=gE("link","href",m).get(c+(o.href||""));if(b){for(var R=0;R<b.length;R++)if(g=b[R],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(R,1);break t}}g=m.createElement(c),_n(g,c,o),m.head.appendChild(g);break;case"meta":if(b=gE("meta","content",m).get(c+(o.content||""))){for(R=0;R<b.length;R++)if(g=b[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(R,1);break t}}g=m.createElement(c),_n(g,c,o),m.head.appendChild(g);break;default:throw Error(r(468,c))}g[Yt]=i,Kt(g),c=g}i.stateNode=c}else yE(m,i.type,i.stateNode);else i.stateNode=pE(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?yE(m,i.type,i.stateNode):pE(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Bp(i,i.memoizedProps,o.memoizedProps)}break;case 27:jn(s,i),zn(i),c&512&&(Zt||o===null||dr(o,o.return)),o!==null&&c&4&&Bp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(jn(s,i),zn(i),c&512&&(Zt||o===null||dr(o,o.return)),i.flags&32){m=i.stateNode;try{Ln(m,"")}catch(xe){mt(i,i.return,xe)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Bp(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Hp=!0);break;case 6:if(jn(s,i),zn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(xe){mt(i,i.return,xe)}}break;case 3:if(bf=null,m=Li,Li=vf(s.containerInfo),jn(s,i),Li=m,zn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{nl(s.containerInfo)}catch(xe){mt(i,i.return,xe)}Hp&&(Hp=!1,yT(i));break;case 4:c=Li,Li=vf(i.stateNode.containerInfo),jn(s,i),zn(i),Li=c;break;case 12:jn(s,i),zn(i);break;case 31:jn(s,i),zn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,rf(i,c)));break;case 13:jn(s,i),zn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(af=kn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,rf(i,c)));break;case 22:m=i.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,ee=Ur,le=Zt;if(Ur=ee||m,Zt=le||j,jn(s,i),Zt=le,Ur=ee,zn(i),c&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||j||Ur||Zt||Ba(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){j=o=s;try{if(g=j.stateNode,m)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{R=j.stateNode;var fe=j.memoizedProps.style,re=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;R.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(xe){mt(j,j.return,xe)}}}else if(s.tag===6){if(o===null){j=s;try{j.stateNode.nodeValue=m?"":j.memoizedProps}catch(xe){mt(j,j.return,xe)}}}else if(s.tag===18){if(o===null){j=s;try{var oe=j.stateNode;m?aE(oe,!0):aE(j.stateNode,!1)}catch(xe){mt(j,j.return,xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,rf(i,o))));break;case 19:jn(s,i),zn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,rf(i,c)));break;case 30:break;case 21:break;default:jn(s,i),zn(i)}}function zn(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(lT(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,g=Fp(i);nf(i,g,m);break;case 5:var b=o.stateNode;o.flags&32&&(Ln(b,""),o.flags&=-33);var R=Fp(i);nf(i,R,b);break;case 3:case 4:var j=o.stateNode.containerInfo,ee=Fp(i);qp(i,ee,j);break;default:throw Error(r(161))}}catch(le){mt(i,i.return,le)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function yT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;yT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function zr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)hT(i,s.alternate,s),s=s.sibling}function Ba(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Rs(4,s,s.return),Ba(s);break;case 1:dr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&aT(s,s.return,o),Ba(s);break;case 27:ju(s.stateNode);case 26:case 5:dr(s,s.return),Ba(s);break;case 22:s.memoizedState===null&&Ba(s);break;case 30:Ba(s);break;default:Ba(s)}i=i.sibling}}function Br(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:Br(m,g,o),Iu(4,g);break;case 1:if(Br(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ee){mt(c,c.return,ee)}if(c=g,m=c.updateQueue,m!==null){var R=c.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)K_(j[m],R)}catch(ee){mt(c,c.return,ee)}}o&&b&64&&sT(g),Du(g,g.return);break;case 27:uT(g);case 26:case 5:Br(m,g,o),o&&c===null&&b&4&&oT(g),Du(g,g.return);break;case 12:Br(m,g,o);break;case 31:Br(m,g,o),o&&b&4&&mT(m,g);break;case 13:Br(m,g,o),o&&b&4&&pT(m,g);break;case 22:g.memoizedState===null&&Br(m,g,o),Du(g,g.return);break;case 30:break;default:Br(m,g,o)}s=s.sibling}}function Gp(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&gu(o))}function $p(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&gu(i))}function Ui(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)vT(i,s,o,c),s=s.sibling}function vT(i,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Ui(i,s,o,c),m&2048&&Iu(9,s);break;case 1:Ui(i,s,o,c);break;case 3:Ui(i,s,o,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&gu(i)));break;case 12:if(m&2048){Ui(i,s,o,c),i=s.stateNode;try{var g=s.memoizedProps,b=g.id,R=g.onPostCommit;typeof R=="function"&&R(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){mt(s,s.return,j)}}else Ui(i,s,o,c);break;case 31:Ui(i,s,o,c);break;case 13:Ui(i,s,o,c);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?Ui(i,s,o,c):ku(i,s):g._visibility&2?Ui(i,s,o,c):(g._visibility|=2,Go(i,s,o,c,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Gp(b,s);break;case 24:Ui(i,s,o,c),m&2048&&$p(s.alternate,s);break;default:Ui(i,s,o,c)}}function Go(i,s,o,c,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,b=s,R=o,j=c,ee=b.flags;switch(b.tag){case 0:case 11:case 15:Go(g,b,R,j,m),Iu(8,b);break;case 23:break;case 22:var le=b.stateNode;b.memoizedState!==null?le._visibility&2?Go(g,b,R,j,m):ku(g,b):(le._visibility|=2,Go(g,b,R,j,m)),m&&ee&2048&&Gp(b.alternate,b);break;case 24:Go(g,b,R,j,m),m&&ee&2048&&$p(b.alternate,b);break;default:Go(g,b,R,j,m)}s=s.sibling}}function ku(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,m=c.flags;switch(c.tag){case 22:ku(o,c),m&2048&&Gp(c.alternate,c);break;case 24:ku(o,c),m&2048&&$p(c.alternate,c);break;default:ku(o,c)}s=s.sibling}}var Mu=8192;function $o(i,s,o){if(i.subtreeFlags&Mu)for(i=i.child;i!==null;)_T(i,s,o),i=i.sibling}function _T(i,s,o){switch(i.tag){case 26:$o(i,s,o),i.flags&Mu&&i.memoizedState!==null&&U2(o,Li,i.memoizedState,i.memoizedProps);break;case 5:$o(i,s,o);break;case 3:case 4:var c=Li;Li=vf(i.stateNode.containerInfo),$o(i,s,o),Li=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Mu,Mu=16777216,$o(i,s,o),Mu=c):$o(i,s,o));break;default:$o(i,s,o)}}function bT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Nu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];hn=c,ET(c,i)}bT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)TT(i),i=i.sibling}function TT(i){switch(i.tag){case 0:case 11:case 15:Nu(i),i.flags&2048&&Rs(9,i,i.return);break;case 3:Nu(i);break;case 12:Nu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,sf(i)):Nu(i);break;default:Nu(i)}}function sf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];hn=c,ET(c,i)}bT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Rs(8,s,s.return),sf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,sf(s));break;default:sf(s)}i=i.sibling}}function ET(i,s){for(;hn!==null;){var o=hn;switch(o.tag){case 0:case 11:case 15:Rs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:gu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,hn=c;else e:for(o=i;hn!==null;){c=hn;var m=c.sibling,g=c.return;if(fT(c),c===o){hn=null;break e}if(m!==null){m.return=g,hn=m;break e}hn=g}}}var ZD={getCacheForType:function(i){var s=yn(Qt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return yn(Qt).controller.signal}},e2=typeof WeakMap=="function"?WeakMap:Map,ct=0,Tt=null,Je=null,et=0,dt=0,ei=null,xs=!1,Yo=!1,Yp=!1,Fr=0,Vt=0,Is=0,Fa=0,Kp=0,ti=0,Ko=0,Ou=null,Bn=null,Wp=!1,af=0,wT=0,of=1/0,lf=null,Ds=null,sn=0,ks=null,Wo=null,qr=0,Qp=0,Xp=null,ST=null,Pu=0,Jp=null;function ni(){return(ct&2)!==0&&et!==0?et&-et:H.T!==null?rg():lh()}function AT(){if(ti===0)if((et&536870912)===0||st){var i=pa;pa<<=1,(pa&3932160)===0&&(pa=262144),ti=i}else ti=536870912;return i=Jn.current,i!==null&&(i.flags|=32),ti}function Fn(i,s,o){(i===Tt&&(dt===2||dt===9)||i.cancelPendingCommit!==null)&&(Qo(i,0),Ms(i,et,ti,!1)),ga(i,o),((ct&2)===0||i!==Tt)&&(i===Tt&&((ct&2)===0&&(Fa|=o),Vt===4&&Ms(i,et,ti,!1)),mr(i))}function CT(i,s,o){if((ct&6)!==0)throw Error(r(327));var c=!o&&(s&127)===0&&(s&i.expiredLanes)===0||xi(i,s),m=c?i2(i,s):eg(i,s,!0),g=c;do{if(m===0){Yo&&!c&&Ms(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!t2(o)){m=eg(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var R=i;m=Ou;var j=R.current.memoizedState.isDehydrated;if(j&&(Qo(R,b).flags|=256),b=eg(R,b,!1),b!==2){if(Yp&&!j){R.errorRecoveryDisabledLanes|=g,Fa|=g,m=4;break e}g=Bn,Bn=m,g!==null&&(Bn===null?Bn=g:Bn.push.apply(Bn,g))}m=b}if(g=!1,m!==2)continue}}if(m===1){Qo(i,0),Ms(i,s,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ms(c,s,ti,!xs);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=af+300-kn(),10<m)){if(Ms(c,s,ti,!xs),Qi(c,0,!0)!==0)break e;qr=s,c.timeoutHandle=iE(RT.bind(null,c,o,Bn,lf,Wp,s,ti,Fa,Ko,xs,g,"Throttled",-0,0),m);break e}RT(c,o,Bn,lf,Wp,s,ti,Fa,Ko,xs,g,null,-0,0)}}break}while(!0);mr(i)}function RT(i,s,o,c,m,g,b,R,j,ee,le,fe,re,oe){if(i.timeoutHandle=-1,fe=s.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ki},_T(s,g,fe);var xe=(g&62914560)===g?af-kn():(g&4194048)===g?wT-kn():0;if(xe=j2(fe,xe),xe!==null){qr=g,i.cancelPendingCommit=xe(PT.bind(null,i,s,g,o,c,m,b,R,j,le,fe,null,re,oe)),Ms(i,g,b,!ee);return}}PT(i,s,g,o,c,m,b,R,j)}function t2(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Qn(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ms(i,s,o,c){s&=~Kp,s&=~Fa,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var g=31-zt(m),b=1<<g;c[g]=-1,m&=~b}o!==0&&ya(i,o,s)}function uf(){return(ct&6)===0?(Vu(0),!1):!0}function Zp(){if(Je!==null){if(dt===0)var i=Je.return;else i=Je,Mr=Na=null,pp(i),zo=null,vu=0,i=Je;for(;i!==null;)rT(i.alternate,i),i=i.return;Je=null}}function Qo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,T2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),qr=0,Zp(),Tt=i,Je=o=Dr(i.current,null),et=s,dt=0,ei=null,xs=!1,Yo=xi(i,s),Yp=!1,Ko=ti=Kp=Fa=Is=Vt=0,Bn=Ou=null,Wp=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-zt(c),g=1<<m;s|=i[m],c&=~g}return Fr=s,Ih(),o}function xT(i,s){Ye=null,H.H=Cu,s===jo||s===Lh?(s=H_(),dt=3):s===ip?(s=H_(),dt=4):dt=s===kp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ei=s,Je===null&&(Vt=1,Xh(i,fi(s,i.current)))}function IT(){var i=Jn.current;return i===null?!0:(et&4194048)===et?gi===null:(et&62914560)===et||(et&536870912)!==0?i===gi:!1}function DT(){var i=H.H;return H.H=Cu,i===null?Cu:i}function kT(){var i=H.A;return H.A=ZD,i}function cf(){Vt=4,xs||(et&4194048)!==et&&Jn.current!==null||(Yo=!0),(Is&134217727)===0&&(Fa&134217727)===0||Tt===null||Ms(Tt,et,ti,!1)}function eg(i,s,o){var c=ct;ct|=2;var m=DT(),g=kT();(Tt!==i||et!==s)&&(lf=null,Qo(i,s)),s=!1;var b=Vt;e:do try{if(dt!==0&&Je!==null){var R=Je,j=ei;switch(dt){case 8:Zp(),b=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(s=!0);var ee=dt;if(dt=0,ei=null,Xo(i,R,j,ee),o&&Yo){b=0;break e}break;default:ee=dt,dt=0,ei=null,Xo(i,R,j,ee)}}n2(),b=Vt;break}catch(le){xT(i,le)}while(!0);return s&&i.shellSuspendCounter++,Mr=Na=null,ct=c,H.H=m,H.A=g,Je===null&&(Tt=null,et=0,Ih()),b}function n2(){for(;Je!==null;)MT(Je)}function i2(i,s){var o=ct;ct|=2;var c=DT(),m=kT();Tt!==i||et!==s?(lf=null,of=kn()+500,Qo(i,s)):Yo=xi(i,s);e:do try{if(dt!==0&&Je!==null){s=Je;var g=ei;t:switch(dt){case 1:dt=0,ei=null,Xo(i,s,g,1);break;case 2:case 9:if(F_(g)){dt=0,ei=null,NT(s);break}s=function(){dt!==2&&dt!==9||Tt!==i||(dt=7),mr(i)},g.then(s,s);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:F_(g)?(dt=0,ei=null,NT(s)):(dt=0,ei=null,Xo(i,s,g,7));break;case 5:var b=null;switch(Je.tag){case 26:b=Je.memoizedState;case 5:case 27:var R=Je;if(b?vE(b):R.stateNode.complete){dt=0,ei=null;var j=R.sibling;if(j!==null)Je=j;else{var ee=R.return;ee!==null?(Je=ee,hf(ee)):Je=null}break t}}dt=0,ei=null,Xo(i,s,g,5);break;case 6:dt=0,ei=null,Xo(i,s,g,6);break;case 8:Zp(),Vt=6;break e;default:throw Error(r(462))}}r2();break}catch(le){xT(i,le)}while(!0);return Mr=Na=null,H.H=c,H.A=m,ct=o,Je!==null?0:(Tt=null,et=0,Ih(),Vt)}function r2(){for(;Je!==null&&!Hl();)MT(Je)}function MT(i){var s=nT(i.alternate,i,Fr);i.memoizedProps=i.pendingProps,s===null?hf(i):Je=s}function NT(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=Qb(o,s,s.pendingProps,s.type,void 0,et);break;case 11:s=Qb(o,s,s.pendingProps,s.type.render,s.ref,et);break;case 5:pp(s);default:rT(o,s),s=Je=k_(s,Fr),s=nT(o,s,Fr)}i.memoizedProps=i.pendingProps,s===null?hf(i):Je=s}function Xo(i,s,o,c){Mr=Na=null,pp(s),zo=null,vu=0;var m=s.return;try{if($D(i,m,s,o,et)){Vt=1,Xh(i,fi(o,i.current)),Je=null;return}}catch(g){if(m!==null)throw Je=m,g;Vt=1,Xh(i,fi(o,i.current)),Je=null;return}s.flags&32768?(st||c===1?i=!0:Yo||(et&536870912)!==0?i=!1:(xs=i=!0,(c===2||c===9||c===3||c===6)&&(c=Jn.current,c!==null&&c.tag===13&&(c.flags|=16384))),OT(s,i)):hf(s)}function hf(i){var s=i;do{if((s.flags&32768)!==0){OT(s,xs);return}i=s.return;var o=WD(s.alternate,s,Fr);if(o!==null){Je=o;return}if(s=s.sibling,s!==null){Je=s;return}Je=s=i}while(s!==null);Vt===0&&(Vt=5)}function OT(i,s){do{var o=QD(i.alternate,i);if(o!==null){o.flags&=32767,Je=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Je=i;return}Je=i=o}while(i!==null);Vt=6,Je=null}function PT(i,s,o,c,m,g,b,R,j){i.cancelPendingCommit=null;do ff();while(sn!==0);if((ct&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Fm,Nm(i,o,g,b,R,j),i===Tt&&(Je=Tt=null,et=0),Wo=s,ks=i,qr=o,Qp=g,Xp=m,ST=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,l2(ls,function(){return zT(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,m=te.p,te.p=2,b=ct,ct|=4;try{XD(i,s,o)}finally{ct=b,te.p=m,H.T=c}}sn=1,VT(),LT(),UT()}}function VT(){if(sn===1){sn=0;var i=ks,s=Wo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var c=te.p;te.p=2;var m=ct;ct|=4;try{gT(s,i);var g=fg,b=E_(i.containerInfo),R=g.focusedElem,j=g.selectionRange;if(b!==R&&R&&R.ownerDocument&&T_(R.ownerDocument.documentElement,R)){if(j!==null&&Lm(R)){var ee=j.start,le=j.end;if(le===void 0&&(le=ee),"selectionStart"in R)R.selectionStart=ee,R.selectionEnd=Math.min(le,R.value.length);else{var fe=R.ownerDocument||document,re=fe&&fe.defaultView||window;if(re.getSelection){var oe=re.getSelection(),xe=R.textContent.length,je=Math.min(j.start,xe),_t=j.end===void 0?je:Math.min(j.end,xe);!oe.extend&&je>_t&&(b=_t,_t=je,je=b);var K=b_(R,je),G=b_(R,_t);if(K&&G&&(oe.rangeCount!==1||oe.anchorNode!==K.node||oe.anchorOffset!==K.offset||oe.focusNode!==G.node||oe.focusOffset!==G.offset)){var Z=fe.createRange();Z.setStart(K.node,K.offset),oe.removeAllRanges(),je>_t?(oe.addRange(Z),oe.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),oe.addRange(Z))}}}}for(fe=[],oe=R;oe=oe.parentNode;)oe.nodeType===1&&fe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<fe.length;R++){var ce=fe[R];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Sf=!!hg,fg=hg=null}finally{ct=m,te.p=c,H.T=o}}i.current=s,sn=2}}function LT(){if(sn===2){sn=0;var i=ks,s=Wo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var c=te.p;te.p=2;var m=ct;ct|=4;try{hT(i,s.alternate,s)}finally{ct=m,te.p=c,H.T=o}}sn=3}}function UT(){if(sn===4||sn===3){sn=0,th();var i=ks,s=Wo,o=qr,c=ST;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?sn=5:(sn=0,Wo=ks=null,jT(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Ds=null),Cr(o),s=s.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Ri,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=H.T,m=te.p,te.p=2,H.T=null;try{for(var g=i.onRecoverableError,b=0;b<c.length;b++){var R=c[b];g(R.value,{componentStack:R.stack})}}finally{H.T=s,te.p=m}}(qr&3)!==0&&ff(),mr(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===Jp?Pu++:(Pu=0,Jp=i):Pu=0,Vu(0)}}function jT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,gu(s)))}function ff(){return VT(),LT(),UT(),zT()}function zT(){if(sn!==5)return!1;var i=ks,s=Qp;Qp=0;var o=Cr(qr),c=H.T,m=te.p;try{te.p=32>o?32:o,H.T=null,o=Xp,Xp=null;var g=ks,b=qr;if(sn=0,Wo=ks=null,qr=0,(ct&6)!==0)throw Error(r(331));var R=ct;if(ct|=4,TT(g.current),vT(g,g.current,b,o),ct=R,Vu(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Ri,g)}catch{}return!0}finally{te.p=m,H.T=c,jT(i,s)}}function BT(i,s,o){s=fi(o,s),s=Dp(i.stateNode,s,2),i=Ss(i,s,2),i!==null&&(ga(i,2),mr(i))}function mt(i,s,o){if(i.tag===3)BT(i,i,o);else for(;s!==null;){if(s.tag===3){BT(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ds===null||!Ds.has(c))){i=fi(o,i),o=Fb(2),c=Ss(s,o,2),c!==null&&(qb(o,c,s,i),ga(c,2),mr(c));break}}s=s.return}}function tg(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new e2;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(Yp=!0,m.add(o),i=s2.bind(null,i,s,o),s.then(i,i))}function s2(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Tt===i&&(et&o)===o&&(Vt===4||Vt===3&&(et&62914560)===et&&300>kn()-af?(ct&2)===0&&Qo(i,0):Kp|=o,Ko===et&&(Ko=0)),mr(i)}function FT(i,s){s===0&&(s=oh()),i=Da(i,s),i!==null&&(ga(i,s),mr(i))}function a2(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),FT(i,o)}function o2(i,s){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),FT(i,o)}function l2(i,s){return Me(i,s)}var df=null,Jo=null,ng=!1,mf=!1,ig=!1,Ns=0;function mr(i){i!==Jo&&i.next===null&&(Jo===null?df=Jo=i:Jo=Jo.next=i),mf=!0,ng||(ng=!0,c2())}function Vu(i,s){if(!ig&&mf){ig=!0;do for(var o=!1,c=df;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var b=c.suspendedLanes,R=c.pingedLanes;g=(1<<31-zt(42|i)+1)-1,g&=m&~(b&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,$T(c,g))}else g=et,g=Qi(c,c===Tt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||xi(c,g)||(o=!0,$T(c,g));c=c.next}while(o);ig=!1}}function u2(){qT()}function qT(){mf=ng=!1;var i=0;Ns!==0&&b2()&&(i=Ns);for(var s=kn(),o=null,c=df;c!==null;){var m=c.next,g=HT(c,s);g===0?(c.next=null,o===null?df=m:o.next=m,m===null&&(Jo=o)):(o=c,(i!==0||(g&3)!==0)&&(mf=!0)),c=m}sn!==0&&sn!==5||Vu(i),Ns!==0&&(Ns=0)}function HT(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-zt(g),R=1<<b,j=m[b];j===-1?((R&o)===0||(R&c)!==0)&&(m[b]=Mm(R,s)):j<=s&&(i.expiredLanes|=R),g&=~R}if(s=Tt,o=et,o=Qi(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(dt===2||dt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Xe(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||xi(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&Xe(c),Cr(o)){case 2:case 8:o=$l;break;case 32:o=ls;break;case 268435456:o=nh;break;default:o=ls}return c=GT.bind(null,i),o=Me(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&Xe(c),i.callbackPriority=2,i.callbackNode=null,2}function GT(i,s){if(sn!==0&&sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(ff()&&i.callbackNode!==o)return null;var c=et;return c=Qi(i,i===Tt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(CT(i,c,s),HT(i,kn()),i.callbackNode!=null&&i.callbackNode===o?GT.bind(null,i):null)}function $T(i,s){if(ff())return null;CT(i,s,!0)}function c2(){E2(function(){(ct&6)!==0?Me(Gl,u2):qT()})}function rg(){if(Ns===0){var i=Lo;i===0&&(i=Ki,Ki<<=1,(Ki&261888)===0&&(Ki=256)),Ns=i}return Ns}function YT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Eo(""+i)}function KT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function h2(i,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var g=YT((m[un]||null).action),b=c.submitter;b&&(s=(s=b[un]||null)?YT(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var R=new or("action","action",null,c,m);i.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ns!==0){var j=b?KT(m,b):new FormData(m);Sp(o,{pending:!0,data:j,method:m.method,action:g},null,j)}}else typeof g=="function"&&(R.preventDefault(),j=b?KT(m,b):new FormData(m),Sp(o,{pending:!0,data:j,method:m.method,action:g},g,j))},currentTarget:m}]})}}for(var sg=0;sg<Bm.length;sg++){var ag=Bm[sg],f2=ag.toLowerCase(),d2=ag[0].toUpperCase()+ag.slice(1);Vi(f2,"on"+d2)}Vi(A_,"onAnimationEnd"),Vi(C_,"onAnimationIteration"),Vi(R_,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(ID,"onTransitionRun"),Vi(DD,"onTransitionStart"),Vi(kD,"onTransitionCancel"),Vi(x_,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lu));function WT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var b=c.length-1;0<=b;b--){var R=c[b],j=R.instance,ee=R.currentTarget;if(R=R.listener,j!==g&&m.isPropagationStopped())break e;g=R,m.currentTarget=ee;try{g(m)}catch(le){xh(le)}m.currentTarget=null,g=j}else for(b=0;b<c.length;b++){if(R=c[b],j=R.instance,ee=R.currentTarget,R=R.listener,j!==g&&m.isPropagationStopped())break e;g=R,m.currentTarget=ee;try{g(m)}catch(le){xh(le)}m.currentTarget=null,g=j}}}}function Ze(i,s){var o=s[yo];o===void 0&&(o=s[yo]=new Set);var c=i+"__bubble";o.has(c)||(QT(s,i,2,!1),o.add(c))}function og(i,s,o){var c=0;s&&(c|=4),QT(o,i,c,s)}var pf="_reactListening"+Math.random().toString(36).slice(2);function lg(i){if(!i[pf]){i[pf]=!0,Wl.forEach(function(o){o!=="selectionchange"&&(m2.has(o)||og(o,!1,i),og(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[pf]||(s[pf]=!0,og("selectionchange",!1,s))}}function QT(i,s,o,c){switch(AE(s)){case 2:var m=F2;break;case 8:m=q2;break;default:m=wg}o=m.bind(null,s,o,i),m=void 0,!Ea||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function ug(i,s,o,c,m){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var R=c.stateNode.containerInfo;if(R===m)break;if(b===4)for(b=c.return;b!==null;){var j=b.tag;if((j===3||j===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;R!==null;){if(b=er(R),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){c=g=b;continue e}R=R.parentNode}}c=c.return}ms(function(){var ee=g,le=li(o),fe=[];e:{var re=I_.get(i);if(re!==void 0){var oe=or,xe=i;switch(i){case"keypress":if(Sa(o)===0)break e;case"keydown":case"keyup":oe=Ah;break;case"focusin":xe="focus",oe=Ca;break;case"focusout":xe="blur",oe=Ca;break;case"beforeblur":case"afterblur":oe=Ca;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=_;break;case A_:case C_:case R_:oe=vh;break;case x_:oe=I;break;case"scroll":case"scrollend":oe=ou;break;case"wheel":oe=se;break;case"copy":case"cut":case"paste":oe=_h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Ir;break;case"toggle":case"beforetoggle":oe=$e}var je=(s&4)!==0,_t=!je&&(i==="scroll"||i==="scrollend"),K=je?re!==null?re+"Capture":null:re;je=[];for(var G=ee,Z;G!==null;){var ce=G;if(Z=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Z===null||K===null||(ce=Mi(G,K),ce!=null&&je.push(Uu(G,ce,Z))),_t)break;G=G.return}0<je.length&&(re=new oe(re,xe,null,o,le),fe.push({event:re,listeners:je}))}}if((s&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",re&&o!==ru&&(xe=o.relatedTarget||o.fromElement)&&(er(xe)||xe[Ji]))break e;if((oe||re)&&(re=le.window===le?le:(re=le.ownerDocument)?re.defaultView||re.parentWindow:window,oe?(xe=o.relatedTarget||o.toElement,oe=ee,xe=xe?er(xe):null,xe!==null&&(_t=l(xe),je=xe.tag,xe!==_t||je!==5&&je!==27&&je!==6)&&(xe=null)):(oe=null,xe=ee),oe!==xe)){if(je=lu,ce="onMouseLeave",K="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(je=Ir,ce="onPointerLeave",K="onPointerEnter",G="pointer"),_t=oe==null?re:Kn(oe),Z=xe==null?re:Kn(xe),re=new je(ce,G+"leave",oe,o,le),re.target=_t,re.relatedTarget=Z,ce=null,er(le)===ee&&(je=new je(K,G+"enter",xe,o,le),je.target=Z,je.relatedTarget=_t,ce=je),_t=ce,oe&&xe)t:{for(je=p2,K=oe,G=xe,Z=0,ce=K;ce;ce=je(ce))Z++;ce=0;for(var Ve=G;Ve;Ve=je(Ve))ce++;for(;0<Z-ce;)K=je(K),Z--;for(;0<ce-Z;)G=je(G),ce--;for(;Z--;){if(K===G||G!==null&&K===G.alternate){je=K;break t}K=je(K),G=je(G)}je=null}else je=null;oe!==null&&XT(fe,re,oe,je,!1),xe!==null&&_t!==null&&XT(fe,_t,xe,je,!0)}}e:{if(re=ee?Kn(ee):window,oe=re.nodeName&&re.nodeName.toLowerCase(),oe==="select"||oe==="input"&&re.type==="file")var ot=m_;else if(f_(re))if(p_)ot=CD;else{ot=SD;var Oe=wD}else oe=re.nodeName,!oe||oe.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ee&&To(ee.elementType)&&(ot=m_):ot=AD;if(ot&&(ot=ot(i,ee))){d_(fe,ot,o,le);break e}Oe&&Oe(i,re,ee),i==="focusout"&&ee&&re.type==="number"&&ee.memoizedProps.value!=null&&tu(re,"number",re.value)}switch(Oe=ee?Kn(ee):window,i){case"focusin":(f_(Oe)||Oe.contentEditable==="true")&&(Io=Oe,Um=ee,du=null);break;case"focusout":du=Um=Io=null;break;case"mousedown":jm=!0;break;case"contextmenu":case"mouseup":case"dragend":jm=!1,w_(fe,o,le);break;case"selectionchange":if(xD)break;case"keydown":case"keyup":w_(fe,o,le)}var Ke;if(ut)e:{switch(i){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else xo?Ra(i,o)&&(tt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(tt="onCompositionStart");tt&&(cr&&o.locale!=="ko"&&(xo||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&xo&&(Ke=au()):(ar=le,su="value"in ar?ar.value:ar.textContent,xo=!0)),Oe=gf(ee,tt),0<Oe.length&&(tt=new ur(tt,i,null,o,le),fe.push({event:tt,listeners:Oe}),Ke?tt.data=Ke:(Ke=Ro(o),Ke!==null&&(tt.data=Ke)))),(Ke=ci?_D(i,o):bD(i,o))&&(tt=gf(ee,"onBeforeInput"),0<tt.length&&(Oe=new ur("onBeforeInput","beforeinput",null,o,le),fe.push({event:Oe,listeners:tt}),Oe.data=Ke)),h2(fe,i,ee,o,le)}WT(fe,s)})}function Uu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function gf(i,s){for(var o=s+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Mi(i,o),m!=null&&c.unshift(Uu(i,m,g)),m=Mi(i,s),m!=null&&c.push(Uu(i,m,g))),i.tag===3)return c;i=i.return}return[]}function p2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function XT(i,s,o,c,m){for(var g=s._reactName,b=[];o!==null&&o!==c;){var R=o,j=R.alternate,ee=R.stateNode;if(R=R.tag,j!==null&&j===c)break;R!==5&&R!==26&&R!==27||ee===null||(j=ee,m?(ee=Mi(o,g),ee!=null&&b.unshift(Uu(o,ee,j))):m||(ee=Mi(o,g),ee!=null&&b.push(Uu(o,ee,j)))),o=o.return}b.length!==0&&i.push({event:s,listeners:b})}var g2=/\r\n?/g,y2=/\u0000|\uFFFD/g;function JT(i){return(typeof i=="string"?i:""+i).replace(g2,`
`).replace(y2,"")}function ZT(i,s){return s=JT(s),JT(i)===s}function vt(i,s,o,c,m,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Ln(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Ln(i,""+c);break;case"className":Wn(i,"class",c);break;case"tabIndex":Wn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(i,o,c);break;case"style":iu(i,c,g);break;case"data":if(s!=="object"){Wn(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Eo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&vt(i,s,"name",m.name,m,null),vt(i,s,"formEncType",m.formEncType,m,null),vt(i,s,"formMethod",m.formMethod,m,null),vt(i,s,"formTarget",m.formTarget,m,null)):(vt(i,s,"encType",m.encType,m,null),vt(i,s,"method",m.method,m,null),vt(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Eo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=ki);break;case"onScroll":c!=null&&Ze("scroll",i);break;case"onScrollEnd":c!=null&&Ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Eo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ze("beforetoggle",i),Ze("toggle",i),_o(i,"popover",c);break;case"xlinkActuate":Wt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Wt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Wt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Wt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Wt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Wt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":_o(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ph.get(o)||o,_o(i,o,c))}}function cg(i,s,o,c,m,g){switch(o){case"style":iu(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Ln(i,c):(typeof c=="number"||typeof c=="bigint")&&Ln(i,""+c);break;case"onScroll":c!=null&&Ze("scroll",i);break;case"onScrollEnd":c!=null&&Ze("scrollend",i);break;case"onClick":c!=null&&(i.onclick=ki);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ql.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=i[un]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):_o(i,o,c)}}}function _n(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",i),Ze("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:vt(i,s,g,b,o,null)}}m&&vt(i,s,"srcSet",o.srcSet,o,null),c&&vt(i,s,"src",o.src,o,null);return;case"input":Ze("invalid",i);var R=g=b=m=null,j=null,ee=null;for(c in o)if(o.hasOwnProperty(c)){var le=o[c];if(le!=null)switch(c){case"name":m=le;break;case"type":b=le;break;case"checked":j=le;break;case"defaultChecked":ee=le;break;case"value":g=le;break;case"defaultValue":R=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,s));break;default:vt(i,s,c,le,o,null)}}fh(i,g,R,j,ee,b,m,!1);return;case"select":Ze("invalid",i),c=b=g=null;for(m in o)if(o.hasOwnProperty(m)&&(R=o[m],R!=null))switch(m){case"value":g=R;break;case"defaultValue":b=R;break;case"multiple":c=R;default:vt(i,s,m,R,o,null)}s=g,o=b,i.multiple=!!c,s!=null?cs(i,!!c,s,!1):o!=null&&cs(i,!!c,o,!0);return;case"textarea":Ze("invalid",i),g=m=c=null;for(b in o)if(o.hasOwnProperty(b)&&(R=o[b],R!=null))switch(b){case"value":c=R;break;case"defaultValue":m=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:vt(i,s,b,R,o,null)}hs(i,c,m,g);return;case"option":for(j in o)o.hasOwnProperty(j)&&(c=o[j],c!=null)&&(j==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":vt(i,s,j,c,o,null));return;case"dialog":Ze("beforetoggle",i),Ze("toggle",i),Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":Ze("load",i);break;case"video":case"audio":for(c=0;c<Lu.length;c++)Ze(Lu[c],i);break;case"image":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"embed":case"source":case"link":Ze("error",i),Ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(c=o[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:vt(i,s,ee,c,o,null)}return;default:if(To(s)){for(le in o)o.hasOwnProperty(le)&&(c=o[le],c!==void 0&&cg(i,s,le,c,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(c=o[R],c!=null&&vt(i,s,R,c,o,null))}function v2(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,b=null,R=null,j=null,ee=null,le=null;for(oe in o){var fe=o[oe];if(o.hasOwnProperty(oe)&&fe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":j=fe;default:c.hasOwnProperty(oe)||vt(i,s,oe,null,c,fe)}}for(var re in c){var oe=c[re];if(fe=o[re],c.hasOwnProperty(re)&&(oe!=null||fe!=null))switch(re){case"type":g=oe;break;case"name":m=oe;break;case"checked":ee=oe;break;case"defaultChecked":le=oe;break;case"value":b=oe;break;case"defaultValue":R=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:oe!==fe&&vt(i,s,re,oe,c,fe)}}bo(i,b,R,j,ee,le,g,m);return;case"select":oe=b=R=re=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":oe=j;default:c.hasOwnProperty(g)||vt(i,s,g,null,c,j)}for(m in c)if(g=c[m],j=o[m],c.hasOwnProperty(m)&&(g!=null||j!=null))switch(m){case"value":re=g;break;case"defaultValue":R=g;break;case"multiple":b=g;default:g!==j&&vt(i,s,m,g,c,j)}s=R,o=b,c=oe,re!=null?cs(i,!!o,re,!1):!!c!=!!o&&(s!=null?cs(i,!!o,s,!0):cs(i,!!o,o?[]:"",!1));return;case"textarea":oe=re=null;for(R in o)if(m=o[R],o.hasOwnProperty(R)&&m!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:vt(i,s,R,null,c,m)}for(b in c)if(m=c[b],g=o[b],c.hasOwnProperty(b)&&(m!=null||g!=null))switch(b){case"value":re=m;break;case"defaultValue":oe=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&vt(i,s,b,m,c,g)}dh(i,re,oe);return;case"option":for(var xe in o)re=o[xe],o.hasOwnProperty(xe)&&re!=null&&!c.hasOwnProperty(xe)&&(xe==="selected"?i.selected=!1:vt(i,s,xe,null,c,re));for(j in c)re=c[j],oe=o[j],c.hasOwnProperty(j)&&re!==oe&&(re!=null||oe!=null)&&(j==="selected"?i.selected=re&&typeof re!="function"&&typeof re!="symbol":vt(i,s,j,re,c,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in o)re=o[je],o.hasOwnProperty(je)&&re!=null&&!c.hasOwnProperty(je)&&vt(i,s,je,null,c,re);for(ee in c)if(re=c[ee],oe=o[ee],c.hasOwnProperty(ee)&&re!==oe&&(re!=null||oe!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:vt(i,s,ee,re,c,oe)}return;default:if(To(s)){for(var _t in o)re=o[_t],o.hasOwnProperty(_t)&&re!==void 0&&!c.hasOwnProperty(_t)&&cg(i,s,_t,void 0,c,re);for(le in c)re=c[le],oe=o[le],!c.hasOwnProperty(le)||re===oe||re===void 0&&oe===void 0||cg(i,s,le,re,c,oe);return}}for(var K in o)re=o[K],o.hasOwnProperty(K)&&re!=null&&!c.hasOwnProperty(K)&&vt(i,s,K,null,c,re);for(fe in c)re=c[fe],oe=o[fe],!c.hasOwnProperty(fe)||re===oe||re==null&&oe==null||vt(i,s,fe,re,c,oe)}function eE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,b=m.initiatorType,R=m.duration;if(g&&R&&eE(b)){for(b=0,R=m.responseEnd,c+=1;c<o.length;c++){var j=o[c],ee=j.startTime;if(ee>R)break;var le=j.transferSize,fe=j.initiatorType;le&&eE(fe)&&(j=j.responseEnd,b+=le*(j<R?1:(R-ee)/(j-ee)))}if(--c,s+=8*(g+b)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var hg=null,fg=null;function yf(i){return i.nodeType===9?i:i.ownerDocument}function tE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function dg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mg=null;function b2(){var i=window.event;return i&&i.type==="popstate"?i===mg?!1:(mg=i,!0):(mg=null,!1)}var iE=typeof setTimeout=="function"?setTimeout:void 0,T2=typeof clearTimeout=="function"?clearTimeout:void 0,rE=typeof Promise=="function"?Promise:void 0,E2=typeof queueMicrotask=="function"?queueMicrotask:typeof rE<"u"?function(i){return rE.resolve(null).then(i).catch(w2)}:iE;function w2(i){setTimeout(function(){throw i})}function Os(i){return i==="head"}function sE(i,s){var o=s,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),nl(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")ju(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,ju(o);for(var g=o.firstChild;g;){var b=g.nextSibling,R=g.nodeName;g[Zi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&ju(i.ownerDocument.body);o=m}while(o);nl(s)}function aE(i,s){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function pg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":pg(o),vo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function S2(i,s,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Zi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=yi(i.nextSibling),i===null)break}return null}function A2(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=yi(i.nextSibling),i===null))return null;return i}function oE(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=yi(i.nextSibling),i===null))return null;return i}function gg(i){return i.data==="$?"||i.data==="$~"}function yg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function C2(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function yi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var vg=null;function lE(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return yi(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function uE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function cE(i,s,o){switch(s=yf(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ju(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);vo(i)}var vi=new Map,hE=new Set;function vf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Hr=te.d;te.d={f:R2,r:x2,D:I2,C:D2,L:k2,m:M2,X:O2,S:N2,M:P2};function R2(){var i=Hr.f(),s=uf();return i||s}function x2(i){var s=oi(i);s!==null&&s.tag===5&&s.type==="form"?xb(s):Hr.r(i)}var Zo=typeof document>"u"?null:document;function fE(i,s,o){var c=Zo;if(c&&typeof s=="string"&&s){var m=Vn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),hE.has(m)||(hE.add(m),i={rel:i,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),_n(s,"link",i),Kt(s),c.head.appendChild(s)))}}function I2(i){Hr.D(i),fE("dns-prefetch",i,null)}function D2(i,s){Hr.C(i,s),fE("preconnect",i,s)}function k2(i,s,o){Hr.L(i,s,o);var c=Zo;if(c&&i&&s){var m='link[rel="preload"][as="'+Vn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Vn(o.imageSizes)+'"]')):m+='[href="'+Vn(i)+'"]';var g=m;switch(s){case"style":g=el(i);break;case"script":g=tl(i)}vi.has(g)||(i=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),vi.set(g,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(zu(g))||s==="script"&&c.querySelector(Bu(g))||(s=c.createElement("link"),_n(s,"link",i),Kt(s),c.head.appendChild(s)))}}function M2(i,s){Hr.m(i,s);var o=Zo;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Vn(c)+'"][href="'+Vn(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=tl(i)}if(!vi.has(g)&&(i=v({rel:"modulepreload",href:i},s),vi.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Bu(g)))return}c=o.createElement("link"),_n(c,"link",i),Kt(c),o.head.appendChild(c)}}}function N2(i,s,o){Hr.S(i,s,o);var c=Zo;if(c&&i){var m=tr(c).hoistableStyles,g=el(i);s=s||"default";var b=m.get(g);if(!b){var R={loading:0,preload:null};if(b=c.querySelector(zu(g)))R.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},o),(o=vi.get(g))&&_g(i,o);var j=b=c.createElement("link");Kt(j),_n(j,"link",i),j._p=new Promise(function(ee,le){j.onload=ee,j.onerror=le}),j.addEventListener("load",function(){R.loading|=1}),j.addEventListener("error",function(){R.loading|=2}),R.loading|=4,_f(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:R},m.set(g,b)}}}function O2(i,s){Hr.X(i,s);var o=Zo;if(o&&i){var c=tr(o).hoistableScripts,m=tl(i),g=c.get(m);g||(g=o.querySelector(Bu(m)),g||(i=v({src:i,async:!0},s),(s=vi.get(m))&&bg(i,s),g=o.createElement("script"),Kt(g),_n(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function P2(i,s){Hr.M(i,s);var o=Zo;if(o&&i){var c=tr(o).hoistableScripts,m=tl(i),g=c.get(m);g||(g=o.querySelector(Bu(m)),g||(i=v({src:i,async:!0,type:"module"},s),(s=vi.get(m))&&bg(i,s),g=o.createElement("script"),Kt(g),_n(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function dE(i,s,o,c){var m=(m=J.current)?vf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=el(o.href),o=tr(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=el(o.href);var g=tr(m).hoistableStyles,b=g.get(i);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=m.querySelector(zu(i)))&&!g._p&&(b.instance=g,b.state.loading=5),vi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},vi.set(i,o),g||V2(m,i,o,b.state))),s&&c===null)throw Error(r(528,""));return b}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=tl(o),o=tr(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function el(i){return'href="'+Vn(i)+'"'}function zu(i){return'link[rel="stylesheet"]['+i+"]"}function mE(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function V2(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),_n(s,"link",o),Kt(s),i.head.appendChild(s))}function tl(i){return'[src="'+Vn(i)+'"]'}function Bu(i){return"script[async]"+i}function pE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Vn(o.href)+'"]');if(c)return s.instance=c,Kt(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Kt(c),_n(c,"style",m),_f(c,o.precedence,i),s.instance=c;case"stylesheet":m=el(o.href);var g=i.querySelector(zu(m));if(g)return s.state.loading|=4,s.instance=g,Kt(g),g;c=mE(o),(m=vi.get(m))&&_g(c,m),g=(i.ownerDocument||i).createElement("link"),Kt(g);var b=g;return b._p=new Promise(function(R,j){b.onload=R,b.onerror=j}),_n(g,"link",c),s.state.loading|=4,_f(g,o.precedence,i),s.instance=g;case"script":return g=tl(o.src),(m=i.querySelector(Bu(g)))?(s.instance=m,Kt(m),m):(c=o,(m=vi.get(g))&&(c=v({},o),bg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Kt(m),_n(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,_f(c,o.precedence,i));return s.instance}function _f(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,b=0;b<c.length;b++){var R=c[b];if(R.dataset.precedence===s)g=R;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function _g(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function bg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var bf=null;function gE(i,s,o){if(bf===null){var c=new Map,m=bf=new Map;m.set(o,c)}else m=bf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Zi]||g[Yt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=i+b;var R=c.get(b);R?R.push(g):c.set(b,[g])}}return c}function yE(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function L2(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function vE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function U2(i,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=el(c.href),g=s.querySelector(zu(m));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Tf.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,Kt(g);return}g=s.ownerDocument||s,c=mE(c),(m=vi.get(m))&&_g(c,m),g=g.createElement("link"),Kt(g);var b=g;b._p=new Promise(function(R,j){b.onload=R,b.onerror=j}),_n(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Tf.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Tg=0;function j2(i,s){return i.stylesheets&&i.count===0&&wf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&wf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&Tg===0&&(Tg=62500*_2());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&wf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Tg?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Tf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ef=null;function wf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ef=new Map,s.forEach(z2,i),Ef=null,Tf.call(i))}function z2(i,s){if(!(s.state.loading&4)){var o=Ef.get(i);if(o)var c=o.get(null);else{o=new Map,Ef.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var b=m[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}m=s.instance,b=m.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,m),o.set(b,m),this.count++,c=Tf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Fu={$$typeof:z,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function B2(i,s,o,c,m,g,b,R,j){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.hiddenUpdates=Xi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function _E(i,s,o,c,m,g,b,R,j,ee,le,fe){return i=new B2(i,s,o,b,j,ee,le,fe,R),s=1,g===!0&&(s|=24),g=Xn(3,null,null,s),i.current=g,g.stateNode=i,s=ep(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},rp(g),i}function bE(i){return i?(i=Mo,i):Mo}function TE(i,s,o,c,m,g){m=bE(m),c.context===null?c.context=m:c.pendingContext=m,c=ws(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Ss(i,c,s),o!==null&&(Fn(o,i,s),bu(o,i,s))}function EE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Eg(i,s){EE(i,s),(i=i.alternate)&&EE(i,s)}function wE(i){if(i.tag===13||i.tag===31){var s=Da(i,67108864);s!==null&&Fn(s,i,67108864),Eg(i,67108864)}}function SE(i){if(i.tag===13||i.tag===31){var s=ni();s=va(s);var o=Da(i,s);o!==null&&Fn(o,i,s),Eg(i,s)}}var Sf=!0;function F2(i,s,o,c){var m=H.T;H.T=null;var g=te.p;try{te.p=2,wg(i,s,o,c)}finally{te.p=g,H.T=m}}function q2(i,s,o,c){var m=H.T;H.T=null;var g=te.p;try{te.p=8,wg(i,s,o,c)}finally{te.p=g,H.T=m}}function wg(i,s,o,c){if(Sf){var m=Sg(c);if(m===null)ug(i,s,c,Af,o),CE(i,c);else if(G2(m,i,s,o,c))c.stopPropagation();else if(CE(i,c),s&4&&-1<H2.indexOf(i)){for(;m!==null;){var g=oi(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Wi(g.pendingLanes);if(b!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;b;){var j=1<<31-zt(b);R.entanglements[1]|=j,b&=~j}mr(g),(ct&6)===0&&(of=kn()+500,Vu(0))}}break;case 31:case 13:R=Da(g,2),R!==null&&Fn(R,g,2),uf(),Eg(g,2)}if(g=Sg(c),g===null&&ug(i,s,c,Af,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else ug(i,s,c,null,o)}}function Sg(i){return i=li(i),Ag(i)}var Af=null;function Ag(i){if(Af=null,i=er(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Af=i,null}function AE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ma()){case Gl:return 2;case $l:return 8;case ls:case km:return 32;case nh:return 268435456;default:return 32}default:return 32}}var Cg=!1,Ps=null,Vs=null,Ls=null,qu=new Map,Hu=new Map,Us=[],H2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CE(i,s){switch(i){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":qu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(s.pointerId)}}function Gu(i,s,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},s!==null&&(s=oi(s),s!==null&&wE(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function G2(i,s,o,c,m){switch(s){case"focusin":return Ps=Gu(Ps,i,s,o,c,m),!0;case"dragenter":return Vs=Gu(Vs,i,s,o,c,m),!0;case"mouseover":return Ls=Gu(Ls,i,s,o,c,m),!0;case"pointerover":var g=m.pointerId;return qu.set(g,Gu(qu.get(g)||null,i,s,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Hu.set(g,Gu(Hu.get(g)||null,i,s,o,c,m)),!0}return!1}function RE(i){var s=er(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,Ii(i.priority,function(){SE(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,Ii(i.priority,function(){SE(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Cf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Sg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);ru=c,o.target.dispatchEvent(c),ru=null}else return s=oi(o),s!==null&&wE(s),i.blockedOn=o,!1;s.shift()}return!0}function xE(i,s,o){Cf(i)&&o.delete(s)}function $2(){Cg=!1,Ps!==null&&Cf(Ps)&&(Ps=null),Vs!==null&&Cf(Vs)&&(Vs=null),Ls!==null&&Cf(Ls)&&(Ls=null),qu.forEach(xE),Hu.forEach(xE)}function Rf(i,s){i.blockedOn===s&&(i.blockedOn=null,Cg||(Cg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$2)))}var xf=null;function IE(i){xf!==i&&(xf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){xf===i&&(xf=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(Ag(c||o)===null)continue;break}var g=oi(o);g!==null&&(i.splice(s,3),s-=3,Sp(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function nl(i){function s(j){return Rf(j,i)}Ps!==null&&Rf(Ps,i),Vs!==null&&Rf(Vs,i),Ls!==null&&Rf(Ls,i),qu.forEach(s),Hu.forEach(s);for(var o=0;o<Us.length;o++){var c=Us[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Us.length&&(o=Us[0],o.blockedOn===null);)RE(o),o.blockedOn===null&&Us.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],b=m[un]||null;if(typeof g=="function")b||IE(o);else if(b){var R=null;if(g&&g.hasAttribute("formAction")){if(m=g,b=g[un]||null)R=b.formAction;else if(Ag(m)!==null)continue}else R=b.action;typeof R=="function"?o[c+1]=R:(o.splice(c,3),c-=3),IE(o)}}}function DE(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function Rg(i){this._internalRoot=i}If.prototype.render=Rg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=ni();TE(o,c,i,s,null,null)},If.prototype.unmount=Rg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;TE(i.current,2,null,i,null,null),uf(),s[Ji]=null}};function If(i){this._internalRoot=i}If.prototype.unstable_scheduleHydration=function(i){if(i){var s=lh();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Us.length&&s!==0&&s<Us[o].priority;o++);Us.splice(o,0,i),o===0&&RE(i)}};var kE=e.version;if(kE!=="19.2.3")throw Error(r(527,kE,"19.2.3"));te.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var Y2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Df.isDisabled&&Df.supportsFiber)try{Ri=Df.inject(Y2),mn=Df}catch{}}return Yu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",m=Ub,g=jb,b=zb;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=_E(i,1,!1,null,null,o,c,null,m,g,b,DE),i[Ji]=s.current,lg(i),new Rg(s)},Yu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,m="",g=Ub,b=jb,R=zb,j=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),s=_E(i,1,!0,s,o??null,c,m,j,g,b,R,DE),s.context=bE(null),o=s.current,c=ni(),c=va(c),m=ws(c),m.callback=null,Ss(o,m,c),o=c,s.current.lanes=o,ga(s,o),mr(s),i[Ji]=s.current,lg(i),new If(s)},Yu.version="19.2.3",Yu}var BE;function rk(){if(BE)return Dg.exports;BE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dg.exports=ik(),Dg.exports}var sk=rk();const ak=_v(sk),ok="modulepreload",lk=function(t){return"/AWAKE/"+t},FE={},Dt=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let d=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=d(n.map(p=>{if(p=lk(p),p in FE)return;FE[p]=!0;const y=p.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const T=document.createElement("link");if(T.rel=y?"stylesheet":ok,y||(T.as="script"),T.crossOrigin="",T.href=p,h&&T.setAttribute("nonce",h),document.head.appendChild(T),y)return new Promise((x,N)=>{T.addEventListener("load",x),T.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var qE="popstate";function uk(t={}){function e(r,a){let{pathname:l,search:u,hash:h}=r.location;return yy("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:bc(a)}return hk(e,n,null,t)}function kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ck(){return Math.random().toString(36).substring(2,10)}function HE(t,e){return{usr:t.state,key:t.key,idx:e}}function yy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Il(e):e,state:n,key:e&&e.key||r||ck()}}function bc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Il(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function hk(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,h="POP",d=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let F=y(),B=F==null?null:F-p;p=F,d&&d({action:h,location:P.location,delta:B})}function T(F,B){h="PUSH";let U=yy(P.location,F,B);p=y()+1;let z=HE(U,p),ue=P.createHref(U);try{u.pushState(z,"",ue)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;a.location.assign(ue)}l&&d&&d({action:h,location:P.location,delta:1})}function x(F,B){h="REPLACE";let U=yy(P.location,F,B);p=y();let z=HE(U,p),ue=P.createHref(U);u.replaceState(z,"",ue),l&&d&&d({action:h,location:P.location,delta:0})}function N(F){return fk(F)}let P={get action(){return h},get location(){return t(a,u)},listen(F){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(qE,v),d=F,()=>{a.removeEventListener(qE,v),d=null}},createHref(F){return e(a,F)},createURL:N,encodeLocation(F){let B=N(F);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:T,replace:x,go(F){return u.go(F)}};return P}function fk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),kt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:bc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function oA(t,e,n="/"){return dk(t,e,n,!1)}function dk(t,e,n,r){let a=typeof e=="string"?Il(e):e,l=Jr(a.pathname||"/",n);if(l==null)return null;let u=lA(t);mk(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=Ak(l);h=wk(u[d],p,r)}return h}function lA(t,e=[],n=[],r="",a=!1){let l=(u,h,d=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&d)return;kt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let v=Kr([r,y.relativePath]),T=n.concat(y);u.children&&u.children.length>0&&(kt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),lA(u.children,e,T,v,d)),!(u.path==null&&!u.index)&&e.push({path:v,score:Tk(v,u.index),routesMeta:T})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let d of uA(u.path))l(u,h,!0,d)}),e}function uA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=uA(r.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function mk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ek(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var pk=/^:[\w-]+$/,gk=3,yk=2,vk=1,_k=10,bk=-2,GE=t=>t==="*";function Tk(t,e){let n=t.split("/"),r=n.length;return n.some(GE)&&(r+=bk),e&&(r+=yk),n.filter(a=>!GE(a)).reduce((a,l)=>a+(pk.test(l)?gk:l===""?vk:_k),r)}function Ek(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function wk(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=hd({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),T=d.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=hd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Kr([l,v.pathname]),pathnameBase:Ik(Kr([l,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(l=Kr([l,v.pathnameBase]))}return u}function hd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Sk(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:v},T)=>{if(y==="*"){let N=h[T]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const x=h[T];return v&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function Sk(t,e=!1,n=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function Ak(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Jr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var cA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ck=t=>cA.test(t);function Rk(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Il(t):t,l;if(n)if(Ck(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),ri(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=$E(n.substring(1),"/"):l=$E(n,e)}else l=e;return{pathname:l,search:Dk(r),hash:kk(a)}}function $E(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Og(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ev(t){let e=xk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function wv(t,e,n,r=!1){let a;typeof t=="string"?a=Il(t):(a={...t},kt(!a.pathname||!a.pathname.includes("?"),Og("?","pathname","search",a)),kt(!a.pathname||!a.pathname.includes("#"),Og("#","pathname","hash",a)),kt(!a.search||!a.search.includes("#"),Og("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),v-=1;a.pathname=T.join("/")}h=v>=0?e[v]:"/"}let d=Rk(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var Kr=t=>t.join("/").replace(/\/\/+/g,"/"),Ik=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Dk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Mk=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Nk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Ok(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var hA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fA(t,e){let n=t;if(typeof n!="string"||!cA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(hA)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Jr(u.pathname,e);u.origin===l.origin&&h!=null?n=h+u.search+u.hash:a=!0}catch{ri(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dA=["POST","PUT","PATCH","DELETE"];new Set(dA);var Pk=["GET",...dA];new Set(Pk);var Dl=w.createContext(null);Dl.displayName="DataRouter";var Xd=w.createContext(null);Xd.displayName="DataRouterState";var Vk=w.createContext(!1),mA=w.createContext({isTransitioning:!1});mA.displayName="ViewTransition";var Lk=w.createContext(new Map);Lk.displayName="Fetchers";var Uk=w.createContext(null);Uk.displayName="Await";var si=w.createContext(null);si.displayName="Navigation";var Vc=w.createContext(null);Vc.displayName="Location";var Ai=w.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var Sv=w.createContext(null);Sv.displayName="RouteError";var pA="REACT_ROUTER_ERROR",jk="REDIRECT",zk="ROUTE_ERROR_RESPONSE";function Bk(t){if(t.startsWith(`${pA}:${jk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Fk(t){if(t.startsWith(`${pA}:${zk}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Mk(e.status,e.statusText,e.data)}catch{}}function qk(t,{relative:e}={}){kt(kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(si),{hash:a,pathname:l,search:u}=Lc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Kr([n,l])),r.createHref({pathname:h,search:u,hash:a})}function kl(){return w.useContext(Vc)!=null}function Ci(){return kt(kl(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Vc).location}var gA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yA(t){w.useContext(si).static||w.useLayoutEffect(t)}function fo(){let{isDataRoute:t}=w.useContext(Ai);return t?rM():Hk()}function Hk(){kt(kl(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Dl),{basename:e,navigator:n}=w.useContext(si),{matches:r}=w.useContext(Ai),{pathname:a}=Ci(),l=JSON.stringify(Ev(r)),u=w.useRef(!1);return yA(()=>{u.current=!0}),w.useCallback((d,p={})=>{if(ri(u.current,gA),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=wv(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Kr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}var Gk=w.createContext(null);function $k(t){let e=w.useContext(Ai).outlet;return w.useMemo(()=>e&&w.createElement(Gk.Provider,{value:t},e),[e,t])}function t7(){let{matches:t}=w.useContext(Ai),e=t[t.length-1];return e?e.params:{}}function Lc(t,{relative:e}={}){let{matches:n}=w.useContext(Ai),{pathname:r}=Ci(),a=JSON.stringify(Ev(n));return w.useMemo(()=>wv(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function Yk(t,e){return vA(t,e)}function vA(t,e,n,r,a){kt(kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(si),{matches:u}=w.useContext(Ai),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let U=v&&v.path||"";bA(p,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let T=Ci(),x;if(e){let U=typeof e=="string"?Il(e):e;kt(y==="/"||U.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${U.pathname}" was given in the \`location\` prop.`),x=U}else x=T;let N=x.pathname||"/",P=N;if(y!=="/"){let U=y.replace(/^\//,"").split("/");P="/"+N.replace(/^\//,"").split("/").slice(U.length).join("/")}let F=oA(t,{pathname:P});ri(v||F!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ri(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Jk(F&&F.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:Kr([y,l.encodeLocation?l.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:Kr([y,l.encodeLocation?l.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),u,n,r,a);return e&&B?w.createElement(Vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},B):B}function Kk(){let t=iM(),e=Nk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,u)}var Wk=w.createElement(Kk,null),_A=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Fk(t.digest);n&&(t=n)}let e=t!==void 0?w.createElement(Ai.Provider,{value:this.props.routeContext},w.createElement(Sv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?w.createElement(Qk,{error:t},e):e}};_A.contextType=Vk;var Pg=new WeakMap;function Qk({children:t,error:e}){let{basename:n}=w.useContext(si);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Bk(e.digest);if(r){let a=Pg.get(e);if(a)throw a;let l=fA(r.location,n);if(hA&&!Pg.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw Pg.set(e,u),u}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function Xk({routeContext:t,match:e,children:n}){let r=w.useContext(Dl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Ai.Provider,{value:t},n)}function Jk(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);kt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,d=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=y),v.route.id){let{loaderData:T,errors:x}=n,N=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!x||x[v.route.id]===void 0);if(v.route.lazy||N){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let p=n&&r?(y,v)=>{r(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Ok(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,T)=>{let x,N=!1,P=null,F=null;n&&(x=u&&v.route.id?u[v.route.id]:void 0,P=v.route.errorElement||Wk,h&&(d<0&&T===0?(bA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,F=null):d===T&&(N=!0,F=v.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,T+1)),U=()=>{let z;return x?z=P:N?z=F:v.route.Component?z=w.createElement(v.route.Component,null):v.route.element?z=v.route.element:z=y,w.createElement(Xk,{match:v,routeContext:{outlet:y,matches:B,isDataRoute:n!=null},children:z})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?w.createElement(_A,{location:n.location,revalidation:n.revalidation,component:P,error:x,children:U(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:p}):U()},null)}function Av(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zk(t){let e=w.useContext(Dl);return kt(e,Av(t)),e}function eM(t){let e=w.useContext(Xd);return kt(e,Av(t)),e}function tM(t){let e=w.useContext(Ai);return kt(e,Av(t)),e}function Cv(t){let e=tM(t),n=e.matches[e.matches.length-1];return kt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nM(){return Cv("useRouteId")}function iM(){let t=w.useContext(Sv),e=eM("useRouteError"),n=Cv("useRouteError");return t!==void 0?t:e.errors?.[n]}function rM(){let{router:t}=Zk("useNavigate"),e=Cv("useNavigate"),n=w.useRef(!1);return yA(()=>{n.current=!0}),w.useCallback(async(a,l={})=>{ri(n.current,gA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var YE={};function bA(t,e,n){!e&&!YE[t]&&(YE[t]=!0,ri(!1,n))}w.memo(sM);function sM({routes:t,future:e,state:n,onError:r}){return vA(t,void 0,n,r,e)}function TA({to:t,replace:e,state:n,relative:r}){kt(kl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(si);ri(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(Ai),{pathname:u}=Ci(),h=fo(),d=wv(t,Ev(l),u,r==="path"),p=JSON.stringify(d);return w.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:r})},[h,p,r,e,n]),null}function EA(t){return $k(t.context)}function Lt(t){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){kt(!kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[h,a,l,u]);typeof n=="string"&&(n=Il(n));let{pathname:p="/",search:y="",hash:v="",state:T=null,key:x="default"}=n,N=w.useMemo(()=>{let P=Jr(p,h);return P==null?null:{location:{pathname:P,search:y,hash:v,state:T,key:x},navigationType:r}},[h,p,y,v,T,x,r]);return ri(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:w.createElement(si.Provider,{value:d},w.createElement(Vc.Provider,{children:e,value:N}))}function oM({children:t,location:e}){return Yk(vy(t),e)}function vy(t,e=[]){let n=[];return w.Children.forEach(t,(r,a)=>{if(!w.isValidElement(r))return;let l=[...e,a];if(r.type===w.Fragment){n.push.apply(n,vy(r.props.children,l));return}kt(r.type===Lt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=vy(r.props.children,l)),n.push(u)}),n}var Gf="get",$f="application/x-www-form-urlencoded";function Jd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function lM(t){return Jd(t)&&t.tagName.toLowerCase()==="button"}function uM(t){return Jd(t)&&t.tagName.toLowerCase()==="form"}function cM(t){return Jd(t)&&t.tagName.toLowerCase()==="input"}function hM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fM(t,e){return t.button===0&&(!e||e==="_self")&&!hM(t)}function _y(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function dM(t,e){let n=_y(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var kf=null;function mM(){if(kf===null)try{new FormData(document.createElement("form"),0),kf=!1}catch{kf=!0}return kf}var pM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vg(t){return t!=null&&!pM.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$f}"`),null):t}function gM(t,e){let n,r,a,l,u;if(uM(t)){let h=t.getAttribute("action");r=h?Jr(h,e):null,n=t.getAttribute("method")||Gf,a=Vg(t.getAttribute("enctype"))||$f,l=new FormData(t)}else if(lM(t)||cM(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Jr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Gf,a=Vg(t.getAttribute("formenctype"))||Vg(h.getAttribute("enctype"))||$f,l=new FormData(h,t),!mM()){let{name:p,type:y,value:v}=t;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,v)}}else{if(Jd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gf,r=null,a=$f,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yM(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Jr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function vM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _M(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function bM(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await vM(l,n);return u.links?u.links():[]}return[]}));return SM(r.flat(1).filter(_M).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function KE(t,e,n,r,a,l){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function TM(t,e,{includeHydrateFallback:n}={}){return EM(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function EM(t){return[...new Set(t)]}function wM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function SM(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(wM(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function wA(){let t=w.useContext(Dl);return Rv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function AM(){let t=w.useContext(Xd);return Rv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var xv=w.createContext(void 0);xv.displayName="FrameworkContext";function SA(){let t=w.useContext(xv);return Rv(t,"You must render this element inside a <HydratedRouter> element"),t}function CM(t,e){let n=w.useContext(xv),[r,a]=w.useState(!1),[l,u]=w.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,T=w.useRef(null);w.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=B=>{B.forEach(U=>{u(U.isIntersecting)})},F=new IntersectionObserver(P,{threshold:.5});return T.current&&F.observe(T.current),()=>{F.disconnect()}}},[t]),w.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let x=()=>{a(!0)},N=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Ku(h,x),onBlur:Ku(d,N),onMouseEnter:Ku(p,x),onMouseLeave:Ku(y,N),onTouchStart:Ku(v,x)}]:[!1,T,{}]}function Ku(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function RM({page:t,...e}){let{router:n}=wA(),r=w.useMemo(()=>oA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(IM,{page:t,matches:r,...e}):null}function xM(t){let{manifest:e,routeModules:n}=SA(),[r,a]=w.useState([]);return w.useEffect(()=>{let l=!1;return bM(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),r}function IM({page:t,matches:e,...n}){let r=Ci(),{future:a,manifest:l,routeModules:u}=SA(),{basename:h}=wA(),{loaderData:d,matches:p}=AM(),y=w.useMemo(()=>KE(t,e,p,l,r,"data"),[t,e,p,l,r]),v=w.useMemo(()=>KE(t,e,p,l,r,"assets"),[t,e,p,l,r]),T=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let P=new Set,F=!1;if(e.forEach(U=>{let z=l.routes[U.route.id];!z||!z.hasLoader||(!y.some(ue=>ue.route.id===U.route.id)&&U.route.id in d&&u[U.route.id]?.shouldRevalidate||z.hasClientLoader?F=!0:P.add(U.route.id))}),P.size===0)return[];let B=yM(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return F&&P.size>0&&B.searchParams.set("_routes",e.filter(U=>P.has(U.route.id)).map(U=>U.route.id).join(",")),[B.pathname+B.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,r,l,y,e,t,u]),x=w.useMemo(()=>TM(v,l),[v,l]),N=xM(v);return w.createElement(w.Fragment,null,T.map(P=>w.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),x.map(P=>w.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),N.map(({key:P,link:F})=>w.createElement("link",{key:P,nonce:n.nonce,...F})))}function DM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kM&&(window.__reactRouterVersion="7.12.0")}catch{}function MM({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=w.useRef();a.current==null&&(a.current=uk({window:r,v5Compat:!0}));let l=a.current,[u,h]=w.useState({action:l.action,location:l.location}),d=w.useCallback(p=>{n===!1?h(p):w.startTransition(()=>h(p))},[n]);return w.useLayoutEffect(()=>l.listen(d),[l,d]),w.createElement(aM,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var AA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fd=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T,...x},N){let{basename:P,unstable_useTransitions:F}=w.useContext(si),B=typeof p=="string"&&AA.test(p),U=fA(p,P);p=U.to;let z=qk(p,{relative:a}),[ue,L,X]=CM(r,x),A=VM(p,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:T,unstable_useTransitions:F});function S(O){e&&e(O),O.defaultPrevented||A(O)}let D=w.createElement("a",{...x,...X,href:U.absoluteURL||z,onClick:U.isExternal||l?e:S,ref:DM(N,L),target:d,"data-discover":!B&&n==="render"?"true":void 0});return ue&&!B?w.createElement(w.Fragment,null,D,w.createElement(RM,{page:z})):D});fd.displayName="Link";var NM=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...p},y){let v=Lc(u,{relative:p.relative}),T=Ci(),x=w.useContext(Xd),{navigator:N,basename:P}=w.useContext(si),F=x!=null&&FM(v)&&h===!0,B=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,U=T.pathname,z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(U=U.toLowerCase(),z=z?z.toLowerCase():null,B=B.toLowerCase()),z&&P&&(z=Jr(z,P)||z);const ue=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let L=U===B||!a&&U.startsWith(B)&&U.charAt(ue)==="/",X=z!=null&&(z===B||!a&&z.startsWith(B)&&z.charAt(B.length)==="/"),A={isActive:L,isPending:X,isTransitioning:F},S=L?e:void 0,D;typeof r=="function"?D=r(A):D=[r,L?"active":null,X?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(A):l;return w.createElement(fd,{...p,"aria-current":S,className:D,ref:y,style:O,to:u,viewTransition:h},typeof d=="function"?d(A):d)});NM.displayName="NavLink";var OM=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:u=Gf,action:h,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T,...x},N)=>{let{unstable_useTransitions:P}=w.useContext(si),F=zM(),B=BM(h,{relative:p}),U=u.toLowerCase()==="get"?"get":"post",z=typeof h=="string"&&AA.test(h),ue=L=>{if(d&&d(L),L.defaultPrevented)return;L.preventDefault();let X=L.nativeEvent.submitter,A=X?.getAttribute("formmethod")||u,S=()=>F(X||L.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T});P&&n!==!1?w.startTransition(()=>S()):S()};return w.createElement("form",{ref:N,method:U,action:B,onSubmit:r?d:ue,...x,"data-discover":!z&&t==="render"?"true":void 0})});OM.displayName="Form";function PM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CA(t){let e=w.useContext(Dl);return kt(e,PM(t)),e}function VM(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let p=fo(),y=Ci(),v=Lc(t,{relative:l});return w.useCallback(T=>{if(fM(T,e)){T.preventDefault();let x=n!==void 0?n:bc(y)===bc(v),N=()=>p(t,{replace:x,state:r,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h});d?w.startTransition(()=>N()):N()}},[y,p,v,n,r,e,t,a,l,u,h,d])}function LM(t){ri(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef(_y(t)),n=w.useRef(!1),r=Ci(),a=w.useMemo(()=>dM(r.search,n.current?null:e.current),[r.search]),l=fo(),u=w.useCallback((h,d)=>{const p=_y(typeof h=="function"?h(new URLSearchParams(a)):h);n.current=!0,l("?"+p,d)},[l,a]);return[a,u]}var UM=0,jM=()=>`__${String(++UM)}__`;function zM(){let{router:t}=CA("useSubmit"),{basename:e}=w.useContext(si),n=nM(),r=t.fetch,a=t.navigate;return w.useCallback(async(l,u={})=>{let{action:h,method:d,encType:p,formData:y,body:v}=gM(l,e);if(u.navigate===!1){let T=u.fetcherKey||jM();await r(T,n,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||d,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||d,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,a,e,n])}function BM(t,{relative:e}={}){let{basename:n}=w.useContext(si),r=w.useContext(Ai);kt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Lc(t||".",{relative:e})},u=Ci();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Kr([n,l.pathname])),bc(l)}function FM(t,{relative:e}={}){let n=w.useContext(mA);kt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=CA("useViewTransitionState"),a=Lc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Jr(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Jr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return hd(a.pathname,u)!=null||hd(a.pathname,l)!=null}const qM=()=>{};var WE={};const RA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},HM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},xA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let T=(h&15)<<2|p>>6,x=p&63;d||(x=64,u||(T=64)),r.push(n[y],n[v],n[T],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new GM;const T=l<<2|h>>4;if(r.push(T),p!==64){const x=h<<4&240|p>>2;if(r.push(x),v!==64){const N=p<<6&192|v;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $M=function(t){const e=RA(t);return xA.encodeByteArray(e,!0)},dd=function(t){return $M(t).replace(/\./g,"")},IA=function(t){try{return xA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const KM=()=>YM().__FIREBASE_DEFAULTS__,WM=()=>{if(typeof process>"u"||typeof WE>"u")return;const t=WE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IA(t[1]);return e&&JSON.parse(e)},Zd=()=>{try{return qM()||KM()||WM()||QM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DA=t=>Zd()?.emulatorHosts?.[t],kA=t=>{const e=DA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MA=()=>Zd()?.config,NA=t=>Zd()?.[`_${t}`];class XM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function ua(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Iv(t){return(await fetch(t,{credentials:"include"})).ok}function JM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dd(JSON.stringify(n)),dd(JSON.stringify(u)),""].join(".")}const uc={};function ZM(){const t={prod:[],emulator:[]};for(const e of Object.keys(uc))uc[e]?t.emulator.push(e):t.prod.push(e);return t}function eN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let QE=!1;function Dv(t,e){if(typeof window>"u"||typeof document>"u"||!ua(window.location.host)||uc[t]===e||uc[t]||QE)return;uc[t]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",l=ZM().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{QE=!0,u()},T}function y(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=eN(r),x=n("text"),N=document.getElementById(x)||document.createElement("span"),P=n("learnmore"),F=document.getElementById(P)||document.createElement("a"),B=n("preprendIcon"),U=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;h(z),y(F,P);const ue=p();d(U,B),z.append(U,N,F,ue),document.body.appendChild(z)}l?(N.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function nN(){const t=Zd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aN(){const t=Dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oN(){return!nN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lN(){try{return typeof indexedDB=="object"}catch{return!1}}function uN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const cN="FirebaseError";class Ar extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cN,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uc.prototype.create)}}class Uc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?hN(l,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Ar(a,h,r)}}function hN(t,e){return t.replace(fN,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const fN=/\{\$([^}]+)}/g;function dN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function io(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],u=e[a];if(XE(l)&&XE(u)){if(!io(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function XE(t){return t!==null&&typeof t=="object"}function jc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function nc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mN(t,e){const n=new pN(t,e);return n.subscribe.bind(n)}class pN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Lg),a.error===void 0&&(a.error=Lg),a.complete===void 0&&(a.complete=Lg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lg(){}function wt(t){return t&&t._delegate?t._delegate:t}class ea{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $a="[DEFAULT]";class yN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new XM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_N(e))try{this.getOrInitializeService({instanceIdentifier:$a})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=$a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$a){return this.instances.has(e)}getOptions(e=$a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$a){return this.component?this.component.multipleInstances?e:$a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vN(t){return t===$a?void 0:t}function _N(t){return t.instantiationMode==="EAGER"}class bN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const TN={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},EN=nt.INFO,wN={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},SN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=wN[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kv{constructor(e){this.name=e,this._logLevel=EN,this._logHandler=SN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const AN=(t,e)=>e.some(n=>t instanceof n);let JE,ZE;function CN(){return JE||(JE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RN(){return ZE||(ZE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OA=new WeakMap,by=new WeakMap,PA=new WeakMap,Ug=new WeakMap,Mv=new WeakMap;function xN(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Qs(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&OA.set(n,t)}).catch(()=>{}),Mv.set(e,t),e}function IN(t){if(by.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});by.set(t,e)}let Ty={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return by.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DN(t){Ty=t(Ty)}function kN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jg(this),e,...n);return PA.set(r,e.sort?e.sort():[e]),Qs(r)}:RN().includes(t)?function(...e){return t.apply(jg(this),e),Qs(OA.get(this))}:function(...e){return Qs(t.apply(jg(this),e))}}function MN(t){return typeof t=="function"?kN(t):(t instanceof IDBTransaction&&IN(t),AN(t,CN())?new Proxy(t,Ty):t)}function Qs(t){if(t instanceof IDBRequest)return xN(t);if(Ug.has(t))return Ug.get(t);const e=MN(t);return e!==t&&(Ug.set(t,e),Mv.set(e,t)),e}const jg=t=>Mv.get(t);function NN(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Qs(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Qs(u.result),d.oldVersion,d.newVersion,Qs(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const ON=["get","getKey","getAll","getAllKeys","count"],PN=["put","add","delete","clear"],zg=new Map;function ew(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zg.get(e))return zg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=PN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||ON.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return zg.set(e,l),l}DN(t=>({...t,get:(e,n,r)=>ew(e,n)||t.get(e,n,r),has:(e,n)=>!!ew(e,n)||t.has(e,n)}));class VN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LN(t){return t.getComponent()?.type==="VERSION"}const Ey="@firebase/app",tw="0.14.7";const Zr=new kv("@firebase/app"),UN="@firebase/app-compat",jN="@firebase/analytics-compat",zN="@firebase/analytics",BN="@firebase/app-check-compat",FN="@firebase/app-check",qN="@firebase/auth",HN="@firebase/auth-compat",GN="@firebase/database",$N="@firebase/data-connect",YN="@firebase/database-compat",KN="@firebase/functions",WN="@firebase/functions-compat",QN="@firebase/installations",XN="@firebase/installations-compat",JN="@firebase/messaging",ZN="@firebase/messaging-compat",eO="@firebase/performance",tO="@firebase/performance-compat",nO="@firebase/remote-config",iO="@firebase/remote-config-compat",rO="@firebase/storage",sO="@firebase/storage-compat",aO="@firebase/firestore",oO="@firebase/ai",lO="@firebase/firestore-compat",uO="firebase",cO="12.8.0";const wy="[DEFAULT]",hO={[Ey]:"fire-core",[UN]:"fire-core-compat",[zN]:"fire-analytics",[jN]:"fire-analytics-compat",[FN]:"fire-app-check",[BN]:"fire-app-check-compat",[qN]:"fire-auth",[HN]:"fire-auth-compat",[GN]:"fire-rtdb",[$N]:"fire-data-connect",[YN]:"fire-rtdb-compat",[KN]:"fire-fn",[WN]:"fire-fn-compat",[QN]:"fire-iid",[XN]:"fire-iid-compat",[JN]:"fire-fcm",[ZN]:"fire-fcm-compat",[eO]:"fire-perf",[tO]:"fire-perf-compat",[nO]:"fire-rc",[iO]:"fire-rc-compat",[rO]:"fire-gcs",[sO]:"fire-gcs-compat",[aO]:"fire-fst",[lO]:"fire-fst-compat",[oO]:"fire-vertex","fire-js":"fire-js",[uO]:"fire-js-all"};const md=new Map,fO=new Map,Sy=new Map;function nw(t,e){try{t.container.addComponent(e)}catch(n){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ro(t){const e=t.name;if(Sy.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;Sy.set(e,t);for(const n of md.values())nw(n,t);for(const n of fO.values())nw(n,t);return!0}function em(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t==null?!1:t.settings!==void 0}const dO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Uc("app","Firebase",dO);class mO{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const Ml=cO;function VA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:wy,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Xs.create("bad-app-name",{appName:String(a)});if(n||(n=MA()),!n)throw Xs.create("no-options");const l=md.get(a);if(l){if(io(n,l.options)&&io(r,l.config))return l;throw Xs.create("duplicate-app",{appName:a})}const u=new bN(a);for(const d of Sy.values())u.addComponent(d);const h=new mO(n,r,u);return md.set(a,h),h}function Nv(t=wy){const e=md.get(t);if(!e&&t===wy&&MA())return VA();if(!e)throw Xs.create("no-app",{appName:t});return e}function yr(t,e,n){let r=hO[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(u.join(" "));return}ro(new ea(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const pO="firebase-heartbeat-database",gO=1,Tc="firebase-heartbeat-store";let Bg=null;function LA(){return Bg||(Bg=NN(pO,gO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xs.create("idb-open",{originalErrorMessage:t.message})})),Bg}async function yO(t){try{const n=(await LA()).transaction(Tc),r=await n.objectStore(Tc).get(UA(t));return await n.done,r}catch(e){if(e instanceof Ar)Zr.warn(e.message);else{const n=Xs.create("idb-get",{originalErrorMessage:e?.message});Zr.warn(n.message)}}}async function iw(t,e){try{const r=(await LA()).transaction(Tc,"readwrite");await r.objectStore(Tc).put(e,UA(t)),await r.done}catch(n){if(n instanceof Ar)Zr.warn(n.message);else{const r=Xs.create("idb-set",{originalErrorMessage:n?.message});Zr.warn(r.message)}}}function UA(t){return`${t.name}!${t.options.appId}`}const vO=1024,_O=30;class bO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>_O){const a=wO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rw(),{heartbeatsToSend:n,unsentEntries:r}=TO(this._heartbeatsCache.heartbeats),a=dd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Zr.warn(e),""}}}function rw(){return new Date().toISOString().substring(0,10)}function TO(t,e=vO){const n=[];let r=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),sw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),sw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lN()?uN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function sw(t){return dd(JSON.stringify({version:2,heartbeats:t})).length}function wO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function SO(t){ro(new ea("platform-logger",e=>new VN(e),"PRIVATE")),ro(new ea("heartbeat",e=>new bO(e),"PRIVATE")),yr(Ey,tw,t),yr(Ey,tw,"esm2020"),yr("fire-js","")}SO("");var AO="firebase",CO="12.8.0";yr(AO,CO,"app");function jA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RO=jA,zA=new Uc("auth","Firebase",jA());const pd=new kv("@firebase/auth");function xO(t,...e){pd.logLevel<=nt.WARN&&pd.warn(`Auth (${Ml}): ${t}`,...e)}function Yf(t,...e){pd.logLevel<=nt.ERROR&&pd.error(`Auth (${Ml}): ${t}`,...e)}function Si(t,...e){throw Pv(t,...e)}function qi(t,...e){return Pv(t,...e)}function Ov(t,e,n){const r={...RO(),[e]:n};return new Uc("auth","Firebase",r).create(e,{appName:t.name})}function Wr(t){return Ov(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Si(t,"argument-error"),Ov(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zA.create(t,...e)}function ze(t,e,...n){if(!t)throw Pv(e,...n)}function $r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yf(e),new Error(e)}function es(t,e){t||$r(e)}function Ay(){return typeof self<"u"&&self.location?.href||""}function DO(){return aw()==="http:"||aw()==="https:"}function aw(){return typeof self<"u"&&self.location?.protocol||null}function kO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DO()||rN()||"connection"in navigator)?navigator.onLine:!0}function MO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class zc{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=tN()||sN()}get(){return kO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vv(t,e){es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class BA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const OO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PO=new zc(3e4,6e4);function ss(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Yi(t,e,n,r,a={}){return FA(t,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const h=jc({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...l};return iN()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ua(t.emulatorConfig.host)&&(p.credentials="include"),BA.fetch()(await qA(t,t.config.apiHost,n,h),p)})}async function FA(t,e,n){t._canInitEmulator=!1;const r={...NO,...e};try{const a=new LO(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Mf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mf(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Mf(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Mf(t,"user-disabled",u);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Ov(t,y,p);Si(t,y)}}catch(a){if(a instanceof Ar)throw a;Si(t,"network-request-failed",{message:String(a)})}}async function Bc(t,e,n,r,a={}){const l=await Yi(t,e,n,r,a);return"mfaPendingCredential"in l&&Si(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function qA(t,e,n,r){const a=`${e}${n}?${r}`,l=t,u=l.config.emulator?Vv(t.config,a):`${t.config.apiScheme}://${a}`;return OO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function VO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qi(this.auth,"network-request-failed")),PO.get())})}}function Mf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=qi(t,e,r);return a.customData._tokenResponse=n,a}function ow(t){return t!==void 0&&t.enterprise!==void 0}class UO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jO(t,e){return Yi(t,"GET","/v2/recaptchaConfig",ss(t,e))}async function zO(t,e){return Yi(t,"POST","/v1/accounts:delete",e)}async function gd(t,e){return Yi(t,"POST","/v1/accounts:lookup",e)}function cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BO(t,e=!1){const n=wt(t),r=await n.getIdToken(e),a=Lv(r);ze(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:r,authTime:cc(Fg(a.auth_time)),issuedAtTime:cc(Fg(a.iat)),expirationTime:cc(Fg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Fg(t){return Number(t)*1e3}function Lv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yf("JWT malformed, contained fewer than 3 sections"),null;try{const a=IA(n);return a?JSON.parse(a):(Yf("Failed to decode base64 JWT payload"),null)}catch(a){return Yf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function lw(t){const e=Lv(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function so(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ar&&FO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class qO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Cy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yd(t){const e=t.auth,n=await t.getIdToken(),r=await so(t,gd(e,{idToken:n}));ze(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?HA(a.providerUserInfo):[],u=GO(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Cy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function HO(t){const e=wt(t);await yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GO(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function HA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function $O(t,e){const n=await FA(t,{},async()=>{const r=jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await qA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&ua(t.emulatorConfig.host)&&(d.credentials="include"),BA.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YO(t,e){return Yi(t,"POST","/v2/accounts:revokeToken",ss(t,e))}class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=lw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await $O(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,u=new dl;return r&&(ze(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(ze(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(ze(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return $r("not implemented")}}function zs(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fi{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new qO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Cy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await so(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BO(this,e)}reload(){return HO(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await so(this,zO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:x,providerData:N,stsTokenManager:P}=n;ze(v&&P,e,"internal-error");const F=dl.fromJSON(this.name,P);ze(typeof v=="string",e,"internal-error"),zs(r,e.name),zs(a,e.name),ze(typeof T=="boolean",e,"internal-error"),ze(typeof x=="boolean",e,"internal-error"),zs(l,e.name),zs(u,e.name),zs(h,e.name),zs(d,e.name),zs(p,e.name),zs(y,e.name);const B=new Fi({uid:v,auth:e,email:a,emailVerified:T,displayName:r,isAnonymous:x,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:F,createdAt:p,lastLoginAt:y});return N&&Array.isArray(N)&&(B.providerData=N.map(U=>({...U}))),d&&(B._redirectEventId=d),B}static async _fromIdTokenResponse(e,n,r=!1){const a=new dl;a.updateFromServerResponse(n);const l=new Fi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await yd(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];ze(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?HA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new dl;h.updateFromIdToken(r);const d=new Fi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Cy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}const uw=new Map;function Yr(t){es(t instanceof Function,"Expected a class definition");let e=uw.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uw.set(t,e),e)}class GA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GA.type="NONE";const cw=GA;function Kf(t,e,n){return`firebase:${t}:${e}:${n}`}class ml{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Kf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Kf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gd(this.auth,{idToken:e}).catch(()=>{});return n?Fi._fromGetAccountInfoResponse(this.auth,n,e):null}return Fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ml(Yr(cw),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Yr(cw);const u=Kf(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const T=await gd(e,{idToken:y}).catch(()=>{});if(!T)break;v=await Fi._fromGetAccountInfoResponse(e,T,y)}else v=Fi._fromJSON(e,y);p!==l&&(h=v),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new ml(l,e,r):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new ml(l,e,r))}}function hw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($A(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XA(e))return"Blackberry";if(JA(e))return"Webos";if(YA(e))return"Safari";if((e.includes("chrome/")||KA(e))&&!e.includes("edge/"))return"Chrome";if(QA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function $A(t=Dn()){return/firefox\//i.test(t)}function YA(t=Dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KA(t=Dn()){return/crios\//i.test(t)}function WA(t=Dn()){return/iemobile/i.test(t)}function QA(t=Dn()){return/android/i.test(t)}function XA(t=Dn()){return/blackberry/i.test(t)}function JA(t=Dn()){return/webos/i.test(t)}function Uv(t=Dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KO(t=Dn()){return Uv(t)&&!!window.navigator?.standalone}function WO(){return aN()&&document.documentMode===10}function ZA(t=Dn()){return Uv(t)||QA(t)||JA(t)||XA(t)||/windows phone/i.test(t)||WA(t)}function eC(t,e=[]){let n;switch(t){case"Browser":n=hw(Dn());break;case"Worker":n=`${hw(Dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ml}/${r}`}class QO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function XO(t,e={}){return Yi(t,"GET","/v2/passwordPolicy",ss(t,e))}const JO=6;class ZO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??JO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class eP{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fw(this),this.idTokenSubscription=new fw(this),this.beforeStateQueue=new QO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ml.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gd(this,{idToken:e}),r=await Fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(Wr(this));const n=e?wt(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XO(this),n=new ZO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yr(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function as(t){return wt(t)}class fw{constructor(e){this.auth=e,this.observer=null,this.addObserver=mN(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let tm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tP(t){tm=t}function tC(t){return tm.loadJS(t)}function nP(){return tm.recaptchaEnterpriseScript}function iP(){return tm.gapiScript}function rP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class sP{constructor(){this.enterprise=new aP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class aP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const oP="recaptcha-enterprise",nC="NO_RECAPTCHA";class lP{constructor(e){this.type=oP,this.auth=as(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{jO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new UO(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;ow(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(nC)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sP().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(h=>{if(!n&&ow(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=nP();d.length!==0&&(d+=h),tC(d).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function dw(t,e,n,r=!1,a=!1){const l=new lP(t);let u;if(a)u=nC;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function vd(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await dw(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await dw(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}function uP(t,e){const n=em(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(io(l,e??{}))return a;Si(a,"already-initialized")}return n.initialize({options:e})}function cP(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Yr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function hP(t,e,n){const r=as(t);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=iC(e),{host:u,port:h}=fP(e),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(io(p,r.config.emulator)&&io(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,ua(u)?(Iv(`${l}//${u}${d}`),Dv("Auth",!0)):dP()}function iC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fP(t){const e=iC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:mw(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:mw(u)}}}function mw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class jv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function mP(t,e){return Yi(t,"POST","/v1/accounts:update",e)}async function pP(t,e){return Yi(t,"POST","/v1/accounts:signUp",e)}async function gP(t,e){return Bc(t,"POST","/v1/accounts:signInWithPassword",ss(t,e))}async function rC(t,e){return Yi(t,"POST","/v1/accounts:sendOobCode",ss(t,e))}async function yP(t,e){return rC(t,e)}async function vP(t,e){return rC(t,e)}async function _P(t,e){return Bc(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,e))}async function bP(t,e){return Bc(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,e))}class Ec extends jv{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Ec(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ec(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vd(e,n,"signInWithPassword",gP);case"emailLink":return _P(e,{email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vd(e,r,"signUpPassword",pP);case"emailLink":return bP(e,{idToken:n,email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function pl(t,e){return Bc(t,"POST","/v1/accounts:signInWithIdp",ss(t,e))}const TP="http://localhost";class ao extends jv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const u=new ao(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return pl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pl(e,n)}buildRequest(){const e={requestUri:TP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jc(n)}return e}}function EP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wP(t){const e=tc(nc(t)).link,n=e?tc(nc(e)).deep_link_id:null,r=tc(nc(t)).deep_link_id;return(r?tc(nc(r)).link:null)||r||n||e||t}class zv{constructor(e){const n=tc(nc(e)),r=n.apiKey??null,a=n.oobCode??null,l=EP(n.mode??null);ze(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=wP(e);try{return new zv(n)}catch{return null}}}class Nl{constructor(){this.providerId=Nl.PROVIDER_ID}static credential(e,n){return Ec._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zv.parseLink(n);return ze(r,"argument-error"),Ec._fromEmailAndCode(e,r.code,r.tenantId)}}Nl.PROVIDER_ID="password";Nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Bv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fc extends Bv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hs extends Fc{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";class Gs extends Fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ao._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gs.credential(n,r)}catch{return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com";Gs.PROVIDER_ID="google.com";class $s extends Fc{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com";$s.PROVIDER_ID="github.com";class Ys extends Fc{constructor(){super("twitter.com")}static credential(e,n){return ao._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ys.credential(n,r)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";async function SP(t,e){return Bc(t,"POST","/v1/accounts:signUp",ss(t,e))}class oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Fi._fromIdTokenResponse(e,r,a),u=pw(r);return new oo({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=pw(r);return new oo({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function pw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class _d extends Ar{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,_d.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new _d(e,n,r,a)}}function sC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?_d._fromErrorAndOperation(t,l,e,r):l})}async function AP(t,e,n=!1){const r=await so(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oo._forOperation(t,"link",r)}async function aC(t,e,n=!1){const{auth:r}=t;if(Hn(r.app))return Promise.reject(Wr(r));const a="reauthenticate";try{const l=await so(t,sC(r,a,e,t),n);ze(l.idToken,r,"internal-error");const u=Lv(l.idToken);ze(u,r,"internal-error");const{sub:h}=u;return ze(t.uid===h,r,"user-mismatch"),oo._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Si(r,"user-mismatch"),l}}async function oC(t,e,n=!1){if(Hn(t.app))return Promise.reject(Wr(t));const r="signIn",a=await sC(t,r,e),l=await oo._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function CP(t,e){return oC(as(t),e)}async function n7(t,e){return aC(wt(t),e)}async function lC(t){const e=as(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function i7(t,e,n){const r=as(t);await vd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",vP)}async function r7(t,e,n){if(Hn(t.app))return Promise.reject(Wr(t));const r=as(t),u=await vd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SP).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&lC(t),d}),h=await oo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function s7(t,e,n){return Hn(t.app)?Promise.reject(Wr(t)):CP(wt(t),Nl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lC(t),r})}async function a7(t,e){const n=wt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await yP(n.auth,a);l!==t.email&&await t.reload()}async function RP(t,e){return Yi(t,"POST","/v1/accounts:update",e)}async function o7(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=wt(t),l={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await so(r,RP(r.auth,l));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function l7(t,e){return xP(wt(t),null,e)}async function xP(t,e,n){const{auth:r}=t,l={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(l.password=n);const u=await so(t,mP(r,l));await t._updateTokensIfNecessary(u,!0)}function IP(t,e,n,r){return wt(t).onIdTokenChanged(e,n,r)}function DP(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}function kP(t,e,n,r){return wt(t).onAuthStateChanged(e,n,r)}function uC(t){return wt(t).signOut()}const bd="__sak";class cC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bd,"1"),this.storage.removeItem(bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const MP=1e3,NP=10;class hC extends cC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);WO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,NP):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},MP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hC.type="LOCAL";const OP=hC;class fC extends cC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fC.type="SESSION";const dC=fC;function PP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class nm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new nm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),d=await PP(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nm.receivers=[];function Fv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class VP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=Fv("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function vr(){return window}function LP(t){vr().location.href=t}function mC(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function UP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jP(){return navigator?.serviceWorker?.controller||null}function zP(){return mC()?self:null}const pC="firebaseLocalStorageDb",BP=1,Td="firebaseLocalStorage",gC="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function im(t,e){return t.transaction([Td],e?"readwrite":"readonly").objectStore(Td)}function FP(){const t=indexedDB.deleteDatabase(pC);return new qc(t).toPromise()}function Ry(){const t=indexedDB.open(pC,BP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Td,{keyPath:gC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Td)?e(r):(r.close(),await FP(),e(await Ry()))})})}async function gw(t,e,n){const r=im(t,!0).put({[gC]:e,value:n});return new qc(r).toPromise()}async function qP(t,e){const n=im(t,!1).get(e),r=await new qc(n).toPromise();return r===void 0?null:r.value}function yw(t,e){const n=im(t,!0).delete(e);return new qc(n).toPromise()}const HP=800,GP=3;class yC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ry(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>GP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nm._getInstance(zP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await UP(),!this.activeServiceWorker)return;this.sender=new VP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ry();return await gw(e,bd,"1"),await yw(e,bd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=im(a,!1).getAll();return new qc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yC.type="LOCAL";const $P=yC;new zc(3e4,6e4);function vC(t,e){return e?Yr(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class qv extends jv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YP(t){return oC(t.auth,new qv(t),t.bypassAuthState)}function KP(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),aC(n,new qv(t),t.bypassAuthState)}async function WP(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),AP(n,new qv(t),t.bypassAuthState)}class _C{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YP;case"linkViaPopup":case"linkViaRedirect":return WP;case"reauthViaPopup":case"reauthViaRedirect":return KP;default:Si(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QP=new zc(2e3,1e4);async function u7(t,e,n){if(Hn(t.app))return Promise.reject(qi(t,"operation-not-supported-in-this-environment"));const r=as(t);IO(t,e,Bv);const a=vC(r,n);return new Wa(r,"signInViaPopup",e,a).executeNotNull()}class Wa extends _C{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Fv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QP.get())};e()}}Wa.currentPopupAction=null;const XP="pendingRedirect",Wf=new Map;class JP extends _C{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wf.get(this.auth._key());if(!e){try{const r=await ZP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wf.set(this.auth._key(),e)}return this.bypassAuthState||Wf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZP(t,e){const n=nV(e),r=tV(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function eV(t,e){Wf.set(t._key(),e)}function tV(t){return Yr(t._redirectPersistence)}function nV(t){return Kf(XP,t.config.apiKey,t.name)}async function iV(t,e,n=!1){if(Hn(t.app))return Promise.reject(Wr(t));const r=as(t),a=vC(r,e),u=await new JP(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const rV=600*1e3;class sV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!bC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(qi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rV&&this.cachedEventUids.clear(),this.cachedEventUids.has(vw(e))}saveEventToCache(e){this.cachedEventUids.add(vw(e)),this.lastProcessedEventTime=Date.now()}}function vw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function aV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bC(t);default:return!1}}async function oV(t,e={}){return Yi(t,"GET","/v1/projects",e)}const lV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uV=/^https?/;async function cV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oV(t);for(const n of e)try{if(hV(n))return}catch{}Si(t,"unauthorized-domain")}function hV(t){const e=Ay(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!uV.test(n))return!1;if(lV.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const fV=new zc(3e4,6e4);function _w(){const t=vr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dV(t){return new Promise((e,n)=>{function r(){_w(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_w(),n(qi(t,"network-request-failed"))},timeout:fV.get()})}if(vr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(vr().gapi?.load)r();else{const a=rP("iframefcb");return vr()[a]=()=>{gapi.load?r():n(qi(t,"network-request-failed"))},tC(`${iP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Qf=null,e})}let Qf=null;function mV(t){return Qf=Qf||dV(t),Qf}const pV=new zc(5e3,15e3),gV="__/auth/iframe",yV="emulator/auth/iframe",vV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_V=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bV(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vv(e,yV):`https://${t.config.authDomain}/${gV}`,r={apiKey:e.apiKey,appName:t.name,v:Ml},a=_V.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${jc(r).slice(1)}`}async function TV(t){const e=await mV(t),n=vr().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:bV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vV,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=qi(t,"network-request-failed"),h=vr().setTimeout(()=>{l(u)},pV.get());function d(){vr().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{l(u)})}))}const EV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wV=500,SV=600,AV="_blank",CV="http://localhost";class bw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RV(t,e,n,r=wV,a=SV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...EV,width:r.toString(),height:a.toString(),top:l,left:u},p=Dn().toLowerCase();n&&(h=KA(p)?AV:n),$A(p)&&(e=e||CV,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[x,N])=>`${T}${x}=${N},`,"");if(KO(p)&&h!=="_self")return xV(e||"",h),new bw(null);const v=window.open(e||"",h,y);ze(v,t,"popup-blocked");try{v.focus()}catch{}return new bw(v)}function xV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const IV="__/auth/handler",DV="emulator/auth/handler",kV=encodeURIComponent("fac");async function Tw(t,e,n,r,a,l){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ml,eventId:a};if(e instanceof Bv){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",dN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Fc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),p=d?`#${kV}=${encodeURIComponent(d)}`:"";return`${MV(t)}?${jc(h).slice(1)}${p}`}function MV({config:t}){return t.emulator?Vv(t,DV):`https://${t.authDomain}/${IV}`}const qg="webStorageSupport";class NV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dC,this._completeRedirectFn=iV,this._overrideRedirectResult=eV}async _openPopup(e,n,r,a){es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Tw(e,n,r,Ay(),a);return RV(e,l,Fv())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await Tw(e,n,r,Ay(),a);return LP(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(es(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TV(e),r=new sV(e);return n.register("authEvent",a=>(ze(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qg,{type:qg},a=>{const l=a?.[0]?.[qg];l!==void 0&&n(!!l),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZA()||YA()||Uv()}}const OV=NV;var Ew="@firebase/auth",ww="1.12.0";class PV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function VV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LV(t){ro(new ea("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;ze(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eC(t)},p=new eP(r,a,l,d);return cP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ro(new ea("auth-internal",e=>{const n=as(e.getProvider("auth").getImmediate());return(r=>new PV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(Ew,ww,VV(t)),yr(Ew,ww,"esm2020")}const UV=300,jV=NA("authIdTokenMaxAge")||UV;let Sw=null;const zV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jV)return;const a=n?.token;Sw!==a&&(Sw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function BV(t=Nv()){const e=em(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uP(t,{popupRedirectResolver:OV,persistence:[$P,OP,dC]}),r=NA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=zV(l.toString());DP(n,u,()=>u(n.currentUser)),IP(n,h=>u(h))}}const a=DA("auth");return a&&hP(n,`http://${a}`),n}function FV(){return document.getElementsByTagName("head")?.[0]??document}tP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=qi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",FV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LV("Browser");var Aw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,TC;(function(){var t;function e(A,S){function D(){}D.prototype=S.prototype,A.F=S.prototype,A.prototype=new D,A.prototype.constructor=A,A.D=function(O,V,k){for(var C=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)C[Y-2]=arguments[Y];return S.prototype[V].apply(O,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(A,S,D){D||(D=0);const O=Array(16);if(typeof S=="string")for(var V=0;V<16;++V)O[V]=S.charCodeAt(D++)|S.charCodeAt(D++)<<8|S.charCodeAt(D++)<<16|S.charCodeAt(D++)<<24;else for(V=0;V<16;++V)O[V]=S[D++]|S[D++]<<8|S[D++]<<16|S[D++]<<24;S=A.g[0],D=A.g[1],V=A.g[2];let k=A.g[3],C;C=S+(k^D&(V^k))+O[0]+3614090360&4294967295,S=D+(C<<7&4294967295|C>>>25),C=k+(V^S&(D^V))+O[1]+3905402710&4294967295,k=S+(C<<12&4294967295|C>>>20),C=V+(D^k&(S^D))+O[2]+606105819&4294967295,V=k+(C<<17&4294967295|C>>>15),C=D+(S^V&(k^S))+O[3]+3250441966&4294967295,D=V+(C<<22&4294967295|C>>>10),C=S+(k^D&(V^k))+O[4]+4118548399&4294967295,S=D+(C<<7&4294967295|C>>>25),C=k+(V^S&(D^V))+O[5]+1200080426&4294967295,k=S+(C<<12&4294967295|C>>>20),C=V+(D^k&(S^D))+O[6]+2821735955&4294967295,V=k+(C<<17&4294967295|C>>>15),C=D+(S^V&(k^S))+O[7]+4249261313&4294967295,D=V+(C<<22&4294967295|C>>>10),C=S+(k^D&(V^k))+O[8]+1770035416&4294967295,S=D+(C<<7&4294967295|C>>>25),C=k+(V^S&(D^V))+O[9]+2336552879&4294967295,k=S+(C<<12&4294967295|C>>>20),C=V+(D^k&(S^D))+O[10]+4294925233&4294967295,V=k+(C<<17&4294967295|C>>>15),C=D+(S^V&(k^S))+O[11]+2304563134&4294967295,D=V+(C<<22&4294967295|C>>>10),C=S+(k^D&(V^k))+O[12]+1804603682&4294967295,S=D+(C<<7&4294967295|C>>>25),C=k+(V^S&(D^V))+O[13]+4254626195&4294967295,k=S+(C<<12&4294967295|C>>>20),C=V+(D^k&(S^D))+O[14]+2792965006&4294967295,V=k+(C<<17&4294967295|C>>>15),C=D+(S^V&(k^S))+O[15]+1236535329&4294967295,D=V+(C<<22&4294967295|C>>>10),C=S+(V^k&(D^V))+O[1]+4129170786&4294967295,S=D+(C<<5&4294967295|C>>>27),C=k+(D^V&(S^D))+O[6]+3225465664&4294967295,k=S+(C<<9&4294967295|C>>>23),C=V+(S^D&(k^S))+O[11]+643717713&4294967295,V=k+(C<<14&4294967295|C>>>18),C=D+(k^S&(V^k))+O[0]+3921069994&4294967295,D=V+(C<<20&4294967295|C>>>12),C=S+(V^k&(D^V))+O[5]+3593408605&4294967295,S=D+(C<<5&4294967295|C>>>27),C=k+(D^V&(S^D))+O[10]+38016083&4294967295,k=S+(C<<9&4294967295|C>>>23),C=V+(S^D&(k^S))+O[15]+3634488961&4294967295,V=k+(C<<14&4294967295|C>>>18),C=D+(k^S&(V^k))+O[4]+3889429448&4294967295,D=V+(C<<20&4294967295|C>>>12),C=S+(V^k&(D^V))+O[9]+568446438&4294967295,S=D+(C<<5&4294967295|C>>>27),C=k+(D^V&(S^D))+O[14]+3275163606&4294967295,k=S+(C<<9&4294967295|C>>>23),C=V+(S^D&(k^S))+O[3]+4107603335&4294967295,V=k+(C<<14&4294967295|C>>>18),C=D+(k^S&(V^k))+O[8]+1163531501&4294967295,D=V+(C<<20&4294967295|C>>>12),C=S+(V^k&(D^V))+O[13]+2850285829&4294967295,S=D+(C<<5&4294967295|C>>>27),C=k+(D^V&(S^D))+O[2]+4243563512&4294967295,k=S+(C<<9&4294967295|C>>>23),C=V+(S^D&(k^S))+O[7]+1735328473&4294967295,V=k+(C<<14&4294967295|C>>>18),C=D+(k^S&(V^k))+O[12]+2368359562&4294967295,D=V+(C<<20&4294967295|C>>>12),C=S+(D^V^k)+O[5]+4294588738&4294967295,S=D+(C<<4&4294967295|C>>>28),C=k+(S^D^V)+O[8]+2272392833&4294967295,k=S+(C<<11&4294967295|C>>>21),C=V+(k^S^D)+O[11]+1839030562&4294967295,V=k+(C<<16&4294967295|C>>>16),C=D+(V^k^S)+O[14]+4259657740&4294967295,D=V+(C<<23&4294967295|C>>>9),C=S+(D^V^k)+O[1]+2763975236&4294967295,S=D+(C<<4&4294967295|C>>>28),C=k+(S^D^V)+O[4]+1272893353&4294967295,k=S+(C<<11&4294967295|C>>>21),C=V+(k^S^D)+O[7]+4139469664&4294967295,V=k+(C<<16&4294967295|C>>>16),C=D+(V^k^S)+O[10]+3200236656&4294967295,D=V+(C<<23&4294967295|C>>>9),C=S+(D^V^k)+O[13]+681279174&4294967295,S=D+(C<<4&4294967295|C>>>28),C=k+(S^D^V)+O[0]+3936430074&4294967295,k=S+(C<<11&4294967295|C>>>21),C=V+(k^S^D)+O[3]+3572445317&4294967295,V=k+(C<<16&4294967295|C>>>16),C=D+(V^k^S)+O[6]+76029189&4294967295,D=V+(C<<23&4294967295|C>>>9),C=S+(D^V^k)+O[9]+3654602809&4294967295,S=D+(C<<4&4294967295|C>>>28),C=k+(S^D^V)+O[12]+3873151461&4294967295,k=S+(C<<11&4294967295|C>>>21),C=V+(k^S^D)+O[15]+530742520&4294967295,V=k+(C<<16&4294967295|C>>>16),C=D+(V^k^S)+O[2]+3299628645&4294967295,D=V+(C<<23&4294967295|C>>>9),C=S+(V^(D|~k))+O[0]+4096336452&4294967295,S=D+(C<<6&4294967295|C>>>26),C=k+(D^(S|~V))+O[7]+1126891415&4294967295,k=S+(C<<10&4294967295|C>>>22),C=V+(S^(k|~D))+O[14]+2878612391&4294967295,V=k+(C<<15&4294967295|C>>>17),C=D+(k^(V|~S))+O[5]+4237533241&4294967295,D=V+(C<<21&4294967295|C>>>11),C=S+(V^(D|~k))+O[12]+1700485571&4294967295,S=D+(C<<6&4294967295|C>>>26),C=k+(D^(S|~V))+O[3]+2399980690&4294967295,k=S+(C<<10&4294967295|C>>>22),C=V+(S^(k|~D))+O[10]+4293915773&4294967295,V=k+(C<<15&4294967295|C>>>17),C=D+(k^(V|~S))+O[1]+2240044497&4294967295,D=V+(C<<21&4294967295|C>>>11),C=S+(V^(D|~k))+O[8]+1873313359&4294967295,S=D+(C<<6&4294967295|C>>>26),C=k+(D^(S|~V))+O[15]+4264355552&4294967295,k=S+(C<<10&4294967295|C>>>22),C=V+(S^(k|~D))+O[6]+2734768916&4294967295,V=k+(C<<15&4294967295|C>>>17),C=D+(k^(V|~S))+O[13]+1309151649&4294967295,D=V+(C<<21&4294967295|C>>>11),C=S+(V^(D|~k))+O[4]+4149444226&4294967295,S=D+(C<<6&4294967295|C>>>26),C=k+(D^(S|~V))+O[11]+3174756917&4294967295,k=S+(C<<10&4294967295|C>>>22),C=V+(S^(k|~D))+O[2]+718787259&4294967295,V=k+(C<<15&4294967295|C>>>17),C=D+(k^(V|~S))+O[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,A.g[2]=A.g[2]+V&4294967295,A.g[3]=A.g[3]+k&4294967295}r.prototype.v=function(A,S){S===void 0&&(S=A.length);const D=S-this.blockSize,O=this.C;let V=this.h,k=0;for(;k<S;){if(V==0)for(;k<=D;)a(this,A,k),k+=this.blockSize;if(typeof A=="string"){for(;k<S;)if(O[V++]=A.charCodeAt(k++),V==this.blockSize){a(this,O),V=0;break}}else for(;k<S;)if(O[V++]=A[k++],V==this.blockSize){a(this,O),V=0;break}}this.h=V,this.o+=S},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var D=A.length-8;D<A.length;++D)A[D]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,D=0;D<4;++D)for(let O=0;O<32;O+=8)A[S++]=this.g[D]>>>O&255;return A};function l(A,S){var D=h;return Object.prototype.hasOwnProperty.call(D,A)?D[A]:D[A]=S(A)}function u(A,S){this.h=S;const D=[];let O=!0;for(let V=A.length-1;V>=0;V--){const k=A[V]|0;O&&k==S||(D[V]=k,O=!1)}this.g=D}var h={};function d(A){return-128<=A&&A<128?l(A,function(S){return new u([S|0],S<0?-1:0)}):new u([A|0],A<0?-1:0)}function p(A){if(isNaN(A)||!isFinite(A))return v;if(A<0)return F(p(-A));const S=[];let D=1;for(let O=0;A>=D;O++)S[O]=A/D|0,D*=4294967296;return new u(S,0)}function y(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return F(y(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=p(Math.pow(S,8));let O=v;for(let k=0;k<A.length;k+=8){var V=Math.min(8,A.length-k);const C=parseInt(A.substring(k,k+V),S);V<8?(V=p(Math.pow(S,V)),O=O.j(V).add(p(C))):(O=O.j(D),O=O.add(p(C)))}return O}var v=d(0),T=d(1),x=d(16777216);t=u.prototype,t.m=function(){if(P(this))return-F(this).m();let A=0,S=1;for(let D=0;D<this.g.length;D++){const O=this.i(D);A+=(O>=0?O:4294967296+O)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N(this))return"0";if(P(this))return"-"+F(this).toString(A);const S=p(Math.pow(A,6));var D=this;let O="";for(;;){const V=ue(D,S).g;D=B(D,V.j(S));let k=((D.g.length>0?D.g[0]:D.h)>>>0).toString(A);if(D=V,N(D))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function N(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function P(A){return A.h==-1}t.l=function(A){return A=B(this,A),P(A)?-1:N(A)?0:1};function F(A){const S=A.g.length,D=[];for(let O=0;O<S;O++)D[O]=~A.g[O];return new u(D,~A.h).add(T)}t.abs=function(){return P(this)?F(this):this},t.add=function(A){const S=Math.max(this.g.length,A.g.length),D=[];let O=0;for(let V=0;V<=S;V++){let k=O+(this.i(V)&65535)+(A.i(V)&65535),C=(k>>>16)+(this.i(V)>>>16)+(A.i(V)>>>16);O=C>>>16,k&=65535,C&=65535,D[V]=C<<16|k}return new u(D,D[D.length-1]&-2147483648?-1:0)};function B(A,S){return A.add(F(S))}t.j=function(A){if(N(this)||N(A))return v;if(P(this))return P(A)?F(this).j(F(A)):F(F(this).j(A));if(P(A))return F(this.j(F(A)));if(this.l(x)<0&&A.l(x)<0)return p(this.m()*A.m());const S=this.g.length+A.g.length,D=[];for(var O=0;O<2*S;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<A.g.length;V++){const k=this.i(O)>>>16,C=this.i(O)&65535,Y=A.i(V)>>>16,$=A.i(V)&65535;D[2*O+2*V]+=C*$,U(D,2*O+2*V),D[2*O+2*V+1]+=k*$,U(D,2*O+2*V+1),D[2*O+2*V+1]+=C*Y,U(D,2*O+2*V+1),D[2*O+2*V+2]+=k*Y,U(D,2*O+2*V+2)}for(A=0;A<S;A++)D[A]=D[2*A+1]<<16|D[2*A];for(A=S;A<2*S;A++)D[A]=0;return new u(D,0)};function U(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function z(A,S){this.g=A,this.h=S}function ue(A,S){if(N(S))throw Error("division by zero");if(N(A))return new z(v,v);if(P(A))return S=ue(F(A),S),new z(F(S.g),F(S.h));if(P(S))return S=ue(A,F(S)),new z(F(S.g),S.h);if(A.g.length>30){if(P(A)||P(S))throw Error("slowDivide_ only works with positive integers.");for(var D=T,O=S;O.l(A)<=0;)D=L(D),O=L(O);var V=X(D,1),k=X(O,1);for(O=X(O,2),D=X(D,2);!N(O);){var C=k.add(O);C.l(A)<=0&&(V=V.add(D),k=C),O=X(O,1),D=X(D,1)}return S=B(A,V.j(S)),new z(V,S)}for(V=v;A.l(S)>=0;){for(D=Math.max(1,Math.floor(A.m()/S.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=p(D),C=k.j(S);P(C)||C.l(A)>0;)D-=O,k=p(D),C=k.j(S);N(k)&&(k=T),V=V.add(k),A=B(A,C)}return new z(V,A)}t.B=function(A){return ue(this,A).h},t.and=function(A){const S=Math.max(this.g.length,A.g.length),D=[];for(let O=0;O<S;O++)D[O]=this.i(O)&A.i(O);return new u(D,this.h&A.h)},t.or=function(A){const S=Math.max(this.g.length,A.g.length),D=[];for(let O=0;O<S;O++)D[O]=this.i(O)|A.i(O);return new u(D,this.h|A.h)},t.xor=function(A){const S=Math.max(this.g.length,A.g.length),D=[];for(let O=0;O<S;O++)D[O]=this.i(O)^A.i(O);return new u(D,this.h^A.h)};function L(A){const S=A.g.length+1,D=[];for(let O=0;O<S;O++)D[O]=A.i(O)<<1|A.i(O-1)>>>31;return new u(D,A.h)}function X(A,S){const D=S>>5;S%=32;const O=A.g.length-D,V=[];for(let k=0;k<O;k++)V[k]=S>0?A.i(k+D)>>>S|A.i(k+D+1)<<32-S:A.i(k+D);return new u(V,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,TC=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Js=u}).apply(typeof Aw<"u"?Aw:typeof self<"u"?self:typeof window<"u"?window:{});var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var EC,ic,wC,Xf,xy,SC,AC,CC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nf=="object"&&Nf];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(f,_){if(_)e:{var E=r;f=f.split(".");for(var I=0;I<f.length-1;I++){var Q=f[I];if(!(Q in E))break e;E=E[Q]}f=f[f.length-1],I=E[f],_=_(I),_!=I&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var E=[],I;for(I in _)Object.prototype.hasOwnProperty.call(_,I)&&E.push([I,_[I]]);return E}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function p(f,_,E){return p=d,p.apply(null,arguments)}function y(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(I,Q,se){for(var ve=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ve[$e-2]=arguments[$e];return _.prototype[Q].apply(I,ve)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function x(f){const _=f.length;if(_>0){const E=Array(_);for(let I=0;I<_;I++)E[I]=f[I];return E}return[]}function N(f,_){for(let I=1;I<arguments.length;I++){const Q=arguments[I];var E=typeof Q;if(E=E!="object"?E:Q?Array.isArray(Q)?"array":E:"null",E=="array"||E=="object"&&typeof Q.length=="number"){E=f.length||0;const se=Q.length||0;f.length=E+se;for(let ve=0;ve<se;ve++)f[E+ve]=Q[ve]}else f.push(Q)}}class P{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function F(f){u.setTimeout(()=>{throw f},0)}function B(){var f=A;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class U{constructor(){this.h=this.g=null}add(_,E){const I=z.get();I.set(_,E),this.h?this.h.next=I:this.g=I,this.h=I}}var z=new P(()=>new ue,f=>f.reset());class ue{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let L,X=!1,A=new U,S=()=>{const f=Promise.resolve(void 0);L=()=>{f.then(D)}};function D(){for(var f;f=B();){try{f.h.call(f.g)}catch(E){F(E)}var _=z;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}X=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return f})();function C(f){return/^[\s\xa0]*$/.test(f)}function Y(f,_){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Y,V),Y.prototype.init=function(f,_){const E=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Y.Z.h.call(this)},Y.prototype.h=function(){Y.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var $="closure_listenable_"+(Math.random()*1e6|0),H=0;function te(f,_,E,I,Q){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!I,this.ha=Q,this.key=++H,this.da=this.fa=!1}function W(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function _e(f,_,E){for(const I in f)_.call(E,f[I],I,f)}function Pe(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function q(f){const _={};for(const E in f)_[E]=f[E];return _}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(f,_){let E,I;for(let Q=1;Q<arguments.length;Q++){I=arguments[Q];for(E in I)f[E]=I[E];for(let se=0;se<ae.length;se++)E=ae[se],Object.prototype.hasOwnProperty.call(I,E)&&(f[E]=I[E])}}function ne(f){this.src=f,this.g={},this.h=0}ne.prototype.add=function(f,_,E,I,Q){const se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);const ve=J(f,_,I,Q);return ve>-1?(_=f[ve],E||(_.fa=!1)):(_=new te(_,this.src,se,!!I,Q),_.fa=E,f.push(_)),_};function ie(f,_){const E=_.type;if(E in f.g){var I=f.g[E],Q=Array.prototype.indexOf.call(I,_,void 0),se;(se=Q>=0)&&Array.prototype.splice.call(I,Q,1),se&&(W(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function J(f,_,E,I){for(let Q=0;Q<f.length;++Q){const se=f[Q];if(!se.da&&se.listener==_&&se.capture==!!E&&se.ha==I)return Q}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Ee={};function de(f,_,E,I,Q){if(Array.isArray(_)){for(let se=0;se<_.length;se++)de(f,_[se],E,I,Q);return null}return E=Fe(E),f&&f[$]?f.J(_,E,h(I)?!!I.capture:!1,Q):Ue(f,_,E,!1,I,Q)}function Ue(f,_,E,I,Q,se){if(!_)throw Error("Invalid event type");const ve=h(Q)?!!Q.capture:!!Q;let $e=we(f);if($e||(f[ge]=$e=new ne(f)),E=$e.add(_,E,I,ve,se),E.proxy)return E;if(I=We(),E.proxy=I,I.src=f,I.listener=E,f.addEventListener)k||(Q=ve),Q===void 0&&(Q=!1),f.addEventListener(_.toString(),I,Q);else if(f.attachEvent)f.attachEvent(ye(_.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function We(){function f(E){return _.call(f.src,f.listener,E)}const _=be;return f}function Ne(f,_,E,I,Q){if(Array.isArray(_))for(var se=0;se<_.length;se++)Ne(f,_[se],E,I,Q);else I=h(I)?!!I.capture:!!I,E=Fe(E),f&&f[$]?(f=f.i,se=String(_).toString(),se in f.g&&(_=f.g[se],E=J(_,E,I,Q),E>-1&&(W(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[se],f.h--)))):f&&(f=we(f))&&(_=f.g[_.toString()],f=-1,_&&(f=J(_,E,I,Q)),(E=f>-1?_[f]:null)&&Ot(E))}function Ot(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[$])ie(_.i,f);else{var E=f.type,I=f.proxy;_.removeEventListener?_.removeEventListener(E,I,f.capture):_.detachEvent?_.detachEvent(ye(E),I):_.addListener&&_.removeListener&&_.removeListener(I),(E=we(_))?(ie(E,f),E.h==0&&(E.src=null,_[ge]=null)):W(f)}}}function ye(f){return f in Ee?Ee[f]:Ee[f]="on"+f}function be(f,_){if(f.da)f=!0;else{_=new Y(_,this);const E=f.listener,I=f.ha||f.src;f.fa&&Ot(f),f=E.call(I,_)}return f}function we(f){return f=f[ge],f instanceof ne?f:null}var Se="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fe(f){return typeof f=="function"?f:(f[Se]||(f[Se]=function(_){return f.handleEvent(_)}),f[Se])}function Ae(){O.call(this),this.i=new ne(this),this.M=this,this.G=null}v(Ae,O),Ae.prototype[$]=!0,Ae.prototype.removeEventListener=function(f,_,E,I){Ne(this,f,_,E,I)};function Me(f,_){var E,I=f.G;if(I)for(E=[];I;I=I.G)E.push(I);if(f=f.M,I=_.type||_,typeof _=="string")_=new V(_,f);else if(_ instanceof V)_.target=_.target||f;else{var Q=_;_=new V(I,f),pe(_,Q)}Q=!0;let se,ve;if(E)for(ve=E.length-1;ve>=0;ve--)se=_.g=E[ve],Q=Xe(se,I,!0,_)&&Q;if(se=_.g=f,Q=Xe(se,I,!0,_)&&Q,Q=Xe(se,I,!1,_)&&Q,E)for(ve=0;ve<E.length;ve++)se=_.g=E[ve],Q=Xe(se,I,!1,_)&&Q}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let I=0;I<E.length;I++)W(E[I]);delete f.g[_],f.h--}}this.G=null},Ae.prototype.J=function(f,_,E,I){return this.i.add(String(f),_,!1,E,I)},Ae.prototype.K=function(f,_,E,I){return this.i.add(String(f),_,!0,E,I)};function Xe(f,_,E,I){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let Q=!0;for(let se=0;se<_.length;++se){const ve=_[se];if(ve&&!ve.da&&ve.capture==E){const $e=ve.listener,Bt=ve.ha||ve.src;ve.fa&&ie(f.i,ve),Q=$e.call(Bt,I)!==!1&&Q}}return Q&&!I.defaultPrevented}function Hl(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function th(f){f.g=Hl(()=>{f.g=null,f.i&&(f.i=!1,th(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class kn extends O{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:th(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(f){O.call(this),this.h=f,this.g={}}v(ma,O);var Gl=[];function $l(f){_e(f.g,function(_,E){this.g.hasOwnProperty(E)&&Ot(_)},f),f.g={}}ma.prototype.N=function(){ma.Z.N.call(this),$l(this)},ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=u.JSON.stringify,km=u.JSON.parse,nh=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function ih(){}function rh(){}var Ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mn(){V.call(this,"d")}v(mn,V);function ai(){V.call(this,"c")}v(ai,V);var zt={},sh=null;function go(){return sh=sh||new Ae}zt.Ia="serverreachability";function ah(f){V.call(this,zt.Ia,f)}v(ah,V);function Ki(f){const _=go();Me(_,new ah(_))}zt.STAT_EVENT="statevent";function pa(f,_){V.call(this,zt.STAT_EVENT,f),this.stat=_}v(pa,V);function $t(f){const _=go();Me(_,new pa(_,f))}zt.Ja="timingevent";function Wi(f,_){V.call(this,zt.Ja,f),this.size=_}v(Wi,V);function Qi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function xi(){this.g=!0}xi.prototype.ua=function(){this.g=!1};function Mm(f,_,E,I,Q,se){f.info(function(){if(f.g)if(se){var ve="",$e=se.split("&");for(let ut=0;ut<$e.length;ut++){var Bt=$e[ut].split("=");if(Bt.length>1){const xt=Bt[0];Bt=Bt[1];const ci=xt.split("_");ve=ci.length>=2&&ci[1]=="type"?ve+(xt+"="+Bt+"&"):ve+(xt+"=redacted&")}}}else ve=null;else ve=se;return"XMLHTTP REQ ("+I+") [attempt "+Q+"]: "+_+`
`+E+`
`+ve})}function oh(f,_,E,I,Q,se,ve){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Q+"]: "+_+`
`+E+`
`+se+" "+ve})}function Xi(f,_,E,I){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Nm(f,E)+(I?" "+I:"")})}function ga(f,_){f.info(function(){return"TIMEOUT: "+_})}xi.prototype.info=function(){};function Nm(f,_){if(!f.g)return _;if(!_)return null;try{const se=JSON.parse(_);if(se){for(f=0;f<se.length;f++)if(Array.isArray(se[f])){var E=se[f];if(!(E.length<2)){var I=E[1];if(Array.isArray(I)&&!(I.length<1)){var Q=I[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ve=1;ve<I.length;ve++)I[ve]=""}}}}return ls(se)}catch{return _}}var ya={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kl;function va(){}v(va,ih),va.prototype.g=function(){return new XMLHttpRequest},Kl=new va;function Cr(f){return encodeURIComponent(String(f))}function lh(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function Ii(f,_,E,I){this.j=f,this.i=_,this.l=E,this.S=I||1,this.V=new ma(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Di}function Di(){this.i=null,this.g="",this.h=!1}var Yt={},un={};function Ji(f,_,E){f.M=1,f.A=_a(Wt(_)),f.u=E,f.R=!0,yo(f,null)}function yo(f,_){f.F=Date.now(),Zi(f),f.B=Wt(f.A);var E=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),To(E.i,"t",I),f.C=0,E=f.j.L,f.h=new Di,f.g=wh(f.j,E?_:null,!f.u),f.P>0&&(f.O=new kn(p(f.Y,f,f.g),f.P)),_=f.V,E=f.g,I=f.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Gl[0]=Q.toString()),Q=Gl);for(let se=0;se<Q.length;se++){const ve=de(E,Q[se],I||_.handleEvent,!1,_.h||_);if(!ve)break;_.g[ve.key]=ve}_=f.J?q(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Ki(),Mm(f.i,f.v,f.B,f.l,f.S,f.u)}Ii.prototype.ba=function(f){f=f.target;const _=this.O;_&&Ni(f)==3?_.j():this.Y(f)},Ii.prototype.Y=function(f){try{if(f==this.g)e:{const $e=Ni(this.g),Bt=this.g.ya(),ut=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||pn(this.g)))){this.K||$e!=4||Bt==7||(Bt==8||ut<=0?Ki(3):Ki(2)),er(this);var _=this.g.ca();this.X=_;var E=Om(this);if(this.o=_==200,oh(this.i,this.v,this.B,this.l,this.S,$e,_),this.o){if(this.U&&!this.L){t:{if(this.g){var I,Q=this.g;if((I=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(I)){var se=I;break t}}se=null}if(f=se)Xi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tr(this,f);else{this.o=!1,this.m=3,$t(12),Kn(this),oi(this);break e}}if(this.R){f=!0;let xt;for(;!this.K&&this.C<E.length;)if(xt=ch(this,E),xt==un){$e==4&&(this.m=4,$t(14),f=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Yt){this.m=4,$t(15),Xi(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Xi(this.i,this.l,xt,null),tr(this,xt);if(uh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||E.length!=0||this.h.h||(this.m=1,$t(16),f=!1),this.o=this.o&&f,!f)Xi(this.i,this.l,E,"[Invalid Chunked Response]"),Kn(this),oi(this);else if(E.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),uu(ve),ve.P=!0,$t(11))}}else Xi(this.i,this.l,E,null),tr(this,E);$e==4&&Kn(this),this.o&&!this.K&&($e==4?_h(this.j,this):(this.o=!1,Zi(this)))}else xr(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,$t(12)):(this.m=0,$t(13)),Kn(this),oi(this)}}}catch{}};function Om(f){if(!uh(f))return f.g.la();const _=pn(f.g);if(_==="")return"";let E="";const I=_.length,Q=Ni(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Kn(f),oi(f),"";f.h.i=new u.TextDecoder}for(let se=0;se<I;se++)f.h.h=!0,E+=f.h.i.decode(_[se],{stream:!(Q&&se==I-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function uh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function ch(f,_){var E=f.C,I=_.indexOf(`
`,E);return I==-1?un:(E=Number(_.substring(E,I)),isNaN(E)?Yt:(I+=1,I+E>_.length?un:(_=_.slice(I,I+E),f.C=I+E,_)))}Ii.prototype.cancel=function(){this.K=!0,Kn(this)};function Zi(f){f.T=Date.now()+f.H,vo(f,f.H)}function vo(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Qi(p(f.aa,f),_)}function er(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Ii.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ga(this.i,this.B),this.M!=2&&(Ki(),$t(17)),Kn(this),this.m=2,oi(this)):vo(this,this.T-f)};function oi(f){f.j.I==0||f.K||_h(f.j,f)}function Kn(f){er(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,$l(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function tr(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||ir(E.h,f))){if(!f.L&&ir(E.h,f)&&E.I==3){try{var I=E.Ba.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Q=I;if(Q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)Co(E),gs(E);else break e;Ca(E),$t(18)}}else E.xa=Q[1],0<E.xa-E.K&&Q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Qi(p(E.Va,E),6e3));nr(E.h)<=1&&E.ta&&(E.ta=void 0)}else ur(E,11)}else if((f.L||E.g==f)&&Co(E),!C(_))for(Q=E.Ba.g.parse(_),_=0;_<Q.length;_++){let ut=Q[_];const xt=ut[0];if(!(xt<=E.K))if(E.K=xt,ut=ut[1],E.I==2)if(ut[0]=="c"){E.M=ut[1],E.ba=ut[2];const ci=ut[3];ci!=null&&(E.ka=ci,E.j.info("VER="+E.ka));const cr=ut[4];cr!=null&&(E.za=cr,E.j.info("SVER="+E.za));const Oi=ut[5];Oi!=null&&typeof Oi=="number"&&Oi>0&&(I=1.5*Oi,E.O=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Pi=f.g;if(Pi){const Ra=Pi.g?Pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ra){var se=I.h;se.g||Ra.indexOf("spdy")==-1&&Ra.indexOf("quic")==-1&&Ra.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Xl(se,se.h),se.h=null))}if(I.G){const Ro=Pi.g?Pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(I.wa=Ro,ft(I.J,I.G,Ro))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),I=E;var ve=f;if(I.na=Eh(I,I.L?I.ba:null,I.W),ve.L){Jl(I.h,ve);var $e=ve,Bt=I.O;Bt&&($e.H=Bt),$e.D&&(er($e),Zi($e)),I.g=ve}else yh(I);E.i.length>0&&lr(E)}else ut[0]!="stop"&&ut[0]!="close"||ur(E,7);else E.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?ur(E,7):ou(E):ut[0]!="noop"&&E.l&&E.l.qa(ut),E.A=0)}}Ki(4)}catch{}}var Kt=class{constructor(f,_){this.g=f,this.map=_}};function Wl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ql(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function nr(f){return f.h?1:f.g?f.g.size:0}function ir(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Xl(f,_){f.g?f.g.add(_):f.h=_}function Jl(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Wl.prototype.cancel=function(){if(this.i=Zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Zl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return x(f.i)}var hh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _o(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const I=f[E].indexOf("=");let Q,se=null;I>=0?(Q=f[E].substring(0,I),se=f[E].substring(I+1)):Q=f[E],_(Q,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function Wn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Wn?(this.l=f.l,cn(this,f.j),this.o=f.o,this.g=f.g,us(this,f.u),this.h=f.h,eu(this,ph(f.i)),this.m=f.m):f&&(_=String(f).match(hh))?(this.l=!1,cn(this,_[1]||"",!0),this.o=rr(_[2]||""),this.g=rr(_[3]||"",!0),us(this,_[4]),this.h=rr(_[5]||"",!0),eu(this,_[6]||"",!0),this.m=rr(_[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}Wn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(ba(_,bo,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(ba(_,bo,!0),"@"),f.push(Cr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(ba(E,E.charAt(0)=="/"?tu:fh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",ba(E,dh)),f.join("")},Wn.prototype.resolve=function(f){const _=Wt(this);let E=!!f.j;E?cn(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var I=f.h;if(E)us(_,f.u);else if(E=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var Q=_.h.lastIndexOf("/");Q!=-1&&(I=_.h.slice(0,Q+1)+I)}if(Q=I,Q==".."||Q==".")I="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){I=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const se=[];for(let ve=0;ve<Q.length;){const $e=Q[ve++];$e=="."?I&&ve==Q.length&&se.push(""):$e==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),I&&ve==Q.length&&se.push("")):(se.push($e),I=!0)}I=se.join("/")}else I=Q}return E?_.h=I:E=f.i.toString()!=="",E?eu(_,ph(f.i)):E=!!f.m,E&&(_.m=f.m),_};function Wt(f){return new Wn(f)}function cn(f,_,E){f.j=E?rr(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function us(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function eu(f,_,E){_ instanceof hs?(f.i=_,Eo(f.i,f.l)):(E||(_=ba(_,cs)),f.i=new hs(_,f.l))}function ft(f,_,E){f.i.set(_,E)}function _a(f){return ft(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function rr(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ba(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,Vn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Vn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var bo=/[#\/\?@]/g,fh=/[#\?:]/g,tu=/[#\?]/g,cs=/[#\?@]/g,dh=/#/g;function hs(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Ln(f){f.g||(f.g=new Map,f.h=0,f.i&&_o(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=hs.prototype,t.add=function(f,_){Ln(this),this.i=null,f=fs(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function mh(f,_){Ln(f),_=fs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function nu(f,_){return Ln(f),_=fs(f,_),f.g.has(_)}t.forEach=function(f,_){Ln(this),this.g.forEach(function(E,I){E.forEach(function(Q){f.call(_,Q,I,this)},this)},this)};function iu(f,_){Ln(f);let E=[];if(typeof _=="string")nu(f,_)&&(E=E.concat(f.g.get(fs(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}t.set=function(f,_){return Ln(this),this.i=null,f=fs(this,f),nu(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=iu(this,f),f.length>0?String(f[0]):_):_};function To(f,_,E){mh(f,_),E.length>0&&(f.i=null,f.g.set(fs(f,_),x(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let I=0;I<_.length;I++){var E=_[I];const Q=Cr(E);E=iu(this,E);for(let se=0;se<E.length;se++){let ve=Q;E[se]!==""&&(ve+="="+Cr(E[se])),f.push(ve)}}return this.i=f.join("&")};function ph(f){const _=new hs;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function fs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Eo(f,_){_&&!f.j&&(Ln(f),f.i=null,f.g.forEach(function(E,I){const Q=I.toLowerCase();I!=Q&&(mh(this,I),To(this,Q,E))},f)),f.j=_}function ki(f,_){const E=new xi;if(u.Image){const I=new Image;I.onload=y(li,E,"TestLoadImage: loaded",!0,_,I),I.onerror=y(li,E,"TestLoadImage: error",!1,_,I),I.onabort=y(li,E,"TestLoadImage: abort",!1,_,I),I.ontimeout=y(li,E,"TestLoadImage: timeout",!1,_,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else _(!1)}function ru(f,_){const E=new xi,I=new AbortController,Q=setTimeout(()=>{I.abort(),li(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:I.signal}).then(se=>{clearTimeout(Q),se.ok?li(E,"TestPingServer: ok",!0,_):li(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),li(E,"TestPingServer: error",!1,_)})}function li(f,_,E,I,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),I(E)}catch{}}function ds(){this.g=new nh}function sr(f){this.i=f.Sb||null,this.h=f.ab||!1}v(sr,ih),sr.prototype.g=function(){return new Ta(this.i,this.h)};function Ta(f,_){Ae.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Ta,Ae),t=Ta.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Mi(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function wo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?ms(this):Mi(this),this.readyState==3&&wo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ms(this))},t.Na=function(f){this.g&&(this.response=f,ms(this))},t.ga=function(){this.g&&ms(this)};function ms(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Mi(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function Mi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ui(f){let _="";return _e(f,function(E,I){_+=I,_+=":",_+=E,_+=`\r
`}),_}function Ea(f,_,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=ui(E),typeof f=="string"?E!=null&&Cr(E):ft(f,_,E))}function gt(f){Ae.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(gt,Ae);var ar=/^https?$/i,su=["POST","PUT"];t=gt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kl.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(se){wa(this,se);return}if(f=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Q in I)E.set(Q,I[Q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const se of I.keys())E.set(se,I.get(se));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(se=>se.toLowerCase()=="content-type"),Q=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(su,_,void 0)>=0)||I||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ve]of E)this.g.setRequestHeader(se,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(se){wa(this,se)}};function wa(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,au(f),Rr(f)}function au(f){f.A||(f.A=!0,Me(f,"complete"),Me(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Me(this,"complete"),Me(this,"abort"),Rr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rr(this,!0)),gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Sa(this):this.Xa())},t.Xa=function(){Sa(this)};function Sa(f){if(f.h&&typeof l<"u"){if(f.v&&Ni(f)==4)setTimeout(f.Ca.bind(f),0);else if(Me(f,"readystatechange"),Ni(f)==4){f.h=!1;try{const se=f.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var I;if(I=se===0){let ve=String(f.D).match(hh)[1]||null;!ve&&u.self&&u.self.location&&(ve=u.self.location.protocol.slice(0,-1)),I=!ar.test(ve?ve.toLowerCase():"")}E=I}if(E)Me(f,"complete"),Me(f,"success");else{f.o=6;try{var Q=Ni(f)>2?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.ca()+"]",au(f)}}finally{Rr(f)}}}}function Rr(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||Me(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ni(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Ni(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),km(_)}};function pn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function xr(f){const _={};f=(f.g&&Ni(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(C(f[I]))continue;var E=lh(f[I]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const se=_[Q]||[];_[Q]=se,se.push(E)}Pe(_,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function ps(f){this.za=0,this.i=[],this.j=new xi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=or("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=or("baseRetryDelayMs",5e3,f),this.Za=or("retryDelaySeedMs",1e4,f),this.Ta=or("forwardChannelMaxRetries",2,f),this.va=or("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Wl(f&&f.concurrentRequestLimit),this.Ba=new ds,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ps.prototype,t.ka=8,t.I=1,t.connect=function(f,_,E,I){$t(0),this.W=f,this.H=_||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.J=Eh(this,null,this.W),lr(this)};function ou(f){if(So(f),f.I==3){var _=f.V++,E=Wt(f.J);if(ft(E,"SID",f.M),ft(E,"RID",_),ft(E,"TYPE","terminate"),Aa(f,E),_=new Ii(f,f.j,_),_.M=2,_.A=_a(Wt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=wh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Zi(_)}Th(f)}function gs(f){f.g&&(uu(f),f.g.cancel(),f.g=null)}function So(f){gs(f),f.v&&(u.clearTimeout(f.v),f.v=null),Co(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function lr(f){if(!Ql(f.h)&&!f.m){f.m=!0;var _=f.Ea;L||S(),X||(L(),X=!0),A.add(_,f),f.D=0}}function Ao(f,_){return nr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Qi(p(f.Ea,f,_),bh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Q=new Ii(this,this.j,f);let se=this.o;if(this.U&&(se?(se=q(se),pe(se,this.U)):se=this.U),this.u!==null||this.R||(Q.J=se,se=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=gh(this,Q,_),E=Wt(this.J),ft(E,"RID",f),ft(E,"CVER",22),this.G&&ft(E,"X-HTTP-Session-Id",this.G),Aa(this,E),se&&(this.R?_="headers="+Cr(ui(se))+"&"+_:this.u&&Ea(E,this.u,se)),Xl(this.h,Q),this.Ra&&ft(E,"TYPE","init"),this.S?(ft(E,"$req",_),ft(E,"SID","null"),Q.U=!0,Ji(Q,E,null)):Ji(Q,E,_),this.I=2}}else this.I==3&&(f?lu(this,f):this.i.length==0||Ql(this.h)||lu(this))};function lu(f,_){var E;_?E=_.l:E=f.V++;const I=Wt(f.J);ft(I,"SID",f.M),ft(I,"RID",E),ft(I,"AID",f.K),Aa(f,I),f.u&&f.o&&Ea(I,f.u,f.o),E=new Ii(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=gh(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Xl(f.h,E),Ji(E,I,_)}function Aa(f,_){f.H&&_e(f.H,function(E,I){ft(_,I,E)}),f.l&&_e({},function(E,I){ft(_,I,E)})}function gh(f,_,E){E=Math.min(f.i.length,E);const I=f.l?p(f.l.Ka,f.l,f):null;e:{var Q=f.i;let $e=-1;for(;;){const Bt=["count="+E];$e==-1?E>0?($e=Q[0].g,Bt.push("ofs="+$e)):$e=0:Bt.push("ofs="+$e);let ut=!0;for(let xt=0;xt<E;xt++){var se=Q[xt].g;const ci=Q[xt].map;if(se-=$e,se<0)$e=Math.max(0,Q[xt].g-100),ut=!1;else try{se="req"+se+"_"||"";try{var ve=ci instanceof Map?ci:Object.entries(ci);for(const[cr,Oi]of ve){let Pi=Oi;h(Oi)&&(Pi=ls(Oi)),Bt.push(se+cr+"="+encodeURIComponent(Pi))}}catch(cr){throw Bt.push(se+"type="+encodeURIComponent("_badmap")),cr}}catch{I&&I(ci)}}if(ut){ve=Bt.join("&");break e}}ve=void 0}return f=f.i.splice(0,E),_.G=f,ve}function yh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;L||S(),X||(L(),X=!0),A.add(_,f),f.A=0}}function Ca(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Qi(p(f.Da,f),bh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,vh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Qi(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,$t(10),gs(this),vh(this))};function uu(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function vh(f){f.g=new Ii(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Wt(f.na);ft(_,"RID","rpc"),ft(_,"SID",f.M),ft(_,"AID",f.K),ft(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&ft(_,"TO",f.ia),ft(_,"TYPE","xmlhttp"),Aa(f,_),f.u&&f.o&&Ea(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=_a(Wt(_)),E.u=null,E.R=!0,yo(E,f)}t.Va=function(){this.C!=null&&(this.C=null,gs(this),Ca(this),$t(19))};function Co(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function _h(f,_){var E=null;if(f.g==_){Co(f),uu(f),f.g=null;var I=2}else if(ir(f.h,_))E=_.G,Jl(f.h,_),I=1;else return;if(f.I!=0){if(_.o)if(I==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var Q=f.D;I=go(),Me(I,new Wi(I,E)),lr(f)}else yh(f);else if(Q=_.m,Q==3||Q==0&&_.X>0||!(I==1&&Ao(f,_)||I==2&&Ca(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),Q){case 1:ur(f,5);break;case 4:ur(f,10);break;case 3:ur(f,6);break;default:ur(f,2)}}}function bh(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function ur(f,_){if(f.j.info("Error code "+_),_==2){var E=p(f.bb,f),I=f.Ua;const Q=!I;I=new Wn(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||cn(I,"https"),_a(I),Q?ki(I.toString(),E):ru(I.toString(),E)}else $t(2);f.I=0,f.l&&f.l.pa(_),Th(f),So(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function Th(f){if(f.I=0,f.ja=[],f.l){const _=Zl(f.h);(_.length!=0||f.i.length!=0)&&(N(f.ja,_),N(f.ja,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.oa()}}function Eh(f,_,E){var I=E instanceof Wn?Wt(E):new Wn(E);if(I.g!="")_&&(I.g=_+"."+I.g),us(I,I.u);else{var Q=u.location;I=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;const se=new Wn(null);I&&cn(se,I),_&&(se.g=_),Q&&us(se,Q),E&&(se.h=E),I=se}return E=f.G,_=f.wa,E&&_&&ft(I,E,_),ft(I,"VER",f.ka),Aa(f,I),I}function wh(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new gt(new sr({ab:E})):new gt(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sh(){}t=Sh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ys(){}ys.prototype.g=function(f,_){return new Mn(f,_)};function Mn(f,_){Ae.call(this),this.g=new ps(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!C(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Ir(this)}v(Mn,Ae),Mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){ou(this.g)},Mn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=ls(f),f=E);_.i.push(new Kt(_.Ya++,f)),_.I==3&&lr(_)},Mn.prototype.N=function(){this.g.l=null,delete this.j,ou(this.g),delete this.g,Mn.Z.N.call(this)};function Ah(f){mn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(Ah,mn);function Ch(){ai.call(this),this.status=1}v(Ch,ai);function Ir(f){this.g=f}v(Ir,Sh),Ir.prototype.ra=function(){Me(this.g,"a")},Ir.prototype.qa=function(f){Me(this.g,new Ah(f))},Ir.prototype.pa=function(f){Me(this.g,new Ch)},Ir.prototype.oa=function(){Me(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,CC=function(){return new ys},AC=function(){return go()},SC=zt,xy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ya.NO_ERROR=0,ya.TIMEOUT=8,ya.HTTP_ERROR=6,Xf=ya,Yl.COMPLETE="complete",wC=Yl,rh.EventType=Ri,Ri.OPEN="a",Ri.CLOSE="b",Ri.ERROR="c",Ri.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,ic=rh,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,EC=gt}).apply(typeof Nf<"u"?Nf:typeof self<"u"?self:typeof window<"u"?window:{});class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");let Ol="12.8.0";function qV(t){Ol=t}const lo=new kv("@firebase/firestore");function sl(){return lo.logLevel}function Ce(t,...e){if(lo.logLevel<=nt.DEBUG){const n=e.map(Hv);lo.debug(`Firestore (${Ol}): ${t}`,...n)}}function ts(t,...e){if(lo.logLevel<=nt.ERROR){const n=e.map(Hv);lo.error(`Firestore (${Ol}): ${t}`,...n)}}function _l(t,...e){if(lo.logLevel<=nt.WARN){const n=e.map(Hv);lo.warn(`Firestore (${Ol}): ${t}`,...n)}}function Hv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,RC(t,r,n)}function RC(t,e,n){let r=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ts(r),new Error(r)}function ht(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||RC(e,a,r)}function Ge(t,e){return t}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class xC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Rn.UNAUTHENTICATED)))}shutdown(){}}class GV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $V{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Qr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Qr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new xC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class YV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class KV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new YV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const r=l=>{l.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Gv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=QV(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function it(t,e){return t<e?-1:t>e?1:0}function Iy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return Hg(a)===Hg(l)?it(a,l):Hg(a)?1:-1}return it(t.length,e.length)}const XV=55296,JV=57343;function Hg(t){const e=t.charCodeAt(0);return e>=XV&&e<=JV}function bl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const Rw="__name__";class pr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=pr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return it(e.length,n.length)}static compareSegments(e,n){const r=pr.isNumericId(e),a=pr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?pr.extractNumericId(e).compare(pr.extractNumericId(n)):Iy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class Et extends pr{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Et(n)}static emptyPath(){return new Et([])}}const ZV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends pr{construct(e,n,r){return new En(e,n,r)}static isValidIdentifier(e){return ZV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rw}static keyField(){return new En([Rw])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Te(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Te(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Te(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(l(),a++)}if(l(),u)throw new Te(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(n)}static emptyPath(){return new En([])}}class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Et.fromString(e))}static fromName(e){return new Le(Et.fromString(e).popFirst(5))}static empty(){return new Le(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Et(e.slice()))}}function IC(t,e,n){if(!n)throw new Te(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function e4(t,e,n,r){if(e===!0&&r===!0)throw new Te(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xw(t){if(!Le.isDocumentKey(t))throw new Te(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Iw(t){if(Le.isDocumentKey(t))throw new Te(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rm(t);throw new Te(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function t4(t,e){if(e<=0)throw new Te(he.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Hc(t,e){if(!DC(t))throw new Te(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new Te(he.INVALID_ARGUMENT,n);return!0}const Dw=-62135596800,kw=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kw);return new Ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Dw)throw new Te(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kw}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hc(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:rn("string",Ct._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Ct(0,0))}static max(){return new qe(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wc=-1;function n4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=qe.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new ta(a,Le.empty(),e)}function i4(t){return new ta(t.readTime,t.key,wc)}class ta{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ta(qe.min(),Le.empty(),wc)}static max(){return new ta(qe.max(),Le.empty(),wc)}}function r4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}const s4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Pl(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==s4)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):me.reject(n)}static resolve(e){return new me(((n,r)=>{n(e)}))}static reject(e){return new me(((n,r)=>{r(e)}))}static waitFor(e){return new me(((n,r)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(d=>r(d)))})),u=!0,l===a&&n()}))}static or(e){let n=me.resolve(!1);for(const r of e)n=n.next((a=>a?me.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new me(((r,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next((y=>{u[p]=y,++h,h===l&&r(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new me(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function o4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(t){return t.name==="IndexedDbTransactionError"}class sm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sm.ce=-1;const $v=-1;function am(t){return t==null}function Ed(t){return t===0&&1/t==-1/0}function l4(t){return typeof t=="number"&&Number.isInteger(t)&&!Ed(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const kC="";function u4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Mw(e)),e=c4(t.get(n),e);return Mw(e)}function c4(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case kC:n+="";break;default:n+=l}}return n}function Mw(t){return t+kC+""}function Nw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ca(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Nt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Of(this.root,e,this.comparator,!1)}getReverseIterator(){return new Of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Of(this.root,e,this.comparator,!0)}}class Of{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=a??Tn.EMPTY,this.right=l??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new Tn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Tn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ln{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ow(this.data.getIterator())}getIteratorFrom(e){return new Ow(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class Ow{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ii{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new ii([])}unionWith(e){let n=new ln(En.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ii(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class NC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new NC("Invalid base64 string: "+l):l}})(e);return new wn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const h4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=h4.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ia(t){return typeof t=="string"?wn.fromBase64String(t):wn.fromUint8Array(t)}const OC="server_timestamp",PC="__type__",VC="__previous_value__",LC="__local_write_time__";function Yv(t){return(t?.mapValue?.fields||{})[PC]?.stringValue===OC}function om(t){const e=t.mapValue.fields[VC];return Yv(e)?om(e):e}function Sc(t){const e=na(t.mapValue.fields[LC].timestampValue);return new Ct(e.seconds,e.nanos)}class f4{constructor(e,n,r,a,l,u,h,d,p,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=v}}const wd="(default)";class Ac{constructor(e,n){this.projectId=e,this.database=n||wd}static empty(){return new Ac("","")}get isDefaultDatabase(){return this.database===wd}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}function d4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Te(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(t.options.projectId,e)}const UC="__type__",m4="__max__",Pf={mapValue:{}},jC="__vector__",Sd="value";function ra(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yv(t)?4:g4(t)?9007199254740991:p4(t)?10:11:Be(28295,{value:t})}function wr(t,e){if(t===e)return!0;const n=ra(t);if(n!==ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sc(t).isEqual(Sc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=na(a.timestampValue),h=na(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ia(a.bytesValue).isEqual(ia(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ht(a.geoPointValue.latitude)===Ht(l.geoPointValue.latitude)&&Ht(a.geoPointValue.longitude)===Ht(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ht(a.integerValue)===Ht(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Ht(a.doubleValue),h=Ht(l.doubleValue);return u===h?Ed(u)===Ed(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return bl(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(Nw(u)!==Nw(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!wr(u[d],h[d])))return!1;return!0})(t,e);default:return Be(52216,{left:t})}}function Cc(t,e){return(t.values||[]).find((n=>wr(n,e)))!==void 0}function Tl(t,e){if(t===e)return 0;const n=ra(t),r=ra(e);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Ht(l.integerValue||l.doubleValue),d=Ht(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return Pw(t.timestampValue,e.timestampValue);case 4:return Pw(Sc(t),Sc(e));case 5:return Iy(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=ia(l),d=ia(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=it(h[p],d[p]);if(y!==0)return y}return it(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=it(Ht(l.latitude),Ht(u.latitude));return h!==0?h:it(Ht(l.longitude),Ht(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Vw(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},p=h[Sd]?.arrayValue,y=d[Sd]?.arrayValue,v=it(p?.values?.length||0,y?.values?.length||0);return v!==0?v:Vw(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Pf.mapValue&&u===Pf.mapValue)return 0;if(l===Pf.mapValue)return 1;if(u===Pf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const T=Iy(d[v],y[v]);if(T!==0)return T;const x=Tl(h[d[v]],p[y[v]]);if(x!==0)return x}return it(d.length,y.length)})(t.mapValue,e.mapValue);default:throw Be(23264,{he:n})}}function Pw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=na(t),r=na(e),a=it(n.seconds,r.seconds);return a!==0?a:it(n.nanos,r.nanos)}function Vw(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Tl(n[a],r[a]);if(l)return l}return it(n.length,r.length)}function El(t){return Dy(t)}function Dy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=na(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ia(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Le.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Dy(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${Dy(n.fields[u])}`;return a+"}"})(t.mapValue):Be(61005,{value:t})}function Jf(t){switch(ra(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=om(t);return e?16+Jf(e):16;case 5:return 2*t.stringValue.length;case 6:return ia(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Jf(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return ca(r.fields,((l,u)=>{a+=l.length+Jf(u)})),a})(t.mapValue);default:throw Be(13486,{value:t})}}function Lw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ky(t){return!!t&&"integerValue"in t}function Kv(t){return!!t&&"arrayValue"in t}function Uw(t){return!!t&&"nullValue"in t}function jw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zf(t){return!!t&&"mapValue"in t}function p4(t){return(t?.mapValue?.fields||{})[UC]?.stringValue===jC}function hc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ca(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=hc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hc(t.arrayValue.values[n]);return e}return{...t}}function g4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===m4}class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(n)}setAll(e){let n=En.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=hc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());Zf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Zf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){ca(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Gn(hc(this.value))}}function zC(t){const e=[];return ca(t.fields,((n,r)=>{const a=new En([n]);if(Zf(r)){const l=zC(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new ii(e)}class xn{constructor(e,n,r,a,l,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new xn(e,0,qe.min(),qe.min(),qe.min(),Gn.empty(),0)}static newFoundDocument(e,n,r,a){return new xn(e,1,n,qe.min(),r,a,0)}static newNoDocument(e,n){return new xn(e,2,n,qe.min(),qe.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,qe.min(),qe.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ad{constructor(e,n){this.position=e,this.inclusive=n}}function zw(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?r=Le.comparator(Le.fromName(u.referenceValue),n.key):r=Tl(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wr(t.position[n],e.position[n]))return!1;return!0}class Rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function y4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class BC{}class nn extends BC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _4(e,n,r):n==="array-contains"?new E4(e,r):n==="in"?new w4(e,r):n==="not-in"?new S4(e,r):n==="array-contains-any"?new A4(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new b4(e,r):new T4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Tl(n,this.value)):n!==null&&ra(this.value)===ra(n)&&this.matchesComparison(Tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends BC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Gi(e,n)}matches(e){return FC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FC(t){return t.op==="and"}function qC(t){return v4(t)&&FC(t)}function v4(t){for(const e of t.filters)if(e instanceof Gi)return!1;return!0}function My(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+El(t.value);if(qC(t))return t.filters.map((e=>My(e))).join(",");{const e=t.filters.map((n=>My(n))).join(",");return`${t.op}(${e})`}}function HC(t,e){return t instanceof nn?(function(r,a){return a instanceof nn&&r.op===a.op&&r.field.isEqual(a.field)&&wr(r.value,a.value)})(t,e):t instanceof Gi?(function(r,a){return a instanceof Gi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,u,h)=>l&&HC(u,a.filters[h])),!0):!1})(t,e):void Be(19439)}function GC(t){return t instanceof nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${El(n.value)}`})(t):t instanceof Gi?(function(n){return n.op.toString()+" {"+n.getFilters().map(GC).join(" ,")+"}"})(t):"Filter"}class _4 extends nn{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class b4 extends nn{constructor(e,n){super(e,"in",n),this.keys=$C("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class T4 extends nn{constructor(e,n){super(e,"not-in",n),this.keys=$C("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $C(t,e){return(e.arrayValue?.values||[]).map((n=>Le.fromName(n.referenceValue)))}class E4 extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kv(n)&&Cc(n.arrayValue,this.value)}}class w4 extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cc(this.value.arrayValue,n)}}class S4 extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cc(this.value.arrayValue,n)}}class A4 extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Cc(this.value.arrayValue,r)))}}class C4{constructor(e,n=null,r=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function Fw(t,e=null,n=[],r=[],a=null,l=null,u=null){return new C4(t,e,n,r,a,l,u)}function Wv(t){const e=Ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>My(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),am(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>El(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>El(r))).join(",")),e.Te=n}return e.Te}function Qv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!y4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bw(t.startAt,e.startAt)&&Bw(t.endAt,e.endAt)}function Ny(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ll{constructor(e,n=null,r=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function R4(t,e,n,r,a,l,u,h){return new Ll(t,e,n,r,a,l,u,h)}function lm(t){return new Ll(t)}function qw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function x4(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function YC(t){return t.collectionGroup!==null}function fc(t){const e=Ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ln(En.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Rc(l,r))})),n.has(En.keyField().canonicalString())||e.Ie.push(new Rc(En.keyField(),r))}return e.Ie}function _r(t){const e=Ge(t);return e.Ee||(e.Ee=I4(e,fc(t))),e.Ee}function I4(t,e){if(t.limitType==="F")return Fw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Rc(a.field,l)}));const n=t.endAt?new Ad(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ad(t.startAt.position,t.startAt.inclusive):null;return Fw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Oy(t,e){const n=t.filters.concat([e]);return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function D4(t,e){const n=t.explicitOrderBy.concat([e]);return new Ll(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Cd(t,e,n){return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function um(t,e){return Qv(_r(t),_r(e))&&t.limitType===e.limitType}function KC(t){return`${Wv(_r(t))}|lt:${t.limitType}`}function al(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>GC(a))).join(", ")}]`),am(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>El(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>El(a))).join(",")),`Target(${r})`})(_r(t))}; limitType=${t.limitType})`}function cm(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Le.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of fc(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,d){const p=zw(u,h,d);return u.inclusive?p<=0:p<0})(r.startAt,fc(r),a)||r.endAt&&!(function(u,h,d){const p=zw(u,h,d);return u.inclusive?p>=0:p>0})(r.endAt,fc(r),a))})(t,e)}function k4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WC(t){return(e,n)=>{let r=!1;for(const a of fc(t)){const l=M4(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function M4(t,e,n){const r=t.field.isKeyField()?Le.comparator(e.key,n.key):(function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?Tl(d,p):Be(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}class mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return MC(this.inner)}size(){return this.innerSize}}const N4=new Nt(Le.comparator);function ns(){return N4}const QC=new Nt(Le.comparator);function rc(...t){let e=QC;for(const n of t)e=e.insert(n.key,n);return e}function XC(t){let e=QC;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Qa(){return dc()}function JC(){return dc()}function dc(){return new mo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const O4=new Nt(Le.comparator),P4=new ln(Le.comparator);function rt(...t){let e=P4;for(const n of t)e=e.add(n);return e}const V4=new ln(it);function L4(){return V4}function Xv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ed(e)?"-0":e}}function ZC(t){return{integerValue:""+t}}function U4(t,e){return l4(e)?ZC(e):Xv(t,e)}class hm{constructor(){this._=void 0}}function j4(t,e,n){return t instanceof xc?(function(a,l){const u={fields:{[PC]:{stringValue:OC},[LC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Yv(l)&&(l=om(l)),l&&(u.fields[VC]=l),{mapValue:u}})(n,e):t instanceof Ic?tR(t,e):t instanceof Dc?nR(t,e):(function(a,l){const u=eR(a,l),h=Hw(u)+Hw(a.Ae);return ky(u)&&ky(a.Ae)?ZC(h):Xv(a.serializer,h)})(t,e)}function z4(t,e,n){return t instanceof Ic?tR(t,e):t instanceof Dc?nR(t,e):n}function eR(t,e){return t instanceof Rd?(function(r){return ky(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class xc extends hm{}class Ic extends hm{constructor(e){super(),this.elements=e}}function tR(t,e){const n=iR(e);for(const r of t.elements)n.some((a=>wr(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Dc extends hm{constructor(e){super(),this.elements=e}}function nR(t,e){let n=iR(e);for(const r of t.elements)n=n.filter((a=>!wr(a,r)));return{arrayValue:{values:n}}}class Rd extends hm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Hw(t){return Ht(t.integerValue||t.doubleValue)}function iR(t){return Kv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class B4{constructor(e,n){this.field=e,this.transform=n}}function F4(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Ic&&a instanceof Ic||r instanceof Dc&&a instanceof Dc?bl(r.elements,a.elements,wr):r instanceof Rd&&a instanceof Rd?wr(r.Ae,a.Ae):r instanceof xc&&a instanceof xc})(t.transform,e.transform)}class q4{constructor(e,n){this.version=e,this.transformResults=n}}class Ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fm{}function rR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jv(t.key,Ei.none()):new Gc(t.key,t.data,Ei.none());{const n=t.data,r=Gn.empty();let a=new ln(En.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new ha(t.key,r,new ii(a.toArray()),Ei.none())}}function H4(t,e,n){t instanceof Gc?(function(a,l,u){const h=a.value.clone(),d=$w(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ha?(function(a,l,u){if(!ed(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=$w(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(sR(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function mc(t,e,n,r){return t instanceof Gc?(function(l,u,h,d){if(!ed(l.precondition,u))return h;const p=l.value.clone(),y=Yw(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof ha?(function(l,u,h,d){if(!ed(l.precondition,u))return h;const p=Yw(l.fieldTransforms,d,u),y=u.data;return y.setAll(sR(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,u,h){return ed(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function G4(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=eR(r.transform,a||null);l!=null&&(n===null&&(n=Gn.empty()),n.set(r.field,l))}return n||null}function Gw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&bl(r,a,((l,u)=>F4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gc extends fm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ha extends fm{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function sR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function $w(t,e,n){const r=new Map;ht(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);r.set(l.field,z4(u,h,n[a]))}return r}function Yw(t,e,n){const r=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);r.set(a.field,j4(l,u,e))}return r}class Jv extends fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $4 extends fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Y4{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&H4(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JC();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=rR(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),rt())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,((n,r)=>Gw(n,r)))&&bl(this.baseMutations,e.baseMutations,((n,r)=>Gw(n,r)))}}class Zv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return O4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new Zv(e,n,r,a)}}class K4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class W4{constructor(e,n){this.count=e,this.unchangedNames=n}}var en,at;function Q4(t){switch(t){case he.OK:return Be(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function aR(t){if(t===void 0)return ts("GRPC error has no .code"),he.UNKNOWN;switch(t){case en.OK:return he.OK;case en.CANCELLED:return he.CANCELLED;case en.UNKNOWN:return he.UNKNOWN;case en.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case en.INTERNAL:return he.INTERNAL;case en.UNAVAILABLE:return he.UNAVAILABLE;case en.UNAUTHENTICATED:return he.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case en.NOT_FOUND:return he.NOT_FOUND;case en.ALREADY_EXISTS:return he.ALREADY_EXISTS;case en.PERMISSION_DENIED:return he.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case en.ABORTED:return he.ABORTED;case en.OUT_OF_RANGE:return he.OUT_OF_RANGE;case en.UNIMPLEMENTED:return he.UNIMPLEMENTED;case en.DATA_LOSS:return he.DATA_LOSS;default:return Be(39323,{code:t})}}(at=en||(en={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";function X4(){return new TextEncoder}const J4=new Js([4294967295,4294967295],0);function Kw(t){const e=X4().encode(t),n=new TC;return n.update(e),new Uint8Array(n.digest())}function Ww(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Js([n,r],0),new Js([a,l],0)]}class e0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sc(`Invalid padding: ${n}`);if(r<0)throw new sc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Js.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Js.fromNumber(r)));return a.compare(J4)===1&&(a=new Js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Kw(e),[r,a]=Ww(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new e0(l,a,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=Kw(e),[r,a]=Ww(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dm{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,$c.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dm(qe.min(),a,new Nt(it),ns(),rt())}}class $c{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $c(r,n,rt(),rt(),rt())}}class td{constructor(e,n,r,a){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=a}}class oR{constructor(e,n){this.targetId=e,this.Ce=n}}class lR{constructor(e,n,r=wn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class Qw{constructor(){this.ve=0,this.Fe=Xw(),this.Me=wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rt(),n=rt(),r=rt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Be(38017,{changeType:l})}})),new $c(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=Xw()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Z4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ns(),this.He=Vf(),this.Je=Vf(),this.Ze=new Nt(it)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Ny(l))if(r===0){const u=new Le(l.path);this.et(n,u,xn.newNoDocument(u,qe.min()))}else ht(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=ia(r).toUint8Array()}catch(d){if(d instanceof NC)return _l("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new e0(u,a,l)}catch(d){return _l(d instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Ny(h.target)){const d=new Le(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,xn.newNoDocument(d,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let r=rt();this.Je.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new dm(e,n,this.Ze,this.je,r);return this.je=ns(),this.He=Vf(),this.Je=Vf(),this.Ze=new Nt(it),a}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Qw,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new ln(it),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new ln(it),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vf(){return new Nt(Le.comparator)}function Xw(){return new Nt(Le.comparator)}const eL={asc:"ASCENDING",desc:"DESCENDING"},tL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nL={and:"AND",or:"OR"};class iL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Py(t,e){return t.useProto3Json||am(e)?e:{value:e}}function xd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rL(t,e){return xd(t,e.toTimestamp())}function br(t){return ht(!!t,49232),qe.fromTimestamp((function(n){const r=na(n);return new Ct(r.seconds,r.nanos)})(t))}function t0(t,e){return Vy(t,e).canonicalString()}function Vy(t,e){const n=(function(a){return new Et(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function cR(t){const e=Et.fromString(t);return ht(pR(e),10190,{key:e.toString()}),e}function Ly(t,e){return t0(t.databaseId,e.path)}function Gg(t,e){const n=cR(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Le(fR(n))}function hR(t,e){return t0(t.databaseId,e)}function sL(t){const e=cR(t);return e.length===4?Et.emptyPath():fR(e)}function Uy(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fR(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Jw(t,e,n){return{name:Ly(t,e),fields:n.value.mapValue.fields}}function aL(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(ht(y===void 0||typeof y=="string",58123),wn.fromBase64String(y||"")):(ht(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),wn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?he.UNKNOWN:aR(p.code);return new Te(y,p.message||"")})(u);n=new lR(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Gg(t,r.document.name),l=br(r.document.updateTime),u=r.document.createTime?br(r.document.createTime):qe.min(),h=new Gn({mapValue:{fields:r.document.fields}}),d=xn.newFoundDocument(a,l,u,h),p=r.targetIds||[],y=r.removedTargetIds||[];n=new td(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Gg(t,r.document),l=r.readTime?br(r.readTime):qe.min(),u=xn.newNoDocument(a,l),h=r.removedTargetIds||[];n=new td([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Gg(t,r.document),l=r.removedTargetIds||[];n=new td([],l,a,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new W4(a,l),h=r.targetId;n=new oR(h,u)}}return n}function oL(t,e){let n;if(e instanceof Gc)n={update:Jw(t,e.key,e.value)};else if(e instanceof Jv)n={delete:Ly(t,e.key)};else if(e instanceof ha)n={update:Jw(t,e.key,e.data),updateMask:gL(e.fieldMask)};else{if(!(e instanceof $4))return Be(16599,{dt:e.type});n={verify:Ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const h=u.transform;if(h instanceof xc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ic)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Dc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Rd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Be(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:rL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Be(27497)})(t,e.precondition)),n}function lL(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?br(a.updateTime):br(l);return u.isEqual(qe.min())&&(u=br(l)),new q4(u,a.transformResults||[])})(n,e)))):[]}function uL(t,e){return{documents:[hR(t,e.path)]}}function cL(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hR(t,a);const l=(function(p){if(p.length!==0)return mR(Gi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:ol(T.field),direction:dL(T.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Py(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function hL(t){let e=sL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){ht(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const T=dR(v);return T instanceof Gi&&qC(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((T=>(function(N){return new Rc(ll(N.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let T;return T=typeof v=="object"?v.value:v,am(T)?null:T})(n.limit));let d=null;n.startAt&&(d=(function(v){const T=!!v.before,x=v.values||[];return new Ad(x,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const T=!v.before,x=v.values||[];return new Ad(x,T)})(n.endAt)),R4(e,a,u,l,h,"F",d,p)}function fL(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ll(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=ll(n.unaryFilter.field);return nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ll(n.unaryFilter.field);return nn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ll(n.unaryFilter.field);return nn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return nn.create(ll(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Gi.create(n.compositeFilter.filters.map((r=>dR(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(n.compositeFilter.op))})(t):Be(30097,{filter:t})}function dL(t){return eL[t]}function mL(t){return tL[t]}function pL(t){return nL[t]}function ol(t){return{fieldPath:t.canonicalString()}}function ll(t){return En.fromServerFormat(t.fieldPath)}function mR(t){return t instanceof nn?(function(n){if(n.op==="=="){if(jw(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NAN"}};if(Uw(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jw(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NAN"}};if(Uw(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(n.field),op:mL(n.op),value:n.value}}})(t):t instanceof Gi?(function(n){const r=n.getFilters().map((a=>mR(a)));return r.length===1?r[0]:{compositeFilter:{op:pL(n.op),filters:r}}})(t):Be(54877,{filter:t})}function gL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function pR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function gR(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Ks{constructor(e,n,r,a,l=qe.min(),u=qe.min(),h=wn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yL{constructor(e){this.yt=e}}function vL(t){const e=hL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cd(e,e.limit,"L"):e}class _L{constructor(){this.Sn=new bL}addToCollectionParentIndex(e,n){return this.Sn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(ta.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(ta.min())}updateCollectionGroup(e,n,r){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class bL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new ln(Et.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new ln(Et.comparator)).toArray()}}const Zw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yR=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(yR,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);class wl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wl(0)}static ar(){return new wl(-1)}}const e1="LruGarbageCollector",TL=1048576;function t1([t,e],[n,r]){const a=it(t,n);return a===0?it(e,r):a}class EL{constructor(e){this.Pr=e,this.buffer=new ln(t1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();t1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ce(e1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?Ce(e1,"Ignoring IndexedDB error during garbage collection: ",n):await Pl(n)}await this.Ar(3e5)}))}}class SL{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return me.resolve(sm.ce);const r=new EL(n);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(Zw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zw):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),sl()<=nt.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function AL(t,e){return new SL(t,e)}class CL{constructor(){this.changes=new mo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class xL{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&mc(r.mutation,a,ii.empty(),Ct.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,rt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=rt()){const a=Qa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let u=rc();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=Qa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,rt())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,a){let l=ns();const u=dc(),h=(function(){return dc()})();return n.forEach(((d,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ha)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),mc(y.mutation,p,y.mutation.getFieldMask(),Ct.now())):u.set(p.key,ii.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>h.set(p,new RL(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=dc();let a=new Nt(((u,h)=>u-h)),l=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let y=r.get(d)||ii.empty();y=h.applyToLocalView(p,y),r.set(d,y);const v=(a.get(h.batchId)||rt()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,v=JC();y.forEach((T=>{if(!l.has(T)){const x=rR(n.get(T),r.get(T));x!==null&&v.set(T,x),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return me.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return x4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):me.resolve(Qa());let h=wc,d=l;return u.next((p=>me.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?me.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{d=d.insert(y,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,d,p,rt()))).next((y=>({batchId:h,changes:XC(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next((r=>{let a=rc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let u=rc();return this.indexManager.getCollectionParents(e,l).next((h=>me.forEach(h,(d=>{const p=(function(v,T){return new Ll(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((y=>{y.forEach(((v,T)=>{u=u.insert(v,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((u=>{l.forEach(((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,xn.newInvalidDocument(y)))}));let h=rc();return u.forEach(((d,p)=>{const y=l.get(d);y!==void 0&&mc(y.mutation,p,ii.empty(),Ct.now()),cm(n,p)&&(h=h.insert(d,p))})),h}))}}class IL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return me.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:br(a.createTime)}})(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:vL(a.bundledQuery),readTime:br(a.readTime)}})(n)),me.resolve()}}class DL{constructor(){this.overlays=new Nt(Le.comparator),this.Lr=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qa();return me.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.bt(e,n,l)})),me.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),me.resolve()}getOverlaysForCollection(e,n,r){const a=Qa(),l=n.length+1,u=new Le(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return me.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new Nt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=Qa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Qa(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return me.resolve(h)}bt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new K4(n,r));let l=this.Lr.get(n);l===void 0&&(l=rt(),this.Lr.set(n,l)),this.Lr.set(n,l.add(r.key))}}class kL{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}class n0{constructor(){this.kr=new ln(dn.Kr),this.qr=new ln(dn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new dn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new dn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Le(new Et([])),r=new dn(n,e),a=new dn(n,e+1),l=[];return this.qr.forEachInRange([r,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Le(new Et([])),r=new dn(n,e),a=new dn(n,e+1);let l=rt();return this.qr.forEachInRange([r,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new dn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Le.comparator(e.key,n.key)||it(e.Hr,n.Hr)}static Ur(e,n){return it(e.Hr,n.Hr)||Le.comparator(e.key,n.key)}}class ML{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ln(dn.Kr)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Y4(l,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Jr=this.Jr.add(new dn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return me.resolve(u)}lookupMutationBatch(e,n){return me.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Xr(r),l=a<0?0:a;return me.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?$v:this.Yn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),a=new dn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,a],(u=>{const h=this.Zr(u.Hr);l.push(h)})),me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(it);return n.forEach((a=>{const l=new dn(a,0),u=new dn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(h=>{r=r.add(h.Hr)}))})),me.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;Le.isDocumentKey(l)||(l=l.child(""));const u=new dn(new Le(l),0);let h=new ln(it);return this.Jr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Hr)),!0)}),u),me.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ht(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return me.forEach(n.mutations,(a=>{const l=new dn(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new dn(n,0),a=this.Jr.firstAfterOrEqual(r);return me.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class NL{constructor(e){this.ti=e,this.docs=(function(){return new Nt(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return me.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let r=ns();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():xn.newInvalidDocument(a))})),me.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=ns();const u=n.path,h=new Le(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||r4(i4(y),r)<=0||(a.has(y.key)||cm(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return me.resolve(l)}getAllFromCollectionGroup(e,n,r,a){Be(9500)}ni(e,n){return me.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new OL(this)}getSize(e){return me.resolve(this.size)}}class OL extends CL{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),me.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class PL{constructor(e){this.persistence=e,this.ri=new mo((n=>Wv(n)),Qv),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.ii=0,this.si=new n0,this.targetCount=0,this.oi=wl._r()}forEachTarget(e,n){return this.ri.forEach(((r,a)=>n(a))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),me.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new wl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.lr(n),me.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),me.waitFor(l).next((()=>a))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return me.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),me.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),me.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return me.resolve(r)}containsKey(e,n){return me.resolve(this.si.containsKey(n))}}class vR{constructor(e,n){this._i={},this.overlays={},this.ai=new sm(0),this.ui=!1,this.ui=!0,this.ci=new kL,this.referenceDelegate=e(this),this.li=new PL(this),this.indexManager=new _L,this.remoteDocumentCache=(function(a){return new NL(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new yL(n),this.Pi=new IL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new ML(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const a=new VL(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return me.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class VL extends a4{constructor(e){super(),this.currentSequenceNumber=e}}class i0{constructor(e){this.persistence=e,this.Ri=new n0,this.Ai=null}static Vi(e){return new i0(e)}get di(){if(this.Ai)return this.Ai;throw Be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),me.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),me.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,(r=>{const a=Le.fromPath(r);return this.mi(e,a).next((l=>{l||n.removeEntry(a,qe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return me.or([()=>me.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Id{constructor(e,n){this.persistence=e,this.fi=new mo((r=>u4(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=AL(this,n)}static Vi(e,n){return new Id(e,n)}Ti(){}Ii(e){return me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return me.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((l=>l?me.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((h=>{h||(r++,l.removeEntry(u,qe.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),me.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),me.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),me.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jf(e.data.value)),n}wr(e,n,r){return me.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return me.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class r0{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=a}static Es(e,n){let r=rt(),a=rt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new r0(e,n.fromCache,r,a)}}class LL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class UL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return oN()?8:o4(Dn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new LL;return this.ys(e,n,u).next((h=>{if(l.result=h,this.As)return this.ws(e,n,u,h.size)}))})).next((()=>l.result))}ws(e,n,r,a){return r.documentReadCount<this.Vs?(sl()<=nt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),me.resolve()):(sl()<=nt.DEBUG&&Ce("QueryEngine","Query:",al(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(sl()<=nt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):me.resolve())}gs(e,n){if(qw(n))return me.resolve(null);let r=_r(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Cd(n,null,"F"),r=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=rt(...l);return this.fs.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.bs(n,h);return this.Ss(n,p,u,d.readTime)?this.gs(e,Cd(n,null,"F")):this.Ds(e,p,n,d)}))))})))))}ps(e,n,r,a){return qw(n)||a.isEqual(qe.min())?me.resolve(null):this.fs.getDocuments(e,r).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,r,a)?me.resolve(null):(sl()<=nt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),al(n)),this.Ds(e,u,n,n4(a,wc)).next((h=>h)))}))}bs(e,n){let r=new ln(WC(e));return n.forEach(((a,l)=>{cm(e,l)&&(r=r.add(l))})),r}Ss(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,r){return sl()<=nt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",al(n)),this.fs.getDocumentsMatchingQuery(e,n,ta.min(),r)}Ds(e,n,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const s0="LocalStore",jL=3e8;class zL{constructor(e,n,r,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Nt(it),this.Fs=new mo((l=>Wv(l)),Qv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function BL(t,e,n,r){return new zL(t,e,n,r)}async function _R(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],h=[];let d=rt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function FL(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,y){const v=p.batch,T=v.keys();let x=me.resolve();return T.forEach((N=>{x=x.next((()=>y.getEntry(d,N))).next((P=>{const F=p.docVersions.get(N);ht(F!==null,48541),P.version.compareTo(F)<0&&(v.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))}))})),x.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=rt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function bR(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function qL(t,e){const n=Ge(t),r=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((y,v)=>{const T=a.get(v);if(!T)return;h.push(n.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,v))));let x=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(wn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),a=a.insert(v,x),(function(P,F,B){return P.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=jL?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(T,x,y)&&h.push(n.li.updateTargetData(l,x))}));let d=ns(),p=rt();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(HL(l,u,e.documentUpdates).next((y=>{d=y.Bs,p=y.Ls}))),!r.isEqual(qe.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(y)}return me.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(n.vs=a,l)))}function HL(t,e,n){let r=rt(),a=rt();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let u=ns();return n.forEach(((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(qe.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):Ce(s0,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{Bs:u,Ls:a}}))}function GL(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=$v),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function $L(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.li.getTargetData(r,e).next((l=>l?(a=l,me.resolve(a)):n.li.allocateTargetId(r).next((u=>(a=new Ks(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function jy(t,e,n){const r=Ge(t),a=r.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Vl(u))throw u;Ce(s0,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function n1(t,e,n){const r=Ge(t);let a=qe.min(),l=rt();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,y){const v=Ge(d),T=v.Fs.get(y);return T!==void 0?me.resolve(v.vs.get(T)):v.li.getTargetData(p,y)})(r,u,_r(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,n?a:qe.min(),n?l:rt()))).next((h=>(YL(r,k4(e),h),{documents:h,ks:l})))))}function YL(t,e,n){let r=t.Ms.get(e)||qe.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Ms.set(e,r)}class i1{constructor(){this.activeTargetIds=L4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KL{constructor(){this.vo=new i1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new i1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class WL{Mo(e){}shutdown(){}}const r1="ConnectivityMonitor";class s1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ce(r1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ce(r1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lf=null;function zy(){return Lf===null?Lf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lf++,"0x"+Lf.toString(16)}const $g="RestConnection",QL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class XL{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===wd?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,n,r,a,l){const u=zy(),h=this.Qo(e,n.toUriEncodedString());Ce($g,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:p}=new URL(h),y=ua(p);return this.zo(e,h,d,r,y).then((v=>(Ce($g,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw _l($g,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",r),v}))}jo(e,n,r,a,l,u){return this.Wo(e,n,r,a,l)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const r=QL[e];let a=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class JL{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const An="WebChannelConnection",Wu=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class gl extends XL{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!gl.c_){const e=AC();Wu(e,SC.STAT_EVENT,(n=>{n.stat===xy.PROXY?Ce(An,"STAT_EVENT: detected buffering proxy"):n.stat===xy.NOPROXY&&Ce(An,"STAT_EVENT: detected no buffering proxy")})),gl.c_=!0}}zo(e,n,r,a,l){const u=zy();return new Promise(((h,d)=>{const p=new EC;p.setWithCredentials(!0),p.listenOnce(wC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Xf.NO_ERROR:const v=p.getResponseJson();Ce(An,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Xf.TIMEOUT:Ce(An,`RPC '${e}' ${u} timed out`),d(new Te(he.DEADLINE_EXCEEDED,"Request time out"));break;case Xf.HTTP_ERROR:const T=p.getStatus();if(Ce(An,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const N=x?.error;if(N&&N.status&&N.message){const P=(function(B){const U=B.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(U)>=0?U:he.UNKNOWN})(N.status);d(new Te(P,N.message))}else d(new Te(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Te(he.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Ce(An,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);Ce(An,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,r,15)}))}T_(e,n,r){const a=zy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const p=l.join("");Ce(An,`Creating RPC '${e}' stream ${a}: ${p}`,h);const y=u.createWebChannel(p,h);this.I_(y);let v=!1,T=!1;const x=new JL({Ho:N=>{T?Ce(An,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(v||(Ce(An,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),Ce(An,`RPC '${e}' stream ${a} sending:`,N),y.send(N))},Jo:()=>y.close()});return Wu(y,ic.EventType.OPEN,(()=>{T||(Ce(An,`RPC '${e}' stream ${a} transport opened.`),x.i_())})),Wu(y,ic.EventType.CLOSE,(()=>{T||(T=!0,Ce(An,`RPC '${e}' stream ${a} transport closed`),x.o_(),this.E_(y))})),Wu(y,ic.EventType.ERROR,(N=>{T||(T=!0,_l(An,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),x.o_(new Te(he.UNAVAILABLE,"The operation could not be completed")))})),Wu(y,ic.EventType.MESSAGE,(N=>{if(!T){const P=N.data[0];ht(!!P,16349);const F=P,B=F?.error||F[0]?.error;if(B){Ce(An,`RPC '${e}' stream ${a} received error:`,B);const U=B.status;let z=(function(X){const A=en[X];if(A!==void 0)return aR(A)})(U),ue=B.message;z===void 0&&(z=he.INTERNAL,ue="Unknown error status: "+U+" with message "+B.message),T=!0,x.o_(new Te(z,ue)),y.close()}else Ce(An,`RPC '${e}' stream ${a} received:`,P),x.__(P)}})),gl.u_(),setTimeout((()=>{x.s_()}),0),x}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return CC()}}function ZL(t){return new gl(t)}function Yg(){return typeof document<"u"?document:null}function mm(t){return new iL(t,!0)}gl.c_=!1;class TR{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const a1="PersistentStream";class ER{constructor(e,n,r,a,l,u,h,d){this.Ci=e,this.b_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new Te(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ce(a1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Ce(a1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class e3 extends ER{constructor(e,n,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=aL(this.serializer,e),r=(function(l){if(!("targetChange"in l))return qe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?qe.min():u.readTime?br(u.readTime):qe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Uy(this.serializer),n.addTarget=(function(l,u){let h;const d=u.target;if(h=Ny(d)?{documents:uL(l,d)}:{query:cL(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=uR(l,u.resumeToken);const p=Py(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(qe.min())>0){h.readTime=xd(l,u.snapshotVersion.toTimestamp());const p=Py(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=fL(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Uy(this.serializer),n.removeTarget=e,this.K_(n)}}class t3 extends ER{constructor(e,n,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=lL(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Uy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>oL(this.serializer,r)))};this.K_(n)}}class n3{}class i3 extends n3{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Te(he.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,Vy(n,r),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(he.UNKNOWN,l.toString())}))}jo(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(e,Vy(n,r),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(he.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function r3(t,e,n,r){return new i3(t,e,n,r)}class s3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(n),this.aa=!1):Ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const uo="RemoteStore";class a3{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{po(this)&&(Ce(uo,"Restarting streams for network reachability change."),await(async function(d){const p=Ge(d);p.Ea.add(4),await Yc(p),p.Va.set("Unknown"),p.Ea.delete(4),await pm(p)})(this))}))})),this.Va=new s3(r,a)}}async function pm(t){if(po(t))for(const e of t.Ra)await e(!0)}async function Yc(t){for(const e of t.Ra)await e(!1)}function wR(t,e){const n=Ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),u0(n)?l0(n):Ul(n).O_()&&o0(n,e))}function a0(t,e){const n=Ge(t),r=Ul(n);n.Ia.delete(e),r.O_()&&SR(n,e),n.Ia.size===0&&(r.O_()?r.L_():po(n)&&n.Va.set("Unknown"))}function o0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ul(t).Z_(e)}function SR(t,e){t.da.$e(e),Ul(t).X_(e)}function l0(t){t.da=new Z4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ul(t).start(),t.Va.ua()}function u0(t){return po(t)&&!Ul(t).x_()&&t.Ia.size>0}function po(t){return Ge(t).Ea.size===0}function AR(t){t.da=void 0}async function o3(t){t.Va.set("Online")}async function l3(t){t.Ia.forEach(((e,n)=>{o0(t,e)}))}async function u3(t,e){AR(t),u0(t)?(t.Va.ha(e),l0(t)):t.Va.set("Unknown")}async function c3(t,e,n){if(t.Va.set("Online"),e instanceof lR&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(r){Ce(uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dd(t,r)}else if(e instanceof td?t.da.Xe(e):e instanceof oR?t.da.st(e):t.da.tt(e),!n.isEqual(qe.min()))try{const r=await bR(t.localStore);n.compareTo(r)>=0&&await(function(l,u){const h=l.da.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(wn.EMPTY_BYTE_STRING,y.snapshotVersion)),SR(l,d);const v=new Ks(y.target,d,p,y.sequenceNumber);o0(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){Ce(uo,"Failed to raise snapshot:",r),await Dd(t,r)}}async function Dd(t,e,n){if(!Vl(e))throw e;t.Ea.add(1),await Yc(t),t.Va.set("Offline"),n||(n=()=>bR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ce(uo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await pm(t)}))}function CR(t,e){return e().catch((n=>Dd(t,n,e)))}async function gm(t){const e=Ge(t),n=sa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$v;for(;h3(e);)try{const a=await GL(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,f3(e,a)}catch(a){await Dd(e,a)}RR(e)&&xR(e)}function h3(t){return po(t)&&t.Ta.length<10}function f3(t,e){t.Ta.push(e);const n=sa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function RR(t){return po(t)&&!sa(t).x_()&&t.Ta.length>0}function xR(t){sa(t).start()}async function d3(t){sa(t).ra()}async function m3(t){const e=sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function p3(t,e,n){const r=t.Ta.shift(),a=Zv.from(r,e,n);await CR(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await gm(t)}async function g3(t,e){e&&sa(t).Y_&&await(async function(r,a){if((function(u){return Q4(u)&&u!==he.ABORTED})(a.code)){const l=r.Ta.shift();sa(r).B_(),await CR(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await gm(r)}})(t,e),RR(t)&&xR(t)}async function o1(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Ce(uo,"RemoteStore received new credentials");const r=po(n);n.Ea.add(3),await Yc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pm(n)}async function y3(t,e){const n=Ge(t);e?(n.Ea.delete(2),await pm(n)):e||(n.Ea.add(2),await Yc(n),n.Va.set("Unknown"))}function Ul(t){return t.ma||(t.ma=(function(n,r,a){const l=Ge(n);return l.sa(),new e3(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:o3.bind(null,t),Yo:l3.bind(null,t),t_:u3.bind(null,t),J_:c3.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),u0(t)?l0(t):t.Va.set("Unknown")):(await t.ma.stop(),AR(t))}))),t.ma}function sa(t){return t.fa||(t.fa=(function(n,r,a){const l=Ge(n);return l.sa(),new t3(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:d3.bind(null,t),t_:g3.bind(null,t),ta:m3.bind(null,t),na:p3.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await gm(t)):(await t.fa.stop(),t.Ta.length>0&&(Ce(uo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class c0{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const u=Date.now()+r,h=new c0(e,n,u,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h0(t,e){if(ts("AsyncQueue",`${e}: ${t}`),Vl(t))return new Te(he.UNAVAILABLE,`${e}: ${t}`);throw t}class yl{static emptySet(e){return new yl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=rc(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class l1{constructor(){this.ga=new Nt(Le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Be(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Sl{constructor(e,n,r,a,l,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Sl(e,n,yl.emptySet(n),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class v3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class _3{constructor(){this.queries=u1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Ge(n),l=a.queries;a.queries=u1(),l.forEach(((u,h)=>{for(const d of h.ba)d.onError(r)}))})(this,new Te(he.ABORTED,"Firestore shutting down"))}}function u1(){return new mo((t=>KC(t)),um)}async function f0(t,e){const n=Ge(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(r=2):(l=new v3,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=h0(u,`Initialization of query '${al(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&m0(n)}async function d0(t,e){const n=Ge(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function b3(t,e){const n=Ge(t);let r=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.ba)h.Fa(a)&&(r=!0);u.wa=a}}r&&m0(n)}function T3(t,e,n){const r=Ge(t),a=r.queries.get(e);if(a)for(const l of a.ba)l.onError(n);r.queries.delete(e)}function m0(t){t.Ca.forEach((e=>{e.next()}))}var By,c1;(c1=By||(By={})).Ma="default",c1.Cache="cache";class p0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==By.Cache}}class IR{constructor(e){this.key=e}}class DR{constructor(e){this.key=e}}class E3{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=rt(),this.mutatedKeys=rt(),this.eu=WC(e),this.tu=new yl(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new l1,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const T=a.get(y),x=cm(this.query,v)?v:null,N=!!T&&this.mutatedKeys.has(T.key),P=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let F=!1;T&&x?T.data.isEqual(x.data)?N!==P&&(r.track({type:3,doc:x}),F=!0):this.su(T,x)||(r.track({type:2,doc:x}),F=!0,(d&&this.eu(x,d)>0||p&&this.eu(x,p)<0)&&(h=!0)):!T&&x?(r.track({type:0,doc:x}),F=!0):T&&!x&&(r.track({type:1,doc:T}),F=!0,(d||p)&&(h=!0)),F&&(x?(u=u.add(x),l=P?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(x,N){const P=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:F})}};return P(x)-P(N)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,p=d!==this.Xa;return this.Xa=d,u.length!==0||p?{snapshot:new Sl(this.query,e.tu,l,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new l1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=rt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new DR(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new IR(r))})),n}cu(e){this.Za=e.ks,this.Ya=rt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const g0="SyncEngine";class w3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class S3{constructor(e){this.key=e,this.hu=!1}}class A3{constructor(e,n,r,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new mo((h=>KC(h)),um),this.Iu=new Map,this.Eu=new Set,this.Ru=new Nt(Le.comparator),this.Au=new Map,this.Vu=new n0,this.du={},this.mu=new Map,this.fu=wl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C3(t,e,n=!0){const r=VR(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await kR(r,e,n,!0),a}async function R3(t,e){const n=VR(t);await kR(n,e,!0,!1)}async function kR(t,e,n,r){const a=await $L(t.localStore,_r(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await x3(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&wR(t.remoteStore,a),h}async function x3(t,e,n,r,a){t.pu=(v,T,x)=>(async function(P,F,B,U){let z=F.view.ru(B);z.Ss&&(z=await n1(P.localStore,F.query,!1).then((({documents:A})=>F.view.ru(A,z))));const ue=U&&U.targetChanges.get(F.targetId),L=U&&U.targetMismatches.get(F.targetId)!=null,X=F.view.applyChanges(z,P.isPrimaryClient,ue,L);return f1(P,F.targetId,X.au),X.snapshot})(t,v,T,x);const l=await n1(t.localStore,e,!0),u=new E3(e,l.ks),h=u.ru(l.documents),d=$c.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);f1(t,n,p.au);const y=new w3(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function I3(t,e,n){const r=Ge(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((u=>!um(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await jy(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&a0(r.remoteStore,a.targetId),Fy(r,a.targetId)})).catch(Pl)):(Fy(r,a.targetId),await jy(r.localStore,a.targetId,!0))}async function D3(t,e){const n=Ge(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),a0(n.remoteStore,r.targetId))}async function k3(t,e,n){const r=U3(t);try{const a=await(function(u,h){const d=Ge(u),p=Ct.now(),y=h.reduce(((x,N)=>x.add(N.key)),rt());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let N=ns(),P=rt();return d.xs.getEntries(x,y).next((F=>{N=F,N.forEach(((B,U)=>{U.isValidDocument()||(P=P.add(B))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,N))).next((F=>{v=F;const B=[];for(const U of h){const z=G4(U,v.get(U.key).overlayedDocument);z!=null&&B.push(new ha(U.key,z,zC(z.value.mapValue),Ei.exists(!0)))}return d.mutationQueue.addMutationBatch(x,p,B,h)})).next((F=>{T=F;const B=F.applyToLocalDocumentSet(v,P);return d.documentOverlayCache.saveOverlays(x,F.batchId,B)}))})).then((()=>({batchId:T.batchId,changes:XC(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.du[u.currentUser.toKey()];p||(p=new Nt(it)),p=p.insert(h,d),u.du[u.currentUser.toKey()]=p})(r,a.batchId,n),await Kc(r,a.changes),await gm(r.remoteStore)}catch(a){const l=h0(a,"Failed to persist write");n.reject(l)}}async function MR(t,e){const n=Ge(t);try{const r=await qL(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(ht(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ht(u.hu,14607):a.removedDocuments.size>0&&(ht(u.hu,42227),u.hu=!1))})),await Kc(n,r,e)}catch(r){await Pl(r)}}function h1(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=Ge(u);d.onlineState=h;let p=!1;d.queries.forEach(((y,v)=>{for(const T of v.ba)T.va(h)&&(p=!0)})),p&&m0(d)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M3(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let u=new Nt(Le.comparator);u=u.insert(l,xn.newNoDocument(l,qe.min()));const h=rt().add(l),d=new dm(qe.min(),new Map,new Nt(it),u,h);await MR(r,d),r.Ru=r.Ru.remove(l),r.Au.delete(e),y0(r)}else await jy(r.localStore,e,!1).then((()=>Fy(r,e,n))).catch(Pl)}async function N3(t,e){const n=Ge(t),r=e.batch.batchId;try{const a=await FL(n.localStore,e);OR(n,r,null),NR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kc(n,a)}catch(a){await Pl(a)}}async function O3(t,e,n){const r=Ge(t);try{const a=await(function(u,h){const d=Ge(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next((v=>(ht(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);OR(r,e,n),NR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Kc(r,a)}catch(a){await Pl(a)}}function NR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function OR(t,e,n){const r=Ge(t);let a=r.du[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function Fy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||PR(t,r)}))}function PR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(a0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),y0(t))}function f1(t,e,n){for(const r of n)r instanceof IR?(t.Vu.addReference(r.key,e),P3(t,r)):r instanceof DR?(Ce(g0,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||PR(t,r.key)):Be(19791,{wu:r})}function P3(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Ce(g0,"New document in limbo: "+n),t.Eu.add(r),y0(t))}function y0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Le(Et.fromString(e)),r=t.fu.next();t.Au.set(r,new S3(n)),t.Ru=t.Ru.insert(n,r),wR(t.remoteStore,new Ks(_r(lm(n.path)),r,"TargetPurposeLimboResolution",sm.ce))}}async function Kc(t,e,n){const r=Ge(t),a=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{u.push(r.pu(d,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){a.push(p);const y=r0.Es(d.targetId,p);l.push(y)}})))})),await Promise.all(u),r.Pu.J_(a),await(async function(d,p){const y=Ge(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>me.forEach(p,(T=>me.forEach(T.Ts,(x=>y.persistence.referenceDelegate.addReference(v,T.targetId,x))).next((()=>me.forEach(T.Is,(x=>y.persistence.referenceDelegate.removeReference(v,T.targetId,x)))))))))}catch(v){if(!Vl(v))throw v;Ce(s0,"Failed to update sequence numbers: "+v)}for(const v of p){const T=v.targetId;if(!v.fromCache){const x=y.vs.get(T),N=x.snapshotVersion,P=x.withLastLimboFreeSnapshotVersion(N);y.vs=y.vs.insert(T,P)}}})(r.localStore,l))}async function V3(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Ce(g0,"User change. New user:",e.toKey());const r=await _R(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new Te(he.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kc(n,r.Ns)}}function L3(t,e){const n=Ge(t),r=n.Au.get(e);if(r&&r.hu)return rt().add(r.key);{let a=rt();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function VR(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M3.bind(null,e),e.Pu.J_=b3.bind(null,e.eventManager),e.Pu.yu=T3.bind(null,e.eventManager),e}function U3(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O3.bind(null,e),e}class kd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BL(this.persistence,new UL,e.initialUser,this.serializer)}Cu(e){return new vR(i0.Vi,this.serializer)}Du(e){return new KL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kd.provider={build:()=>new kd};class j3 extends kd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ht(this.persistence.referenceDelegate instanceof Id,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new vR((r=>Id.Vi(r,n)),this.serializer)}}class qy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>h1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=V3.bind(null,this.syncEngine),await y3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _3})()}createDatastore(e){const n=mm(e.databaseInfo.databaseId),r=ZL(e.databaseInfo);return r3(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,u,h){return new a3(r,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>h1(this.syncEngine,n,0)),(function(){return s1.v()?new s1:new WL})())}createSyncEngine(e,n){return(function(a,l,u,h,d,p,y){const v=new A3(a,l,u,h,d,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ge(n);Ce(uo,"RemoteStore shutting down."),r.Ea.add(5),await Yc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qy.provider={build:()=>new qy};class v0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const aa="FirestoreClient";class z3{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=a,this.user=Rn.UNAUTHENTICATED,this.clientId=Gv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{Ce(aa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Ce(aa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=h0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Kg(t,e){t.asyncQueue.verifyOperationInProgress(),Ce(aa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await _R(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function d1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await B3(t);Ce(aa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>o1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>o1(e.remoteStore,a))),t._onlineComponents=e}async function B3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce(aa,"Using user provided OfflineComponentProvider");try{await Kg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;_l("Error using user provided cache. Falling back to memory cache: "+n),await Kg(t,new kd)}}else Ce(aa,"Using default OfflineComponentProvider"),await Kg(t,new j3(void 0));return t._offlineComponents}async function LR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce(aa,"Using user provided OnlineComponentProvider"),await d1(t,t._uninitializedComponentsProvider._online)):(Ce(aa,"Using default OnlineComponentProvider"),await d1(t,new qy))),t._onlineComponents}function F3(t){return LR(t).then((e=>e.syncEngine))}async function Md(t){const e=await LR(t),n=e.eventManager;return n.onListen=C3.bind(null,e.syncEngine),n.onUnlisten=I3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=R3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=D3.bind(null,e.syncEngine),n}function q3(t,e,n,r){const a=new v0(r),l=new p0(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>f0(await Md(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>d0(await Md(t),l)))}}function H3(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new v0({next:T=>{y.Nu(),u.enqueueAndForget((()=>d0(l,v)));const x=T.docs.has(h);!x&&T.fromCache?p.reject(new Te(he.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&d&&d.source==="server"?p.reject(new Te(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new p0(lm(h.path),y,{includeMetadataChanges:!0,Ka:!0});return f0(l,v)})(await Md(t),t.asyncQueue,e,n,r))),r.promise}function G3(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new v0({next:T=>{y.Nu(),u.enqueueAndForget((()=>d0(l,v))),T.fromCache&&d.source==="server"?p.reject(new Te(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new p0(h,y,{includeMetadataChanges:!0,Ka:!0});return f0(l,v)})(await Md(t),t.asyncQueue,e,n,r))),r.promise}function $3(t,e){const n=new Qr;return t.asyncQueue.enqueueAndForget((async()=>k3(await F3(t),e,n))),n.promise}function UR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Y3="ComponentProvider",m1=new Map;function K3(t,e,n,r,a){return new f4(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,UR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const jR="firestore.googleapis.com",p1=!0;class g1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jR,this.ssl=p1}else this.host=e.host,this.ssl=e.ssl??p1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TL)throw new Te(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ym{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HV;switch(r.type){case"firstParty":return new KV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=m1.get(n);r&&(Ce(Y3,"Removing Datastore"),m1.delete(n),r.terminate())})(this),Promise.resolve()}}function W3(t,e,n,r={}){t=Yn(t,ym);const a=ua(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(Iv(`https://${h}`),Dv("Firestore",!0)),l.host!==jR&&l.host!==h&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:r};if(!io(d,u)&&(t._setSettings(d),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Rn.MOCK_USER;else{p=JM(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Te(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Rn(v)}t._authCredentials=new GV(new xC(p,y))}}class os{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Hc(n,jt._jsonSchema))return new jt(e,r||null,new Le(Et.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:rn("string",jt._jsonSchemaVersion),referencePath:rn("string")};class Zs extends os{constructor(e,n,r){super(e,n,lm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new Le(e))}withConverter(e){return new Zs(this.firestore,e,this._path)}}function nd(t,e,...n){if(t=wt(t),IC("collection","path",e),t instanceof ym){const r=Et.fromString(e,...n);return Iw(r),new Zs(t,null,r)}{if(!(t instanceof jt||t instanceof Zs))throw new Te(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return Iw(r),new Zs(t.firestore,null,r)}}function gr(t,e,...n){if(t=wt(t),arguments.length===1&&(e=Gv.newId()),IC("doc","path",e),t instanceof ym){const r=Et.fromString(e,...n);return xw(r),new jt(t,null,new Le(r))}{if(!(t instanceof jt||t instanceof Zs))throw new Te(he.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return xw(r),new jt(t.firestore,t instanceof Zs?t.converter:null,new Le(r))}}const y1="AsyncQueue";class v1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TR(this,"async_queue_retry"),this._c=()=>{const r=Yg();r&&Ce(y1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Yg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Yg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;Ce(y1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",_1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=c0.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Be(47125,{Pc:_1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class is extends ym{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new v1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v1(e),this._firestoreClient=void 0,await e}}}function Q3(t,e){const n=typeof t=="object"?t:Nv(),r=typeof t=="string"?t:wd,a=em(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=kA("firestore");l&&W3(a,...l)}return a}function vm(t){if(t._terminated)throw new Te(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||X3(t),t._firestoreClient}function X3(t){const e=t._freezeSettings(),n=K3(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new z3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class bi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bi(wn.fromBase64String(e))}catch(n){throw new Te(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bi(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hc(e,bi._jsonSchema))return bi.fromBase64String(e.bytes)}}bi._jsonSchemaVersion="firestore/bytes/1.0",bi._jsonSchema={type:rn("string",bi._jsonSchemaVersion),bytes:rn("string")};class _0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _m{constructor(e){this._methodName=e}}class Tr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Tr._jsonSchemaVersion}}static fromJSON(e){if(Hc(e,Tr._jsonSchema))return new Tr(e.latitude,e.longitude)}}Tr._jsonSchemaVersion="firestore/geoPoint/1.0",Tr._jsonSchema={type:rn("string",Tr._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};class Hi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hc(e,Hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Hi(e.vectorValues);throw new Te(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:rn("string",Hi._jsonSchemaVersion),vectorValues:rn("object")};const J3=/^__.*__$/;class Z3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gc(e,this.data,n,this.fieldTransforms)}}class zR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ha(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{dataSource:t})}}class b0{constructor(e,n,r,a,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new b0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Nd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(BR(this.dataSource)&&J3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class e5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mm(e)}createContext(e,n,r,a=!1){return new b0({dataSource:e,methodName:n,targetDoc:r,path:En.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bm(t){const e=t._freezeSettings(),n=mm(t._databaseId);return new e5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FR(t,e,n,r,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);E0("Data must be an object, but it was:",u,r);const h=qR(r,u);let d,p;if(l.merge)d=new ii(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=co(e,v,n);if(!u.contains(T))throw new Te(he.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);$R(y,T)||y.push(T)}d=new ii(y),p=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=u.fieldTransforms;return new Z3(new Gn(h),d,p)}class Tm extends _m{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tm}}class T0 extends _m{_toFieldTransform(e){return new B4(e.path,new xc)}isEqual(e){return e instanceof T0}}function t5(t,e,n,r){const a=t.createContext(1,e,n);E0("Data must be an object, but it was:",a,r);const l=[],u=Gn.empty();ca(r,((d,p)=>{const y=GR(e,d,n);p=wt(p);const v=a.childContextForFieldPath(y);if(p instanceof Tm)l.push(y);else{const T=Wc(p,v);T!=null&&(l.push(y),u.set(y,T))}}));const h=new ii(l);return new zR(u,h,a.fieldTransforms)}function n5(t,e,n,r,a,l){const u=t.createContext(1,e,n),h=[co(e,r,n)],d=[a];if(l.length%2!=0)throw new Te(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)h.push(co(e,l[T])),d.push(l[T+1]);const p=[],y=Gn.empty();for(let T=h.length-1;T>=0;--T)if(!$R(p,h[T])){const x=h[T];let N=d[T];N=wt(N);const P=u.childContextForFieldPath(x);if(N instanceof Tm)p.push(x);else{const F=Wc(N,P);F!=null&&(p.push(x),y.set(x,F))}}const v=new ii(p);return new zR(y,v,u.fieldTransforms)}function i5(t,e,n,r=!1){return Wc(n,t.createContext(r?4:3,e))}function Wc(t,e){if(HR(t=wt(t)))return E0("Unsupported field value:",e,t),qR(t,e);if(t instanceof _m)return(function(r,a){if(!BR(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const l=[];let u=0;for(const h of r){let d=Wc(h,a.childContextForArray(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return U4(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Ct.fromDate(r);return{timestampValue:xd(a.serializer,l)}}if(r instanceof Ct){const l=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xd(a.serializer,l)}}if(r instanceof Tr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bi)return{bytesValue:uR(a.serializer,r._byteString)};if(r instanceof jt){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:t0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Hi)return(function(u,h){const d=u instanceof Hi?u.toArray():u;return{mapValue:{fields:{[UC]:{stringValue:jC},[Sd]:{arrayValue:{values:d.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return Xv(h.serializer,y)}))}}}}}})(r,a);if(gR(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${rm(r)}`)})(t,e)}function qR(t,e){const n={};return MC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(t,((r,a)=>{const l=Wc(a,e.childContextForField(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function HR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Tr||t instanceof bi||t instanceof jt||t instanceof _m||t instanceof Hi||gR(t))}function E0(t,e,n){if(!HR(n)||!DC(n)){const r=rm(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function co(t,e,n){if((e=wt(e))instanceof _0)return e._internalPath;if(typeof e=="string")return GR(t,e);throw Nd("Field path arguments must be of type string or ",t,!1,void 0,n)}const r5=new RegExp("[~\\*/\\[\\]]");function GR(t,e,n){if(e.search(r5)>=0)throw Nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _0(...e.split("."))._internalPath}catch{throw Nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nd(t,e,n,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new Te(he.INVALID_ARGUMENT,h+t+d)}function $R(t,e){return t.some((n=>n.isEqual(e)))}class s5{convertValue(e,n="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ca(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){const n=e.fields?.[Sd].arrayValue?.values?.map((r=>Ht(r.doubleValue)));return new Hi(n)}convertGeoPoint(e){return new Tr(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=om(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sc(e));default:return null}}convertTimestamp(e){const n=na(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);ht(pR(r),9688,{name:e});const a=new Ac(r.get(1),r.get(3)),l=new Le(r.popFirst(5));return a.isEqual(n)||ts(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class w0 extends s5{constructor(e){super(),this.firestore=e}convertBytes(e){return new bi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function id(){return new T0("serverTimestamp")}const b1="@firebase/firestore",T1="4.10.0";function E1(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class YR{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(co("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a5 extends YR{data(){return super.data()}}function KR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S0{}class A0 extends S0{}function Hy(t,e,...n){let r=[];e instanceof S0&&r.push(e),r=r.concat(n),(function(l){const u=l.filter((d=>d instanceof C0)).length,h=l.filter((d=>d instanceof Em)).length;if(u>1||u>0&&h>0)throw new Te(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class Em extends A0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Em(e,n,r)}_apply(e){const n=this._parse(e);return WR(e._query,n),new os(e.firestore,e.converter,Oy(e._query,n))}_parse(e){const n=bm(e.firestore);return(function(l,u,h,d,p,y,v){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Te(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){S1(v,y);const N=[];for(const P of v)N.push(w1(d,l,P));T={arrayValue:{values:N}}}else T=w1(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||S1(v,y),T=i5(h,u,v,y==="in"||y==="not-in");return nn.create(p,y,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gy(t,e,n){const r=e,a=co("where",t);return Em._create(a,r,n)}class C0 extends S0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)WR(u,d),u=Oy(u,d)})(e._query,n),new os(e.firestore,e.converter,Oy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class R0 extends A0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new R0(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new Te(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Te(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rc(l,u)})(e._query,this._field,this._direction);return new os(e.firestore,e.converter,D4(e._query,n))}}function ho(t,e="asc"){const n=e,r=co("orderBy",t);return R0._create(r,n)}class x0 extends A0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new x0(e,n,r)}_apply(e){return new os(e.firestore,e.converter,Cd(e._query,this._limit,this._limitType))}}function Al(t){return t4("limit",t),x0._create("limit",t,"F")}function w1(t,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new Te(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YC(e)&&n.indexOf("/")!==-1)throw new Te(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!Le.isDocumentKey(r))throw new Te(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lw(t,new Le(r))}if(n instanceof jt)return Lw(t,n._key);throw new Te(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rm(n)}.`)}function S1(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WR(t,e){const n=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Te(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function QR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Za extends YR{constructor(e,n,r,a,l,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(co("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Za._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Za._jsonSchemaVersion="firestore/documentSnapshot/1.0",Za._jsonSchema={type:rn("string",Za._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class rd extends Za{data(e={}){return super.data(e)}}class eo{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ac(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new rd(this._firestore,this._userDataWriter,r.key,r,new ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new rd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ac(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new rd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ac(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:o5(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function o5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:rn("string",eo._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};function I0(t){t=Yn(t,jt);const e=Yn(t.firestore,is),n=vm(e);return H3(n,t._key).then((r=>ZR(e,t,r)))}function XR(t){t=Yn(t,os);const e=Yn(t.firestore,is),n=vm(e),r=new w0(e);return KR(t._query),G3(n,t._query).then((a=>new eo(e,r,t,a)))}function Od(t,e,n){t=Yn(t,jt);const r=Yn(t.firestore,is),a=QR(t.converter,e,n),l=bm(r);return wm(r,[FR(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ei.none())])}function JR(t,e,n,...r){t=Yn(t,jt);const a=Yn(t.firestore,is),l=bm(a);let u;return u=typeof(e=wt(e))=="string"||e instanceof _0?n5(l,"updateDoc",t._key,e,n,r):t5(l,"updateDoc",t._key,e),wm(a,[u.toMutation(t._key,Ei.exists(!0))])}function l5(t){return wm(Yn(t.firestore,is),[new Jv(t._key,Ei.none())])}function u5(t,e){const n=Yn(t.firestore,is),r=gr(t),a=QR(t.converter,e),l=bm(t.firestore);return wm(n,[FR(l,"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Ei.exists(!1))]).then((()=>r))}function Pd(t,...e){t=wt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||E1(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(E1(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let l,u,h;if(t instanceof jt)u=Yn(t.firestore,is),h=lm(t._key.path),l={next:p=>{e[r]&&e[r](ZR(u,t,p))},error:e[r+1],complete:e[r+2]};else{const p=Yn(t,os);u=Yn(p.firestore,is),h=p._query;const y=new w0(u);l={next:v=>{e[r]&&e[r](new eo(u,y,p,v))},error:e[r+1],complete:e[r+2]},KR(t._query)}const d=vm(u);return q3(d,h,a,l)}function wm(t,e){const n=vm(t);return $3(n,e)}function ZR(t,e,n){const r=n.docs.get(e._key),a=new w0(t);return new Za(t,a,e._key,r,new ac(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){qV(Ml),ro(new ea("firestore",((r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new is(new $V(r.getProvider("auth-internal")),new WV(u,r.getProvider("app-check-internal")),d4(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),yr(b1,T1,e),yr(b1,T1,"esm2020")})();const c5={apiKey:"AIzaSyAFLf5FxuXFw21D1Kxkq9cPQ59oGPSJbGg",authDomain:"humi-awake.firebaseapp.com",projectId:"humi-awake",storageBucket:"humi-awake.appspot.com",messagingSenderId:"473703878796",appId:"1:473703878796:web:2b612896eace5d6a6eeba9"},Sm=VA(c5),Vd=BV(Sm),fn=Q3(Sm),h7=Object.freeze(Object.defineProperty({__proto__:null,app:Sm,auth:Vd,db:fn},Symbol.toStringTag,{value:"Module"}));var sd={exports:{}},h5=sd.exports,A1;function f5(){return A1||(A1=1,(function(t){(function(e){function n(L,X){var A=(L&65535)+(X&65535),S=(L>>16)+(X>>16)+(A>>16);return S<<16|A&65535}function r(L,X){return L<<X|L>>>32-X}function a(L,X,A,S,D,O){return n(r(n(n(X,L),n(S,O)),D),A)}function l(L,X,A,S,D,O,V){return a(X&A|~X&S,L,X,D,O,V)}function u(L,X,A,S,D,O,V){return a(X&S|A&~S,L,X,D,O,V)}function h(L,X,A,S,D,O,V){return a(X^A^S,L,X,D,O,V)}function d(L,X,A,S,D,O,V){return a(A^(X|~S),L,X,D,O,V)}function p(L,X){L[X>>5]|=128<<X%32,L[(X+64>>>9<<4)+14]=X;var A,S,D,O,V,k=1732584193,C=-271733879,Y=-1732584194,$=271733878;for(A=0;A<L.length;A+=16)S=k,D=C,O=Y,V=$,k=l(k,C,Y,$,L[A],7,-680876936),$=l($,k,C,Y,L[A+1],12,-389564586),Y=l(Y,$,k,C,L[A+2],17,606105819),C=l(C,Y,$,k,L[A+3],22,-1044525330),k=l(k,C,Y,$,L[A+4],7,-176418897),$=l($,k,C,Y,L[A+5],12,1200080426),Y=l(Y,$,k,C,L[A+6],17,-1473231341),C=l(C,Y,$,k,L[A+7],22,-45705983),k=l(k,C,Y,$,L[A+8],7,1770035416),$=l($,k,C,Y,L[A+9],12,-1958414417),Y=l(Y,$,k,C,L[A+10],17,-42063),C=l(C,Y,$,k,L[A+11],22,-1990404162),k=l(k,C,Y,$,L[A+12],7,1804603682),$=l($,k,C,Y,L[A+13],12,-40341101),Y=l(Y,$,k,C,L[A+14],17,-1502002290),C=l(C,Y,$,k,L[A+15],22,1236535329),k=u(k,C,Y,$,L[A+1],5,-165796510),$=u($,k,C,Y,L[A+6],9,-1069501632),Y=u(Y,$,k,C,L[A+11],14,643717713),C=u(C,Y,$,k,L[A],20,-373897302),k=u(k,C,Y,$,L[A+5],5,-701558691),$=u($,k,C,Y,L[A+10],9,38016083),Y=u(Y,$,k,C,L[A+15],14,-660478335),C=u(C,Y,$,k,L[A+4],20,-405537848),k=u(k,C,Y,$,L[A+9],5,568446438),$=u($,k,C,Y,L[A+14],9,-1019803690),Y=u(Y,$,k,C,L[A+3],14,-187363961),C=u(C,Y,$,k,L[A+8],20,1163531501),k=u(k,C,Y,$,L[A+13],5,-1444681467),$=u($,k,C,Y,L[A+2],9,-51403784),Y=u(Y,$,k,C,L[A+7],14,1735328473),C=u(C,Y,$,k,L[A+12],20,-1926607734),k=h(k,C,Y,$,L[A+5],4,-378558),$=h($,k,C,Y,L[A+8],11,-2022574463),Y=h(Y,$,k,C,L[A+11],16,1839030562),C=h(C,Y,$,k,L[A+14],23,-35309556),k=h(k,C,Y,$,L[A+1],4,-1530992060),$=h($,k,C,Y,L[A+4],11,1272893353),Y=h(Y,$,k,C,L[A+7],16,-155497632),C=h(C,Y,$,k,L[A+10],23,-1094730640),k=h(k,C,Y,$,L[A+13],4,681279174),$=h($,k,C,Y,L[A],11,-358537222),Y=h(Y,$,k,C,L[A+3],16,-722521979),C=h(C,Y,$,k,L[A+6],23,76029189),k=h(k,C,Y,$,L[A+9],4,-640364487),$=h($,k,C,Y,L[A+12],11,-421815835),Y=h(Y,$,k,C,L[A+15],16,530742520),C=h(C,Y,$,k,L[A+2],23,-995338651),k=d(k,C,Y,$,L[A],6,-198630844),$=d($,k,C,Y,L[A+7],10,1126891415),Y=d(Y,$,k,C,L[A+14],15,-1416354905),C=d(C,Y,$,k,L[A+5],21,-57434055),k=d(k,C,Y,$,L[A+12],6,1700485571),$=d($,k,C,Y,L[A+3],10,-1894986606),Y=d(Y,$,k,C,L[A+10],15,-1051523),C=d(C,Y,$,k,L[A+1],21,-2054922799),k=d(k,C,Y,$,L[A+8],6,1873313359),$=d($,k,C,Y,L[A+15],10,-30611744),Y=d(Y,$,k,C,L[A+6],15,-1560198380),C=d(C,Y,$,k,L[A+13],21,1309151649),k=d(k,C,Y,$,L[A+4],6,-145523070),$=d($,k,C,Y,L[A+11],10,-1120210379),Y=d(Y,$,k,C,L[A+2],15,718787259),C=d(C,Y,$,k,L[A+9],21,-343485551),k=n(k,S),C=n(C,D),Y=n(Y,O),$=n($,V);return[k,C,Y,$]}function y(L){var X,A="",S=L.length*32;for(X=0;X<S;X+=8)A+=String.fromCharCode(L[X>>5]>>>X%32&255);return A}function v(L){var X,A=[];for(A[(L.length>>2)-1]=void 0,X=0;X<A.length;X+=1)A[X]=0;var S=L.length*8;for(X=0;X<S;X+=8)A[X>>5]|=(L.charCodeAt(X/8)&255)<<X%32;return A}function T(L){return y(p(v(L),L.length*8))}function x(L,X){var A,S=v(L),D=[],O=[],V;for(D[15]=O[15]=void 0,S.length>16&&(S=p(S,L.length*8)),A=0;A<16;A+=1)D[A]=S[A]^909522486,O[A]=S[A]^1549556828;return V=p(D.concat(v(X)),512+X.length*8),y(p(O.concat(V),640))}function N(L){var X="0123456789abcdef",A="",S,D;for(D=0;D<L.length;D+=1)S=L.charCodeAt(D),A+=X.charAt(S>>>4&15)+X.charAt(S&15);return A}function P(L){return unescape(encodeURIComponent(L))}function F(L){return T(P(L))}function B(L){return N(F(L))}function U(L,X){return x(P(L),P(X))}function z(L,X){return N(U(L,X))}function ue(L,X,A){return X?A?U(X,L):z(X,L):A?F(L):B(L)}t.exports?t.exports=ue:e.md5=ue})(h5)})(sd)),sd.exports}var d5=f5();const C1=_v(d5),ex=w.createContext(),m5=t=>{if(!t)return null;const e=t.displayName||"User",n=t.email||"";`${C1(n.trim().toLowerCase())}`;const r=`https://ui-avatars.com/api/?name=${encodeURIComponent(e)}&background=random&color=fff&bold=true`,a=t.photoURL||`https://www.gravatar.com/avatar/${C1(n.trim().toLowerCase())}?d=${encodeURIComponent(r)}`,l=["bg-red-500","bg-orange-500","bg-amber-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500"];let u=0;for(let d=0;d<e.length;d++)u=e.charCodeAt(d)+((u<<5)-u);const h=l[Math.abs(u)%l.length];return{...t,uid:t.uid,email:n,name:e,avatar:a,initials:e.charAt(0).toUpperCase(),profileColor:h}},p5=({children:t})=>{const[e,n]=w.useState(null),[r,a]=w.useState(!0);w.useEffect(()=>{const d=kP(Vd,p=>{if(p){const y=m5(p),v=gr(fn,"users",p.uid);I0(v).then(T=>{let x="user";T.exists()?x=T.data().role||"user":Od(v,{uid:p.uid,email:p.email,name:p.displayName||"User",role:"user",createdAt:id()}).catch(N=>console.error("Error creating user doc:",N)),n({...y,role:x}),a(!1)}).catch(T=>{console.error("Error fetching user role:",T),n(y),a(!1)})}else n(null),a(!1)});return()=>d()},[]);const l=w.useCallback(()=>uC(Vd),[]),u=w.useCallback(d=>{},[]),h=w.useMemo(()=>({user:e,loading:r,logout:l,dispatch:u,authIsReady:!r,isAdmin:e?.role==="admin"}),[e,r,l,u]);return M.jsx(ex.Provider,{value:h,children:t})},fa=()=>{const t=w.useContext(ex);if(!t)throw new Error("useAuthContext must be used inside an AuthContextProvider");return t},Re={subscribeToCollection:(t,e,...n)=>{if(!fn)return console.warn("Firestore not initialized"),()=>{};let r=n,a=null;n.length>0&&typeof n[n.length-1]=="function"&&(a=n.pop(),r=n);try{const l=nd(fn,t),u=Hy(l,...r);return Pd(u,d=>{const p=d.docs.map(y=>({id:y.id,...y.data()}));e(p)},d=>{a?a(d):console.error(`Error subscribing to ${t}: `,d)})}catch(l){return console.error(`Error setting up subscription for ${t}: `,l),a&&a(l),()=>{}}},subscribeToDocument:(t,e,n)=>{if(!fn)return()=>{};try{const r=gr(fn,t,e);return Pd(r,l=>{l.exists()?n({id:l.id,...l.data()}):n(null)},l=>{console.error(`Error subscribing to ${t}/${e}:`,l)})}catch(r){return console.error(`Error in document subscription ${t}/${e}:`,r),()=>{}}},addItem:async(t,e)=>{const n=nd(fn,t);return await u5(n,e)},setItem:async(t,e,n,r=!0)=>{const a=gr(fn,t,e);return await Od(a,n,{merge:r})},updateItem:async(t,e,n)=>{const r=gr(fn,t,e);return await JR(r,n)},deleteItem:async(t,e)=>{const n=e?gr(fn,t,e):gr(fn,t);return await l5(n)},getDocument:async(t,e)=>{if(!fn)return null;const n=gr(fn,t,e),r=await I0(n);return r.exists()?{id:r.id,...r.data()}:null},getCollection:async(t,...e)=>{if(!fn)return[];const n=nd(fn,t),r=Hy(n,...e);return(await XR(r)).docs.map(l=>({id:l.id,...l.data()}))}},tx=w.createContext(),nx=()=>{const t=w.useContext(tx);if(!t)throw new Error("useTheme must be used within a ThemeContextProvider");return t},g5=({children:t})=>{const{user:e}=fa(),[n,r]=w.useState(()=>{if(typeof window<"u"){const u=localStorage.getItem("theme");if(u)return u;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"});w.useEffect(()=>{const u=window.document.documentElement,h="#ffffff",d="#020617";u.classList.add("theme-transition"),n==="dark"?(u.classList.add("dark"),u.style.colorScheme="dark"):(u.classList.remove("dark"),u.style.colorScheme="light");const p=document.querySelector('meta[name="theme-color"]'),y=n==="dark"?d:h;p&&p.setAttribute("content",y),localStorage.setItem("theme",n);const v=setTimeout(()=>{u.classList.remove("theme-transition")},300);return()=>clearTimeout(v)},[n]);const a=w.useCallback(async()=>{const u=n==="dark"?"light":"dark";if(r(u),e)try{await Re.setItem(`users/${e.uid}/config`,"settings",{theme:u},!0)}catch(h){console.error("Failed to save theme",h)}},[n,e]),l=w.useMemo(()=>({theme:n,toggleTheme:a,isDark:n==="dark"}),[n,a]);return M.jsx(tx.Provider,{value:l,children:t})},ix=w.createContext(),Am=()=>{const t=w.useContext(ix);if(!t)throw new Error("useDate must be used within a DateContextProvider");return t},y5=({children:t})=>{const[e,n]=LM(),r=()=>{const U=new Date;return U.setHours(0,0,0,0),U},a=U=>{if(!U)return null;const[z,ue,L]=U.split("-").map(Number);return new Date(z,ue-1,L)},l=U=>{const z=U.getFullYear(),ue=String(U.getMonth()+1).padStart(2,"0"),L=String(U.getDate()).padStart(2,"0");return`${z}-${ue}-${L}`},u=()=>{const U=e.get("date");if(U){const z=a(U);if(z&&z<=r())return z}return r()},[h,d]=w.useState(u);w.useEffect(()=>{const U=l(h);n({date:U})},[h,n]);const p=w.useCallback(U=>{let z;typeof U=="string"?z=a(U):(z=new Date(U),z.setHours(0,0,0,0));const ue=r();if(z>ue){console.warn("Cannot navigate to future date");return}d(z)},[]),y=w.useCallback(()=>{d(U=>{const z=new Date(U);return z.setDate(U.getDate()-1),z})},[]),v=w.useCallback(()=>{d(U=>{const z=r(),ue=new Date(U);return ue.setDate(U.getDate()+1),ue>z?U:ue})},[]),T=w.useCallback(()=>{d(r())},[]),x=w.useMemo(()=>l(h),[h]),N=w.useMemo(()=>l(r()),[]),P=h.getTime()===r().getTime(),F=h<r(),B=w.useMemo(()=>({currentDate:h,formattedDate:x,isToday:P,isPast:F,setDate:p,prevDay:y,nextDay:v,jumpToToday:T,maxDate:N}),[h,x,P,F,p,y,v,T,N]);return M.jsx(ix.Provider,{value:B,children:t})},v5={getDayRef(t,e){return gr(fn,"users",t,"days",e)},subscribeToDay(t,e,n){const r=this.getDayRef(t,e);return Pd(r,a=>{a.exists()?n(a.data()):n(null)},a=>{console.error("Firestore Subscribe Error:",a)})},async saveDay(t,e,n){const r=this.getDayRef(t,e);try{await Od(r,{...n,lastModified:id()},{merge:!0})}catch(a){throw console.error("Firestore Save Error:",a),a}},async lockDay(t,e){const n=this.getDayRef(t,e);await JR(n,{locked:!0,submitted:!0,lockedAt:id()})},async getRecentHistory(t,e=7){const n=[];for(let r=0;r<e;r++){const a=new Date;a.setDate(a.getDate()-r);const l=a.toISOString().split("T")[0],u=this.getDayRef(t,l),h=await I0(u);h.exists()?n.push({date:l,data:h.data(),score:this.calculateScore(h.data())}):n.push({date:l,data:null,score:0})}return n.reverse()},async getAllHistory(t){try{const e=nd(fn,"users",t,"days"),n=new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],r=Hy(e,Gy("date",">=",n)),a=await XR(r),l=[];return a.forEach(u=>{const h=u.data();l.push({date:u.id,data:h,score:this.calculateScore(h)})}),l.sort((u,h)=>u.date.localeCompare(h.date)),l}catch(e){return console.error("Error fetching all history:",e),[]}},calculateScore(t){if(!t||!t.tasks)return 0;const e=t.tasks.length;if(e===0)return 0;const n=t.tasks.filter(r=>r.status==="checked").length;return Math.round(n/e*100)},getModuleRef(t,e){return gr(fn,"users",t,"modules",e)},subscribeToModule(t,e,n){const r=this.getModuleRef(t,e);return Pd(r,a=>{a.exists()?n(a.data()):n(null)},a=>{console.error(`Firestore Module Subscribe Error (${e}):`,a)})},async saveModule(t,e,n){const r=this.getModuleRef(t,e);try{await Od(r,{...n,lastModified:id()},{merge:!0})}catch(a){throw console.error(`Firestore Module Save Error (${e}):`,a),a}}},rx=w.createContext(),f7=()=>{const t=w.useContext(rx);if(!t)throw new Error("useData must be used within a DataContextProvider");return t},_5=({children:t})=>{const{formattedDate:e,isPast:n}=Am(),{user:r}=fa(),[a,l]=w.useState(!0),u=["junkFood","sugar","coldDrinks","screenTime","logExpense"],h=()=>({tasks:[],habits:[],submitted:!1,locked:!1,lastModified:Date.now()}),[d,p]=w.useState(h()),y=w.useCallback(C=>({id:C.id||`task_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:C.name||"Untitled Task",time:C.time||"",category:C.category||"EVE/NIGHT",icon:C.icon||"CheckCircle",status:C.status||"unchecked"}),[]),v=w.useCallback(async C=>{if(r)try{const Y=C.map($=>{const H=y($);return H.status="unchecked",H});await Re.setItem(`users/${r.uid}/modules`,"routine",{tasks:Y,lastModified:Date.now()},!0)}catch(Y){console.error("[DataContext] Failed to save master template:",Y)}},[r,y]);w.useEffect(()=>{if(!r){p(h()),l(!1);return}l(!0);const C=async()=>{try{const $=await Re.getDocument(`users/${r.uid}/modules`,"routine");if($&&$.tasks&&$.tasks.length>0){const te=$.tasks.map(q=>({...q,status:"unchecked"}));let W=[];const _e=await Re.getCollection(`users/${r.uid}/days`,ho("date","desc"),Al(1));_e&&_e.length>0&&(W=(_e[0].habits||[]).map(ae=>({...ae,value:ae.type==="number"?0:!1})));const Pe={tasks:te,habits:W,date:e,source:"template",submitted:!1,locked:!1,lastModified:Date.now()};return await Re.setItem(`users/${r.uid}/days`,e,Pe,!0),Pe}const H=await Re.getCollection(`users/${r.uid}/days`,ho("date","desc"),Al(1));if(H&&H.length>0){const te=H[0];if(te.date===e)return null;const W=(te.tasks||[]).map(q=>({...q,status:"unchecked"})),_e=(te.habits||[]).map(q=>({...q,value:q.type==="number"?0:!1})),Pe={tasks:W,habits:_e,date:e,carriedOverFrom:te.date,submitted:!1,locked:!1,lastModified:Date.now()};return await Re.setItem(`users/${r.uid}/days`,e,Pe,!0),Pe}return null}catch($){return console.error("[DataContext] Backfill error:",$),null}},Y=Re.subscribeToDocument(`users/${r.uid}/days`,e,$=>{if($){let H=$.habits||[];const te=H.length;H=H.filter(ae=>!u.includes(ae.id));const W=H.length!==te;let _e=$.tasks||[];const Pe=_e.some(ae=>ae.id&&String(ae.id).startsWith("task_0"));_e.length===0&&H.length===0&&C(),_e=_e.map(ae=>{if(!ae.category&&ae.time){const[pe]=ae.time.split(":").map(Number);let ne="EVE/NIGHT";return pe>=4&&pe<9?ne="EARLY MORNING":pe>=9&&pe<13?ne="BEFORE NOON":pe>=13&&pe<17&&(ne="AFTER NOON"),{...ae,category:ne}}return ae}),(Pe||W)&&Re.updateItem(`users/${r.uid}/days`,e,{tasks:_e,habits:H,locked:!1,submitted:!1}),p({...h(),...$,tasks:_e,habits:H,locked:Pe||W?!1:$.locked||!1,submitted:Pe||W?!1:$.submitted||!1})}else{C().then(H=>{H||p(h())}).finally(()=>l(!1));return}l(!1)});return()=>Y()},[e,r]);const T=w.useCallback(async C=>{if(!r)return;const Y=(C.tasks||[]).map(y),$=(C.habits||[]).map(te=>({...te,id:te.id||`habit_${Date.now()}`,value:te.value!==void 0?te.value:!1})),H={...C,tasks:Y,habits:$,date:e,lastModified:Date.now()};p(H);try{await Re.setItem(`users/${r.uid}/days`,e,H)}catch(te){console.error("[DataContext] Save failed:",te)}},[r,e,y]);new Date().toISOString().split("T")[0];const x=!1,N=w.useCallback(async C=>{const Y=d.tasks.map($=>{if($.id===C){let H="unchecked";return $.status==="unchecked"?H="checked":$.status==="checked"&&(H="missed"),{...$,status:H}}return $});await T({...d,tasks:Y})},[d,x,T]),P=w.useCallback(async(C,Y)=>{const $=d.habits.map(H=>H.id===C?{...H,value:Y}:H);await T({...d,habits:$})},[d,x,T]),F=w.useCallback(async(C,Y="toggle",$="hrs",H)=>{const te={id:`habit_${Date.now()}`,label:C,type:Y,icon:H||(Y==="number"?"Activity":"CheckCircle"),value:Y==="number"?0:!1,unit:Y==="number"?$:void 0};await T({...d,habits:[...d.habits,te]})},[d,x,T]),B=w.useCallback(async C=>{const Y=d.habits.filter($=>$.id!==C);await T({...d,habits:Y})},[d,x,T]),U=w.useCallback(async()=>{const C={...d,submitted:!0,locked:!0};await T(C)},[d,T]),z=w.useCallback(async C=>{if(n){console.warn("Cannot unlock past days.");return}const Y={...d,locked:!1,unlockHistory:[...d.unlockHistory||[],{timestamp:Date.now(),reason:C}]};await T(Y)},[d,n,T]),ue=w.useCallback(async C=>{d.tasks.length===0&&await T({...d,tasks:C})},[d,T]),L=w.useCallback(async C=>{const Y=y({...C,id:`task_${Date.now()}`,status:"unchecked"}),$=[...d.tasks,Y];$.sort((H,te)=>{if(!H.time||!te.time)return 0;const W=H.time.split(":").map(Number),_e=te.time.split(":").map(Number);return W[0]*60+W[1]-(_e[0]*60+_e[1])}),await T({...d,tasks:$}),v($)},[d,x,T,v,y]),X=w.useCallback(async(C,Y)=>{const $=d.tasks.map(H=>H.id===C?{...H,...Y}:H);Y.time&&$.sort((H,te)=>{const W=H.time.split(":").map(Number),_e=te.time.split(":").map(Number);return W[0]*60+W[1]-(_e[0]*60+_e[1])}),await T({...d,tasks:$}),v($)},[d,x,T,v]),A=w.useCallback(async C=>{const Y=d.tasks.filter($=>$.id!==C);await T({...d,tasks:Y}),v(Y)},[d,x,T,v]),S=w.useCallback(async C=>{const Y=C.map(y);await T({...d,tasks:Y}),v(Y)},[d,x,T,v,y]),D=w.useCallback(()=>{if(!d?.tasks||d.tasks.length===0)return 0;const C=d.tasks.length,Y=d.tasks.filter($=>$.status==="checked").length;return Math.round(Y/C*100)},[d]),O=w.useCallback(async(C=7)=>{if(!r)return[];const Y=[];for(let $=0;$<C;$++){const H=new Date;H.setDate(H.getDate()-$);const te=H.toISOString().split("T")[0];Y.push(Re.getDocument(`users/${r.uid}/days`,te).then(W=>{if(!W)return{date:te,score:0,data:null};const _e=W.tasks||[],Pe=_e.filter(ae=>ae.status==="checked").length,q=_e.length?Math.round(Pe/_e.length*100):0;return{date:te,score:q,data:W}}))}return[]},[r]),V=w.useCallback(async()=>r?await v5.getAllHistory(r.uid):[],[r]),k=w.useMemo(()=>({dailyData:d,updateTaskStatus:N,updateHabit:P,addHabit:F,deleteHabit:B,submitDay:U,unlockDay:z,initTasks:ue,addTask:L,editTask:X,deleteTask:A,updateAllTasks:S,isAuthenticated:!!r,isLocked:x,getDisciplineScore:D,getHistory:O,getAllHistory:V,isLoading:a}),[d,N,P,F,B,U,z,ue,L,X,A,S,r,x,D,O,V,a]);return M.jsx(rx.Provider,{value:k,children:t})},sx=6048e5,b5=864e5,d7=6e4,m7=36e5,R1=Symbol.for("constructDateFrom");function $i(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&R1 in t?t[R1](e):t instanceof Date?new t.constructor(e):new Date(e)}function Gt(t,e){return $i(e||t,t)}function pc(t,e,n){const r=Gt(t,n?.in);return isNaN(e)?$i(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function to(t,e,n){const r=Gt(t,n?.in);if(isNaN(e))return $i(t,NaN);if(!e)return r;const a=r.getDate(),l=$i(t,r.getTime());l.setMonth(r.getMonth()+e+1,0);const u=l.getDate();return a>=u?l:(r.setFullYear(l.getFullYear(),l.getMonth(),a),r)}let T5={};function Qc(){return T5}function Cl(t,e){const n=Qc(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Gt(t,e?.in),l=a.getDay(),u=(l<r?7:0)+l-r;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function Ld(t,e){return Cl(t,{...e,weekStartsOn:1})}function ax(t,e){const n=Gt(t,e?.in),r=n.getFullYear(),a=$i(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const l=Ld(a),u=$i(n,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const h=Ld(u);return n.getTime()>=l.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function x1(t){const e=Gt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ox(t,...e){const n=$i.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Ud(t,e){const n=Gt(t,e?.in);return n.setHours(0,0,0,0),n}function E5(t,e,n){const[r,a]=ox(n?.in,t,e),l=Ud(r),u=Ud(a),h=+l-x1(l),d=+u-x1(u);return Math.round((h-d)/b5)}function w5(t,e){const n=ax(t,e),r=$i(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ld(r)}function S5(t,e,n){return pc(t,e*7,n)}function ad(t,e,n){return to(t,e*12,n)}function Wg(t,e,n){const[r,a]=ox(n?.in,t,e);return+Ud(r)==+Ud(a)}function A5(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function C5(t){return!(!A5(t)&&typeof t!="number"||isNaN(+Gt(t)))}function I1(t,e){const n=Gt(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function D1(t,e){const n=Gt(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function R5(t,e){const n=Gt(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function x5(t,e){const n=Qc(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Gt(t,e?.in),l=a.getDay(),u=(l<r?-7:0)+6-(l-r);return a.setDate(a.getDate()+u),a.setHours(23,59,59,999),a}const I5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},D5=(t,e,n)=>{let r;const a=I5[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Qg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const k5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},M5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},O5={date:Qg({formats:k5,defaultWidth:"full"}),time:Qg({formats:M5,defaultWidth:"full"}),dateTime:Qg({formats:N5,defaultWidth:"full"})},P5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},V5=(t,e,n,r)=>P5[t];function Qu(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,h=n?.width?String(n.width):u;a=t.formattingValues[h]||t.formattingValues[u]}else{const u=t.defaultWidth,h=n?.width?String(n.width):t.defaultWidth;a=t.values[h]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return a[l]}}const L5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},U5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},j5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},z5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},B5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},F5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q5=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},H5={ordinalNumber:q5,era:Qu({values:L5,defaultWidth:"wide"}),quarter:Qu({values:U5,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qu({values:j5,defaultWidth:"wide"}),day:Qu({values:z5,defaultWidth:"wide"}),dayPeriod:Qu({values:B5,defaultWidth:"wide",formattingValues:F5,defaultFormattingWidth:"wide"})};function Xu(t){return(e,n={})=>{const r=n.width,a=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],l=e.match(a);if(!l)return null;const u=l[0],h=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(h)?$5(h,v=>v.test(u)):G5(h,v=>v.test(u));let p;p=t.valueCallback?t.valueCallback(d):d,p=n.valueCallback?n.valueCallback(p):p;const y=e.slice(u.length);return{value:p,rest:y}}}function G5(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function $5(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Y5(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const a=r[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(a.length);return{value:u,rest:h}}}const K5=/^(\d+)(th|st|nd|rd)?/i,W5=/\d+/i,Q5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},X5={any:[/^b/i,/^(a|c)/i]},J5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Z5={any:[/1/i,/2/i,/3/i,/4/i]},e6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},t6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},n6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},i6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},r6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},s6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},a6={ordinalNumber:Y5({matchPattern:K5,parsePattern:W5,valueCallback:t=>parseInt(t,10)}),era:Xu({matchPatterns:Q5,defaultMatchWidth:"wide",parsePatterns:X5,defaultParseWidth:"any"}),quarter:Xu({matchPatterns:J5,defaultMatchWidth:"wide",parsePatterns:Z5,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Xu({matchPatterns:e6,defaultMatchWidth:"wide",parsePatterns:t6,defaultParseWidth:"any"}),day:Xu({matchPatterns:n6,defaultMatchWidth:"wide",parsePatterns:i6,defaultParseWidth:"any"}),dayPeriod:Xu({matchPatterns:r6,defaultMatchWidth:"any",parsePatterns:s6,defaultParseWidth:"any"})},o6={code:"en-US",formatDistance:D5,formatLong:O5,formatRelative:V5,localize:H5,match:a6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function l6(t,e){const n=Gt(t,e?.in);return E5(n,R5(n))+1}function u6(t,e){const n=Gt(t,e?.in),r=+Ld(n)-+w5(n);return Math.round(r/sx)+1}function lx(t,e){const n=Gt(t,e?.in),r=n.getFullYear(),a=Qc(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=$i(e?.in||t,0);u.setFullYear(r+1,0,l),u.setHours(0,0,0,0);const h=Cl(u,e),d=$i(e?.in||t,0);d.setFullYear(r,0,l),d.setHours(0,0,0,0);const p=Cl(d,e);return+n>=+h?r+1:+n>=+p?r:r-1}function c6(t,e){const n=Qc(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=lx(t,e),l=$i(e?.in||t,0);return l.setFullYear(a,0,r),l.setHours(0,0,0,0),Cl(l,e)}function h6(t,e){const n=Gt(t,e?.in),r=+Cl(n,e)-+c6(n,e);return Math.round(r/sx)+1}function pt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Bs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return pt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):pt(n+1,2)},d(t,e){return pt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return pt(t.getHours()%12||12,e.length)},H(t,e){return pt(t.getHours(),e.length)},m(t,e){return pt(t.getMinutes(),e.length)},s(t,e){return pt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return pt(a,e.length)}},il={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},k1={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Bs.y(t,e)},Y:function(t,e,n,r){const a=lx(t,r),l=a>0?a:1-a;if(e==="YY"){const u=l%100;return pt(u,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):pt(l,e.length)},R:function(t,e){const n=ax(t);return pt(n,e.length)},u:function(t,e){const n=t.getFullYear();return pt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return pt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return pt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Bs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return pt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const a=h6(t,r);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):pt(a,e.length)},I:function(t,e,n){const r=u6(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):pt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Bs.d(t,e)},D:function(t,e,n){const r=l6(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):pt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const a=t.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return pt(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const a=t.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return pt(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return pt(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let a;switch(r===12?a=il.noon:r===0?a=il.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let a;switch(r>=17?a=il.evening:r>=12?a=il.afternoon:r>=4?a=il.morning:a=il.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Bs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Bs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):pt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):pt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Bs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Bs.s(t,e)},S:function(t,e){return Bs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return N1(r);case"XXXX":case"XX":return Ya(r);default:return Ya(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return N1(r);case"xxxx":case"xx":return Ya(r);default:return Ya(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+M1(r,":");default:return"GMT"+Ya(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+M1(r,":");default:return"GMT"+Ya(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return pt(r,e.length)},T:function(t,e,n){return pt(+t,e.length)}};function M1(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=Math.trunc(r/60),l=r%60;return l===0?n+String(a):n+String(a)+e+pt(l,2)}function N1(t,e){return t%60===0?(t>0?"-":"+")+pt(Math.abs(t)/60,2):Ya(t,e)}function Ya(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=pt(Math.trunc(r/60),2),l=pt(r%60,2);return n+a+e+l}const O1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},ux=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},f6=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return O1(t,e);let l;switch(r){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",O1(r,e)).replace("{{time}}",ux(a,e))},d6={p:ux,P:f6},m6=/^D+$/,p6=/^Y+$/,g6=["D","DD","YY","YYYY"];function y6(t){return m6.test(t)}function v6(t){return p6.test(t)}function _6(t,e,n){const r=b6(t,e,n);if(console.warn(r),g6.includes(t))throw new RangeError(r)}function b6(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const T6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,E6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w6=/^'([^]*?)'?$/,S6=/''/g,A6=/[a-zA-Z]/;function C6(t,e,n){const r=Qc(),a=r.locale??o6,l=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,u=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,h=Gt(t,n?.in);if(!C5(h))throw new RangeError("Invalid time value");let d=e.match(E6).map(y=>{const v=y[0];if(v==="p"||v==="P"){const T=d6[v];return T(y,a.formatLong)}return y}).join("").match(T6).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:R6(y)};if(k1[v])return{isToken:!0,value:y};if(v.match(A6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(d=a.localize.preprocessor(h,d));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:a};return d.map(y=>{if(!y.isToken)return y.value;const v=y.value;(v6(v)||y6(v))&&_6(v,e,String(t));const T=k1[v[0]];return T(h,v,a.localize,p)}).join("")}function R6(t){const e=t.match(w6);return e?e[1].replace(S6,"'"):t}function Xg(t,e){return+Gt(t)<+Gt(e)}function Jg(t,e,n){const r=+Gt(t,n?.in),[a,l]=[+Gt(e.start,n?.in),+Gt(e.end,n?.in)].sort((u,h)=>u-h);return r>=a&&r<=l}const cx=w.createContext(),p7=()=>{const t=w.useContext(cx);if(!t)throw new Error("useTasks must be used within a TaskContextProvider");return t},x6=({children:t})=>{const{user:e,authIsReady:n}=fa(),[r,a]=w.useState([]),[l,u]=w.useState([]),[h,d]=w.useState(50),[p,y]=w.useState({}),[v,T]=w.useState(!0),[x,N]=w.useState({autoDeleteCompleted:!1,confirmDelete:!0,showCompletedInList:!0,defaultPriority:"Medium",defaultDuration:15,dailyReminder:!0,reminderTime:"09:00"}),P=C6(new Date,"yyyy-MM-dd");w.useEffect(()=>{if(!n)return;if(!e){a([]),u([]),y({}),T(!1);return}T(!0);const Y=Re.subscribeToCollection(`users/${e.uid}/tasks`,W=>{a(W),T(!1)},Gy("status","==","pending"),ho("createdAt","desc"),Al(200)),$=Re.subscribeToCollection(`users/${e.uid}/tasks`,W=>{u(W)},Gy("status","==","completed"),ho("createdAt","desc"),Al(h)),H=Re.subscribeToDocument(`users/${e.uid}/config`,"taskSettings",W=>{W&&N(_e=>({..._e,...W}))}),te=Re.subscribeToDocument(`users/${e.uid}/data`,"lockedDays",W=>{W&&W.days&&y(W.days)});return()=>{Y(),$(),H(),te()}},[e,n,h]);const F=Y=>{if(!e)return;const $={...x,...Y};N($),Re.setItem(`users/${e.uid}/config`,"taskSettings",$)},B=w.useCallback(Y=>Y<P,[P]),U=w.useCallback(Y=>{const H=[...r,...l].filter(W=>W.date===Y);if(H.length===0)return 0;const te=H.filter(W=>W.status==="completed"||W.isCompleted).length;return Math.round(te/H.length*100)},[r,l]),z=w.useCallback(async(Y,$={})=>{if(!e)return;const H=$.date||P;if(H<P){console.warn("Cannot add tasks to a locked day.");return}const te={title:Y,status:"pending",isCompleted:!1,date:H,createdAt:Date.now(),priority:$.priority||"Medium",category:$.category||"Work",time:$.time||null,estimatedTime:$.estimatedTime||15,description:$.description||"",userId:e.uid};try{const W=await Re.addItem(`users/${e.uid}/tasks`,te);return{...te,id:W.id}}catch(W){throw console.error("Error adding task:",W),W}},[e,P]),ue=w.useCallback(async(Y,$)=>{if(!e)return;const te=[...r,...l].find(W=>W.id===Y);if(te){if(te.date<P){console.warn("Cannot edit tasks of a locked day.");return}await Re.updateItem(`users/${e.uid}/tasks`,Y,$)}},[e,r,l,P]),L=w.useCallback(async Y=>{if(!e)return;const H=[...r,...l].find(te=>te.id===Y);if(H&&H.date<P){console.warn("Cannot delete tasks of a locked day.");return}await Re.deleteItem(`users/${e.uid}/tasks`,Y)},[e,r,l,P]),X=w.useCallback(async(Y,$)=>{e&&await Re.updateItem(`users/${e.uid}/tasks`,Y,{date:$})},[e]),A=w.useCallback(async Y=>{if(!e)return;const H=[...r,...l].find(_e=>_e.id===Y);if(!H)return;if(H.date<P&&!H.isCompleted&&H.status!=="completed"){await Re.updateItem(`users/${e.uid}/tasks`,Y,{date:P,status:"completed",isCompleted:!0});return}if(H.date<P)return;const te=!(H.status==="completed"||H.isCompleted),W=te?"completed":"pending";await Re.updateItem(`users/${e.uid}/tasks`,Y,{status:W,isCompleted:te})},[e,r,l,P]),S=w.useCallback(async()=>{if(!e)return 0;const $=[...r,...l].filter(W=>W.date===P);let H=0;if($.length>0){const W=$.filter(_e=>_e.status==="completed"||_e.isCompleted).length;H=Math.round(W/$.length*100)}const te={...p,[P]:{lockedAt:Date.now(),score:H}};return y(te),await Re.setItem(`users/${e.uid}/data`,"lockedDays",{days:te}),H},[e,r,l,P,p]),D=w.useCallback(async()=>{if(!e)return;const $=[...r,...l].map(H=>Re.deleteItem(`users/${e.uid}/tasks`,H.id));await Promise.all($)},[e,r,l]),[O,V]=w.useState(null),k=w.useMemo(()=>[...r,...l].sort(($,H)=>H.createdAt-$.createdAt),[r,l]),C=w.useMemo(()=>({tasks:k,lockedDays:p,settings:x,currentDateStr:P,addTask:z,updateTask:ue,deleteTask:L,toggleTask:A,rescheduleTask:X,completeDay:S,getDailyScore:U,isDayLocked:B,clearAllTasks:D,updateSettings:F,activePopoverId:O,setActivePopoverId:V,isLoading:v,loadMoreCompleted:()=>d(Y=>Y+50)}),[k,p,x,P,z,ue,L,A,X,S,U,B,D,F,O,v]);return M.jsx(cx.Provider,{value:C,children:t})};const I6="type.googleapis.com/google.protobuf.Int64Value",D6="type.googleapis.com/google.protobuf.UInt64Value";function hx(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function jd(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>jd(e));if(typeof t=="function"||typeof t=="object")return hx(t,e=>jd(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Rl(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case I6:case D6:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Rl(e)):typeof t=="function"||typeof t=="object"?hx(t,e=>Rl(e)):t}const D0="functions";const P1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $n extends Ar{constructor(e,n,r){super(`${D0}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,$n.prototype)}}function k6(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function zd(t,e){let n=k6(t),r=n,a;try{const l=e&&e.error;if(l){const u=l.status;if(typeof u=="string"){if(!P1[u])return new $n("internal","internal");n=P1[u],r=u}const h=l.message;typeof h=="string"&&(r=h),a=l.details,a!==void 0&&(a=Rl(a))}}catch{}return n==="ok"?null:new $n(n,r,a)}class M6{constructor(e,n,r,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Hn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||r.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:a}}}const $y="us-central1",N6=/^data: (.*?)(?:\n|$)/;function O6(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new $n("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class P6{constructor(e,n,r,a,l=$y,u=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new M6(e,n,r,a),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(l);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=$y}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function V6(t,e,n){const r=ua(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Iv(t.emulatorOrigin+"/backends"),Dv("Functions",!0))}function L6(t,e,n){const r=a=>j6(t,e,a,{});return r.stream=(a,l)=>B6(t,e,a,l),r}function fx(t){return t.emulatorOrigin&&ua(t.emulatorOrigin)?"include":void 0}async function U6(t,e,n,r,a){n["Content-Type"]="application/json";let l;try{l=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:fx(a)})}catch{return{status:0,json:null}}let u=null;try{u=await l.json()}catch{}return{status:l.status,json:u}}async function dx(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function j6(t,e,n,r){const a=t._url(e);return z6(t,a,n,r)}async function z6(t,e,n,r){n=jd(n);const a={data:n},l=await dx(t,r),u=r.timeout||7e4,h=O6(u),d=await Promise.race([U6(e,a,l,t.fetchImpl,t),h.promise,t.cancelAllRequests]);if(h.cancel(),!d)throw new $n("cancelled","Firebase Functions instance was deleted.");const p=zd(d.status,d.json);if(p)throw p;if(!d.json)throw new $n("internal","Response is not valid JSON object.");let y=d.json.data;if(typeof y>"u"&&(y=d.json.result),typeof y>"u")throw new $n("internal","Response is missing data field.");return{data:Rl(y)}}function B6(t,e,n,r){const a=t._url(e);return F6(t,a,n,r||{})}async function F6(t,e,n,r){n=jd(n);const a={data:n},l=await dx(t,r);l["Content-Type"]="application/json",l.Accept="text/event-stream";let u;try{u=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:l,signal:r?.signal,credentials:fx(t)})}catch(T){if(T instanceof Error&&T.name==="AbortError"){const N=new $n("cancelled","Request was cancelled.");return{data:Promise.reject(N),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(N)}}}}}}const x=zd(0,null);return{data:Promise.reject(x),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(x)}}}}}}let h,d;const p=new Promise((T,x)=>{h=T,d=x});r?.signal?.addEventListener("abort",()=>{const T=new $n("cancelled","Request was cancelled.");d(T)});const y=u.body.getReader(),v=q6(y,h,d,r?.signal);return{stream:{[Symbol.asyncIterator](){const T=v.getReader();return{async next(){const{value:x,done:N}=await T.read();return{value:x,done:N}},async return(){return await T.cancel(),{done:!0,value:void 0}}}}},data:p}}function q6(t,e,n,r){const a=(u,h)=>{const d=u.match(N6);if(!d)return;const p=d[1];try{const y=JSON.parse(p);if("result"in y){e(Rl(y.result));return}if("message"in y){h.enqueue(Rl(y.message));return}if("error"in y){const v=zd(0,y);h.error(v),n(v);return}}catch(y){if(y instanceof $n){h.error(y),n(y);return}}},l=new TextDecoder;return new ReadableStream({start(u){let h="";return d();async function d(){if(r?.aborted){const p=new $n("cancelled","Request was cancelled");return u.error(p),n(p),Promise.resolve()}try{const{value:p,done:y}=await t.read();if(y){h.trim()&&a(h.trim(),u),u.close();return}if(r?.aborted){const T=new $n("cancelled","Request was cancelled");u.error(T),n(T),await t.cancel();return}h+=l.decode(p,{stream:!0});const v=h.split(`
`);h=v.pop()||"";for(const T of v)T.trim()&&a(T.trim(),u);return d()}catch(p){const y=p instanceof $n?p:zd(0,null);u.error(y),n(y)}}},cancel(){return t.cancel()}})}const V1="@firebase/functions",L1="0.13.1";const H6="auth-internal",G6="app-check-internal",$6="messaging-internal";function Y6(t){const e=(n,{instanceIdentifier:r})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(H6),u=n.getProvider($6),h=n.getProvider(G6);return new P6(a,l,u,h,r)};ro(new ea(D0,e,"PUBLIC").setMultipleInstances(!0)),yr(V1,L1,t),yr(V1,L1,"esm2020")}function K6(t=Nv(),e=$y){const r=em(wt(t),D0).getImmediate({identifier:e}),a=kA("functions");return a&&W6(r,...a),r}function W6(t,e,n){V6(wt(t),e,n)}function Q6(t,e,n){return L6(wt(t),e)}Y6();const qa={async commitFinancialTransaction(t){const e=K6(Sm),n=Q6(e,"commitFinancialTransaction");try{return(await n(t)).data}catch(r){throw console.error("Cloud Function Failed:",r),r}}},mx=w.createContext(),X6=()=>{const t=w.useContext(mx);if(!t)throw new Error("useFinance must be used within FinanceContextProvider");return t},J6=({children:t})=>{const{user:e,authIsReady:n}=fa(),r=[{id:"cat_food",name:"Food & Dining",type:"expense",budget:5e3,color:"bg-orange-500",icon:"Utensils"},{id:"cat_transport",name:"Transport",type:"expense",budget:2e3,color:"bg-blue-500",icon:"Bus"},{id:"cat_shopping",name:"Shopping",type:"expense",budget:3e3,color:"bg-pink-500",icon:"ShoppingBag"},{id:"cat_bills",name:"Bills & Utilities",type:"expense",budget:4e3,color:"bg-yellow-500",icon:"Zap"},{id:"cat_salary",name:"Salary",type:"income",budget:0,color:"bg-emerald-500",icon:"IndianRupee"}],a=[{id:"acc_cash",name:"Cash Wallet",type:"cash",balance:0,openingBalance:0,isArchived:!1},{id:"acc_bank",name:"Main Bank",type:"bank",balance:0,openingBalance:0,isArchived:!1},{id:"acc_upi",name:"UPI / Digital",type:"upi",balance:0,openingBalance:0,isArchived:!1}],[l,u]=w.useState([]),[h,d]=w.useState(50),[p,y]=w.useState([]),[v,T]=w.useState([]),[x,N]=w.useState([]),[P,F]=w.useState([]),[B,U]=w.useState([]),[z,ue]=w.useState([]),[L,X]=w.useState(!0);w.useEffect(()=>{if(!n)return;if(!e){u([]),y(r),T(a),N([]),F([]),U([]),ue([]),X(!1);return}X(!0);const ye=Re.subscribeToCollection(`users/${e.uid}/transactions`,Xe=>{u(Xe),X(!1)},ho("date","desc"),Al(h)),be=Re.subscribeToCollection(`users/${e.uid}/categories`,Xe=>{y(Xe.length>0?Xe:[])}),we=Re.subscribeToCollection(`users/${e.uid}/accounts`,Xe=>T(Xe.length>0?Xe:[])),Se=Re.subscribeToCollection(`users/${e.uid}/savingsGoals`,Xe=>N(Xe)),Fe=Re.subscribeToCollection(`users/${e.uid}/debts`,Xe=>F(Xe)),Ae=Re.subscribeToCollection(`users/${e.uid}/subscriptions`,Xe=>U(Xe)),Me=Re.subscribeToCollection(`users/${e.uid}/recurringRules`,Xe=>ue(Xe));return()=>{ye(),be(),we(),Se(),Fe(),Ae(),Me()}},[e,n,h]),w.useEffect(()=>{if(!e)return;(async()=>((await Re.getCollection(`users/${e.uid}/categories`)).length===0&&await Promise.all(r.map(Se=>Re.addItem(`users/${e.uid}/categories`,Se))),(await Re.getCollection(`users/${e.uid}/accounts`)).length===0&&await Promise.all(a.map(Se=>Re.addItem(`users/${e.uid}/accounts`,Se)))))()},[e?.uid]),w.useEffect(()=>{if(!e||z.length===0)return;(async()=>{const be=new Date;for(const we of z){if(!we.isActive)continue;let Se=new Date(we.nextDueDate),Fe=!1;for(;(Xg(Se,be)||Wg(Se,be))&&!(we.endDate&&Xg(new Date(we.endDate),Se));){const Me={transactionId:crypto.randomUUID(),accountId:we.transactionTemplate.accountId,type:we.transactionTemplate.type,amount:Number(we.transactionTemplate.amount),categoryId:we.transactionTemplate.categoryId,date:Se.toISOString(),description:we.transactionTemplate.name||"Recurring Transaction",metadata:{recurringRuleId:we.id,isfromRecurring:!0}};await qa.commitFinancialTransaction(Me),we.frequency==="daily"?Se=pc(Se,1):we.frequency==="weekly"?Se=S5(Se,1):we.frequency==="monthly"?Se=to(Se,1):we.frequency==="yearly"&&(Se=ad(Se,1)),Fe=!0}Fe&&await Re.updateItem(`users/${e.uid}/recurringRules`,we.id,{nextDueDate:Se.toISOString()})}})()},[z,e]),w.useEffect(()=>{if(!e||B.length===0)return;(async()=>{const be=new Date;for(const we of B){if(we.status!=="active"||!we.autoPay)continue;let Se=new Date(we.nextBillingDate),Fe=!1;for(;Xg(Se,be)||Wg(Se,be);){const Me={transactionId:crypto.randomUUID(),accountId:"acc_bank",type:"expense",amount:Number(we.amount),categoryId:"cat_bills",date:Se.toISOString(),description:`Subscription: ${we.name}`,metadata:{isFromSubscription:!0,subscriptionId:we.id}};await qa.commitFinancialTransaction(Me),Se=to(Se,1),Fe=!0}Fe&&await Re.updateItem(`users/${e.uid}/subscriptions`,we.id,{nextBillingDate:Se.toISOString()})}})()},[B,e]);const A=w.useCallback(ye=>v.find(be=>be.id===ye)?.balance||0,[v]),S=w.useCallback(()=>v.filter(ye=>!ye.isArchived).reduce((ye,be)=>ye+be.balance,0),[v]),D=w.useCallback(()=>{const ye=new Date,be=D1(ye),we=I1(ye);return l.filter(Se=>{if(Se.isDeleted||Se.type!=="expense")return!1;const Fe=new Date(Se.date||Se.createdAt);return!isNaN(Fe.getTime())&&Jg(Fe,{start:be,end:we})}).reduce((Se,Fe)=>Se+Number(Fe.amount),0)},[l]),O=w.useCallback(ye=>{const be=new Date,we=D1(be),Se=I1(be);return l.filter(Fe=>{if(Fe.isDeleted)return!1;const Ae=new Date(Fe.date||Fe.createdAt);return isNaN(Ae.getTime())?!1:Jg(Ae,{start:we,end:Se})}).reduce((Fe,Ae)=>Ae.categoryId===ye?Fe+Number(Ae.amount):Fe,0)},[l]),V=w.useCallback(ye=>{const be=p.find(Xe=>Xe.id===ye);if(!be||!be.budget)return null;const we=O(ye),Se=Number(be.budget),Fe=Se-we,Ae=Math.min(Math.round(we/Se*100),100);let Me="good";return Ae>=100?Me="danger":Ae>=80&&(Me="warning"),{spent:we,budget:Se,remaining:Fe,percent:Ae,status:Me}},[p,O]),k=w.useCallback((ye=new Date)=>l.filter(be=>{if(be.isDeleted||be.type!=="expense")return!1;const we=new Date(be.date||be.createdAt);return isNaN(we.getTime())?!1:Wg(we,ye)}).reduce((be,we)=>be+Number(we.amount),0),[l]),C=w.useCallback(()=>{const ye=new Date,be=Cl(ye,{weekStartsOn:1}),we=x5(ye,{weekStartsOn:1}),Se=l.filter(Me=>{if(Me.isDeleted)return!1;const Xe=new Date(Me.date||Me.createdAt);return isNaN(Xe.getTime())?!1:Jg(Xe,{start:be,end:we})}),Fe=Se.filter(Me=>Me.type==="income").reduce((Me,Xe)=>Me+Number(Xe.amount),0),Ae=Se.filter(Me=>Me.type==="expense").reduce((Me,Xe)=>Me+Number(Xe.amount),0);return Fe-Ae},[l]),Y=w.useCallback(async ye=>{e&&await qa.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:ye.accountId,type:ye.type,amount:Number(ye.amount),categoryId:ye.categoryId,date:ye.date||new Date().toISOString(),description:ye.note||ye.description,metadata:{...ye}})},[e]),$=w.useCallback(async({amount:ye,fromAccountId:be,toAccountId:we,note:Se,date:Fe})=>{e&&await qa.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:be,toAccountId:we,type:"transfer",amount:Number(ye),date:Fe||new Date().toISOString(),description:Se||"Fund Transfer",categoryId:"cat_transfer"})},[e]),H=w.useCallback(async ye=>{if(!e)return;const be={isActive:!0,nextDueDate:ye.startDate,...ye};await Re.addItem(`users/${e.uid}/recurringRules`,be)},[e]),te=w.useCallback(async ye=>{if(!e)return;const be=l.find(Me=>Me.transactionId===ye||Me.id===ye);if(!be||be.isDeleted)return;const we=crypto.randomUUID();let Se=be.type==="income"?"expense":"income",Fe=be.accountId,Ae;be.type==="transfer"&&(Se="transfer",Fe=be.toAccountId,Ae=be.accountId),await qa.commitFinancialTransaction({transactionId:we,accountId:Fe,toAccountId:Ae,type:Se,amount:Number(be.amount),date:new Date().toISOString(),description:`Correction: Undo ${be.description||"Transaction"}`,metadata:{isCompensation:!0,originalTransactionId:be.transactionId||be.id}})},[e,l]),W=w.useCallback(async ye=>{console.warn("restoreTransaction is deprecated in strict ledger mode.")},[]),_e=w.useCallback(async(ye,be)=>{e&&(await te(ye),await Y(be))},[e,te,Y]),Pe=w.useCallback(ye=>!1,[]),q=w.useCallback(async(ye,be)=>{if(!e)return;const{balance:we,...Se}=be;await Re.updateItem(`users/${e.uid}/accounts`,ye,Se)},[e]),ae=w.useCallback(async ye=>{if(!e)return;const be=v.find(we=>we.id===ye);be&&await Re.updateItem(`users/${e.uid}/accounts`,ye,{isArchived:!be.isArchived})},[e,v]),pe=w.useCallback(async(ye,be)=>{e&&await Re.updateItem(`users/${e.uid}/categories`,ye,{budget:be})},[e]),ne=w.useCallback(async ye=>{e&&await Re.addItem(`users/${e.uid}/categories`,ye)},[e]),ie=w.useCallback(async(ye,be=!1,we=null)=>{if(!e)return;const Se={createdAt:Date.now(),status:"open",isSettled:!1,paidAmount:0,history:[{id:`dh_${Date.now()}`,date:Date.now(),amount:Number(ye.amount),type:"creation",note:"Record created"}],...ye},Fe=await Re.addItem(`users/${e.uid}/debts`,Se);if(be&&we){const Ae=ye.type==="payable",Me=Ae?"income":"expense";await qa.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:we,type:Me,amount:Number(ye.amount),categoryId:Ae?"cat_debt_in":"cat_debt_out",date:new Date().toISOString(),description:`Debt: ${ye.person}`,metadata:{relatedDebtId:Fe.id}})}},[e]),J=w.useCallback(async(ye,be,we=new Date)=>{if(!e)return;const Se=P.find(Hl=>Hl.id===ye);if(!Se)return;const Fe=Number(be),Ae=Se.type==="receivable";await qa.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:"acc_bank",type:Ae?"income":"expense",amount:Fe,categoryId:"cat_debt",date:new Date(we).toISOString(),description:`Repayment: ${Se.person}`,metadata:{relatedDebtId:ye}});const Me=(Se.paidAmount||0)+Fe,Xe=Me>=Number(Se.amount);await Re.updateItem(`users/${e.uid}/debts`,ye,{paidAmount:Me,isSettled:Xe,payments:[...Se.payments||[],{amount:Fe,date:new Date(we).toISOString(),id:`pay_${Date.now()}`}]})},[e,P]),ge=w.useCallback(ye=>{const be=P.find(we=>we.id===ye);if(be&&!be.isSettled){const we=Number(be.amount)-(be.paidAmount||0);we>0&&J(ye,we)}},[P,J]),Ee=w.useCallback(async ye=>{if(!e)return;const be=new Date,we=Number(ye.dueDate);let Se=new Date(be.getFullYear(),be.getMonth(),we);Se<be&&(Se=to(Se,1));const Fe={status:"active",autoPay:!0,nextBillingDate:Se.toISOString(),...ye};await Re.addItem(`users/${e.uid}/subscriptions`,Fe)},[e]),de=w.useCallback(async(ye,be)=>{e&&await Re.updateItem(`users/${e.uid}/subscriptions`,ye,be)},[e]),Ue=w.useCallback(async ye=>{if(!e)return;const be=B.find(we=>we.id===ye);be&&await Re.updateItem(`users/${e.uid}/subscriptions`,ye,{status:be.status==="active"?"paused":"active"})},[e,B]),We=w.useCallback(async ye=>{e&&await Re.deleteItem(`users/${e.uid}/subscriptions`,ye)},[e]),Ne=w.useCallback(()=>d(ye=>ye+50),[]),Ot=w.useMemo(()=>({transactions:l,categories:p,accounts:v,savingsGoals:x,debts:P,subscriptions:B,addTransaction:Y,addTransfer:$,deleteTransaction:te,editTransaction:_e,restoreTransaction:W,checkDuplicate:Pe,getAccountBalance:A,getTotalBalance:S,getMonthlySpend:D,getCategorySpend:O,updateCategoryBudget:pe,addCategory:ne,addDebt:ie,addDebtPayment:J,settleDebt:ge,addSubscription:Ee,updateSubscription:de,toggleSubscriptionStatus:Ue,deleteSubscription:We,updateAccount:q,toggleArchiveAccount:ae,addRecurringRule:H,recurringRules:z,getBudgetStats:V,getDailySpend:k,getWeeklySavings:C,isLoading:L,loadMoreTransactions:Ne}),[l,p,v,x,P,B,z,L,Y,$,te,_e,W,Pe,A,S,D,O,pe,ne,ie,J,ge,Ee,de,Ue,We,q,ae,H,V,k,C,Ne]);return M.jsx(mx.Provider,{value:Ot,children:t})},px=w.createContext(),Z6=({children:t})=>{const[e,n]=w.useState(null),r=w.useCallback(l=>{n(l)},[]),a=w.useCallback(()=>{n(null)},[]);return M.jsx(px.Provider,{value:{error:e,showError:r,clearError:a},children:t})},gx=()=>w.useContext(px),Cn=t=>t?t.code?{code:t.code,message:t.message||"Firebase error occurred."}:t instanceof Error?{code:"JS_ERROR",message:t.message}:{code:"UNEXPECTED_ERROR",message:"Unexpected error occurred."}:{code:"UNKNOWN_ERROR",message:"An unknown error occurred."},yx=w.createContext(),eU=[{type:"Oil Change",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Engine Oil Filter",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Air Filter",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:2e4,category:"mandatory"},{type:"Brake Check",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Chain Lubrication",frequencyValue:1,frequencyUnit:"months",frequencyType:"both",odometerValue:500,category:"optional",applicable:["bike","scooter"]},{type:"Coolant Check",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Battery Health",frequencyValue:12,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Tyre Pressure",frequencyValue:1,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Tyre Rotation",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"optional"},{type:"Wheel Alignment",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"optional"},{type:"General Service",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Accident Repair",frequencyType:"none",category:"optional"},{type:"Accessories Maintenance",frequencyValue:12,frequencyUnit:"months",frequencyType:"date",category:"optional"},{type:"Insurance Renewal",frequencyValue:12,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Pollution Certificate",frequencyValue:6,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Registration Renewal",frequencyValue:15,frequencyUnit:"years",frequencyType:"date",category:"mandatory"},{type:"Fitness Certificate",frequencyValue:1,frequencyUnit:"years",frequencyType:"date",category:"optional",applicable:["commercial"]}],g7=()=>{const t=w.useContext(yx);if(!t)throw new Error("useVehicle must be used within VehicleContextProvider");return t},tU=({children:t})=>{const{user:e,authIsReady:n}=fa(),{addTransaction:r,categories:a}=X6(),{showError:l}=gx(),[u,h]=w.useState([]),[d,p]=w.useState([]),[y,v]=w.useState([]),[T,x]=w.useState(20),[N,P]=w.useState([]),[F,B]=w.useState(!0),[U,z]=w.useState(null);w.useEffect(()=>{U&&l(U)},[U,l]),w.useEffect(()=>{if(!n)return;if(!e){h([]),p([]),v([]),P([]),B(!1);return}B(!0);const ne=Re.subscribeToCollection(`users/${e.uid}/vehicles`,Ee=>{z(null),h(Ee),B(!1)},ho("createdAt","desc"),Ee=>{const de=Cn(Ee);console.error(de),z(de),B(!1)}),ie=Re.subscribeToCollection(`users/${e.uid}/followUps`,Ee=>{z(null),p(Ee)},Ee=>{const de=Cn(Ee);console.error(de),z(de)}),J=Re.subscribeToCollection(`users/${e.uid}/serviceRecords`,Ee=>{z(null),v(Ee)},ho("date","desc"),Al(T),Ee=>{const de=Cn(Ee);console.error(de),z(de)}),ge=Re.subscribeToCollection(`users/${e.uid}/vehicleLoans`,Ee=>{z(null),P(Ee)},Ee=>{const de=Cn(Ee);console.error(de),z(de)});return()=>{ne(),ie(),J(),ge()}},[e,n,T]);const ue=w.useCallback(async ne=>{try{if(!e?.uid)return;z(null),await Re.deleteItem(`users/${e.uid}/vehicles/${ne}`)}catch(ie){const J=Cn(ie);throw console.error("Error deleting vehicle:",J),z(J),J}},[e]),L=w.useCallback(async ne=>{try{if(!e)return;z(null);const ie={createdAt:Date.now(),isArchived:!1,isActive:u.length===0,...ne},ge=(await Re.addItem(`users/${e.uid}/vehicles`,ie)).id,Ee=eU.filter(de=>!de.applicable||de.applicable.includes(ne.type)).filter(de=>de.frequencyType!=="none").map(de=>{const Ue=new Date;let We=null;(de.frequencyType==="date"||de.frequencyType==="both")&&(de.frequencyUnit==="days"&&(We=pc(Ue,de.frequencyValue).toISOString()),de.frequencyUnit==="months"&&(We=to(Ue,de.frequencyValue).toISOString()),de.frequencyUnit==="years"&&(We=ad(Ue,de.frequencyValue).toISOString()));let Ne=null;return(de.frequencyType==="odometer"||de.frequencyType==="both")&&(Ne=(Number(ne.odometer)||0)+(de.odometerValue||0)),{vehicleId:ge,type:de.type,frequencyType:de.frequencyType,frequencyValue:de.frequencyValue,frequencyUnit:de.frequencyUnit,odometerValue:de.odometerValue,dueDate:We,dueOdometer:Ne,isRecurring:!0,isStandard:!0,status:"pending"}});await Promise.all(Ee.map(de=>Re.addItem(`users/${e.uid}/followUps`,de)))}catch(ie){const J=Cn(ie);throw console.error(J),z(J),J}},[e,u]),X=w.useCallback(async(ne,ie)=>{try{if(!e)return;z(null),await Re.updateItem(`users/${e.uid}/vehicles`,ne,ie)}catch(J){const ge=Cn(J);throw console.error(ge),z(ge),ge}},[e]),A=w.useCallback(async ne=>{try{if(!e)return;z(null);const ie=u.find(ge=>ge.id===ne);if(!ie)return;let J={isArchived:!ie.isArchived};!ie.isArchived&&ie.isActive&&(J.isActive=!1),await X(ne,J)}catch(ie){const J=Cn(ie);throw console.error(J),z(J),J}},[e,u,X]),S=w.useCallback(async ne=>{try{if(!e)return;z(null);const ie=u.map(J=>J.id===ne&&!J.isActive?Re.updateItem(`users/${e.uid}/vehicles`,J.id,{isActive:!0}):J.id!==ne&&J.isActive?Re.updateItem(`users/${e.uid}/vehicles`,J.id,{isActive:!1}):Promise.resolve());await Promise.all(ie)}catch(ie){const J=Cn(ie);throw console.error(J),z(J),J}},[e,u]),D=w.useCallback(()=>u.find(ne=>ne.isActive&&!ne.isArchived),[u]),O=w.useCallback(async ne=>{try{if(!e)return;z(null);const ie={status:"pending",...ne};await Re.addItem(`users/${e.uid}/followUps`,ie)}catch(ie){const J=Cn(ie);throw console.error(J),z(J),J}},[e]),V=w.useCallback(async ne=>{try{if(!e)return;z(null),await Re.deleteItem(`users/${e.uid}/followUps`,ne)}catch(ie){const J=Cn(ie);throw console.error(J),z(J),J}},[e]),k=w.useCallback(async(ne,ie)=>{try{if(!e)return;z(null);const J=d.find(de=>de.id===ne);if(!J)return;const ge=u.find(de=>de.id===J.vehicleId);let Ee={vehicleId:J.vehicleId,followUpId:ne,type:J.type,...ie};if(ie.cost>0&&ie.accountId){let de="cat_vehicle";const Ue=a.find(Ne=>Ne.name==="Vehicle"||Ne.id==="cat_vehicle");Ue?de=Ue.id:de=a.find(Ne=>Ne.name==="Transport")?.id||a.find(Ne=>Ne.type==="expense")?.id;const We={amount:ie.cost,type:"expense",categoryId:de,accountId:ie.accountId,note:`Vehicle: ${ge?.name} - ${J.type}`,date:ie.date};await r(We),Ee.financeTxId=!0}if(await Re.addItem(`users/${e.uid}/serviceRecords`,Ee),Number(ie.odometer)>Number(ge?.odometer||0)&&await X(ge.id,{odometer:ie.odometer}),await V(ne),J.isRecurring){const de={...J};if(delete de.id,J.frequencyType==="date"||J.frequencyType==="both"){const Ue=new Date(ie.date);let We=Ue;J.frequencyUnit==="days"&&(We=pc(Ue,J.frequencyValue)),J.frequencyUnit==="months"&&(We=to(Ue,J.frequencyValue)),J.frequencyUnit==="years"&&(We=ad(Ue,J.frequencyValue)),de.dueDate=We.toISOString()}if(J.frequencyType==="odometer"||J.frequencyType==="both"){const Ue=Number(ie.odometer);de.dueOdometer=Ue+Number(J.odometerValue||J.frequencyValue)}await O(de)}}catch(J){const ge=Cn(J);throw console.error(ge),z(ge),ge}},[e,d,u,a,r,X,V,O]),C=w.useCallback(async ne=>{try{if(!e)return;z(null);const ie={...ne};if(ne.cost>0&&ne.accountId){let ge=a.find(Ue=>Ue.name==="Transport")?.id||a.find(Ue=>Ue.type==="expense")?.id;const Ee=u.find(Ue=>Ue.id===ne.vehicleId),de={amount:ne.cost,type:"expense",categoryId:ge,accountId:ne.accountId,note:`Vehicle: ${Ee?.name} - ${ne.type}`,date:ne.date};await r(de),ie.financeTxId=!0}await Re.addItem(`users/${e.uid}/serviceRecords`,ie);const J=u.find(ge=>ge.id===ne.vehicleId);J&&Number(ne.odometer)>Number(J.odometer||0)&&await X(J.id,{odometer:ne.odometer})}catch(ie){const J=Cn(ie);throw console.error(J),z(J),J}},[e,a,u,r,X]),Y=w.useCallback((ne,ie)=>y.filter(J=>J.vehicleId===ne&&J.type===ie).sort((J,ge)=>new Date(ge.date)-new Date(J.date))[0],[y]),$=w.useCallback(async(ne,ie)=>{try{if(!e)return;z(null);const J=d.find(Ee=>Ee.vehicleId===ne&&Ee.type===ie.type&&Ee.status!=="completed"),ge=u.find(Ee=>Ee.id===ne);if(J)await V(J.id);else{const Ee=new Date;let de=null;(ie.frequencyType==="date"||ie.frequencyType==="both")&&(ie.frequencyUnit==="days"&&(de=pc(Ee,ie.frequencyValue).toISOString()),ie.frequencyUnit==="months"&&(de=to(Ee,ie.frequencyValue).toISOString()),ie.frequencyUnit==="years"&&(de=ad(Ee,ie.frequencyValue).toISOString()));let Ue=null;ge&&(ie.frequencyType==="odometer"||ie.frequencyType==="both")&&(Ue=(Number(ge.odometer)||0)+(ie.odometerValue||0));const We={vehicleId:ne,type:ie.type,frequencyType:ie.frequencyType,frequencyValue:ie.frequencyValue,frequencyUnit:ie.frequencyUnit,odometerValue:ie.odometerValue,dueDate:de,dueOdometer:Ue,isRecurring:!0,isStandard:!0,status:"pending"};await O(We)}}catch(J){const ge=Cn(J);throw console.error(ge),z(ge),ge}},[e,d,u,V,O]),H=w.useCallback(async ne=>{try{if(!e)return;z(null);const ie={status:"active",history:[],remainingPrincipal:Number(ne.totalLoanAmount),...ne};await Re.addItem(`users/${e.uid}/vehicleLoans`,ie)}catch(ie){const J=Cn(ie);throw console.error(J),z(J),J}},[e]),te=w.useCallback(async(ne,ie)=>{try{if(!e)return;z(null);const J=N.find(de=>de.id===ne);if(!J)return;const ge=u.find(de=>de.id===J.vehicleId);let Ee=Number(J.remainingPrincipal)-Number(ie.principal);if(Ee<0&&(Ee=0),ie.amount>0&&ie.accountId){let de="cat_vehicle";const Ue=a.find(Ne=>Ne.name==="Vehicle"||Ne.id==="cat_vehicle");Ue?de=Ue.id:de=a.find(Ne=>Ne.name==="Transport")?.id||a.find(Ne=>Ne.type==="expense")?.id;const We={amount:ie.amount,type:"expense",categoryId:de,accountId:ie.accountId,note:`Vehicle: ${ge?.name} - Loan EMI (${ie.type}) - ${J.lender}`,date:ie.date};await r(We)}await Re.updateItem(`users/${e.uid}/vehicleLoans`,ne,{remainingPrincipal:Ee,history:[...J.history||[],ie],status:Ee<=0?"closed":"active"})}catch(J){const ge=Cn(J);throw console.error(ge),z(ge),ge}},[e,N,u,a,r]),W=w.useCallback(ne=>N.find(ie=>ie.vehicleId===ne&&ie.status!=="closed"),[N]),_e=w.useCallback(ne=>{const ie=N.find(Ot=>Ot.id===ne);if(!ie)return null;const J=new Date,ge=J.getFullYear(),Ee=J.getMonth(),de=new Date(ge,Ee,ie.dueDateDay);if(isNaN(de.getTime()))return{status:"error",dueDate:"",isPastDue:!1,interestBalance:0,daysLate:0};const Ue=ie.history?.some(Ot=>{const ye=new Date(Ot.date);return!isNaN(ye.getTime())&&ye.getFullYear()===ge&&ye.getMonth()===Ee&&Ot.type==="EMI"}),We=!Ue&&J>de?"overdue":Ue?"paid":"pending";let Ne=0;if(ie.interestType==="reducing"){const Ot=ie.interestRate/100/12;Ne=ie.remainingPrincipal*Ot}else Ne=ie.totalLoanAmount*(ie.interestRate/100)*(ie.tenureMonths/12)/ie.tenureMonths;return{status:We,dueDate:de.toISOString(),isPastDue:!Ue&&J>de,interestBalance:Math.round(Ne),daysLate:!Ue&&J>de?Math.floor((J-de)/(1e3*60*60*24)):0}},[N]),Pe=w.useCallback(ne=>{const ie=u.find(Ae=>Ae.id===ne);if(!ie)return null;const J=y.filter(Ae=>Ae.vehicleId===ne),ge=d.filter(Ae=>Ae.vehicleId===ne&&Ae.status!=="completed"),Ee=J.reduce((Ae,Me)=>Ae+(Number(Me.cost)||0),0),de=new Date,We=J.filter(Ae=>{const Me=new Date(Ae.date);return!isNaN(Me.getTime())&&Me>new Date(de.getFullYear(),de.getMonth(),1)}).reduce((Ae,Me)=>Ae+(Number(Me.cost)||0),0),Ne=new Date(ie.purchaseDate),ye=!isNaN(Ne.getTime())?Math.max(1,(de.getFullYear()-Ne.getFullYear())*12+(de.getMonth()-Ne.getMonth())):1,be=Math.round(Ee/ye),Se=ge.filter(Ae=>{let Me=!1;if((Ae.frequencyType==="date"||Ae.frequencyType==="both")&&Ae.dueDate){const Xe=new Date(Ae.dueDate);!isNaN(Xe.getTime())&&Xe<de&&(Me=!0)}return(Ae.frequencyType==="odometer"||Ae.frequencyType==="both")&&Ae.dueOdometer&&Number(ie.odometer)>=Number(Ae.dueOdometer)&&(Me=!0),Me}).length,Fe=J.sort((Ae,Me)=>new Date(Me.date)-new Date(Ae.date))[0];return{totalSpend:Ee,monthSpend:We,costPerMonth:be,overdueCount:Se,lastServiceDate:Fe?.date,lastServiceType:Fe?.type}},[u,y,d]),q=w.useCallback(ne=>{const ie=u.find(Ne=>Ne.id===ne);if(!ie)return[];const J=[],ge=W(ne);if(ge){const Ne=_e(ge.id);Ne.isPastDue?J.push({type:"critical",title:`EMI Overdue by ${Ne.daysLate} days`,detail:"Immediate payment required to avoid penalties."}):Ne.status==="active"&&J.push({type:"info",title:`Interest Remaining: ${Ne.interestBalance.toLocaleString()}`,detail:`${ge.interestType==="reducing"?"Reducing Balance":"Flat Rate"} Interest`})}const Ee=d.filter(Ne=>Ne.vehicleId===ne&&Ne.status!=="completed"),de=Ee.find(Ne=>(Ne.name||Ne.type||"").toLowerCase().includes("insurance"));if(de){const Ne=de.dueDate?new Date(de.dueDate):null,Ot=Ne&&!isNaN(Ne.getTime())?Math.ceil((Ne-new Date)/(1e3*60*60*24)):999;Ot<0?J.push({type:"critical",title:"Insurance Expired",detail:` expired ${Math.abs(Ot)} days ago. Do not drive.`}):Ot<=15&&J.push({type:"warning",title:"Insurance Expiring Soon",detail:`Renew within ${Ot} days.`})}const Ue=Ee.find(Ne=>(Ne.name||Ne.type||"").toLowerCase().includes("oil"));if(Ue&&Ue.dueOdometer&&Number(ie.odometer)>=Number(Ue.dueOdometer)){const Ne=Number(ie.odometer)-Number(Ue.dueOdometer);J.push({type:"warning",title:`Oil Change Overdue by ${Ne} km`,detail:"Engine health at risk."})}const We=Pe(ne);return We&&(J.push({type:"info",title:`Monthly Cost: ${We.costPerMonth.toLocaleString()}`,detail:"Average cost of ownership per month."}),We.monthSpend>We.costPerMonth*1.5&&We.monthSpend>2e3&&J.push({type:"warning",title:"Rising Monthly Cost",detail:`This month's spend (${We.monthSpend}) is 50% higher than average.`})),J},[u,d,W,_e,Pe]),ae=w.useCallback(()=>x(ne=>ne+20),[]),pe=w.useMemo(()=>({vehicles:u,followUps:d,serviceRecords:y,addVehicle:L,updateVehicle:X,toggleArchiveVehicle:A,setVehicleActive:S,getActiveVehicle:D,addFollowUp:O,deleteFollowUp:V,completeFollowUp:k,addServiceRecord:C,getVehicleStats:Pe,getLatestRecord:Y,toggleMaintenanceItem:$,loans:N,addLoan:H,payEMI:te,getLoanForVehicle:W,getLoanDetailedStatus:_e,getVehicleRisks:q,deleteVehicle:ue,error:U,isLoading:F,loadMoreServiceRecords:ae}),[u,d,y,N,F,L,X,A,S,D,ue,O,V,k,C,Pe,Y,$,H,te,W,_e,q,ae]);return M.jsx(yx.Provider,{value:pe,children:t})},k0="/AWAKE/assets/awake_logo_new-CKmsyQnW.png",vx=()=>M.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 pb-20",children:M.jsx("div",{className:"relative flex flex-col items-center",children:M.jsx("img",{src:k0,alt:"Loading...",className:"h-16 w-auto animate-pulse object-contain drop-shadow-xl dark:brightness-0 dark:invert"})})}),U1=({children:t})=>{const{user:e,authIsReady:n}=fa();return n?e?t:M.jsx(TA,{to:"/login",replace:!0}):M.jsx(vx,{})},M0=w.createContext({});function N0(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const _x=typeof window<"u",bx=_x?w.useLayoutEffect:w.useEffect,Cm=w.createContext(null);function O0(t,e){t.indexOf(e)===-1&&t.push(e)}function P0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Sr=(t,e,n)=>n>e?e:n<t?t:n;let V0=()=>{};const rs={},Tx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Ex(t){return typeof t=="object"&&t!==null}const wx=t=>/^0[^.\s]+$/u.test(t);function L0(t){let e;return()=>(e===void 0&&(e=t()),e)}const wi=t=>t,nU=(t,e)=>n=>e(t(n)),Xc=(...t)=>t.reduce(nU),kc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class U0{constructor(){this.subscriptions=[]}add(e){return O0(this.subscriptions,e),()=>P0(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xr=t=>t*1e3,Ti=t=>t/1e3;function Sx(t,e){return e?t*(1e3/e):0}const Ax=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,iU=1e-7,rU=12;function sU(t,e,n,r,a){let l,u,h=0;do u=e+(n-e)/2,l=Ax(u,r,a)-t,l>0?n=u:e=u;while(Math.abs(l)>iU&&++h<rU);return u}function Jc(t,e,n,r){if(t===e&&n===r)return wi;const a=l=>sU(l,0,1,t,n);return l=>l===0||l===1?l:Ax(a(l),e,r)}const Cx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Rx=t=>e=>1-t(1-e),xx=Jc(.33,1.53,.69,.99),j0=Rx(xx),Ix=Cx(j0),Dx=t=>(t*=2)<1?.5*j0(t):.5*(2-Math.pow(2,-10*(t-1))),z0=t=>1-Math.sin(Math.acos(t)),kx=Rx(z0),Mx=Cx(z0),aU=Jc(.42,0,1,1),oU=Jc(0,0,.58,1),Nx=Jc(.42,0,.58,1),lU=t=>Array.isArray(t)&&typeof t[0]!="number",Ox=t=>Array.isArray(t)&&typeof t[0]=="number",uU={linear:wi,easeIn:aU,easeInOut:Nx,easeOut:oU,circIn:z0,circInOut:Mx,circOut:kx,backIn:j0,backInOut:Ix,backOut:xx,anticipate:Dx},cU=t=>typeof t=="string",j1=t=>{if(Ox(t)){V0(t.length===4);const[e,n,r,a]=t;return Jc(e,n,r,a)}else if(cU(t))return uU[t];return t},Uf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function hU(t,e){let n=new Set,r=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,v=!1,T=!1)=>{const N=T&&a?n:r;return v&&u.add(y),N.has(y)||N.add(y),y},cancel:y=>{r.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const fU=40;function Px(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Uf.reduce((z,ue)=>(z[ue]=hU(l),z),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:T,render:x,postRender:N}=u,P=()=>{const z=rs.useManualTiming?a.timestamp:performance.now();n=!1,rs.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(z-a.timestamp,fU),1)),a.timestamp=z,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),v.process(a),T.process(a),x.process(a),N.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(P))},F=()=>{n=!0,r=!0,a.isProcessing||t(P)};return{schedule:Uf.reduce((z,ue)=>{const L=u[ue];return z[ue]=(X,A=!1,S=!1)=>(n||F(),L.schedule(X,A,S)),z},{}),cancel:z=>{for(let ue=0;ue<Uf.length;ue++)u[Uf[ue]].cancel(z)},state:a,steps:u}}const{schedule:Rt,cancel:oa,state:bn,steps:Zg}=Px(typeof requestAnimationFrame<"u"?requestAnimationFrame:wi,!0);let od;function dU(){od=void 0}const On={now:()=>(od===void 0&&On.set(bn.isProcessing||rs.useManualTiming?bn.timestamp:performance.now()),od),set:t=>{od=t,queueMicrotask(dU)}},Vx=t=>e=>typeof e=="string"&&e.startsWith(t),Lx=Vx("--"),mU=Vx("var(--"),B0=t=>mU(t)?pU.test(t.split("/*")[0].trim()):!1,pU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function z1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const jl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mc={...jl,transform:t=>Sr(0,1,t)},jf={...jl,default:1},gc=t=>Math.round(t*1e5)/1e5,F0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gU(t){return t==null}const yU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,q0=(t,e)=>n=>!!(typeof n=="string"&&yU.test(n)&&n.startsWith(t)||e&&!gU(n)&&Object.prototype.hasOwnProperty.call(n,e)),Ux=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,u,h]=r.match(F0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},vU=t=>Sr(0,255,t),ey={...jl,transform:t=>Math.round(vU(t))},Xa={test:q0("rgb","red"),parse:Ux("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ey.transform(t)+", "+ey.transform(e)+", "+ey.transform(n)+", "+gc(Mc.transform(r))+")"};function _U(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Yy={test:q0("#"),parse:_U,transform:Xa.transform},Zc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),qs=Zc("deg"),Er=Zc("%"),ke=Zc("px"),bU=Zc("vh"),TU=Zc("vw"),B1={...Er,parse:t=>Er.parse(t)/100,transform:t=>Er.transform(t*100)},ul={test:q0("hsl","hue"),parse:Ux("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Er.transform(gc(e))+", "+Er.transform(gc(n))+", "+gc(Mc.transform(r))+")"},tn={test:t=>Xa.test(t)||Yy.test(t)||ul.test(t),parse:t=>Xa.test(t)?Xa.parse(t):ul.test(t)?ul.parse(t):Yy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Xa.transform(t):ul.transform(t),getAnimatableNone:t=>{const e=tn.parse(t);return e.alpha=0,tn.transform(e)}},EU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wU(t){return isNaN(t)&&typeof t=="string"&&(t.match(F0)?.length||0)+(t.match(EU)?.length||0)>0}const jx="number",zx="color",SU="var",AU="var(",F1="${}",CU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(CU,d=>(tn.test(d)?(r.color.push(l),a.push(zx),n.push(tn.parse(d))):d.startsWith(AU)?(r.var.push(l),a.push(SU),n.push(d)):(r.number.push(l),a.push(jx),n.push(parseFloat(d))),++l,F1)).split(F1);return{values:n,split:h,indexes:r,types:a}}function Bx(t){return Nc(t).values}function Fx(t){const{split:e,types:n}=Nc(t),r=e.length;return a=>{let l="";for(let u=0;u<r;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===jx?l+=gc(a[u]):h===zx?l+=tn.transform(a[u]):l+=a[u]}return l}}const RU=t=>typeof t=="number"?0:tn.test(t)?tn.getAnimatableNone(t):t;function xU(t){const e=Bx(t);return Fx(t)(e.map(RU))}const la={test:wU,parse:Bx,createTransformer:Fx,getAnimatableNone:xU};function ty(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function IU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=ty(d,h,t+1/3),l=ty(d,h,t),u=ty(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function Bd(t,e){return n=>n>0?e:t}const Mt=(t,e,n)=>t+(e-t)*n,ny=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},DU=[Yy,Xa,ul],kU=t=>DU.find(e=>e.test(t));function q1(t){const e=kU(t);if(!e)return!1;let n=e.parse(t);return e===ul&&(n=IU(n)),n}const H1=(t,e)=>{const n=q1(t),r=q1(e);if(!n||!r)return Bd(t,e);const a={...n};return l=>(a.red=ny(n.red,r.red,l),a.green=ny(n.green,r.green,l),a.blue=ny(n.blue,r.blue,l),a.alpha=Mt(n.alpha,r.alpha,l),Xa.transform(a))},Ky=new Set(["none","hidden"]);function MU(t,e){return Ky.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function NU(t,e){return n=>Mt(t,e,n)}function H0(t){return typeof t=="number"?NU:typeof t=="string"?B0(t)?Bd:tn.test(t)?H1:VU:Array.isArray(t)?qx:typeof t=="object"?tn.test(t)?H1:OU:Bd}function qx(t,e){const n=[...t],r=n.length,a=t.map((l,u)=>H0(l)(l,e[u]));return l=>{for(let u=0;u<r;u++)n[u]=a[u](l);return n}}function OU(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=H0(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function PU(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][r[l]],h=t.values[u]??0;n[a]=h,r[l]++}return n}const VU=(t,e)=>{const n=la.createTransformer(e),r=Nc(t),a=Nc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Ky.has(t)&&!a.values.length||Ky.has(e)&&!r.values.length?MU(t,e):Xc(qx(PU(r,a),a.values),n):Bd(t,e)};function Hx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Mt(t,e,n):H0(t)(t,e)}const LU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Rt.update(e,n),stop:()=>oa(e),now:()=>bn.isProcessing?bn.timestamp:On.now()}},Gx=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Fd=2e4;function G0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Fd;)e+=n,r=t.next(e);return e>=Fd?1/0:e}function UU(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(G0(r),Fd);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:Ti(a)}}const jU=5;function $x(t,e,n){const r=Math.max(e-jU,0);return Sx(n-t(r),e-r)}const Ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},iy=.001;function zU({duration:t=Ut.duration,bounce:e=Ut.bounce,velocity:n=Ut.velocity,mass:r=Ut.mass}){let a,l,u=1-e;u=Sr(Ut.minDamping,Ut.maxDamping,u),t=Sr(Ut.minDuration,Ut.maxDuration,Ti(t)),u<1?(a=p=>{const y=p*u,v=y*t,T=y-n,x=Wy(p,u),N=Math.exp(-v);return iy-T/x*N},l=p=>{const v=p*u*t,T=v*n+n,x=Math.pow(u,2)*Math.pow(p,2)*t,N=Math.exp(-v),P=Wy(Math.pow(p,2),u);return(-a(p)+iy>0?-1:1)*((T-x)*N)/P}):(a=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-iy+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const h=5/t,d=FU(a,l,h);if(t=Xr(t),isNaN(d))return{stiffness:Ut.stiffness,damping:Ut.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const BU=12;function FU(t,e,n){let r=n;for(let a=1;a<BU;a++)r=r-t(r)/e(r);return r}function Wy(t,e){return t*Math.sqrt(1-e*e)}const qU=["duration","bounce"],HU=["stiffness","damping","mass"];function G1(t,e){return e.some(n=>t[n]!==void 0)}function GU(t){let e={velocity:Ut.velocity,stiffness:Ut.stiffness,damping:Ut.damping,mass:Ut.mass,isResolvedFromDuration:!1,...t};if(!G1(t,HU)&&G1(t,qU))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Sr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ut.mass,stiffness:a,damping:l}}else{const n=zU(t);e={...e,...n,mass:Ut.mass},e.isResolvedFromDuration=!0}return e}function qd(t=Ut.visualDuration,e=Ut.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:v,velocity:T,isResolvedFromDuration:x}=GU({...n,velocity:-Ti(n.velocity||0)}),N=T||0,P=p/(2*Math.sqrt(d*y)),F=u-l,B=Ti(Math.sqrt(d/y)),U=Math.abs(F)<5;r||(r=U?Ut.restSpeed.granular:Ut.restSpeed.default),a||(a=U?Ut.restDelta.granular:Ut.restDelta.default);let z;if(P<1){const L=Wy(B,P);z=X=>{const A=Math.exp(-P*B*X);return u-A*((N+P*B*F)/L*Math.sin(L*X)+F*Math.cos(L*X))}}else if(P===1)z=L=>u-Math.exp(-B*L)*(F+(N+B*F)*L);else{const L=B*Math.sqrt(P*P-1);z=X=>{const A=Math.exp(-P*B*X),S=Math.min(L*X,300);return u-A*((N+P*B*F)*Math.sinh(S)+L*F*Math.cosh(S))/L}}const ue={calculatedDuration:x&&v||null,next:L=>{const X=z(L);if(x)h.done=L>=v;else{let A=L===0?N:0;P<1&&(A=L===0?Xr(N):$x(z,L,X));const S=Math.abs(A)<=r,D=Math.abs(u-X)<=a;h.done=S&&D}return h.value=h.done?u:X,h},toString:()=>{const L=Math.min(G0(ue),Fd),X=Gx(A=>ue.next(L*A).value,L,30);return L+"ms "+X},toTransition:()=>{}};return ue}qd.applyToOptions=t=>{const e=UU(t,100,qd);return t.ease=e.ease,t.duration=Xr(e.duration),t.type="keyframes",t};function Qy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const v=t[0],T={done:!1,value:v},x=S=>h!==void 0&&S<h||d!==void 0&&S>d,N=S=>h===void 0?d:d===void 0||Math.abs(h-S)<Math.abs(d-S)?h:d;let P=n*e;const F=v+P,B=u===void 0?F:u(F);B!==F&&(P=B-v);const U=S=>-P*Math.exp(-S/r),z=S=>B+U(S),ue=S=>{const D=U(S),O=z(S);T.done=Math.abs(D)<=p,T.value=T.done?B:O};let L,X;const A=S=>{x(T.value)&&(L=S,X=qd({keyframes:[T.value,N(T.value)],velocity:$x(z,S,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return A(0),{calculatedDuration:null,next:S=>{let D=!1;return!X&&L===void 0&&(D=!0,ue(S),A(S)),L!==void 0&&S>=L?X.next(S-L):(!D&&ue(S),T)}}}function $U(t,e,n){const r=[],a=n||rs.mix||Hx,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||wi:e;h=Xc(d,h)}r.push(h)}return r}function YU(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(V0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=$U(e,r,a),d=h.length,p=y=>{if(u&&y<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const T=kc(t[v],t[v+1],y);return h[v](T)};return n?y=>p(Sr(t[0],t[l-1],y)):p}function KU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=kc(0,e,r);t.push(Mt(n,1,a))}}function WU(t){const e=[0];return KU(e,t.length-1),e}function QU(t,e){return t.map(n=>n*e)}function XU(t,e){return t.map(()=>e||Nx).splice(0,t.length-1)}function yc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=lU(r)?r.map(j1):j1(r),l={done:!1,value:e[0]},u=QU(n&&n.length===e.length?n:WU(e),t),h=YU(u,e,{ease:Array.isArray(a)?a:XU(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const JU=t=>t!==null;function $0(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(JU),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const ZU={decay:Qy,inertia:Qy,tween:yc,keyframes:yc,spring:qd};function Yx(t){typeof t.type=="string"&&(t.type=ZU[t.type])}class Y0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const e9=t=>t/100;class K0 extends Y0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==On.now()&&this.tick(On.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Yx(e);const{type:n=yc,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||yc;d!==yc&&typeof h[0]!="number"&&(this.mixKeyframes=Xc(e9,Hx(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=G0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:T,repeatDelay:x,type:N,onUpdate:P,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let z=this.currentTime,ue=r;if(v){const S=Math.min(this.currentTime,a)/h;let D=Math.floor(S),O=S%1;!O&&S>=1&&(O=1),O===1&&D--,D=Math.min(D,v+1),D%2&&(T==="reverse"?(O=1-O,x&&(O-=x/h)):T==="mirror"&&(ue=u)),z=Sr(0,1,O)*h}const L=U?{done:!1,value:y[0]}:ue.next(z);l&&(L.value=l(L.value));let{done:X}=L;!U&&d!==null&&(X=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return A&&N!==Qy&&(L.value=$0(y,this.options,F,this.speed)),P&&P(L.value),A&&this.finish(),L}then(e,n){return this.finished.then(e,n)}get duration(){return Ti(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ti(e)}get time(){return Ti(this.currentTime)}set time(e){e=Xr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(On.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ti(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=LU,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(On.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function t9(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ja=t=>t*180/Math.PI,Xy=t=>{const e=Ja(Math.atan2(t[1],t[0]));return Jy(e)},n9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Xy,rotateZ:Xy,skewX:t=>Ja(Math.atan(t[1])),skewY:t=>Ja(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Jy=t=>(t=t%360,t<0&&(t+=360),t),$1=Xy,Y1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),K1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),i9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Y1,scaleY:K1,scale:t=>(Y1(t)+K1(t))/2,rotateX:t=>Jy(Ja(Math.atan2(t[6],t[5]))),rotateY:t=>Jy(Ja(Math.atan2(-t[2],t[0]))),rotateZ:$1,rotate:$1,skewX:t=>Ja(Math.atan(t[4])),skewY:t=>Ja(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Zy(t){return t.includes("scale")?1:0}function ev(t,e){if(!t||t==="none")return Zy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=i9,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=n9,a=h}if(!a)return Zy(e);const l=r[e],u=a[1].split(",").map(s9);return typeof l=="function"?l(u):u[l]}const r9=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ev(n,e)};function s9(t){return parseFloat(t.trim())}const zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bl=new Set(zl),W1=t=>t===jl||t===ke,a9=new Set(["x","y","z"]),o9=zl.filter(t=>!a9.has(t));function l9(t){const e=[];return o9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ws={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ev(e,"x"),y:(t,{transform:e})=>ev(e,"y")};Ws.translateX=Ws.x;Ws.translateY=Ws.y;const no=new Set;let tv=!1,nv=!1,iv=!1;function Kx(){if(nv){const t=Array.from(no).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=l9(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,u])=>{r.getValue(l)?.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}nv=!1,tv=!1,no.forEach(t=>t.complete(iv)),no.clear()}function Wx(){no.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(nv=!0)})}function u9(){iv=!0,Wx(),Kx(),iv=!1}class W0{constructor(e,n,r,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(no.add(this),tv||(tv=!0,Rt.read(Wx),Rt.resolveKeyframes(Kx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}t9(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),no.delete(this)}cancel(){this.state==="scheduled"&&(no.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const c9=t=>t.startsWith("--");function h9(t,e,n){c9(e)?t.style.setProperty(e,n):t.style[e]=n}const f9=L0(()=>window.ScrollTimeline!==void 0),d9={};function m9(t,e){const n=L0(t);return()=>d9[e]??n()}const Qx=m9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Q1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oc([0,.65,.55,1]),circOut:oc([.55,0,1,.45]),backIn:oc([.31,.01,.66,-.59]),backOut:oc([.33,1.53,.69,.99])};function Xx(t,e){if(t)return typeof t=="function"?Qx()?Gx(t,e):"ease-out":Ox(t)?oc(t):Array.isArray(t)?t.map(n=>Xx(n,e)||Q1.easeOut):Q1[t]}function p9(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[e]:n};d&&(y.offset=d);const v=Xx(h,a);Array.isArray(v)&&(y.easing=v);const T={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),t.animate(y,T)}function Jx(t){return typeof t=="function"&&"applyToOptions"in t}function g9({type:t,...e}){return Jx(t)&&Qx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class y9 extends Y0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,V0(typeof e.type!="string");const p=g9(e);this.animation=p9(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=$0(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):h9(n,r,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ti(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ti(e)}get time(){return Ti(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Xr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&f9()?(this.animation.timeline=e,wi):n(this)}}const Zx={anticipate:Dx,backInOut:Ix,circInOut:Mx};function v9(t){return t in Zx}function _9(t){typeof t.ease=="string"&&v9(t.ease)&&(t.ease=Zx[t.ease])}const ry=10;class b9 extends y9{constructor(e){_9(e),Yx(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new K0({...u,autoplay:!1}),d=Math.max(ry,On.now()-this.startTime),p=Sr(0,ry,d-ry);n.setWithVelocity(h.sample(Math.max(0,d-p)).value,h.sample(d).value,p),h.stop()}}const X1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(la.test(t)||t==="0")&&!t.startsWith("url("));function T9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function E9(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=X1(a,e),h=X1(l,e);return!u||!h?!1:T9(t)||(n==="spring"||Jx(n))&&r}function rv(t){t.duration=0,t.type="keyframes"}const w9=new Set(["opacity","clipPath","filter","transform"]),S9=L0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function A9(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return S9()&&n&&w9.has(n)&&(n!=="transform"||!p)&&!d&&!r&&a!=="mirror"&&l!==0&&u!=="inertia"}const C9=40;class R9 extends Y0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=On.now();const T={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:y,...v},x=y?.KeyframeResolver||W0;this.keyframeResolver=new x(h,(N,P,F)=>this.onKeyframesResolved(N,P,T,!F),d,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:p,onUpdate:y}=r;this.resolvedAt=On.now(),E9(e,l,u,h)||((rs.instantAnimations||!d)&&y?.($0(e,r,n)),e[0]=e[e.length-1],rv(r),r.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>C9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!p&&A9(T),N=T.motionValue?.owner?.current,P=x?new b9({...T,element:N}):new K0(T);P.finished.then(()=>{this.notifyFinished()}).catch(wi),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),u9()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function eI(t,e,n,r=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,h=(u-1)*r;return typeof n=="function"?n(l,u):a===1?l*r:h-l*r}const x9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function I9(t){const e=x9.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function tI(t,e,n=1){const[r,a]=I9(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const u=l.trim();return Tx(u)?parseFloat(u):u}return B0(a)?tI(a,e,n+1):a}const D9={type:"spring",stiffness:500,damping:25,restSpeed:10},k9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),M9={type:"keyframes",duration:.8},N9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},O9=(t,{keyframes:e})=>e.length>2?M9:Bl.has(t)?t.startsWith("scale")?k9(e[1]):D9:N9,P9=t=>t!==null;function V9(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(P9),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function Q0(t,e){return t?.[e]??t?.default??t}function L9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const X0=(t,e,n,r={},a,l)=>u=>{const h=Q0(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Xr(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:T=>{e.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};L9(h)||Object.assign(y,O9(t,y)),y.duration&&(y.duration=Xr(y.duration)),y.repeatDelay&&(y.repeatDelay=Xr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(rv(y),y.delay===0&&(v=!0)),(rs.instantAnimations||rs.skipAnimations)&&(v=!0,rv(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const T=V9(y.keyframes,h);if(T!==void 0){Rt.update(()=>{y.onUpdate(T),y.onComplete()});return}}return h.isSync?new K0(y):new R9(y)};function J1(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function J0(t,e,n,r){if(typeof e=="function"){const[a,l]=J1(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=J1(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function vl(t,e,n){const r=t.getProps();return J0(r,e,n!==void 0?n:r.custom,t)}const nI=new Set(["width","height","top","left","right","bottom",...zl]),Z1=30,U9=t=>!isNaN(parseFloat(t));class j9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=On.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=On.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=U9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new U0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=On.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Z1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Z1);return Sx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xl(t,e){return new j9(t,e)}const sv=t=>Array.isArray(t);function z9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xl(n))}function B9(t){return sv(t)?t[t.length-1]||0:t}function F9(t,e){const n=vl(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const u in l){const h=B9(l[u]);z9(t,u,h)}}const In=t=>!!(t&&t.getVelocity);function q9(t){return!!(In(t)&&t.add)}function av(t,e){const n=t.getValue("willChange");if(q9(n))return n.add(e);if(!n&&rs.WillChange){const r=new rs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Z0(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const H9="framerAppearId",iI="data-"+Z0(H9);function rI(t){return t.props[iI]}function G9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sI(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(l=r);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const v=t.getValue(y,t.latestValues[y]??null),T=h[y];if(T===void 0||p&&G9(p,y))continue;const x={delay:n,...Q0(l||{},y)},N=v.get();if(N!==void 0&&!v.isAnimating&&!Array.isArray(T)&&T===N&&!x.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const B=rI(t);if(B){const U=window.MotionHandoffAnimation(B,y,Rt);U!==null&&(x.startTime=U,P=!0)}}av(t,y),v.start(X0(y,v,T,t.shouldReduceMotion&&nI.has(y)?{type:!1}:x,t,P));const F=v.animation;F&&d.push(F)}return u&&Promise.all(d).then(()=>{Rt.update(()=>{u&&F9(t,u)})}),d}function ov(t,e,n={}){const r=vl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(sI(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return $9(t,e,d,p,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,p]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function $9(t,e,n=0,r=0,a=0,l=1,u){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(ov(d,e,{...u,delay:n+(typeof r=="function"?0:r)+eI(t.variantChildren,d,r,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function Y9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>ov(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=ov(t,e,n);else{const a=typeof e=="function"?vl(t,e,n.custom):e;r=Promise.all(sI(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const K9={test:t=>t==="auto",parse:t=>t},aI=t=>e=>e.test(t),oI=[jl,ke,Er,qs,TU,bU,K9],eS=t=>oI.find(aI(t));function W9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wx(t):!0}const Q9=new Set(["brightness","contrast","saturate","opacity"]);function X9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(F0)||[];if(!r)return t;const a=n.replace(r,"");let l=Q9.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const J9=/\b([a-z-]*)\(.*?\)/gu,lv={...la,getAnimatableNone:t=>{const e=t.match(J9);return e?e.map(X9).join(" "):t}},tS={...jl,transform:Math.round},Z9={rotate:qs,rotateX:qs,rotateY:qs,rotateZ:qs,scale:jf,scaleX:jf,scaleY:jf,scaleZ:jf,skew:qs,skewX:qs,skewY:qs,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:Mc,originX:B1,originY:B1,originZ:ke},e_={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,inset:ke,insetBlock:ke,insetBlockStart:ke,insetBlockEnd:ke,insetInline:ke,insetInlineStart:ke,insetInlineEnd:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,paddingBlock:ke,paddingBlockStart:ke,paddingBlockEnd:ke,paddingInline:ke,paddingInlineStart:ke,paddingInlineEnd:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,marginBlock:ke,marginBlockStart:ke,marginBlockEnd:ke,marginInline:ke,marginInlineStart:ke,marginInlineEnd:ke,backgroundPositionX:ke,backgroundPositionY:ke,...Z9,zIndex:tS,fillOpacity:Mc,strokeOpacity:Mc,numOctaves:tS},ej={...e_,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:lv,WebkitFilter:lv},lI=t=>ej[t];function uI(t,e){let n=lI(t);return n!==lv&&(n=la),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const tj=new Set(["auto","none","0"]);function nj(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!tj.has(l)&&Nc(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=uI(n,a)}class ij extends W0{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),B0(v))){const T=tI(v,n.current);T!==void 0&&(e[y]=T),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!nI.has(r)||e.length!==2)return;const[a,l]=e,u=eS(a),h=eS(l),d=z1(a),p=z1(l);if(d!==p&&Ws[r]){this.needsMeasurement=!0;return}if(u!==h)if(W1(u)&&W1(h))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else Ws[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||W9(e[a]))&&r.push(a);r.length&&nj(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ws[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=Ws[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function rj(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=n?.[t]??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(r=>r!=null)}const cI=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function uv(t){return Ex(t)&&"offsetHeight"in t}const{schedule:t_}=Px(queueMicrotask,!1),zi={x:!1,y:!1};function hI(){return zi.x||zi.y}function sj(t){return t==="x"||t==="y"?zi[t]?null:(zi[t]=!0,()=>{zi[t]=!1}):zi.x||zi.y?null:(zi.x=zi.y=!0,()=>{zi.x=zi.y=!1})}function fI(t,e){const n=rj(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function nS(t){return!(t.pointerType==="touch"||hI())}function aj(t,e,n={}){const[r,a,l]=fI(t,n),u=h=>{if(!nS(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const y=v=>{nS(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return r.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const dI=(t,e)=>e?t===e?!0:dI(t,e.parentElement):!1,n_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mI(t){return oj.has(t.tagName)||t.isContentEditable===!0}const ld=new WeakSet;function iS(t){return e=>{e.key==="Enter"&&t(e)}}function sy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lj=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=iS(()=>{if(ld.has(n))return;sy(n,"down");const a=iS(()=>{sy(n,"up")}),l=()=>sy(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function rS(t){return n_(t)&&!hI()}function uj(t,e,n={}){const[r,a,l]=fI(t,n),u=h=>{const d=h.currentTarget;if(!rS(h))return;ld.add(d);const p=e(d,h),y=(x,N)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",T),ld.has(d)&&ld.delete(d),rS(x)&&typeof p=="function"&&p(x,{success:N})},v=x=>{y(x,d===window||d===document||n.useGlobalTarget||dI(d,x.target))},T=x=>{y(x,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",T,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),uv(h)&&(h.addEventListener("focus",p=>lj(p,a)),!mI(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function pI(t){return Ex(t)&&"ownerSVGElement"in t}function cj(t){return pI(t)&&t.tagName==="svg"}const hj=[...oI,tn,la],fj=t=>hj.find(aI(t)),sS=()=>({translate:0,scale:1,origin:0,originPoint:0}),cl=()=>({x:sS(),y:sS()}),aS=()=>({min:0,max:0}),on=()=>({x:aS(),y:aS()}),cv={current:null},gI={current:!1},dj=typeof window<"u";function mj(){if(gI.current=!0,!!dj)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>cv.current=t.matches;t.addEventListener("change",e),e()}else cv.current=!1}const pj=new WeakMap;function Rm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Oc(t){return typeof t=="string"||Array.isArray(t)}const i_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],r_=["initial",...i_];function xm(t){return Rm(t.animate)||r_.some(e=>Oc(t[e]))}function yI(t){return!!(xm(t)||t.variants)}function gj(t,e,n){for(const r in e){const a=e[r],l=n[r];if(In(a))t.addValue(r,a);else if(In(l))t.addValue(r,xl(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(r);t.addValue(r,xl(u!==void 0?u:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const oS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Hd={};function vI(t){Hd=t}function yj(){return Hd}class vj{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=W0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=On.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,Rt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=xm(n),this.isVariantNode=yI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in v){const x=v[T];d[T]!==void 0&&In(x)&&x.set(d[T])}}mount(e){this.current=e,pj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(gI.current||mj(),this.shouldReduceMotion=cv.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),oa(this.notifyUpdate),oa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Bl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Rt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Hd){const n=Hd[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):on()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<oS.length;r++){const a=oS[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=gj(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=xl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Tx(r)||wx(r))?r=parseFloat(r):!fj(r)&&la.test(n)&&(r=uI(e,n)),this.setBaseTarget(e,In(r)?r.get():r)),In(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=J0(this.props,n,this.presenceContext?.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!In(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new U0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){t_.render(this.render)}}class _I extends vj{constructor(){super(...arguments),this.KeyframeResolver=ij}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class da{constructor(e){this.isMounted=!1,this.node=e}update(){}}function bI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function _j({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function bj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ay(t){return t===void 0||t===1}function hv({scale:t,scaleX:e,scaleY:n}){return!ay(t)||!ay(e)||!ay(n)}function Ka(t){return hv(t)||TI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function TI(t){return lS(t.x)||lS(t.y)}function lS(t){return t&&t!=="0%"}function Gd(t,e,n){const r=t-n,a=e*r;return n+a}function uS(t,e,n,r,a){return a!==void 0&&(t=Gd(t,a,r)),Gd(t,n,r)+e}function fv(t,e=0,n=1,r,a){t.min=uS(t.min,e,n,r,a),t.max=uS(t.max,e,n,r,a)}function EI(t,{x:e,y:n}){fv(t.x,e.translate,e.scale,e.originPoint),fv(t.y,n.translate,n.scale,n.originPoint)}const cS=.999999999999,hS=1.0000000000001;function Tj(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&fl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,EI(t,u)),r&&Ka(l.latestValues)&&fl(t,l.latestValues))}e.x<hS&&e.x>cS&&(e.x=1),e.y<hS&&e.y>cS&&(e.y=1)}function hl(t,e){t.min=t.min+e,t.max=t.max+e}function fS(t,e,n,r,a=.5){const l=Mt(t.min,t.max,a);fv(t,e,n,l,r)}function fl(t,e){fS(t.x,e.x,e.scaleX,e.scale,e.originX),fS(t.y,e.y,e.scaleY,e.scale,e.originY)}function wI(t,e){return bI(bj(t.getBoundingClientRect(),e))}function Ej(t,e,n){const r=wI(t,n),{scroll:a}=e;return a&&(hl(r.x,a.offset.x),hl(r.y,a.offset.y)),r}const wj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Sj=zl.length;function Aj(t,e,n){let r="",a=!0;for(let l=0;l<Sj;l++){const u=zl[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number")d=h===(u.startsWith("scale")?1:0);else{const p=parseFloat(h);d=u.startsWith("scale")?p===1:p===0}if(!d||n){const p=cI(h,e_[u]);if(!d){a=!1;const y=wj[u]||u;r+=`${y}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function s_(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const p=e[d];if(Bl.has(d)){u=!0;continue}else if(Lx(d)){a[d]=p;continue}else{const y=cI(p,e_[d]);d.startsWith("origin")?(h=!0,l[d]=y):r[d]=y}}if(e.transform||(u||n?r.transform=Aj(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${d} ${p} ${y}`}}function SI(t,{style:e,vars:n},r,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,r);for(u in n)l.setProperty(u,n[u])}function dS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ju={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ke.test(t))t=parseFloat(t);else return t;const n=dS(t,e.target.x),r=dS(t,e.target.y);return`${n}% ${r}%`}},Cj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=la.parse(t);if(a.length>5)return r;const l=la.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const p=Mt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},dv={borderRadius:{...Ju,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ju,borderTopRightRadius:Ju,borderBottomLeftRadius:Ju,borderBottomRightRadius:Ju,boxShadow:Cj};function AI(t,{layout:e,layoutId:n}){return Bl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dv[t]||t==="opacity")}function a_(t,e,n){const r=t.style,a=e?.style,l={};if(!r)return l;for(const u in r)(In(r[u])||a&&In(a[u])||AI(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=r[u]);return l}function Rj(t){return window.getComputedStyle(t)}class xj extends _I{constructor(){super(...arguments),this.type="html",this.renderInstance=SI}readValueFromInstance(e,n){if(Bl.has(n))return this.projection?.isProjecting?Zy(n):r9(e,n);{const r=Rj(e),a=(Lx(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wI(e,n)}build(e,n,r){s_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return a_(e,n,r)}}const Ij={offset:"stroke-dashoffset",array:"stroke-dasharray"},Dj={offset:"strokeDashoffset",array:"strokeDasharray"};function kj(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?Ij:Dj;t[l.offset]=`${-r}`,t[l.array]=`${e} ${n}`}const Mj=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function CI(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,p,y){if(s_(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:T}=t;v.transform&&(T.transform=v.transform,delete v.transform),(T.transform||v.transformOrigin)&&(T.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const x of Mj)v[x]!==void 0&&(T[x]=v[x],delete v[x]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&kj(v,a,l,u,!1)}const RI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),xI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Nj(t,e,n,r){SI(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(RI.has(a)?a:Z0(a),e.attrs[a])}function II(t,e,n){const r=a_(t,e,n);for(const a in t)if(In(t[a])||In(e[a])){const l=zl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}class Oj extends _I{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=on}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bl.has(n)){const r=lI(n);return r&&r.default||0}return n=RI.has(n)?n:Z0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return II(e,n,r)}build(e,n,r){CI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){Nj(e,n,r,a)}mount(e){this.isSVGTag=xI(e.tagName),super.mount(e)}}const Pj=r_.length;function DI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?DI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Pj;n++){const r=r_[n],a=t.props[r];(Oc(a)||a===!1)&&(e[r]=a)}return e}function kI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Vj=[...i_].reverse(),Lj=i_.length;function Uj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Y9(t,n,r)))}function jj(t){let e=Uj(t),n=mS(),r=!0;const a=d=>(p,y)=>{const v=vl(t,y,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:T,transitionEnd:x,...N}=v;p={...p,...N,...x}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,y=DI(t.parent)||{},v=[],T=new Set;let x={},N=1/0;for(let F=0;F<Lj;F++){const B=Vj[F],U=n[B],z=p[B]!==void 0?p[B]:y[B],ue=Oc(z),L=B===d?U.isActive:null;L===!1&&(N=F);let X=z===y[B]&&z!==p[B]&&ue;if(X&&r&&t.manuallyAnimateOnMount&&(X=!1),U.protectedKeys={...x},!U.isActive&&L===null||!z&&!U.prevProp||Rm(z)||typeof z=="boolean")continue;const A=zj(U.prevProp,z);let S=A||B===d&&U.isActive&&!X&&ue||F>N&&ue,D=!1;const O=Array.isArray(z)?z:[z];let V=O.reduce(a(B),{});L===!1&&(V={});const{prevResolvedValues:k={}}=U,C={...k,...V},Y=te=>{S=!0,T.has(te)&&(D=!0,T.delete(te)),U.needsAnimating[te]=!0;const W=t.getValue(te);W&&(W.liveStyle=!1)};for(const te in C){const W=V[te],_e=k[te];if(x.hasOwnProperty(te))continue;let Pe=!1;sv(W)&&sv(_e)?Pe=!kI(W,_e):Pe=W!==_e,Pe?W!=null?Y(te):T.add(te):W!==void 0&&T.has(te)?Y(te):U.protectedKeys[te]=!0}U.prevProp=z,U.prevResolvedValues=V,U.isActive&&(x={...x,...V}),r&&t.blockInitialAnimation&&(S=!1);const $=X&&A;S&&(!$||D)&&v.push(...O.map(te=>{const W={type:B};if(typeof te=="string"&&r&&!$&&t.manuallyAnimateOnMount&&t.parent){const{parent:_e}=t,Pe=vl(_e,te);if(_e.enteringChildren&&Pe){const{delayChildren:q}=Pe.transition||{};W.delay=eI(_e.enteringChildren,t,q)}}return{animation:te,options:W}}))}if(T.size){const F={};if(typeof p.initial!="boolean"){const B=vl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(F.transition=B.transition)}T.forEach(B=>{const U=t.getBaseTarget(B),z=t.getValue(B);z&&(z.liveStyle=!0),F[B]=U??null}),v.push({animation:F})}let P=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(v):Promise.resolve()}function h(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),n[d].isActive=p;const y=u(d);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=mS()}}}function zj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!kI(e,t):!1}function Ha(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mS(){return{animate:Ha(!0),whileInView:Ha(),whileHover:Ha(),whileTap:Ha(),whileDrag:Ha(),whileFocus:Ha(),exit:Ha()}}function pS(t,e){t.min=e.min,t.max=e.max}function ji(t,e){pS(t.x,e.x),pS(t.y,e.y)}function gS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const MI=1e-4,Bj=1-MI,Fj=1+MI,NI=.01,qj=0-NI,Hj=0+NI;function Pn(t){return t.max-t.min}function Gj(t,e,n){return Math.abs(t-e)<=n}function yS(t,e,n,r=.5){t.origin=r,t.originPoint=Mt(e.min,e.max,t.origin),t.scale=Pn(n)/Pn(e),t.translate=Mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Bj&&t.scale<=Fj||isNaN(t.scale))&&(t.scale=1),(t.translate>=qj&&t.translate<=Hj||isNaN(t.translate))&&(t.translate=0)}function vc(t,e,n,r){yS(t.x,e.x,n.x,r?r.originX:void 0),yS(t.y,e.y,n.y,r?r.originY:void 0)}function vS(t,e,n){t.min=n.min+e.min,t.max=t.min+Pn(e)}function $j(t,e,n){vS(t.x,e.x,n.x),vS(t.y,e.y,n.y)}function _S(t,e,n){t.min=e.min-n.min,t.max=t.min+Pn(e)}function $d(t,e,n){_S(t.x,e.x,n.x),_S(t.y,e.y,n.y)}function bS(t,e,n,r,a){return t-=e,t=Gd(t,1/n,r),a!==void 0&&(t=Gd(t,1/a,r)),t}function Yj(t,e=0,n=1,r=.5,a,l=t,u=t){if(Er.test(e)&&(e=parseFloat(e),e=Mt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Mt(l.min,l.max,r);t===l&&(h-=e),t.min=bS(t.min,e,n,h,a),t.max=bS(t.max,e,n,h,a)}function TS(t,e,[n,r,a],l,u){Yj(t,e[n],e[r],e[a],e.scale,l,u)}const Kj=["x","scaleX","originX"],Wj=["y","scaleY","originY"];function ES(t,e,n,r){TS(t.x,e,Kj,n?n.x:void 0,r?r.x:void 0),TS(t.y,e,Wj,n?n.y:void 0,r?r.y:void 0)}function wS(t){return t.translate===0&&t.scale===1}function OI(t){return wS(t.x)&&wS(t.y)}function SS(t,e){return t.min===e.min&&t.max===e.max}function Qj(t,e){return SS(t.x,e.x)&&SS(t.y,e.y)}function AS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function PI(t,e){return AS(t.x,e.x)&&AS(t.y,e.y)}function CS(t){return Pn(t.x)/Pn(t.y)}function RS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function _i(t){return[t("x"),t("y")]}function Xj(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(r=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:T,skewX:x,skewY:N}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),v&&(r+=`rotateX(${v}deg) `),T&&(r+=`rotateY(${T}deg) `),x&&(r+=`skewX(${x}deg) `),N&&(r+=`skewY(${N}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const VI=["TopLeft","TopRight","BottomLeft","BottomRight"],Jj=VI.length,xS=t=>typeof t=="string"?parseFloat(t):t,IS=t=>typeof t=="number"||ke.test(t);function Zj(t,e,n,r,a,l){a?(t.opacity=Mt(0,n.opacity??1,ez(r)),t.opacityExit=Mt(e.opacity??1,0,tz(r))):l&&(t.opacity=Mt(e.opacity??1,n.opacity??1,r));for(let u=0;u<Jj;u++){const h=`border${VI[u]}Radius`;let d=DS(e,h),p=DS(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||IS(d)===IS(p)?(t[h]=Math.max(Mt(xS(d),xS(p),r),0),(Er.test(p)||Er.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=Mt(e.rotate||0,n.rotate||0,r))}function DS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ez=LI(0,.5,kx),tz=LI(.5,.95,wi);function LI(t,e,n){return r=>r<t?0:r>e?1:n(kc(t,e,r))}function nz(t,e,n){const r=In(t)?t:xl(t);return r.start(X0("",r,e,n)),r.animation}function Pc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const iz=(t,e)=>t.depth-e.depth;class rz{constructor(){this.children=[],this.isDirty=!1}add(e){O0(this.children,e),this.isDirty=!0}remove(e){P0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iz),this.isDirty=!1,this.children.forEach(e)}}function sz(t,e){const n=On.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(oa(r),t(l-e))};return Rt.setup(r,!0),()=>oa(r)}function ud(t){return In(t)?t.get():t}class az{constructor(){this.members=[]}add(e){O0(this.members,e),e.scheduleRender()}remove(e){if(P0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const cd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},oy=["","X","Y","Z"],oz=1e3;let lz=0;function ly(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function UI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=rI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Rt,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&UI(r)}function jI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=lz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hz),this.nodes.forEach(pz),this.nodes.forEach(gz),this.nodes.forEach(fz)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new rz)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new U0),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=pI(u)&&!cj(u),this.instance=u;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let y,v=0;const T=()=>this.root.updateBlockedByResize=!1;Rt.read(()=>{v=window.innerWidth}),t(u,()=>{const x=window.innerWidth;x!==v&&(v=x,this.root.updateBlockedByResize=!0,y&&y(),y=sz(T,250),cd.hasAnimatedSinceResize&&(cd.hasAnimatedSinceResize=!1,this.nodes.forEach(NS)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:T,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||Tz,{onLayoutAnimationStart:P,onLayoutAnimationComplete:F}=p.getProps(),B=!this.targetLayout||!PI(this.targetLayout,x),U=!v&&T;if(this.options.layoutRoot||this.resumeFrom||U||v&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...Q0(N,"layout"),onPlay:P,onComplete:F};(p.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(y,U)}else v||NS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),oa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yz),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(MS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(mz),this.nodes.forEach(uz),this.nodes.forEach(cz)):this.nodes.forEach(MS),this.clearAllSnapshots();const h=On.now();bn.delta=Sr(0,1e3/60,h-bn.timestamp),bn.timestamp=h,bn.isProcessing=!0,Zg.update.process(bn),Zg.preRender.process(bn),Zg.render.process(bn),bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,t_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dz),this.sharedNodes.forEach(vz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pn(this.snapshot.measuredBox.x)&&!Pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=on(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!OI(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ka(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),Ez(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return on();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(wz))){const{scroll:p}=this.root;p&&(hl(h.x,p.offset.x),hl(h.y,p.offset.y))}return h}removeElementScroll(u){const h=on();if(ji(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&ji(h,u),hl(h.x,y.offset.x),hl(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=on();ji(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&fl(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ka(y.latestValues)&&fl(d,y.latestValues)}return Ka(this.latestValues)&&fl(d,this.latestValues),d}removeTransform(u){const h=on();ji(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ka(p.latestValues))continue;hv(p.latestValues)&&p.updateSnapshot();const y=on(),v=p.measurePageBox();ji(y,v),ES(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ka(this.latestValues)&&ES(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=bn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=on(),this.targetWithTransforms=on()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$j(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ji(this.target,this.layout.layoutBox),EI(this.target,this.targetDelta)):ji(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||hv(this.parent.latestValues)||TI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),$d(this.relativeTargetOrigin,h,d),ji(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===bn.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;ji(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,T=this.treeScale.y;Tj(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=on());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gS(this.prevProjectionDelta.x,this.projectionDelta.x),gS(this.prevProjectionDelta.y,this.projectionDelta.y)),vc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==T||!RS(this.projectionDelta.x,this.prevProjectionDelta.x)||!RS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cl(),this.projectionDelta=cl(),this.projectionDeltaWithTransform=cl()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=cl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=on(),x=d?d.source:void 0,N=this.layout?this.layout.source:void 0,P=x!==N,F=this.getStack(),B=!F||F.members.length<=1,U=!!(P&&!B&&this.options.crossfade===!0&&!this.path.some(bz));this.animationProgress=0;let z;this.mixTargetDelta=ue=>{const L=ue/1e3;OS(v.x,u.x,L),OS(v.y,u.y,L),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($d(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_z(this.relativeTarget,this.relativeTargetOrigin,T,L),z&&Qj(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=on()),ji(z,this.relativeTarget)),P&&(this.animationValues=y,Zj(y,p,this.latestValues,L,U,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(oa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{cd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xl(0)),this.currentAnimation=nz(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&zI(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||on();const v=Pn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const T=Pn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+T}ji(h,d),fl(h,y),vc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new az),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&ly("z",u,p,this.animationValues);for(let y=0;y<oy.length;y++)ly(`rotate${oy[y]}`,u,p,this.animationValues),ly(`skew${oy[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=ud(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=ud(h?.pointerEvents)||""),this.hasProjected&&!Ka(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=Xj(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:T,y:x}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${x.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const N in dv){if(y[N]===void 0)continue;const{correct:P,applyTo:F,isCSSVariable:B}=dv[N],U=v==="none"?y[N]:P(y[N],p);if(F){const z=F.length;for(let ue=0;ue<z;ue++)u[F[ue]]=U}else B?this.options.visualElement.renderState.vars[N]=U:u[N]=U}this.options.layoutId&&(u.pointerEvents=p===this?ud(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(kS),this.root.sharedNodes.clear()}}}function uz(t){t.updateLayout()}function cz(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?_i(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=Pn(v);v.min=n[y].min,v.max=v.min+T}):zI(a,e.layoutBox,n)&&_i(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=Pn(n[y]);v.max=v.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const u=cl();vc(u,n,e.layoutBox);const h=cl();l?vc(h,t.applyTransform(r,!0),e.measuredBox):vc(h,n,e.layoutBox);const d=!OI(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:T}=y;if(v&&T){const x=on();$d(x,e.layoutBox,v.layoutBox);const N=on();$d(N,n,T.layoutBox),PI(x,N)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=x,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function hz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dz(t){t.clearSnapshot()}function kS(t){t.clearMeasurements()}function MS(t){t.isLayoutDirty=!1}function mz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function NS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pz(t){t.resolveTargetDelta()}function gz(t){t.calcProjection()}function yz(t){t.resetSkewAndRotation()}function vz(t){t.removeLeadSnapshot()}function OS(t,e,n){t.translate=Mt(e.translate,0,n),t.scale=Mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function PS(t,e,n,r){t.min=Mt(e.min,n.min,r),t.max=Mt(e.max,n.max,r)}function _z(t,e,n,r){PS(t.x,e.x,n.x,r),PS(t.y,e.y,n.y,r)}function bz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Tz={duration:.45,ease:[.4,0,.1,1]},VS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),LS=VS("applewebkit/")&&!VS("chrome/")?Math.round:wi;function US(t){t.min=LS(t.min),t.max=LS(t.max)}function Ez(t){US(t.x),US(t.y)}function zI(t,e,n){return t==="position"||t==="preserve-aspect"&&!Gj(CS(e),CS(n),.2)}function wz(t){return t!==t.root&&t.scroll?.wasRoot}const Sz=jI({attachResizeListener:(t,e)=>Pc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),uy={current:void 0},BI=jI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!uy.current){const t=new Sz({});t.mount(window),t.setOptions({layoutScroll:!0}),uy.current=t}return uy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),o_=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function jS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Az(...t){return e=>{let n=!1;const r=t.map(a=>{const l=jS(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():jS(t[a],null)}}}}function Cz(...t){return w.useCallback(Az(...t),t)}class Rz extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=uv(r)&&r.offsetWidth||0,l=uv(r)&&r.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function xz({children:t,isPresent:e,anchorX:n,anchorY:r,root:a}){const l=w.useId(),u=w.useRef(null),h=w.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=w.useContext(o_),p=t.props?.ref??t?.ref,y=Cz(u,p);return w.useInsertionEffect(()=>{const{width:v,height:T,top:x,left:N,right:P,bottom:F}=h.current;if(e||!u.current||!v||!T)return;const B=n==="left"?`left: ${N}`:`right: ${P}`,U=r==="bottom"?`bottom: ${F}`:`top: ${x}`;u.current.dataset.motionPopId=l;const z=document.createElement("style");d&&(z.nonce=d);const ue=a??document.head;return ue.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${T}px !important;
            ${B}px !important;
            ${U}px !important;
          }
        `),()=>{ue.contains(z)&&ue.removeChild(z)}},[e]),M.jsx(Rz,{isPresent:e,childRef:u,sizeRef:h,children:w.cloneElement(t,{ref:y})})}const Iz=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,anchorY:d,root:p})=>{const y=N0(Dz),v=w.useId();let T=!0,x=w.useMemo(()=>(T=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:N=>{y.set(N,!0);for(const P of y.values())if(!P)return;r&&r()},register:N=>(y.set(N,!1),()=>y.delete(N))}),[n,y,r]);return l&&T&&(x={...x}),w.useMemo(()=>{y.forEach((N,P)=>y.set(P,!1))},[n]),w.useEffect(()=>{!n&&!y.size&&r&&r()},[n]),u==="popLayout"&&(t=M.jsx(xz,{isPresent:n,anchorX:h,anchorY:d,root:p,children:t})),M.jsx(Cm.Provider,{value:x,children:t})};function Dz(){return new Map}function FI(t=!0){const e=w.useContext(Cm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=w.useId();w.useEffect(()=>{if(t)return a(l)},[t]);const u=w.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,u]:[!0]}const zf=t=>t.key||"";function zS(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const Im=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",anchorY:d="top",root:p})=>{const[y,v]=FI(u),T=w.useMemo(()=>zS(t),[t]),x=u&&!y?[]:T.map(zf),N=w.useRef(!0),P=w.useRef(T),F=N0(()=>new Map),B=w.useRef(new Set),[U,z]=w.useState(T),[ue,L]=w.useState(T);bx(()=>{N.current=!1,P.current=T;for(let S=0;S<ue.length;S++){const D=zf(ue[S]);x.includes(D)?(F.delete(D),B.current.delete(D)):F.get(D)!==!0&&F.set(D,!1)}},[ue,x.length,x.join("-")]);const X=[];if(T!==U){let S=[...T];for(let D=0;D<ue.length;D++){const O=ue[D],V=zf(O);x.includes(V)||(S.splice(D,0,O),X.push(O))}return l==="wait"&&X.length&&(S=X),L(zS(S)),z(T),null}const{forceRender:A}=w.useContext(M0);return M.jsx(M.Fragment,{children:ue.map(S=>{const D=zf(S),O=u&&!y?!1:T===ue||x.includes(D),V=()=>{if(B.current.has(D))return;if(B.current.add(D),F.has(D))F.set(D,!0);else return;let k=!0;F.forEach(C=>{C||(k=!1)}),k&&(A?.(),L(P.current),u&&v?.(),r&&r())};return M.jsx(Iz,{isPresent:O,initial:!N.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:O?void 0:V,anchorX:h,anchorY:d,children:S},D)})})},qI=w.createContext({strict:!1}),BS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let FS=!1;function kz(){if(FS)return;const t={};for(const e in BS)t[e]={isEnabled:n=>BS[e].some(r=>!!n[r])};vI(t),FS=!0}function HI(){return kz(),yj()}function Mz(t){const e=HI();for(const n in t)e[n]={...e[n],...t[n]};vI(e)}const Nz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Nz.has(t)}let GI=t=>!Yd(t);function Oz(t){typeof t=="function"&&(GI=e=>e.startsWith("on")?!Yd(e):t(e))}try{Oz(require("@emotion/is-prop-valid").default)}catch{}function Pz(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(GI(a)||n===!0&&Yd(a)||!e&&!Yd(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const Dm=w.createContext({});function Vz(t,e){if(xm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Oc(n)?n:void 0,animate:Oc(r)?r:void 0}}return t.inherit!==!1?e:{}}function Lz(t){const{initial:e,animate:n}=Vz(t,w.useContext(Dm));return w.useMemo(()=>({initial:e,animate:n}),[qS(e),qS(n)])}function qS(t){return Array.isArray(t)?t.join(" "):t}const l_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $I(t,e,n){for(const r in e)!In(e[r])&&!AI(r,n)&&(t[r]=e[r])}function Uz({transformTemplate:t},e){return w.useMemo(()=>{const n=l_();return s_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function jz(t,e){const n=t.style||{},r={};return $I(r,n,t),Object.assign(r,Uz(t,e)),r}function zz(t,e){const n={},r=jz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const YI=()=>({...l_(),attrs:{}});function Bz(t,e,n,r){const a=w.useMemo(()=>{const l=YI();return CI(l,e,xI(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};$I(l,t.style,t),a.style={...l,...a.style}}return a}const Fz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function u_(t){return typeof t!="string"||t.includes("-")?!1:!!(Fz.indexOf(t)>-1||/[A-Z]/u.test(t))}function qz(t,e,n,{latestValues:r},a,l=!1,u){const d=(u??u_(t)?Bz:zz)(e,r,a,t),p=Pz(e,typeof t=="string",l),y=t!==w.Fragment?{...p,...d,ref:n}:{},{children:v}=e,T=w.useMemo(()=>In(v)?v.get():v,[v]);return w.createElement(t,{...y,children:T})}function Hz({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:Gz(n,r,a,t),renderState:e()}}function Gz(t,e,n,r){const a={},l=r(t,{});for(const T in l)a[T]=ud(l[T]);let{initial:u,animate:h}=t;const d=xm(t),p=yI(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!Rm(v)){const T=Array.isArray(v)?v:[v];for(let x=0;x<T.length;x++){const N=J0(t,T[x]);if(N){const{transitionEnd:P,transition:F,...B}=N;for(const U in B){let z=B[U];if(Array.isArray(z)){const ue=y?z.length-1:0;z=z[ue]}z!==null&&(a[U]=z)}for(const U in P)a[U]=P[U]}}}return a}const KI=t=>(e,n)=>{const r=w.useContext(Dm),a=w.useContext(Cm),l=()=>Hz(t,e,r,a);return n?l():N0(l)},$z=KI({scrapeMotionValuesFromProps:a_,createRenderState:l_}),Yz=KI({scrapeMotionValuesFromProps:II,createRenderState:YI}),Kz=Symbol.for("motionComponentSymbol");function Wz(t,e,n){const r=w.useRef(n);w.useInsertionEffect(()=>{r.current=n});const a=w.useRef(null);return w.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=r.current;if(typeof u=="function")if(l){const h=u(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const WI=w.createContext({});function lc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Qz(t,e,n,r,a,l){const{visualElement:u}=w.useContext(Dm),h=w.useContext(qI),d=w.useContext(Cm),p=w.useContext(o_).reducedMotion,y=w.useRef(null);r=r||h.renderer,!y.current&&r&&(y.current=r(t,{visualState:e,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p,isSVG:l}));const v=y.current,T=w.useContext(WI);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&Xz(y.current,n,a,T);const x=w.useRef(!1);w.useInsertionEffect(()=>{v&&x.current&&v.update(n,d)});const N=n[iI],P=w.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return bx(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),P.current&&v.animationState&&v.animationState.animateChanges())}),w.useEffect(()=>{v&&(!P.current&&v.animationState&&v.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),P.current=!1),v.enteringChildren=void 0)}),v}function Xz(t,e,n,r){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:QI(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&lc(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:d,layoutRoot:p})}function QI(t){if(t)return t.options.allowProjection!==!1?t.projection:QI(t.parent)}function cy(t,{forwardMotionProps:e=!1,type:n}={},r,a){r&&Mz(r);const l=n?n==="svg":u_(t),u=l?Yz:$z;function h(p,y){let v;const T={...w.useContext(o_),...p,layoutId:Jz(p)},{isStatic:x}=T,N=Lz(p),P=u(p,x);if(!x&&_x){Zz();const F=eB(T);v=F.MeasureLayout,N.visualElement=Qz(t,P,T,a,F.ProjectionNode,l)}return M.jsxs(Dm.Provider,{value:N,children:[v&&N.visualElement?M.jsx(v,{visualElement:N.visualElement,...T}):null,qz(t,p,Wz(P,N.visualElement,y),P,x,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=w.forwardRef(h);return d[Kz]=t,d}function Jz({layoutId:t}){const e=w.useContext(M0).id;return e&&t!==void 0?e+"-"+t:t}function Zz(t,e){w.useContext(qI).strict}function eB(t){const e=HI(),{drag:n,layout:r}=e;if(!n&&!r)return{};const a={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function tB(t,e){if(typeof Proxy>"u")return cy;const n=new Map,r=(l,u)=>cy(l,u,t,e),a=(l,u)=>r(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?r:(n.has(u)||n.set(u,cy(u,void 0,t,e)),n.get(u))})}const nB=(t,e)=>e.isSVG??u_(t)?new Oj(e):new xj(e,{allowProjection:t!==w.Fragment});class iB extends da{constructor(e){super(e),e.animationState||(e.animationState=jj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Rm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let rB=0;class sB extends da{constructor(){super(...arguments),this.id=rB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const aB={animation:{Feature:iB},exit:{Feature:sB}};function eh(t){return{point:{x:t.pageX,y:t.pageY}}}const oB=t=>e=>n_(e)&&t(e,eh(e));function _c(t,e,n,r){return Pc(t,e,oB(n),r)}const XI=({current:t})=>t?t.ownerDocument.defaultView:null,HS=(t,e)=>Math.abs(t-e);function lB(t,e){const n=HS(t.x,e.x),r=HS(t.y,e.y);return Math.sqrt(n**2+r**2)}const GS=new Set(["auto","scroll"]);class JI{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=fy(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,P=lB(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!P)return;const{point:F}=x,{timestamp:B}=bn;this.history.push({...F,timestamp:B});const{onStart:U,onMove:z}=this.handlers;N||(U&&U(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,x)},this.handlePointerMove=(x,N)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=hy(N,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(x,N)=>{this.end();const{onEnd:P,onSessionEnd:F,resumeAnimation:B}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=fy(x.type==="pointercancel"?this.lastMoveEventInfo:hy(N,this.transformPagePoint),this.history);this.startEvent&&P&&P(x,U),F&&F(x,U)},!n_(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=a||window;const d=eh(e),p=hy(d,this.transformPagePoint),{point:y}=p,{timestamp:v}=bn;this.history=[{...y,timestamp:v}];const{onSessionStart:T}=n;T&&T(e,fy(p,this.history)),this.removeListeners=Xc(_c(this.contextWindow,"pointermove",this.handlePointerMove),_c(this.contextWindow,"pointerup",this.handlePointerUp),_c(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(GS.has(r.overflowX)||GS.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,a=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Rt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),oa(this.updatePoint)}}function hy(t,e){return e?{point:e(t.point)}:t}function $S(t,e){return{x:t.x-e.x,y:t.y-e.y}}function fy({point:t},e){return{point:t,delta:$S(t,ZI(e)),offset:$S(t,uB(e)),velocity:cB(e,.1)}}function uB(t){return t[0]}function ZI(t){return t[t.length-1]}function cB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=ZI(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>Xr(e)));)n--;if(!r)return{x:0,y:0};const l=Ti(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function hB(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Mt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Mt(n,t,r.max):Math.min(t,n)),t}function YS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function fB(t,{top:e,left:n,bottom:r,right:a}){return{x:YS(t.x,n,a),y:YS(t.y,e,r)}}function KS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function dB(t,e){return{x:KS(t.x,e.x),y:KS(t.y,e.y)}}function mB(t,e){let n=.5;const r=Pn(t),a=Pn(e);return a>r?n=kc(e.min,e.max-r,t.min):r>a&&(n=kc(t.min,t.max-a,e.min)),Sr(0,1,n)}function pB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mv=.35;function gB(t=mv){return t===!1?t=0:t===!0&&(t=mv),{x:WS(t,"left","right"),y:WS(t,"top","bottom")}}function WS(t,e,n){return{min:QS(t,e),max:QS(t,n)}}function QS(t,e){return typeof t=="number"?t:t[e]||0}const yB=new WeakMap;class vB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=on(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(eh(v).point)):this.pauseAnimation()},u=(v,T)=>{this.stopAnimation();const{drag:x,dragPropagation:N,onDragStart:P}=this.getProps();if(x&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sj(x),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_i(B=>{let U=this.getAxisMotionValue(B).get()||0;if(Er.test(U)){const{projection:z}=this.visualElement;if(z&&z.layout){const ue=z.layout.layoutBox[B];ue&&(U=Pn(ue)*(parseFloat(U)/100))}}this.originPoint[B]=U}),P&&Rt.postRender(()=>P(v,T)),av(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},h=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T;const{dragPropagation:x,dragDirectionLock:N,onDirectionLock:P,onDrag:F}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:B}=T;if(N&&this.currentDirection===null){this.currentDirection=_B(B),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",T.point,B),this.updateAxis("y",T.point,B),this.visualElement.render(),F&&F(v,T)},d=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T,this.stop(v,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>_i(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new JI(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:XI(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Rt.postRender(()=>h(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!Bf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=hB(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&lc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=fB(r.layoutBox,e):this.constraints=!1,this.elastic=gB(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&_i(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=pB(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!lc(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Ej(r,a.root,this.visualElement.getTransformPagePoint());let u=dB(a.layout.layoutBox,l);if(n){const h=n(_j(u));this.hasMutatedConstraints=!!h,h&&(u=bI(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=_i(y=>{if(!Bf(y,n,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const T=a?200:1e6,x=a?40:1e7,N={type:"inertia",velocity:r?e[y]:0,bounceStiffness:T,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,N)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return av(this.visualElement,e),r.start(X0(e,r,0,n,this.visualElement,!1))}stopAnimation(){_i(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_i(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){_i(n=>{const{drag:r}=this.getProps();if(!Bf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n],d=l.get()||0;l.set(e[n]-Mt(u,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!lc(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};_i(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=mB({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_i(u=>{if(!Bf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(Mt(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;yB.set(this.visualElement,this);const e=this.visualElement.current,n=_c(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps(),v=d.target,T=v!==e&&mI(v);p&&y&&!T&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();lc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Rt.read(r);const u=Pc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(_i(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=mv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Bf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _B(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class bB extends da{constructor(e){super(e),this.removeGroupControls=wi,this.removeListeners=wi,this.controls=new vB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const XS=t=>(e,n)=>{t&&Rt.postRender(()=>t(e,n))};class TB extends da{constructor(){super(...arguments),this.removePointerDownListener=wi}onPointerDown(e){this.session=new JI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:XS(e),onStart:XS(n),onMove:r,onEnd:(l,u)=>{delete this.session,a&&Rt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=_c(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let dy=!1;class EB extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),dy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),cd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:u}=r;return u&&(u.isPresent=l,dy=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Rt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),t_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;dy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eD(t){const[e,n]=FI(),r=w.useContext(M0);return M.jsx(EB,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(WI),isPresent:e,safeToRemove:n})}const wB={pan:{Feature:TB},drag:{Feature:bB,ProjectionNode:BI,MeasureLayout:eD}};function JS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&Rt.postRender(()=>l(e,eh(e)))}class SB extends da{mount(){const{current:e}=this.node;e&&(this.unmount=aj(e,(n,r)=>(JS(this.node,r,"Start"),a=>JS(this.node,a,"End"))))}unmount(){}}class AB extends da{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xc(Pc(this.node.current,"focus",()=>this.onFocus()),Pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ZS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&Rt.postRender(()=>l(e,eh(e)))}class CB extends da{mount(){const{current:e}=this.node;e&&(this.unmount=uj(e,(n,r)=>(ZS(this.node,r,"Start"),(a,{success:l})=>ZS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pv=new WeakMap,my=new WeakMap,RB=t=>{const e=pv.get(t.target);e&&e(t)},xB=t=>{t.forEach(RB)};function IB({root:t,...e}){const n=t||document;my.has(n)||my.set(n,{});const r=my.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(xB,{root:t,...e})),r[a]}function DB(t,e,n){const r=IB(e);return pv.set(t,n),r.observe(t),()=>{pv.delete(t),r.unobserve(t)}}const kB={some:0,all:1};class MB extends da{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:kB[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),T=p?y:v;T&&T(d)};return DB(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(NB(e,n))&&this.startObserver()}unmount(){}}function NB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const OB={inView:{Feature:MB},tap:{Feature:CB},focus:{Feature:AB},hover:{Feature:SB}},PB={layout:{ProjectionNode:BI,MeasureLayout:eD}},VB={...aB,...OB,...wB,...PB},Bi=tB(VB,nB);const LB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),eA=t=>{const e=UB(t);return e.charAt(0).toUpperCase()+e.slice(1)},tD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),jB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var zB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const BB=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:u,...h},d)=>w.createElement("svg",{ref:d,...zB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:tD("lucide",a),...!l&&!jB(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>w.createElement(p,y)),...Array.isArray(l)?l:[l]]));const bt=(t,e)=>{const n=w.forwardRef(({className:r,...a},l)=>w.createElement(BB,{ref:l,iconNode:e,className:tD(`lucide-${LB(eA(t))}`,`lucide-${t}`,r),...a}));return n.displayName=eA(t),n};const FB=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],qB=bt("activity",FB);const HB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],GB=bt("arrow-left",HB);const $B=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],YB=bt("arrow-right",$B);const KB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Kd=bt("calendar",KB);const WB=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],QB=bt("car",WB);const XB=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],JB=bt("chart-pie",XB);const ZB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],e8=bt("check",ZB);const t8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],n8=bt("chevron-left",t8);const i8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gv=bt("chevron-right",i8);const r8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],s8=bt("circle-check",r8);const a8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],o8=bt("clock",a8);const l8=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],nD=bt("house",l8);const u8=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],c8=bt("indian-rupee",u8);const h8=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],f8=bt("layout-grid",h8);const d8=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],iD=bt("list-todo",d8);const m8=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],p8=bt("list",m8);const g8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],y8=bt("log-out",g8);const v8=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],_8=bt("menu",v8);const b8=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],T8=bt("moon",b8);const E8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],w8=bt("panels-top-left",E8);const S8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rD=bt("settings",S8);const A8=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],C8=bt("sparkles",A8);const R8=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],x8=bt("square-check-big",R8);const I8=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],D8=bt("sun",I8);const k8=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],M8=bt("utensils",k8);const N8=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],O8=bt("wallet",N8);const P8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],c_=bt("x",P8);const V8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],L8=bt("zap",V8),U8=()=>{const[t,e]=w.useState(!1),[n,r]=w.useState(null),[a,l]=w.useState(!1),u=async()=>{r(null),l(!0);try{await uC(Vd),t||(l(!1),r(null))}catch(h){t||(console.log(h.message),r(h.message),l(!1))}};return w.useEffect(()=>()=>e(!0),[]),{logout:u,error:n,isPending:a}};function sD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=sD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yv(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=sD(t))&&(r&&(r+=" "),r+=e);return r}const j8=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},z8=(t,e)=>({classGroupId:t,validator:e}),aD=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Wd="-",tA=[],B8="arbitrary..",F8=t=>{const e=H8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return q8(u);const h=u.split(Wd),d=h[0]===""&&h.length>1?1:0;return oD(h,d,e)},getConflictingClassGroupIds:(u,h)=>{if(h){const d=r[u],p=n[u];return d?p?j8(p,d):d:p||tA}return n[u]||tA}}},oD=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=oD(t,e+1,l);if(p)return p}const u=n.validators;if(u===null)return;const h=e===0?t.join(Wd):t.slice(e).join(Wd),d=u.length;for(let p=0;p<d;p++){const y=u[p];if(y.validator(h))return y.classGroupId}},q8=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?B8+r:void 0})(),H8=t=>{const{theme:e,classGroups:n}=t;return G8(n,e)},G8=(t,e)=>{const n=aD();for(const r in t){const a=t[r];h_(a,n,r,e)}return n},h_=(t,e,n,r)=>{const a=t.length;for(let l=0;l<a;l++){const u=t[l];$8(u,e,n,r)}},$8=(t,e,n,r)=>{if(typeof t=="string"){Y8(t,e,n);return}if(typeof t=="function"){K8(t,e,n,r);return}W8(t,e,n,r)},Y8=(t,e,n)=>{const r=t===""?e:lD(e,t);r.classGroupId=n},K8=(t,e,n,r)=>{if(Q8(t)){h_(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(z8(n,t))},W8=(t,e,n,r)=>{const a=Object.entries(t),l=a.length;for(let u=0;u<l;u++){const[h,d]=a[u];h_(d,lD(e,h),n,r)}},lD=(t,e)=>{let n=t;const r=e.split(Wd),a=r.length;for(let l=0;l<a;l++){const u=r[l];let h=n.nextPart.get(u);h||(h=aD(),n.nextPart.set(u,h)),n=h}return n},Q8=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,X8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(l,u)=>{n[l]=u,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=r[l])!==void 0)return a(l,u),u},set(l,u){l in n?n[l]=u:a(l,u)}}},vv="!",nA=":",J8=[],iA=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),Z8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const l=[];let u=0,h=0,d=0,p;const y=a.length;for(let P=0;P<y;P++){const F=a[P];if(u===0&&h===0){if(F===nA){l.push(a.slice(d,P)),d=P+1;continue}if(F==="/"){p=P;continue}}F==="["?u++:F==="]"?u--:F==="("?h++:F===")"&&h--}const v=l.length===0?a:a.slice(d);let T=v,x=!1;v.endsWith(vv)?(T=v.slice(0,-1),x=!0):v.startsWith(vv)&&(T=v.slice(1),x=!0);const N=p&&p>d?p-d:void 0;return iA(l,x,T,N)};if(e){const a=e+nA,l=r;r=u=>u.startsWith(a)?l(u.slice(a.length)):iA(J8,!1,u,void 0,!0)}if(n){const a=r;r=l=>n({className:l,parseClassName:a})}return r},eF=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let l=0;l<n.length;l++){const u=n[l],h=u[0]==="[",d=e.has(u);h||d?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(u)):a.push(u)}return a.length>0&&(a.sort(),r.push(...a)),r}},tF=t=>({cache:X8(t.cacheSize),parseClassName:Z8(t),sortModifiers:eF(t),...F8(t)}),nF=/\s+/,iF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],h=t.trim().split(nF);let d="";for(let p=h.length-1;p>=0;p-=1){const y=h[p],{isExternal:v,modifiers:T,hasImportantModifier:x,baseClassName:N,maybePostfixModifierPosition:P}=n(y);if(v){d=y+(d.length>0?" "+d:d);continue}let F=!!P,B=r(F?N.substring(0,P):N);if(!B){if(!F){d=y+(d.length>0?" "+d:d);continue}if(B=r(N),!B){d=y+(d.length>0?" "+d:d);continue}F=!1}const U=T.length===0?"":T.length===1?T[0]:l(T).join(":"),z=x?U+vv:U,ue=z+B;if(u.indexOf(ue)>-1)continue;u.push(ue);const L=a(B,F);for(let X=0;X<L.length;++X){const A=L[X];u.push(z+A)}d=y+(d.length>0?" "+d:d)}return d},rF=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=uD(n))&&(a&&(a+=" "),a+=r);return a},uD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=uD(t[r]))&&(n&&(n+=" "),n+=e);return n},sF=(t,...e)=>{let n,r,a,l;const u=d=>{const p=e.reduce((y,v)=>v(y),t());return n=tF(p),r=n.cache.get,a=n.cache.set,l=h,h(d)},h=d=>{const p=r(d);if(p)return p;const y=iF(d,n);return a(d,y),y};return l=u,(...d)=>l(rF(...d))},aF=[],an=t=>{const e=n=>n[t]||aF;return e.isThemeGetter=!0,e},cD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,hD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,oF=/^\d+\/\d+$/,lF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,hF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rl=t=>oF.test(t),Qe=t=>!!t&&!Number.isNaN(Number(t)),Fs=t=>!!t&&Number.isInteger(Number(t)),py=t=>t.endsWith("%")&&Qe(t.slice(0,-1)),Gr=t=>lF.test(t),dF=()=>!0,mF=t=>uF.test(t)&&!cF.test(t),fD=()=>!1,pF=t=>hF.test(t),gF=t=>fF.test(t),yF=t=>!Ie(t)&&!De(t),vF=t=>Fl(t,pD,fD),Ie=t=>cD.test(t),Ga=t=>Fl(t,gD,mF),gy=t=>Fl(t,wF,Qe),rA=t=>Fl(t,dD,fD),_F=t=>Fl(t,mD,gF),Ff=t=>Fl(t,yD,pF),De=t=>hD.test(t),Zu=t=>ql(t,gD),bF=t=>ql(t,SF),sA=t=>ql(t,dD),TF=t=>ql(t,pD),EF=t=>ql(t,mD),qf=t=>ql(t,yD,!0),Fl=(t,e,n)=>{const r=cD.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ql=(t,e,n=!1)=>{const r=hD.exec(t);return r?r[1]?e(r[1]):n:!1},dD=t=>t==="position"||t==="percentage",mD=t=>t==="image"||t==="url",pD=t=>t==="length"||t==="size"||t==="bg-size",gD=t=>t==="length",wF=t=>t==="number",SF=t=>t==="family-name",yD=t=>t==="shadow",AF=()=>{const t=an("color"),e=an("font"),n=an("text"),r=an("font-weight"),a=an("tracking"),l=an("leading"),u=an("breakpoint"),h=an("container"),d=an("spacing"),p=an("radius"),y=an("shadow"),v=an("inset-shadow"),T=an("text-shadow"),x=an("drop-shadow"),N=an("blur"),P=an("perspective"),F=an("aspect"),B=an("ease"),U=an("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...ue(),De,Ie],X=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],S=()=>[De,Ie,d],D=()=>[rl,"full","auto",...S()],O=()=>[Fs,"none","subgrid",De,Ie],V=()=>["auto",{span:["full",Fs,De,Ie]},Fs,De,Ie],k=()=>[Fs,"auto",De,Ie],C=()=>["auto","min","max","fr",De,Ie],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...S()],te=()=>[rl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],W=()=>[t,De,Ie],_e=()=>[...ue(),sA,rA,{position:[De,Ie]}],Pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",TF,vF,{size:[De,Ie]}],ae=()=>[py,Zu,Ga],pe=()=>["","none","full",p,De,Ie],ne=()=>["",Qe,Zu,Ga],ie=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[Qe,py,sA,rA],Ee=()=>["","none",N,De,Ie],de=()=>["none",Qe,De,Ie],Ue=()=>["none",Qe,De,Ie],We=()=>[Qe,De,Ie],Ne=()=>[rl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gr],breakpoint:[Gr],color:[dF],container:[Gr],"drop-shadow":[Gr],ease:["in","out","in-out"],font:[yF],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gr],shadow:[Gr],spacing:["px",Qe],text:[Gr],"text-shadow":[Gr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rl,Ie,De,F]}],container:["container"],columns:[{columns:[Qe,Ie,De,h]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Fs,"auto",De,Ie]}],basis:[{basis:[rl,"full","auto",h,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Qe,rl,"auto","initial","none",Ie]}],grow:[{grow:["",Qe,De,Ie]}],shrink:[{shrink:["",Qe,De,Ie]}],order:[{order:[Fs,"first","last","none",De,Ie]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[h,"screen",...te()]}],"min-w":[{"min-w":[h,"screen","none",...te()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,Zu,Ga]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,De,gy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",py,Ie]}],"font-family":[{font:[bF,Ie,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,De,Ie]}],"line-clamp":[{"line-clamp":[Qe,"none",De,gy]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",De,Ie]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",De,Ie]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[Qe,"from-font","auto",De,Ga]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Qe,"auto",De,Ie]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De,Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De,Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:_e()}],"bg-repeat":[{bg:Pe()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Fs,De,Ie],radial:["",De,Ie],conic:[Fs,De,Ie]},EF,_F]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:ae()}],"gradient-via-pos":[{via:ae()}],"gradient-to-pos":[{to:ae()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ie(),"hidden","none"]}],"divide-style":[{divide:[...ie(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Qe,De,Ie]}],"outline-w":[{outline:["",Qe,Zu,Ga]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",y,qf,Ff]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",v,qf,Ff]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Qe,Ga]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",T,qf,Ff]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Qe,De,Ie]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[De,Ie]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ue()}],"mask-image-conic-pos":[{"mask-conic":[Qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:_e()}],"mask-repeat":[{mask:Pe()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",De,Ie]}],filter:[{filter:["","none",De,Ie]}],blur:[{blur:Ee()}],brightness:[{brightness:[Qe,De,Ie]}],contrast:[{contrast:[Qe,De,Ie]}],"drop-shadow":[{"drop-shadow":["","none",x,qf,Ff]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Qe,De,Ie]}],"hue-rotate":[{"hue-rotate":[Qe,De,Ie]}],invert:[{invert:["",Qe,De,Ie]}],saturate:[{saturate:[Qe,De,Ie]}],sepia:[{sepia:["",Qe,De,Ie]}],"backdrop-filter":[{"backdrop-filter":["","none",De,Ie]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[Qe,De,Ie]}],"backdrop-contrast":[{"backdrop-contrast":[Qe,De,Ie]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Qe,De,Ie]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Qe,De,Ie]}],"backdrop-invert":[{"backdrop-invert":["",Qe,De,Ie]}],"backdrop-opacity":[{"backdrop-opacity":[Qe,De,Ie]}],"backdrop-saturate":[{"backdrop-saturate":[Qe,De,Ie]}],"backdrop-sepia":[{"backdrop-sepia":["",Qe,De,Ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",De,Ie]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Qe,"initial",De,Ie]}],ease:[{ease:["linear","initial",B,De,Ie]}],delay:[{delay:[Qe,De,Ie]}],animate:[{animate:["none",U,De,Ie]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,De,Ie]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:de()}],"rotate-x":[{"rotate-x":de()}],"rotate-y":[{"rotate-y":de()}],"rotate-z":[{"rotate-z":de()}],scale:[{scale:Ue()}],"scale-x":[{"scale-x":Ue()}],"scale-y":[{"scale-y":Ue()}],"scale-z":[{"scale-z":Ue()}],"scale-3d":["scale-3d"],skew:[{skew:We()}],"skew-x":[{"skew-x":We()}],"skew-y":[{"skew-y":We()}],transform:[{transform:[De,Ie,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ne()}],"translate-x":[{"translate-x":Ne()}],"translate-y":[{"translate-y":Ne()}],"translate-z":[{"translate-z":Ne()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De,Ie]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De,Ie]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Qe,Zu,Ga,gy]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},CF=sF(AF);function aA(...t){return CF(yv(t))}const Qd=w.memo(({children:t,variant:e="primary",className:n,isLoading:r,disabled:a,forceScale:l,...u})=>{const h="inline-flex items-center justify-center rounded-lg text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-white active:scale-95",d={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-600 shadow-sm",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus:ring-slate-500",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus:ring-slate-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-600"},p={default:"h-10 py-2 px-4"};return M.jsx(Bi.button,{whileHover:{scale:a||r?1:1.02},whileTap:{scale:a||r?1:.98},transition:{duration:.1},className:aA(h,d[e],p.default,n),disabled:a||r,...u,children:r?M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("img",{src:k0,alt:"Loading...",className:aA("h-5 w-auto animate-pulse",(e==="primary"||e==="danger")&&"brightness-0 invert")}),M.jsx("span",{className:"opacity-70",children:"Processing..."})]}):t})});Qd.displayName="Button";const RF=({isOpen:t,onClose:e})=>{const{currentDate:n,setDate:r,maxDate:a}=Am(),[l,u]=w.useState(new Date(n)),[h,d]=w.useState("day");w.useEffect(()=>{t&&(u(new Date(n)),d("day"))},[t,n]);const p=()=>{r(l),e()},y=new Date;y.setHours(0,0,0,0);const v=B=>B>y,T=(B,U)=>new Date(B,U+1,0).getDate(),x=(B,U)=>new Date(B,U,1).getDay(),N=()=>{const B=l.getFullYear(),U=l.getMonth(),z=T(B,U),ue=x(B,U),L=[];for(let X=0;X<ue;X++)L.push(null);for(let X=1;X<=z;X++)L.push(new Date(B,U,X));return L},P=B=>{const U=new Date(l);U.setMonth(U.getMonth()+B),u(U)},F=B=>{const U=new Date(l);U.setFullYear(B),U.getMonth()!==l.getMonth()&&U.setDate(0),u(U),d("day")};return M.jsx(Im,{children:t&&M.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:M.jsxs(Bi.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-sm bg-white rounded-2xl shadow-xl overflow-hidden dark:bg-slate-900 border dark:border-slate-800",children:[M.jsxs("div",{className:"p-4 border-b dark:border-slate-800 flex items-center justify-between",children:[M.jsxs("h3",{className:"font-bold text-lg dark:text-white flex items-center gap-2",children:[M.jsx(Kd,{className:"w-5 h-5 text-indigo-500"}),"Jump to Date"]}),M.jsx("button",{onClick:e,className:"p-1 hover:bg-slate-100 rounded-full dark:hover:bg-slate-800 transition-colors",children:M.jsx(c_,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"})})]}),M.jsxs("div",{className:"p-4",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4",children:[M.jsx("button",{onClick:()=>P(-1),className:"p-1 hover:bg-slate-100 rounded-lg dark:hover:bg-slate-800",children:M.jsx(n8,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:()=>d("month"),className:"font-bold text-slate-800 hover:bg-slate-100 px-2 py-1 rounded-md transition-colors dark:text-white dark:hover:bg-slate-800",children:l.toLocaleString("default",{month:"long"})}),M.jsx("button",{onClick:()=>d("year"),className:"font-bold text-slate-800 hover:bg-slate-100 px-2 py-1 rounded-md transition-colors dark:text-white dark:hover:bg-slate-800",children:l.getFullYear()})]}),M.jsx("button",{onClick:()=>P(1),disabled:l.getMonth()===y.getMonth()&&l.getFullYear()===y.getFullYear(),className:"p-1 hover:bg-slate-100 rounded-lg dark:hover:bg-slate-800 disabled:opacity-30",children:M.jsx(gv,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),M.jsxs("div",{className:"h-64 overflow-y-auto",children:[h==="day"&&M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-bold text-slate-400",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(B=>M.jsx("div",{children:B},B))}),M.jsx("div",{className:"grid grid-cols-7 gap-1",children:N().map((B,U)=>M.jsx("div",{className:"aspect-square flex items-center justify-center",children:B&&M.jsx("button",{onClick:()=>u(B),disabled:v(B),className:`
                                                                w-8 h-8 rounded-full text-sm font-medium transition-colors
                                                                ${B.getDate()===l.getDate()&&B.getMonth()===l.getMonth()?"bg-indigo-600 text-white":v(B)?"text-slate-300 dark:text-slate-700 cursor-not-allowed":"hover:bg-slate-100 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}
                                                            `,children:B.getDate()})},U))})]}),h==="month"&&M.jsx("div",{className:"grid grid-cols-3 gap-2",children:Array.from({length:12},(B,U)=>new Date(0,U)).map((B,U)=>M.jsx("button",{onClick:()=>{const z=new Date(l);z.setMonth(U),u(z),d("day")},className:`p-2 rounded-lg text-sm font-medium transition-colors ${l.getMonth()===U?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"hover:bg-slate-50 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:B.toLocaleString("default",{month:"short"})},U))}),h==="year"&&M.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:10},(B,U)=>y.getFullYear()-U).map(B=>M.jsx("button",{onClick:()=>F(B),className:`p-2 rounded-lg text-sm font-medium transition-colors ${l.getFullYear()===B?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"hover:bg-slate-50 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:B},B))})]})]}),M.jsxs("div",{className:"p-4 bg-slate-50 border-t dark:bg-slate-900 dark:border-slate-800 flex justify-end gap-2",children:[M.jsx(Qd,{variant:"ghost",onClick:e,className:"dark:text-slate-400",children:"Cancel"}),M.jsx(Qd,{onClick:p,children:"Jump"})]})]})})})},xF=({isOpen:t,onClose:e})=>{const{user:n}=fa(),{logout:r}=U8(),{setDate:a,formattedDate:l,maxDate:u}=Am(),h=fo(),[d,p]=w.useState(!1),y=async()=>{try{await r(),h("/login",{replace:!0})}catch(x){console.error("Logout error:",x),localStorage.clear(),window.location.hash="/login"}},v=[{icon:nD,label:"Dashboard",path:"/"},{icon:x8,label:"Daily Routine",path:"/routine"},{icon:Kd,label:"History",path:"/history"},{icon:rD,label:"Settings",path:"/settings"}],T=[{icon:M8,label:"Plan Diet",path:"/diet-plan",color:"text-orange-500",bg:"bg-orange-50"},{icon:JB,label:"Analytics",path:"/analytics",color:"text-indigo-500",bg:"bg-indigo-50"},{icon:O8,label:"Finance",path:"/finance",color:"text-emerald-500",bg:"bg-emerald-50"}];return M.jsx(Im,{children:t&&M.jsxs(M.Fragment,{children:[M.jsx(Bi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm"}),M.jsxs(Bi.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-y-0 right-0 z-50 w-3/4 max-w-sm bg-white shadow-2xl flex flex-col dark:bg-slate-900 dark:border-l dark:border-slate-800",children:[M.jsxs("div",{className:"p-5 border-b flex items-center justify-between dark:border-slate-800",children:[M.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Menu"}),M.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full",children:M.jsx(c_,{className:"w-5 h-5 text-slate-500"})})]}),M.jsx("div",{onClick:()=>{h("/settings"),e()},className:"p-5 bg-slate-50 border-b dark:bg-slate-900 dark:border-slate-800 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold shadow-sm ring-2 ring-white dark:ring-slate-700 overflow-hidden ${n?.profileColor?`${n.profileColor} text-white`:"bg-indigo-100 text-indigo-600"}`,children:n?.photoURL?M.jsx("img",{src:n.photoURL,alt:n?.name,className:"w-full h-full object-cover"}):M.jsx("span",{className:"text-sm font-black uppercase tracking-wider !text-white",children:n?.initials||n?.name?.charAt(0)})}),M.jsxs("div",{className:"flex-1 min-w-0",children:[M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsx("p",{className:"font-bold text-slate-900 truncate dark:text-white",children:n?.name}),M.jsx(gv,{className:"w-4 h-4 text-slate-400"})]}),M.jsxs("p",{className:"text-[10px] text-slate-500 font-medium",children:["Member ID: AWK-",n?.uid?.slice(-4).toUpperCase()||"GUEST"]}),M.jsx("p",{className:"text-[10px] text-indigo-500 font-semibold",children:n?.email})]})]})}),M.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[M.jsxs("nav",{className:"space-y-1",children:[v.map(x=>M.jsxs(fd,{to:x.path,onClick:e,className:"flex items-center gap-3 px-3 py-3 rounded-xl hover:bg-slate-50 text-slate-700 font-medium transition-colors dark:text-slate-300 dark:hover:bg-slate-800",children:[M.jsx(x.icon,{className:"w-5 h-5 text-slate-400"}),x.label]},x.path)),M.jsxs("button",{onClick:()=>{p(!0)},className:"flex items-center gap-3 px-3 py-3 rounded-xl hover:bg-slate-50 text-slate-700 font-medium transition-colors w-full text-left dark:text-slate-300 dark:hover:bg-slate-800",children:[M.jsx(Kd,{className:"w-5 h-5 text-slate-400"}),"Jump to Date"]}),d&&M.jsx(RF,{isOpen:d,onClose:()=>{p(!1),e()}})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-3",children:"Tools"}),M.jsx("div",{className:"space-y-2",children:T.map(x=>M.jsxs(fd,{to:x.path,onClick:e,className:"flex items-center justify-between p-3 rounded-xl border border-slate-100 hover:border-slate-200 hover:shadow-sm transition-all group",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${x.bg} ${x.color}`,children:M.jsx(x.icon,{className:"w-4 h-4"})}),M.jsx("span",{className:"font-medium text-slate-700",children:x.label})]}),M.jsx(gv,{className:"w-4 h-4 text-slate-300 group-hover:text-slate-500"})]},x.path))})]})]}),M.jsxs("div",{className:"p-4 border-t",children:[M.jsxs("button",{type:"button",onClick:y,className:"flex items-center gap-3 w-full px-3 py-3 rounded-xl text-red-600 hover:bg-red-50 font-medium transition-colors active:scale-95 z-[60]",children:[M.jsx(y8,{className:"w-5 h-5"}),"Sign Out"]}),M.jsx("p",{className:"text-center text-xs text-slate-300 mt-4",children:"Version 1.0.0"})]})]})]})})},Hf={"/":()=>Dt(()=>import("./Home-kFSWFdUh.js"),__vite__mapDeps([0,1,2])),"/routine":()=>Dt(()=>import("./Routine-DGqWxXmR.js"),__vite__mapDeps([3,4,5,2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])),"/workspace":()=>Dt(()=>import("./TaskDashboard-D0OgZpJz.js"),__vite__mapDeps([21,5,2,6,7,8,9,10,11,15,22])),"/finance":()=>Dt(()=>import("./FinanceDashboard-jTMsTffl.js"),__vite__mapDeps([23,24,25,7,17,26,19,15,10])),"/vehicle":()=>Dt(()=>import("./VehicleDashboard-CdUaYKvK.js"),__vite__mapDeps([27,6,28,16,29,8,15,24,26]))},ec=({to:t,icon:e,label:n,isActive:r,onClick:a})=>M.jsxs("button",{onClick:a,className:"flex-1 flex items-center justify-center relative h-12 group","aria-label":n,onMouseEnter:()=>{Hf[t]&&Hf[t]()},onTouchStart:()=>{Hf[t]&&Hf[t]()},children:[r&&M.jsx("div",{className:"absolute inset-x-2 inset-y-2 bg-blue-500 rounded-xl opacity-100 shadow-[0_0_15px_rgba(59,130,246,0.6)] animate-in fade-in zoom-in duration-200"}),M.jsx(e,{className:`w-6 h-6 relative z-10 transition-all duration-300 ${r?"text-white scale-110":"text-slate-400 group-hover:text-white group-hover:scale-110"}`,strokeWidth:r?2.5:2})]}),vD=()=>{const{pathname:t}=Ci(),e=fo(),[n,r]=w.useState(t);w.useEffect(()=>{r(t)},[t]);const a=u=>{r(u),e(u)},l=u=>n===u||u!=="/"&&n.startsWith(u);return M.jsx("nav",{className:"fixed bottom-5 left-0 right-0 z-50 sm:hidden flex justify-center px-4",children:M.jsxs("div",{className:"flex items-center justify-between w-full max-w-sm bg-slate-900/95 border border-slate-700/50 rounded-full px-2 py-2 shadow-[0_10px_40px_rgba(0,0,0,0.5)] backdrop-blur-xl ring-1 ring-white/10",children:[M.jsx(ec,{to:"/",icon:nD,label:"Home",isActive:n==="/",onClick:()=>a("/")}),M.jsx(ec,{to:"/routine",icon:s8,label:"Routine",isActive:l("/routine"),onClick:()=>a("/routine")}),M.jsx(ec,{to:"/workspace",icon:iD,label:"To-Do",isActive:l("/workspace"),onClick:()=>a("/workspace")}),M.jsx(ec,{to:"/finance",icon:c8,label:"Finance",isActive:l("/finance"),onClick:()=>a("/finance")}),M.jsx(ec,{to:"/vehicle",icon:QB,label:"Vehicle",isActive:l("/vehicle"),onClick:()=>a("/vehicle")})]})})},IF=({children:t})=>{const{formattedDate:e}=Am(),[n,r]=w.useState(!1),a=Ci(),l=fo(),h=["/","/routine","/history","/settings"].includes(a.pathname),{isDark:d,toggleTheme:p}=nx();return M.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 pb-24 dark:bg-slate-950 dark:text-slate-50 transition-colors",children:[M.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-slate-200 px-4 py-3 flex items-center justify-between dark:bg-slate-900/80 dark:border-slate-800 transition-colors",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsx("div",{className:"flex items-center gap-2",children:M.jsx("button",{onClick:()=>l("/"),className:"focus:outline-none hover:opacity-80 transition-opacity",children:M.jsx("img",{src:k0,alt:"HUMI AWAKE",className:"h-8 w-auto object-cover dark:brightness-0 dark:invert"})})}),!h&&M.jsx("div",{className:"flex items-center gap-1 pl-2 border-l border-slate-200 dark:border-slate-800",children:M.jsx("button",{onClick:()=>l(-1),className:"p-1.5 text-slate-500 hover:bg-slate-100 rounded-full transition-colors dark:text-slate-400 dark:hover:bg-slate-800",title:"Go Back",children:M.jsx(GB,{className:"w-5 h-5"})})})]}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("button",{onClick:p,className:"p-2 rounded-full text-slate-500 hover:bg-slate-100 transition-colors dark:text-slate-400 dark:hover:bg-slate-800",children:d?M.jsx(T8,{className:"w-5 h-5"}):M.jsx(D8,{className:"w-5 h-5"})}),M.jsx("button",{onClick:()=>r(!0),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-full transition-colors dark:text-slate-300 dark:hover:bg-slate-800",children:M.jsx(f8,{className:"w-6 h-6"})})]})]}),M.jsxs("main",{className:"px-4 py-6 max-w-md mx-auto w-full",children:[M.jsx(w.Suspense,{fallback:M.jsx("div",{className:"flex items-center justify-center p-12",children:M.jsx("div",{className:"w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})}),children:t||M.jsx(EA,{})}),M.jsx("div",{className:"text-[10px] font-black text-slate-300 dark:text-slate-700 uppercase tracking-[0.2em] text-center mt-8 mb-2 opacity-60",children:"Developed by CoolCraft"})]}),M.jsx(vD,{}),M.jsx(xF,{isOpen:n,onClose:()=>r(!1)})]})},DF=({children:t})=>{const e=fo(),n=Ci(),{isDark:r}=nx(),[a,l]=w.useState(!1),u=y=>n.pathname===y,h=[{icon:p8,label:"Active Tasks",path:"/workspace/tasks"},{icon:Kd,label:"Calendar",path:"/workspace/calendar"},{icon:w8,label:"Overview",path:"/workspace/overview"},{icon:rD,label:"Settings",path:"/workspace/settings"}],d=[{icon:o8,label:"Recent",color:"text-blue-500"}],p=()=>l(!a);return M.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-50 font-sans transition-colors duration-300 pb-24",children:[M.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[M.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl opacity-50 mix-blend-multiply animate-float"}),M.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl opacity-50 mix-blend-multiply animate-float",style:{animationDelay:"2s"}})]}),M.jsxs("header",{className:"sticky top-0 left-0 right-0 h-16 glass-panel z-30 px-4 flex items-center justify-between border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md",children:[M.jsxs("div",{className:"flex items-center gap-3",onClick:()=>e("/"),children:[M.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-tr from-cyan-500 to-blue-600 flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-blue-500/20",children:M.jsx(iD,{className:"w-5 h-5"})}),M.jsx("div",{children:M.jsx("span",{className:"block font-bold text-slate-900 dark:text-white leading-none",children:"Todo"})})]}),M.jsx("button",{onClick:p,className:"p-2.5 rounded-xl text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:M.jsx(_8,{className:"w-6 h-6"})})]}),M.jsx(Im,{children:a&&M.jsxs(M.Fragment,{children:[M.jsx(Bi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 z-40 bg-slate-900/20 backdrop-blur-sm"}),M.jsxs(Bi.aside,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-y-0 right-0 z-50 w-80 bg-white dark:bg-slate-900 shadow-2xl flex flex-col h-full border-l border-slate-100 dark:border-slate-800",children:[M.jsxs("div",{className:"p-5 flex items-center justify-between border-b border-slate-100 dark:border-slate-800",children:[M.jsx("h2",{className:"font-bold text-lg",children:"Menu"}),M.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:M.jsx(c_,{className:"w-5 h-5 text-slate-500"})})]}),M.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[M.jsxs("section",{children:[M.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 px-2",children:"Navigation"}),M.jsx("div",{className:"space-y-1",children:h.map(y=>M.jsxs("button",{onClick:()=>{e(y.path),l(!1)},className:`w-full flex items-center justify-between px-3 py-3 rounded-xl transition-all ${u(y.path)?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 font-semibold":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx(y.icon,{className:"w-5 h-5"}),y.label]}),u(y.path)&&M.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})]},y.path))})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 px-2",children:"Favorites"}),d.map((y,v)=>M.jsxs("button",{onClick:()=>{y.label==="Important"&&e("/workspace/important"),y.label==="Recent"&&e("/workspace/recent"),l(!1)},className:"w-full flex items-center gap-3 px-3 py-3 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 rounded-xl transition-colors",children:[M.jsx(y.icon,{className:`w-5 h-5 ${y.color}`}),y.label]},v))]})]})]})]})}),M.jsx("main",{className:"relative z-10 px-4 py-6 max-w-lg mx-auto w-full",children:M.jsx(w.Suspense,{fallback:M.jsx("div",{className:"flex items-center justify-center p-12",children:M.jsx("div",{className:"w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})}),children:t||M.jsx(EA,{})})}),M.jsx(vD,{})]})},kF=()=>{const{error:t,clearError:e}=gx();return t?M.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,background:"#ff4d4f",color:"white",padding:"12px 16px",zIndex:9999,display:"flex",justifyContent:"space-between",alignItems:"center",fontFamily:"sans-serif"},children:[M.jsx("span",{children:t.message}),M.jsx("button",{onClick:e,style:{background:"transparent",border:"1px solid white",color:"white",cursor:"pointer"},children:"Dismiss"})]}):null},MF=()=>{const{user:t}=fa(),[e,n]=w.useState(!1),[r,a]=w.useState(!0),[l,u]=w.useState(0),h=[{title:"Welcome to Awake",text:"Your daily routine and discipline system.",icon:C8,color:"text-amber-500",bg:"bg-amber-50 dark:bg-amber-900/20"},{title:"Track Tasks & Routine",text:"Complete daily actions and build consistency.",icon:qB,color:"text-indigo-500",bg:"bg-indigo-50 dark:bg-indigo-900/20"},{title:"Quick Capture",text:"Add tasks or expenses instantly. Finance supports your discipline.",icon:L8,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-900/20"}];w.useEffect(()=>{t?Re.getDocument(`users/${t.uid}/config`,"settings").then(v=>{v?.onboardingCompleted!==!0&&n(!0),a(!1)}).catch(v=>{console.error("Error checking onboarding status:",v),a(!1)}):a(!1)},[t]);const d=async()=>{if(t)try{await Re.setItem(`users/${t.uid}/config`,"settings",{onboardingCompleted:!0},!0),n(!1)}catch(v){console.error("Failed to complete onboarding:",v),n(!1)}},p=()=>{l<h.length-1?u(v=>v+1):d()};if(r||!e)return null;const y=h[l].icon;return M.jsx(Im,{children:e&&M.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[M.jsx(Bi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-slate-900/80 backdrop-blur-md"}),M.jsx(Bi.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",bounce:.4,duration:.6},className:"relative bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-800",children:M.jsxs("div",{className:"p-8 flex flex-col items-center text-center min-h-[420px]",children:[M.jsx(Bi.div,{initial:{scale:0,rotate:-20},animate:{scale:1,rotate:0},transition:{type:"spring",bounce:.5,duration:.6},className:yv("w-24 h-24 rounded-[2rem] flex items-center justify-center mb-8 shadow-inner",h[l].bg),children:M.jsx(y,{className:yv("w-10 h-10",h[l].color)})},`icon-${l}`),M.jsxs(Bi.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1},className:"flex-1",children:[M.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-3 tracking-tight",children:h[l].title}),M.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium leading-relaxed max-w-[260px] mx-auto text-sm",children:h[l].text})]},`text-${l}`),M.jsx("div",{className:"flex gap-2 my-8 justify-center",children:h.map((v,T)=>M.jsx(Bi.div,{initial:!1,animate:{width:T===l?32:6,backgroundColor:T===l?document.documentElement.classList.contains("dark")?"#fff":"#0f172a":document.documentElement.classList.contains("dark")?"#334155":"#e2e8f0"},className:"h-1.5 rounded-full"},T))}),M.jsx("div",{className:"w-full",children:M.jsx(Qd,{onClick:p,className:"w-full py-4 rounded-2xl text-base font-bold shadow-xl shadow-indigo-500/20 active:scale-95 transition-transform",children:l===h.length-1?M.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Start Using Awake ",M.jsx(e8,{className:"w-5 h-5 stroke-[3]"})]}):M.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Continue ",M.jsx(YB,{className:"w-5 h-5 stroke-[3]"})]})})})]})})]})})},NF=w.lazy(()=>Dt(()=>import("./Login-BfSnbypx.js"),__vite__mapDeps([30,31,12,32,25,16,8,33])));w.lazy(()=>Dt(()=>import("./Dashboard-y1W2A3l1.js"),__vite__mapDeps([34,4,5,2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,1])));const OF=w.lazy(()=>Dt(()=>import("./Home-kFSWFdUh.js"),__vite__mapDeps([0,1,2]))),PF=w.lazy(()=>Dt(()=>import("./Routine-DGqWxXmR.js"),__vite__mapDeps([3,4,5,2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),VF=w.lazy(()=>Dt(()=>import("./History-Rm6a4WQb.js"),__vite__mapDeps([35,12,19,33,16]))),LF=w.lazy(()=>Dt(()=>import("./Settings-Df1Jm8pU.js").then(t=>t.S),__vite__mapDeps([36,12,13,31,14,28,8,24,37]))),UF=w.lazy(()=>Dt(()=>import("./ForgotPassword-Bbxd0aJA.js"),__vite__mapDeps([38,31,12,32,25,16]))),jF=w.lazy(()=>Dt(()=>import("./Analytics-3EsEZO6Z.js"),__vite__mapDeps([39,12,19,20,40,13]))),zF=w.lazy(()=>Dt(()=>import("./DietPlan-FYwpj3hl.js"),__vite__mapDeps([41,12,16,9]))),BF=w.lazy(()=>Dt(()=>import("./TaskDashboard-D0OgZpJz.js"),__vite__mapDeps([21,5,2,6,7,8,9,10,11,15,22]))),FF=w.lazy(()=>Dt(()=>import("./WorkspaceCalendar-DGniJmKQ.js"),__vite__mapDeps([42,11,10]))),qF=w.lazy(()=>Dt(()=>import("./WorkspaceBoard-acVehxAk.js"),__vite__mapDeps([43,15]))),HF=w.lazy(()=>Dt(()=>import("./FilteredTaskView-CvGWZQjB.js"),__vite__mapDeps([44,5,2,6,7,8,9,10,11,18]))),GF=w.lazy(()=>Dt(()=>import("./Overview-WU6ZTwNZ.js"),__vite__mapDeps([45,19,40,13,22]))),$F=w.lazy(()=>Dt(()=>import("./FinanceDashboard-jTMsTffl.js"),__vite__mapDeps([23,24,25,7,17,26,19,15,10]))),YF=w.lazy(()=>Dt(()=>import("./DebtManager-BGkjs3es.js"),__vite__mapDeps([46,15,37]))),KF=w.lazy(()=>Dt(()=>import("./AccountDetail--pqVl0eh.js"),__vite__mapDeps([47,29,19]))),WF=w.lazy(()=>Dt(()=>import("./MonthlyOverview-DM0LBu0l.js"),__vite__mapDeps([48,20,10]))),QF=w.lazy(()=>Dt(()=>import("./VehicleDashboard-CdUaYKvK.js"),__vite__mapDeps([27,6,28,16,29,8,15,24,26])));function XF(){return M.jsx(MM,{basename:"/AWAKE/",children:M.jsx(p5,{children:M.jsx(g5,{children:M.jsx(y5,{children:M.jsx(_5,{children:M.jsx(x6,{children:M.jsx(J6,{children:M.jsxs(tU,{children:[M.jsx(kF,{}),M.jsx(MF,{}),M.jsx(w.Suspense,{fallback:M.jsx(vx,{}),children:M.jsxs(oM,{children:[M.jsx(Lt,{path:"/login",element:M.jsx(NF,{})}),M.jsx(Lt,{path:"/forgot-password",element:M.jsx(UF,{})}),M.jsxs(Lt,{element:M.jsx(U1,{children:M.jsx(IF,{})}),children:[M.jsx(Lt,{path:"/",element:M.jsx(OF,{})}),M.jsx(Lt,{path:"/routine",element:M.jsx(PF,{})}),M.jsx(Lt,{path:"/history",element:M.jsx(VF,{})}),M.jsx(Lt,{path:"/settings",element:M.jsx(LF,{})}),M.jsx(Lt,{path:"/analytics",element:M.jsx(jF,{})}),M.jsx(Lt,{path:"/diet",element:M.jsx(zF,{})}),M.jsx(Lt,{path:"/finance",element:M.jsx($F,{})}),M.jsx(Lt,{path:"/finance/debt",element:M.jsx(YF,{})}),M.jsx(Lt,{path:"/finance/account/:id",element:M.jsx(KF,{})}),M.jsx(Lt,{path:"/finance/monthly",element:M.jsx(WF,{})}),M.jsx(Lt,{path:"/vehicle",element:M.jsx(QF,{})})]}),M.jsxs(Lt,{path:"/workspace",element:M.jsx(U1,{children:M.jsx(DF,{})}),children:[M.jsx(Lt,{index:!0,element:M.jsx(BF,{})}),M.jsx(Lt,{path:"calendar",element:M.jsx(FF,{})}),M.jsx(Lt,{path:"board",element:M.jsx(qF,{})}),M.jsx(Lt,{path:"overview",element:M.jsx(GF,{})}),M.jsx(Lt,{path:"filter/:filterType",element:M.jsx(HF,{})})]}),M.jsx(Lt,{path:"*",element:M.jsx(TA,{to:"/",replace:!0})})]})})]})})})})})})})})}class JF extends Tv.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Render Crash Caught:",e,n),this.setState({errorInfo:n})}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?M.jsxs("div",{style:{position:"fixed",inset:0,background:"black",color:"white",zIndex:9999,padding:"2rem",overflow:"auto"},children:[M.jsx("h1",{style:{fontSize:"2rem",marginBottom:"1rem",color:"red",fontFamily:"monospace"},children:"Runtime Error"}),M.jsx("button",{onClick:this.handleReload,style:{background:"white",color:"black",padding:"0.5rem 1rem",marginBottom:"1rem",cursor:"pointer",border:"none",fontWeight:"bold"},children:"RELOAD APP"}),M.jsx("hr",{style:{margin:"1rem 0",borderColor:"#333"}}),M.jsx("pre",{style:{whiteSpace:"pre-wrap",fontFamily:"monospace",color:"#ffaaaa",fontSize:"14px",background:"#220000",padding:"1rem"},children:this.state.error&&this.state.error.toString()}),M.jsxs("div",{style:{marginTop:"1rem"},children:[M.jsx("h3",{style:{color:"#888",marginBottom:"0.5rem"},children:"Stack Trace:"}),M.jsx("pre",{style:{whiteSpace:"pre-wrap",fontFamily:"monospace",color:"#888",fontSize:"12px"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]})]}):this.props.children}}ak.createRoot(document.getElementById("root")).render(M.jsx(Tv.StrictMode,{children:M.jsx(JF,{children:M.jsx(Z6,{children:M.jsx(XF,{})})})}));export{l7 as $,Im as A,Qd as B,o8 as C,s8 as D,qB as E,vx as F,Gs as G,n8 as H,c8 as I,RF as J,gv as K,fd as L,Kd as M,TA as N,JB as O,U8 as P,nx as Q,Tv as R,C8 as S,T8 as T,D8 as U,y8 as V,O8 as W,c_ as X,Nl as Y,n7 as Z,Dt as _,Vd as a,i7 as a0,GB as a1,M8 as a2,C6 as a3,Ci as a4,Wg as a5,Xg as a6,Ud as a7,pc as a8,D1 as a9,I1 as aa,Cl as ab,x5 as ac,to as ad,ox as ae,$i as af,_v as ag,bv as ah,e7 as ai,nk as aj,L8 as ak,Jg as al,t7 as am,Gt as an,m7 as ao,d7 as ap,QB as aq,g7 as ar,rD as as,eU as at,E5 as au,ZF as av,h7 as aw,uC as b,r7 as c,a7 as d,fa as e,k0 as f,aA as g,YB as h,u7 as i,M as j,f7 as k,Am as l,Bi as m,fo as n,p7 as o,yv as p,Re as q,w as r,s7 as s,ho as t,o7 as u,Al as v,bt as w,X6 as x,p8 as y,e8 as z};
