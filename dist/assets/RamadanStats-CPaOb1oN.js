import{aG as S,j as e,B as D,a6 as T,ar as u,v as m}from"./index-Dni63RkL.js";import{S as q}from"./sun-dtd1KfjJ.js";import{B as z}from"./book-open--PJZsoqD.js";const n=({title:h,icon:i,value:d,target:r,percent:c,colorClass:t="bg-emerald-500",textClass:s="text-emerald-500"})=>{const o=c>100?100:c;return e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:m("p-2 rounded-xl bg-opacity-10",s,t.replace("bg-","bg-").replace("500","500/10")),children:e.jsx(i,{className:m("w-5 h-5",s)})}),e.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-300",children:h})]}),e.jsxs("div",{className:"flex items-end justify-between mb-2",children:[e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-3xl font-black text-slate-900 dark:text-white tabular-nums",children:d}),r&&e.jsxs("span",{className:"text-sm text-slate-400 font-medium",children:["/ ",r]})]}),e.jsxs("span",{className:m("text-sm font-bold",s),children:[Math.round(c),"%"]})]}),e.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:m("h-full rounded-full transition-all duration-1000",t),style:{width:`${o}%`}})})]})},F=()=>{const{loading:h,error:i,ramadanData:d,hijriDate:r}=S();if(h)return e.jsx("div",{className:"p-4 text-center mt-16 text-slate-500 animate-pulse",children:"Loading Stats..."});if(i)return e.jsx("div",{className:"p-4 text-center text-red-500",children:i});if(!r?.isRamadan)return e.jsxs("div",{className:"p-6 text-center mt-16 text-slate-500",children:[e.jsx(D,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Stats unavailable."}),e.jsx("p",{className:"text-sm",children:"It is currently not Ramadan."})]});const t=r.day||1,s=Object.values(d?.days||{}),o=s.filter(a=>a.fasted).length,f=t>0?o/t*100:0,j=s.filter(a=>a.taraweeh).length,v=t>0?j/t*100:0,g=s.filter(a=>a.tahajjud).length,w=t>0?g/t*100:0,b=s.filter(a=>a.witr).length,N=t>0?b/t*100:0,x=d?.quranGoal||{type:"pages",value:604},p=s.reduce((a,l)=>a+(x.type==="juz"?l.quranJuz||0:l.quranPages||0),0),y=x.value>0?p/x.value*100:0,k=s.reduce((a,l)=>a+(l.tahlil||0),0),C=s.reduce((a,l)=>a+(l.salawat||0),0),P=s.reduce((a,l)=>a+(l.istighfar||0),0),R=k+C+P;return e.jsxs("div",{className:"space-y-6 pb-24",children:[e.jsx("header",{className:"mb-6 px-2",children:e.jsx("div",{className:"flex justify-between items-end",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Ramadan Stats"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Your overall progress this month."})]})})}),e.jsxs("div",{className:"bg-indigo-600 dark:bg-indigo-900/50 rounded p-6 shadow-md text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/10 rounded-full blur-3xl -mr-10 -mt-10"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-indigo-100 uppercase tracking-wider text-xs font-bold mb-1",children:"Total Dhikr"}),e.jsx("p",{className:"text-5xl font-black tabular-nums tracking-tight",children:R})]}),e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded flex items-center justify-center backdrop-blur-sm border border-white/20",children:e.jsx(T,{className:"w-8 h-8 text-white fill-white/20"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{title:"Fasting Days",icon:q,value:o,target:t,percent:f,colorClass:"bg-emerald-500",textClass:"text-emerald-500"}),e.jsx(n,{title:"Taraweeh Completed",icon:u,value:j,target:t,percent:v,colorClass:"bg-emerald-500",textClass:"text-emerald-500"}),e.jsx(n,{title:"Tahajjud Prays",icon:u,value:g,target:t,percent:w,colorClass:"bg-indigo-500",textClass:"text-indigo-500"}),e.jsx(n,{title:"Witr Prays",icon:u,value:b,target:t,percent:N,colorClass:"bg-indigo-500",textClass:"text-indigo-500"}),e.jsx(n,{title:"Quran Goal",icon:z,value:p,target:x.value,percent:y,colorClass:"bg-blue-500",textClass:"text-blue-500"})]})]})};export{F as default};
