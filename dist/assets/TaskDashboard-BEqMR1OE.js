import{c as P,j as e,r as l,A as E,m as R,X as W,K as N,ab as S,q,g as U,ac as F,E as j,ad as O,k as X,ae as J,af as Z,ag as H,ah as T,D as ee,v as V,ai as te}from"./index-Dni63RkL.js";import{T as se,D as ae}from"./TaskItem-BmhovZJU.js";import{a as A}from"./clock-BJ1gEYRg.js";import{A as re}from"./arrow-left-BW-eLmrt.js";import{P as le}from"./plus-C4dEmhiS.js";import{E as ie}from"./ellipsis-DXQVz505.js";import{P as oe}from"./pen-Ci2c5G87.js";import{s as ne}from"./subDays-DU4PtMcd.js";import"./sun-dtd1KfjJ.js";import"./book-open--PJZsoqD.js";import"./bike-CjfyugEC.js";import"./trash-2-MMtH6vPd.js";import"./chevron-down-C8rsnSas.js";import"./chevron-up-DVJoFCMo.js";import"./subMonths-ypCLOBVC.js";import"./isSameMonth-EKRYgKGW.js";const de=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],ce=P("arrow-up-down",de);const xe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],B=P("panels-top-left",xe);const he=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],me=P("sliders-horizontal",he),$=({tasks:n,onToggle:p,onDelete:a,onUpdate:b,isLocked:g,isVariant:u="default",onReschedule:k})=>n.length===0?null:e.jsx("div",{className:"space-y-3",children:n.map(i=>e.jsx(se,{task:i,onUpdateStatus:p,isLocked:g,variant:u,onReschedule:k,onDelete:a},i.id))}),pe=({isOpen:n,onClose:p,onAdd:a,initialDate:b})=>{const[g,u]=l.useState(""),[k,i]=l.useState("Work"),[o,d]=l.useState("Medium"),[c,s]=l.useState("09:00"),[x,f]=l.useState(b),[w,h]=l.useState(!1);l.useEffect(()=>{n&&(u(""),i("Work"),d("Medium"),s("09:00"),f(b||new Date().toISOString().split("T")[0]))},[n,b]);const[v,y]=l.useState(!1),C=async r=>{if(r.preventDefault(),!(!g.trim()||v)){y(!0);try{await a(g,{category:k,priority:o,time:c,date:x})}catch(D){console.error("Error in modal submission:",D)}finally{y(!1)}}};return e.jsx(E,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:p,className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-50 transition-opacity"}),e.jsx(R.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded shadow-md ring-1 ring-slate-900/5 pointer-events-auto overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-800",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"New Task"}),e.jsx("button",{onClick:p,className:"p-2 text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-full transition-colors",children:e.jsx(W,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:C,className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"What needs to be done?"}),e.jsx("input",{autoFocus:!0,type:"text",placeholder:"e.g., Review Q3 Operations",value:g,onChange:r=>u(r.target.value),className:"w-full text-base bg-slate-50 dark:bg-slate-800 border-none rounded px-4 py-3 focus:ring-2 focus:ring-indigo-500/20 text-slate-900 dark:text-white placeholder-slate-400"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Category"}),e.jsxs("select",{value:k,onChange:r=>i(r.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded px-3 py-2 text-sm text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-indigo-500/20",children:[e.jsx("option",{value:"Work",children:"Work"}),e.jsx("option",{value:"Health",children:"Health"}),e.jsx("option",{value:"Personal",children:"Personal"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Priority"}),e.jsxs("select",{value:o,onChange:r=>d(r.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded px-3 py-2 text-sm text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-indigo-500/20",children:[e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Start Time"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"time",value:c,onChange:r=>s(r.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded pl-8 pr-3 py-2 text-sm text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-indigo-500/20"})]})]}),e.jsxs("div",{className:"space-y-2 relative",children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Date"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:()=>h(!w),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded pl-8 pr-3 py-2 text-sm text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-indigo-500/20 text-left flex items-center",children:[e.jsx(N,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("span",{children:x?S(new Date(x),"MMM do, yyyy"):"Select date"})]}),e.jsx(E,{children:w&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[60] bg-slate-900/20 backdrop-blur-sm sm:bg-transparent sm:backdrop-blur-none",onClick:()=>h(!1)}),e.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center pointer-events-none sm:absolute sm:inset-auto sm:top-full sm:left-0 sm:mt-2 sm:w-full",children:e.jsx("div",{className:"pointer-events-auto",children:e.jsx(ae,{selectedDate:x?new Date(x):new Date,onChange:r=>{f(r.toISOString().split("T")[0]),h(!1)},minDate:new Date().toISOString().split("T")[0],onClose:()=>h(!1)})})})]})})]})]})]}),e.jsxs("div",{className:"pt-4 mt-6 border-t border-slate-100 dark:border-slate-800 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:p,disabled:v,className:"px-4 py-2 rounded text-sm font-medium text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!g.trim()||v,className:"px-6 py-2 rounded text-sm font-bold text-white bg-indigo-600 hover:bg-indigo-700 shadow-md shadow-indigo-500/20 disabled:opacity-50 disabled:shadow-none transition-all hover:scale-[1.02] active:scale-[0.98] flex items-center gap-2",children:v?"Creating...":"Create Task"})]})]})]})})]})})},be=({isOpen:n,onClose:p})=>{const{settings:a,updateSettings:b,clearAllTasks:g}=q(),[u,k]=l.useState("main"),i=U();if(!n)return null;const o=()=>{k("main"),p()},d=s=>{b({[s]:!a[s]})},c=(s,x)=>{b({[s]:x})};return e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center sm:p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:o}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-t sm:rounded-3xl shadow-md relative z-10 overflow-hidden animate-in slide-in-from-bottom-full sm:slide-in-from-bottom-8 sm:zoom-in-95 duration-300 max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"p-6 pb-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-white/80 dark:bg-slate-900/80 backdrop-blur-md sticky top-0 z-20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[u==="settings"?e.jsx("button",{onClick:()=>k("main"),className:"p-1 -ml-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors mr-1 cursor-pointer",children:e.jsx(re,{className:"w-5 h-5 text-slate-500"})}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:e.jsx(me,{className:"w-4 h-4 text-slate-600 dark:text-slate-300"})}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:u==="settings"?"Task Settings":"More Options"})]}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:e.jsx(W,{className:"w-5 h-5 text-slate-500"})})]}),e.jsx("div",{className:"p-0 overflow-y-auto space-y-6 flex-1 py-4",children:u==="main"?e.jsxs("div",{className:"px-4 space-y-2",children:[e.jsxs("button",{onClick:()=>{i("/workspace/filter/all"),o()},className:"w-full p-4 bg-slate-50 dark:bg-slate-800/50 rounded flex items-center justify-between border border-slate-100 dark:border-slate-800 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(F,{className:"w-5 h-5 text-indigo-500"}),e.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:"Active Tasks"})]}),e.jsx(j,{className:"w-5 h-5 text-slate-300"})]}),e.jsxs("button",{onClick:()=>{i("/workspace/calendar"),o()},className:"w-full p-4 bg-slate-50 dark:bg-slate-800/50 rounded flex items-center justify-between border border-slate-100 dark:border-slate-800 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(N,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:"Calendar View"})]}),e.jsx(j,{className:"w-5 h-5 text-slate-300"})]}),e.jsxs("button",{onClick:()=>{i("/workspace/overview"),o()},className:"w-full p-4 bg-slate-50 dark:bg-slate-800/50 rounded flex items-center justify-between border border-slate-100 dark:border-slate-800 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(B,{className:"w-5 h-5 text-purple-500"}),e.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:"Weekly Overview"})]}),e.jsx(j,{className:"w-5 h-5 text-slate-300"})]}),e.jsxs("button",{onClick:()=>{i("/workspace/recent"),o()},className:"w-full p-4 bg-slate-50 dark:bg-slate-800/50 rounded flex items-center justify-between border border-slate-100 dark:border-slate-800 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"w-5 h-5 text-emerald-500"}),e.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:"Recent Tasks"})]}),e.jsx(j,{className:"w-5 h-5 text-slate-300"})]}),e.jsx("div",{className:"h-4"}),e.jsxs("button",{onClick:()=>k("settings"),className:"w-full p-4 bg-slate-50 dark:bg-slate-800/50 rounded flex items-center justify-between border border-slate-100 dark:border-slate-800 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:"Task Settings"})]}),e.jsx(j,{className:"w-5 h-5 text-slate-300"})]})]}):e.jsxs("div",{className:"px-6 space-y-8",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(O,{className:"w-3 h-3"}),"Behavior Settings"]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded p-2 space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:"Auto-delete Completed"}),e.jsx("p",{className:"text-xs text-slate-400 font-medium mt-px",children:"Remove finished tasks after 24h"})]}),e.jsx("button",{onClick:()=>d("autoDeleteCompleted"),className:`w-12 h-6 rounded-full transition-colors relative shadow-md ${a.autoDeleteCompleted?"bg-indigo-500":"bg-slate-200 dark:bg-slate-700"}`,children:e.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform shadow-sm ${a.autoDeleteCompleted?"translate-x-6":"translate-x-0"}`})})]}),e.jsx("hr",{className:"border-slate-200 dark:border-slate-800 mx-3"}),e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:"Confirm Deletion"}),e.jsx("p",{className:"text-xs text-slate-400 font-medium mt-px",children:"Ask before deleting a task item"})]}),e.jsx("button",{onClick:()=>d("confirmDelete"),className:`w-12 h-6 rounded-full transition-colors relative shadow-md ${a.confirmDelete?"bg-indigo-500":"bg-slate-200 dark:bg-slate-700"}`,children:e.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform shadow-sm ${a.confirmDelete?"translate-x-6":"translate-x-0"}`})})]}),e.jsx("hr",{className:"border-slate-200 dark:border-slate-800 mx-3"}),e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:"Show Completed List"}),e.jsx("p",{className:"text-xs text-slate-400 font-medium mt-px",children:"Keep finished tasks visible"})]}),e.jsx("button",{onClick:()=>d("showCompletedInList"),className:`w-12 h-6 rounded-full transition-colors relative shadow-md ${a.showCompletedInList?"bg-indigo-500":"bg-slate-200 dark:bg-slate-700"}`,children:e.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform shadow-sm ${a.showCompletedInList?"translate-x-6":"translate-x-0"}`})})]})]})]}),e.jsxs("section",{className:"space-y-4 pb-4",children:[e.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Default Values"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-3 rounded border border-slate-100 dark:border-slate-800",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase tracking-wide",children:"Task Priority"}),e.jsxs("select",{value:a.defaultPriority,onChange:s=>c("defaultPriority",s.target.value),className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded p-2 text-sm font-bold text-slate-700 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{children:"Low"}),e.jsx("option",{children:"Medium"}),e.jsx("option",{children:"High"})]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-3 rounded border border-slate-100 dark:border-slate-800",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase tracking-wide",children:"Duration (min)"}),e.jsx("input",{type:"number",value:a.defaultDuration,onChange:s=>c("defaultDuration",Number(s.target.value)),className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded p-2 text-sm font-bold text-slate-700 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500"})]})]})]})]})}),e.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800 pb-[calc(env(safe-area-inset-bottom)+1rem)]",children:e.jsx(X,{onClick:p,className:"w-full bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded py-4 font-bold active:scale-[0.98] transition-all",children:"Done"})})]})]})},Le=()=>{const{tasks:n,addTask:p,toggleTask:a,deleteTask:b,updateTask:g,isDayLocked:u,currentDateStr:k,rescheduleTask:i}=q(),o=J(),d=U(),[c,s]=l.useState(!1),x=l.useRef(null);l.useEffect(()=>{const t=m=>{x.current&&!x.current.contains(m.target)&&s(!1)};return c&&document.addEventListener("click",t,!0),()=>document.removeEventListener("click",t,!0)},[c]);const[f,w]=l.useState(()=>o.state?.initialDate?new Date(o.state.initialDate):new Date),h=S(f,"yyyy-MM-dd"),v=Z(f,new Date),y=H(T(f),T(new Date)),C=u(h),r=n.filter(t=>t.date===h);r.length,r.filter(t=>t.status==="completed"||t.isCompleted).length;const D=n.filter(t=>t.status!=="completed"&&!t.isCompleted&&t.date&&H(T(new Date(t.date)),T(f))),[Y,M]=l.useState(!1),[K,L]=l.useState(!1),G=async(t,m)=>{try{await p(t,{...m,date:m.date||h}),M(!1)}catch(_){console.error("Failed to add task from dashboard:",_),alert(`Failed to add task: ${_.message}`)}},z=t=>{t==="prev"&&w(m=>ne(m,1)),t==="next"&&w(m=>te(m,1))},I=(t,m="today")=>{i(t,m==="today"?h:m)},Q=!C&&!y,[ge,ue]=l.useState(!1);return e.jsxs("div",{className:"space-y-6 pb-24 h-full relative",children:[e.jsxs("div",{className:"rounded-2xl overflow-visible bg-white dark:bg-gradient-to-br dark:from-[#141b27] dark:to-[#111827] border border-slate-200 dark:border-white/[0.07] shadow-sm dark:shadow-[0_8px_32px_rgba(0,0,0,0.4)] relative mt-2 shrink-0 transition-colors",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px rounded-t-2xl bg-gradient-to-r from-transparent via-sky-400/25 to-transparent hidden dark:block"}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-3",children:[e.jsx("button",{onClick:()=>z("prev"),className:"w-[44px] h-[44px] rounded-[12px] border border-slate-200 dark:border-white/[0.07] bg-slate-50 dark:bg-white/[0.04] text-slate-500 dark:text-white/40 flex items-center justify-center shrink-0 hover:bg-slate-100 dark:hover:bg-white/[0.09] hover:text-slate-700 dark:hover:text-white/80 active:scale-90 transition-all",children:e.jsx(ee,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 flex items-center justify-center gap-2 min-w-0 cursor-pointer relative group/picker",children:[e.jsx("input",{type:"date",value:h,onChange:t=>w(new Date(t.target.value)),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"}),e.jsx(N,{className:"w-5 h-5 text-indigo-500 dark:text-sky-400 shrink-0"}),e.jsx("span",{className:"text-base font-bold text-slate-800 dark:text-white/90 tracking-wide whitespace-nowrap",children:S(f,"MMM do")}),e.jsx("div",{className:"w-px h-5 bg-slate-200 dark:bg-white/[0.12] shrink-0"}),v?e.jsxs("div",{className:"flex items-center gap-1.5 z-10 pointer-events-none",children:[e.jsx("div",{className:"w-2 h-2 bg-indigo-500 dark:bg-sky-400 rounded-full shadow-[0_0_8px_2px_rgba(99,102,241,0.2)] dark:shadow-[0_0_8px_2px_rgba(56,189,248,0.2)] animate-pulse"}),e.jsx("span",{className:"font-mono text-xs font-bold tracking-[0.07em] text-indigo-600 dark:text-sky-400 whitespace-nowrap",children:"TODAY"})]}):e.jsxs("button",{onClick:t=>{t.stopPropagation(),w(new Date)},className:"flex items-center gap-2 px-2.5 py-1 rounded-md bg-indigo-50 dark:bg-indigo-400/[0.08] border border-indigo-100 dark:border-indigo-400/20 hover:bg-indigo-100 dark:hover:bg-indigo-400/[0.15] transition-all z-30",children:[e.jsx("div",{className:"w-2 h-2 bg-indigo-500 dark:bg-indigo-400 rounded-full"}),e.jsx("span",{className:"font-mono text-xs font-bold tracking-[0.07em] text-indigo-600 dark:text-indigo-400 whitespace-nowrap",children:"TODAY ↩"})]})]}),e.jsx("button",{onClick:()=>z("next"),className:"w-[44px] h-[44px] rounded-[12px] border border-slate-200 dark:border-white/[0.07] bg-slate-50 dark:bg-white/[0.04] text-slate-500 dark:text-white/40 flex items-center justify-center shrink-0 hover:bg-slate-100 dark:hover:bg-white/[0.09] hover:text-slate-700 dark:hover:text-white/80 active:scale-90 transition-all",children:e.jsx(j,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-px h-[36px] bg-slate-200 dark:bg-white/[0.07] shrink-0 hidden md:block"}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[Q?e.jsxs("button",{onClick:()=>M(!0),className:"flex flex-col items-center justify-center h-[44px] w-[60px] rounded-[12px] border border-dashed border-indigo-200 dark:border-sky-400/25 bg-indigo-50/50 dark:bg-sky-400/[0.05] text-indigo-600 dark:text-sky-400/80 hover:bg-indigo-50 dark:hover:bg-sky-400/[0.12] hover:border-indigo-300 dark:hover:border-sky-400/50 hover:text-indigo-700 dark:focus:border-solid hover:border-solid active:scale-95 transition-all",children:[e.jsx(le,{className:"w-4 h-4 mb-0.5"}),e.jsx("span",{className:"font-mono text-[9px] font-bold tracking-[0.05em] uppercase",children:"Task"})]}):e.jsx("div",{className:"w-[60px]"}),e.jsxs("div",{className:"relative shrink-0",ref:x,children:[e.jsxs("button",{onClick:t=>{t.stopPropagation(),s(!c)},className:V("flex flex-col items-center justify-center h-[44px] w-[60px] rounded-[12px] border border-slate-200 dark:border-white/[0.07] bg-slate-50 dark:bg-white/[0.04] text-slate-500 dark:text-white/60 hover:bg-slate-100 dark:hover:bg-white/[0.09] hover:text-slate-700 dark:hover:text-white/90 transition-all",c&&"bg-slate-200 dark:bg-white/[0.09] text-slate-800 dark:text-white/90 border-slate-300 dark:border-white/[0.15]"),children:[e.jsx(ie,{className:"w-4 h-4 mb-0.5"}),e.jsx("span",{className:"font-mono text-[9px] font-bold tracking-[0.05em] uppercase",children:"More"})]}),e.jsxs("div",{className:V("absolute top-[calc(100%+8px)] right-0 bg-white dark:bg-[#16202f] border border-slate-200 dark:border-white/[0.09] rounded-[14px] p-1.5 flex flex-col gap-0.5 min-w-[180px] shadow-xl dark:shadow-[0_20px_48px_rgba(0,0,0,0.55),0_0_0_1px_rgba(255,255,255,0.03)] z-[200] origin-top-right transition-all duration-200",c?"opacity-100 scale-100 translate-y-0 pointer-events-auto":"opacity-0 scale-[0.96] -translate-y-1.5 pointer-events-none"),children:[e.jsx("div",{className:"font-mono text-[9px] text-slate-400 dark:text-white/20 tracking-[0.1em] uppercase px-2.5 pt-1.5 pb-1",children:"Tasks"}),e.jsxs("button",{onClick:()=>{s(!1)},className:"flex items-center gap-2.5 px-2.5 py-2 rounded-[9px] hover:bg-slate-50 dark:hover:bg-white/[0.06] text-slate-600 dark:text-white/60 hover:text-indigo-600 dark:hover:text-white transition-colors text-left w-full text-[12px] font-semibold",children:[e.jsx("div",{className:"w-[22px] h-[22px] rounded-[7px] flex items-center justify-center shrink-0 bg-amber-400/10",children:e.jsx(oe,{className:"w-3 h-3 text-amber-500 dark:text-amber-400"})}),"Edit Tasks"]}),e.jsxs("button",{onClick:()=>{s(!1)},className:"flex items-center gap-2.5 px-2.5 py-2 rounded-[9px] hover:bg-slate-50 dark:hover:bg-white/[0.06] text-slate-600 dark:text-white/60 hover:text-indigo-600 dark:hover:text-white transition-colors text-left w-full text-[12px] font-semibold",children:[e.jsx("div",{className:"w-[22px] h-[22px] rounded-[7px] flex items-center justify-center shrink-0 bg-indigo-500/10 dark:bg-indigo-400/10",children:e.jsx(ce,{className:"w-3 h-3 text-indigo-500 dark:text-indigo-400"})}),"Sort"]}),e.jsx("div",{className:"h-px bg-slate-100 dark:bg-white/[0.06] mx-1.5 my-1"}),e.jsx("div",{className:"font-mono text-[9px] text-slate-400 dark:text-white/20 tracking-[0.1em] uppercase px-2.5 pt-1.5 pb-1",children:"View"}),e.jsxs("button",{onClick:()=>{d("/workspace/filter/all"),s(!1)},className:"flex items-center gap-2.5 px-2.5 py-2 rounded-[9px] hover:bg-slate-50 dark:hover:bg-white/[0.06] text-slate-600 dark:text-white/60 hover:text-indigo-600 dark:hover:text-white transition-colors text-left w-full text-[12px] font-semibold",children:[e.jsx("div",{className:"w-[22px] h-[22px] rounded-[7px] flex items-center justify-center shrink-0 bg-sky-500/10 dark:bg-sky-400/10",children:e.jsx(F,{className:"w-3 h-3 text-sky-500 dark:text-sky-400"})}),"Active Tasks"]}),e.jsxs("button",{onClick:()=>{d("/workspace/calendar"),s(!1)},className:"flex items-center gap-2.5 px-2.5 py-2 rounded-[9px] hover:bg-slate-50 dark:hover:bg-white/[0.06] text-slate-600 dark:text-white/60 hover:text-indigo-600 dark:hover:text-white transition-colors text-left w-full text-[12px] font-semibold",children:[e.jsx("div",{className:"w-[22px] h-[22px] rounded-[7px] flex items-center justify-center shrink-0 bg-blue-500/10 dark:bg-blue-400/10",children:e.jsx(N,{className:"w-3 h-3 text-blue-500 dark:text-blue-400"})}),"Calendar View"]}),e.jsxs("button",{onClick:()=>{d("/workspace/overview"),s(!1)},className:"flex items-center gap-2.5 px-2.5 py-2 rounded-[9px] hover:bg-slate-50 dark:hover:bg-white/[0.06] text-slate-600 dark:text-white/60 hover:text-indigo-600 dark:hover:text-white transition-colors text-left w-full text-[12px] font-semibold",children:[e.jsx("div",{className:"w-[22px] h-[22px] rounded-[7px] flex items-center justify-center shrink-0 bg-purple-500/10 dark:bg-purple-400/10",children:e.jsx(B,{className:"w-3 h-3 text-purple-500 dark:text-purple-400"})}),"Weekly Overview"]}),e.jsxs("button",{onClick:()=>{d("/workspace/recent"),s(!1)},className:"flex items-center gap-2.5 px-2.5 py-2 rounded-[9px] hover:bg-slate-50 dark:hover:bg-white/[0.06] text-slate-600 dark:text-white/60 hover:text-indigo-600 dark:hover:text-white transition-colors text-left w-full text-[12px] font-semibold",children:[e.jsx("div",{className:"w-[22px] h-[22px] rounded-[7px] flex items-center justify-center shrink-0 bg-emerald-500/10 dark:bg-emerald-400/10",children:e.jsx(A,{className:"w-3 h-3 text-emerald-500 dark:text-emerald-400"})}),"Recent Tasks"]}),e.jsx("div",{className:"h-px bg-slate-100 dark:bg-white/[0.06] mx-1.5 my-1"}),e.jsx("div",{className:"font-mono text-[9px] text-slate-400 dark:text-white/20 tracking-[0.1em] uppercase px-2.5 pt-1.5 pb-1",children:"Options"}),e.jsxs("button",{onClick:()=>{L(!0),s(!1)},className:"flex items-center gap-2.5 px-2.5 py-2 rounded-[9px] hover:bg-slate-50 dark:hover:bg-white/[0.06] text-slate-600 dark:text-white/60 hover:text-indigo-600 dark:hover:text-white transition-colors text-left w-full text-[12px] font-semibold",children:[e.jsx("div",{className:"w-[22px] h-[22px] rounded-[7px] flex items-center justify-center shrink-0 bg-slate-500/10 dark:bg-slate-400/10",children:e.jsx(O,{className:"w-3 h-3 text-slate-500 dark:text-slate-400"})}),"Task Settings"]})]})]})]})]}),!v&&e.jsxs("div",{className:"flex items-center justify-between px-5 py-2.5 bg-slate-50 dark:bg-indigo-950/40 border-t border-slate-100 dark:border-white/[0.05] text-[11px] rounded-b-2xl",children:[e.jsxs("span",{className:"font-mono font-bold text-slate-500 dark:text-indigo-300/80 tracking-[0.06em]",children:["VIEWING ",S(f,"MMMM do, yyyy").toUpperCase()]}),e.jsx("button",{onClick:()=>w(new Date),className:"font-mono font-bold text-indigo-500 dark:text-white/40 hover:text-indigo-700 dark:hover:text-indigo-300 transition-colors tracking-wide uppercase",children:"tap TODAY to return →"})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("section",{children:r.length>0?e.jsx($,{tasks:r,onToggle:a,onDelete:b,onUpdate:g,isLocked:C,onReschedule:I}):e.jsxs("div",{className:"text-center py-12 border border-dashed border-slate-200 dark:border-slate-800 rounded",children:[e.jsx(N,{className:"w-8 h-8 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),e.jsxs("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:["No tasks scheduled for ",v?"today":"this day","."]}),e.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"Add tasks only if they support your routine."})]})}),D.length>0&&e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Carried Over Tasks"}),e.jsx("div",{className:"h-px flex-1 bg-slate-100 dark:bg-slate-800"})]}),e.jsx("div",{className:"opacity-80",children:e.jsx($,{tasks:D,onToggle:a,onDelete:b,onUpdate:g,isLocked:!1,onReschedule:I,isVariant:"carry_over"})})]})]}),e.jsx(pe,{isOpen:Y,onClose:()=>M(!1),onAdd:G,initialDate:h}),e.jsx(be,{isOpen:K,onClose:()=>L(!1)})]})};export{Le as default};
