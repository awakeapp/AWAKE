import{an as ae,af as ke,ao as xe,ap as me,w as L,r as p,j as e,X as F,aq as G,x as ue,z as ye,W as K,ar as be,a6 as ve,as as he,at as we,C as Ce,M as re,a3 as $,n as De,k as Me,a1 as le,ak as Se,m as ne}from"./index-C3M_mA5P.js";import{B as J}from"./bike-CKu7DMcL.js";import{S as X}from"./save-CyroCPWj.js";import{C as Te}from"./circle-alert-41Wl3Djz.js";import{T as Ie,A as de,H as W}from"./trending-down-BzEnEp6C.js";import{C as A}from"./circle-check-big-DqZ3agY0.js";import{P as z}from"./plus-WYhdqn48.js";import{T as P}from"./triangle-alert-G4wgmSST.js";import{d as Ae}from"./differenceInDays-DI2uDHUy.js";function ie(d,a){const c=()=>ke(a?.in,NaN),t=qe(d);let o;if(t.date){const l=Ee(t.date,2);o=Pe(l.restDateString,l.year)}if(!o||isNaN(+o))return c();const u=+o;let s=0,m;if(t.time&&(s=$e(t.time),isNaN(s)))return c();if(t.timezone){if(m=Fe(t.timezone),isNaN(m))return c()}else{const l=new Date(u+s),f=ae(0,a?.in);return f.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),f.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),f}return ae(u+s+m,a?.in)}const V={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Le=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Re=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Oe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function qe(d){const a={},c=d.split(V.dateTimeDelimiter);let r;if(c.length>2)return a;if(/:/.test(c[0])?r=c[0]:(a.date=c[0],r=c[1],V.timeZoneDelimiter.test(a.date)&&(a.date=d.split(V.timeZoneDelimiter)[0],r=d.substr(a.date.length,d.length))),r){const t=V.timezone.exec(r);t?(a.time=r.replace(t[1],""),a.timezone=t[1]):a.time=r}return a}function Ee(d,a){const c=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),r=d.match(c);if(!r)return{year:NaN,restDateString:""};const t=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?t:o*100,restDateString:d.slice((r[1]||r[2]).length)}}function Pe(d,a){if(a===null)return new Date(NaN);const c=d.match(Le);if(!c)return new Date(NaN);const r=!!c[4],t=E(c[1]),o=E(c[2])-1,u=E(c[3]),s=E(c[4]),m=E(c[5])-1;if(r)return Be(a,s,m)?Ue(a,s,m):new Date(NaN);{const l=new Date(0);return!ze(a,o,u)||!_e(a,t)?new Date(NaN):(l.setUTCFullYear(a,o,Math.max(t,u)),l)}}function E(d){return d?parseInt(d):1}function $e(d){const a=d.match(Re);if(!a)return NaN;const c=Z(a[1]),r=Z(a[2]),t=Z(a[3]);return He(c,r,t)?c*xe+r*me+t*1e3:NaN}function Z(d){return d&&parseFloat(d.replace(",","."))||0}function Fe(d){if(d==="Z")return 0;const a=d.match(Oe);if(!a)return 0;const c=a[1]==="+"?-1:1,r=parseInt(a[2]),t=a[3]&&parseInt(a[3])||0;return Ye(r,t)?c*(r*xe+t*me):NaN}function Ue(d,a,c){const r=new Date(0);r.setUTCFullYear(d,0,4);const t=r.getUTCDay()||7,o=(a-1)*7+c+1-t;return r.setUTCDate(r.getUTCDate()+o),r}const Ve=[31,null,31,30,31,30,31,31,30,31,30,31];function pe(d){return d%400===0||d%4===0&&d%100!==0}function ze(d,a,c){return a>=0&&a<=11&&c>=1&&c<=(Ve[a]||(pe(d)?29:28))}function _e(d,a){return a>=1&&a<=(pe(d)?366:365)}function Be(d,a,c){return a>=1&&a<=53&&c>=0&&c<=6}function He(d,a,c){return d===24?a===0&&c===0:c>=0&&c<60&&a>=0&&a<60&&d>=0&&d<25}function Ye(d,a){return a>=0&&a<=59}const We=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Ze=L("banknote",We);const Ge=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Ke=L("calculator",Ge);const Je=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],Xe=L("circle-minus",Je);const Qe=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],oe=L("gauge",Qe);const et=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],_=L("landmark",et);const tt=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ge=L("truck",tt),st=[{id:"car",label:"Car",icon:G},{id:"bike",label:"Bike",icon:J},{id:"scooter",label:"Scooter",icon:J},{id:"commercial",label:"Commercial",icon:ge}],at=["Petrol","Diesel","Electric","Hybrid","CNG"],ce=({isOpen:d,onClose:a,onSave:c,editVehicle:r=null})=>{const[t,o]=p.useState({name:"",type:"car",brandModel:"",regNumber:"",purchaseDate:new Date().toISOString().split("T")[0],fuelType:"Petrol",odometer:""});p.useEffect(()=>{o(r?{name:r.name,type:r.type,brandModel:r.brandModel,regNumber:r.regNumber||"",purchaseDate:r.purchaseDate,fuelType:r.fuelType,odometer:r.odometer}:{name:"",type:"car",brandModel:"",regNumber:"",purchaseDate:new Date().toISOString().split("T")[0],fuelType:"Petrol",odometer:""})},[r,d]);const u=s=>{s.preventDefault(),c(t),a()};return d?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-md shadow-2xl border border-slate-100 dark:border-slate-800 overflow-hidden animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:r?"Edit Vehicle":"Add New Vehicle"}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:e.jsx(F,{className:"w-5 h-5 text-slate-500"})})]}),e.jsxs("form",{onSubmit:u,className:"p-4 space-y-4",children:[e.jsx("div",{className:"grid grid-cols-4 gap-2",children:st.map(s=>{const m=s.icon,l=t.type===s.id;return e.jsxs("button",{type:"button",onClick:()=>o({...t,type:s.id}),className:`flex flex-col items-center justify-center p-2 rounded-xl border transition-all ${l?"bg-indigo-50 border-indigo-500 text-indigo-700 dark:bg-indigo-900/20 dark:border-indigo-500 dark:text-indigo-400":"bg-slate-50 border-slate-200 text-slate-500 hover:bg-slate-100 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-400"}`,children:[e.jsx(m,{className:"w-6 h-6 mb-1"}),e.jsx("span",{className:"text-[10px] font-bold",children:s.label})]},s.id)})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Vehicle Name (Nickname)"}),e.jsx("input",{type:"text",required:!0,placeholder:"e.g. My Red Racer",value:t.name,onChange:s=>o({...t,name:s.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Brand & Model"}),e.jsx("input",{type:"text",required:!0,placeholder:"e.g. Honda City 2022",value:t.brandModel,onChange:s=>o({...t,brandModel:s.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Reg. Number (Optional)"}),e.jsx("input",{type:"text",placeholder:"KL-01-AB-1234",value:t.regNumber,onChange:s=>o({...t,regNumber:s.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Fuel Type"}),e.jsx("select",{value:t.fuelType,onChange:s=>o({...t,fuelType:s.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500",children:at.map(s=>e.jsx("option",{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Purchase Date"}),e.jsx("input",{type:"date",required:!0,value:t.purchaseDate,onChange:s=>o({...t,purchaseDate:s.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Odometer (km)"}),e.jsx("input",{type:"number",required:!0,placeholder:"0",value:t.odometer,onChange:s=>o({...t,odometer:s.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl mt-4 transition-colors flex items-center justify-center gap-2",children:[e.jsx(X,{className:"w-5 h-5"}),r?"Update Vehicle":"Add Vehicle"]})]})]})}):null},rt=({isOpen:d,onClose:a,onSave:c,vehicle:r})=>{const[t,o]=p.useState({vehicleId:r?.id||"",lender:"",totalLoanAmount:"",interestRate:"",interestType:"reducing",tenureMonths:"",startDate:new Date().toISOString().split("T")[0],dueDateDay:5}),[u,s]=p.useState(0);p.useEffect(()=>{r&&o(l=>({...l,vehicleId:r.id}))},[r]),p.useEffect(()=>{const l=Number(t.totalLoanAmount),f=Number(t.interestRate)/12/100,x=Number(t.tenureMonths);if(l>0&&f>0&&x>0)if(t.interestType==="reducing"){const k=l*f*Math.pow(1+f,x)/(Math.pow(1+f,x)-1);s(Math.round(k))}else{const k=l*(Number(t.interestRate)/100)*(x/12),S=(l+k)/x;s(Math.round(S))}else s(0)},[t.totalLoanAmount,t.interestRate,t.tenureMonths,t.interestType]);const m=l=>{l.preventDefault(),c({...t,emiAmount:u,totalLoanAmount:Number(t.totalLoanAmount),interestRate:Number(t.interestRate),tenureMonths:Number(t.tenureMonths),dueDateDay:Number(t.dueDateDay)}),a()};return d?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-md shadow-2xl border border-slate-100 dark:border-slate-800 overflow-hidden animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-900 text-white",children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[e.jsx(_,{className:"w-5 h-5 text-indigo-400"}),"Vehicle Financing"]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(F,{className:"w-5 h-5 text-slate-400"})})]}),e.jsxs("form",{onSubmit:m,className:"p-4 space-y-4 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Lender / Bank Name"}),e.jsx("input",{type:"text",required:!0,placeholder:"e.g. HDFC Bank, SBI",value:t.lender,onChange:l=>o({...t,lender:l.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Loan Amount (Principal)"}),e.jsx("input",{type:"number",required:!0,placeholder:"0",value:t.totalLoanAmount,onChange:l=>o({...t,totalLoanAmount:l.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Interest Rate (% p.a.)"}),e.jsx("input",{type:"number",step:"0.01",required:!0,placeholder:"8.5",value:t.interestRate,onChange:l=>o({...t,interestRate:l.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Tenure (Months)"}),e.jsx("input",{type:"number",required:!0,placeholder:"60",value:t.tenureMonths,onChange:l=>o({...t,tenureMonths:l.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Interest Type"}),e.jsxs("select",{value:t.interestType,onChange:l=>o({...t,interestType:l.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"reducing",children:"Reducing Balance"}),e.jsx("option",{value:"flat",children:"Flat Interest"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Start Date"}),e.jsx("input",{type:"date",required:!0,value:t.startDate,onChange:l=>o({...t,startDate:l.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"EMI Due Day"}),e.jsx("input",{type:"number",min:"1",max:"31",required:!0,placeholder:"5",value:t.dueDateDay,onChange:l=>o({...t,dueDateDay:l.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500"})]})]}),u>0&&e.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-2xl border border-indigo-100 dark:border-indigo-800 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ke,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-indigo-600 dark:text-indigo-400 uppercase",children:"Estimated Monthly EMI"}),e.jsxs("p",{className:"text-xl font-bold text-slate-900 dark:text-white",children:["â‚¹",u.toLocaleString()]})]})]})}),e.jsxs("button",{type:"submit",className:"w-full bg-slate-900 hover:bg-slate-800 text-white font-bold py-4 rounded-xl mt-4 transition-colors flex items-center justify-center gap-2",children:[e.jsx(X,{className:"w-5 h-5"}),"Initialize Loan"]})]})]})}):null},lt=({isOpen:d,onClose:a,onSave:c,loan:r,vehicle:t,loanDetail:o})=>{const{accounts:u}=ue(),[s,m]=p.useState({type:"EMI",amount:"",date:new Date().toISOString().split("T")[0],accountId:(u||[]).find(x=>!x.isArchived)?.id||"",notes:"",principal:"",interest:"",penalty:0,discount:0});p.useEffect(()=>{if(r&&s.type==="EMI"){const x=Number(r.emiAmount);let k=0;o?.isPastDue&&(k=Math.round(x*.02*(o.daysLate/30)),k<100&&o.daysLate>0&&(k=500)),m(S=>({...S,amount:x,penalty:k}))}},[r,s.type,o]);const l=x=>{x.preventDefault(),c(r.id,{...s,amount:Number(s.amount),principal:Number(s.principal)||(s.type==="EMI"?Number(s.amount)*.7:Number(s.amount)),interest:Number(s.interest)||(s.type==="EMI"?Number(s.amount)*.3:0),penalty:Number(s.penalty),discount:Number(s.discount)}),a()};if(!d||!r)return null;const f=Number(r.remainingPrincipal);return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-md shadow-2xl border border-slate-100 dark:border-slate-800 overflow-hidden animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-emerald-600 text-white",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[e.jsx(Ze,{className:"w-5 h-5"}),"Record Payment"]}),e.jsxs("p",{className:"text-[10px] opacity-80",children:[r.lender," - ",t?.name]})]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(F,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:l,className:"p-4 space-y-4",children:[e.jsx("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl",children:["EMI","Prepayment","Penalty"].map(x=>e.jsx("button",{type:"button",onClick:()=>m({...s,type:x}),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${s.type===x?"bg-white dark:bg-slate-700 shadow-sm text-emerald-600 dark:text-emerald-400":"text-slate-500"}`,children:x},x))}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Date"}),e.jsx("input",{type:"date",required:!0,value:s.date,onChange:x=>m({...s,date:x.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Total Paid Amount"}),e.jsx("input",{type:"number",required:!0,placeholder:"0",value:s.amount,onChange:x=>m({...s,amount:x.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white font-bold"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-bold text-red-400 uppercase tracking-wider mb-1 flex items-center gap-1",children:[e.jsx(Te,{className:"w-3 h-3"})," Penalty Paid"]}),e.jsx("input",{type:"number",value:s.penalty,onChange:x=>m({...s,penalty:x.target.value}),className:"w-full bg-red-50 dark:bg-red-900/10 border-none rounded-xl px-4 py-3 text-red-600 dark:text-red-400 font-bold"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-bold text-emerald-500 uppercase tracking-wider mb-1 flex items-center gap-1",children:[e.jsx(Xe,{className:"w-3 h-3"})," Discount/Bonus"]}),e.jsx("input",{type:"number",value:s.discount,onChange:x=>m({...s,discount:x.target.value}),className:"w-full bg-emerald-50 dark:bg-emerald-900/10 border-none rounded-xl px-4 py-3 text-emerald-600 dark:text-emerald-400 font-bold"})]})]}),s.type==="EMI"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-in slide-in-from-top-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Principal Component"}),e.jsx("input",{type:"number",placeholder:"Suggest: 70%",value:s.principal,onChange:x=>m({...s,principal:x.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Interest Component"}),e.jsx("input",{type:"number",placeholder:"Suggest: 30%",value:s.interest,onChange:x=>m({...s,interest:x.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white"})]})]}),s.type==="Penalty"&&e.jsxs("div",{className:"animate-in slide-in-from-top-2",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Late Fee / Penalty Description"}),e.jsx("textarea",{value:s.notes||"",onChange:x=>m({...s,notes:x.target.value}),placeholder:"e.g. Late fee for March EMI",className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white text-sm"})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-100 dark:border-slate-800",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Paid From Account"}),e.jsx("select",{value:s.accountId,onChange:x=>m({...s,accountId:x.target.value}),className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 text-slate-900 dark:text-white",children:u.filter(x=>!x.isArchived).map(x=>e.jsxs("option",{value:x.id,children:[x.name," (â‚¹",x.balance,")"]},x.id))})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-slate-400 font-bold uppercase mt-2",children:[e.jsx(Ie,{className:"w-3 h-3"}),"Remaining Principal: â‚¹",f.toLocaleString()]}),e.jsxs("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-4 rounded-xl mt-2 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-emerald-500/20",children:[e.jsx(ye,{className:"w-5 h-5"}),"Record & Log Finance"]})]})]})})},nt=({isOpen:d,onClose:a,onComplete:c,followUp:r,vehicle:t})=>{const{accounts:o}=ue(),[u,s]=p.useState({date:new Date().toISOString().split("T")[0],cost:"",odometer:t?.odometer||"",notes:"",accountId:(o||[]).find(l=>!l.isArchived)?.id||""});if(!d||!r)return null;const m=l=>{l.preventDefault(),c(r.id,{...u,cost:Number(u.cost)||0,odometer:Number(u.odometer)||t.odometer}),a()};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-md shadow-2xl border border-slate-100 dark:border-slate-800 animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-indigo-50 dark:bg-indigo-900/10",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-emerald-500"}),"Complete Service"]}),e.jsx("p",{className:"text-xs text-slate-500 ml-7",children:r.type})]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-white/50 rounded-full transition-colors",children:e.jsx(F,{className:"w-5 h-5 text-slate-500"})})]}),e.jsxs("form",{onSubmit:m,className:"p-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Date Completed"}),e.jsx("input",{type:"date",required:!0,value:u.date,onChange:l=>s({...u,date:l.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"New Odometer"}),e.jsx("input",{type:"number",required:!0,placeholder:t.odometer,value:u.odometer,onChange:l=>s({...u,odometer:l.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white"})]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-100 dark:border-slate-800 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(K,{className:"w-4 h-4 text-slate-400"}),e.jsx("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Cost & Payment"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Total Cost (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-3 text-slate-400 font-bold",children:"â‚¹"}),e.jsx("input",{type:"number",placeholder:"0",value:u.cost,onChange:l=>s({...u,cost:l.target.value}),className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl pl-8 pr-4 py-3 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500"})]})]}),Number(u.cost)>0&&e.jsxs("div",{className:"animate-in slide-in-from-top-2",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Paid From"}),e.jsx("select",{value:u.accountId,onChange:l=>s({...u,accountId:l.target.value}),className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 text-slate-900 dark:text-white",children:o.filter(l=>!l.isArchived).map(l=>e.jsxs("option",{value:l.id,children:[l.name," (â‚¹",l.balance,")"]},l.id))}),e.jsxs("p",{className:"text-[10px] text-indigo-500 mt-1 flex items-center gap-1",children:[e.jsx(A,{className:"w-3 h-3"})," Creates expense in Finance"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Notes (Optional)"}),e.jsx("textarea",{rows:"2",placeholder:"Details about service, parts changed...",value:u.notes,onChange:l=>s({...u,notes:l.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white text-sm"})]}),e.jsxs("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 rounded-xl mt-2 transition-colors flex items-center justify-center gap-2",children:[e.jsx(A,{className:"w-5 h-5"}),"Complete & Log"]})]})]})})},dt=["Refuel","Servicing","Oil Change","Tyre Change","Insurance Renewal","Pollution Check","Registration Renewal","Repair","Custom"],it=({isOpen:d,onClose:a,onSave:c,vehicle:r})=>{const[t,o]=p.useState({type:"Servicing",customType:"",triggerType:"date",date:"",odometer:"",isRecurring:!1,frequencyValue:3,frequencyUnit:"months",frequencyOdo:3e3});if(!d)return null;const u=s=>{if(s.preventDefault(),t.triggerType==="date"&&!t.date||t.triggerType==="odometer"&&!t.odometer)return;const m={type:t.type==="Custom"?t.customType:t.type,vehicleId:r.id,status:"pending",isRecurring:t.isRecurring};t.triggerType==="date"?(m.frequencyType="date",m.dueDate=t.date,t.isRecurring&&(m.frequencyValue=t.frequencyValue,m.frequencyUnit=t.frequencyUnit)):(m.frequencyType="odometer",m.dueOdometer=t.odometer,t.isRecurring&&(m.frequencyValue=t.frequencyOdo)),c(m),a()};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-md shadow-2xl border border-slate-100 dark:border-slate-800 animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Add Reminder"}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:e.jsx(F,{className:"w-5 h-5 text-slate-500"})})]}),e.jsxs("form",{onSubmit:u,className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Event Type"}),e.jsx("select",{value:t.type,onChange:s=>o({...t,type:s.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white",children:dt.map(s=>e.jsx("option",{value:s,children:s},s))}),t.type==="Custom"&&e.jsx("input",{type:"text",placeholder:"Enter custom event name",value:t.customType,onChange:s=>o({...t,customType:s.target.value}),className:"mt-2 w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white",required:!0})]}),e.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-1 rounded-xl flex",children:[e.jsx("button",{type:"button",onClick:()=>o({...t,triggerType:"date"}),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${t.triggerType==="date"?"bg-white dark:bg-slate-700 shadow-sm text-indigo-600 dark:text-indigo-400":"text-slate-500"}`,children:"Date Based"}),e.jsx("button",{type:"button",onClick:()=>o({...t,triggerType:"odometer"}),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${t.triggerType==="odometer"?"bg-white dark:bg-slate-700 shadow-sm text-indigo-600 dark:text-indigo-400":"text-slate-500"}`,children:"Odometer Based"})]}),t.triggerType==="date"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Due Date"}),e.jsx("input",{type:"date",required:!0,value:t.date,onChange:s=>o({...t,date:s.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white"})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-xl",children:[e.jsx("input",{type:"checkbox",id:"recurring_date",checked:t.isRecurring,onChange:s=>o({...t,isRecurring:s.target.checked}),className:"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"recurring_date",className:"flex-1 text-sm font-medium text-indigo-900 dark:text-indigo-200",children:"Recurring Event"})]}),t.isRecurring&&e.jsxs("div",{className:"flex gap-2 items-center animate-in slide-in-from-top-2",children:[e.jsx("span",{className:"text-sm font-bold text-slate-500",children:"Every"}),e.jsx("input",{type:"number",value:t.frequencyValue,onChange:s=>o({...t,frequencyValue:s.target.value}),className:"w-20 bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-3 py-2 text-center font-bold"}),e.jsxs("select",{value:t.frequencyUnit,onChange:s=>o({...t,frequencyUnit:s.target.value}),className:"flex-1 bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-3 py-2 text-sm font-bold",children:[e.jsx("option",{value:"days",children:"Days"}),e.jsx("option",{value:"months",children:"Months"}),e.jsx("option",{value:"years",children:"Years"})]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Target Odometer (km)"}),e.jsxs("div",{className:"text-xs text-slate-400 mb-2",children:["Current: ",r.odometer," km"]}),e.jsx("input",{type:"number",required:!0,placeholder:Number(r.odometer)+3e3,value:t.odometer,onChange:s=>o({...t,odometer:s.target.value}),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-3 text-slate-900 dark:text-white"})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-xl",children:[e.jsx("input",{type:"checkbox",id:"recurring_odo",checked:t.isRecurring,onChange:s=>o({...t,isRecurring:s.target.checked}),className:"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"recurring_odo",className:"flex-1 text-sm font-medium text-indigo-900 dark:text-indigo-200",children:"Recurring Event"})]}),t.isRecurring&&e.jsxs("div",{className:"flex gap-2 items-center animate-in slide-in-from-top-2",children:[e.jsx("span",{className:"text-sm font-bold text-slate-500",children:"Every"}),e.jsx("input",{type:"number",placeholder:"3000",value:t.frequencyOdo,onChange:s=>o({...t,frequencyOdo:s.target.value}),className:"flex-1 bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-3 py-2 text-center font-bold"}),e.jsx("span",{className:"text-sm font-bold text-slate-500",children:"km"})]})]}),e.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl mt-4 transition-colors flex items-center justify-center gap-2",children:[e.jsx(X,{className:"w-5 h-5"}),"Set Reminder"]})]})]})})},ot=({vehicle:d})=>{const{followUps:a,completeFollowUp:c,deleteFollowUp:r,addFollowUp:t,getLatestRecord:o,toggleMaintenanceItem:u}=be(),[s,m]=p.useState(!1),[l,f]=p.useState(!1),[x,k]=p.useState(!1),[S,B]=p.useState(null),U=a.filter(i=>i.vehicleId===d.id&&i.status!=="completed"),R=new Date,y=[],C=[],D=[];U.forEach(i=>{let h=!1,j=!1;if((i.frequencyType==="date"||i.frequencyType==="both")&&i.dueDate){const M=new Date(i.dueDate);ve(M,R)?h=!0:Ae(M,R)<=14&&(j=!0)}if((i.frequencyType==="odometer"||i.frequencyType==="both")&&i.dueOdometer){const M=Number(d.odometer)||0,b=Number(i.dueOdometer);M>=b?h=!0:b-M<=500&&(j=!0)}const O={...i,isOverdue:h,isSoon:j};h?y.push(O):j?C.push(O):D.push(O)});const N=(i,h)=>i.dueDate&&h.dueDate?new Date(i.dueDate)-new Date(h.dueDate):0;y.sort(N),C.sort(N),D.sort(N);const H=i=>{B(i),m(!0)},v=(i,h)=>e.jsxs("div",{className:`bg-white dark:bg-slate-900 border rounded-xl p-3 mb-2 flex flex-col gap-2 shadow-sm ${h==="overdue"?"border-red-200 dark:border-red-900/50":h==="upcoming"?"border-orange-200 dark:border-orange-900/50":"border-slate-100 dark:border-slate-800"}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`p-1.5 rounded-lg ${h==="overdue"?"bg-red-100 text-red-600":h==="upcoming"?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-500"}`,children:i.frequencyType==="date"?e.jsx(re,{className:"w-4 h-4"}):e.jsx(oe,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:i.type}),e.jsxs("div",{className:`text-[10px] font-semibold flex flex-col ${h==="overdue"?"text-red-500":h==="upcoming"?"text-orange-500":"text-slate-400"}`,children:[(i.frequencyType==="date"||i.frequencyType==="both")&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(re,{className:"w-2.5 h-2.5"}),i.dueDate?`Due ${$(ie(i.dueDate),"MMM d, yyyy")}`:"No date set"]}),(i.frequencyType==="odometer"||i.frequencyType==="both")&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(oe,{className:"w-2.5 h-2.5"}),`Due at ${Number(i.dueOdometer).toLocaleString()} km`]})]})]})]}),i.isRecurring&&e.jsx("span",{className:"text-[10px] bg-indigo-50 text-indigo-600 px-1.5 py-0.5 rounded border border-indigo-100 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-300",children:"Recurring"})]}),e.jsxs("div",{className:"flex justify-between items-end mt-1",children:[e.jsx("div",{children:(()=>{const j=o(d.id,i.type);return j?e.jsxs("p",{className:"text-[9px] text-slate-400 font-medium",children:["Last: ",$(ie(j.date),"MMM d, yyyy")," ",j.odometer?`(${Number(j.odometer).toLocaleString()} km)`:""]}):null})()}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r(i.id),className:"text-xs text-slate-400 hover:text-red-500 px-2 py-1",children:"Dismiss"}),e.jsxs("button",{onClick:()=>H(i),className:"flex items-center gap-1 bg-emerald-50 text-emerald-600 hover:bg-emerald-100 border border-emerald-200 rounded-lg px-3 py-1.5 text-xs font-bold transition-colors dark:bg-emerald-900/20 dark:border-emerald-800 dark:text-emerald-400 dark:hover:bg-emerald-900/40",children:[e.jsx(A,{className:"w-3 h-3"})," Done"]})]})]})]},i.id);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Reminders & Service"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>k(!0),className:"text-slate-600 text-[10px] font-bold bg-slate-100 hover:bg-slate-200 px-3 py-1.5 rounded-full flex items-center gap-1 transition-colors dark:bg-slate-800 dark:text-slate-400 dark:hover:bg-slate-700",children:[e.jsx(he,{className:"w-3 h-3"})," Manage"]}),e.jsxs("button",{onClick:()=>f(!0),className:"text-indigo-600 text-[10px] font-bold bg-indigo-50 hover:bg-indigo-100 px-3 py-1.5 rounded-full flex items-center gap-1 transition-colors dark:bg-indigo-900/30 dark:text-indigo-400 dark:hover:bg-indigo-900/50",children:[e.jsx(z,{className:"w-3 h-3"})," Add"]})]})]}),x&&e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-sm max-h-[80vh] overflow-hidden flex flex-col shadow-2xl animate-in zoom-in duration-200",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Standard Maintenance"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select items to track for your vehicle."})]}),e.jsx("div",{className:"p-4 overflow-y-auto space-y-2",children:we.filter(i=>!i.applicable||i.applicable.includes(d.type)).map(i=>{const h=a.some(j=>j.vehicleId===d.id&&j.type===i.type&&j.status!=="completed");return e.jsxs("button",{onClick:()=>u(d.id,i),className:`w-full p-4 rounded-2xl flex items-center justify-between transition-all border ${h?"bg-indigo-50 border-indigo-200 dark:bg-indigo-900/20 dark:border-indigo-800":"bg-slate-50 border-slate-100 dark:bg-slate-800 dark:border-slate-700 opacity-60"}`,children:[e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:`font-bold text-sm ${h?"text-indigo-900 dark:text-indigo-100":"text-slate-600 dark:text-slate-400"}`,children:i.type}),e.jsx("p",{className:"text-[10px] text-slate-500",children:i.frequencyType==="both"?`Every ${i.frequencyValue} ${i.frequencyUnit} / ${i.odometerValue}km`:i.frequencyType==="date"?`Every ${i.frequencyValue} ${i.frequencyUnit}`:i.frequencyType==="odometer"?`Every ${i.odometerValue}km`:"Ad-hoc"})]}),e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${h?"bg-indigo-600 border-indigo-600":"border-slate-300 dark:border-slate-600"}`,children:h&&e.jsx(A,{className:"w-3 h-3 text-white"})})]},i.type)})}),e.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50",children:e.jsx("button",{onClick:()=>k(!1),className:"w-full bg-slate-900 text-white dark:bg-indigo-600 font-bold py-3 rounded-2xl",children:"Done"})})]})}),U.length===0&&e.jsxs("div",{className:"text-center py-6 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-dashed border-slate-200 dark:border-slate-800",children:[e.jsx(Ce,{className:"w-8 h-8 text-slate-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No active reminders."}),e.jsx("button",{onClick:()=>f(!0),className:"text-indigo-500 text-xs font-bold mt-1",children:"Set one up"})]}),y.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-bold text-red-500 uppercase tracking-wider mb-2 flex items-center gap-1",children:[e.jsx(P,{className:"w-3 h-3"})," Overdue"]}),y.map(i=>v(i,"overdue"))]}),C.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-bold text-orange-500 uppercase tracking-wider mb-2",children:"Due Soon"}),C.map(i=>v(i,"upcoming"))]}),D.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Upcoming"}),D.map(i=>v(i,"later"))]}),e.jsx(nt,{isOpen:s,onClose:()=>m(!1),followUp:S,vehicle:d,onComplete:c}),e.jsx(it,{isOpen:l,onClose:()=>f(!1),vehicle:d,onSave:t})]})},Nt=()=>{const d=De(),{vehicles:a,addVehicle:c,updateVehicle:r,toggleArchiveVehicle:t,setVehicleActive:o,getActiveVehicle:u,serviceRecords:s,getVehicleStats:m,getLoanForVehicle:l,getLoanDetailedStatus:f,addLoan:x,payEMI:k,getVehicleRisks:S,deleteVehicle:B}=be(),{addTask:U}=Me(),[R,y]=p.useState(!1),[C,D]=p.useState(null),[N,H]=p.useState(!1),[v,i]=p.useState("overview"),[h,j]=p.useState(!1),[O,M]=p.useState(!1),b=u(),T=b?m(b.id):null,Q=b?S(b.id):[],ee=[...a.filter(n=>N?n.isArchived:!n.isArchived)].sort((n,w)=>n.isActive?-1:w.isActive?1:0),Y=b?s.filter(n=>n.vehicleId===b.id).sort((n,w)=>new Date(w.date)-new Date(n.date)):[],te=n=>{C?r(C.id,n):c(n)},fe=n=>{x(n)},je=(n,w)=>{k(n,w)},g=b?l(b.id):null,q=g?f(g.id):null,Ne=()=>{b&&(U({name:`Check ${b.name} condition`,time:"09:00",category:"EARLY MORNING",icon:"ðŸš—"}),alert("Added to today's routine!"))},se=n=>{switch(n){case"bike":case"scooter":return J;case"commercial":return ge;default:return G}};return a.length===0?e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 p-6 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-24 h-24 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center mb-6",children:e.jsx(G,{className:"w-12 h-12 text-indigo-600 dark:text-indigo-400"})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-3",children:"Vehicle Management"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8 text-center max-w-xs",children:"Track expenses, maintenance, and reminders for your fleet."}),e.jsxs("button",{onClick:()=>y(!0),className:"px-8 py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl font-bold shadow-lg shadow-indigo-500/30 transition-all flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5"})," Add First Vehicle"]}),e.jsxs("button",{onClick:()=>d(-1),className:"mt-6 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 text-sm font-bold flex items-center gap-2 transition-colors px-4 py-2 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800",children:[e.jsx(le,{className:"w-4 h-4"})," Go Back"]}),e.jsx(ce,{isOpen:R,onClose:()=>y(!1),onSave:te})]}):e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 pb-24",children:[e.jsxs("header",{className:"bg-white dark:bg-slate-900 sticky top-0 z-20 shadow-sm",children:[e.jsxs("div",{className:"px-6 pt-6 pb-4 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>d("/"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:e.jsx(le,{className:"w-6 h-6 text-slate-700 dark:text-slate-300"})}),e.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white",children:N?"Archived Vehicles":"Vehicle Dashboard"}),e.jsx("button",{onClick:()=>H(!N),className:`p-2 rounded-full transition-colors ${N?"bg-indigo-100 text-indigo-700":"hover:bg-slate-100 text-slate-500"}`,children:e.jsx(de,{className:"w-5 h-5"})})]}),b&&!N&&e.jsxs("div",{className:"px-6 pb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 dark:from-indigo-900 dark:to-slate-900 rounded-2xl p-5 text-white shadow-xl shadow-slate-900/10 relative overflow-hidden",children:[T?.overdueCount>0&&e.jsxs("div",{className:"absolute top-4 right-4 bg-red-500/90 text-white text-[10px] font-bold px-2 py-1 rounded-full flex items-center gap-1 animate-pulse",children:[e.jsx(P,{className:"w-3 h-3"}),T.overdueCount," Alerts"]}),e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-1",children:b.name}),e.jsx("p",{className:"text-slate-400 text-sm font-medium",children:b.brandModel})]}),e.jsx("div",{className:"p-2 bg-white/10 rounded-xl backdrop-blur-sm",children:(()=>{const n=se(b.type);return e.jsx(n,{className:"w-6 h-6 text-white"})})()})]}),e.jsxs("div",{className:"flex divide-x divide-white/10 bg-white/5 rounded-xl backdrop-blur-sm",children:[e.jsxs("div",{className:"flex-1 p-3 text-center",children:[e.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Total Cost"}),e.jsxs("p",{className:"font-bold text-sm",children:["â‚¹",T?.totalSpend.toLocaleString()]})]}),e.jsxs("div",{className:"flex-1 p-3 text-center",children:[e.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Monthly"}),e.jsxs("p",{className:"font-bold text-sm",children:["â‚¹",T?.costPerMonth.toLocaleString()]})]}),e.jsxs("div",{className:"flex-1 p-3 text-center",children:[e.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Odometer"}),e.jsxs("p",{className:"font-bold text-sm",children:[Number(b.odometer).toLocaleString()," km"]})]})]})]}),e.jsxs("div",{className:"flex mt-4 bg-slate-100 dark:bg-slate-800 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>i("overview"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${v==="overview"?"bg-white dark:bg-slate-700 shadow-sm text-indigo-600 dark:text-white":"text-slate-500"}`,children:"Overview"}),e.jsx("button",{onClick:()=>i("history"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${v==="history"?"bg-white dark:bg-slate-700 shadow-sm text-indigo-600 dark:text-white":"text-slate-500"}`,children:"History"}),e.jsx("button",{onClick:()=>i("loans"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${v==="loans"?"bg-white dark:bg-slate-700 shadow-sm text-indigo-600 dark:text-white":"text-slate-500"}`,children:"Loans"})]})]})]}),e.jsxs("div",{className:"px-6 py-4",children:[b&&!N?v==="overview"?e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx("section",{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:Ne,className:"flex-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 p-3 rounded-xl flex items-center justify-center gap-2 shadow-sm hover:border-indigo-300 transition-colors",children:[e.jsx(Se,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:"Check Routine"})]}),e.jsxs("button",{onClick:()=>{D(b),y(!0)},className:"flex-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 p-3 rounded-xl flex items-center justify-center gap-2 shadow-sm hover:border-indigo-300 transition-colors",children:[e.jsx(he,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:"Edit Details"})]})]})}),e.jsx(ot,{vehicle:b}),Q.length>0&&e.jsxs("section",{className:"space-y-3",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white px-1",children:"Insights & Alerts"}),e.jsx("div",{className:"grid gap-3",children:Q.map((n,w)=>e.jsxs("div",{className:`p-4 rounded-xl border flex items-start gap-3 ${n.type==="critical"?"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-900":n.type==="warning"?"bg-orange-50 dark:bg-orange-900/20 border-orange-100 dark:border-orange-900":"bg-blue-50 dark:bg-blue-900/20 border-blue-100 dark:border-blue-900"}`,children:[e.jsx("div",{className:`p-2 rounded-full ${n.type==="critical"?"bg-red-100 dark:bg-red-800 text-red-600 dark:text-red-200":n.type==="warning"?"bg-orange-100 dark:bg-orange-800 text-orange-600 dark:text-orange-200":"bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-200"}`,children:e.jsx(P,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-bold text-sm ${n.type==="critical"?"text-red-900 dark:text-red-100":n.type==="warning"?"text-orange-900 dark:text-orange-100":"text-blue-900 dark:text-blue-100"}`,children:n.title}),e.jsx("p",{className:`text-xs mt-1 ${n.type==="critical"?"text-red-700 dark:text-red-300":n.type==="warning"?"text-orange-700 dark:text-orange-300":"text-blue-700 dark:text-blue-300"}`,children:n.detail})]})]},w))})]}),T?.lastServiceDate&&e.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-xl flex items-start gap-3 border border-emerald-100 dark:border-emerald-800",children:[e.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-800 p-2 rounded-full",children:e.jsx(W,{className:"w-4 h-4 text-emerald-600 dark:text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-emerald-900 dark:text-emerald-100 text-sm",children:"Last Service"}),e.jsxs("p",{className:"text-xs text-emerald-700 dark:text-emerald-300 mt-1",children:[T.lastServiceType," on ",$(new Date(T.lastServiceDate),"MMM d, yyyy")]})]})]}),a.length>1&&e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white pt-4",children:"Other Vehicles"})]}):v==="loans"?e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4 text-slate-500"}),"Vehicle Financing"]}),g?e.jsxs("div",{className:"flex gap-2",children:[q?.status==="overdue"&&e.jsxs("span",{className:"text-[10px] font-bold bg-red-50 text-red-600 px-2 py-1 rounded-full dark:bg-red-900/30 dark:text-red-400 flex items-center gap-1 animate-pulse",children:[e.jsx(P,{className:"w-3 h-3"})," Overdue"]}),q?.status==="pending"&&e.jsx("span",{className:"text-[10px] font-bold bg-orange-50 text-orange-600 px-2 py-1 rounded-full dark:bg-orange-900/30 dark:text-orange-400",children:"Due Soon"}),q?.status==="paid"&&e.jsx("span",{className:"text-[10px] font-bold bg-emerald-50 text-emerald-600 px-2 py-1 rounded-full dark:bg-emerald-900/30 dark:text-emerald-400",children:"Paid"})]}):e.jsx("span",{className:"text-[10px] font-bold bg-indigo-50 text-indigo-600 px-2 py-1 rounded-full dark:bg-indigo-900/30 dark:text-indigo-400",children:"Available"})]}),g?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-800",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider mb-1",children:"Total Loan Principal"}),e.jsxs("h4",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["â‚¹",g.totalLoanAmount.toLocaleString()]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:g.lender})]}),e.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-2xl",children:e.jsx(_,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[e.jsx("span",{className:"text-slate-500",children:"Repayment Progress"}),e.jsxs("span",{className:"text-indigo-600 dark:text-indigo-400",children:["â‚¹",(g.totalLoanAmount-g.remainingPrincipal).toLocaleString()," Paid"]})]}),e.jsx("div",{className:"h-3 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:e.jsx(ne.div,{initial:{width:0},animate:{width:`${(g.totalLoanAmount-g.remainingPrincipal)/g.totalLoanAmount*100}%`},className:"h-full bg-gradient-to-r from-indigo-500 to-indigo-600"})}),e.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400 mt-2 uppercase tracking-wide",children:[e.jsx("span",{children:"Principal"}),e.jsxs("span",{children:["Balance: â‚¹",g.remainingPrincipal.toLocaleString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4 border-y border-slate-50 dark:border-slate-800",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider mb-1",children:"Interest Rate"}),e.jsxs("p",{className:"font-bold text-sm",children:[g.interestRate,"% (",g.interestType,")"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider mb-1",children:"Monthly Interest"}),e.jsxs("p",{className:"font-bold text-sm",children:["~ â‚¹",q?.interestBalance.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider mb-1",children:"Monthly EMI"}),e.jsxs("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:["â‚¹",g.emiAmount.toLocaleString()]})]}),e.jsx("button",{onClick:()=>M(!0),className:"bg-slate-900 dark:bg-white text-white dark:text-slate-900 px-6 py-3 rounded-2xl font-bold shadow-lg flex items-center gap-2 hover:scale-[1.02] transition-transform",children:"Record EMI"})]})]})]}),g.history.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white mb-3 pl-2 flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-slate-400"}),"Recent Payments"]}),e.jsx("div",{className:"space-y-3",children:g.history.slice().reverse().map(n=>e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${n.type==="Penalty"?"bg-red-50 text-red-600":"bg-emerald-50 text-emerald-600"}`,children:e.jsx(K,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-sm text-slate-900 dark:text-white",children:[n.type," Payment"]}),e.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold",children:$(new Date(n.date),"MMM d, yyyy")})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:["â‚¹",n.amount.toLocaleString()]}),e.jsxs("p",{className:"text-[9px] text-slate-400",children:["P: â‚¹",n.principal.toLocaleString()," | I: â‚¹",n.interest.toLocaleString()]})]})]},n.id))})]})]}):e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-900 rounded-3xl border border-dashed border-slate-200 dark:border-slate-800 px-6",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(_,{className:"w-8 h-8 text-slate-300"})}),e.jsx("h4",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:"No Finance Records"}),e.jsx("p",{className:"text-slate-500 text-sm mb-8 max-w-xs mx-auto",children:"Keep track of your vehicle loans, EMIs, and interest payments in one place."}),e.jsxs("button",{onClick:()=>j(!0),className:"bg-slate-900 dark:bg-indigo-600 text-white px-8 py-3 rounded-2xl font-bold shadow-xl flex items-center gap-2 mx-auto hover:scale-105 transition-transform",children:[e.jsx(z,{className:"w-4 h-4"})," Initialize Finance"]})]})]}):e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-slate-500"}),"Maintenance Log"]}),e.jsxs("span",{className:"text-xs font-bold bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded-full text-slate-500",children:[Y.length," Records"]})]}),Y.length===0?e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-900 rounded-2xl border border-dashed border-slate-200 dark:border-slate-800",children:[e.jsx(K,{className:"w-8 h-8 text-slate-300 mx-auto mb-2"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"No maintenance records found."})]}):Y.map(n=>e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-800 flex items-start justify-between group hover:border-indigo-200 transition-colors",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:n.type}),n.financeTxId&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500",title:"Synced with Finance"})]}),e.jsx("p",{className:"text-xs text-slate-400",children:$(new Date(n.date),"MMM d, yyyy")}),n.notes&&e.jsx("p",{className:"text-xs text-slate-500 mt-2 line-clamp-2",children:n.notes})]}),e.jsxs("div",{className:"text-right",children:[n.cost>0&&e.jsxs("span",{className:"block font-bold text-slate-900 dark:text-white text-sm",children:["â‚¹",Number(n.cost).toLocaleString()]}),n.odometer&&e.jsxs("span",{className:"block text-[10px] text-slate-400 mt-1 bg-slate-100 dark:bg-slate-800 px-1.5 py-0.5 rounded-lg",children:[Number(n.odometer).toLocaleString()," km"]})]})]},n.id))]}):null,(v==="overview"||N)&&(N||(b?a.length>1:!0))&&e.jsx("div",{className:"space-y-3 mt-4",children:ee.length===0&&N?e.jsxs("div",{className:"text-center py-8 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-dashed border-slate-200 dark:border-slate-800",children:[e.jsx(de,{className:"w-8 h-8 text-slate-300 mx-auto mb-2"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"No archived vehicles found."})]}):ee.filter(n=>N?!0:!n.isActive).map(n=>{const w=se(n.type);return e.jsxs(ne.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:`bg-white dark:bg-slate-900 p-4 rounded-2xl border ${n.isActive?"border-indigo-500 ring-1 ring-indigo-500":"border-slate-100 dark:border-slate-800"} shadow-sm relative overflow-hidden cursor-pointer hover:shadow-md transition-all`,onClick:()=>!N&&o(n.id),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${n.isActive?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-500 dark:bg-slate-800 dark:text-slate-400"}`,children:e.jsx(w,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:n.name}),n.isActive&&e.jsx(A,{className:"w-4 h-4 text-indigo-500"})]}),e.jsx("p",{className:"text-xs text-slate-500",children:n.brandModel})]})]}),(()=>{const I=m(n.id);if(I&&I.overdueCount>0)return e.jsxs("div",{className:"mt-2 text-[10px] font-bold text-red-500 flex items-center gap-1",children:[e.jsx(P,{className:"w-3 h-3"})," ",I.overdueCount," Items Overdue"]})})(),e.jsxs("div",{className:"mt-3 pt-2 border-t border-slate-50 dark:border-slate-800 flex justify-end gap-2",children:[e.jsx("button",{onClick:I=>{I.stopPropagation(),window.confirm("Are you sure you want to permanently delete this vehicle?")&&B(n.id)},className:"text-red-400 hover:text-red-600 text-[10px] font-bold uppercase tracking-wider px-2 py-1",children:"Delete"}),e.jsx("button",{onClick:I=>{I.stopPropagation(),t(n.id)},className:"text-slate-400 hover:text-slate-600 text-[10px] font-bold uppercase tracking-wider px-2 py-1",children:n.isArchived?"Unarchive":"Archive"})]})]},n.id)})})]}),e.jsx("button",{onClick:()=>{D(null),y(!0)},className:"fixed bottom-6 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-xl shadow-indigo-600/30 flex items-center justify-center hover:scale-105 transition-transform active:scale-95 z-40",children:e.jsx(z,{className:"w-6 h-6"})}),e.jsx(ce,{isOpen:R,onClose:()=>{y(!1),D(null)},onSave:te,editVehicle:C}),e.jsx(rt,{isOpen:h,onClose:()=>j(!1),onSave:fe,vehicle:b}),e.jsx(lt,{isOpen:O,onClose:()=>M(!1),onSave:je,loan:g,vehicle:b,loanDetail:q})]})};export{Nt as default};
