const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Login-oV_uZbmD.js","./Input-CdaVv_Ia.js","./Card-CZNk89y4.js","./ErrorDisplay-B7lNlOyh.js","./refresh-cw-T5Sj0zIb.js","./circle-alert-BoN1vF-0.js","./circle-check-big-DwTlzGT_.js","./circle-x-DbAQByUC.js","./arrow-right-sN42kX48.js","./Dashboard-DLsGS7zg.js","./UnlockDayModal-Bg9P4g7P.js","./TaskItem-9twELoyT.js","./check-BSWKSJBS.js","./bike-BTOCNXoP.js","./trash-2-CDmjoKQg.js","./chevron-up-DucM41_0.js","./subMonths-DgW2MR7g.js","./isSameMonth-C2to2zAa.js","./index-DOiIOaCS.js","./pen-HTFr2WeX.js","./plus-D4_9nUSd.js","./circle-check-D4fhTVqY.js","./smartphone-Jpt8U-Ze.js","./star-ChOtgXYO.js","./trending-up-D5-Ts_9U.js","./award-C14t_Rxa.js","./Routine-BHvBrRKJ.js","./History-zbPMWRYD.js","./Settings-DGYk7sR8.js","./save-DznQKXii.js","./triangle-alert-D4achxi4.js","./user-C7Cn8Q6i.js","./ForgotPassword-BslfeqOR.js","./Analytics-BTKQp5mO.js","./CartesianChart-BYVa4N3n.js","./DietPlan-CGEtoMXV.js","./TaskDashboard-XB7Z6F2v.js","./subDays-D248njFx.js","./WorkspaceCalendar-C9qlaODU.js","./WorkspaceBoard-BA0g7FwF.js","./FilteredTaskView-CxBVn2IJ.js","./Overview-BCWwWUSx.js","./FinanceDashboard-Bdft59Co.js","./zap--14jznHM.js","./DebtManager-Cu6wh7C_.js","./AccountDetail-B4BUMKrM.js","./trending-down-DfJhsn1r.js","./MonthlyOverview-B2p5Z0OH.js","./VehicleDashboard-Db4D24v4.js"])))=>i.map(i=>d[i]);
function q2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var NF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eg={exports:{}},Gu={};var CE;function H2(){if(CE)return Gu;CE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:l}}return Gu.Fragment=e,Gu.jsx=n,Gu.jsxs=n,Gu}var xE;function G2(){return xE||(xE=1,Eg.exports=H2()),Eg.exports}var q=G2(),wg={exports:{}},Fe={};var IE;function $2(){if(IE)return Fe;IE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function x(F){return F===null||typeof F!="object"?null:(F=b&&F[b]||F["@@iterator"],typeof F=="function"?F:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,z={};function U(F,ae,Q){this.props=F,this.context=ae,this.refs=z,this.updater=Q||M}U.prototype.isReactComponent={},U.prototype.setState=function(F,ae){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ae,"setState")},U.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function j(){}j.prototype=U.prototype;function B(F,ae,Q){this.props=F,this.context=ae,this.refs=z,this.updater=Q||M}var fe=B.prototype=new j;fe.constructor=B,P(fe,U.prototype),fe.isPureReactComponent=!0;var V=Array.isArray;function Z(){}var A={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function D(F,ae,Q){var K=Q.ref;return{$$typeof:t,type:F,key:ae,ref:K!==void 0?K:null,props:Q}}function N(F,ae){return D(F.type,ae,F.props)}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function k(F){var ae={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Q){return ae[Q]})}var S=/\/+/g;function Y(F,ae){return typeof F=="object"&&F!==null&&F.key!=null?k(""+F.key):ae.toString(36)}function H(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(Z,Z):(F.status="pending",F.then(function(ae){F.status==="pending"&&(F.status="fulfilled",F.value=ae)},function(ae){F.status==="pending"&&(F.status="rejected",F.reason=ae)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function $(F,ae,Q,K,X){var ge=typeof F;(ge==="undefined"||ge==="boolean")&&(F=null);var pe=!1;if(F===null)pe=!0;else switch(ge){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(F.$$typeof){case t:case e:pe=!0;break;case y:return pe=F._init,$(pe(F._payload),ae,Q,K,X)}}if(pe)return X=X(F),pe=K===""?"."+Y(F,0):K,V(X)?(Q="",pe!=null&&(Q=pe.replace(S,"$&/")+"/"),$(X,ae,Q,"",function(Ge){return Ge})):X!=null&&(O(X)&&(X=N(X,Q+(X.key==null||F&&F.key===X.key?"":(""+X.key).replace(S,"$&/")+"/")+pe)),ae.push(X)),1;pe=0;var me=K===""?".":K+":";if(V(F))for(var we=0;we<F.length;we++)K=F[we],ge=me+Y(K,we),pe+=$(K,ae,Q,ge,X);else if(we=x(F),typeof we=="function")for(F=we.call(F),we=0;!(K=F.next()).done;)K=K.value,ge=me+Y(K,we++),pe+=$(K,ae,Q,ge,X);else if(ge==="object"){if(typeof F.then=="function")return $(H(F),ae,Q,K,X);throw ae=String(F),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return pe}function ie(F,ae,Q){if(F==null)return F;var K=[],X=0;return $(F,K,"","",function(ge){return ae.call(Q,ge,X++)}),K}function ee(F){if(F._status===-1){var ae=F._result;ae=ae(),ae.then(function(Q){(F._status===0||F._status===-1)&&(F._status=1,F._result=Q)},function(Q){(F._status===0||F._status===-1)&&(F._status=2,F._result=Q)}),F._status===-1&&(F._status=0,F._result=ae)}if(F._status===1)return F._result.default;throw F._result}var Te=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},Oe={map:ie,forEach:function(F,ae,Q){ie(F,function(){ae.apply(this,arguments)},Q)},count:function(F){var ae=0;return ie(F,function(){ae++}),ae},toArray:function(F){return ie(F,function(ae){return ae})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Fe.Activity=v,Fe.Children=Oe,Fe.Component=U,Fe.Fragment=n,Fe.Profiler=a,Fe.PureComponent=B,Fe.StrictMode=r,Fe.Suspense=d,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(F){return A.H.useMemoCache(F)}},Fe.cache=function(F){return function(){return F.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function(F,ae,Q){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var K=P({},F.props),X=F.key;if(ae!=null)for(ge in ae.key!==void 0&&(X=""+ae.key),ae)!w.call(ae,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&ae.ref===void 0||(K[ge]=ae[ge]);var ge=arguments.length-2;if(ge===1)K.children=Q;else if(1<ge){for(var pe=Array(ge),me=0;me<ge;me++)pe[me]=arguments[me+2];K.children=pe}return D(F.type,X,K)},Fe.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},Fe.createElement=function(F,ae,Q){var K,X={},ge=null;if(ae!=null)for(K in ae.key!==void 0&&(ge=""+ae.key),ae)w.call(ae,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(X[K]=ae[K]);var pe=arguments.length-2;if(pe===1)X.children=Q;else if(1<pe){for(var me=Array(pe),we=0;we<pe;we++)me[we]=arguments[we+2];X.children=me}if(F&&F.defaultProps)for(K in pe=F.defaultProps,pe)X[K]===void 0&&(X[K]=pe[K]);return D(F,ge,X)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(F){return{$$typeof:h,render:F}},Fe.isValidElement=O,Fe.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:ee}},Fe.memo=function(F,ae){return{$$typeof:p,type:F,compare:ae===void 0?null:ae}},Fe.startTransition=function(F){var ae=A.T,Q={};A.T=Q;try{var K=F(),X=A.S;X!==null&&X(Q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Z,Te)}catch(ge){Te(ge)}finally{ae!==null&&Q.types!==null&&(ae.types=Q.types),A.T=ae}},Fe.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Fe.use=function(F){return A.H.use(F)},Fe.useActionState=function(F,ae,Q){return A.H.useActionState(F,ae,Q)},Fe.useCallback=function(F,ae){return A.H.useCallback(F,ae)},Fe.useContext=function(F){return A.H.useContext(F)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(F,ae){return A.H.useDeferredValue(F,ae)},Fe.useEffect=function(F,ae){return A.H.useEffect(F,ae)},Fe.useEffectEvent=function(F){return A.H.useEffectEvent(F)},Fe.useId=function(){return A.H.useId()},Fe.useImperativeHandle=function(F,ae,Q){return A.H.useImperativeHandle(F,ae,Q)},Fe.useInsertionEffect=function(F,ae){return A.H.useInsertionEffect(F,ae)},Fe.useLayoutEffect=function(F,ae){return A.H.useLayoutEffect(F,ae)},Fe.useMemo=function(F,ae){return A.H.useMemo(F,ae)},Fe.useOptimistic=function(F,ae){return A.H.useOptimistic(F,ae)},Fe.useReducer=function(F,ae,Q){return A.H.useReducer(F,ae,Q)},Fe.useRef=function(F){return A.H.useRef(F)},Fe.useState=function(F){return A.H.useState(F)},Fe.useSyncExternalStore=function(F,ae,Q){return A.H.useSyncExternalStore(F,ae,Q)},Fe.useTransition=function(){return A.H.useTransition()},Fe.version="19.2.3",Fe}var DE;function pv(){return DE||(DE=1,wg.exports=$2()),wg.exports}var C=pv();const gv=mv(C),OF=q2({__proto__:null,default:gv},[C]);var Sg={exports:{}},$u={},Ag={exports:{}},Rg={};var kE;function Y2(){return kE||(kE=1,(function(t){function e($,ie){var ee=$.length;$.push(ie);e:for(;0<ee;){var Te=ee-1>>>1,Oe=$[Te];if(0<a(Oe,ie))$[Te]=ie,$[ee]=Oe,ee=Te;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ie=$[0],ee=$.pop();if(ee!==ie){$[0]=ee;e:for(var Te=0,Oe=$.length,F=Oe>>>1;Te<F;){var ae=2*(Te+1)-1,Q=$[ae],K=ae+1,X=$[K];if(0>a(Q,ee))K<Oe&&0>a(X,Q)?($[Te]=X,$[K]=ee,Te=K):($[Te]=Q,$[ae]=ee,Te=ae);else if(K<Oe&&0>a(X,ee))$[Te]=X,$[K]=ee,Te=K;else break e}}return ie}function a($,ie){var ee=$.sortIndex-ie.sortIndex;return ee!==0?ee:$.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,v=null,b=3,x=!1,M=!1,P=!1,z=!1,U=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function fe($){for(var ie=n(p);ie!==null;){if(ie.callback===null)r(p);else if(ie.startTime<=$)r(p),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=n(p)}}function V($){if(P=!1,fe($),!M)if(n(d)!==null)M=!0,Z||(Z=!0,k());else{var ie=n(p);ie!==null&&H(V,ie.startTime-$)}}var Z=!1,A=-1,w=5,D=-1;function N(){return z?!0:!(t.unstable_now()-D<w)}function O(){if(z=!1,Z){var $=t.unstable_now();D=$;var ie=!0;try{e:{M=!1,P&&(P=!1,j(A),A=-1),x=!0;var ee=b;try{t:{for(fe($),v=n(d);v!==null&&!(v.expirationTime>$&&N());){var Te=v.callback;if(typeof Te=="function"){v.callback=null,b=v.priorityLevel;var Oe=Te(v.expirationTime<=$);if($=t.unstable_now(),typeof Oe=="function"){v.callback=Oe,fe($),ie=!0;break t}v===n(d)&&r(d),fe($)}else r(d);v=n(d)}if(v!==null)ie=!0;else{var F=n(p);F!==null&&H(V,F.startTime-$),ie=!1}}break e}finally{v=null,b=ee,x=!1}ie=void 0}}finally{ie?k():Z=!1}}}var k;if(typeof B=="function")k=function(){B(O)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,Y=S.port2;S.port1.onmessage=O,k=function(){Y.postMessage(null)}}else k=function(){U(O,0)};function H($,ie){A=U(function(){$(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function($){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var ee=b;b=ie;try{return $()}finally{b=ee}},t.unstable_requestPaint=function(){z=!0},t.unstable_runWithPriority=function($,ie){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=b;b=$;try{return ie()}finally{b=ee}},t.unstable_scheduleCallback=function($,ie,ee){var Te=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Te+ee:Te):ee=Te,$){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ee+Oe,$={id:y++,callback:ie,priorityLevel:$,startTime:ee,expirationTime:Oe,sortIndex:-1},ee>Te?($.sortIndex=ee,e(p,$),n(d)===null&&$===n(p)&&(P?(j(A),A=-1):P=!0,H(V,ee-Te))):($.sortIndex=Oe,e(d,$),M||x||(M=!0,Z||(Z=!0,k()))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var ie=b;return function(){var ee=b;b=ie;try{return $.apply(this,arguments)}finally{b=ee}}}})(Rg)),Rg}var ME;function K2(){return ME||(ME=1,Ag.exports=Y2()),Ag.exports}var Cg={exports:{}},wn={};var NE;function W2(){if(NE)return wn;NE=1;var t=pv();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},wn.flushSync=function(d){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=y,r.d.f()}},wn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},wn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},wn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:x}):y==="script"&&r.d.X(d,{crossOrigin:v,integrity:b,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},wn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},wn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);r.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},wn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},wn.requestFormReset=function(d){r.d.r(d)},wn.unstable_batchedUpdates=function(d,p){return d(p)},wn.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},wn.useFormStatus=function(){return u.H.useHostTransitionStatus()},wn.version="19.2.3",wn}var OE;function Q2(){if(OE)return Cg.exports;OE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cg.exports=W2(),Cg.exports}var PE;function X2(){if(PE)return $u;PE=1;var t=K2(),e=pv(),n=Q2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),i;if(g===c)return d(m),s;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=m,c=g;else{for(var T=!1,R=m.child;R;){if(R===o){T=!0,o=m,c=g;break}if(R===c){T=!0,c=m,o=g;break}R=R.sibling}if(!T){for(R=g.child;R;){if(R===o){T=!0,o=g,c=m;break}if(R===c){T=!0,c=g,o=m;break}R=R.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),B=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var S=Symbol.for("react.client.reference");function Y(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===S?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case U:return"Profiler";case z:return"StrictMode";case V:return"Suspense";case Z:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case B:return i.displayName||"Context";case j:return(i._context.displayName||"Context")+".Consumer";case fe:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return s=i.displayName||null,s!==null?s:Y(i.type)||"Memo";case w:s=i._payload,i=i._init;try{return Y(i(s))}catch{}}return null}var H=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Te=[],Oe=-1;function F(i){return{current:i}}function ae(i){0>Oe||(i.current=Te[Oe],Te[Oe]=null,Oe--)}function Q(i,s){Oe++,Te[Oe]=i.current,i.current=s}var K=F(null),X=F(null),ge=F(null),pe=F(null);function me(i,s){switch(Q(ge,s),Q(X,i),Q(K,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Qb(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Qb(s),i=Xb(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(K),Q(K,i)}function we(){ae(K),ae(X),ae(ge)}function Ge(i){i.memoizedState!==null&&Q(pe,i);var s=K.current,o=Xb(s,i.type);s!==o&&(Q(X,i),Q(K,o))}function Ne(i){X.current===i&&(ae(K),ae(X)),pe.current===i&&(ae(pe),Bu._currentValue=ee)}var It,ye;function ve(i){if(It===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);It=s&&s[1]||"",ye=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+It+i+ye}var Se=!1;function Ee(i,s){if(!i||Se)return"";Se=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(oe){var re=oe}Reflect.construct(i,[],he)}else{try{he.call()}catch(oe){re=oe}i.call(he.prototype)}}else{try{throw Error()}catch(oe){re=oe}(he=i())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(oe){if(oe&&re&&typeof oe.stack=="string")return[oe.stack,re.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],R=g[1];if(T&&R){var L=T.split(`
`),ne=R.split(`
`);for(m=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ne.length&&!ne[m].includes("DetermineComponentFrameRoot");)m++;if(c===L.length||m===ne.length)for(c=L.length-1,m=ne.length-1;1<=c&&0<=m&&L[c]!==ne[m];)m--;for(;1<=c&&0<=m;c--,m--)if(L[c]!==ne[m]){if(c!==1||m!==1)do if(c--,m--,0>m||L[c]!==ne[m]){var le=`
`+L[c].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=c&&0<=m);break}}}finally{Se=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ve(o):""}function ke(i,s){switch(i.tag){case 26:case 27:case 5:return ve(i.type);case 16:return ve("Lazy");case 13:return i.child!==s&&s!==null?ve("Suspense Fallback"):ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return Ee(i.type,!1);case 11:return Ee(i.type.render,!1);case 1:return Ee(i.type,!0);case 31:return ve("Activity");default:return""}}function Je(i){try{var s="",o=null;do s+=ke(i,o),o=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ue=Object.prototype.hasOwnProperty,He=t.unstable_scheduleCallback,$i=t.unstable_cancelCallback,Sm=t.unstable_shouldYield,Zc=t.unstable_requestPaint,Dn=t.unstable_now,fa=t.unstable_getCurrentPriorityLevel,Hl=t.unstable_ImmediatePriority,Gl=t.unstable_UserBlockingPriority,os=t.unstable_NormalPriority,Am=t.unstable_LowPriority,eh=t.unstable_IdlePriority,th=t.log,nh=t.unstable_setDisableYieldValue,Ai=null,fn=null;function si(i){if(typeof th=="function"&&nh(i),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(Ai,i)}catch{}}var Lt=Math.clz32?Math.clz32:rh,ih=Math.log,mo=Math.LN2;function rh(i){return i>>>=0,i===0?32:31-(ih(i)/mo|0)|0}var Yi=256,da=262144,qt=4194304;function Ki(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Wi(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var R=c&134217727;return R!==0?(c=R&~g,c!==0?m=Ki(c):(T&=R,T!==0?m=Ki(T):o||(o=R&~i,o!==0&&(m=Ki(o))))):(R=c&~g,R!==0?m=Ki(R):T!==0?m=Ki(T):o||(o=c&~i,o!==0&&(m=Ki(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function Ri(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Rm(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sh(){var i=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),i}function Qi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function ma(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Cm(i,s,o,c,m,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var R=i.entanglements,L=i.expirationTimes,ne=i.hiddenUpdates;for(o=T&~o;0<o;){var le=31-Lt(o),he=1<<le;R[le]=0,L[le]=-1;var re=ne[le];if(re!==null)for(ne[le]=null,le=0;le<re.length;le++){var oe=re[le];oe!==null&&(oe.lane&=-536870913)}o&=~he}c!==0&&pa(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~s))}function pa(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Lt(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function $l(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-Lt(o),m=1<<c;m&s|i[c]&s&&(i[c]|=s),o&=~m}}function Yl(i,s){var o=s&-s;return o=(o&42)!==0?1:ga(o),(o&(i.suspendedLanes|s))!==0?0:o}function ga(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Sr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ah(){var i=ie.p;return i!==0?i:(i=window.event,i===void 0?32:TE(i.type))}function Ci(i,s){var o=ie.p;try{return ie.p=i,s()}finally{ie.p=o}}var xi=Math.random().toString(36).slice(2),Ht="__reactFiber$"+xi,on="__reactProps$"+xi,Xi="__reactContainer$"+xi,po="__reactEvents$"+xi,xm="__reactListeners$"+xi,oh="__reactHandles$"+xi,lh="__reactResources$"+xi,Ji="__reactMarker$"+xi;function go(i){delete i[Ht],delete i[on],delete i[po],delete i[xm],delete i[oh]}function Zi(i){var s=i[Ht];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Xi]||o[Ht]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=rE(i);i!==null;){if(o=i[Ht])return o;i=rE(i)}return s}i=o,o=i.parentNode}return null}function ai(i){if(i=i[Ht]||i[Xi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Yn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function er(i){var s=i[lh];return s||(s=i[lh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Gt(i){i[Ji]=!0}var Kl=new Set,Wl={};function tr(i,s){nr(i,s),nr(i+"Capture",s)}function nr(i,s){for(Wl[i]=s,i=0;i<s.length;i++)Kl.add(s[i])}var Ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},Jl={};function uh(i){return Ue.call(Jl,i)?!0:Ue.call(Xl,i)?!1:Ql.test(i)?Jl[i]=!0:(Xl[i]=!0,!1)}function yo(i,s,o){if(uh(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Kn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function $t(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ls(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Zl(i,s,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ht(i){if(!i._valueTracker){var s=ls(i)?"checked":"value";i._valueTracker=Zl(i,s,""+i[s])}}function ya(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=ls(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function ir(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var va=/[\n"\\]/g;function Pn(i){return i.replace(va,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function vo(i,s,o,c,m,g,T,R){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ln(s)):i.value!==""+ln(s)&&(i.value=""+ln(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?eu(i,T,ln(s)):o!=null?eu(i,T,ln(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+ln(R):i.removeAttribute("name")}function ch(i,s,o,c,m,g,T,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){ht(i);return}o=o!=null?""+ln(o):"",s=s!=null?""+ln(s):o,R||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=R?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),ht(i)}function eu(i,s,o){s==="number"&&ir(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function us(i,s,o,c){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+ln(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function hh(i,s,o){if(s!=null&&(s=""+ln(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+ln(o):""}function cs(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(H(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=ln(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),ht(i)}function Vn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var fh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tu(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||fh.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function nu(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&tu(i,m,c)}else for(var g in s)s.hasOwnProperty(g)&&tu(i,g,s[g])}function _o(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(i){return hs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ii(){}var iu=null;function oi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var fs=null,rr=null;function _a(i){var s=ai(i);if(s&&(i=s.stateNode)){var o=i[on]||null;e:switch(i=s.stateNode,s.type){case"input":if(vo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Pn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var m=c[on]||null;if(!m)throw Error(r(90));vo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&ya(c)}break e;case"textarea":hh(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&us(i,!!o.multiple,s,!1)}}}var bo=!1;function ds(i,s,o){if(bo)return i(s,o);bo=!0;try{var c=i(s);return c}finally{if(bo=!1,(fs!==null||rr!==null)&&(of(),fs&&(s=fs,i=rr,rr=fs=null,_a(s),i)))for(s=0;s<i.length;s++)_a(i[s])}}function Di(i,s){var o=i.stateNode;if(o===null)return null;var c=o[on]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ta=!1;if(li)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{Ta=!1}var sr=null,ru=null,ba=null;function su(){if(ba)return ba;var i,s=ru,o=s.length,c,m="value"in sr?sr.value:sr.textContent,g=m.length;for(i=0;i<o&&s[i]===m[i];i++);var T=o-i;for(c=1;c<=T&&s[o-c]===m[g-c];c++);return ba=m.slice(i,1<c?1-c:void 0)}function Ea(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ar(){return!0}function ki(){return!1}function dn(i){function s(o,c,m,g,T){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(o=i[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ar:ki,this.isPropagationStopped=ki,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),s}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ar=dn(Rr),ms=v({},Rr,{view:0,detail:0}),au=dn(ms),ps,Eo,or,wo=v({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==or&&(or&&i.type==="mousemove"?(ps=i.screenX-or.screenX,Eo=i.screenY-or.screenY):Eo=ps=0,or=i),ps)},movementY:function(i){return"movementY"in i?i.movementY:Eo}}),ou=dn(wo),wa=v({},wo,{dataTransfer:0}),mh=dn(wa),ph=v({},ms,{relatedTarget:0}),Sa=dn(ph),lu=v({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),gh=dn(lu),So=v({},Rr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),yh=dn(So),vh=v({},Rr,{data:0}),lr=dn(vh),_h={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=bh[i])?!!s[i]:!1}function gs(){return Eh}var kn=v({},ms,{key:function(i){if(i.key){var s=_h[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ea(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Th[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(i){return i.type==="keypress"?Ea(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ea(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),wh=dn(kn),Sh=v({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cr=dn(Sh),f=v({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),_=dn(f),E=v({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=dn(E),J=v({},wo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),se=dn(J),_e=v({},Rr,{newState:0,oldState:0}),$e=dn(_e),Ut=[9,13,27,32],lt=li&&"CompositionEvent"in window,Rt=null;li&&"documentMode"in document&&(Rt=document.documentMode);var ui=li&&"TextEvent"in window&&!Rt,ur=li&&(!lt||Rt&&8<Rt&&11>=Rt),Mi=" ",Ni=!1;function Aa(i,s){switch(i){case"keyup":return Ut.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ao(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ro=!1;function dD(i,s){switch(i){case"compositionend":return Ao(s);case"keypress":return s.which!==32?null:(Ni=!0,Mi);case"textInput":return i=s.data,i===Mi&&Ni?null:i;default:return null}}function mD(i,s){if(Ro)return i==="compositionend"||!lt&&Aa(i,s)?(i=su(),ba=ru=sr=null,Ro=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ur&&s.locale!=="ko"?null:s.data;default:return null}}var pD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o_(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!pD[i.type]:s==="textarea"}function l_(i,s,o,c){fs?rr?rr.push(c):rr=[c]:fs=c,s=mf(s,"onChange"),0<s.length&&(o=new ar("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var uu=null,cu=null;function gD(i){Hb(i,0)}function Ah(i){var s=Yn(i);if(ya(s))return i}function u_(i,s){if(i==="change")return s}var c_=!1;if(li){var Im;if(li){var Dm="oninput"in document;if(!Dm){var h_=document.createElement("div");h_.setAttribute("oninput","return;"),Dm=typeof h_.oninput=="function"}Im=Dm}else Im=!1;c_=Im&&(!document.documentMode||9<document.documentMode)}function f_(){uu&&(uu.detachEvent("onpropertychange",d_),cu=uu=null)}function d_(i){if(i.propertyName==="value"&&Ah(cu)){var s=[];l_(s,cu,i,oi(i)),ds(gD,s)}}function yD(i,s,o){i==="focusin"?(f_(),uu=s,cu=o,uu.attachEvent("onpropertychange",d_)):i==="focusout"&&f_()}function vD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ah(cu)}function _D(i,s){if(i==="click")return Ah(s)}function TD(i,s){if(i==="input"||i==="change")return Ah(s)}function bD(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Wn=typeof Object.is=="function"?Object.is:bD;function hu(i,s){if(Wn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Ue.call(s,m)||!Wn(i[m],s[m]))return!1}return!0}function m_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function p_(i,s){var o=m_(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=m_(o)}}function g_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?g_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function y_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ir(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=ir(i.document)}return s}function km(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var ED=li&&"documentMode"in document&&11>=document.documentMode,Co=null,Mm=null,fu=null,Nm=!1;function v_(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Nm||Co==null||Co!==ir(c)||(c=Co,"selectionStart"in c&&km(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),fu&&hu(fu,c)||(fu=c,c=mf(Mm,"onSelect"),0<c.length&&(s=new ar("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=Co)))}function Ra(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var xo={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},Om={},__={};li&&(__=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Ca(i){if(Om[i])return Om[i];if(!xo[i])return i;var s=xo[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in __)return Om[i]=s[o];return i}var T_=Ca("animationend"),b_=Ca("animationiteration"),E_=Ca("animationstart"),wD=Ca("transitionrun"),SD=Ca("transitionstart"),AD=Ca("transitioncancel"),w_=Ca("transitionend"),S_=new Map,Pm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pm.push("scrollEnd");function Oi(i,s){S_.set(i,s),tr(s,[i])}var Rh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ci=[],Io=0,Vm=0;function Ch(){for(var i=Io,s=Vm=Io=0;s<i;){var o=ci[s];ci[s++]=null;var c=ci[s];ci[s++]=null;var m=ci[s];ci[s++]=null;var g=ci[s];if(ci[s++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}g!==0&&A_(o,m,g)}}function xh(i,s,o,c){ci[Io++]=i,ci[Io++]=s,ci[Io++]=o,ci[Io++]=c,Vm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Lm(i,s,o,c){return xh(i,s,o,c),Ih(i)}function xa(i,s){return xh(i,null,null,s),Ih(i)}function A_(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&s!==null&&(m=31-Lt(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=o|536870912),g):null}function Ih(i){if(50<Ou)throw Ou=0,$p=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Do={};function RD(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(i,s,o,c){return new RD(i,s,o,c)}function Um(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xr(i,s){var o=i.alternate;return o===null?(o=Qn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function R_(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Dh(i,s,o,c,m,g){var T=0;if(c=i,typeof i=="function")Um(i)&&(T=1);else if(typeof i=="string")T=k2(i,o,K.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Qn(31,o,s,m),i.elementType=D,i.lanes=g,i;case P:return Ia(o.children,m,g,s);case z:T=8,m|=24;break;case U:return i=Qn(12,o,s,m|2),i.elementType=U,i.lanes=g,i;case V:return i=Qn(13,o,s,m),i.elementType=V,i.lanes=g,i;case Z:return i=Qn(19,o,s,m),i.elementType=Z,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:T=10;break e;case j:T=9;break e;case fe:T=11;break e;case A:T=14;break e;case w:T=16,c=null;break e}T=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Qn(T,o,s,m),s.elementType=i,s.type=c,s.lanes=g,s}function Ia(i,s,o,c){return i=Qn(7,i,c,s),i.lanes=o,i}function jm(i,s,o){return i=Qn(6,i,null,s),i.lanes=o,i}function C_(i){var s=Qn(18,null,null,0);return s.stateNode=i,s}function zm(i,s,o){return s=Qn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var x_=new WeakMap;function hi(i,s){if(typeof i=="object"&&i!==null){var o=x_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Je(s)},x_.set(i,s),s)}return{value:i,source:s,stack:Je(s)}}var ko=[],Mo=0,kh=null,du=0,fi=[],di=0,ys=null,cr=1,hr="";function Ir(i,s){ko[Mo++]=du,ko[Mo++]=kh,kh=i,du=s}function I_(i,s,o){fi[di++]=cr,fi[di++]=hr,fi[di++]=ys,ys=i;var c=cr;i=hr;var m=32-Lt(c)-1;c&=~(1<<m),o+=1;var g=32-Lt(s)+m;if(30<g){var T=m-m%5;g=(c&(1<<T)-1).toString(32),c>>=T,m-=T,cr=1<<32-Lt(s)+m|o<<m|c,hr=g+i}else cr=1<<g|o<<m|c,hr=i}function Bm(i){i.return!==null&&(Ir(i,1),I_(i,1,0))}function Fm(i){for(;i===kh;)kh=ko[--Mo],ko[Mo]=null,du=ko[--Mo],ko[Mo]=null;for(;i===ys;)ys=fi[--di],fi[di]=null,hr=fi[--di],fi[di]=null,cr=fi[--di],fi[di]=null}function D_(i,s){fi[di++]=cr,fi[di++]=hr,fi[di++]=ys,cr=s.id,hr=s.overflow,ys=i}var mn=null,Et=null,rt=!1,vs=null,mi=!1,qm=Error(r(519));function _s(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mu(hi(s,i)),qm}function k_(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[Ht]=i,s[on]=c,o){case"dialog":Xe("cancel",s),Xe("close",s);break;case"iframe":case"object":case"embed":Xe("load",s);break;case"video":case"audio":for(o=0;o<Vu.length;o++)Xe(Vu[o],s);break;case"source":Xe("error",s);break;case"img":case"image":case"link":Xe("error",s),Xe("load",s);break;case"details":Xe("toggle",s);break;case"input":Xe("invalid",s),ch(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Xe("invalid",s);break;case"textarea":Xe("invalid",s),cs(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||Kb(s.textContent,o)?(c.popover!=null&&(Xe("beforetoggle",s),Xe("toggle",s)),c.onScroll!=null&&Xe("scroll",s),c.onScrollEnd!=null&&Xe("scrollend",s),c.onClick!=null&&(s.onclick=Ii),s=!0):s=!1,s||_s(i,!0)}function M_(i){for(mn=i.return;mn;)switch(mn.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:mn=mn.return}}function No(i){if(i!==mn)return!1;if(!rt)return M_(i),rt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||og(i.type,i.memoizedProps)),o=!o),o&&Et&&_s(i),M_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Et=iE(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Et=iE(i)}else s===27?(s=Et,Ns(i.type)?(i=fg,fg=null,Et=i):Et=s):Et=mn?gi(i.stateNode.nextSibling):null;return!0}function Da(){Et=mn=null,rt=!1}function Hm(){var i=vs;return i!==null&&(zn===null?zn=i:zn.push.apply(zn,i),vs=null),i}function mu(i){vs===null?vs=[i]:vs.push(i)}var Gm=F(null),ka=null,Dr=null;function Ts(i,s,o){Q(Gm,s._currentValue),s._currentValue=o}function kr(i){i._currentValue=Gm.current,ae(Gm)}function $m(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function Ym(i,s,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var T=m.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=m;for(var L=0;L<s.length;L++)if(R.context===s[L]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),$m(g.return,o,i),c||(T=null);break e}g=R.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(r(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),$m(T,o,i),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===i){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Oo(i,s,o,c){i=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var R=m.type;Wn(m.pendingProps.value,T.value)||(i!==null?i.push(R):i=[R])}}else if(m===pe.current){if(T=m.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Bu):i=[Bu])}m=m.return}i!==null&&Ym(s,i,o,c),s.flags|=262144}function Mh(i){for(i=i.firstContext;i!==null;){if(!Wn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ma(i){ka=i,Dr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function pn(i){return N_(ka,i)}function Nh(i,s){return ka===null&&Ma(i),N_(i,s)}function N_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Dr===null){if(i===null)throw Error(r(308));Dr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Dr=Dr.next=s;return o}var CD=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},xD=t.unstable_scheduleCallback,ID=t.unstable_NormalPriority,Yt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Km(){return{controller:new CD,data:new Map,refCount:0}}function pu(i){i.refCount--,i.refCount===0&&xD(ID,function(){i.controller.abort()})}var gu=null,Wm=0,Po=0,Vo=null;function DD(i,s){if(gu===null){var o=gu=[];Wm=0,Po=Jp(),Vo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Wm++,s.then(O_,O_),s}function O_(){if(--Wm===0&&gu!==null){Vo!==null&&(Vo.status="fulfilled");var i=gu;gu=null,Po=0,Vo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function kD(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var P_=$.S;$.S=function(i,s){vb=Dn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&DD(i,s),P_!==null&&P_(i,s)};var Na=F(null);function Qm(){var i=Na.current;return i!==null?i:_t.pooledCache}function Oh(i,s){s===null?Q(Na,Na.current):Q(Na,s.pool)}function V_(){var i=Qm();return i===null?null:{parent:Yt._currentValue,pool:i}}var Lo=Error(r(460)),Xm=Error(r(474)),Ph=Error(r(542)),Vh={then:function(){}};function L_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function U_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Ii,Ii),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,z_(i),i;default:if(typeof s.status=="string")s.then(Ii,Ii);else{if(i=_t,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,z_(i),i}throw Pa=s,Lo}}function Oa(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Pa=o,Lo):o}}var Pa=null;function j_(){if(Pa===null)throw Error(r(459));var i=Pa;return Pa=null,i}function z_(i){if(i===Lo||i===Ph)throw Error(r(483))}var Uo=null,yu=0;function Lh(i){var s=yu;return yu+=1,Uo===null&&(Uo=[]),U_(Uo,i,s)}function vu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Uh(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function B_(i){function s(W,G){if(i){var te=W.deletions;te===null?(W.deletions=[G],W.flags|=16):te.push(G)}}function o(W,G){if(!i)return null;for(;G!==null;)s(W,G),G=G.sibling;return null}function c(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function m(W,G){return W=xr(W,G),W.index=0,W.sibling=null,W}function g(W,G,te){return W.index=te,i?(te=W.alternate,te!==null?(te=te.index,te<G?(W.flags|=67108866,G):te):(W.flags|=67108866,G)):(W.flags|=1048576,G)}function T(W){return i&&W.alternate===null&&(W.flags|=67108866),W}function R(W,G,te,ue){return G===null||G.tag!==6?(G=jm(te,W.mode,ue),G.return=W,G):(G=m(G,te),G.return=W,G)}function L(W,G,te,ue){var Pe=te.type;return Pe===P?le(W,G,te.props.children,ue,te.key):G!==null&&(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===w&&Oa(Pe)===G.type)?(G=m(G,te.props),vu(G,te),G.return=W,G):(G=Dh(te.type,te.key,te.props,null,W.mode,ue),vu(G,te),G.return=W,G)}function ne(W,G,te,ue){return G===null||G.tag!==4||G.stateNode.containerInfo!==te.containerInfo||G.stateNode.implementation!==te.implementation?(G=zm(te,W.mode,ue),G.return=W,G):(G=m(G,te.children||[]),G.return=W,G)}function le(W,G,te,ue,Pe){return G===null||G.tag!==7?(G=Ia(te,W.mode,ue,Pe),G.return=W,G):(G=m(G,te),G.return=W,G)}function he(W,G,te){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=jm(""+G,W.mode,te),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return te=Dh(G.type,G.key,G.props,null,W.mode,te),vu(te,G),te.return=W,te;case M:return G=zm(G,W.mode,te),G.return=W,G;case w:return G=Oa(G),he(W,G,te)}if(H(G)||k(G))return G=Ia(G,W.mode,te,null),G.return=W,G;if(typeof G.then=="function")return he(W,Lh(G),te);if(G.$$typeof===B)return he(W,Nh(W,G),te);Uh(W,G)}return null}function re(W,G,te,ue){var Pe=G!==null?G.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Pe!==null?null:R(W,G,""+te,ue);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return te.key===Pe?L(W,G,te,ue):null;case M:return te.key===Pe?ne(W,G,te,ue):null;case w:return te=Oa(te),re(W,G,te,ue)}if(H(te)||k(te))return Pe!==null?null:le(W,G,te,ue,null);if(typeof te.then=="function")return re(W,G,Lh(te),ue);if(te.$$typeof===B)return re(W,G,Nh(W,te),ue);Uh(W,te)}return null}function oe(W,G,te,ue,Pe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return W=W.get(te)||null,R(G,W,""+ue,Pe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case x:return W=W.get(ue.key===null?te:ue.key)||null,L(G,W,ue,Pe);case M:return W=W.get(ue.key===null?te:ue.key)||null,ne(G,W,ue,Pe);case w:return ue=Oa(ue),oe(W,G,te,ue,Pe)}if(H(ue)||k(ue))return W=W.get(te)||null,le(G,W,ue,Pe,null);if(typeof ue.then=="function")return oe(W,G,te,Lh(ue),Pe);if(ue.$$typeof===B)return oe(W,G,te,Nh(G,ue),Pe);Uh(G,ue)}return null}function Re(W,G,te,ue){for(var Pe=null,at=null,Me=G,Ke=G=0,et=null;Me!==null&&Ke<te.length;Ke++){Me.index>Ke?(et=Me,Me=null):et=Me.sibling;var ot=re(W,Me,te[Ke],ue);if(ot===null){Me===null&&(Me=et);break}i&&Me&&ot.alternate===null&&s(W,Me),G=g(ot,G,Ke),at===null?Pe=ot:at.sibling=ot,at=ot,Me=et}if(Ke===te.length)return o(W,Me),rt&&Ir(W,Ke),Pe;if(Me===null){for(;Ke<te.length;Ke++)Me=he(W,te[Ke],ue),Me!==null&&(G=g(Me,G,Ke),at===null?Pe=Me:at.sibling=Me,at=Me);return rt&&Ir(W,Ke),Pe}for(Me=c(Me);Ke<te.length;Ke++)et=oe(Me,W,Ke,te[Ke],ue),et!==null&&(i&&et.alternate!==null&&Me.delete(et.key===null?Ke:et.key),G=g(et,G,Ke),at===null?Pe=et:at.sibling=et,at=et);return i&&Me.forEach(function(Us){return s(W,Us)}),rt&&Ir(W,Ke),Pe}function Le(W,G,te,ue){if(te==null)throw Error(r(151));for(var Pe=null,at=null,Me=G,Ke=G=0,et=null,ot=te.next();Me!==null&&!ot.done;Ke++,ot=te.next()){Me.index>Ke?(et=Me,Me=null):et=Me.sibling;var Us=re(W,Me,ot.value,ue);if(Us===null){Me===null&&(Me=et);break}i&&Me&&Us.alternate===null&&s(W,Me),G=g(Us,G,Ke),at===null?Pe=Us:at.sibling=Us,at=Us,Me=et}if(ot.done)return o(W,Me),rt&&Ir(W,Ke),Pe;if(Me===null){for(;!ot.done;Ke++,ot=te.next())ot=he(W,ot.value,ue),ot!==null&&(G=g(ot,G,Ke),at===null?Pe=ot:at.sibling=ot,at=ot);return rt&&Ir(W,Ke),Pe}for(Me=c(Me);!ot.done;Ke++,ot=te.next())ot=oe(Me,W,Ke,ot.value,ue),ot!==null&&(i&&ot.alternate!==null&&Me.delete(ot.key===null?Ke:ot.key),G=g(ot,G,Ke),at===null?Pe=ot:at.sibling=ot,at=ot);return i&&Me.forEach(function(F2){return s(W,F2)}),rt&&Ir(W,Ke),Pe}function vt(W,G,te,ue){if(typeof te=="object"&&te!==null&&te.type===P&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case x:e:{for(var Pe=te.key;G!==null;){if(G.key===Pe){if(Pe=te.type,Pe===P){if(G.tag===7){o(W,G.sibling),ue=m(G,te.props.children),ue.return=W,W=ue;break e}}else if(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===w&&Oa(Pe)===G.type){o(W,G.sibling),ue=m(G,te.props),vu(ue,te),ue.return=W,W=ue;break e}o(W,G);break}else s(W,G);G=G.sibling}te.type===P?(ue=Ia(te.props.children,W.mode,ue,te.key),ue.return=W,W=ue):(ue=Dh(te.type,te.key,te.props,null,W.mode,ue),vu(ue,te),ue.return=W,W=ue)}return T(W);case M:e:{for(Pe=te.key;G!==null;){if(G.key===Pe)if(G.tag===4&&G.stateNode.containerInfo===te.containerInfo&&G.stateNode.implementation===te.implementation){o(W,G.sibling),ue=m(G,te.children||[]),ue.return=W,W=ue;break e}else{o(W,G);break}else s(W,G);G=G.sibling}ue=zm(te,W.mode,ue),ue.return=W,W=ue}return T(W);case w:return te=Oa(te),vt(W,G,te,ue)}if(H(te))return Re(W,G,te,ue);if(k(te)){if(Pe=k(te),typeof Pe!="function")throw Error(r(150));return te=Pe.call(te),Le(W,G,te,ue)}if(typeof te.then=="function")return vt(W,G,Lh(te),ue);if(te.$$typeof===B)return vt(W,G,Nh(W,te),ue);Uh(W,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,G!==null&&G.tag===6?(o(W,G.sibling),ue=m(G,te),ue.return=W,W=ue):(o(W,G),ue=jm(te,W.mode,ue),ue.return=W,W=ue),T(W)):o(W,G)}return function(W,G,te,ue){try{yu=0;var Pe=vt(W,G,te,ue);return Uo=null,Pe}catch(Me){if(Me===Lo||Me===Ph)throw Me;var at=Qn(29,Me,null,W.mode);return at.lanes=ue,at.return=W,at}}}var Va=B_(!0),F_=B_(!1),bs=!1;function Jm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Es(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ws(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ut&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Ih(i),A_(i,null,o),s}return xh(i,c,s,o),Ih(i)}function _u(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,$l(i,o)}}function ep(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var tp=!1;function Tu(){if(tp){var i=Vo;if(i!==null)throw i}}function bu(i,s,o,c){tp=!1;var m=i.updateQueue;bs=!1;var g=m.firstBaseUpdate,T=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var L=R,ne=L.next;L.next=null,T===null?g=ne:T.next=ne,T=L;var le=i.alternate;le!==null&&(le=le.updateQueue,R=le.lastBaseUpdate,R!==T&&(R===null?le.firstBaseUpdate=ne:R.next=ne,le.lastBaseUpdate=L))}if(g!==null){var he=m.baseState;T=0,le=ne=L=null,R=g;do{var re=R.lane&-536870913,oe=re!==R.lane;if(oe?(Ze&re)===re:(c&re)===re){re!==0&&re===Po&&(tp=!0),le!==null&&(le=le.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Re=i,Le=R;re=s;var vt=o;switch(Le.tag){case 1:if(Re=Le.payload,typeof Re=="function"){he=Re.call(vt,he,re);break e}he=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Le.payload,re=typeof Re=="function"?Re.call(vt,he,re):Re,re==null)break e;he=v({},he,re);break e;case 2:bs=!0}}re=R.callback,re!==null&&(i.flags|=64,oe&&(i.flags|=8192),oe=m.callbacks,oe===null?m.callbacks=[re]:oe.push(re))}else oe={lane:re,tag:R.tag,payload:R.payload,callback:R.callback,next:null},le===null?(ne=le=oe,L=he):le=le.next=oe,T|=re;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;oe=R,R=oe.next,oe.next=null,m.lastBaseUpdate=oe,m.shared.pending=null}}while(!0);le===null&&(L=he),m.baseState=L,m.firstBaseUpdate=ne,m.lastBaseUpdate=le,g===null&&(m.shared.lanes=0),xs|=T,i.lanes=T,i.memoizedState=he}}function q_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function H_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)q_(o[i],s)}var jo=F(null),jh=F(0);function G_(i,s){i=zr,Q(jh,i),Q(jo,s),zr=i|s.baseLanes}function np(){Q(jh,zr),Q(jo,jo.current)}function ip(){zr=jh.current,ae(jo),ae(jh)}var Xn=F(null),pi=null;function Ss(i){var s=i.alternate;Q(jt,jt.current&1),Q(Xn,i),pi===null&&(s===null||jo.current!==null||s.memoizedState!==null)&&(pi=i)}function rp(i){Q(jt,jt.current),Q(Xn,i),pi===null&&(pi=i)}function $_(i){i.tag===22?(Q(jt,jt.current),Q(Xn,i),pi===null&&(pi=i)):As()}function As(){Q(jt,jt.current),Q(Xn,Xn.current)}function Jn(i){ae(Xn),pi===i&&(pi=null),ae(jt)}var jt=F(0);function zh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||cg(o)||hg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Mr=0,Ye=null,gt=null,Kt=null,Bh=!1,zo=!1,La=!1,Fh=0,Eu=0,Bo=null,MD=0;function Mt(){throw Error(r(321))}function sp(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Wn(i[o],s[o]))return!1;return!0}function ap(i,s,o,c,m,g){return Mr=g,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=i===null||i.memoizedState===null?IT:bp,La=!1,g=o(c,m),La=!1,zo&&(g=K_(s,o,c,m)),Y_(i),g}function Y_(i){$.H=Au;var s=gt!==null&&gt.next!==null;if(Mr=0,Kt=gt=Ye=null,Bh=!1,Eu=0,Bo=null,s)throw Error(r(300));i===null||Wt||(i=i.dependencies,i!==null&&Mh(i)&&(Wt=!0))}function K_(i,s,o,c){Ye=i;var m=0;do{if(zo&&(Bo=null),Eu=0,zo=!1,25<=m)throw Error(r(301));if(m+=1,Kt=gt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=DT,g=s(o,c)}while(zo);return g}function ND(){var i=$.H,s=i.useState()[0];return s=typeof s.then=="function"?wu(s):s,i=i.useState()[0],(gt!==null?gt.memoizedState:null)!==i&&(Ye.flags|=1024),s}function op(){var i=Fh!==0;return Fh=0,i}function lp(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function up(i){if(Bh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Bh=!1}Mr=0,Kt=gt=Ye=null,zo=!1,Eu=Fh=0,Bo=null}function Mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Ye.memoizedState=Kt=i:Kt=Kt.next=i,Kt}function zt(){if(gt===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=gt.next;var s=Kt===null?Ye.memoizedState:Kt.next;if(s!==null)Kt=s,gt=i;else{if(i===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));gt=i,i={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Kt===null?Ye.memoizedState=Kt=i:Kt=Kt.next=i}return Kt}function qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wu(i){var s=Eu;return Eu+=1,Bo===null&&(Bo=[]),i=U_(Bo,i,s),s=Ye,(Kt===null?s.memoizedState:Kt.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?IT:bp),i}function Hh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return wu(i);if(i.$$typeof===B)return pn(i)}throw Error(r(438,String(i)))}function cp(i){var s=null,o=Ye.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ye.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=qh(),Ye.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=N;return s.index++,o}function Nr(i,s){return typeof s=="function"?s(i):s}function Gh(i){var s=zt();return hp(s,gt,i)}function hp(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var T=m.next;m.next=g.next,g.next=T}s.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var R=T=null,L=null,ne=s,le=!1;do{var he=ne.lane&-536870913;if(he!==ne.lane?(Ze&he)===he:(Mr&he)===he){var re=ne.revertLane;if(re===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),he===Po&&(le=!0);else if((Mr&re)===re){ne=ne.next,re===Po&&(le=!0);continue}else he={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},L===null?(R=L=he,T=g):L=L.next=he,Ye.lanes|=re,xs|=re;he=ne.action,La&&o(g,he),g=ne.hasEagerState?ne.eagerState:o(g,he)}else re={lane:he,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},L===null?(R=L=re,T=g):L=L.next=re,Ye.lanes|=he,xs|=he;ne=ne.next}while(ne!==null&&ne!==s);if(L===null?T=g:L.next=R,!Wn(g,i.memoizedState)&&(Wt=!0,le&&(o=Vo,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=L,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function fp(i){var s=zt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do g=i(g,T.action),T=T.next;while(T!==m);Wn(g,s.memoizedState)||(Wt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function W_(i,s,o){var c=Ye,m=zt(),g=rt;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var T=!Wn((gt||m).memoizedState,o);if(T&&(m.memoizedState=o,Wt=!0),m=m.queue,pp(J_.bind(null,c,m,i),[i]),m.getSnapshot!==s||T||Kt!==null&&Kt.memoizedState.tag&1){if(c.flags|=2048,Fo(9,{destroy:void 0},X_.bind(null,c,m,o,s),null),_t===null)throw Error(r(349));g||(Mr&127)!==0||Q_(c,s,o)}return o}function Q_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ye.updateQueue,s===null?(s=qh(),Ye.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function X_(i,s,o,c){s.value=o,s.getSnapshot=c,Z_(s)&&eT(i)}function J_(i,s,o){return o(function(){Z_(s)&&eT(i)})}function Z_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Wn(i,o)}catch{return!0}}function eT(i){var s=xa(i,2);s!==null&&Bn(s,i,2)}function dp(i){var s=Mn();if(typeof i=="function"){var o=i;if(i=o(),La){si(!0);try{o()}finally{si(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:i},s}function tT(i,s,o,c){return i.baseState=o,hp(i,gt,typeof c=="function"?c:Nr)}function OD(i,s,o,c,m){if(Kh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};$.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,nT(s,g)):(g.next=o.next,s.pending=o.next=g)}}function nT(i,s){var o=s.action,c=s.payload,m=i.state;if(s.isTransition){var g=$.T,T={};$.T=T;try{var R=o(m,c),L=$.S;L!==null&&L(T,R),iT(i,s,R)}catch(ne){mp(i,s,ne)}finally{g!==null&&T.types!==null&&(g.types=T.types),$.T=g}}else try{g=o(m,c),iT(i,s,g)}catch(ne){mp(i,s,ne)}}function iT(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){rT(i,s,c)},function(c){return mp(i,s,c)}):rT(i,s,o)}function rT(i,s,o){s.status="fulfilled",s.value=o,sT(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,nT(i,o)))}function mp(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,sT(s),s=s.next;while(s!==c)}i.action=null}function sT(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function aT(i,s){return s}function oT(i,s){if(rt){var o=_t.formState;if(o!==null){e:{var c=Ye;if(rt){if(Et){t:{for(var m=Et,g=mi;m.nodeType!==8;){if(!g){m=null;break t}if(m=gi(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Et=gi(m.nextSibling),c=m.data==="F!";break e}}_s(c)}c=!1}c&&(s=o[0])}}return o=Mn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aT,lastRenderedState:s},o.queue=c,o=RT.bind(null,Ye,c),c.dispatch=o,c=dp(!1),g=Tp.bind(null,Ye,!1,c.queue),c=Mn(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,o=OD.bind(null,Ye,m,g,o),m.dispatch=o,c.memoizedState=i,[s,o,!1]}function lT(i){var s=zt();return uT(s,gt,i)}function uT(i,s,o){if(s=hp(i,s,aT)[0],i=Gh(Nr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=wu(s)}catch(T){throw T===Lo?Ph:T}else c=s;s=zt();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&(Ye.flags|=2048,Fo(9,{destroy:void 0},PD.bind(null,m,o),null)),[c,g,i]}function PD(i,s){i.action=s}function cT(i){var s=zt(),o=gt;if(o!==null)return uT(s,o,i);zt(),s=s.memoizedState,o=zt();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function Fo(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=Ye.updateQueue,s===null&&(s=qh(),Ye.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function hT(){return zt().memoizedState}function $h(i,s,o,c){var m=Mn();Ye.flags|=i,m.memoizedState=Fo(1|s,{destroy:void 0},o,c===void 0?null:c)}function Yh(i,s,o,c){var m=zt();c=c===void 0?null:c;var g=m.memoizedState.inst;gt!==null&&c!==null&&sp(c,gt.memoizedState.deps)?m.memoizedState=Fo(s,g,o,c):(Ye.flags|=i,m.memoizedState=Fo(1|s,g,o,c))}function fT(i,s){$h(8390656,8,i,s)}function pp(i,s){Yh(2048,8,i,s)}function VD(i){Ye.flags|=4;var s=Ye.updateQueue;if(s===null)s=qh(),Ye.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function dT(i){var s=zt().memoizedState;return VD({ref:s,nextImpl:i}),function(){if((ut&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function mT(i,s){return Yh(4,2,i,s)}function pT(i,s){return Yh(4,4,i,s)}function gT(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function yT(i,s,o){o=o!=null?o.concat([i]):null,Yh(4,4,gT.bind(null,s,i),o)}function gp(){}function vT(i,s){var o=zt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&sp(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function _T(i,s){var o=zt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&sp(s,c[1]))return c[0];if(c=i(),La){si(!0);try{i()}finally{si(!1)}}return o.memoizedState=[c,s],c}function yp(i,s,o){return o===void 0||(Mr&1073741824)!==0&&(Ze&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=Tb(),Ye.lanes|=i,xs|=i,o)}function TT(i,s,o,c){return Wn(o,s)?o:jo.current!==null?(i=yp(i,o,c),Wn(i,s)||(Wt=!0),i):(Mr&42)===0||(Mr&1073741824)!==0&&(Ze&261930)===0?(Wt=!0,i.memoizedState=o):(i=Tb(),Ye.lanes|=i,xs|=i,s)}function bT(i,s,o,c,m){var g=ie.p;ie.p=g!==0&&8>g?g:8;var T=$.T,R={};$.T=R,Tp(i,!1,s,o);try{var L=m(),ne=$.S;if(ne!==null&&ne(R,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var le=kD(L,c);Su(i,s,le,ti(i))}else Su(i,s,c,ti(i))}catch(he){Su(i,s,{then:function(){},status:"rejected",reason:he},ti())}finally{ie.p=g,T!==null&&R.types!==null&&(T.types=R.types),$.T=T}}function LD(){}function vp(i,s,o,c){if(i.tag!==5)throw Error(r(476));var m=ET(i).queue;bT(i,m,s,ee,o===null?LD:function(){return wT(i),o(c)})}function ET(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:ee},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function wT(i){var s=ET(i);s.next===null&&(s=i.alternate.memoizedState),Su(i,s.next.queue,{},ti())}function _p(){return pn(Bu)}function ST(){return zt().memoizedState}function AT(){return zt().memoizedState}function UD(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=ti();i=Es(o);var c=ws(s,i,o);c!==null&&(Bn(c,s,o),_u(c,s,o)),s={cache:Km()},i.payload=s;return}s=s.return}}function jD(i,s,o){var c=ti();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Kh(i)?CT(s,o):(o=Lm(i,s,o,c),o!==null&&(Bn(o,i,c),xT(o,s,c)))}function RT(i,s,o){var c=ti();Su(i,s,o,c)}function Su(i,s,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Kh(i))CT(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,R=g(T,o);if(m.hasEagerState=!0,m.eagerState=R,Wn(R,T))return xh(i,s,m,0),_t===null&&Ch(),!1}catch{}if(o=Lm(i,s,m,c),o!==null)return Bn(o,i,c),xT(o,s,c),!0}return!1}function Tp(i,s,o,c){if(c={lane:2,revertLane:Jp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Kh(i)){if(s)throw Error(r(479))}else s=Lm(i,o,c,2),s!==null&&Bn(s,i,2)}function Kh(i){var s=i.alternate;return i===Ye||s!==null&&s===Ye}function CT(i,s){zo=Bh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function xT(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,$l(i,o)}}var Au={readContext:pn,use:Hh,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};Au.useEffectEvent=Mt;var IT={readContext:pn,use:Hh,useCallback:function(i,s){return Mn().memoizedState=[i,s===void 0?null:s],i},useContext:pn,useEffect:fT,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,$h(4194308,4,gT.bind(null,s,i),o)},useLayoutEffect:function(i,s){return $h(4194308,4,i,s)},useInsertionEffect:function(i,s){$h(4,2,i,s)},useMemo:function(i,s){var o=Mn();s=s===void 0?null:s;var c=i();if(La){si(!0);try{i()}finally{si(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=Mn();if(o!==void 0){var m=o(s);if(La){si(!0);try{o(s)}finally{si(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=jD.bind(null,Ye,i),[c.memoizedState,i]},useRef:function(i){var s=Mn();return i={current:i},s.memoizedState=i},useState:function(i){i=dp(i);var s=i.queue,o=RT.bind(null,Ye,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:gp,useDeferredValue:function(i,s){var o=Mn();return yp(o,i,s)},useTransition:function(){var i=dp(!1);return i=bT.bind(null,Ye,i.queue,!0,!1),Mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=Ye,m=Mn();if(rt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),_t===null)throw Error(r(349));(Ze&127)!==0||Q_(c,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,fT(J_.bind(null,c,g,i),[i]),c.flags|=2048,Fo(9,{destroy:void 0},X_.bind(null,c,g,o,s),null),o},useId:function(){var i=Mn(),s=_t.identifierPrefix;if(rt){var o=hr,c=cr;o=(c&~(1<<32-Lt(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Fh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=MD++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:_p,useFormState:oT,useActionState:oT,useOptimistic:function(i){var s=Mn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Tp.bind(null,Ye,!0,o),o.dispatch=s,[i,s]},useMemoCache:cp,useCacheRefresh:function(){return Mn().memoizedState=UD.bind(null,Ye)},useEffectEvent:function(i){var s=Mn(),o={impl:i};return s.memoizedState=o,function(){if((ut&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},bp={readContext:pn,use:Hh,useCallback:vT,useContext:pn,useEffect:pp,useImperativeHandle:yT,useInsertionEffect:mT,useLayoutEffect:pT,useMemo:_T,useReducer:Gh,useRef:hT,useState:function(){return Gh(Nr)},useDebugValue:gp,useDeferredValue:function(i,s){var o=zt();return TT(o,gt.memoizedState,i,s)},useTransition:function(){var i=Gh(Nr)[0],s=zt().memoizedState;return[typeof i=="boolean"?i:wu(i),s]},useSyncExternalStore:W_,useId:ST,useHostTransitionStatus:_p,useFormState:lT,useActionState:lT,useOptimistic:function(i,s){var o=zt();return tT(o,gt,i,s)},useMemoCache:cp,useCacheRefresh:AT};bp.useEffectEvent=dT;var DT={readContext:pn,use:Hh,useCallback:vT,useContext:pn,useEffect:pp,useImperativeHandle:yT,useInsertionEffect:mT,useLayoutEffect:pT,useMemo:_T,useReducer:fp,useRef:hT,useState:function(){return fp(Nr)},useDebugValue:gp,useDeferredValue:function(i,s){var o=zt();return gt===null?yp(o,i,s):TT(o,gt.memoizedState,i,s)},useTransition:function(){var i=fp(Nr)[0],s=zt().memoizedState;return[typeof i=="boolean"?i:wu(i),s]},useSyncExternalStore:W_,useId:ST,useHostTransitionStatus:_p,useFormState:cT,useActionState:cT,useOptimistic:function(i,s){var o=zt();return gt!==null?tT(o,gt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:cp,useCacheRefresh:AT};DT.useEffectEvent=dT;function Ep(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var wp={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=ti(),m=Es(c);m.payload=s,o!=null&&(m.callback=o),s=ws(i,m,c),s!==null&&(Bn(s,i,c),_u(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=ti(),m=Es(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=ws(i,m,c),s!==null&&(Bn(s,i,c),_u(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=ti(),c=Es(o);c.tag=2,s!=null&&(c.callback=s),s=ws(i,c,o),s!==null&&(Bn(s,i,o),_u(s,i,o))}};function kT(i,s,o,c,m,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):s.prototype&&s.prototype.isPureReactComponent?!hu(o,c)||!hu(m,g):!0}function MT(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&wp.enqueueReplaceState(s,s.state,null)}function Ua(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function NT(i){Rh(i)}function OT(i){console.error(i)}function PT(i){Rh(i)}function Wh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function VT(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Sp(i,s,o){return o=Es(o),o.tag=3,o.payload={element:null},o.callback=function(){Wh(i,s)},o}function LT(i){return i=Es(i),i.tag=3,i}function UT(i,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){VT(s,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){VT(s,o,c),typeof m!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function zD(i,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Oo(s,o,m,!0),o=Xn.current,o!==null){switch(o.tag){case 31:case 13:return pi===null?lf():o.alternate===null&&Nt===0&&(Nt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Vh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Wp(i,c,m)),!1;case 22:return o.flags|=65536,c===Vh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Wp(i,c,m)),!1}throw Error(r(435,o.tag))}return Wp(i,c,m),lf(),!1}if(rt)return s=Xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==qm&&(i=Error(r(422),{cause:c}),mu(hi(i,o)))):(c!==qm&&(s=Error(r(423),{cause:c}),mu(hi(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=hi(c,o),m=Sp(i.stateNode,c,m),ep(i,m),Nt!==4&&(Nt=2)),!1;var g=Error(r(520),{cause:c});if(g=hi(g,o),Nu===null?Nu=[g]:Nu.push(g),Nt!==4&&(Nt=2),s===null)return!0;c=hi(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Sp(o.stateNode,c,i),ep(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Is===null||!Is.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=LT(m),UT(m,i,o,c),ep(o,m),!1}o=o.return}while(o!==null);return!1}var Ap=Error(r(461)),Wt=!1;function gn(i,s,o,c){s.child=i===null?F_(s,null,o,c):Va(s,i.child,o,c)}function jT(i,s,o,c,m){o=o.render;var g=s.ref;if("ref"in c){var T={};for(var R in c)R!=="ref"&&(T[R]=c[R])}else T=c;return Ma(s),c=ap(i,s,o,T,g,m),R=op(),i!==null&&!Wt?(lp(i,s,m),Or(i,s,m)):(rt&&R&&Bm(s),s.flags|=1,gn(i,s,c,m),s.child)}function zT(i,s,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!Um(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,BT(i,s,g,c,m)):(i=Dh(o.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Np(i,m)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:hu,o(T,c)&&i.ref===s.ref)return Or(i,s,m)}return s.flags|=1,i=xr(g,c),i.ref=s.ref,i.return=s,s.child=i}function BT(i,s,o,c,m){if(i!==null){var g=i.memoizedProps;if(hu(g,c)&&i.ref===s.ref)if(Wt=!1,s.pendingProps=c=g,Np(i,m))(i.flags&131072)!==0&&(Wt=!0);else return s.lanes=i.lanes,Or(i,s,m)}return Rp(i,s,o,c,m)}function FT(i,s,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=s.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,s.child=null;return qT(i,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Oh(s,g!==null?g.cachePool:null),g!==null?G_(s,g):np(),$_(s);else return c=s.lanes=536870912,qT(i,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Oh(s,g.cachePool),G_(s,g),As(),s.memoizedState=null):(i!==null&&Oh(s,null),np(),As());return gn(i,s,m,o),s.child}function Ru(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function qT(i,s,o,c,m){var g=Qm();return g=g===null?null:{parent:Yt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&Oh(s,null),np(),$_(s),i!==null&&Oo(i,s,c,!0),s.childLanes=m,null}function Qh(i,s){return s=Jh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function HT(i,s,o){return Va(s,i.child,null,o),i=Qh(s,s.pendingProps),i.flags|=2,Jn(s),s.memoizedState=null,i}function BD(i,s,o){var c=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(rt){if(c.mode==="hidden")return i=Qh(s,c),s.lanes=536870912,Ru(null,i);if(rp(s),(i=Et)?(i=nE(i,mi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ys!==null?{id:cr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},o=C_(i),o.return=s,s.child=o,mn=s,Et=null)):i=null,i===null)throw _s(s);return s.lanes=536870912,null}return Qh(s,c)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(rp(s),m)if(s.flags&256)s.flags&=-257,s=HT(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Wt||Oo(i,s,o,!1),m=(o&i.childLanes)!==0,Wt||m){if(c=_t,c!==null&&(T=Yl(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,xa(i,T),Bn(c,i,T),Ap;lf(),s=HT(i,s,o)}else i=g.treeContext,Et=gi(T.nextSibling),mn=s,rt=!0,vs=null,mi=!1,i!==null&&D_(s,i),s=Qh(s,c),s.flags|=4096;return s}return i=xr(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Xh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Rp(i,s,o,c,m){return Ma(s),o=ap(i,s,o,c,void 0,m),c=op(),i!==null&&!Wt?(lp(i,s,m),Or(i,s,m)):(rt&&c&&Bm(s),s.flags|=1,gn(i,s,o,m),s.child)}function GT(i,s,o,c,m,g){return Ma(s),s.updateQueue=null,o=K_(s,c,o,m),Y_(i),c=op(),i!==null&&!Wt?(lp(i,s,g),Or(i,s,g)):(rt&&c&&Bm(s),s.flags|=1,gn(i,s,o,g),s.child)}function $T(i,s,o,c,m){if(Ma(s),s.stateNode===null){var g=Do,T=o.contextType;typeof T=="object"&&T!==null&&(g=pn(T)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=wp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Jm(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?pn(T):Do,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Ep(s,o,T,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&wp.enqueueReplaceState(g,g.state,null),bu(s,c,g,m),Tu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var R=s.memoizedProps,L=Ua(o,R);g.props=L;var ne=g.context,le=o.contextType;T=Do,typeof le=="object"&&le!==null&&(T=pn(le));var he=o.getDerivedStateFromProps;le=typeof he=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,le||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||ne!==T)&&MT(s,g,c,T),bs=!1;var re=s.memoizedState;g.state=re,bu(s,c,g,m),Tu(),ne=s.memoizedState,R||re!==ne||bs?(typeof he=="function"&&(Ep(s,o,he,c),ne=s.memoizedState),(L=bs||kT(s,o,L,c,re,ne,T))?(le||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=ne),g.props=c,g.state=ne,g.context=T,c=L):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Zm(i,s),T=s.memoizedProps,le=Ua(o,T),g.props=le,he=s.pendingProps,re=g.context,ne=o.contextType,L=Do,typeof ne=="object"&&ne!==null&&(L=pn(ne)),R=o.getDerivedStateFromProps,(ne=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==he||re!==L)&&MT(s,g,c,L),bs=!1,re=s.memoizedState,g.state=re,bu(s,c,g,m),Tu();var oe=s.memoizedState;T!==he||re!==oe||bs||i!==null&&i.dependencies!==null&&Mh(i.dependencies)?(typeof R=="function"&&(Ep(s,o,R,c),oe=s.memoizedState),(le=bs||kT(s,o,le,c,re,oe,L)||i!==null&&i.dependencies!==null&&Mh(i.dependencies))?(ne||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,oe,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,oe,L)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=oe),g.props=c,g.state=oe,g.context=L,c=le):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,Xh(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=Va(s,i.child,null,m),s.child=Va(s,null,o,m)):gn(i,s,o,m),s.memoizedState=g.state,i=s.child):i=Or(i,s,m),i}function YT(i,s,o,c){return Da(),s.flags|=256,gn(i,s,o,c),s.child}var Cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xp(i){return{baseLanes:i,cachePool:V_()}}function Ip(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=ei),i}function KT(i,s,o){var c=s.pendingProps,m=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(jt.current&2)!==0),T&&(m=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(rt){if(m?Ss(s):As(),(i=Et)?(i=nE(i,mi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ys!==null?{id:cr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},o=C_(i),o.return=s,s.child=o,mn=s,Et=null)):i=null,i===null)throw _s(s);return hg(i)?s.lanes=32:s.lanes=536870912,null}var R=c.children;return c=c.fallback,m?(As(),m=s.mode,R=Jh({mode:"hidden",children:R},m),c=Ia(c,m,o,null),R.return=s,c.return=s,R.sibling=c,s.child=R,c=s.child,c.memoizedState=xp(o),c.childLanes=Ip(i,T,o),s.memoizedState=Cp,Ru(null,c)):(Ss(s),Dp(s,R))}var L=i.memoizedState;if(L!==null&&(R=L.dehydrated,R!==null)){if(g)s.flags&256?(Ss(s),s.flags&=-257,s=kp(i,s,o)):s.memoizedState!==null?(As(),s.child=i.child,s.flags|=128,s=null):(As(),R=c.fallback,m=s.mode,c=Jh({mode:"visible",children:c.children},m),R=Ia(R,m,o,null),R.flags|=2,c.return=s,R.return=s,c.sibling=R,s.child=c,Va(s,i.child,null,o),c=s.child,c.memoizedState=xp(o),c.childLanes=Ip(i,T,o),s.memoizedState=Cp,s=Ru(null,c));else if(Ss(s),hg(R)){if(T=R.nextSibling&&R.nextSibling.dataset,T)var ne=T.dgst;T=ne,c=Error(r(419)),c.stack="",c.digest=T,mu({value:c,source:null,stack:null}),s=kp(i,s,o)}else if(Wt||Oo(i,s,o,!1),T=(o&i.childLanes)!==0,Wt||T){if(T=_t,T!==null&&(c=Yl(T,o),c!==0&&c!==L.retryLane))throw L.retryLane=c,xa(i,c),Bn(T,i,c),Ap;cg(R)||lf(),s=kp(i,s,o)}else cg(R)?(s.flags|=192,s.child=i.child,s=null):(i=L.treeContext,Et=gi(R.nextSibling),mn=s,rt=!0,vs=null,mi=!1,i!==null&&D_(s,i),s=Dp(s,c.children),s.flags|=4096);return s}return m?(As(),R=c.fallback,m=s.mode,L=i.child,ne=L.sibling,c=xr(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,ne!==null?R=xr(ne,R):(R=Ia(R,m,o,null),R.flags|=2),R.return=s,c.return=s,c.sibling=R,s.child=c,Ru(null,c),c=s.child,R=i.child.memoizedState,R===null?R=xp(o):(m=R.cachePool,m!==null?(L=Yt._currentValue,m=m.parent!==L?{parent:L,pool:L}:m):m=V_(),R={baseLanes:R.baseLanes|o,cachePool:m}),c.memoizedState=R,c.childLanes=Ip(i,T,o),s.memoizedState=Cp,Ru(i.child,c)):(Ss(s),o=i.child,i=o.sibling,o=xr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=o,s.memoizedState=null,o)}function Dp(i,s){return s=Jh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Jh(i,s){return i=Qn(22,i,null,s),i.lanes=0,i}function kp(i,s,o){return Va(s,i.child,null,o),i=Dp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function WT(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),$m(i.return,s,o)}function Mp(i,s,o,c,m,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=m,T.treeForkCount=g)}function QT(i,s,o){var c=s.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var T=jt.current,R=(T&2)!==0;if(R?(T=T&1|2,s.flags|=128):T&=1,Q(jt,T),gn(i,s,c,o),c=rt?du:0,!R&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&WT(i,o,s);else if(i.tag===19)WT(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&zh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Mp(s,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&zh(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Mp(s,!0,o,null,g,c);break;case"together":Mp(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Or(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),xs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Oo(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=xr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=xr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Np(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Mh(i)))}function FD(i,s,o){switch(s.tag){case 3:me(s,s.stateNode.containerInfo),Ts(s,Yt,i.memoizedState.cache),Da();break;case 27:case 5:Ge(s);break;case 4:me(s,s.stateNode.containerInfo);break;case 10:Ts(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,rp(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ss(s),s.flags|=128,null):(o&s.child.childLanes)!==0?KT(i,s,o):(Ss(s),i=Or(i,s,o),i!==null?i.sibling:null);Ss(s);break;case 19:var m=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Oo(i,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return QT(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Q(jt,jt.current),c)break;return null;case 22:return s.lanes=0,FT(i,s,o,s.pendingProps);case 24:Ts(s,Yt,i.memoizedState.cache)}return Or(i,s,o)}function XT(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Wt=!0;else{if(!Np(i,o)&&(s.flags&128)===0)return Wt=!1,FD(i,s,o);Wt=(i.flags&131072)!==0}else Wt=!1,rt&&(s.flags&1048576)!==0&&I_(s,du,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=Oa(s.elementType),s.type=i,typeof i=="function")Um(i)?(c=Ua(i,c),s.tag=1,s=$T(null,s,i,c,o)):(s.tag=0,s=Rp(null,s,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===fe){s.tag=11,s=jT(null,s,i,c,o);break e}else if(m===A){s.tag=14,s=zT(null,s,i,c,o);break e}}throw s=Y(i)||i,Error(r(306,s,""))}}return s;case 0:return Rp(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=Ua(c,s.pendingProps),$T(i,s,c,m,o);case 3:e:{if(me(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;m=g.element,Zm(i,s),bu(s,c,null,o);var T=s.memoizedState;if(c=T.cache,Ts(s,Yt,c),c!==g.cache&&Ym(s,[Yt],o,!0),Tu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=YT(i,s,c,o);break e}else if(c!==m){m=hi(Error(r(424)),s),mu(m),s=YT(i,s,c,o);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Et=gi(i.firstChild),mn=s,rt=!0,vs=null,mi=!0,o=F_(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Da(),c===m){s=Or(i,s,o);break e}gn(i,s,c,o)}s=s.child}return s;case 26:return Xh(i,s),i===null?(o=lE(s.type,null,s.pendingProps,null))?s.memoizedState=o:rt||(o=s.type,i=s.pendingProps,c=pf(ge.current).createElement(o),c[Ht]=s,c[on]=i,yn(c,o,i),Gt(c),s.stateNode=c):s.memoizedState=lE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ge(s),i===null&&rt&&(c=s.stateNode=sE(s.type,s.pendingProps,ge.current),mn=s,mi=!0,m=Et,Ns(s.type)?(fg=m,Et=gi(c.firstChild)):Et=m),gn(i,s,s.pendingProps.children,o),Xh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&rt&&((m=c=Et)&&(c=v2(c,s.type,s.pendingProps,mi),c!==null?(s.stateNode=c,mn=s,Et=gi(c.firstChild),mi=!1,m=!0):m=!1),m||_s(s)),Ge(s),m=s.type,g=s.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,og(m,g)?c=null:T!==null&&og(m,T)&&(s.flags|=32),s.memoizedState!==null&&(m=ap(i,s,ND,null,null,o),Bu._currentValue=m),Xh(i,s),gn(i,s,c,o),s.child;case 6:return i===null&&rt&&((i=o=Et)&&(o=_2(o,s.pendingProps,mi),o!==null?(s.stateNode=o,mn=s,Et=null,i=!0):i=!1),i||_s(s)),null;case 13:return KT(i,s,o);case 4:return me(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Va(s,null,c,o):gn(i,s,c,o),s.child;case 11:return jT(i,s,s.type,s.pendingProps,o);case 7:return gn(i,s,s.pendingProps,o),s.child;case 8:return gn(i,s,s.pendingProps.children,o),s.child;case 12:return gn(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Ts(s,s.type,c.value),gn(i,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Ma(s),m=pn(m),c=c(m),s.flags|=1,gn(i,s,c,o),s.child;case 14:return zT(i,s,s.type,s.pendingProps,o);case 15:return BT(i,s,s.type,s.pendingProps,o);case 19:return QT(i,s,o);case 31:return BD(i,s,o);case 22:return FT(i,s,o,s.pendingProps);case 24:return Ma(s),c=pn(Yt),i===null?(m=Qm(),m===null&&(m=_t,g=Km(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:c,cache:m},Jm(s),Ts(s,Yt,m)):((i.lanes&o)!==0&&(Zm(i,s),bu(s,null,null,o),Tu()),m=i.memoizedState,g=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Ts(s,Yt,c)):(c=g.cache,Ts(s,Yt,c),c!==m.cache&&Ym(s,[Yt],o,!0))),gn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Pr(i){i.flags|=4}function Op(i,s,o,c,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(Sb())i.flags|=8192;else throw Pa=Vh,Xm}else i.flags&=-16777217}function JT(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!dE(s))if(Sb())i.flags|=8192;else throw Pa=Vh,Xm}function Zh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?sh():536870912,i.lanes|=s,$o|=s)}function Cu(i,s){if(!rt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function wt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function qD(i,s,o){var c=s.pendingProps;switch(Fm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return wt(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),kr(Yt),we(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(No(s)?Pr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hm())),wt(s),null;case 26:var m=s.type,g=s.memoizedState;return i===null?(Pr(s),g!==null?(wt(s),JT(s,g)):(wt(s),Op(s,m,null,c,o))):g?g!==i.memoizedState?(Pr(s),wt(s),JT(s,g)):(wt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&Pr(s),wt(s),Op(s,m,i,c,o)),null;case 27:if(Ne(s),o=ge.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Pr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return wt(s),null}i=K.current,No(s)?k_(s):(i=sE(m,c,o),s.stateNode=i,Pr(s))}return wt(s),null;case 5:if(Ne(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Pr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return wt(s),null}if(g=K.current,No(s))k_(s);else{var T=pf(ge.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(m,{is:c.is}):T.createElement(m)}}g[Ht]=s,g[on]=c;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=g;e:switch(yn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Pr(s)}}return wt(s),Op(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Pr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=ge.current,No(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,m=mn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Ht]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Kb(i.nodeValue,o)),i||_s(s,!0)}else i=pf(i).createTextNode(c),i[Ht]=s,s.stateNode=i}return wt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(c=No(s),o!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Ht]=s}else Da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),i=!1}else o=Hm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Jn(s),s):(Jn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return wt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=No(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Ht]=s}else Da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),m=!1}else m=Hm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Jn(s),s):(Jn(s),null)}return Jn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),Zh(s,s.updateQueue),wt(s),null);case 4:return we(),i===null&&ng(s.stateNode.containerInfo),wt(s),null;case 10:return kr(s.type),wt(s),null;case 19:if(ae(jt),c=s.memoizedState,c===null)return wt(s),null;if(m=(s.flags&128)!==0,g=c.rendering,g===null)if(m)Cu(c,!1);else{if(Nt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=zh(i),g!==null){for(s.flags|=128,Cu(c,!1),i=g.updateQueue,s.updateQueue=i,Zh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)R_(o,i),o=o.sibling;return Q(jt,jt.current&1|2),rt&&Ir(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&Dn()>sf&&(s.flags|=128,m=!0,Cu(c,!1),s.lanes=4194304)}else{if(!m)if(i=zh(g),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,Zh(s,i),Cu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!rt)return wt(s),null}else 2*Dn()-c.renderingStartTime>sf&&o!==536870912&&(s.flags|=128,m=!0,Cu(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(i=c.last,i!==null?i.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Dn(),i.sibling=null,o=jt.current,Q(jt,m?o&1|2:o&1),rt&&Ir(s,c.treeForkCount),i):(wt(s),null);case 22:case 23:return Jn(s),ip(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),o=s.updateQueue,o!==null&&Zh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&ae(Na),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),kr(Yt),wt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function HD(i,s){switch(Fm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return kr(Yt),we(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ne(s),null;case 31:if(s.memoizedState!==null){if(Jn(s),s.alternate===null)throw Error(r(340));Da()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Jn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Da()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ae(jt),null;case 4:return we(),null;case 10:return kr(s.type),null;case 22:case 23:return Jn(s),ip(),i!==null&&ae(Na),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return kr(Yt),null;case 25:return null;default:return null}}function ZT(i,s){switch(Fm(s),s.tag){case 3:kr(Yt),we();break;case 26:case 27:case 5:Ne(s);break;case 4:we();break;case 31:s.memoizedState!==null&&Jn(s);break;case 13:Jn(s);break;case 19:ae(jt);break;case 10:kr(s.type);break;case 22:case 23:Jn(s),ip(),i!==null&&ae(Na);break;case 24:kr(Yt)}}function xu(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==m)}}catch(R){dt(s,s.return,R)}}function Rs(i,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var T=c.inst,R=T.destroy;if(R!==void 0){T.destroy=void 0,m=s;var L=o,ne=R;try{ne()}catch(le){dt(m,L,le)}}}c=c.next}while(c!==g)}}catch(le){dt(s,s.return,le)}}function eb(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{H_(s,o)}catch(c){dt(i,i.return,c)}}}function tb(i,s,o){o.props=Ua(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){dt(i,s,c)}}function Iu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){dt(i,s,m)}}function fr(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){dt(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){dt(i,s,m)}else o.current=null}function nb(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){dt(i,i.return,m)}}function Pp(i,s,o){try{var c=i.stateNode;f2(c,i.type,o,s),c[on]=s}catch(m){dt(i,i.return,m)}}function ib(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ns(i.type)||i.tag===4}function Vp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ib(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ns(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Lp(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ii));else if(c!==4&&(c===27&&Ns(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Lp(i,s,o),i=i.sibling;i!==null;)Lp(i,s,o),i=i.sibling}function ef(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&Ns(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(ef(i,s,o),i=i.sibling;i!==null;)ef(i,s,o),i=i.sibling}function rb(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);yn(s,c,o),s[Ht]=i,s[on]=o}catch(g){dt(i,i.return,g)}}var Vr=!1,Qt=!1,Up=!1,sb=typeof WeakSet=="function"?WeakSet:Set,un=null;function GD(i,s){if(i=i.containerInfo,sg=Ef,i=y_(i),km(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,R=-1,L=-1,ne=0,le=0,he=i,re=null;t:for(;;){for(var oe;he!==o||m!==0&&he.nodeType!==3||(R=T+m),he!==g||c!==0&&he.nodeType!==3||(L=T+c),he.nodeType===3&&(T+=he.nodeValue.length),(oe=he.firstChild)!==null;)re=he,he=oe;for(;;){if(he===i)break t;if(re===o&&++ne===m&&(R=T),re===g&&++le===c&&(L=T),(oe=he.nextSibling)!==null)break;he=re,re=he.parentNode}he=oe}o=R===-1||L===-1?null:{start:R,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(ag={focusedElem:i,selectionRange:o},Ef=!1,un=s;un!==null;)if(s=un,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,un=i;else for(;un!==null;){switch(s=un,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Re=Ua(o.type,m);i=c.getSnapshotBeforeUpdate(Re,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Le){dt(o,o.return,Le)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)ug(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ug(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,un=i;break}un=s.return}}function ab(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ur(i,o),c&4&&xu(5,o);break;case 1:if(Ur(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(T){dt(o,o.return,T)}else{var m=Ua(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){dt(o,o.return,T)}}c&64&&eb(o),c&512&&Iu(o,o.return);break;case 3:if(Ur(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{H_(i,s)}catch(T){dt(o,o.return,T)}}break;case 27:s===null&&c&4&&rb(o);case 26:case 5:Ur(i,o),s===null&&c&4&&nb(o),c&512&&Iu(o,o.return);break;case 12:Ur(i,o);break;case 31:Ur(i,o),c&4&&ub(i,o);break;case 13:Ur(i,o),c&4&&cb(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=e2.bind(null,o),T2(i,o))));break;case 22:if(c=o.memoizedState!==null||Vr,!c){s=s!==null&&s.memoizedState!==null||Qt,m=Vr;var g=Qt;Vr=c,(Qt=s)&&!g?jr(i,o,(o.subtreeFlags&8772)!==0):Ur(i,o),Vr=m,Qt=g}break;case 30:break;default:Ur(i,o)}}function ob(i){var s=i.alternate;s!==null&&(i.alternate=null,ob(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&go(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ct=null,Ln=!1;function Lr(i,s,o){for(o=o.child;o!==null;)lb(i,s,o),o=o.sibling}function lb(i,s,o){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Ai,o)}catch{}switch(o.tag){case 26:Qt||fr(o,s),Lr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Qt||fr(o,s);var c=Ct,m=Ln;Ns(o.type)&&(Ct=o.stateNode,Ln=!1),Lr(i,s,o),Uu(o.stateNode),Ct=c,Ln=m;break;case 5:Qt||fr(o,s);case 6:if(c=Ct,m=Ln,Ct=null,Lr(i,s,o),Ct=c,Ln=m,Ct!==null)if(Ln)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(o.stateNode)}catch(g){dt(o,s,g)}else try{Ct.removeChild(o.stateNode)}catch(g){dt(o,s,g)}break;case 18:Ct!==null&&(Ln?(i=Ct,eE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),el(i)):eE(Ct,o.stateNode));break;case 4:c=Ct,m=Ln,Ct=o.stateNode.containerInfo,Ln=!0,Lr(i,s,o),Ct=c,Ln=m;break;case 0:case 11:case 14:case 15:Rs(2,o,s),Qt||Rs(4,o,s),Lr(i,s,o);break;case 1:Qt||(fr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&tb(o,s,c)),Lr(i,s,o);break;case 21:Lr(i,s,o);break;case 22:Qt=(c=Qt)||o.memoizedState!==null,Lr(i,s,o),Qt=c;break;default:Lr(i,s,o)}}function ub(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{el(i)}catch(o){dt(s,s.return,o)}}}function cb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{el(i)}catch(o){dt(s,s.return,o)}}function $D(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new sb),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new sb),s;default:throw Error(r(435,i.tag))}}function tf(i,s){var o=$D(i);s.forEach(function(c){if(!o.has(c)){o.add(c);var m=t2.bind(null,i,c);c.then(m,m)}})}function Un(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,T=s,R=T;e:for(;R!==null;){switch(R.tag){case 27:if(Ns(R.type)){Ct=R.stateNode,Ln=!1;break e}break;case 5:Ct=R.stateNode,Ln=!1;break e;case 3:case 4:Ct=R.stateNode.containerInfo,Ln=!0;break e}R=R.return}if(Ct===null)throw Error(r(160));lb(g,T,m),Ct=null,Ln=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)hb(s,i),s=s.sibling}var Pi=null;function hb(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Un(s,i),jn(i),c&4&&(Rs(3,i,i.return),xu(3,i),Rs(5,i,i.return));break;case 1:Un(s,i),jn(i),c&512&&(Qt||o===null||fr(o,o.return)),c&64&&Vr&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Pi;if(Un(s,i),jn(i),c&512&&(Qt||o===null||fr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Ji]||g[Ht]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),yn(g,c,o),g[Ht]=i,Gt(g),c=g;break e;case"link":var T=hE("link","href",m).get(c+(o.href||""));if(T){for(var R=0;R<T.length;R++)if(g=T[R],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(R,1);break t}}g=m.createElement(c),yn(g,c,o),m.head.appendChild(g);break;case"meta":if(T=hE("meta","content",m).get(c+(o.content||""))){for(R=0;R<T.length;R++)if(g=T[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(R,1);break t}}g=m.createElement(c),yn(g,c,o),m.head.appendChild(g);break;default:throw Error(r(468,c))}g[Ht]=i,Gt(g),c=g}i.stateNode=c}else fE(m,i.type,i.stateNode);else i.stateNode=cE(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?fE(m,i.type,i.stateNode):cE(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Pp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Un(s,i),jn(i),c&512&&(Qt||o===null||fr(o,o.return)),o!==null&&c&4&&Pp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Un(s,i),jn(i),c&512&&(Qt||o===null||fr(o,o.return)),i.flags&32){m=i.stateNode;try{Vn(m,"")}catch(Re){dt(i,i.return,Re)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Pp(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Up=!0);break;case 6:if(Un(s,i),jn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Re){dt(i,i.return,Re)}}break;case 3:if(vf=null,m=Pi,Pi=gf(s.containerInfo),Un(s,i),Pi=m,jn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{el(s.containerInfo)}catch(Re){dt(i,i.return,Re)}Up&&(Up=!1,fb(i));break;case 4:c=Pi,Pi=gf(i.stateNode.containerInfo),Un(s,i),jn(i),Pi=c;break;case 12:Un(s,i),jn(i);break;case 31:Un(s,i),jn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,tf(i,c)));break;case 13:Un(s,i),jn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(rf=Dn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,tf(i,c)));break;case 22:m=i.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,ne=Vr,le=Qt;if(Vr=ne||m,Qt=le||L,Un(s,i),Qt=le,Vr=ne,jn(i),c&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||L||Vr||Qt||ja(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){L=o=s;try{if(g=L.stateNode,m)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{R=L.stateNode;var he=L.memoizedProps.style,re=he!=null&&he.hasOwnProperty("display")?he.display:null;R.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Re){dt(L,L.return,Re)}}}else if(s.tag===6){if(o===null){L=s;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(Re){dt(L,L.return,Re)}}}else if(s.tag===18){if(o===null){L=s;try{var oe=L.stateNode;m?tE(oe,!0):tE(L.stateNode,!1)}catch(Re){dt(L,L.return,Re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,tf(i,o))));break;case 19:Un(s,i),jn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,tf(i,c)));break;case 30:break;case 21:break;default:Un(s,i),jn(i)}}function jn(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(ib(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,g=Vp(i);ef(i,g,m);break;case 5:var T=o.stateNode;o.flags&32&&(Vn(T,""),o.flags&=-33);var R=Vp(i);ef(i,R,T);break;case 3:case 4:var L=o.stateNode.containerInfo,ne=Vp(i);Lp(i,ne,L);break;default:throw Error(r(161))}}catch(le){dt(i,i.return,le)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function fb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;fb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ur(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ab(i,s.alternate,s),s=s.sibling}function ja(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Rs(4,s,s.return),ja(s);break;case 1:fr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&tb(s,s.return,o),ja(s);break;case 27:Uu(s.stateNode);case 26:case 5:fr(s,s.return),ja(s);break;case 22:s.memoizedState===null&&ja(s);break;case 30:ja(s);break;default:ja(s)}i=i.sibling}}function jr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:jr(m,g,o),xu(4,g);break;case 1:if(jr(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ne){dt(c,c.return,ne)}if(c=g,m=c.updateQueue,m!==null){var R=c.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)q_(L[m],R)}catch(ne){dt(c,c.return,ne)}}o&&T&64&&eb(g),Iu(g,g.return);break;case 27:rb(g);case 26:case 5:jr(m,g,o),o&&c===null&&T&4&&nb(g),Iu(g,g.return);break;case 12:jr(m,g,o);break;case 31:jr(m,g,o),o&&T&4&&ub(m,g);break;case 13:jr(m,g,o),o&&T&4&&cb(m,g);break;case 22:g.memoizedState===null&&jr(m,g,o),Iu(g,g.return);break;case 30:break;default:jr(m,g,o)}s=s.sibling}}function jp(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&pu(o))}function zp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&pu(i))}function Vi(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)db(i,s,o,c),s=s.sibling}function db(i,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Vi(i,s,o,c),m&2048&&xu(9,s);break;case 1:Vi(i,s,o,c);break;case 3:Vi(i,s,o,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&pu(i)));break;case 12:if(m&2048){Vi(i,s,o,c),i=s.stateNode;try{var g=s.memoizedProps,T=g.id,R=g.onPostCommit;typeof R=="function"&&R(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){dt(s,s.return,L)}}else Vi(i,s,o,c);break;case 31:Vi(i,s,o,c);break;case 13:Vi(i,s,o,c);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Vi(i,s,o,c):Du(i,s):g._visibility&2?Vi(i,s,o,c):(g._visibility|=2,qo(i,s,o,c,(s.subtreeFlags&10256)!==0||!1)),m&2048&&jp(T,s);break;case 24:Vi(i,s,o,c),m&2048&&zp(s.alternate,s);break;default:Vi(i,s,o,c)}}function qo(i,s,o,c,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,T=s,R=o,L=c,ne=T.flags;switch(T.tag){case 0:case 11:case 15:qo(g,T,R,L,m),xu(8,T);break;case 23:break;case 22:var le=T.stateNode;T.memoizedState!==null?le._visibility&2?qo(g,T,R,L,m):Du(g,T):(le._visibility|=2,qo(g,T,R,L,m)),m&&ne&2048&&jp(T.alternate,T);break;case 24:qo(g,T,R,L,m),m&&ne&2048&&zp(T.alternate,T);break;default:qo(g,T,R,L,m)}s=s.sibling}}function Du(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,m=c.flags;switch(c.tag){case 22:Du(o,c),m&2048&&jp(c.alternate,c);break;case 24:Du(o,c),m&2048&&zp(c.alternate,c);break;default:Du(o,c)}s=s.sibling}}var ku=8192;function Ho(i,s,o){if(i.subtreeFlags&ku)for(i=i.child;i!==null;)mb(i,s,o),i=i.sibling}function mb(i,s,o){switch(i.tag){case 26:Ho(i,s,o),i.flags&ku&&i.memoizedState!==null&&M2(o,Pi,i.memoizedState,i.memoizedProps);break;case 5:Ho(i,s,o);break;case 3:case 4:var c=Pi;Pi=gf(i.stateNode.containerInfo),Ho(i,s,o),Pi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=ku,ku=16777216,Ho(i,s,o),ku=c):Ho(i,s,o));break;default:Ho(i,s,o)}}function pb(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Mu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];un=c,yb(c,i)}pb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gb(i),i=i.sibling}function gb(i){switch(i.tag){case 0:case 11:case 15:Mu(i),i.flags&2048&&Rs(9,i,i.return);break;case 3:Mu(i);break;case 12:Mu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,nf(i)):Mu(i);break;default:Mu(i)}}function nf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];un=c,yb(c,i)}pb(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Rs(8,s,s.return),nf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,nf(s));break;default:nf(s)}i=i.sibling}}function yb(i,s){for(;un!==null;){var o=un;switch(o.tag){case 0:case 11:case 15:Rs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:pu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,un=c;else e:for(o=i;un!==null;){c=un;var m=c.sibling,g=c.return;if(ob(c),c===o){un=null;break e}if(m!==null){m.return=g,un=m;break e}un=g}}}var YD={getCacheForType:function(i){var s=pn(Yt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return pn(Yt).controller.signal}},KD=typeof WeakMap=="function"?WeakMap:Map,ut=0,_t=null,Qe=null,Ze=0,ft=0,Zn=null,Cs=!1,Go=!1,Bp=!1,zr=0,Nt=0,xs=0,za=0,Fp=0,ei=0,$o=0,Nu=null,zn=null,qp=!1,rf=0,vb=0,sf=1/0,af=null,Is=null,nn=0,Ds=null,Yo=null,Br=0,Hp=0,Gp=null,_b=null,Ou=0,$p=null;function ti(){return(ut&2)!==0&&Ze!==0?Ze&-Ze:$.T!==null?Jp():ah()}function Tb(){if(ei===0)if((Ze&536870912)===0||rt){var i=da;da<<=1,(da&3932160)===0&&(da=262144),ei=i}else ei=536870912;return i=Xn.current,i!==null&&(i.flags|=32),ei}function Bn(i,s,o){(i===_t&&(ft===2||ft===9)||i.cancelPendingCommit!==null)&&(Ko(i,0),ks(i,Ze,ei,!1)),ma(i,o),((ut&2)===0||i!==_t)&&(i===_t&&((ut&2)===0&&(za|=o),Nt===4&&ks(i,Ze,ei,!1)),dr(i))}function bb(i,s,o){if((ut&6)!==0)throw Error(r(327));var c=!o&&(s&127)===0&&(s&i.expiredLanes)===0||Ri(i,s),m=c?XD(i,s):Kp(i,s,!0),g=c;do{if(m===0){Go&&!c&&ks(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!WD(o)){m=Kp(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var R=i;m=Nu;var L=R.current.memoizedState.isDehydrated;if(L&&(Ko(R,T).flags|=256),T=Kp(R,T,!1),T!==2){if(Bp&&!L){R.errorRecoveryDisabledLanes|=g,za|=g,m=4;break e}g=zn,zn=m,g!==null&&(zn===null?zn=g:zn.push.apply(zn,g))}m=T}if(g=!1,m!==2)continue}}if(m===1){Ko(i,0),ks(i,s,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ks(c,s,ei,!Cs);break e;case 2:zn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=rf+300-Dn(),10<m)){if(ks(c,s,ei,!Cs),Wi(c,0,!0)!==0)break e;Br=s,c.timeoutHandle=Jb(Eb.bind(null,c,o,zn,af,qp,s,ei,za,$o,Cs,g,"Throttled",-0,0),m);break e}Eb(c,o,zn,af,qp,s,ei,za,$o,Cs,g,null,-0,0)}}break}while(!0);dr(i)}function Eb(i,s,o,c,m,g,T,R,L,ne,le,he,re,oe){if(i.timeoutHandle=-1,he=s.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ii},mb(s,g,he);var Re=(g&62914560)===g?rf-Dn():(g&4194048)===g?vb-Dn():0;if(Re=N2(he,Re),Re!==null){Br=g,i.cancelPendingCommit=Re(Db.bind(null,i,s,g,o,c,m,T,R,L,le,he,null,re,oe)),ks(i,g,T,!ne);return}}Db(i,s,g,o,c,m,T,R,L)}function WD(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Wn(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ks(i,s,o,c){s&=~Fp,s&=~za,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var g=31-Lt(m),T=1<<g;c[g]=-1,m&=~T}o!==0&&pa(i,o,s)}function of(){return(ut&6)===0?(Pu(0),!1):!0}function Yp(){if(Qe!==null){if(ft===0)var i=Qe.return;else i=Qe,Dr=ka=null,up(i),Uo=null,yu=0,i=Qe;for(;i!==null;)ZT(i.alternate,i),i=i.return;Qe=null}}function Ko(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,p2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Br=0,Yp(),_t=i,Qe=o=xr(i.current,null),Ze=s,ft=0,Zn=null,Cs=!1,Go=Ri(i,s),Bp=!1,$o=ei=Fp=za=xs=Nt=0,zn=Nu=null,qp=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-Lt(c),g=1<<m;s|=i[m],c&=~g}return zr=s,Ch(),o}function wb(i,s){Ye=null,$.H=Au,s===Lo||s===Ph?(s=j_(),ft=3):s===Xm?(s=j_(),ft=4):ft=s===Ap?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Zn=s,Qe===null&&(Nt=1,Wh(i,hi(s,i.current)))}function Sb(){var i=Xn.current;return i===null?!0:(Ze&4194048)===Ze?pi===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?i===pi:!1}function Ab(){var i=$.H;return $.H=Au,i===null?Au:i}function Rb(){var i=$.A;return $.A=YD,i}function lf(){Nt=4,Cs||(Ze&4194048)!==Ze&&Xn.current!==null||(Go=!0),(xs&134217727)===0&&(za&134217727)===0||_t===null||ks(_t,Ze,ei,!1)}function Kp(i,s,o){var c=ut;ut|=2;var m=Ab(),g=Rb();(_t!==i||Ze!==s)&&(af=null,Ko(i,s)),s=!1;var T=Nt;e:do try{if(ft!==0&&Qe!==null){var R=Qe,L=Zn;switch(ft){case 8:Yp(),T=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(s=!0);var ne=ft;if(ft=0,Zn=null,Wo(i,R,L,ne),o&&Go){T=0;break e}break;default:ne=ft,ft=0,Zn=null,Wo(i,R,L,ne)}}QD(),T=Nt;break}catch(le){wb(i,le)}while(!0);return s&&i.shellSuspendCounter++,Dr=ka=null,ut=c,$.H=m,$.A=g,Qe===null&&(_t=null,Ze=0,Ch()),T}function QD(){for(;Qe!==null;)Cb(Qe)}function XD(i,s){var o=ut;ut|=2;var c=Ab(),m=Rb();_t!==i||Ze!==s?(af=null,sf=Dn()+500,Ko(i,s)):Go=Ri(i,s);e:do try{if(ft!==0&&Qe!==null){s=Qe;var g=Zn;t:switch(ft){case 1:ft=0,Zn=null,Wo(i,s,g,1);break;case 2:case 9:if(L_(g)){ft=0,Zn=null,xb(s);break}s=function(){ft!==2&&ft!==9||_t!==i||(ft=7),dr(i)},g.then(s,s);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:L_(g)?(ft=0,Zn=null,xb(s)):(ft=0,Zn=null,Wo(i,s,g,7));break;case 5:var T=null;switch(Qe.tag){case 26:T=Qe.memoizedState;case 5:case 27:var R=Qe;if(T?dE(T):R.stateNode.complete){ft=0,Zn=null;var L=R.sibling;if(L!==null)Qe=L;else{var ne=R.return;ne!==null?(Qe=ne,uf(ne)):Qe=null}break t}}ft=0,Zn=null,Wo(i,s,g,5);break;case 6:ft=0,Zn=null,Wo(i,s,g,6);break;case 8:Yp(),Nt=6;break e;default:throw Error(r(462))}}JD();break}catch(le){wb(i,le)}while(!0);return Dr=ka=null,$.H=c,$.A=m,ut=o,Qe!==null?0:(_t=null,Ze=0,Ch(),Nt)}function JD(){for(;Qe!==null&&!Sm();)Cb(Qe)}function Cb(i){var s=XT(i.alternate,i,zr);i.memoizedProps=i.pendingProps,s===null?uf(i):Qe=s}function xb(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=GT(o,s,s.pendingProps,s.type,void 0,Ze);break;case 11:s=GT(o,s,s.pendingProps,s.type.render,s.ref,Ze);break;case 5:up(s);default:ZT(o,s),s=Qe=R_(s,zr),s=XT(o,s,zr)}i.memoizedProps=i.pendingProps,s===null?uf(i):Qe=s}function Wo(i,s,o,c){Dr=ka=null,up(s),Uo=null,yu=0;var m=s.return;try{if(zD(i,m,s,o,Ze)){Nt=1,Wh(i,hi(o,i.current)),Qe=null;return}}catch(g){if(m!==null)throw Qe=m,g;Nt=1,Wh(i,hi(o,i.current)),Qe=null;return}s.flags&32768?(rt||c===1?i=!0:Go||(Ze&536870912)!==0?i=!1:(Cs=i=!0,(c===2||c===9||c===3||c===6)&&(c=Xn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ib(s,i)):uf(s)}function uf(i){var s=i;do{if((s.flags&32768)!==0){Ib(s,Cs);return}i=s.return;var o=qD(s.alternate,s,zr);if(o!==null){Qe=o;return}if(s=s.sibling,s!==null){Qe=s;return}Qe=s=i}while(s!==null);Nt===0&&(Nt=5)}function Ib(i,s){do{var o=HD(i.alternate,i);if(o!==null){o.flags&=32767,Qe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Qe=i;return}Qe=i=o}while(i!==null);Nt=6,Qe=null}function Db(i,s,o,c,m,g,T,R,L){i.cancelPendingCommit=null;do cf();while(nn!==0);if((ut&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Vm,Cm(i,o,g,T,R,L),i===_t&&(Qe=_t=null,Ze=0),Yo=s,Ds=i,Br=o,Hp=g,Gp=m,_b=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,n2(os,function(){return Pb(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,m=ie.p,ie.p=2,T=ut,ut|=4;try{GD(i,s,o)}finally{ut=T,ie.p=m,$.T=c}}nn=1,kb(),Mb(),Nb()}}function kb(){if(nn===1){nn=0;var i=Ds,s=Yo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var c=ie.p;ie.p=2;var m=ut;ut|=4;try{hb(s,i);var g=ag,T=y_(i.containerInfo),R=g.focusedElem,L=g.selectionRange;if(T!==R&&R&&R.ownerDocument&&g_(R.ownerDocument.documentElement,R)){if(L!==null&&km(R)){var ne=L.start,le=L.end;if(le===void 0&&(le=ne),"selectionStart"in R)R.selectionStart=ne,R.selectionEnd=Math.min(le,R.value.length);else{var he=R.ownerDocument||document,re=he&&he.defaultView||window;if(re.getSelection){var oe=re.getSelection(),Re=R.textContent.length,Le=Math.min(L.start,Re),vt=L.end===void 0?Le:Math.min(L.end,Re);!oe.extend&&Le>vt&&(T=vt,vt=Le,Le=T);var W=p_(R,Le),G=p_(R,vt);if(W&&G&&(oe.rangeCount!==1||oe.anchorNode!==W.node||oe.anchorOffset!==W.offset||oe.focusNode!==G.node||oe.focusOffset!==G.offset)){var te=he.createRange();te.setStart(W.node,W.offset),oe.removeAllRanges(),Le>vt?(oe.addRange(te),oe.extend(G.node,G.offset)):(te.setEnd(G.node,G.offset),oe.addRange(te))}}}}for(he=[],oe=R;oe=oe.parentNode;)oe.nodeType===1&&he.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<he.length;R++){var ue=he[R];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Ef=!!sg,ag=sg=null}finally{ut=m,ie.p=c,$.T=o}}i.current=s,nn=2}}function Mb(){if(nn===2){nn=0;var i=Ds,s=Yo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var c=ie.p;ie.p=2;var m=ut;ut|=4;try{ab(i,s.alternate,s)}finally{ut=m,ie.p=c,$.T=o}}nn=3}}function Nb(){if(nn===4||nn===3){nn=0,Zc();var i=Ds,s=Yo,o=Br,c=_b;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?nn=5:(nn=0,Yo=Ds=null,Ob(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Is=null),Sr(o),s=s.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Ai,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=$.T,m=ie.p,ie.p=2,$.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var R=c[T];g(R.value,{componentStack:R.stack})}}finally{$.T=s,ie.p=m}}(Br&3)!==0&&cf(),dr(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===$p?Ou++:(Ou=0,$p=i):Ou=0,Pu(0)}}function Ob(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,pu(s)))}function cf(){return kb(),Mb(),Nb(),Pb()}function Pb(){if(nn!==5)return!1;var i=Ds,s=Hp;Hp=0;var o=Sr(Br),c=$.T,m=ie.p;try{ie.p=32>o?32:o,$.T=null,o=Gp,Gp=null;var g=Ds,T=Br;if(nn=0,Yo=Ds=null,Br=0,(ut&6)!==0)throw Error(r(331));var R=ut;if(ut|=4,gb(g.current),db(g,g.current,T,o),ut=R,Pu(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Ai,g)}catch{}return!0}finally{ie.p=m,$.T=c,Ob(i,s)}}function Vb(i,s,o){s=hi(o,s),s=Sp(i.stateNode,s,2),i=ws(i,s,2),i!==null&&(ma(i,2),dr(i))}function dt(i,s,o){if(i.tag===3)Vb(i,i,o);else for(;s!==null;){if(s.tag===3){Vb(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Is===null||!Is.has(c))){i=hi(o,i),o=LT(2),c=ws(s,o,2),c!==null&&(UT(o,c,s,i),ma(c,2),dr(c));break}}s=s.return}}function Wp(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new KD;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(Bp=!0,m.add(o),i=ZD.bind(null,i,s,o),s.then(i,i))}function ZD(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,_t===i&&(Ze&o)===o&&(Nt===4||Nt===3&&(Ze&62914560)===Ze&&300>Dn()-rf?(ut&2)===0&&Ko(i,0):Fp|=o,$o===Ze&&($o=0)),dr(i)}function Lb(i,s){s===0&&(s=sh()),i=xa(i,s),i!==null&&(ma(i,s),dr(i))}function e2(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Lb(i,o)}function t2(i,s){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),Lb(i,o)}function n2(i,s){return He(i,s)}var hf=null,Qo=null,Qp=!1,ff=!1,Xp=!1,Ms=0;function dr(i){i!==Qo&&i.next===null&&(Qo===null?hf=Qo=i:Qo=Qo.next=i),ff=!0,Qp||(Qp=!0,r2())}function Pu(i,s){if(!Xp&&ff){Xp=!0;do for(var o=!1,c=hf;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var T=c.suspendedLanes,R=c.pingedLanes;g=(1<<31-Lt(42|i)+1)-1,g&=m&~(T&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Bb(c,g))}else g=Ze,g=Wi(c,c===_t?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ri(c,g)||(o=!0,Bb(c,g));c=c.next}while(o);Xp=!1}}function i2(){Ub()}function Ub(){ff=Qp=!1;var i=0;Ms!==0&&m2()&&(i=Ms);for(var s=Dn(),o=null,c=hf;c!==null;){var m=c.next,g=jb(c,s);g===0?(c.next=null,o===null?hf=m:o.next=m,m===null&&(Qo=o)):(o=c,(i!==0||(g&3)!==0)&&(ff=!0)),c=m}nn!==0&&nn!==5||Pu(i),Ms!==0&&(Ms=0)}function jb(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-Lt(g),R=1<<T,L=m[T];L===-1?((R&o)===0||(R&c)!==0)&&(m[T]=Rm(R,s)):L<=s&&(i.expiredLanes|=R),g&=~R}if(s=_t,o=Ze,o=Wi(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(ft===2||ft===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&$i(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ri(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&$i(c),Sr(o)){case 2:case 8:o=Gl;break;case 32:o=os;break;case 268435456:o=eh;break;default:o=os}return c=zb.bind(null,i),o=He(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&$i(c),i.callbackPriority=2,i.callbackNode=null,2}function zb(i,s){if(nn!==0&&nn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(cf()&&i.callbackNode!==o)return null;var c=Ze;return c=Wi(i,i===_t?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(bb(i,c,s),jb(i,Dn()),i.callbackNode!=null&&i.callbackNode===o?zb.bind(null,i):null)}function Bb(i,s){if(cf())return null;bb(i,s,!0)}function r2(){g2(function(){(ut&6)!==0?He(Hl,i2):Ub()})}function Jp(){if(Ms===0){var i=Po;i===0&&(i=Yi,Yi<<=1,(Yi&261888)===0&&(Yi=256)),Ms=i}return Ms}function Fb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:To(""+i)}function qb(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function s2(i,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var g=Fb((m[on]||null).action),T=c.submitter;T&&(s=(s=T[on]||null)?Fb(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var R=new ar("action","action",null,c,m);i.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ms!==0){var L=T?qb(m,T):new FormData(m);vp(o,{pending:!0,data:L,method:m.method,action:g},null,L)}}else typeof g=="function"&&(R.preventDefault(),L=T?qb(m,T):new FormData(m),vp(o,{pending:!0,data:L,method:m.method,action:g},g,L))},currentTarget:m}]})}}for(var Zp=0;Zp<Pm.length;Zp++){var eg=Pm[Zp],a2=eg.toLowerCase(),o2=eg[0].toUpperCase()+eg.slice(1);Oi(a2,"on"+o2)}Oi(T_,"onAnimationEnd"),Oi(b_,"onAnimationIteration"),Oi(E_,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(wD,"onTransitionRun"),Oi(SD,"onTransitionStart"),Oi(AD,"onTransitionCancel"),Oi(w_,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function Hb(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var T=c.length-1;0<=T;T--){var R=c[T],L=R.instance,ne=R.currentTarget;if(R=R.listener,L!==g&&m.isPropagationStopped())break e;g=R,m.currentTarget=ne;try{g(m)}catch(le){Rh(le)}m.currentTarget=null,g=L}else for(T=0;T<c.length;T++){if(R=c[T],L=R.instance,ne=R.currentTarget,R=R.listener,L!==g&&m.isPropagationStopped())break e;g=R,m.currentTarget=ne;try{g(m)}catch(le){Rh(le)}m.currentTarget=null,g=L}}}}function Xe(i,s){var o=s[po];o===void 0&&(o=s[po]=new Set);var c=i+"__bubble";o.has(c)||(Gb(s,i,2,!1),o.add(c))}function tg(i,s,o){var c=0;s&&(c|=4),Gb(o,i,c,s)}var df="_reactListening"+Math.random().toString(36).slice(2);function ng(i){if(!i[df]){i[df]=!0,Kl.forEach(function(o){o!=="selectionchange"&&(l2.has(o)||tg(o,!1,i),tg(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[df]||(s[df]=!0,tg("selectionchange",!1,s))}}function Gb(i,s,o,c){switch(TE(s)){case 2:var m=V2;break;case 8:m=L2;break;default:m=yg}o=m.bind(null,s,o,i),m=void 0,!Ta||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function ig(i,s,o,c,m){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var R=c.stateNode.containerInfo;if(R===m)break;if(T===4)for(T=c.return;T!==null;){var L=T.tag;if((L===3||L===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;R!==null;){if(T=Zi(R),T===null)return;if(L=T.tag,L===5||L===6||L===26||L===27){c=g=T;continue e}R=R.parentNode}}c=c.return}ds(function(){var ne=g,le=oi(o),he=[];e:{var re=S_.get(i);if(re!==void 0){var oe=ar,Re=i;switch(i){case"keypress":if(Ea(o)===0)break e;case"keydown":case"keyup":oe=wh;break;case"focusin":Re="focus",oe=Sa;break;case"focusout":Re="blur",oe=Sa;break;case"beforeblur":case"afterblur":oe=Sa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=_;break;case T_:case b_:case E_:oe=gh;break;case w_:oe=I;break;case"scroll":case"scrollend":oe=au;break;case"wheel":oe=se;break;case"copy":case"cut":case"paste":oe=yh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Cr;break;case"toggle":case"beforetoggle":oe=$e}var Le=(s&4)!==0,vt=!Le&&(i==="scroll"||i==="scrollend"),W=Le?re!==null?re+"Capture":null:re;Le=[];for(var G=ne,te;G!==null;){var ue=G;if(te=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||te===null||W===null||(ue=Di(G,W),ue!=null&&Le.push(Lu(G,ue,te))),vt)break;G=G.return}0<Le.length&&(re=new oe(re,Re,null,o,le),he.push({event:re,listeners:Le}))}}if((s&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",re&&o!==iu&&(Re=o.relatedTarget||o.fromElement)&&(Zi(Re)||Re[Xi]))break e;if((oe||re)&&(re=le.window===le?le:(re=le.ownerDocument)?re.defaultView||re.parentWindow:window,oe?(Re=o.relatedTarget||o.toElement,oe=ne,Re=Re?Zi(Re):null,Re!==null&&(vt=l(Re),Le=Re.tag,Re!==vt||Le!==5&&Le!==27&&Le!==6)&&(Re=null)):(oe=null,Re=ne),oe!==Re)){if(Le=ou,ue="onMouseLeave",W="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Le=Cr,ue="onPointerLeave",W="onPointerEnter",G="pointer"),vt=oe==null?re:Yn(oe),te=Re==null?re:Yn(Re),re=new Le(ue,G+"leave",oe,o,le),re.target=vt,re.relatedTarget=te,ue=null,Zi(le)===ne&&(Le=new Le(W,G+"enter",Re,o,le),Le.target=te,Le.relatedTarget=vt,ue=Le),vt=ue,oe&&Re)t:{for(Le=u2,W=oe,G=Re,te=0,ue=W;ue;ue=Le(ue))te++;ue=0;for(var Pe=G;Pe;Pe=Le(Pe))ue++;for(;0<te-ue;)W=Le(W),te--;for(;0<ue-te;)G=Le(G),ue--;for(;te--;){if(W===G||G!==null&&W===G.alternate){Le=W;break t}W=Le(W),G=Le(G)}Le=null}else Le=null;oe!==null&&$b(he,re,oe,Le,!1),Re!==null&&vt!==null&&$b(he,vt,Re,Le,!0)}}e:{if(re=ne?Yn(ne):window,oe=re.nodeName&&re.nodeName.toLowerCase(),oe==="select"||oe==="input"&&re.type==="file")var at=u_;else if(o_(re))if(c_)at=TD;else{at=vD;var Me=yD}else oe=re.nodeName,!oe||oe.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ne&&_o(ne.elementType)&&(at=u_):at=_D;if(at&&(at=at(i,ne))){l_(he,at,o,le);break e}Me&&Me(i,re,ne),i==="focusout"&&ne&&re.type==="number"&&ne.memoizedProps.value!=null&&eu(re,"number",re.value)}switch(Me=ne?Yn(ne):window,i){case"focusin":(o_(Me)||Me.contentEditable==="true")&&(Co=Me,Mm=ne,fu=null);break;case"focusout":fu=Mm=Co=null;break;case"mousedown":Nm=!0;break;case"contextmenu":case"mouseup":case"dragend":Nm=!1,v_(he,o,le);break;case"selectionchange":if(ED)break;case"keydown":case"keyup":v_(he,o,le)}var Ke;if(lt)e:{switch(i){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Ro?Aa(i,o)&&(et="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(et="onCompositionStart");et&&(ur&&o.locale!=="ko"&&(Ro||et!=="onCompositionStart"?et==="onCompositionEnd"&&Ro&&(Ke=su()):(sr=le,ru="value"in sr?sr.value:sr.textContent,Ro=!0)),Me=mf(ne,et),0<Me.length&&(et=new lr(et,i,null,o,le),he.push({event:et,listeners:Me}),Ke?et.data=Ke:(Ke=Ao(o),Ke!==null&&(et.data=Ke)))),(Ke=ui?dD(i,o):mD(i,o))&&(et=mf(ne,"onBeforeInput"),0<et.length&&(Me=new lr("onBeforeInput","beforeinput",null,o,le),he.push({event:Me,listeners:et}),Me.data=Ke)),s2(he,i,ne,o,le)}Hb(he,s)})}function Lu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function mf(i,s){for(var o=s+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Di(i,o),m!=null&&c.unshift(Lu(i,m,g)),m=Di(i,s),m!=null&&c.push(Lu(i,m,g))),i.tag===3)return c;i=i.return}return[]}function u2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function $b(i,s,o,c,m){for(var g=s._reactName,T=[];o!==null&&o!==c;){var R=o,L=R.alternate,ne=R.stateNode;if(R=R.tag,L!==null&&L===c)break;R!==5&&R!==26&&R!==27||ne===null||(L=ne,m?(ne=Di(o,g),ne!=null&&T.unshift(Lu(o,ne,L))):m||(ne=Di(o,g),ne!=null&&T.push(Lu(o,ne,L)))),o=o.return}T.length!==0&&i.push({event:s,listeners:T})}var c2=/\r\n?/g,h2=/\u0000|\uFFFD/g;function Yb(i){return(typeof i=="string"?i:""+i).replace(c2,`
`).replace(h2,"")}function Kb(i,s){return s=Yb(s),Yb(i)===s}function yt(i,s,o,c,m,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Vn(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Vn(i,""+c);break;case"className":Kn(i,"class",c);break;case"tabIndex":Kn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(i,o,c);break;case"style":nu(i,c,g);break;case"data":if(s!=="object"){Kn(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=To(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&yt(i,s,"name",m.name,m,null),yt(i,s,"formEncType",m.formEncType,m,null),yt(i,s,"formMethod",m.formMethod,m,null),yt(i,s,"formTarget",m.formTarget,m,null)):(yt(i,s,"encType",m.encType,m,null),yt(i,s,"method",m.method,m,null),yt(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=To(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Ii);break;case"onScroll":c!=null&&Xe("scroll",i);break;case"onScrollEnd":c!=null&&Xe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=To(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Xe("beforetoggle",i),Xe("toggle",i),yo(i,"popover",c);break;case"xlinkActuate":$t(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":$t(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":$t(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":$t(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":$t(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":$t(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":$t(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":$t(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":$t(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":yo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=dh.get(o)||o,yo(i,o,c))}}function rg(i,s,o,c,m,g){switch(o){case"style":nu(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Vn(i,c):(typeof c=="number"||typeof c=="bigint")&&Vn(i,""+c);break;case"onScroll":c!=null&&Xe("scroll",i);break;case"onScrollEnd":c!=null&&Xe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=i[on]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):yo(i,o,c)}}}function yn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",i),Xe("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:yt(i,s,g,T,o,null)}}m&&yt(i,s,"srcSet",o.srcSet,o,null),c&&yt(i,s,"src",o.src,o,null);return;case"input":Xe("invalid",i);var R=g=T=m=null,L=null,ne=null;for(c in o)if(o.hasOwnProperty(c)){var le=o[c];if(le!=null)switch(c){case"name":m=le;break;case"type":T=le;break;case"checked":L=le;break;case"defaultChecked":ne=le;break;case"value":g=le;break;case"defaultValue":R=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,s));break;default:yt(i,s,c,le,o,null)}}ch(i,g,R,L,ne,T,m,!1);return;case"select":Xe("invalid",i),c=T=g=null;for(m in o)if(o.hasOwnProperty(m)&&(R=o[m],R!=null))switch(m){case"value":g=R;break;case"defaultValue":T=R;break;case"multiple":c=R;default:yt(i,s,m,R,o,null)}s=g,o=T,i.multiple=!!c,s!=null?us(i,!!c,s,!1):o!=null&&us(i,!!c,o,!0);return;case"textarea":Xe("invalid",i),g=m=c=null;for(T in o)if(o.hasOwnProperty(T)&&(R=o[T],R!=null))switch(T){case"value":c=R;break;case"defaultValue":m=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:yt(i,s,T,R,o,null)}cs(i,c,m,g);return;case"option":for(L in o)o.hasOwnProperty(L)&&(c=o[L],c!=null)&&(L==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":yt(i,s,L,c,o,null));return;case"dialog":Xe("beforetoggle",i),Xe("toggle",i),Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":Xe("load",i);break;case"video":case"audio":for(c=0;c<Vu.length;c++)Xe(Vu[c],i);break;case"image":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"embed":case"source":case"link":Xe("error",i),Xe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in o)if(o.hasOwnProperty(ne)&&(c=o[ne],c!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:yt(i,s,ne,c,o,null)}return;default:if(_o(s)){for(le in o)o.hasOwnProperty(le)&&(c=o[le],c!==void 0&&rg(i,s,le,c,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(c=o[R],c!=null&&yt(i,s,R,c,o,null))}function f2(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,T=null,R=null,L=null,ne=null,le=null;for(oe in o){var he=o[oe];if(o.hasOwnProperty(oe)&&he!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":L=he;default:c.hasOwnProperty(oe)||yt(i,s,oe,null,c,he)}}for(var re in c){var oe=c[re];if(he=o[re],c.hasOwnProperty(re)&&(oe!=null||he!=null))switch(re){case"type":g=oe;break;case"name":m=oe;break;case"checked":ne=oe;break;case"defaultChecked":le=oe;break;case"value":T=oe;break;case"defaultValue":R=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:oe!==he&&yt(i,s,re,oe,c,he)}}vo(i,T,R,L,ne,le,g,m);return;case"select":oe=T=R=re=null;for(g in o)if(L=o[g],o.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":oe=L;default:c.hasOwnProperty(g)||yt(i,s,g,null,c,L)}for(m in c)if(g=c[m],L=o[m],c.hasOwnProperty(m)&&(g!=null||L!=null))switch(m){case"value":re=g;break;case"defaultValue":R=g;break;case"multiple":T=g;default:g!==L&&yt(i,s,m,g,c,L)}s=R,o=T,c=oe,re!=null?us(i,!!o,re,!1):!!c!=!!o&&(s!=null?us(i,!!o,s,!0):us(i,!!o,o?[]:"",!1));return;case"textarea":oe=re=null;for(R in o)if(m=o[R],o.hasOwnProperty(R)&&m!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:yt(i,s,R,null,c,m)}for(T in c)if(m=c[T],g=o[T],c.hasOwnProperty(T)&&(m!=null||g!=null))switch(T){case"value":re=m;break;case"defaultValue":oe=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&yt(i,s,T,m,c,g)}hh(i,re,oe);return;case"option":for(var Re in o)re=o[Re],o.hasOwnProperty(Re)&&re!=null&&!c.hasOwnProperty(Re)&&(Re==="selected"?i.selected=!1:yt(i,s,Re,null,c,re));for(L in c)re=c[L],oe=o[L],c.hasOwnProperty(L)&&re!==oe&&(re!=null||oe!=null)&&(L==="selected"?i.selected=re&&typeof re!="function"&&typeof re!="symbol":yt(i,s,L,re,c,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in o)re=o[Le],o.hasOwnProperty(Le)&&re!=null&&!c.hasOwnProperty(Le)&&yt(i,s,Le,null,c,re);for(ne in c)if(re=c[ne],oe=o[ne],c.hasOwnProperty(ne)&&re!==oe&&(re!=null||oe!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:yt(i,s,ne,re,c,oe)}return;default:if(_o(s)){for(var vt in o)re=o[vt],o.hasOwnProperty(vt)&&re!==void 0&&!c.hasOwnProperty(vt)&&rg(i,s,vt,void 0,c,re);for(le in c)re=c[le],oe=o[le],!c.hasOwnProperty(le)||re===oe||re===void 0&&oe===void 0||rg(i,s,le,re,c,oe);return}}for(var W in o)re=o[W],o.hasOwnProperty(W)&&re!=null&&!c.hasOwnProperty(W)&&yt(i,s,W,null,c,re);for(he in c)re=c[he],oe=o[he],!c.hasOwnProperty(he)||re===oe||re==null&&oe==null||yt(i,s,he,re,c,oe)}function Wb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function d2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,T=m.initiatorType,R=m.duration;if(g&&R&&Wb(T)){for(T=0,R=m.responseEnd,c+=1;c<o.length;c++){var L=o[c],ne=L.startTime;if(ne>R)break;var le=L.transferSize,he=L.initiatorType;le&&Wb(he)&&(L=L.responseEnd,T+=le*(L<R?1:(R-ne)/(L-ne)))}if(--c,s+=8*(g+T)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var sg=null,ag=null;function pf(i){return i.nodeType===9?i:i.ownerDocument}function Qb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xb(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function og(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var lg=null;function m2(){var i=window.event;return i&&i.type==="popstate"?i===lg?!1:(lg=i,!0):(lg=null,!1)}var Jb=typeof setTimeout=="function"?setTimeout:void 0,p2=typeof clearTimeout=="function"?clearTimeout:void 0,Zb=typeof Promise=="function"?Promise:void 0,g2=typeof queueMicrotask=="function"?queueMicrotask:typeof Zb<"u"?function(i){return Zb.resolve(null).then(i).catch(y2)}:Jb;function y2(i){setTimeout(function(){throw i})}function Ns(i){return i==="head"}function eE(i,s){var o=s,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),el(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Uu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Uu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,R=g.nodeName;g[Ji]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Uu(i.ownerDocument.body);o=m}while(o);el(s)}function tE(i,s){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function ug(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ug(o),go(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function v2(i,s,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ji])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=gi(i.nextSibling),i===null)break}return null}function _2(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=gi(i.nextSibling),i===null))return null;return i}function nE(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=gi(i.nextSibling),i===null))return null;return i}function cg(i){return i.data==="$?"||i.data==="$~"}function hg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function T2(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function gi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var fg=null;function iE(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return gi(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function rE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function sE(i,s,o){switch(s=pf(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Uu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);go(i)}var yi=new Map,aE=new Set;function gf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Fr=ie.d;ie.d={f:b2,r:E2,D:w2,C:S2,L:A2,m:R2,X:x2,S:C2,M:I2};function b2(){var i=Fr.f(),s=of();return i||s}function E2(i){var s=ai(i);s!==null&&s.tag===5&&s.type==="form"?wT(s):Fr.r(i)}var Xo=typeof document>"u"?null:document;function oE(i,s,o){var c=Xo;if(c&&typeof s=="string"&&s){var m=Pn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),aE.has(m)||(aE.add(m),i={rel:i,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),yn(s,"link",i),Gt(s),c.head.appendChild(s)))}}function w2(i){Fr.D(i),oE("dns-prefetch",i,null)}function S2(i,s){Fr.C(i,s),oE("preconnect",i,s)}function A2(i,s,o){Fr.L(i,s,o);var c=Xo;if(c&&i&&s){var m='link[rel="preload"][as="'+Pn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Pn(o.imageSizes)+'"]')):m+='[href="'+Pn(i)+'"]';var g=m;switch(s){case"style":g=Jo(i);break;case"script":g=Zo(i)}yi.has(g)||(i=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),yi.set(g,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(ju(g))||s==="script"&&c.querySelector(zu(g))||(s=c.createElement("link"),yn(s,"link",i),Gt(s),c.head.appendChild(s)))}}function R2(i,s){Fr.m(i,s);var o=Xo;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Pn(c)+'"][href="'+Pn(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Zo(i)}if(!yi.has(g)&&(i=v({rel:"modulepreload",href:i},s),yi.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(zu(g)))return}c=o.createElement("link"),yn(c,"link",i),Gt(c),o.head.appendChild(c)}}}function C2(i,s,o){Fr.S(i,s,o);var c=Xo;if(c&&i){var m=er(c).hoistableStyles,g=Jo(i);s=s||"default";var T=m.get(g);if(!T){var R={loading:0,preload:null};if(T=c.querySelector(ju(g)))R.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},o),(o=yi.get(g))&&dg(i,o);var L=T=c.createElement("link");Gt(L),yn(L,"link",i),L._p=new Promise(function(ne,le){L.onload=ne,L.onerror=le}),L.addEventListener("load",function(){R.loading|=1}),L.addEventListener("error",function(){R.loading|=2}),R.loading|=4,yf(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:R},m.set(g,T)}}}function x2(i,s){Fr.X(i,s);var o=Xo;if(o&&i){var c=er(o).hoistableScripts,m=Zo(i),g=c.get(m);g||(g=o.querySelector(zu(m)),g||(i=v({src:i,async:!0},s),(s=yi.get(m))&&mg(i,s),g=o.createElement("script"),Gt(g),yn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function I2(i,s){Fr.M(i,s);var o=Xo;if(o&&i){var c=er(o).hoistableScripts,m=Zo(i),g=c.get(m);g||(g=o.querySelector(zu(m)),g||(i=v({src:i,async:!0,type:"module"},s),(s=yi.get(m))&&mg(i,s),g=o.createElement("script"),Gt(g),yn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function lE(i,s,o,c){var m=(m=ge.current)?gf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Jo(o.href),o=er(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Jo(o.href);var g=er(m).hoistableStyles,T=g.get(i);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=m.querySelector(ju(i)))&&!g._p&&(T.instance=g,T.state.loading=5),yi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},yi.set(i,o),g||D2(m,i,o,T.state))),s&&c===null)throw Error(r(528,""));return T}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zo(o),o=er(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Jo(i){return'href="'+Pn(i)+'"'}function ju(i){return'link[rel="stylesheet"]['+i+"]"}function uE(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function D2(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),yn(s,"link",o),Gt(s),i.head.appendChild(s))}function Zo(i){return'[src="'+Pn(i)+'"]'}function zu(i){return"script[async]"+i}function cE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Pn(o.href)+'"]');if(c)return s.instance=c,Gt(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Gt(c),yn(c,"style",m),yf(c,o.precedence,i),s.instance=c;case"stylesheet":m=Jo(o.href);var g=i.querySelector(ju(m));if(g)return s.state.loading|=4,s.instance=g,Gt(g),g;c=uE(o),(m=yi.get(m))&&dg(c,m),g=(i.ownerDocument||i).createElement("link"),Gt(g);var T=g;return T._p=new Promise(function(R,L){T.onload=R,T.onerror=L}),yn(g,"link",c),s.state.loading|=4,yf(g,o.precedence,i),s.instance=g;case"script":return g=Zo(o.src),(m=i.querySelector(zu(g)))?(s.instance=m,Gt(m),m):(c=o,(m=yi.get(g))&&(c=v({},o),mg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Gt(m),yn(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,yf(c,o.precedence,i));return s.instance}function yf(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,T=0;T<c.length;T++){var R=c[T];if(R.dataset.precedence===s)g=R;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function dg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function mg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var vf=null;function hE(i,s,o){if(vf===null){var c=new Map,m=vf=new Map;m.set(o,c)}else m=vf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Ji]||g[Ht]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=i+T;var R=c.get(T);R?R.push(g):c.set(T,[g])}}return c}function fE(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function k2(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function dE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function M2(i,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Jo(c.href),g=s.querySelector(ju(m));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=_f.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,Gt(g);return}g=s.ownerDocument||s,c=uE(c),(m=yi.get(m))&&dg(c,m),g=g.createElement("link"),Gt(g);var T=g;T._p=new Promise(function(R,L){T.onload=R,T.onerror=L}),yn(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=_f.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var pg=0;function N2(i,s){return i.stylesheets&&i.count===0&&bf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&bf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&pg===0&&(pg=62500*d2());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&bf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>pg?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function _f(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Tf=null;function bf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Tf=new Map,s.forEach(O2,i),Tf=null,_f.call(i))}function O2(i,s){if(!(s.state.loading&4)){var o=Tf.get(i);if(o)var c=o.get(null);else{o=new Map,Tf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var T=m[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}m=s.instance,T=m.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,m),o.set(T,m),this.count++,c=_f.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Bu={$$typeof:B,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function P2(i,s,o,c,m,g,T,R,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.hiddenUpdates=Qi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function mE(i,s,o,c,m,g,T,R,L,ne,le,he){return i=new P2(i,s,o,T,L,ne,le,he,R),s=1,g===!0&&(s|=24),g=Qn(3,null,null,s),i.current=g,g.stateNode=i,s=Km(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Jm(g),i}function pE(i){return i?(i=Do,i):Do}function gE(i,s,o,c,m,g){m=pE(m),c.context===null?c.context=m:c.pendingContext=m,c=Es(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ws(i,c,s),o!==null&&(Bn(o,i,s),_u(o,i,s))}function yE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function gg(i,s){yE(i,s),(i=i.alternate)&&yE(i,s)}function vE(i){if(i.tag===13||i.tag===31){var s=xa(i,67108864);s!==null&&Bn(s,i,67108864),gg(i,67108864)}}function _E(i){if(i.tag===13||i.tag===31){var s=ti();s=ga(s);var o=xa(i,s);o!==null&&Bn(o,i,s),gg(i,s)}}var Ef=!0;function V2(i,s,o,c){var m=$.T;$.T=null;var g=ie.p;try{ie.p=2,yg(i,s,o,c)}finally{ie.p=g,$.T=m}}function L2(i,s,o,c){var m=$.T;$.T=null;var g=ie.p;try{ie.p=8,yg(i,s,o,c)}finally{ie.p=g,$.T=m}}function yg(i,s,o,c){if(Ef){var m=vg(c);if(m===null)ig(i,s,c,wf,o),bE(i,c);else if(j2(m,i,s,o,c))c.stopPropagation();else if(bE(i,c),s&4&&-1<U2.indexOf(i)){for(;m!==null;){var g=ai(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Ki(g.pendingLanes);if(T!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;T;){var L=1<<31-Lt(T);R.entanglements[1]|=L,T&=~L}dr(g),(ut&6)===0&&(sf=Dn()+500,Pu(0))}}break;case 31:case 13:R=xa(g,2),R!==null&&Bn(R,g,2),of(),gg(g,2)}if(g=vg(c),g===null&&ig(i,s,c,wf,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else ig(i,s,c,null,o)}}function vg(i){return i=oi(i),_g(i)}var wf=null;function _g(i){if(wf=null,i=Zi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return wf=i,null}function TE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fa()){case Hl:return 2;case Gl:return 8;case os:case Am:return 32;case eh:return 268435456;default:return 32}default:return 32}}var Tg=!1,Os=null,Ps=null,Vs=null,Fu=new Map,qu=new Map,Ls=[],U2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bE(i,s){switch(i){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Fu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(s.pointerId)}}function Hu(i,s,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},s!==null&&(s=ai(s),s!==null&&vE(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function j2(i,s,o,c,m){switch(s){case"focusin":return Os=Hu(Os,i,s,o,c,m),!0;case"dragenter":return Ps=Hu(Ps,i,s,o,c,m),!0;case"mouseover":return Vs=Hu(Vs,i,s,o,c,m),!0;case"pointerover":var g=m.pointerId;return Fu.set(g,Hu(Fu.get(g)||null,i,s,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,qu.set(g,Hu(qu.get(g)||null,i,s,o,c,m)),!0}return!1}function EE(i){var s=Zi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,Ci(i.priority,function(){_E(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,Ci(i.priority,function(){_E(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Sf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=vg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);iu=c,o.target.dispatchEvent(c),iu=null}else return s=ai(o),s!==null&&vE(s),i.blockedOn=o,!1;s.shift()}return!0}function wE(i,s,o){Sf(i)&&o.delete(s)}function z2(){Tg=!1,Os!==null&&Sf(Os)&&(Os=null),Ps!==null&&Sf(Ps)&&(Ps=null),Vs!==null&&Sf(Vs)&&(Vs=null),Fu.forEach(wE),qu.forEach(wE)}function Af(i,s){i.blockedOn===s&&(i.blockedOn=null,Tg||(Tg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,z2)))}var Rf=null;function SE(i){Rf!==i&&(Rf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Rf===i&&(Rf=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(_g(c||o)===null)continue;break}var g=ai(o);g!==null&&(i.splice(s,3),s-=3,vp(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function el(i){function s(L){return Af(L,i)}Os!==null&&Af(Os,i),Ps!==null&&Af(Ps,i),Vs!==null&&Af(Vs,i),Fu.forEach(s),qu.forEach(s);for(var o=0;o<Ls.length;o++){var c=Ls[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ls.length&&(o=Ls[0],o.blockedOn===null);)EE(o),o.blockedOn===null&&Ls.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],T=m[on]||null;if(typeof g=="function")T||SE(o);else if(T){var R=null;if(g&&g.hasAttribute("formAction")){if(m=g,T=g[on]||null)R=T.formAction;else if(_g(m)!==null)continue}else R=T.action;typeof R=="function"?o[c+1]=R:(o.splice(c,3),c-=3),SE(o)}}}function AE(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function bg(i){this._internalRoot=i}Cf.prototype.render=bg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=ti();gE(o,c,i,s,null,null)},Cf.prototype.unmount=bg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;gE(i.current,2,null,i,null,null),of(),s[Xi]=null}};function Cf(i){this._internalRoot=i}Cf.prototype.unstable_scheduleHydration=function(i){if(i){var s=ah();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Ls.length&&s!==0&&s<Ls[o].priority;o++);Ls.splice(o,0,i),o===0&&EE(i)}};var RE=e.version;if(RE!=="19.2.3")throw Error(r(527,RE,"19.2.3"));ie.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var B2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{Ai=xf.inject(B2),fn=xf}catch{}}return $u.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",m=NT,g=OT,T=PT;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=mE(i,1,!1,null,null,o,c,null,m,g,T,AE),i[Xi]=s.current,ng(i),new bg(s)},$u.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,m="",g=NT,T=OT,R=PT,L=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),s=mE(i,1,!0,s,o??null,c,m,L,g,T,R,AE),s.context=pE(null),o=s.current,c=ti(),c=ga(c),m=Es(c),m.callback=null,ws(o,m,c),o=c,s.current.lanes=o,ma(s,o),dr(s),i[Xi]=s.current,ng(i),new Cf(s)},$u.version="19.2.3",$u}var VE;function J2(){if(VE)return Sg.exports;VE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sg.exports=X2(),Sg.exports}var Z2=J2();const ek=mv(Z2),tk="modulepreload",nk=function(t,e){return new URL(t,e).href},LE={},hn=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let p=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const u=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=p(n.map(y=>{if(y=nk(y,r),y in LE)return;LE[y]=!0;const v=y.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(r)for(let M=u.length-1;M>=0;M--){const P=u[M];if(P.href===y&&(!v||P.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${b}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":tk,v||(x.as="script"),x.crossOrigin="",x.href=y,d&&x.setAttribute("nonce",d),document.head.appendChild(x),v)return new Promise((M,P)=>{x.addEventListener("load",M),x.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var UE="popstate";function ik(t={}){function e(r,a){let{pathname:l,search:u,hash:h}=r.location;return fy("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:vc(a)}return sk(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ii(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rk(){return Math.random().toString(36).substring(2,10)}function jE(t,e){return{usr:t.state,key:t.key,idx:e}}function fy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xl(e):e,state:n,key:e&&e.key||r||rk()}}function vc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function sk(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,h="POP",d=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let z=y(),U=z==null?null:z-p;p=z,d&&d({action:h,location:P.location,delta:U})}function b(z,U){h="PUSH";let j=fy(P.location,z,U);p=y()+1;let B=jE(j,p),fe=P.createHref(j);try{u.pushState(B,"",fe)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;a.location.assign(fe)}l&&d&&d({action:h,location:P.location,delta:1})}function x(z,U){h="REPLACE";let j=fy(P.location,z,U);p=y();let B=jE(j,p),fe=P.createHref(j);u.replaceState(B,"",fe),l&&d&&d({action:h,location:P.location,delta:0})}function M(z){return ak(z)}let P={get action(){return h},get location(){return t(a,u)},listen(z){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(UE,v),d=z,()=>{a.removeEventListener(UE,v),d=null}},createHref(z){return e(a,z)},createURL:M,encodeLocation(z){let U=M(z);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:b,replace:x,go(z){return u.go(z)}};return P}function ak(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:vc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function iA(t,e,n="/"){return ok(t,e,n,!1)}function ok(t,e,n,r){let a=typeof e=="string"?xl(e):e,l=Xr(a.pathname||"/",n);if(l==null)return null;let u=rA(t);lk(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=_k(l);h=yk(u[d],p,r)}return h}function rA(t,e=[],n=[],r="",a=!1){let l=(u,h,d=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&d)return;xt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let v=Yr([r,y.relativePath]),b=n.concat(y);u.children&&u.children.length>0&&(xt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),rA(u.children,e,b,v,d)),!(u.path==null&&!u.index)&&e.push({path:v,score:pk(v,u.index),routesMeta:b})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let d of sA(u.path))l(u,h,!0,d)}),e}function sA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=sA(r.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function lk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var uk=/^:[\w-]+$/,ck=3,hk=2,fk=1,dk=10,mk=-2,zE=t=>t==="*";function pk(t,e){let n=t.split("/"),r=n.length;return n.some(zE)&&(r+=mk),e&&(r+=hk),n.filter(a=>!zE(a)).reduce((a,l)=>a+(uk.test(l)?ck:l===""?fk:dk),r)}function gk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function yk(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=od({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),b=d.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=od({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Yr([l,v.pathname]),pathnameBase:wk(Yr([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=Yr([l,v.pathnameBase]))}return u}function od(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vk(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:v},b)=>{if(y==="*"){let M=h[b]||"";u=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const x=h[b];return v&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function vk(t,e=!1,n=!0){ii(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function _k(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ii(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var aA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tk=t=>aA.test(t);function bk(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?xl(t):t,l;if(n)if(Tk(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),ii(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=BE(n.substring(1),"/"):l=BE(n,e)}else l=e;return{pathname:l,search:Sk(r),hash:Ak(a)}}function BE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function xg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ek(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yv(t){let e=Ek(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function vv(t,e,n,r=!1){let a;typeof t=="string"?a=xl(t):(a={...t},xt(!a.pathname||!a.pathname.includes("?"),xg("?","pathname","search",a)),xt(!a.pathname||!a.pathname.includes("#"),xg("#","pathname","hash",a)),xt(!a.search||!a.search.includes("#"),xg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}h=v>=0?e[v]:"/"}let d=bk(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var Yr=t=>t.join("/").replace(/\/\/+/g,"/"),wk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Sk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ak=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Rk=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ck(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function xk(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var oA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function lA(t,e){let n=t;if(typeof n!="string"||!aA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(oA)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Xr(u.pathname,e);u.origin===l.origin&&h!=null?n=h+u.search+u.hash:a=!0}catch{ii(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uA=["POST","PUT","PATCH","DELETE"];new Set(uA);var Ik=["GET",...uA];new Set(Ik);var Il=C.createContext(null);Il.displayName="DataRouter";var Gd=C.createContext(null);Gd.displayName="DataRouterState";var Dk=C.createContext(!1),cA=C.createContext({isTransitioning:!1});cA.displayName="ViewTransition";var kk=C.createContext(new Map);kk.displayName="Fetchers";var Mk=C.createContext(null);Mk.displayName="Await";var ri=C.createContext(null);ri.displayName="Navigation";var Oc=C.createContext(null);Oc.displayName="Location";var Si=C.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var _v=C.createContext(null);_v.displayName="RouteError";var hA="REACT_ROUTER_ERROR",Nk="REDIRECT",Ok="ROUTE_ERROR_RESPONSE";function Pk(t){if(t.startsWith(`${hA}:${Nk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Vk(t){if(t.startsWith(`${hA}:${Ok}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Rk(e.status,e.statusText,e.data)}catch{}}function Lk(t,{relative:e}={}){xt(Dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(ri),{hash:a,pathname:l,search:u}=Pc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Yr([n,l])),r.createHref({pathname:h,search:u,hash:a})}function Dl(){return C.useContext(Oc)!=null}function Hi(){return xt(Dl(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Oc).location}var fA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dA(t){C.useContext(ri).static||C.useLayoutEffect(t)}function kl(){let{isDataRoute:t}=C.useContext(Si);return t?Jk():Uk()}function Uk(){xt(Dl(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(Il),{basename:e,navigator:n}=C.useContext(ri),{matches:r}=C.useContext(Si),{pathname:a}=Hi(),l=JSON.stringify(yv(r)),u=C.useRef(!1);return dA(()=>{u.current=!0}),C.useCallback((d,p={})=>{if(ii(u.current,fA),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=vv(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Yr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}var jk=C.createContext(null);function zk(t){let e=C.useContext(Si).outlet;return C.useMemo(()=>e&&C.createElement(jk.Provider,{value:t},e),[e,t])}function PF(){let{matches:t}=C.useContext(Si),e=t[t.length-1];return e?e.params:{}}function Pc(t,{relative:e}={}){let{matches:n}=C.useContext(Si),{pathname:r}=Hi(),a=JSON.stringify(yv(n));return C.useMemo(()=>vv(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function Bk(t,e){return mA(t,e)}function mA(t,e,n,r,a){xt(Dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=C.useContext(ri),{matches:u}=C.useContext(Si),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let j=v&&v.path||"";gA(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=Hi(),x;if(e){let j=typeof e=="string"?xl(e):e;xt(y==="/"||j.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=b;let M=x.pathname||"/",P=M;if(y!=="/"){let j=y.replace(/^\//,"").split("/");P="/"+M.replace(/^\//,"").split("/").slice(j.length).join("/")}let z=iA(t,{pathname:P});ii(v||z!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ii(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=$k(z&&z.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Yr([y,l.encodeLocation?l.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?y:Yr([y,l.encodeLocation?l.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),u,n,r,a);return e&&U?C.createElement(Oc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},U):U}function Fk(){let t=Xk(),e=Ck(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:l},"ErrorBoundary")," or"," ",C.createElement("code",{style:l},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:a},n):null,u)}var qk=C.createElement(Fk,null),pA=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Vk(t.digest);n&&(t=n)}let e=t!==void 0?C.createElement(Si.Provider,{value:this.props.routeContext},C.createElement(_v.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?C.createElement(Hk,{error:t},e):e}};pA.contextType=Dk;var Ig=new WeakMap;function Hk({children:t,error:e}){let{basename:n}=C.useContext(ri);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Pk(e.digest);if(r){let a=Ig.get(e);if(a)throw a;let l=lA(r.location,n);if(oA&&!Ig.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw Ig.set(e,u),u}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function Gk({routeContext:t,match:e,children:n}){let r=C.useContext(Il);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Si.Provider,{value:t},n)}function $k(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);xt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,d=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=y),v.route.id){let{loaderData:b,errors:x}=n,M=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!x||x[v.route.id]===void 0);if(v.route.lazy||M){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let p=n&&r?(y,v)=>{r(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:xk(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,b)=>{let x,M=!1,P=null,z=null;n&&(x=u&&v.route.id?u[v.route.id]:void 0,P=v.route.errorElement||qk,h&&(d<0&&b===0?(gA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,z=null):d===b&&(M=!0,z=v.route.hydrateFallbackElement||null)));let U=e.concat(l.slice(0,b+1)),j=()=>{let B;return x?B=P:M?B=z:v.route.Component?B=C.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=y,C.createElement(Gk,{match:v,routeContext:{outlet:y,matches:U,isDataRoute:n!=null},children:B})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?C.createElement(pA,{location:n.location,revalidation:n.revalidation,component:P,error:x,children:j(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:p}):j()},null)}function Tv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yk(t){let e=C.useContext(Il);return xt(e,Tv(t)),e}function Kk(t){let e=C.useContext(Gd);return xt(e,Tv(t)),e}function Wk(t){let e=C.useContext(Si);return xt(e,Tv(t)),e}function bv(t){let e=Wk(t),n=e.matches[e.matches.length-1];return xt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Qk(){return bv("useRouteId")}function Xk(){let t=C.useContext(_v),e=Kk("useRouteError"),n=bv("useRouteError");return t!==void 0?t:e.errors?.[n]}function Jk(){let{router:t}=Yk("useNavigate"),e=bv("useNavigate"),n=C.useRef(!1);return dA(()=>{n.current=!0}),C.useCallback(async(a,l={})=>{ii(n.current,fA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var FE={};function gA(t,e,n){!e&&!FE[t]&&(FE[t]=!0,ii(!1,n))}C.memo(Zk);function Zk({routes:t,future:e,state:n,onError:r}){return mA(t,void 0,n,r,e)}function yA({to:t,replace:e,state:n,relative:r}){xt(Dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(ri);ii(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=C.useContext(Si),{pathname:u}=Hi(),h=kl(),d=vv(t,yv(l),u,r==="path"),p=JSON.stringify(d);return C.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:r})},[h,p,r,e,n]),null}function vA(t){return zk(t.context)}function Ot(t){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){xt(!Dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[h,a,l,u]);typeof n=="string"&&(n=xl(n));let{pathname:p="/",search:y="",hash:v="",state:b=null,key:x="default"}=n,M=C.useMemo(()=>{let P=Xr(p,h);return P==null?null:{location:{pathname:P,search:y,hash:v,state:b,key:x},navigationType:r}},[h,p,y,v,b,x,r]);return ii(M!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:C.createElement(ri.Provider,{value:d},C.createElement(Oc.Provider,{children:e,value:M}))}function tM({children:t,location:e}){return Bk(dy(t),e)}function dy(t,e=[]){let n=[];return C.Children.forEach(t,(r,a)=>{if(!C.isValidElement(r))return;let l=[...e,a];if(r.type===C.Fragment){n.push.apply(n,dy(r.props.children,l));return}xt(r.type===Ot,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=dy(r.props.children,l)),n.push(u)}),n}var Ff="get",qf="application/x-www-form-urlencoded";function $d(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function nM(t){return $d(t)&&t.tagName.toLowerCase()==="button"}function iM(t){return $d(t)&&t.tagName.toLowerCase()==="form"}function rM(t){return $d(t)&&t.tagName.toLowerCase()==="input"}function sM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aM(t,e){return t.button===0&&(!e||e==="_self")&&!sM(t)}function my(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function oM(t,e){let n=my(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var If=null;function lM(){if(If===null)try{new FormData(document.createElement("form"),0),If=!1}catch{If=!0}return If}var uM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dg(t){return t!=null&&!uM.has(t)?(ii(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qf}"`),null):t}function cM(t,e){let n,r,a,l,u;if(iM(t)){let h=t.getAttribute("action");r=h?Xr(h,e):null,n=t.getAttribute("method")||Ff,a=Dg(t.getAttribute("enctype"))||qf,l=new FormData(t)}else if(nM(t)||rM(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Xr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Ff,a=Dg(t.getAttribute("formenctype"))||Dg(h.getAttribute("enctype"))||qf,l=new FormData(h,t),!lM()){let{name:p,type:y,value:v}=t;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,v)}}else{if($d(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ff,r=null,a=qf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ev(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hM(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Xr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function fM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mM(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await fM(l,n);return u.links?u.links():[]}return[]}));return vM(r.flat(1).filter(dM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function qE(t,e,n,r,a,l){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function pM(t,e,{includeHydrateFallback:n}={}){return gM(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function gM(t){return[...new Set(t)]}function yM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function vM(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(yM(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function _A(){let t=C.useContext(Il);return Ev(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _M(){let t=C.useContext(Gd);return Ev(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var wv=C.createContext(void 0);wv.displayName="FrameworkContext";function TA(){let t=C.useContext(wv);return Ev(t,"You must render this element inside a <HydratedRouter> element"),t}function TM(t,e){let n=C.useContext(wv),[r,a]=C.useState(!1),[l,u]=C.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,b=C.useRef(null);C.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=U=>{U.forEach(j=>{u(j.isIntersecting)})},z=new IntersectionObserver(P,{threshold:.5});return b.current&&z.observe(b.current),()=>{z.disconnect()}}},[t]),C.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let x=()=>{a(!0)},M=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Yu(h,x),onBlur:Yu(d,M),onMouseEnter:Yu(p,x),onMouseLeave:Yu(y,M),onTouchStart:Yu(v,x)}]:[!1,b,{}]}function Yu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function bM({page:t,...e}){let{router:n}=_A(),r=C.useMemo(()=>iA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(wM,{page:t,matches:r,...e}):null}function EM(t){let{manifest:e,routeModules:n}=TA(),[r,a]=C.useState([]);return C.useEffect(()=>{let l=!1;return mM(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),r}function wM({page:t,matches:e,...n}){let r=Hi(),{future:a,manifest:l,routeModules:u}=TA(),{basename:h}=_A(),{loaderData:d,matches:p}=_M(),y=C.useMemo(()=>qE(t,e,p,l,r,"data"),[t,e,p,l,r]),v=C.useMemo(()=>qE(t,e,p,l,r,"assets"),[t,e,p,l,r]),b=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let P=new Set,z=!1;if(e.forEach(j=>{let B=l.routes[j.route.id];!B||!B.hasLoader||(!y.some(fe=>fe.route.id===j.route.id)&&j.route.id in d&&u[j.route.id]?.shouldRevalidate||B.hasClientLoader?z=!0:P.add(j.route.id))}),P.size===0)return[];let U=hM(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return z&&P.size>0&&U.searchParams.set("_routes",e.filter(j=>P.has(j.route.id)).map(j=>j.route.id).join(",")),[U.pathname+U.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,r,l,y,e,t,u]),x=C.useMemo(()=>pM(v,l),[v,l]),M=EM(v);return C.createElement(C.Fragment,null,b.map(P=>C.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),x.map(P=>C.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),M.map(({key:P,link:z})=>C.createElement("link",{key:P,nonce:n.nonce,...z})))}function SM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AM&&(window.__reactRouterVersion="7.12.0")}catch{}function RM({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=C.useRef();a.current==null&&(a.current=ik({window:r,v5Compat:!0}));let l=a.current,[u,h]=C.useState({action:l.action,location:l.location}),d=C.useCallback(p=>{n===!1?h(p):C.startTransition(()=>h(p))},[n]);return C.useLayoutEffect(()=>l.listen(d),[l,d]),C.createElement(eM,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var bA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ld=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:b,...x},M){let{basename:P,unstable_useTransitions:z}=C.useContext(ri),U=typeof p=="string"&&bA.test(p),j=lA(p,P);p=j.to;let B=Lk(p,{relative:a}),[fe,V,Z]=TM(r,x),A=DM(p,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:b,unstable_useTransitions:z});function w(N){e&&e(N),N.defaultPrevented||A(N)}let D=C.createElement("a",{...x,...Z,href:j.absoluteURL||B,onClick:j.isExternal||l?e:w,ref:SM(M,V),target:d,"data-discover":!U&&n==="render"?"true":void 0});return fe&&!U?C.createElement(C.Fragment,null,D,C.createElement(bM,{page:B})):D});ld.displayName="Link";var CM=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...p},y){let v=Pc(u,{relative:p.relative}),b=Hi(),x=C.useContext(Gd),{navigator:M,basename:P}=C.useContext(ri),z=x!=null&&VM(v)&&h===!0,U=M.encodeLocation?M.encodeLocation(v).pathname:v.pathname,j=b.pathname,B=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(j=j.toLowerCase(),B=B?B.toLowerCase():null,U=U.toLowerCase()),B&&P&&(B=Xr(B,P)||B);const fe=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let V=j===U||!a&&j.startsWith(U)&&j.charAt(fe)==="/",Z=B!=null&&(B===U||!a&&B.startsWith(U)&&B.charAt(U.length)==="/"),A={isActive:V,isPending:Z,isTransitioning:z},w=V?e:void 0,D;typeof r=="function"?D=r(A):D=[r,V?"active":null,Z?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(A):l;return C.createElement(ld,{...p,"aria-current":w,className:D,ref:y,style:N,to:u,viewTransition:h},typeof d=="function"?d(A):d)});CM.displayName="NavLink";var xM=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:u=Ff,action:h,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:b,...x},M)=>{let{unstable_useTransitions:P}=C.useContext(ri),z=OM(),U=PM(h,{relative:p}),j=u.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&bA.test(h),fe=V=>{if(d&&d(V),V.defaultPrevented)return;V.preventDefault();let Z=V.nativeEvent.submitter,A=Z?.getAttribute("formmethod")||u,w=()=>z(Z||V.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:b});P&&n!==!1?C.startTransition(()=>w()):w()};return C.createElement("form",{ref:M,method:j,action:U,onSubmit:r?d:fe,...x,"data-discover":!B&&t==="render"?"true":void 0})});xM.displayName="Form";function IM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EA(t){let e=C.useContext(Il);return xt(e,IM(t)),e}function DM(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let p=kl(),y=Hi(),v=Pc(t,{relative:l});return C.useCallback(b=>{if(aM(b,e)){b.preventDefault();let x=n!==void 0?n:vc(y)===vc(v),M=()=>p(t,{replace:x,state:r,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h});d?C.startTransition(()=>M()):M()}},[y,p,v,n,r,e,t,a,l,u,h,d])}function kM(t){ii(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=C.useRef(my(t)),n=C.useRef(!1),r=Hi(),a=C.useMemo(()=>oM(r.search,n.current?null:e.current),[r.search]),l=kl(),u=C.useCallback((h,d)=>{const p=my(typeof h=="function"?h(new URLSearchParams(a)):h);n.current=!0,l("?"+p,d)},[l,a]);return[a,u]}var MM=0,NM=()=>`__${String(++MM)}__`;function OM(){let{router:t}=EA("useSubmit"),{basename:e}=C.useContext(ri),n=Qk(),r=t.fetch,a=t.navigate;return C.useCallback(async(l,u={})=>{let{action:h,method:d,encType:p,formData:y,body:v}=cM(l,e);if(u.navigate===!1){let b=u.fetcherKey||NM();await r(b,n,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||d,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||d,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,a,e,n])}function PM(t,{relative:e}={}){let{basename:n}=C.useContext(ri),r=C.useContext(Si);xt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Pc(t||".",{relative:e})},u=Hi();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Yr([n,l.pathname])),vc(l)}function VM(t,{relative:e}={}){let n=C.useContext(cA);xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=EA("useViewTransitionState"),a=Pc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Xr(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Xr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return od(a.pathname,u)!=null||od(a.pathname,l)!=null}const LM=()=>{};var HE={};const wA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},UM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},SA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let b=(h&15)<<2|p>>6,x=p&63;d||(x=64,u||(b=64)),r.push(n[y],n[v],n[b],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new jM;const b=l<<2|h>>4;if(r.push(b),p!==64){const x=h<<4&240|p>>2;if(r.push(x),v!==64){const M=p<<6&192|v;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zM=function(t){const e=wA(t);return SA.encodeByteArray(e,!0)},ud=function(t){return zM(t).replace(/\./g,"")},AA=function(t){try{return SA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function BM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const FM=()=>BM().__FIREBASE_DEFAULTS__,qM=()=>{if(typeof process>"u"||typeof HE>"u")return;const t=HE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AA(t[1]);return e&&JSON.parse(e)},Yd=()=>{try{return LM()||FM()||qM()||HM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RA=t=>Yd()?.emulatorHosts?.[t],CA=t=>{const e=RA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xA=()=>Yd()?.config,IA=t=>Yd()?.[`_${t}`];class GM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function la(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sv(t){return(await fetch(t,{credentials:"include"})).ok}function $M(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ud(JSON.stringify(n)),ud(JSON.stringify(u)),""].join(".")}const oc={};function YM(){const t={prod:[],emulator:[]};for(const e of Object.keys(oc))oc[e]?t.emulator.push(e):t.prod.push(e);return t}function KM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let GE=!1;function Av(t,e){if(typeof window>"u"||typeof document>"u"||!la(window.location.host)||oc[t]===e||oc[t]||GE)return;oc[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",l=YM().prod.length>0;function u(){const b=document.getElementById(r);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{GE=!0,u()},b}function y(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=KM(r),x=n("text"),M=document.getElementById(x)||document.createElement("span"),P=n("learnmore"),z=document.getElementById(P)||document.createElement("a"),U=n("preprendIcon"),j=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const B=b.element;h(B),y(z,P);const fe=p();d(j,U),B.append(j,M,z,fe),document.body.appendChild(B)}l?(M.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function QM(){const t=Yd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eN(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tN(){return!QM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nN(){try{return typeof indexedDB=="object"}catch{return!1}}function iN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const rN="FirebaseError";class wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rN,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vc.prototype.create)}}class Vc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?sN(l,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new wr(a,h,r)}}function sN(t,e){return t.replace(aN,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const aN=/\{\$([^}]+)}/g;function oN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function to(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],u=e[a];if($E(l)&&$E(u)){if(!to(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function $E(t){return t!==null&&typeof t=="object"}function Lc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function ec(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lN(t,e){const n=new uN(t,e);return n.subscribe.bind(n)}class uN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=kg),a.error===void 0&&(a.error=kg),a.complete===void 0&&(a.complete=kg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kg(){}function bt(t){return t&&t._delegate?t._delegate:t}class Zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ha="[DEFAULT]";class hN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dN(e))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ha){return this.instances.has(e)}getOptions(e=Ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ha){return this.component?this.component.multipleInstances?e:Ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fN(t){return t===Ha?void 0:t}function dN(t){return t.instantiationMode==="EAGER"}class mN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const pN={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},gN=tt.INFO,yN={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},vN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=yN[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rv{constructor(e){this.name=e,this._logLevel=gN,this._logHandler=vN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const _N=(t,e)=>e.some(n=>t instanceof n);let YE,KE;function TN(){return YE||(YE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bN(){return KE||(KE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DA=new WeakMap,py=new WeakMap,kA=new WeakMap,Mg=new WeakMap,Cv=new WeakMap;function EN(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ws(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&DA.set(n,t)}).catch(()=>{}),Cv.set(e,t),e}function wN(t){if(py.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});py.set(t,e)}let gy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return py.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SN(t){gy=t(gy)}function AN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ng(this),e,...n);return kA.set(r,e.sort?e.sort():[e]),Ws(r)}:bN().includes(t)?function(...e){return t.apply(Ng(this),e),Ws(DA.get(this))}:function(...e){return Ws(t.apply(Ng(this),e))}}function RN(t){return typeof t=="function"?AN(t):(t instanceof IDBTransaction&&wN(t),_N(t,TN())?new Proxy(t,gy):t)}function Ws(t){if(t instanceof IDBRequest)return EN(t);if(Mg.has(t))return Mg.get(t);const e=RN(t);return e!==t&&(Mg.set(t,e),Cv.set(e,t)),e}const Ng=t=>Cv.get(t);function CN(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Ws(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Ws(u.result),d.oldVersion,d.newVersion,Ws(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const xN=["get","getKey","getAll","getAllKeys","count"],IN=["put","add","delete","clear"],Og=new Map;function WE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Og.get(e))return Og.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=IN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||xN.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return Og.set(e,l),l}SN(t=>({...t,get:(e,n,r)=>WE(e,n)||t.get(e,n,r),has:(e,n)=>!!WE(e,n)||t.has(e,n)}));class DN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kN(t){return t.getComponent()?.type==="VERSION"}const yy="@firebase/app",QE="0.14.7";const Jr=new Rv("@firebase/app"),MN="@firebase/app-compat",NN="@firebase/analytics-compat",ON="@firebase/analytics",PN="@firebase/app-check-compat",VN="@firebase/app-check",LN="@firebase/auth",UN="@firebase/auth-compat",jN="@firebase/database",zN="@firebase/data-connect",BN="@firebase/database-compat",FN="@firebase/functions",qN="@firebase/functions-compat",HN="@firebase/installations",GN="@firebase/installations-compat",$N="@firebase/messaging",YN="@firebase/messaging-compat",KN="@firebase/performance",WN="@firebase/performance-compat",QN="@firebase/remote-config",XN="@firebase/remote-config-compat",JN="@firebase/storage",ZN="@firebase/storage-compat",eO="@firebase/firestore",tO="@firebase/ai",nO="@firebase/firestore-compat",iO="firebase",rO="12.8.0";const vy="[DEFAULT]",sO={[yy]:"fire-core",[MN]:"fire-core-compat",[ON]:"fire-analytics",[NN]:"fire-analytics-compat",[VN]:"fire-app-check",[PN]:"fire-app-check-compat",[LN]:"fire-auth",[UN]:"fire-auth-compat",[jN]:"fire-rtdb",[zN]:"fire-data-connect",[BN]:"fire-rtdb-compat",[FN]:"fire-fn",[qN]:"fire-fn-compat",[HN]:"fire-iid",[GN]:"fire-iid-compat",[$N]:"fire-fcm",[YN]:"fire-fcm-compat",[KN]:"fire-perf",[WN]:"fire-perf-compat",[QN]:"fire-rc",[XN]:"fire-rc-compat",[JN]:"fire-gcs",[ZN]:"fire-gcs-compat",[eO]:"fire-fst",[nO]:"fire-fst-compat",[tO]:"fire-vertex","fire-js":"fire-js",[iO]:"fire-js-all"};const cd=new Map,aO=new Map,_y=new Map;function XE(t,e){try{t.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function no(t){const e=t.name;if(_y.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;_y.set(e,t);for(const n of cd.values())XE(n,t);for(const n of aO.values())XE(n,t);return!0}function Kd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qn(t){return t==null?!1:t.settings!==void 0}const oO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new Vc("app","Firebase",oO);class lO{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const Ml=rO;function MA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:vy,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Qs.create("bad-app-name",{appName:String(a)});if(n||(n=xA()),!n)throw Qs.create("no-options");const l=cd.get(a);if(l){if(to(n,l.options)&&to(r,l.config))return l;throw Qs.create("duplicate-app",{appName:a})}const u=new mN(a);for(const d of _y.values())u.addComponent(d);const h=new lO(n,r,u);return cd.set(a,h),h}function xv(t=vy){const e=cd.get(t);if(!e&&t===vy&&xA())return MA();if(!e)throw Qs.create("no-app",{appName:t});return e}function pr(t,e,n){let r=sO[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(u.join(" "));return}no(new Zs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const uO="firebase-heartbeat-database",cO=1,_c="firebase-heartbeat-store";let Pg=null;function NA(){return Pg||(Pg=CN(uO,cO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_c)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qs.create("idb-open",{originalErrorMessage:t.message})})),Pg}async function hO(t){try{const n=(await NA()).transaction(_c),r=await n.objectStore(_c).get(OA(t));return await n.done,r}catch(e){if(e instanceof wr)Jr.warn(e.message);else{const n=Qs.create("idb-get",{originalErrorMessage:e?.message});Jr.warn(n.message)}}}async function JE(t,e){try{const r=(await NA()).transaction(_c,"readwrite");await r.objectStore(_c).put(e,OA(t)),await r.done}catch(n){if(n instanceof wr)Jr.warn(n.message);else{const r=Qs.create("idb-set",{originalErrorMessage:n?.message});Jr.warn(r.message)}}}function OA(t){return`${t.name}!${t.options.appId}`}const fO=1024,dO=30;class mO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ZE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>dO){const a=yO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Jr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ZE(),{heartbeatsToSend:n,unsentEntries:r}=pO(this._heartbeatsCache.heartbeats),a=ud(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Jr.warn(e),""}}}function ZE(){return new Date().toISOString().substring(0,10)}function pO(t,e=fO){const n=[];let r=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),ew(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),ew(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nN()?iN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return JE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return JE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ew(t){return ud(JSON.stringify({version:2,heartbeats:t})).length}function yO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function vO(t){no(new Zs("platform-logger",e=>new DN(e),"PRIVATE")),no(new Zs("heartbeat",e=>new mO(e),"PRIVATE")),pr(yy,QE,t),pr(yy,QE,"esm2020"),pr("fire-js","")}vO("");var _O="firebase",TO="12.8.0";pr(_O,TO,"app");function PA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bO=PA,VA=new Vc("auth","Firebase",PA());const hd=new Rv("@firebase/auth");function EO(t,...e){hd.logLevel<=tt.WARN&&hd.warn(`Auth (${Ml}): ${t}`,...e)}function Hf(t,...e){hd.logLevel<=tt.ERROR&&hd.error(`Auth (${Ml}): ${t}`,...e)}function wi(t,...e){throw Dv(t,...e)}function zi(t,...e){return Dv(t,...e)}function Iv(t,e,n){const r={...bO(),[e]:n};return new Vc("auth","Firebase",r).create(e,{appName:t.name})}function Kr(t){return Iv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wi(t,"argument-error"),Iv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VA.create(t,...e)}function je(t,e,...n){if(!t)throw Dv(e,...n)}function Gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hf(e),new Error(e)}function Zr(t,e){t||Gr(e)}function Ty(){return typeof self<"u"&&self.location?.href||""}function SO(){return tw()==="http:"||tw()==="https:"}function tw(){return typeof self<"u"&&self.location?.protocol||null}function AO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SO()||JM()||"connection"in navigator)?navigator.onLine:!0}function RO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Uc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zr(n>e,"Short delay should be less than long delay!"),this.isMobile=WM()||ZM()}get(){return AO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kv(t,e){Zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class LA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IO=new Uc(3e4,6e4);function rs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Gi(t,e,n,r,a={}){return UA(t,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const h=Lc({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...l};return XM()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&la(t.emulatorConfig.host)&&(p.credentials="include"),LA.fetch()(await jA(t,t.config.apiHost,n,h),p)})}async function UA(t,e,n){t._canInitEmulator=!1;const r={...CO,...e};try{const a=new kO(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Df(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Df(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Df(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Df(t,"user-disabled",u);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Iv(t,y,p);wi(t,y)}}catch(a){if(a instanceof wr)throw a;wi(t,"network-request-failed",{message:String(a)})}}async function jc(t,e,n,r,a={}){const l=await Gi(t,e,n,r,a);return"mfaPendingCredential"in l&&wi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function jA(t,e,n,r){const a=`${e}${n}?${r}`,l=t,u=l.config.emulator?kv(t.config,a):`${t.config.apiScheme}://${a}`;return xO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function DO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zi(this.auth,"network-request-failed")),IO.get())})}}function Df(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=zi(t,e,r);return a.customData._tokenResponse=n,a}function nw(t){return t!==void 0&&t.enterprise!==void 0}class MO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NO(t,e){return Gi(t,"GET","/v2/recaptchaConfig",rs(t,e))}async function OO(t,e){return Gi(t,"POST","/v1/accounts:delete",e)}async function fd(t,e){return Gi(t,"POST","/v1/accounts:lookup",e)}function lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PO(t,e=!1){const n=bt(t),r=await n.getIdToken(e),a=Mv(r);je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:r,authTime:lc(Vg(a.auth_time)),issuedAtTime:lc(Vg(a.iat)),expirationTime:lc(Vg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Vg(t){return Number(t)*1e3}function Mv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hf("JWT malformed, contained fewer than 3 sections"),null;try{const a=AA(n);return a?JSON.parse(a):(Hf("Failed to decode base64 JWT payload"),null)}catch(a){return Hf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function iw(t){const e=Mv(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function io(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wr&&VO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class LO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class by{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function dd(t){const e=t.auth,n=await t.getIdToken(),r=await io(t,fd(e,{idToken:n}));je(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?zA(a.providerUserInfo):[],u=jO(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new by(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function UO(t){const e=bt(t);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jO(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function zA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function zO(t,e){const n=await UA(t,{},async()=>{const r=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await jA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&la(t.emulatorConfig.host)&&(d.credentials="include"),LA.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BO(t,e){return Gi(t,"POST","/v2/accounts:revokeToken",rs(t,e))}class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=iw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await zO(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,u=new hl;return r&&(je(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(je(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(je(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return Gr("not implemented")}}function js(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ji{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new LO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new by(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await io(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PO(this,e)}reload(){return UO(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ji({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await io(this,OO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:M,stsTokenManager:P}=n;je(v&&P,e,"internal-error");const z=hl.fromJSON(this.name,P);je(typeof v=="string",e,"internal-error"),js(r,e.name),js(a,e.name),je(typeof b=="boolean",e,"internal-error"),je(typeof x=="boolean",e,"internal-error"),js(l,e.name),js(u,e.name),js(h,e.name),js(d,e.name),js(p,e.name),js(y,e.name);const U=new ji({uid:v,auth:e,email:a,emailVerified:b,displayName:r,isAnonymous:x,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:z,createdAt:p,lastLoginAt:y});return M&&Array.isArray(M)&&(U.providerData=M.map(j=>({...j}))),d&&(U._redirectEventId=d),U}static async _fromIdTokenResponse(e,n,r=!1){const a=new hl;a.updateFromServerResponse(n);const l=new ji({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await dd(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];je(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?zA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new hl;h.updateFromIdToken(r);const d=new ji({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new by(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}const rw=new Map;function $r(t){Zr(t instanceof Function,"Expected a class definition");let e=rw.get(t);return e?(Zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rw.set(t,e),e)}class BA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BA.type="NONE";const sw=BA;function Gf(t,e,n){return`firebase:${t}:${e}:${n}`}class fl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Gf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Gf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fd(this.auth,{idToken:e}).catch(()=>{});return n?ji._fromGetAccountInfoResponse(this.auth,n,e):null}return ji._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fl($r(sw),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||$r(sw);const u=Gf(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const b=await fd(e,{idToken:y}).catch(()=>{});if(!b)break;v=await ji._fromGetAccountInfoResponse(e,b,y)}else v=ji._fromJSON(e,y);p!==l&&(h=v),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new fl(l,e,r):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new fl(l,e,r))}}function aw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YA(e))return"Blackberry";if(KA(e))return"Webos";if(qA(e))return"Safari";if((e.includes("chrome/")||HA(e))&&!e.includes("edge/"))return"Chrome";if($A(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function FA(t=In()){return/firefox\//i.test(t)}function qA(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HA(t=In()){return/crios\//i.test(t)}function GA(t=In()){return/iemobile/i.test(t)}function $A(t=In()){return/android/i.test(t)}function YA(t=In()){return/blackberry/i.test(t)}function KA(t=In()){return/webos/i.test(t)}function Nv(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FO(t=In()){return Nv(t)&&!!window.navigator?.standalone}function qO(){return eN()&&document.documentMode===10}function WA(t=In()){return Nv(t)||$A(t)||KA(t)||YA(t)||/windows phone/i.test(t)||GA(t)}function QA(t,e=[]){let n;switch(t){case"Browser":n=aw(In());break;case"Worker":n=`${aw(In())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ml}/${r}`}class HO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function GO(t,e={}){return Gi(t,"GET","/v2/passwordPolicy",rs(t,e))}const $O=6;class YO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$O,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class KO{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ow(this),this.idTokenSubscription=new ow(this),this.beforeStateQueue=new HO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fd(this,{idToken:e}),r=await ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(Kr(this));const n=e?bt(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GO(this),n=new YO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await BO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$r(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&EO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ss(t){return bt(t)}class ow{constructor(e){this.auth=e,this.observer=null,this.addObserver=lN(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WO(t){Wd=t}function XA(t){return Wd.loadJS(t)}function QO(){return Wd.recaptchaEnterpriseScript}function XO(){return Wd.gapiScript}function JO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ZO{constructor(){this.enterprise=new eP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tP="recaptcha-enterprise",JA="NO_RECAPTCHA";class nP{constructor(e){this.type=tP,this.auth=ss(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{NO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new MO(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;nw(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(JA)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZO().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(h=>{if(!n&&nw(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=QO();d.length!==0&&(d+=h),XA(d).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function lw(t,e,n,r=!1,a=!1){const l=new nP(t);let u;if(a)u=JA;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function md(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await lw(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await lw(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}function iP(t,e){const n=Kd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(to(l,e??{}))return a;wi(a,"already-initialized")}return n.initialize({options:e})}function rP(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($r);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function sP(t,e,n){const r=ss(t);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=ZA(e),{host:u,port:h}=aP(e),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(to(p,r.config.emulator)&&to(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,la(u)?(Sv(`${l}//${u}${d}`),Av("Auth",!0)):oP()}function ZA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aP(t){const e=ZA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:uw(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:uw(u)}}}function uw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Ov{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function lP(t,e){return Gi(t,"POST","/v1/accounts:update",e)}async function uP(t,e){return Gi(t,"POST","/v1/accounts:signUp",e)}async function cP(t,e){return jc(t,"POST","/v1/accounts:signInWithPassword",rs(t,e))}async function eR(t,e){return Gi(t,"POST","/v1/accounts:sendOobCode",rs(t,e))}async function hP(t,e){return eR(t,e)}async function fP(t,e){return eR(t,e)}async function dP(t,e){return jc(t,"POST","/v1/accounts:signInWithEmailLink",rs(t,e))}async function mP(t,e){return jc(t,"POST","/v1/accounts:signInWithEmailLink",rs(t,e))}class Tc extends Ov{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Tc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Tc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return md(e,n,"signInWithPassword",cP);case"emailLink":return dP(e,{email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return md(e,r,"signUpPassword",uP);case"emailLink":return mP(e,{idToken:n,email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function dl(t,e){return jc(t,"POST","/v1/accounts:signInWithIdp",rs(t,e))}const pP="http://localhost";class ro extends Ov{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const u=new ro(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return dl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,dl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,dl(e,n)}buildRequest(){const e={requestUri:pP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lc(n)}return e}}function gP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yP(t){const e=Zu(ec(t)).link,n=e?Zu(ec(e)).deep_link_id:null,r=Zu(ec(t)).deep_link_id;return(r?Zu(ec(r)).link:null)||r||n||e||t}class Pv{constructor(e){const n=Zu(ec(e)),r=n.apiKey??null,a=n.oobCode??null,l=gP(n.mode??null);je(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yP(e);try{return new Pv(n)}catch{return null}}}class Nl{constructor(){this.providerId=Nl.PROVIDER_ID}static credential(e,n){return Tc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Pv.parseLink(n);return je(r,"argument-error"),Tc._fromEmailAndCode(e,r.code,r.tenantId)}}Nl.PROVIDER_ID="password";Nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Vv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zc extends Vv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qs extends zc{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";class Hs extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ro._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hs.credential(n,r)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";class Gs extends zc{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";class $s extends zc{constructor(){super("twitter.com")}static credential(e,n){return ro._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $s.credential(n,r)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";async function vP(t,e){return jc(t,"POST","/v1/accounts:signUp",rs(t,e))}class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await ji._fromIdTokenResponse(e,r,a),u=cw(r);return new so({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=cw(r);return new so({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function cw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class pd extends wr{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,pd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new pd(e,n,r,a)}}function tR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?pd._fromErrorAndOperation(t,l,e,r):l})}async function _P(t,e,n=!1){const r=await io(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return so._forOperation(t,"link",r)}async function nR(t,e,n=!1){const{auth:r}=t;if(qn(r.app))return Promise.reject(Kr(r));const a="reauthenticate";try{const l=await io(t,tR(r,a,e,t),n);je(l.idToken,r,"internal-error");const u=Mv(l.idToken);je(u,r,"internal-error");const{sub:h}=u;return je(t.uid===h,r,"user-mismatch"),so._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&wi(r,"user-mismatch"),l}}async function iR(t,e,n=!1){if(qn(t.app))return Promise.reject(Kr(t));const r="signIn",a=await tR(t,r,e),l=await so._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function TP(t,e){return iR(ss(t),e)}async function VF(t,e){return nR(bt(t),e)}async function rR(t){const e=ss(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LF(t,e,n){const r=ss(t);await md(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",fP)}async function UF(t,e,n){if(qn(t.app))return Promise.reject(Kr(t));const r=ss(t),u=await md(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vP).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&rR(t),d}),h=await so._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function jF(t,e,n){return qn(t.app)?Promise.reject(Kr(t)):TP(bt(t),Nl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rR(t),r})}async function zF(t,e){const n=bt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await hP(n.auth,a);l!==t.email&&await t.reload()}async function bP(t,e){return Gi(t,"POST","/v1/accounts:update",e)}async function BF(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=bt(t),l={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await io(r,bP(r.auth,l));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function FF(t,e){return EP(bt(t),null,e)}async function EP(t,e,n){const{auth:r}=t,l={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(l.password=n);const u=await io(t,lP(r,l));await t._updateTokensIfNecessary(u,!0)}function wP(t,e,n,r){return bt(t).onIdTokenChanged(e,n,r)}function SP(t,e,n){return bt(t).beforeAuthStateChanged(e,n)}function AP(t,e,n,r){return bt(t).onAuthStateChanged(e,n,r)}function sR(t){return bt(t).signOut()}const gd="__sak";class aR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gd,"1"),this.storage.removeItem(gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const RP=1e3,CP=10;class oR extends aR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);qO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,CP):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oR.type="LOCAL";const xP=oR;class lR extends aR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lR.type="SESSION";const uR=lR;function IP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Qd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),d=await IP(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qd.receivers=[];function Lv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class DP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=Lv("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(b.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function gr(){return window}function kP(t){gr().location.href=t}function cR(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function MP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NP(){return navigator?.serviceWorker?.controller||null}function OP(){return cR()?self:null}const hR="firebaseLocalStorageDb",PP=1,yd="firebaseLocalStorage",fR="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xd(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function VP(){const t=indexedDB.deleteDatabase(hR);return new Bc(t).toPromise()}function Ey(){const t=indexedDB.open(hR,PP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yd,{keyPath:fR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yd)?e(r):(r.close(),await VP(),e(await Ey()))})})}async function hw(t,e,n){const r=Xd(t,!0).put({[fR]:e,value:n});return new Bc(r).toPromise()}async function LP(t,e){const n=Xd(t,!1).get(e),r=await new Bc(n).toPromise();return r===void 0?null:r.value}function fw(t,e){const n=Xd(t,!0).delete(e);return new Bc(n).toPromise()}const UP=800,jP=3;class dR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ey(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qd._getInstance(OP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MP(),!this.activeServiceWorker)return;this.sender=new DP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ey();return await hw(e,gd,"1"),await fw(e,gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>LP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Xd(a,!1).getAll();return new Bc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dR.type="LOCAL";const zP=dR;new Uc(3e4,6e4);function mR(t,e){return e?$r(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Uv extends Ov{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BP(t){return iR(t.auth,new Uv(t),t.bypassAuthState)}function FP(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),nR(n,new Uv(t),t.bypassAuthState)}async function qP(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),_P(n,new Uv(t),t.bypassAuthState)}class pR{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BP;case"linkViaPopup":case"linkViaRedirect":return qP;case"reauthViaPopup":case"reauthViaRedirect":return FP;default:wi(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const HP=new Uc(2e3,1e4);async function qF(t,e,n){if(qn(t.app))return Promise.reject(zi(t,"operation-not-supported-in-this-environment"));const r=ss(t);wO(t,e,Vv);const a=mR(r,n);return new Ya(r,"signInViaPopup",e,a).executeNotNull()}class Ya extends pR{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=Lv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HP.get())};e()}}Ya.currentPopupAction=null;const GP="pendingRedirect",$f=new Map;class $P extends pR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$f.get(this.auth._key());if(!e){try{const r=await YP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$f.set(this.auth._key(),e)}return this.bypassAuthState||$f.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YP(t,e){const n=QP(e),r=WP(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function KP(t,e){$f.set(t._key(),e)}function WP(t){return $r(t._redirectPersistence)}function QP(t){return Gf(GP,t.config.apiKey,t.name)}async function XP(t,e,n=!1){if(qn(t.app))return Promise.reject(Kr(t));const r=ss(t),a=mR(r,e),u=await new $P(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const JP=600*1e3;class ZP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!gR(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(zi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JP&&this.cachedEventUids.clear(),this.cachedEventUids.has(dw(e))}saveEventToCache(e){this.cachedEventUids.add(dw(e)),this.lastProcessedEventTime=Date.now()}}function dw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function eV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gR(t);default:return!1}}async function tV(t,e={}){return Gi(t,"GET","/v1/projects",e)}const nV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iV=/^https?/;async function rV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tV(t);for(const n of e)try{if(sV(n))return}catch{}wi(t,"unauthorized-domain")}function sV(t){const e=Ty(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!iV.test(n))return!1;if(nV.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const aV=new Uc(3e4,6e4);function mw(){const t=gr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oV(t){return new Promise((e,n)=>{function r(){mw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mw(),n(zi(t,"network-request-failed"))},timeout:aV.get()})}if(gr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gr().gapi?.load)r();else{const a=JO("iframefcb");return gr()[a]=()=>{gapi.load?r():n(zi(t,"network-request-failed"))},XA(`${XO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Yf=null,e})}let Yf=null;function lV(t){return Yf=Yf||oV(t),Yf}const uV=new Uc(5e3,15e3),cV="__/auth/iframe",hV="emulator/auth/iframe",fV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mV(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kv(e,hV):`https://${t.config.authDomain}/${cV}`,r={apiKey:e.apiKey,appName:t.name,v:Ml},a=dV.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Lc(r).slice(1)}`}async function pV(t){const e=await lV(t),n=gr().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:mV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fV,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=zi(t,"network-request-failed"),h=gr().setTimeout(()=>{l(u)},uV.get());function d(){gr().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{l(u)})}))}const gV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yV=500,vV=600,_V="_blank",TV="http://localhost";class pw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bV(t,e,n,r=yV,a=vV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...gV,width:r.toString(),height:a.toString(),top:l,left:u},p=In().toLowerCase();n&&(h=HA(p)?_V:n),FA(p)&&(e=e||TV,d.scrollbars="yes");const y=Object.entries(d).reduce((b,[x,M])=>`${b}${x}=${M},`,"");if(FO(p)&&h!=="_self")return EV(e||"",h),new pw(null);const v=window.open(e||"",h,y);je(v,t,"popup-blocked");try{v.focus()}catch{}return new pw(v)}function EV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const wV="__/auth/handler",SV="emulator/auth/handler",AV=encodeURIComponent("fac");async function gw(t,e,n,r,a,l){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ml,eventId:a};if(e instanceof Vv){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",oN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof zc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),p=d?`#${AV}=${encodeURIComponent(d)}`:"";return`${RV(t)}?${Lc(h).slice(1)}${p}`}function RV({config:t}){return t.emulator?kv(t,SV):`https://${t.authDomain}/${wV}`}const Lg="webStorageSupport";class CV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uR,this._completeRedirectFn=XP,this._overrideRedirectResult=KP}async _openPopup(e,n,r,a){Zr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await gw(e,n,r,Ty(),a);return bV(e,l,Lv())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await gw(e,n,r,Ty(),a);return kP(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Zr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pV(e),r=new ZP(e);return n.register("authEvent",a=>(je(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lg,{type:Lg},a=>{const l=a?.[0]?.[Lg];l!==void 0&&n(!!l),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WA()||qA()||Nv()}}const xV=CV;var yw="@firebase/auth",vw="1.12.0";class IV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function DV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kV(t){no(new Zs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;je(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QA(t)},p=new KO(r,a,l,d);return rP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),no(new Zs("auth-internal",e=>{const n=ss(e.getProvider("auth").getImmediate());return(r=>new IV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(yw,vw,DV(t)),pr(yw,vw,"esm2020")}const MV=300,NV=IA("authIdTokenMaxAge")||MV;let _w=null;const OV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NV)return;const a=n?.token;_w!==a&&(_w=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function PV(t=xv()){const e=Kd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iP(t,{popupRedirectResolver:xV,persistence:[zP,xP,uR]}),r=IA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=OV(l.toString());SP(n,u,()=>u(n.currentUser)),wP(n,h=>u(h))}}const a=RA("auth");return a&&sP(n,`http://${a}`),n}function VV(){return document.getElementsByTagName("head")?.[0]??document}WO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=zi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",VV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kV("Browser");var Tw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xs,yR;(function(){var t;function e(A,w){function D(){}D.prototype=w.prototype,A.F=w.prototype,A.prototype=new D,A.prototype.constructor=A,A.D=function(N,O,k){for(var S=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)S[Y-2]=arguments[Y];return w.prototype[O].apply(N,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(A,w,D){D||(D=0);const N=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)N[O]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(O=0;O<16;++O)N[O]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=A.g[0],D=A.g[1],O=A.g[2];let k=A.g[3],S;S=w+(k^D&(O^k))+N[0]+3614090360&4294967295,w=D+(S<<7&4294967295|S>>>25),S=k+(O^w&(D^O))+N[1]+3905402710&4294967295,k=w+(S<<12&4294967295|S>>>20),S=O+(D^k&(w^D))+N[2]+606105819&4294967295,O=k+(S<<17&4294967295|S>>>15),S=D+(w^O&(k^w))+N[3]+3250441966&4294967295,D=O+(S<<22&4294967295|S>>>10),S=w+(k^D&(O^k))+N[4]+4118548399&4294967295,w=D+(S<<7&4294967295|S>>>25),S=k+(O^w&(D^O))+N[5]+1200080426&4294967295,k=w+(S<<12&4294967295|S>>>20),S=O+(D^k&(w^D))+N[6]+2821735955&4294967295,O=k+(S<<17&4294967295|S>>>15),S=D+(w^O&(k^w))+N[7]+4249261313&4294967295,D=O+(S<<22&4294967295|S>>>10),S=w+(k^D&(O^k))+N[8]+1770035416&4294967295,w=D+(S<<7&4294967295|S>>>25),S=k+(O^w&(D^O))+N[9]+2336552879&4294967295,k=w+(S<<12&4294967295|S>>>20),S=O+(D^k&(w^D))+N[10]+4294925233&4294967295,O=k+(S<<17&4294967295|S>>>15),S=D+(w^O&(k^w))+N[11]+2304563134&4294967295,D=O+(S<<22&4294967295|S>>>10),S=w+(k^D&(O^k))+N[12]+1804603682&4294967295,w=D+(S<<7&4294967295|S>>>25),S=k+(O^w&(D^O))+N[13]+4254626195&4294967295,k=w+(S<<12&4294967295|S>>>20),S=O+(D^k&(w^D))+N[14]+2792965006&4294967295,O=k+(S<<17&4294967295|S>>>15),S=D+(w^O&(k^w))+N[15]+1236535329&4294967295,D=O+(S<<22&4294967295|S>>>10),S=w+(O^k&(D^O))+N[1]+4129170786&4294967295,w=D+(S<<5&4294967295|S>>>27),S=k+(D^O&(w^D))+N[6]+3225465664&4294967295,k=w+(S<<9&4294967295|S>>>23),S=O+(w^D&(k^w))+N[11]+643717713&4294967295,O=k+(S<<14&4294967295|S>>>18),S=D+(k^w&(O^k))+N[0]+3921069994&4294967295,D=O+(S<<20&4294967295|S>>>12),S=w+(O^k&(D^O))+N[5]+3593408605&4294967295,w=D+(S<<5&4294967295|S>>>27),S=k+(D^O&(w^D))+N[10]+38016083&4294967295,k=w+(S<<9&4294967295|S>>>23),S=O+(w^D&(k^w))+N[15]+3634488961&4294967295,O=k+(S<<14&4294967295|S>>>18),S=D+(k^w&(O^k))+N[4]+3889429448&4294967295,D=O+(S<<20&4294967295|S>>>12),S=w+(O^k&(D^O))+N[9]+568446438&4294967295,w=D+(S<<5&4294967295|S>>>27),S=k+(D^O&(w^D))+N[14]+3275163606&4294967295,k=w+(S<<9&4294967295|S>>>23),S=O+(w^D&(k^w))+N[3]+4107603335&4294967295,O=k+(S<<14&4294967295|S>>>18),S=D+(k^w&(O^k))+N[8]+1163531501&4294967295,D=O+(S<<20&4294967295|S>>>12),S=w+(O^k&(D^O))+N[13]+2850285829&4294967295,w=D+(S<<5&4294967295|S>>>27),S=k+(D^O&(w^D))+N[2]+4243563512&4294967295,k=w+(S<<9&4294967295|S>>>23),S=O+(w^D&(k^w))+N[7]+1735328473&4294967295,O=k+(S<<14&4294967295|S>>>18),S=D+(k^w&(O^k))+N[12]+2368359562&4294967295,D=O+(S<<20&4294967295|S>>>12),S=w+(D^O^k)+N[5]+4294588738&4294967295,w=D+(S<<4&4294967295|S>>>28),S=k+(w^D^O)+N[8]+2272392833&4294967295,k=w+(S<<11&4294967295|S>>>21),S=O+(k^w^D)+N[11]+1839030562&4294967295,O=k+(S<<16&4294967295|S>>>16),S=D+(O^k^w)+N[14]+4259657740&4294967295,D=O+(S<<23&4294967295|S>>>9),S=w+(D^O^k)+N[1]+2763975236&4294967295,w=D+(S<<4&4294967295|S>>>28),S=k+(w^D^O)+N[4]+1272893353&4294967295,k=w+(S<<11&4294967295|S>>>21),S=O+(k^w^D)+N[7]+4139469664&4294967295,O=k+(S<<16&4294967295|S>>>16),S=D+(O^k^w)+N[10]+3200236656&4294967295,D=O+(S<<23&4294967295|S>>>9),S=w+(D^O^k)+N[13]+681279174&4294967295,w=D+(S<<4&4294967295|S>>>28),S=k+(w^D^O)+N[0]+3936430074&4294967295,k=w+(S<<11&4294967295|S>>>21),S=O+(k^w^D)+N[3]+3572445317&4294967295,O=k+(S<<16&4294967295|S>>>16),S=D+(O^k^w)+N[6]+76029189&4294967295,D=O+(S<<23&4294967295|S>>>9),S=w+(D^O^k)+N[9]+3654602809&4294967295,w=D+(S<<4&4294967295|S>>>28),S=k+(w^D^O)+N[12]+3873151461&4294967295,k=w+(S<<11&4294967295|S>>>21),S=O+(k^w^D)+N[15]+530742520&4294967295,O=k+(S<<16&4294967295|S>>>16),S=D+(O^k^w)+N[2]+3299628645&4294967295,D=O+(S<<23&4294967295|S>>>9),S=w+(O^(D|~k))+N[0]+4096336452&4294967295,w=D+(S<<6&4294967295|S>>>26),S=k+(D^(w|~O))+N[7]+1126891415&4294967295,k=w+(S<<10&4294967295|S>>>22),S=O+(w^(k|~D))+N[14]+2878612391&4294967295,O=k+(S<<15&4294967295|S>>>17),S=D+(k^(O|~w))+N[5]+4237533241&4294967295,D=O+(S<<21&4294967295|S>>>11),S=w+(O^(D|~k))+N[12]+1700485571&4294967295,w=D+(S<<6&4294967295|S>>>26),S=k+(D^(w|~O))+N[3]+2399980690&4294967295,k=w+(S<<10&4294967295|S>>>22),S=O+(w^(k|~D))+N[10]+4293915773&4294967295,O=k+(S<<15&4294967295|S>>>17),S=D+(k^(O|~w))+N[1]+2240044497&4294967295,D=O+(S<<21&4294967295|S>>>11),S=w+(O^(D|~k))+N[8]+1873313359&4294967295,w=D+(S<<6&4294967295|S>>>26),S=k+(D^(w|~O))+N[15]+4264355552&4294967295,k=w+(S<<10&4294967295|S>>>22),S=O+(w^(k|~D))+N[6]+2734768916&4294967295,O=k+(S<<15&4294967295|S>>>17),S=D+(k^(O|~w))+N[13]+1309151649&4294967295,D=O+(S<<21&4294967295|S>>>11),S=w+(O^(D|~k))+N[4]+4149444226&4294967295,w=D+(S<<6&4294967295|S>>>26),S=k+(D^(w|~O))+N[11]+3174756917&4294967295,k=w+(S<<10&4294967295|S>>>22),S=O+(w^(k|~D))+N[2]+718787259&4294967295,O=k+(S<<15&4294967295|S>>>17),S=D+(k^(O|~w))+N[9]+3951481745&4294967295,A.g[0]=A.g[0]+w&4294967295,A.g[1]=A.g[1]+(O+(S<<21&4294967295|S>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+k&4294967295}r.prototype.v=function(A,w){w===void 0&&(w=A.length);const D=w-this.blockSize,N=this.C;let O=this.h,k=0;for(;k<w;){if(O==0)for(;k<=D;)a(this,A,k),k+=this.blockSize;if(typeof A=="string"){for(;k<w;)if(N[O++]=A.charCodeAt(k++),O==this.blockSize){a(this,N),O=0;break}}else for(;k<w;)if(N[O++]=A[k++],O==this.blockSize){a(this,N),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var w=1;w<A.length-8;++w)A[w]=0;w=this.o*8;for(var D=A.length-8;D<A.length;++D)A[D]=w&255,w/=256;for(this.v(A),A=Array(16),w=0,D=0;D<4;++D)for(let N=0;N<32;N+=8)A[w++]=this.g[D]>>>N&255;return A};function l(A,w){var D=h;return Object.prototype.hasOwnProperty.call(D,A)?D[A]:D[A]=w(A)}function u(A,w){this.h=w;const D=[];let N=!0;for(let O=A.length-1;O>=0;O--){const k=A[O]|0;N&&k==w||(D[O]=k,N=!1)}this.g=D}var h={};function d(A){return-128<=A&&A<128?l(A,function(w){return new u([w|0],w<0?-1:0)}):new u([A|0],A<0?-1:0)}function p(A){if(isNaN(A)||!isFinite(A))return v;if(A<0)return z(p(-A));const w=[];let D=1;for(let N=0;A>=D;N++)w[N]=A/D|0,D*=4294967296;return new u(w,0)}function y(A,w){if(A.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(A.charAt(0)=="-")return z(y(A.substring(1),w));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=p(Math.pow(w,8));let N=v;for(let k=0;k<A.length;k+=8){var O=Math.min(8,A.length-k);const S=parseInt(A.substring(k,k+O),w);O<8?(O=p(Math.pow(w,O)),N=N.j(O).add(p(S))):(N=N.j(D),N=N.add(p(S)))}return N}var v=d(0),b=d(1),x=d(16777216);t=u.prototype,t.m=function(){if(P(this))return-z(this).m();let A=0,w=1;for(let D=0;D<this.g.length;D++){const N=this.i(D);A+=(N>=0?N:4294967296+N)*w,w*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(M(this))return"0";if(P(this))return"-"+z(this).toString(A);const w=p(Math.pow(A,6));var D=this;let N="";for(;;){const O=fe(D,w).g;D=U(D,O.j(w));let k=((D.g.length>0?D.g[0]:D.h)>>>0).toString(A);if(D=O,M(D))return k+N;for(;k.length<6;)k="0"+k;N=k+N}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function M(A){if(A.h!=0)return!1;for(let w=0;w<A.g.length;w++)if(A.g[w]!=0)return!1;return!0}function P(A){return A.h==-1}t.l=function(A){return A=U(this,A),P(A)?-1:M(A)?0:1};function z(A){const w=A.g.length,D=[];for(let N=0;N<w;N++)D[N]=~A.g[N];return new u(D,~A.h).add(b)}t.abs=function(){return P(this)?z(this):this},t.add=function(A){const w=Math.max(this.g.length,A.g.length),D=[];let N=0;for(let O=0;O<=w;O++){let k=N+(this.i(O)&65535)+(A.i(O)&65535),S=(k>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);N=S>>>16,k&=65535,S&=65535,D[O]=S<<16|k}return new u(D,D[D.length-1]&-2147483648?-1:0)};function U(A,w){return A.add(z(w))}t.j=function(A){if(M(this)||M(A))return v;if(P(this))return P(A)?z(this).j(z(A)):z(z(this).j(A));if(P(A))return z(this.j(z(A)));if(this.l(x)<0&&A.l(x)<0)return p(this.m()*A.m());const w=this.g.length+A.g.length,D=[];for(var N=0;N<2*w;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(let O=0;O<A.g.length;O++){const k=this.i(N)>>>16,S=this.i(N)&65535,Y=A.i(O)>>>16,H=A.i(O)&65535;D[2*N+2*O]+=S*H,j(D,2*N+2*O),D[2*N+2*O+1]+=k*H,j(D,2*N+2*O+1),D[2*N+2*O+1]+=S*Y,j(D,2*N+2*O+1),D[2*N+2*O+2]+=k*Y,j(D,2*N+2*O+2)}for(A=0;A<w;A++)D[A]=D[2*A+1]<<16|D[2*A];for(A=w;A<2*w;A++)D[A]=0;return new u(D,0)};function j(A,w){for(;(A[w]&65535)!=A[w];)A[w+1]+=A[w]>>>16,A[w]&=65535,w++}function B(A,w){this.g=A,this.h=w}function fe(A,w){if(M(w))throw Error("division by zero");if(M(A))return new B(v,v);if(P(A))return w=fe(z(A),w),new B(z(w.g),z(w.h));if(P(w))return w=fe(A,z(w)),new B(z(w.g),w.h);if(A.g.length>30){if(P(A)||P(w))throw Error("slowDivide_ only works with positive integers.");for(var D=b,N=w;N.l(A)<=0;)D=V(D),N=V(N);var O=Z(D,1),k=Z(N,1);for(N=Z(N,2),D=Z(D,2);!M(N);){var S=k.add(N);S.l(A)<=0&&(O=O.add(D),k=S),N=Z(N,1),D=Z(D,1)}return w=U(A,O.j(w)),new B(O,w)}for(O=v;A.l(w)>=0;){for(D=Math.max(1,Math.floor(A.m()/w.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),k=p(D),S=k.j(w);P(S)||S.l(A)>0;)D-=N,k=p(D),S=k.j(w);M(k)&&(k=b),O=O.add(k),A=U(A,S)}return new B(O,A)}t.B=function(A){return fe(this,A).h},t.and=function(A){const w=Math.max(this.g.length,A.g.length),D=[];for(let N=0;N<w;N++)D[N]=this.i(N)&A.i(N);return new u(D,this.h&A.h)},t.or=function(A){const w=Math.max(this.g.length,A.g.length),D=[];for(let N=0;N<w;N++)D[N]=this.i(N)|A.i(N);return new u(D,this.h|A.h)},t.xor=function(A){const w=Math.max(this.g.length,A.g.length),D=[];for(let N=0;N<w;N++)D[N]=this.i(N)^A.i(N);return new u(D,this.h^A.h)};function V(A){const w=A.g.length+1,D=[];for(let N=0;N<w;N++)D[N]=A.i(N)<<1|A.i(N-1)>>>31;return new u(D,A.h)}function Z(A,w){const D=w>>5;w%=32;const N=A.g.length-D,O=[];for(let k=0;k<N;k++)O[k]=w>0?A.i(k+D)>>>w|A.i(k+D+1)<<32-w:A.i(k+D);return new u(O,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,yR=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Xs=u}).apply(typeof Tw<"u"?Tw:typeof self<"u"?self:typeof window<"u"?window:{});var kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vR,tc,_R,Kf,wy,TR,bR,ER;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof kf=="object"&&kf];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(f,_){if(_)e:{var E=r;f=f.split(".");for(var I=0;I<f.length-1;I++){var J=f[I];if(!(J in E))break e;E=E[J]}f=f[f.length-1],I=E[f],_=_(I),_!=I&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var E=[],I;for(I in _)Object.prototype.hasOwnProperty.call(_,I)&&E.push([I,_[I]]);return E}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function p(f,_,E){return p=d,p.apply(null,arguments)}function y(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(I,J,se){for(var _e=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)_e[$e-2]=arguments[$e];return _.prototype[J].apply(I,_e)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function x(f){const _=f.length;if(_>0){const E=Array(_);for(let I=0;I<_;I++)E[I]=f[I];return E}return[]}function M(f,_){for(let I=1;I<arguments.length;I++){const J=arguments[I];var E=typeof J;if(E=E!="object"?E:J?Array.isArray(J)?"array":E:"null",E=="array"||E=="object"&&typeof J.length=="number"){E=f.length||0;const se=J.length||0;f.length=E+se;for(let _e=0;_e<se;_e++)f[E+_e]=J[_e]}else f.push(J)}}class P{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function z(f){u.setTimeout(()=>{throw f},0)}function U(){var f=A;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class j{constructor(){this.h=this.g=null}add(_,E){const I=B.get();I.set(_,E),this.h?this.h.next=I:this.g=I,this.h=I}}var B=new P(()=>new fe,f=>f.reset());class fe{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let V,Z=!1,A=new j,w=()=>{const f=Promise.resolve(void 0);V=()=>{f.then(D)}};function D(){for(var f;f=U();){try{f.h.call(f.g)}catch(E){z(E)}var _=B;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}Z=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return f})();function S(f){return/^[\s\xa0]*$/.test(f)}function Y(f,_){O.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Y,O),Y.prototype.init=function(f,_){const E=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Y.Z.h.call(this)},Y.prototype.h=function(){Y.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var H="closure_listenable_"+(Math.random()*1e6|0),$=0;function ie(f,_,E,I,J){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!I,this.ha=J,this.key=++$,this.da=this.fa=!1}function ee(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Te(f,_,E){for(const I in f)_.call(E,f[I],I,f)}function Oe(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function F(f){const _={};for(const E in f)_[E]=f[E];return _}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(f,_){let E,I;for(let J=1;J<arguments.length;J++){I=arguments[J];for(E in I)f[E]=I[E];for(let se=0;se<ae.length;se++)E=ae[se],Object.prototype.hasOwnProperty.call(I,E)&&(f[E]=I[E])}}function K(f){this.src=f,this.g={},this.h=0}K.prototype.add=function(f,_,E,I,J){const se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);const _e=ge(f,_,I,J);return _e>-1?(_=f[_e],E||(_.fa=!1)):(_=new ie(_,this.src,se,!!I,J),_.fa=E,f.push(_)),_};function X(f,_){const E=_.type;if(E in f.g){var I=f.g[E],J=Array.prototype.indexOf.call(I,_,void 0),se;(se=J>=0)&&Array.prototype.splice.call(I,J,1),se&&(ee(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function ge(f,_,E,I){for(let J=0;J<f.length;++J){const se=f[J];if(!se.da&&se.listener==_&&se.capture==!!E&&se.ha==I)return J}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),me={};function we(f,_,E,I,J){if(Array.isArray(_)){for(let se=0;se<_.length;se++)we(f,_[se],E,I,J);return null}return E=Je(E),f&&f[H]?f.J(_,E,h(I)?!!I.capture:!1,J):Ge(f,_,E,!1,I,J)}function Ge(f,_,E,I,J,se){if(!_)throw Error("Invalid event type");const _e=h(J)?!!J.capture:!!J;let $e=Ee(f);if($e||(f[pe]=$e=new K(f)),E=$e.add(_,E,I,_e,se),E.proxy)return E;if(I=Ne(),E.proxy=I,I.src=f,I.listener=E,f.addEventListener)k||(J=_e),J===void 0&&(J=!1),f.addEventListener(_.toString(),I,J);else if(f.attachEvent)f.attachEvent(ve(_.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ne(){function f(E){return _.call(f.src,f.listener,E)}const _=Se;return f}function It(f,_,E,I,J){if(Array.isArray(_))for(var se=0;se<_.length;se++)It(f,_[se],E,I,J);else I=h(I)?!!I.capture:!!I,E=Je(E),f&&f[H]?(f=f.i,se=String(_).toString(),se in f.g&&(_=f.g[se],E=ge(_,E,I,J),E>-1&&(ee(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[se],f.h--)))):f&&(f=Ee(f))&&(_=f.g[_.toString()],f=-1,_&&(f=ge(_,E,I,J)),(E=f>-1?_[f]:null)&&ye(E))}function ye(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[H])X(_.i,f);else{var E=f.type,I=f.proxy;_.removeEventListener?_.removeEventListener(E,I,f.capture):_.detachEvent?_.detachEvent(ve(E),I):_.addListener&&_.removeListener&&_.removeListener(I),(E=Ee(_))?(X(E,f),E.h==0&&(E.src=null,_[pe]=null)):ee(f)}}}function ve(f){return f in me?me[f]:me[f]="on"+f}function Se(f,_){if(f.da)f=!0;else{_=new Y(_,this);const E=f.listener,I=f.ha||f.src;f.fa&&ye(f),f=E.call(I,_)}return f}function Ee(f){return f=f[pe],f instanceof K?f:null}var ke="__closure_events_fn_"+(Math.random()*1e9>>>0);function Je(f){return typeof f=="function"?f:(f[ke]||(f[ke]=function(_){return f.handleEvent(_)}),f[ke])}function Ue(){N.call(this),this.i=new K(this),this.M=this,this.G=null}v(Ue,N),Ue.prototype[H]=!0,Ue.prototype.removeEventListener=function(f,_,E,I){It(this,f,_,E,I)};function He(f,_){var E,I=f.G;if(I)for(E=[];I;I=I.G)E.push(I);if(f=f.M,I=_.type||_,typeof _=="string")_=new O(_,f);else if(_ instanceof O)_.target=_.target||f;else{var J=_;_=new O(I,f),Q(_,J)}J=!0;let se,_e;if(E)for(_e=E.length-1;_e>=0;_e--)se=_.g=E[_e],J=$i(se,I,!0,_)&&J;if(se=_.g=f,J=$i(se,I,!0,_)&&J,J=$i(se,I,!1,_)&&J,E)for(_e=0;_e<E.length;_e++)se=_.g=E[_e],J=$i(se,I,!1,_)&&J}Ue.prototype.N=function(){if(Ue.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let I=0;I<E.length;I++)ee(E[I]);delete f.g[_],f.h--}}this.G=null},Ue.prototype.J=function(f,_,E,I){return this.i.add(String(f),_,!1,E,I)},Ue.prototype.K=function(f,_,E,I){return this.i.add(String(f),_,!0,E,I)};function $i(f,_,E,I){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let J=!0;for(let se=0;se<_.length;++se){const _e=_[se];if(_e&&!_e.da&&_e.capture==E){const $e=_e.listener,Ut=_e.ha||_e.src;_e.fa&&X(f.i,_e),J=$e.call(Ut,I)!==!1&&J}}return J&&!I.defaultPrevented}function Sm(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function Zc(f){f.g=Sm(()=>{f.g=null,f.i&&(f.i=!1,Zc(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Dn extends N{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Zc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fa(f){N.call(this),this.h=f,this.g={}}v(fa,N);var Hl=[];function Gl(f){Te(f.g,function(_,E){this.g.hasOwnProperty(E)&&ye(_)},f),f.g={}}fa.prototype.N=function(){fa.Z.N.call(this),Gl(this)},fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=u.JSON.stringify,Am=u.JSON.parse,eh=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function th(){}function nh(){}var Ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fn(){O.call(this,"d")}v(fn,O);function si(){O.call(this,"c")}v(si,O);var Lt={},ih=null;function mo(){return ih=ih||new Ue}Lt.Ia="serverreachability";function rh(f){O.call(this,Lt.Ia,f)}v(rh,O);function Yi(f){const _=mo();He(_,new rh(_))}Lt.STAT_EVENT="statevent";function da(f,_){O.call(this,Lt.STAT_EVENT,f),this.stat=_}v(da,O);function qt(f){const _=mo();He(_,new da(_,f))}Lt.Ja="timingevent";function Ki(f,_){O.call(this,Lt.Ja,f),this.size=_}v(Ki,O);function Wi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function Ri(){this.g=!0}Ri.prototype.ua=function(){this.g=!1};function Rm(f,_,E,I,J,se){f.info(function(){if(f.g)if(se){var _e="",$e=se.split("&");for(let lt=0;lt<$e.length;lt++){var Ut=$e[lt].split("=");if(Ut.length>1){const Rt=Ut[0];Ut=Ut[1];const ui=Rt.split("_");_e=ui.length>=2&&ui[1]=="type"?_e+(Rt+"="+Ut+"&"):_e+(Rt+"=redacted&")}}}else _e=null;else _e=se;return"XMLHTTP REQ ("+I+") [attempt "+J+"]: "+_+`
`+E+`
`+_e})}function sh(f,_,E,I,J,se,_e){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+J+"]: "+_+`
`+E+`
`+se+" "+_e})}function Qi(f,_,E,I){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Cm(f,E)+(I?" "+I:"")})}function ma(f,_){f.info(function(){return"TIMEOUT: "+_})}Ri.prototype.info=function(){};function Cm(f,_){if(!f.g)return _;if(!_)return null;try{const se=JSON.parse(_);if(se){for(f=0;f<se.length;f++)if(Array.isArray(se[f])){var E=se[f];if(!(E.length<2)){var I=E[1];if(Array.isArray(I)&&!(I.length<1)){var J=I[0];if(J!="noop"&&J!="stop"&&J!="close")for(let _e=1;_e<I.length;_e++)I[_e]=""}}}}return os(se)}catch{return _}}var pa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yl;function ga(){}v(ga,th),ga.prototype.g=function(){return new XMLHttpRequest},Yl=new ga;function Sr(f){return encodeURIComponent(String(f))}function ah(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function Ci(f,_,E,I){this.j=f,this.i=_,this.l=E,this.S=I||1,this.V=new fa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xi}function xi(){this.i=null,this.g="",this.h=!1}var Ht={},on={};function Xi(f,_,E){f.M=1,f.A=ya($t(_)),f.u=E,f.R=!0,po(f,null)}function po(f,_){f.F=Date.now(),Ji(f),f.B=$t(f.A);var E=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),_o(E.i,"t",I),f.C=0,E=f.j.L,f.h=new xi,f.g=bh(f.j,E?_:null,!f.u),f.P>0&&(f.O=new Dn(p(f.Y,f,f.g),f.P)),_=f.V,E=f.g,I=f.ba;var J="readystatechange";Array.isArray(J)||(J&&(Hl[0]=J.toString()),J=Hl);for(let se=0;se<J.length;se++){const _e=we(E,J[se],I||_.handleEvent,!1,_.h||_);if(!_e)break;_.g[_e.key]=_e}_=f.J?F(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Yi(),Rm(f.i,f.v,f.B,f.l,f.S,f.u)}Ci.prototype.ba=function(f){f=f.target;const _=this.O;_&&ki(f)==3?_.j():this.Y(f)},Ci.prototype.Y=function(f){try{if(f==this.g)e:{const $e=ki(this.g),Ut=this.g.ya(),lt=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||dn(this.g)))){this.K||$e!=4||Ut==7||(Ut==8||lt<=0?Yi(3):Yi(2)),Zi(this);var _=this.g.ca();this.X=_;var E=xm(this);if(this.o=_==200,sh(this.i,this.v,this.B,this.l,this.S,$e,_),this.o){if(this.U&&!this.L){t:{if(this.g){var I,J=this.g;if((I=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(I)){var se=I;break t}}se=null}if(f=se)Qi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,er(this,f);else{this.o=!1,this.m=3,qt(12),Yn(this),ai(this);break e}}if(this.R){f=!0;let Rt;for(;!this.K&&this.C<E.length;)if(Rt=lh(this,E),Rt==on){$e==4&&(this.m=4,qt(14),f=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==Ht){this.m=4,qt(15),Qi(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Qi(this.i,this.l,Rt,null),er(this,Rt);if(oh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||E.length!=0||this.h.h||(this.m=1,qt(16),f=!1),this.o=this.o&&f,!f)Qi(this.i,this.l,E,"[Invalid Chunked Response]"),Yn(this),ai(this);else if(E.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),lu(_e),_e.P=!0,qt(11))}}else Qi(this.i,this.l,E,null),er(this,E);$e==4&&Yn(this),this.o&&!this.K&&($e==4?yh(this.j,this):(this.o=!1,Ji(this)))}else Rr(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),Yn(this),ai(this)}}}catch{}};function xm(f){if(!oh(f))return f.g.la();const _=dn(f.g);if(_==="")return"";let E="";const I=_.length,J=ki(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Yn(f),ai(f),"";f.h.i=new u.TextDecoder}for(let se=0;se<I;se++)f.h.h=!0,E+=f.h.i.decode(_[se],{stream:!(J&&se==I-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function oh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function lh(f,_){var E=f.C,I=_.indexOf(`
`,E);return I==-1?on:(E=Number(_.substring(E,I)),isNaN(E)?Ht:(I+=1,I+E>_.length?on:(_=_.slice(I,I+E),f.C=I+E,_)))}Ci.prototype.cancel=function(){this.K=!0,Yn(this)};function Ji(f){f.T=Date.now()+f.H,go(f,f.H)}function go(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Wi(p(f.aa,f),_)}function Zi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Ci.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ma(this.i,this.B),this.M!=2&&(Yi(),qt(17)),Yn(this),this.m=2,ai(this)):go(this,this.T-f)};function ai(f){f.j.I==0||f.K||yh(f.j,f)}function Yn(f){Zi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Gl(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function er(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||nr(E.h,f))){if(!f.L&&nr(E.h,f)&&E.I==3){try{var I=E.Ba.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var J=I;if(J[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)So(E),ps(E);else break e;Sa(E),qt(18)}}else E.xa=J[1],0<E.xa-E.K&&J[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Wi(p(E.Va,E),6e3));tr(E.h)<=1&&E.ta&&(E.ta=void 0)}else lr(E,11)}else if((f.L||E.g==f)&&So(E),!S(_))for(J=E.Ba.g.parse(_),_=0;_<J.length;_++){let lt=J[_];const Rt=lt[0];if(!(Rt<=E.K))if(E.K=Rt,lt=lt[1],E.I==2)if(lt[0]=="c"){E.M=lt[1],E.ba=lt[2];const ui=lt[3];ui!=null&&(E.ka=ui,E.j.info("VER="+E.ka));const ur=lt[4];ur!=null&&(E.za=ur,E.j.info("SVER="+E.za));const Mi=lt[5];Mi!=null&&typeof Mi=="number"&&Mi>0&&(I=1.5*Mi,E.O=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Ni=f.g;if(Ni){const Aa=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aa){var se=I.h;se.g||Aa.indexOf("spdy")==-1&&Aa.indexOf("quic")==-1&&Aa.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Ql(se,se.h),se.h=null))}if(I.G){const Ao=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(I.wa=Ao,ht(I.J,I.G,Ao))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),I=E;var _e=f;if(I.na=Th(I,I.L?I.ba:null,I.W),_e.L){Xl(I.h,_e);var $e=_e,Ut=I.O;Ut&&($e.H=Ut),$e.D&&(Zi($e),Ji($e)),I.g=_e}else ph(I);E.i.length>0&&or(E)}else lt[0]!="stop"&&lt[0]!="close"||lr(E,7);else E.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?lr(E,7):au(E):lt[0]!="noop"&&E.l&&E.l.qa(lt),E.A=0)}}Yi(4)}catch{}}var Gt=class{constructor(f,_){this.g=f,this.map=_}};function Kl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function tr(f){return f.h?1:f.g?f.g.size:0}function nr(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Ql(f,_){f.g?f.g.add(_):f.h=_}function Xl(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Kl.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Jl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return x(f.i)}var uh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yo(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const I=f[E].indexOf("=");let J,se=null;I>=0?(J=f[E].substring(0,I),se=f[E].substring(I+1)):J=f[E],_(J,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function Kn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Kn?(this.l=f.l,ln(this,f.j),this.o=f.o,this.g=f.g,ls(this,f.u),this.h=f.h,Zl(this,dh(f.i)),this.m=f.m):f&&(_=String(f).match(uh))?(this.l=!1,ln(this,_[1]||"",!0),this.o=ir(_[2]||""),this.g=ir(_[3]||"",!0),ls(this,_[4]),this.h=ir(_[5]||"",!0),Zl(this,_[6]||"",!0),this.m=ir(_[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}Kn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(va(_,vo,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(va(_,vo,!0),"@"),f.push(Sr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(va(E,E.charAt(0)=="/"?eu:ch,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",va(E,hh)),f.join("")},Kn.prototype.resolve=function(f){const _=$t(this);let E=!!f.j;E?ln(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var I=f.h;if(E)ls(_,f.u);else if(E=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var J=_.h.lastIndexOf("/");J!=-1&&(I=_.h.slice(0,J+1)+I)}if(J=I,J==".."||J==".")I="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){I=J.lastIndexOf("/",0)==0,J=J.split("/");const se=[];for(let _e=0;_e<J.length;){const $e=J[_e++];$e=="."?I&&_e==J.length&&se.push(""):$e==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),I&&_e==J.length&&se.push("")):(se.push($e),I=!0)}I=se.join("/")}else I=J}return E?_.h=I:E=f.i.toString()!=="",E?Zl(_,dh(f.i)):E=!!f.m,E&&(_.m=f.m),_};function $t(f){return new Kn(f)}function ln(f,_,E){f.j=E?ir(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function ls(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Zl(f,_,E){_ instanceof cs?(f.i=_,To(f.i,f.l)):(E||(_=va(_,us)),f.i=new cs(_,f.l))}function ht(f,_,E){f.i.set(_,E)}function ya(f){return ht(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ir(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function va(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,Pn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Pn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var vo=/[#\/\?@]/g,ch=/[#\?:]/g,eu=/[#\?]/g,us=/[#\?@]/g,hh=/#/g;function cs(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Vn(f){f.g||(f.g=new Map,f.h=0,f.i&&yo(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=cs.prototype,t.add=function(f,_){Vn(this),this.i=null,f=hs(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function fh(f,_){Vn(f),_=hs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function tu(f,_){return Vn(f),_=hs(f,_),f.g.has(_)}t.forEach=function(f,_){Vn(this),this.g.forEach(function(E,I){E.forEach(function(J){f.call(_,J,I,this)},this)},this)};function nu(f,_){Vn(f);let E=[];if(typeof _=="string")tu(f,_)&&(E=E.concat(f.g.get(hs(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}t.set=function(f,_){return Vn(this),this.i=null,f=hs(this,f),tu(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=nu(this,f),f.length>0?String(f[0]):_):_};function _o(f,_,E){fh(f,_),E.length>0&&(f.i=null,f.g.set(hs(f,_),x(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let I=0;I<_.length;I++){var E=_[I];const J=Sr(E);E=nu(this,E);for(let se=0;se<E.length;se++){let _e=J;E[se]!==""&&(_e+="="+Sr(E[se])),f.push(_e)}}return this.i=f.join("&")};function dh(f){const _=new cs;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function hs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function To(f,_){_&&!f.j&&(Vn(f),f.i=null,f.g.forEach(function(E,I){const J=I.toLowerCase();I!=J&&(fh(this,I),_o(this,J,E))},f)),f.j=_}function Ii(f,_){const E=new Ri;if(u.Image){const I=new Image;I.onload=y(oi,E,"TestLoadImage: loaded",!0,_,I),I.onerror=y(oi,E,"TestLoadImage: error",!1,_,I),I.onabort=y(oi,E,"TestLoadImage: abort",!1,_,I),I.ontimeout=y(oi,E,"TestLoadImage: timeout",!1,_,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else _(!1)}function iu(f,_){const E=new Ri,I=new AbortController,J=setTimeout(()=>{I.abort(),oi(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:I.signal}).then(se=>{clearTimeout(J),se.ok?oi(E,"TestPingServer: ok",!0,_):oi(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(J),oi(E,"TestPingServer: error",!1,_)})}function oi(f,_,E,I,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),I(E)}catch{}}function fs(){this.g=new eh}function rr(f){this.i=f.Sb||null,this.h=f.ab||!1}v(rr,th),rr.prototype.g=function(){return new _a(this.i,this.h)};function _a(f,_){Ue.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(_a,Ue),t=_a.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Di(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function bo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?ds(this):Di(this),this.readyState==3&&bo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ds(this))},t.Na=function(f){this.g&&(this.response=f,ds(this))},t.ga=function(){this.g&&ds(this)};function ds(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Di(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function Di(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function li(f){let _="";return Te(f,function(E,I){_+=I,_+=":",_+=E,_+=`\r
`}),_}function Ta(f,_,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=li(E),typeof f=="string"?E!=null&&Sr(E):ht(f,_,E))}function pt(f){Ue.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(pt,Ue);var sr=/^https?$/i,ru=["POST","PUT"];t=pt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yl.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(se){ba(this,se);return}if(f=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var J in I)E.set(J,I[J]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const se of I.keys())E.set(se,I.get(se));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(se=>se.toLowerCase()=="content-type"),J=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(ru,_,void 0)>=0)||I||J||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,_e]of E)this.g.setRequestHeader(se,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(se){ba(this,se)}};function ba(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,su(f),Ar(f)}function su(f){f.A||(f.A=!0,He(f,"complete"),He(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,He(this,"complete"),He(this,"abort"),Ar(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),pt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ea(this):this.Xa())},t.Xa=function(){Ea(this)};function Ea(f){if(f.h&&typeof l<"u"){if(f.v&&ki(f)==4)setTimeout(f.Ca.bind(f),0);else if(He(f,"readystatechange"),ki(f)==4){f.h=!1;try{const se=f.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var I;if(I=se===0){let _e=String(f.D).match(uh)[1]||null;!_e&&u.self&&u.self.location&&(_e=u.self.location.protocol.slice(0,-1)),I=!sr.test(_e?_e.toLowerCase():"")}E=I}if(E)He(f,"complete"),He(f,"success");else{f.o=6;try{var J=ki(f)>2?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.ca()+"]",su(f)}}finally{Ar(f)}}}}function Ar(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||He(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ki(f){return f.g?f.g.readyState:0}t.ca=function(){try{return ki(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Am(_)}};function dn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Rr(f){const _={};f=(f.g&&ki(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(S(f[I]))continue;var E=ah(f[I]);const J=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const se=_[J]||[];_[J]=se,se.push(E)}Oe(_,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function ms(f){this.za=0,this.i=[],this.j=new Ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ar("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ar("baseRetryDelayMs",5e3,f),this.Za=ar("retryDelaySeedMs",1e4,f),this.Ta=ar("forwardChannelMaxRetries",2,f),this.va=ar("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Kl(f&&f.concurrentRequestLimit),this.Ba=new fs,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ms.prototype,t.ka=8,t.I=1,t.connect=function(f,_,E,I){qt(0),this.W=f,this.H=_||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.J=Th(this,null,this.W),or(this)};function au(f){if(Eo(f),f.I==3){var _=f.V++,E=$t(f.J);if(ht(E,"SID",f.M),ht(E,"RID",_),ht(E,"TYPE","terminate"),wa(f,E),_=new Ci(f,f.j,_),_.M=2,_.A=ya($t(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=bh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ji(_)}_h(f)}function ps(f){f.g&&(lu(f),f.g.cancel(),f.g=null)}function Eo(f){ps(f),f.v&&(u.clearTimeout(f.v),f.v=null),So(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function or(f){if(!Wl(f.h)&&!f.m){f.m=!0;var _=f.Ea;V||w(),Z||(V(),Z=!0),A.add(_,f),f.D=0}}function wo(f,_){return tr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Wi(p(f.Ea,f,_),vh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const J=new Ci(this,this.j,f);let se=this.o;if(this.U&&(se?(se=F(se),Q(se,this.U)):se=this.U),this.u!==null||this.R||(J.J=se,se=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=mh(this,J,_),E=$t(this.J),ht(E,"RID",f),ht(E,"CVER",22),this.G&&ht(E,"X-HTTP-Session-Id",this.G),wa(this,E),se&&(this.R?_="headers="+Sr(li(se))+"&"+_:this.u&&Ta(E,this.u,se)),Ql(this.h,J),this.Ra&&ht(E,"TYPE","init"),this.S?(ht(E,"$req",_),ht(E,"SID","null"),J.U=!0,Xi(J,E,null)):Xi(J,E,_),this.I=2}}else this.I==3&&(f?ou(this,f):this.i.length==0||Wl(this.h)||ou(this))};function ou(f,_){var E;_?E=_.l:E=f.V++;const I=$t(f.J);ht(I,"SID",f.M),ht(I,"RID",E),ht(I,"AID",f.K),wa(f,I),f.u&&f.o&&Ta(I,f.u,f.o),E=new Ci(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=mh(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ql(f.h,E),Xi(E,I,_)}function wa(f,_){f.H&&Te(f.H,function(E,I){ht(_,I,E)}),f.l&&Te({},function(E,I){ht(_,I,E)})}function mh(f,_,E){E=Math.min(f.i.length,E);const I=f.l?p(f.l.Ka,f.l,f):null;e:{var J=f.i;let $e=-1;for(;;){const Ut=["count="+E];$e==-1?E>0?($e=J[0].g,Ut.push("ofs="+$e)):$e=0:Ut.push("ofs="+$e);let lt=!0;for(let Rt=0;Rt<E;Rt++){var se=J[Rt].g;const ui=J[Rt].map;if(se-=$e,se<0)$e=Math.max(0,J[Rt].g-100),lt=!1;else try{se="req"+se+"_"||"";try{var _e=ui instanceof Map?ui:Object.entries(ui);for(const[ur,Mi]of _e){let Ni=Mi;h(Mi)&&(Ni=os(Mi)),Ut.push(se+ur+"="+encodeURIComponent(Ni))}}catch(ur){throw Ut.push(se+"type="+encodeURIComponent("_badmap")),ur}}catch{I&&I(ui)}}if(lt){_e=Ut.join("&");break e}}_e=void 0}return f=f.i.splice(0,E),_.G=f,_e}function ph(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;V||w(),Z||(V(),Z=!0),A.add(_,f),f.A=0}}function Sa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Wi(p(f.Da,f),vh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,gh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Wi(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),ps(this),gh(this))};function lu(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function gh(f){f.g=new Ci(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=$t(f.na);ht(_,"RID","rpc"),ht(_,"SID",f.M),ht(_,"AID",f.K),ht(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&ht(_,"TO",f.ia),ht(_,"TYPE","xmlhttp"),wa(f,_),f.u&&f.o&&Ta(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=ya($t(_)),E.u=null,E.R=!0,po(E,f)}t.Va=function(){this.C!=null&&(this.C=null,ps(this),Sa(this),qt(19))};function So(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function yh(f,_){var E=null;if(f.g==_){So(f),lu(f),f.g=null;var I=2}else if(nr(f.h,_))E=_.G,Xl(f.h,_),I=1;else return;if(f.I!=0){if(_.o)if(I==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var J=f.D;I=mo(),He(I,new Ki(I,E)),or(f)}else ph(f);else if(J=_.m,J==3||J==0&&_.X>0||!(I==1&&wo(f,_)||I==2&&Sa(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),J){case 1:lr(f,5);break;case 4:lr(f,10);break;case 3:lr(f,6);break;default:lr(f,2)}}}function vh(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function lr(f,_){if(f.j.info("Error code "+_),_==2){var E=p(f.bb,f),I=f.Ua;const J=!I;I=new Kn(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ln(I,"https"),ya(I),J?Ii(I.toString(),E):iu(I.toString(),E)}else qt(2);f.I=0,f.l&&f.l.pa(_),_h(f),Eo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function _h(f){if(f.I=0,f.ja=[],f.l){const _=Jl(f.h);(_.length!=0||f.i.length!=0)&&(M(f.ja,_),M(f.ja,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.oa()}}function Th(f,_,E){var I=E instanceof Kn?$t(E):new Kn(E);if(I.g!="")_&&(I.g=_+"."+I.g),ls(I,I.u);else{var J=u.location;I=J.protocol,_=_?_+"."+J.hostname:J.hostname,J=+J.port;const se=new Kn(null);I&&ln(se,I),_&&(se.g=_),J&&ls(se,J),E&&(se.h=E),I=se}return E=f.G,_=f.wa,E&&_&&ht(I,E,_),ht(I,"VER",f.ka),wa(f,I),I}function bh(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new pt(new rr({ab:E})):new pt(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eh(){}t=Eh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function gs(){}gs.prototype.g=function(f,_){return new kn(f,_)};function kn(f,_){Ue.call(this),this.g=new ms(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!S(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!S(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Cr(this)}v(kn,Ue),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){au(this.g)},kn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=os(f),f=E);_.i.push(new Gt(_.Ya++,f)),_.I==3&&or(_)},kn.prototype.N=function(){this.g.l=null,delete this.j,au(this.g),delete this.g,kn.Z.N.call(this)};function wh(f){fn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(wh,fn);function Sh(){si.call(this),this.status=1}v(Sh,si);function Cr(f){this.g=f}v(Cr,Eh),Cr.prototype.ra=function(){He(this.g,"a")},Cr.prototype.qa=function(f){He(this.g,new wh(f))},Cr.prototype.pa=function(f){He(this.g,new Sh)},Cr.prototype.oa=function(){He(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,ER=function(){return new gs},bR=function(){return mo()},TR=Lt,wy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pa.NO_ERROR=0,pa.TIMEOUT=8,pa.HTTP_ERROR=6,Kf=pa,$l.COMPLETE="complete",_R=$l,nh.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",Ue.prototype.listen=Ue.prototype.J,tc=nh,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,vR=pt}).apply(typeof kf<"u"?kf:typeof self<"u"?self:typeof window<"u"?window:{});class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");let Ol="12.8.0";function LV(t){Ol=t}const ao=new Rv("@firebase/firestore");function il(){return ao.logLevel}function Ae(t,...e){if(ao.logLevel<=tt.DEBUG){const n=e.map(jv);ao.debug(`Firestore (${Ol}): ${t}`,...n)}}function es(t,...e){if(ao.logLevel<=tt.ERROR){const n=e.map(jv);ao.error(`Firestore (${Ol}): ${t}`,...n)}}function yl(t,...e){if(ao.logLevel<=tt.WARN){const n=e.map(jv);ao.warn(`Firestore (${Ol}): ${t}`,...n)}}function jv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,wR(t,r,n)}function wR(t,e,n){let r=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw es(r),new Error(r)}function ct(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||wR(e,a,r)}function qe(t,e){return t}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class SR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Rn.UNAUTHENTICATED)))}shutdown(){}}class jV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zV{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Wr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Wr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new SR(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class BV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class FV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new BV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const r=l=>{l.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function HV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class zv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=HV(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function Sy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return Ug(a)===Ug(l)?nt(a,l):Ug(a)?1:-1}return nt(t.length,e.length)}const GV=55296,$V=57343;function Ug(t){const e=t.charCodeAt(0);return e>=GV&&e<=$V}function vl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const Ew="__name__";class mr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=mr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return nt(e.length,n.length)}static compareSegments(e,n){const r=mr.isNumericId(e),a=mr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?mr.extractNumericId(e).compare(mr.extractNumericId(n)):Sy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class Tt extends mr{construct(e,n,r){return new Tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const YV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends mr{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return YV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ew}static keyField(){return new bn([Ew])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new be(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new be(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new be(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(l(),a++)}if(l(),u)throw new be(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Tt.fromString(e))}static fromName(e){return new Ve(Tt.fromString(e).popFirst(5))}static empty(){return new Ve(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Tt(e.slice()))}}function AR(t,e,n){if(!n)throw new be(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KV(t,e,n,r){if(e===!0&&r===!0)throw new be(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ww(t){if(!Ve.isDocumentKey(t))throw new be(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Sw(t){if(Ve.isDocumentKey(t))throw new be(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function RR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function $n(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jd(t);throw new be(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function WV(t,e){if(e<=0)throw new be(ce.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function en(t,e){const n={typeString:t};return e&&(n.value=e),n}function Fc(t,e){if(!RR(t))throw new be(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new be(ce.INVALID_ARGUMENT,n);return!0}const Aw=-62135596800,Rw=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Rw);return new St(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Aw)throw new be(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rw}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fc(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Aw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:en("string",St._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new St(0,0))}static max(){return new Be(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bc=-1;function QV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Be.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new ea(a,Ve.empty(),e)}function XV(t){return new ea(t.readTime,t.key,bc)}class ea{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ea(Be.min(),Ve.empty(),bc)}static max(){return new ea(Be.max(),Ve.empty(),bc)}}function JV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}const ZV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Pl(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==ZV)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,r)=>{n(e)}))}static reject(e){return new de(((n,r)=>{r(e)}))}static waitFor(e){return new de(((n,r)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(d=>r(d)))})),u=!0,l===a&&n()}))}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next((a=>a?de.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new de(((r,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next((y=>{u[p]=y,++h,h===l&&r(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new de(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function t4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(t){return t.name==="IndexedDbTransactionError"}class Zd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zd.ce=-1;const Bv=-1;function em(t){return t==null}function vd(t){return t===0&&1/t==-1/0}function n4(t){return typeof t=="number"&&Number.isInteger(t)&&!vd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const CR="";function i4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Cw(e)),e=r4(t.get(n),e);return Cw(e)}function r4(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case CR:n+="";break;default:n+=l}}return n}function Cw(t){return t+CR+""}function xw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class kt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mf(this.root,e,this.comparator,!0)}}class Mf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=a??Tn.EMPTY,this.right=l??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new Tn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Tn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class an{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Iw(this.data.getIterator())}getIteratorFrom(e){return new Iw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class Iw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ni{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new ni([])}unionWith(e){let n=new an(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class IR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new IR("Invalid base64 string: "+l):l}})(e);return new En(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const s4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=s4.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function na(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}const DR="server_timestamp",kR="__type__",MR="__previous_value__",NR="__local_write_time__";function Fv(t){return(t?.mapValue?.fields||{})[kR]?.stringValue===DR}function tm(t){const e=t.mapValue.fields[MR];return Fv(e)?tm(e):e}function Ec(t){const e=ta(t.mapValue.fields[NR].timestampValue);return new St(e.seconds,e.nanos)}class a4{constructor(e,n,r,a,l,u,h,d,p,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=v}}const _d="(default)";class wc{constructor(e,n){this.projectId=e,this.database=n||_d}static empty(){return new wc("","")}get isDefaultDatabase(){return this.database===_d}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}function o4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new be(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(t.options.projectId,e)}const OR="__type__",l4="__max__",Nf={mapValue:{}},PR="__vector__",Td="value";function ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fv(t)?4:c4(t)?9007199254740991:u4(t)?10:11:ze(28295,{value:t})}function br(t,e){if(t===e)return!0;const n=ia(t);if(n!==ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ec(t).isEqual(Ec(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ta(a.timestampValue),h=ta(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return na(a.bytesValue).isEqual(na(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Bt(a.geoPointValue.latitude)===Bt(l.geoPointValue.latitude)&&Bt(a.geoPointValue.longitude)===Bt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Bt(a.integerValue)===Bt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Bt(a.doubleValue),h=Bt(l.doubleValue);return u===h?vd(u)===vd(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return vl(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(xw(u)!==xw(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!br(u[d],h[d])))return!1;return!0})(t,e);default:return ze(52216,{left:t})}}function Sc(t,e){return(t.values||[]).find((n=>br(n,e)))!==void 0}function _l(t,e){if(t===e)return 0;const n=ia(t),r=ia(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Bt(l.integerValue||l.doubleValue),d=Bt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return Dw(t.timestampValue,e.timestampValue);case 4:return Dw(Ec(t),Ec(e));case 5:return Sy(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=na(l),d=na(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=nt(h[p],d[p]);if(y!==0)return y}return nt(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=nt(Bt(l.latitude),Bt(u.latitude));return h!==0?h:nt(Bt(l.longitude),Bt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return kw(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},p=h[Td]?.arrayValue,y=d[Td]?.arrayValue,v=nt(p?.values?.length||0,y?.values?.length||0);return v!==0?v:kw(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Nf.mapValue&&u===Nf.mapValue)return 0;if(l===Nf.mapValue)return 1;if(u===Nf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const b=Sy(d[v],y[v]);if(b!==0)return b;const x=_l(h[d[v]],p[y[v]]);if(x!==0)return x}return nt(d.length,y.length)})(t.mapValue,e.mapValue);default:throw ze(23264,{he:n})}}function Dw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=ta(t),r=ta(e),a=nt(n.seconds,r.seconds);return a!==0?a:nt(n.nanos,r.nanos)}function kw(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=_l(n[a],r[a]);if(l)return l}return nt(n.length,r.length)}function Tl(t){return Ay(t)}function Ay(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ta(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return na(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Ay(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${Ay(n.fields[u])}`;return a+"}"})(t.mapValue):ze(61005,{value:t})}function Wf(t){switch(ia(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tm(t);return e?16+Wf(e):16;case 5:return 2*t.stringValue.length;case 6:return na(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Wf(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return ua(r.fields,((l,u)=>{a+=l.length+Wf(u)})),a})(t.mapValue);default:throw ze(13486,{value:t})}}function Mw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ry(t){return!!t&&"integerValue"in t}function qv(t){return!!t&&"arrayValue"in t}function Nw(t){return!!t&&"nullValue"in t}function Ow(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qf(t){return!!t&&"mapValue"in t}function u4(t){return(t?.mapValue?.fields||{})[OR]?.stringValue===PR}function uc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ua(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=uc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uc(t.arrayValue.values[n]);return e}return{...t}}function c4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===l4}class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(n)}setAll(e){let n=bn.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=uc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());Qf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Qf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){ua(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Hn(uc(this.value))}}function VR(t){const e=[];return ua(t.fields,((n,r)=>{const a=new bn([n]);if(Qf(r)){const l=VR(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new ni(e)}class Cn{constructor(e,n,r,a,l,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Cn(e,0,Be.min(),Be.min(),Be.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,a){return new Cn(e,1,n,Be.min(),r,a,0)}static newNoDocument(e,n){return new Cn(e,2,n,Be.min(),Be.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Be.min(),Be.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bd{constructor(e,n){this.position=e,this.inclusive=n}}function Pw(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?r=Ve.comparator(Ve.fromName(u.referenceValue),n.key):r=_l(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}class Ac{constructor(e,n="asc"){this.field=e,this.dir=n}}function h4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class LR{}class Zt extends LR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new d4(e,n,r):n==="array-contains"?new g4(e,r):n==="in"?new y4(e,r):n==="not-in"?new v4(e,r):n==="array-contains-any"?new _4(e,r):new Zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new m4(e,r):new p4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_l(n,this.value)):n!==null&&ia(this.value)===ia(n)&&this.matchesComparison(_l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends LR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Fi(e,n)}matches(e){return UR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UR(t){return t.op==="and"}function jR(t){return f4(t)&&UR(t)}function f4(t){for(const e of t.filters)if(e instanceof Fi)return!1;return!0}function Cy(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+Tl(t.value);if(jR(t))return t.filters.map((e=>Cy(e))).join(",");{const e=t.filters.map((n=>Cy(n))).join(",");return`${t.op}(${e})`}}function zR(t,e){return t instanceof Zt?(function(r,a){return a instanceof Zt&&r.op===a.op&&r.field.isEqual(a.field)&&br(r.value,a.value)})(t,e):t instanceof Fi?(function(r,a){return a instanceof Fi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,u,h)=>l&&zR(u,a.filters[h])),!0):!1})(t,e):void ze(19439)}function BR(t){return t instanceof Zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Tl(n.value)}`})(t):t instanceof Fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(BR).join(" ,")+"}"})(t):"Filter"}class d4 extends Zt{constructor(e,n,r){super(e,n,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class m4 extends Zt{constructor(e,n){super(e,"in",n),this.keys=FR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class p4 extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=FR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function FR(t,e){return(e.arrayValue?.values||[]).map((n=>Ve.fromName(n.referenceValue)))}class g4 extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qv(n)&&Sc(n.arrayValue,this.value)}}class y4 extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sc(this.value.arrayValue,n)}}class v4 extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sc(this.value.arrayValue,n)}}class _4 extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Sc(this.value.arrayValue,r)))}}class T4{constructor(e,n=null,r=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function Lw(t,e=null,n=[],r=[],a=null,l=null,u=null){return new T4(t,e,n,r,a,l,u)}function Hv(t){const e=qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Cy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Tl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Tl(r))).join(",")),e.Te=n}return e.Te}function Gv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!h4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vw(t.startAt,e.startAt)&&Vw(t.endAt,e.endAt)}function xy(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ll{constructor(e,n=null,r=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function b4(t,e,n,r,a,l,u,h){return new Ll(t,e,n,r,a,l,u,h)}function nm(t){return new Ll(t)}function Uw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function E4(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function qR(t){return t.collectionGroup!==null}function cc(t){const e=qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new an(bn.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Ac(l,r))})),n.has(bn.keyField().canonicalString())||e.Ie.push(new Ac(bn.keyField(),r))}return e.Ie}function yr(t){const e=qe(t);return e.Ee||(e.Ee=w4(e,cc(t))),e.Ee}function w4(t,e){if(t.limitType==="F")return Lw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Ac(a.field,l)}));const n=t.endAt?new bd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bd(t.startAt.position,t.startAt.inclusive):null;return Lw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Iy(t,e){const n=t.filters.concat([e]);return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function S4(t,e){const n=t.explicitOrderBy.concat([e]);return new Ll(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Ed(t,e,n){return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function im(t,e){return Gv(yr(t),yr(e))&&t.limitType===e.limitType}function HR(t){return`${Hv(yr(t))}|lt:${t.limitType}`}function rl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>BR(a))).join(", ")}]`),em(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Tl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Tl(a))).join(",")),`Target(${r})`})(yr(t))}; limitType=${t.limitType})`}function rm(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ve.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of cc(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,d){const p=Pw(u,h,d);return u.inclusive?p<=0:p<0})(r.startAt,cc(r),a)||r.endAt&&!(function(u,h,d){const p=Pw(u,h,d);return u.inclusive?p>=0:p>0})(r.endAt,cc(r),a))})(t,e)}function A4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GR(t){return(e,n)=>{let r=!1;for(const a of cc(t)){const l=R4(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function R4(t,e,n){const r=t.field.isKeyField()?Ve.comparator(e.key,n.key):(function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?_l(d,p):ze(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:t.dir})}}class co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return xR(this.inner)}size(){return this.innerSize}}const C4=new kt(Ve.comparator);function ts(){return C4}const $R=new kt(Ve.comparator);function nc(...t){let e=$R;for(const n of t)e=e.insert(n.key,n);return e}function YR(t){let e=$R;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ka(){return hc()}function KR(){return hc()}function hc(){return new co((t=>t.toString()),((t,e)=>t.isEqual(e)))}const x4=new kt(Ve.comparator),I4=new an(Ve.comparator);function it(...t){let e=I4;for(const n of t)e=e.add(n);return e}const D4=new an(nt);function k4(){return D4}function $v(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function WR(t){return{integerValue:""+t}}function M4(t,e){return n4(e)?WR(e):$v(t,e)}class sm{constructor(){this._=void 0}}function N4(t,e,n){return t instanceof Rc?(function(a,l){const u={fields:{[kR]:{stringValue:DR},[NR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Fv(l)&&(l=tm(l)),l&&(u.fields[MR]=l),{mapValue:u}})(n,e):t instanceof Cc?XR(t,e):t instanceof xc?JR(t,e):(function(a,l){const u=QR(a,l),h=jw(u)+jw(a.Ae);return Ry(u)&&Ry(a.Ae)?WR(h):$v(a.serializer,h)})(t,e)}function O4(t,e,n){return t instanceof Cc?XR(t,e):t instanceof xc?JR(t,e):n}function QR(t,e){return t instanceof wd?(function(r){return Ry(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Rc extends sm{}class Cc extends sm{constructor(e){super(),this.elements=e}}function XR(t,e){const n=ZR(e);for(const r of t.elements)n.some((a=>br(a,r)))||n.push(r);return{arrayValue:{values:n}}}class xc extends sm{constructor(e){super(),this.elements=e}}function JR(t,e){let n=ZR(e);for(const r of t.elements)n=n.filter((a=>!br(a,r)));return{arrayValue:{values:n}}}class wd extends sm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function jw(t){return Bt(t.integerValue||t.doubleValue)}function ZR(t){return qv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class P4{constructor(e,n){this.field=e,this.transform=n}}function V4(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Cc&&a instanceof Cc||r instanceof xc&&a instanceof xc?vl(r.elements,a.elements,br):r instanceof wd&&a instanceof wd?br(r.Ae,a.Ae):r instanceof Rc&&a instanceof Rc})(t.transform,e.transform)}class L4{constructor(e,n){this.version=e,this.transformResults=n}}class bi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class am{}function eC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yv(t.key,bi.none()):new qc(t.key,t.data,bi.none());{const n=t.data,r=Hn.empty();let a=new an(bn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new ca(t.key,r,new ni(a.toArray()),bi.none())}}function U4(t,e,n){t instanceof qc?(function(a,l,u){const h=a.value.clone(),d=Bw(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ca?(function(a,l,u){if(!Xf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=Bw(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(tC(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function fc(t,e,n,r){return t instanceof qc?(function(l,u,h,d){if(!Xf(l.precondition,u))return h;const p=l.value.clone(),y=Fw(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof ca?(function(l,u,h,d){if(!Xf(l.precondition,u))return h;const p=Fw(l.fieldTransforms,d,u),y=u.data;return y.setAll(tC(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,u,h){return Xf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function j4(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=QR(r.transform,a||null);l!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,l))}return n||null}function zw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&vl(r,a,((l,u)=>V4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qc extends am{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ca extends am{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function tC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Bw(t,e,n){const r=new Map;ct(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);r.set(l.field,O4(u,h,n[a]))}return r}function Fw(t,e,n){const r=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);r.set(a.field,N4(l,u,e))}return r}class Yv extends am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z4 extends am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class B4{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&U4(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KR();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=eC(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),it())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,((n,r)=>zw(n,r)))&&vl(this.baseMutations,e.baseMutations,((n,r)=>zw(n,r)))}}class Kv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return x4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new Kv(e,n,r,a)}}class F4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class q4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Xt,st;function H4(t){switch(t){case ce.OK:return ze(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function nC(t){if(t===void 0)return es("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Xt.OK:return ce.OK;case Xt.CANCELLED:return ce.CANCELLED;case Xt.UNKNOWN:return ce.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return ce.INTERNAL;case Xt.UNAVAILABLE:return ce.UNAVAILABLE;case Xt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Xt.NOT_FOUND:return ce.NOT_FOUND;case Xt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Xt.ABORTED:return ce.ABORTED;case Xt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Xt.DATA_LOSS:return ce.DATA_LOSS;default:return ze(39323,{code:t})}}(st=Xt||(Xt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";function G4(){return new TextEncoder}const $4=new Xs([4294967295,4294967295],0);function qw(t){const e=G4().encode(t),n=new yR;return n.update(e),new Uint8Array(n.digest())}function Hw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Xs([n,r],0),new Xs([a,l],0)]}class Wv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(r<0)throw new ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xs.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Xs.fromNumber(r)));return a.compare($4)===1&&(a=new Xs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qw(e),[r,a]=Hw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Wv(l,a,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=qw(e),[r,a]=Hw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class om{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Hc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new om(Be.min(),a,new kt(nt),ts(),it())}}class Hc{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hc(r,n,it(),it(),it())}}class Jf{constructor(e,n,r,a){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=a}}class iC{constructor(e,n){this.targetId=e,this.Ce=n}}class rC{constructor(e,n,r=En.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class Gw{constructor(){this.ve=0,this.Fe=$w(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),n=it(),r=it();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:ze(38017,{changeType:l})}})),new Hc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=$w()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Y4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ts(),this.He=Of(),this.Je=Of(),this.Ze=new kt(nt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ze(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(xy(l))if(r===0){const u=new Ve(l.path);this.et(n,u,Cn.newNoDocument(u,Be.min()))}else ct(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=na(r).toUint8Array()}catch(d){if(d instanceof IR)return yl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Wv(u,a,l)}catch(d){return yl(d instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&xy(h.target)){const d=new Ve(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,Cn.newNoDocument(d,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let r=it();this.Je.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new om(e,n,this.Ze,this.je,r);return this.je=ts(),this.He=Of(),this.Je=Of(),this.Ze=new kt(nt),a}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Gw,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new an(nt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new an(nt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Gw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Of(){return new kt(Ve.comparator)}function $w(){return new kt(Ve.comparator)}const K4={asc:"ASCENDING",desc:"DESCENDING"},W4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q4={and:"AND",or:"OR"};class X4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dy(t,e){return t.useProto3Json||em(e)?e:{value:e}}function Sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function J4(t,e){return Sd(t,e.toTimestamp())}function vr(t){return ct(!!t,49232),Be.fromTimestamp((function(n){const r=ta(n);return new St(r.seconds,r.nanos)})(t))}function Qv(t,e){return ky(t,e).canonicalString()}function ky(t,e){const n=(function(a){return new Tt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function aC(t){const e=Tt.fromString(t);return ct(hC(e),10190,{key:e.toString()}),e}function My(t,e){return Qv(t.databaseId,e.path)}function jg(t,e){const n=aC(e);if(n.get(1)!==t.databaseId.projectId)throw new be(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(lC(n))}function oC(t,e){return Qv(t.databaseId,e)}function Z4(t){const e=aC(t);return e.length===4?Tt.emptyPath():lC(e)}function Ny(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lC(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Yw(t,e,n){return{name:My(t,e),fields:n.value.mapValue.fields}}function eL(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ze(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(ct(y===void 0||typeof y=="string",58123),En.fromBase64String(y||"")):(ct(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),En.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?ce.UNKNOWN:nC(p.code);return new be(y,p.message||"")})(u);n=new rC(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=jg(t,r.document.name),l=vr(r.document.updateTime),u=r.document.createTime?vr(r.document.createTime):Be.min(),h=new Hn({mapValue:{fields:r.document.fields}}),d=Cn.newFoundDocument(a,l,u,h),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Jf(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=jg(t,r.document),l=r.readTime?vr(r.readTime):Be.min(),u=Cn.newNoDocument(a,l),h=r.removedTargetIds||[];n=new Jf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=jg(t,r.document),l=r.removedTargetIds||[];n=new Jf([],l,a,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new q4(a,l),h=r.targetId;n=new iC(h,u)}}return n}function tL(t,e){let n;if(e instanceof qc)n={update:Yw(t,e.key,e.value)};else if(e instanceof Yv)n={delete:My(t,e.key)};else if(e instanceof ca)n={update:Yw(t,e.key,e.data),updateMask:cL(e.fieldMask)};else{if(!(e instanceof z4))return ze(16599,{dt:e.type});n={verify:My(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const h=u.transform;if(h instanceof Rc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Cc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof xc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof wd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw ze(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:J4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ze(27497)})(t,e.precondition)),n}function nL(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?vr(a.updateTime):vr(l);return u.isEqual(Be.min())&&(u=vr(l)),new L4(u,a.transformResults||[])})(n,e)))):[]}function iL(t,e){return{documents:[oC(t,e.path)]}}function rL(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oC(t,a);const l=(function(p){if(p.length!==0)return cC(Fi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(b){return{field:sl(b.field),direction:oL(b.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Dy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function sL(t){let e=Z4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){ct(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const b=uC(v);return b instanceof Fi&&jR(b)?b.getFilters():[b]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((b=>(function(M){return new Ac(al(M.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(b)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let b;return b=typeof v=="object"?v.value:v,em(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(v){const b=!!v.before,x=v.values||[];return new bd(x,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const b=!v.before,x=v.values||[];return new bd(x,b)})(n.endAt)),b4(e,a,u,l,h,"F",d,p)}function aL(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=al(n.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=al(n.unaryFilter.field);return Zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=al(n.unaryFilter.field);return Zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=al(n.unaryFilter.field);return Zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Zt.create(al(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Fi.create(n.compositeFilter.filters.map((r=>uC(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ze(1026)}})(n.compositeFilter.op))})(t):ze(30097,{filter:t})}function oL(t){return K4[t]}function lL(t){return W4[t]}function uL(t){return Q4[t]}function sl(t){return{fieldPath:t.canonicalString()}}function al(t){return bn.fromServerFormat(t.fieldPath)}function cC(t){return t instanceof Zt?(function(n){if(n.op==="=="){if(Ow(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NAN"}};if(Nw(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ow(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NAN"}};if(Nw(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(n.field),op:lL(n.op),value:n.value}}})(t):t instanceof Fi?(function(n){const r=n.getFilters().map((a=>cC(a)));return r.length===1?r[0]:{compositeFilter:{op:uL(n.op),filters:r}}})(t):ze(54877,{filter:t})}function cL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function hC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function fC(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Ys{constructor(e,n,r,a,l=Be.min(),u=Be.min(),h=En.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hL{constructor(e){this.yt=e}}function fL(t){const e=sL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ed(e,e.limit,"L"):e}class dL{constructor(){this.Sn=new mL}addToCollectionParentIndex(e,n){return this.Sn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(ea.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class mL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new an(Tt.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new an(Tt.comparator)).toArray()}}const Kw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dC=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(dC,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);class bl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new bl(0)}static ar(){return new bl(-1)}}const Ww="LruGarbageCollector",pL=1048576;function Qw([t,e],[n,r]){const a=nt(t,n);return a===0?nt(e,r):a}class gL{constructor(e){this.Pr=e,this.buffer=new an(Qw),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Qw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ae(Ww,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?Ae(Ww,"Ignoring IndexedDB error during garbage collection: ",n):await Pl(n)}await this.Ar(3e5)}))}}class vL{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return de.resolve(Zd.ce);const r=new gL(n);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Kw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kw):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),il()<=tt.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function _L(t,e){return new vL(t,e)}class TL{constructor(){this.changes=new co((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class EL{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&fc(r.mutation,a,ni.empty(),St.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,it()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=it()){const a=Ka();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let u=nc();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=Ka();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,it())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,a){let l=ts();const u=hc(),h=(function(){return hc()})();return n.forEach(((d,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ca)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),fc(y.mutation,p,y.mutation.getFieldMask(),St.now())):u.set(p.key,ni.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>h.set(p,new bL(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=hc();let a=new kt(((u,h)=>u-h)),l=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let y=r.get(d)||ni.empty();y=h.applyToLocalView(p,y),r.set(d,y);const v=(a.get(h.batchId)||it()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,v=KR();y.forEach((b=>{if(!l.has(b)){const x=eC(n.get(b),r.get(b));x!==null&&v.set(b,x),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return de.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return E4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):de.resolve(Ka());let h=bc,d=l;return u.next((p=>de.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?de.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{d=d.insert(y,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,d,p,it()))).next((y=>({batchId:h,changes:YR(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next((r=>{let a=nc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let u=nc();return this.indexManager.getCollectionParents(e,l).next((h=>de.forEach(h,(d=>{const p=(function(v,b){return new Ll(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((y=>{y.forEach(((v,b)=>{u=u.insert(v,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((u=>{l.forEach(((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Cn.newInvalidDocument(y)))}));let h=nc();return u.forEach(((d,p)=>{const y=l.get(d);y!==void 0&&fc(y.mutation,p,ni.empty(),St.now()),rm(n,p)&&(h=h.insert(d,p))})),h}))}}class wL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return de.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:vr(a.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:fL(a.bundledQuery),readTime:vr(a.readTime)}})(n)),de.resolve()}}class SL{constructor(){this.overlays=new kt(Ve.comparator),this.Lr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ka();return de.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.bt(e,n,l)})),de.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const a=Ka(),l=n.length+1,u=new Ve(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return de.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new kt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=Ka(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Ka(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return de.resolve(h)}bt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new F4(n,r));let l=this.Lr.get(n);l===void 0&&(l=it(),this.Lr.set(n,l)),this.Lr.set(n,l.add(r.key))}}class AL{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}class Xv{constructor(){this.kr=new an(cn.Kr),this.qr=new an(cn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new cn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new cn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Ve(new Tt([])),r=new cn(n,e),a=new cn(n,e+1),l=[];return this.qr.forEachInRange([r,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ve(new Tt([])),r=new cn(n,e),a=new cn(n,e+1);let l=it();return this.qr.forEachInRange([r,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new cn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class cn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ve.comparator(e.key,n.key)||nt(e.Hr,n.Hr)}static Ur(e,n){return nt(e.Hr,n.Hr)||Ve.comparator(e.key,n.key)}}class RL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new an(cn.Kr)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new B4(l,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Jr=this.Jr.add(new cn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Xr(r),l=a<0?0:a;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Bv:this.Yn-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new cn(n,0),a=new cn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,a],(u=>{const h=this.Zr(u.Hr);l.push(h)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new an(nt);return n.forEach((a=>{const l=new cn(a,0),u=new cn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(h=>{r=r.add(h.Hr)}))})),de.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;Ve.isDocumentKey(l)||(l=l.child(""));const u=new cn(new Ve(l),0);let h=new an(nt);return this.Jr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Hr)),!0)}),u),de.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ct(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return de.forEach(n.mutations,(a=>{const l=new cn(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new cn(n,0),a=this.Jr.firstAfterOrEqual(r);return de.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class CL{constructor(e){this.ti=e,this.docs=(function(){return new kt(Ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=ts();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():Cn.newInvalidDocument(a))})),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=ts();const u=n.path,h=new Ve(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||JV(XV(y),r)<=0||(a.has(y.key)||rm(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,r,a){ze(9500)}ni(e,n){return de.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new xL(this)}getSize(e){return de.resolve(this.size)}}class xL extends TL{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),de.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class IL{constructor(e){this.persistence=e,this.ri=new co((n=>Hv(n)),Gv),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.ii=0,this.si=new Xv,this.targetCount=0,this.oi=bl._r()}forEachTarget(e,n){return this.ri.forEach(((r,a)=>n(a))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),de.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new bl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.lr(n),de.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),de.waitFor(l).next((()=>a))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.si.containsKey(n))}}class mC{constructor(e,n){this._i={},this.overlays={},this.ai=new Zd(0),this.ui=!1,this.ui=!0,this.ci=new AL,this.referenceDelegate=e(this),this.li=new IL(this),this.indexManager=new dL,this.remoteDocumentCache=(function(a){return new CL(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new hL(n),this.Pi=new wL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new RL(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Ae("MemoryPersistence","Starting transaction:",e);const a=new DL(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return de.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class DL extends e4{constructor(e){super(),this.currentSequenceNumber=e}}class Jv{constructor(e){this.persistence=e,this.Ri=new Xv,this.Ai=null}static Vi(e){return new Jv(e)}get di(){if(this.Ai)return this.Ai;throw ze(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.di,(r=>{const a=Ve.fromPath(r);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ad{constructor(e,n){this.persistence=e,this.fi=new co((r=>i4(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=_L(this,n)}static Vi(e,n){return new Ad(e,n)}Ti(){}Ii(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return de.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((l=>l?de.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((h=>{h||(r++,l.removeEntry(u,Be.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),de.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wf(e.data.value)),n}wr(e,n,r){return de.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return de.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Zv{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=a}static Es(e,n){let r=it(),a=it();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Zv(e,n.fromCache,r,a)}}class kL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ML{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return tN()?8:t4(In())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new kL;return this.ys(e,n,u).next((h=>{if(l.result=h,this.As)return this.ws(e,n,u,h.size)}))})).next((()=>l.result))}ws(e,n,r,a){return r.documentReadCount<this.Vs?(il()<=tt.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),de.resolve()):(il()<=tt.DEBUG&&Ae("QueryEngine","Query:",rl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(il()<=tt.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):de.resolve())}gs(e,n){if(Uw(n))return de.resolve(null);let r=yr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Ed(n,null,"F"),r=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=it(...l);return this.fs.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.bs(n,h);return this.Ss(n,p,u,d.readTime)?this.gs(e,Ed(n,null,"F")):this.Ds(e,p,n,d)}))))})))))}ps(e,n,r,a){return Uw(n)||a.isEqual(Be.min())?de.resolve(null):this.fs.getDocuments(e,r).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,r,a)?de.resolve(null):(il()<=tt.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),rl(n)),this.Ds(e,u,n,QV(a,bc)).next((h=>h)))}))}bs(e,n){let r=new an(GR(e));return n.forEach(((a,l)=>{rm(e,l)&&(r=r.add(l))})),r}Ss(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,r){return il()<=tt.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",rl(n)),this.fs.getDocumentsMatchingQuery(e,n,ea.min(),r)}Ds(e,n,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const e0="LocalStore",NL=3e8;class OL{constructor(e,n,r,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new kt(nt),this.Fs=new co((l=>Hv(l)),Gv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function PL(t,e,n,r){return new OL(t,e,n,r)}async function pC(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],h=[];let d=it();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function VL(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,y){const v=p.batch,b=v.keys();let x=de.resolve();return b.forEach((M=>{x=x.next((()=>y.getEntry(d,M))).next((P=>{const z=p.docVersions.get(M);ct(z!==null,48541),P.version.compareTo(z)<0&&(v.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))}))})),x.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=it();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function gC(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function LL(t,e){const n=qe(t),r=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((y,v)=>{const b=a.get(v);if(!b)return;h.push(n.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,v))));let x=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(En.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),a=a.insert(v,x),(function(P,z,U){return P.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=NL?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(b,x,y)&&h.push(n.li.updateTargetData(l,x))}));let d=ts(),p=it();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(UL(l,u,e.documentUpdates).next((y=>{d=y.Bs,p=y.Ls}))),!r.isEqual(Be.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(y)}return de.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(n.vs=a,l)))}function UL(t,e,n){let r=it(),a=it();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let u=ts();return n.forEach(((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Be.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):Ae(e0,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{Bs:u,Ls:a}}))}function jL(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Bv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function zL(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.li.getTargetData(r,e).next((l=>l?(a=l,de.resolve(a)):n.li.allocateTargetId(r).next((u=>(a=new Ys(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Oy(t,e,n){const r=qe(t),a=r.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Vl(u))throw u;Ae(e0,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function Xw(t,e,n){const r=qe(t);let a=Be.min(),l=it();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,y){const v=qe(d),b=v.Fs.get(y);return b!==void 0?de.resolve(v.vs.get(b)):v.li.getTargetData(p,y)})(r,u,yr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,n?a:Be.min(),n?l:it()))).next((h=>(BL(r,A4(e),h),{documents:h,ks:l})))))}function BL(t,e,n){let r=t.Ms.get(e)||Be.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Ms.set(e,r)}class Jw{constructor(){this.activeTargetIds=k4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FL{constructor(){this.vo=new Jw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Jw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qL{Mo(e){}shutdown(){}}const Zw="ConnectivityMonitor";class eS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ae(Zw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ae(Zw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pf=null;function Py(){return Pf===null?Pf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pf++,"0x"+Pf.toString(16)}const zg="RestConnection",HL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class GL{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===_d?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,n,r,a,l){const u=Py(),h=this.Qo(e,n.toUriEncodedString());Ae(zg,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:p}=new URL(h),y=la(p);return this.zo(e,h,d,r,y).then((v=>(Ae(zg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw yl(zg,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",r),v}))}jo(e,n,r,a,l,u){return this.Wo(e,n,r,a,l)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const r=HL[e];let a=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class $L{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Sn="WebChannelConnection",Ku=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class ml extends GL{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ml.c_){const e=bR();Ku(e,TR.STAT_EVENT,(n=>{n.stat===wy.PROXY?Ae(Sn,"STAT_EVENT: detected buffering proxy"):n.stat===wy.NOPROXY&&Ae(Sn,"STAT_EVENT: detected no buffering proxy")})),ml.c_=!0}}zo(e,n,r,a,l){const u=Py();return new Promise(((h,d)=>{const p=new vR;p.setWithCredentials(!0),p.listenOnce(_R.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Kf.NO_ERROR:const v=p.getResponseJson();Ae(Sn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Kf.TIMEOUT:Ae(Sn,`RPC '${e}' ${u} timed out`),d(new be(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Kf.HTTP_ERROR:const b=p.getStatus();if(Ae(Sn,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const M=x?.error;if(M&&M.status&&M.message){const P=(function(U){const j=U.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(j)>=0?j:ce.UNKNOWN})(M.status);d(new be(P,M.message))}else d(new be(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new be(ce.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Ae(Sn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);Ae(Sn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,r,15)}))}T_(e,n,r){const a=Py(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const p=l.join("");Ae(Sn,`Creating RPC '${e}' stream ${a}: ${p}`,h);const y=u.createWebChannel(p,h);this.I_(y);let v=!1,b=!1;const x=new $L({Ho:M=>{b?Ae(Sn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(v||(Ae(Sn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),Ae(Sn,`RPC '${e}' stream ${a} sending:`,M),y.send(M))},Jo:()=>y.close()});return Ku(y,tc.EventType.OPEN,(()=>{b||(Ae(Sn,`RPC '${e}' stream ${a} transport opened.`),x.i_())})),Ku(y,tc.EventType.CLOSE,(()=>{b||(b=!0,Ae(Sn,`RPC '${e}' stream ${a} transport closed`),x.o_(),this.E_(y))})),Ku(y,tc.EventType.ERROR,(M=>{b||(b=!0,yl(Sn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),x.o_(new be(ce.UNAVAILABLE,"The operation could not be completed")))})),Ku(y,tc.EventType.MESSAGE,(M=>{if(!b){const P=M.data[0];ct(!!P,16349);const z=P,U=z?.error||z[0]?.error;if(U){Ae(Sn,`RPC '${e}' stream ${a} received error:`,U);const j=U.status;let B=(function(Z){const A=Xt[Z];if(A!==void 0)return nC(A)})(j),fe=U.message;B===void 0&&(B=ce.INTERNAL,fe="Unknown error status: "+j+" with message "+U.message),b=!0,x.o_(new be(B,fe)),y.close()}else Ae(Sn,`RPC '${e}' stream ${a} received:`,P),x.__(P)}})),ml.u_(),setTimeout((()=>{x.s_()}),0),x}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ER()}}function YL(t){return new ml(t)}function Bg(){return typeof document<"u"?document:null}function lm(t){return new X4(t,!0)}ml.c_=!1;class yC{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const tS="PersistentStream";class vC{constructor(e,n,r,a,l,u,h,d){this.Ci=e,this.b_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(es(n.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new be(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ae(tS,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Ae(tS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KL extends vC{constructor(e,n,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eL(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Be.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Be.min():u.readTime?vr(u.readTime):Be.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Ny(this.serializer),n.addTarget=(function(l,u){let h;const d=u.target;if(h=xy(d)?{documents:iL(l,d)}:{query:rL(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=sC(l,u.resumeToken);const p=Dy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Be.min())>0){h.readTime=Sd(l,u.snapshotVersion.toTimestamp());const p=Dy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=aL(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Ny(this.serializer),n.removeTarget=e,this.K_(n)}}class WL extends vC{constructor(e,n,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nL(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ny(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>tL(this.serializer,r)))};this.K_(n)}}class QL{}class XL extends QL{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new be(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,ky(n,r),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(ce.UNKNOWN,l.toString())}))}jo(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(e,ky(n,r),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function JL(t,e,n,r){return new XL(t,e,n,r)}class ZL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(n),this.aa=!1):Ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oo="RemoteStore";class e3{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{ho(this)&&(Ae(oo,"Restarting streams for network reachability change."),await(async function(d){const p=qe(d);p.Ea.add(4),await Gc(p),p.Va.set("Unknown"),p.Ea.delete(4),await um(p)})(this))}))})),this.Va=new ZL(r,a)}}async function um(t){if(ho(t))for(const e of t.Ra)await e(!0)}async function Gc(t){for(const e of t.Ra)await e(!1)}function _C(t,e){const n=qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),r0(n)?i0(n):Ul(n).O_()&&n0(n,e))}function t0(t,e){const n=qe(t),r=Ul(n);n.Ia.delete(e),r.O_()&&TC(n,e),n.Ia.size===0&&(r.O_()?r.L_():ho(n)&&n.Va.set("Unknown"))}function n0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ul(t).Z_(e)}function TC(t,e){t.da.$e(e),Ul(t).X_(e)}function i0(t){t.da=new Y4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ul(t).start(),t.Va.ua()}function r0(t){return ho(t)&&!Ul(t).x_()&&t.Ia.size>0}function ho(t){return qe(t).Ea.size===0}function bC(t){t.da=void 0}async function t3(t){t.Va.set("Online")}async function n3(t){t.Ia.forEach(((e,n)=>{n0(t,e)}))}async function i3(t,e){bC(t),r0(t)?(t.Va.ha(e),i0(t)):t.Va.set("Unknown")}async function r3(t,e,n){if(t.Va.set("Online"),e instanceof rC&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(r){Ae(oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rd(t,r)}else if(e instanceof Jf?t.da.Xe(e):e instanceof iC?t.da.st(e):t.da.tt(e),!n.isEqual(Be.min()))try{const r=await gC(t.localStore);n.compareTo(r)>=0&&await(function(l,u){const h=l.da.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(En.EMPTY_BYTE_STRING,y.snapshotVersion)),TC(l,d);const v=new Ys(y.target,d,p,y.sequenceNumber);n0(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){Ae(oo,"Failed to raise snapshot:",r),await Rd(t,r)}}async function Rd(t,e,n){if(!Vl(e))throw e;t.Ea.add(1),await Gc(t),t.Va.set("Offline"),n||(n=()=>gC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ae(oo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await um(t)}))}function EC(t,e){return e().catch((n=>Rd(t,n,e)))}async function cm(t){const e=qe(t),n=ra(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bv;for(;s3(e);)try{const a=await jL(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,a3(e,a)}catch(a){await Rd(e,a)}wC(e)&&SC(e)}function s3(t){return ho(t)&&t.Ta.length<10}function a3(t,e){t.Ta.push(e);const n=ra(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function wC(t){return ho(t)&&!ra(t).x_()&&t.Ta.length>0}function SC(t){ra(t).start()}async function o3(t){ra(t).ra()}async function l3(t){const e=ra(t);for(const n of t.Ta)e.ea(n.mutations)}async function u3(t,e,n){const r=t.Ta.shift(),a=Kv.from(r,e,n);await EC(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await cm(t)}async function c3(t,e){e&&ra(t).Y_&&await(async function(r,a){if((function(u){return H4(u)&&u!==ce.ABORTED})(a.code)){const l=r.Ta.shift();ra(r).B_(),await EC(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await cm(r)}})(t,e),wC(t)&&SC(t)}async function nS(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),Ae(oo,"RemoteStore received new credentials");const r=ho(n);n.Ea.add(3),await Gc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await um(n)}async function h3(t,e){const n=qe(t);e?(n.Ea.delete(2),await um(n)):e||(n.Ea.add(2),await Gc(n),n.Va.set("Unknown"))}function Ul(t){return t.ma||(t.ma=(function(n,r,a){const l=qe(n);return l.sa(),new KL(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:t3.bind(null,t),Yo:n3.bind(null,t),t_:i3.bind(null,t),J_:r3.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),r0(t)?i0(t):t.Va.set("Unknown")):(await t.ma.stop(),bC(t))}))),t.ma}function ra(t){return t.fa||(t.fa=(function(n,r,a){const l=qe(n);return l.sa(),new WL(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:o3.bind(null,t),t_:c3.bind(null,t),ta:l3.bind(null,t),na:u3.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await cm(t)):(await t.fa.stop(),t.Ta.length>0&&(Ae(oo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class s0{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const u=Date.now()+r,h=new s0(e,n,u,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a0(t,e){if(es("AsyncQueue",`${e}: ${t}`),Vl(t))return new be(ce.UNAVAILABLE,`${e}: ${t}`);throw t}class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ve.comparator(n.key,r.key):(n,r)=>Ve.comparator(n.key,r.key),this.keyedMap=nc(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class iS{constructor(){this.ga=new kt(Ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ze(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class El{constructor(e,n,r,a,l,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new El(e,n,pl.emptySet(n),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class f3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class d3{constructor(){this.queries=rS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=qe(n),l=a.queries;a.queries=rS(),l.forEach(((u,h)=>{for(const d of h.ba)d.onError(r)}))})(this,new be(ce.ABORTED,"Firestore shutting down"))}}function rS(){return new co((t=>HR(t)),im)}async function o0(t,e){const n=qe(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(r=2):(l=new f3,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=a0(u,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&u0(n)}async function l0(t,e){const n=qe(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function m3(t,e){const n=qe(t);let r=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.ba)h.Fa(a)&&(r=!0);u.wa=a}}r&&u0(n)}function p3(t,e,n){const r=qe(t),a=r.queries.get(e);if(a)for(const l of a.ba)l.onError(n);r.queries.delete(e)}function u0(t){t.Ca.forEach((e=>{e.next()}))}var Vy,sS;(sS=Vy||(Vy={})).Ma="default",sS.Cache="cache";class c0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new El(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vy.Cache}}class AC{constructor(e){this.key=e}}class RC{constructor(e){this.key=e}}class g3{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=it(),this.mutatedKeys=it(),this.eu=GR(e),this.tu=new pl(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new iS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const b=a.get(y),x=rm(this.query,v)?v:null,M=!!b&&this.mutatedKeys.has(b.key),P=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let z=!1;b&&x?b.data.isEqual(x.data)?M!==P&&(r.track({type:3,doc:x}),z=!0):this.su(b,x)||(r.track({type:2,doc:x}),z=!0,(d&&this.eu(x,d)>0||p&&this.eu(x,p)<0)&&(h=!0)):!b&&x?(r.track({type:0,doc:x}),z=!0):b&&!x&&(r.track({type:1,doc:b}),z=!0,(d||p)&&(h=!0)),z&&(x?(u=u.add(x),l=P?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(x,M){const P=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:z})}};return P(x)-P(M)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,p=d!==this.Xa;return this.Xa=d,u.length!==0||p?{snapshot:new El(this.query,e.tu,l,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=it(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new RC(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new AC(r))})),n}cu(e){this.Za=e.ks,this.Ya=it();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const h0="SyncEngine";class y3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class v3{constructor(e){this.key=e,this.hu=!1}}class _3{constructor(e,n,r,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new co((h=>HR(h)),im),this.Iu=new Map,this.Eu=new Set,this.Ru=new kt(Ve.comparator),this.Au=new Map,this.Vu=new Xv,this.du={},this.mu=new Map,this.fu=bl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function T3(t,e,n=!0){const r=MC(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await CC(r,e,n,!0),a}async function b3(t,e){const n=MC(t);await CC(n,e,!0,!1)}async function CC(t,e,n,r){const a=await zL(t.localStore,yr(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await E3(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&_C(t.remoteStore,a),h}async function E3(t,e,n,r,a){t.pu=(v,b,x)=>(async function(P,z,U,j){let B=z.view.ru(U);B.Ss&&(B=await Xw(P.localStore,z.query,!1).then((({documents:A})=>z.view.ru(A,B))));const fe=j&&j.targetChanges.get(z.targetId),V=j&&j.targetMismatches.get(z.targetId)!=null,Z=z.view.applyChanges(B,P.isPrimaryClient,fe,V);return oS(P,z.targetId,Z.au),Z.snapshot})(t,v,b,x);const l=await Xw(t.localStore,e,!0),u=new g3(e,l.ks),h=u.ru(l.documents),d=Hc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);oS(t,n,p.au);const y=new y3(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function w3(t,e,n){const r=qe(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((u=>!im(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Oy(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&t0(r.remoteStore,a.targetId),Ly(r,a.targetId)})).catch(Pl)):(Ly(r,a.targetId),await Oy(r.localStore,a.targetId,!0))}async function S3(t,e){const n=qe(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),t0(n.remoteStore,r.targetId))}async function A3(t,e,n){const r=M3(t);try{const a=await(function(u,h){const d=qe(u),p=St.now(),y=h.reduce(((x,M)=>x.add(M.key)),it());let v,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let M=ts(),P=it();return d.xs.getEntries(x,y).next((z=>{M=z,M.forEach(((U,j)=>{j.isValidDocument()||(P=P.add(U))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,M))).next((z=>{v=z;const U=[];for(const j of h){const B=j4(j,v.get(j.key).overlayedDocument);B!=null&&U.push(new ca(j.key,B,VR(B.value.mapValue),bi.exists(!0)))}return d.mutationQueue.addMutationBatch(x,p,U,h)})).next((z=>{b=z;const U=z.applyToLocalDocumentSet(v,P);return d.documentOverlayCache.saveOverlays(x,z.batchId,U)}))})).then((()=>({batchId:b.batchId,changes:YR(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.du[u.currentUser.toKey()];p||(p=new kt(nt)),p=p.insert(h,d),u.du[u.currentUser.toKey()]=p})(r,a.batchId,n),await $c(r,a.changes),await cm(r.remoteStore)}catch(a){const l=a0(a,"Failed to persist write");n.reject(l)}}async function xC(t,e){const n=qe(t);try{const r=await LL(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ct(u.hu,14607):a.removedDocuments.size>0&&(ct(u.hu,42227),u.hu=!1))})),await $c(n,r,e)}catch(r){await Pl(r)}}function aS(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=qe(u);d.onlineState=h;let p=!1;d.queries.forEach(((y,v)=>{for(const b of v.ba)b.va(h)&&(p=!0)})),p&&u0(d)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function R3(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let u=new kt(Ve.comparator);u=u.insert(l,Cn.newNoDocument(l,Be.min()));const h=it().add(l),d=new om(Be.min(),new Map,new kt(nt),u,h);await xC(r,d),r.Ru=r.Ru.remove(l),r.Au.delete(e),f0(r)}else await Oy(r.localStore,e,!1).then((()=>Ly(r,e,n))).catch(Pl)}async function C3(t,e){const n=qe(t),r=e.batch.batchId;try{const a=await VL(n.localStore,e);DC(n,r,null),IC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $c(n,a)}catch(a){await Pl(a)}}async function x3(t,e,n){const r=qe(t);try{const a=await(function(u,h){const d=qe(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next((v=>(ct(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);DC(r,e,n),IC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $c(r,a)}catch(a){await Pl(a)}}function IC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function DC(t,e,n){const r=qe(t);let a=r.du[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function Ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||kC(t,r)}))}function kC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(t0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),f0(t))}function oS(t,e,n){for(const r of n)r instanceof AC?(t.Vu.addReference(r.key,e),I3(t,r)):r instanceof RC?(Ae(h0,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||kC(t,r.key)):ze(19791,{wu:r})}function I3(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Ae(h0,"New document in limbo: "+n),t.Eu.add(r),f0(t))}function f0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ve(Tt.fromString(e)),r=t.fu.next();t.Au.set(r,new v3(n)),t.Ru=t.Ru.insert(n,r),_C(t.remoteStore,new Ys(yr(nm(n.path)),r,"TargetPurposeLimboResolution",Zd.ce))}}async function $c(t,e,n){const r=qe(t),a=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{u.push(r.pu(d,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Zv.Es(d.targetId,p);l.push(y)}})))})),await Promise.all(u),r.Pu.J_(a),await(async function(d,p){const y=qe(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>de.forEach(p,(b=>de.forEach(b.Ts,(x=>y.persistence.referenceDelegate.addReference(v,b.targetId,x))).next((()=>de.forEach(b.Is,(x=>y.persistence.referenceDelegate.removeReference(v,b.targetId,x)))))))))}catch(v){if(!Vl(v))throw v;Ae(e0,"Failed to update sequence numbers: "+v)}for(const v of p){const b=v.targetId;if(!v.fromCache){const x=y.vs.get(b),M=x.snapshotVersion,P=x.withLastLimboFreeSnapshotVersion(M);y.vs=y.vs.insert(b,P)}}})(r.localStore,l))}async function D3(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){Ae(h0,"User change. New user:",e.toKey());const r=await pC(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new be(ce.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $c(n,r.Ns)}}function k3(t,e){const n=qe(t),r=n.Au.get(e);if(r&&r.hu)return it().add(r.key);{let a=it();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function MC(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R3.bind(null,e),e.Pu.J_=m3.bind(null,e.eventManager),e.Pu.yu=p3.bind(null,e.eventManager),e}function M3(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x3.bind(null,e),e}class Cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PL(this.persistence,new ML,e.initialUser,this.serializer)}Cu(e){return new mC(Jv.Vi,this.serializer)}Du(e){return new FL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cd.provider={build:()=>new Cd};class N3 extends Cd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof Ad,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new mC((r=>Ad.Vi(r,n)),this.serializer)}}class Uy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=D3.bind(null,this.syncEngine),await h3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new d3})()}createDatastore(e){const n=lm(e.databaseInfo.databaseId),r=YL(e.databaseInfo);return JL(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,u,h){return new e3(r,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>aS(this.syncEngine,n,0)),(function(){return eS.v()?new eS:new qL})())}createSyncEngine(e,n){return(function(a,l,u,h,d,p,y){const v=new _3(a,l,u,h,d,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=qe(n);Ae(oo,"RemoteStore shutting down."),r.Ea.add(5),await Gc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Uy.provider={build:()=>new Uy};class d0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const sa="FirestoreClient";class O3{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=a,this.user=Rn.UNAUTHENTICATED,this.clientId=zv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{Ae(sa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Ae(sa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=a0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Fg(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(sa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await pC(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function lS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await P3(t);Ae(sa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>nS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>nS(e.remoteStore,a))),t._onlineComponents=e}async function P3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(sa,"Using user provided OfflineComponentProvider");try{await Fg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;yl("Error using user provided cache. Falling back to memory cache: "+n),await Fg(t,new Cd)}}else Ae(sa,"Using default OfflineComponentProvider"),await Fg(t,new N3(void 0));return t._offlineComponents}async function NC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(sa,"Using user provided OnlineComponentProvider"),await lS(t,t._uninitializedComponentsProvider._online)):(Ae(sa,"Using default OnlineComponentProvider"),await lS(t,new Uy))),t._onlineComponents}function V3(t){return NC(t).then((e=>e.syncEngine))}async function xd(t){const e=await NC(t),n=e.eventManager;return n.onListen=T3.bind(null,e.syncEngine),n.onUnlisten=w3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=S3.bind(null,e.syncEngine),n}function L3(t,e,n,r){const a=new d0(r),l=new c0(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>o0(await xd(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>l0(await xd(t),l)))}}function U3(t,e,n={}){const r=new Wr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new d0({next:b=>{y.Nu(),u.enqueueAndForget((()=>l0(l,v)));const x=b.docs.has(h);!x&&b.fromCache?p.reject(new be(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&d&&d.source==="server"?p.reject(new be(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),v=new c0(nm(h.path),y,{includeMetadataChanges:!0,Ka:!0});return o0(l,v)})(await xd(t),t.asyncQueue,e,n,r))),r.promise}function j3(t,e,n={}){const r=new Wr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new d0({next:b=>{y.Nu(),u.enqueueAndForget((()=>l0(l,v))),b.fromCache&&d.source==="server"?p.reject(new be(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),v=new c0(h,y,{includeMetadataChanges:!0,Ka:!0});return o0(l,v)})(await xd(t),t.asyncQueue,e,n,r))),r.promise}function z3(t,e){const n=new Wr;return t.asyncQueue.enqueueAndForget((async()=>A3(await V3(t),e,n))),n.promise}function OC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const B3="ComponentProvider",uS=new Map;function F3(t,e,n,r,a){return new a4(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,OC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const PC="firestore.googleapis.com",cS=!0;class hS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PC,this.ssl=cS}else this.host=e.host,this.ssl=e.ssl??cS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pL)throw new be(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new UV;switch(r.type){case"firstParty":return new FV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=uS.get(n);r&&(Ae(B3,"Removing Datastore"),uS.delete(n),r.terminate())})(this),Promise.resolve()}}function q3(t,e,n,r={}){t=$n(t,hm);const a=la(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(Sv(`https://${h}`),Av("Firestore",!0)),l.host!==PC&&l.host!==h&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:r};if(!to(d,u)&&(t._setSettings(d),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Rn.MOCK_USER;else{p=$M(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new be(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Rn(v)}t._authCredentials=new jV(new SR(p,y))}}class as{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new as(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Fc(n,Vt._jsonSchema))return new Vt(e,r||null,new Ve(Tt.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:en("string",Vt._jsonSchemaVersion),referencePath:en("string")};class Js extends as{constructor(e,n,r){super(e,n,nm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Ve(e))}withConverter(e){return new Js(this.firestore,e,this._path)}}function Zf(t,e,...n){if(t=bt(t),AR("collection","path",e),t instanceof hm){const r=Tt.fromString(e,...n);return Sw(r),new Js(t,null,r)}{if(!(t instanceof Vt||t instanceof Js))throw new be(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return Sw(r),new Js(t.firestore,null,r)}}function Hr(t,e,...n){if(t=bt(t),arguments.length===1&&(e=zv.newId()),AR("doc","path",e),t instanceof hm){const r=Tt.fromString(e,...n);return ww(r),new Vt(t,null,new Ve(r))}{if(!(t instanceof Vt||t instanceof Js))throw new be(ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return ww(r),new Vt(t.firestore,t instanceof Js?t.converter:null,new Ve(r))}}const fS="AsyncQueue";class dS{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yC(this,"async_queue_retry"),this._c=()=>{const r=Bg();r&&Ae(fS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Bg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;Ae(fS,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",mS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=s0.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&ze(47125,{Pc:mS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ns extends hm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new dS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dS(e),this._firestoreClient=void 0,await e}}}function H3(t,e){const n=typeof t=="object"?t:xv(),r=typeof t=="string"?t:_d,a=Kd(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=CA("firestore");l&&q3(a,...l)}return a}function fm(t){if(t._terminated)throw new be(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||G3(t),t._firestoreClient}function G3(t){const e=t._freezeSettings(),n=F3(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new O3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class _i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _i(En.fromBase64String(e))}catch(n){throw new be(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _i(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fc(e,_i._jsonSchema))return _i.fromBase64String(e.bytes)}}_i._jsonSchemaVersion="firestore/bytes/1.0",_i._jsonSchema={type:en("string",_i._jsonSchemaVersion),bytes:en("string")};class m0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dm{constructor(e){this._methodName=e}}class _r{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(Fc(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:en("string",_r._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};class Bi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fc(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Bi(e.vectorValues);throw new be(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:en("string",Bi._jsonSchemaVersion),vectorValues:en("object")};const $3=/^__.*__$/;class Y3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new qc(e,this.data,n,this.fieldTransforms)}}class VC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{dataSource:t})}}class p0{constructor(e,n,r,a,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new p0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Id(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(LC(this.dataSource)&&$3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class K3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lm(e)}createContext(e,n,r,a=!1){return new p0({dataSource:e,methodName:n,targetDoc:r,path:bn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mm(t){const e=t._freezeSettings(),n=lm(t._databaseId);return new K3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function UC(t,e,n,r,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);y0("Data must be an object, but it was:",u,r);const h=jC(r,u);let d,p;if(l.merge)d=new ni(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const b=lo(e,v,n);if(!u.contains(b))throw new be(ce.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);FC(y,b)||y.push(b)}d=new ni(y),p=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=u.fieldTransforms;return new Y3(new Hn(h),d,p)}class pm extends dm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pm}}class g0 extends dm{_toFieldTransform(e){return new P4(e.path,new Rc)}isEqual(e){return e instanceof g0}}function W3(t,e,n,r){const a=t.createContext(1,e,n);y0("Data must be an object, but it was:",a,r);const l=[],u=Hn.empty();ua(r,((d,p)=>{const y=BC(e,d,n);p=bt(p);const v=a.childContextForFieldPath(y);if(p instanceof pm)l.push(y);else{const b=Yc(p,v);b!=null&&(l.push(y),u.set(y,b))}}));const h=new ni(l);return new VC(u,h,a.fieldTransforms)}function Q3(t,e,n,r,a,l){const u=t.createContext(1,e,n),h=[lo(e,r,n)],d=[a];if(l.length%2!=0)throw new be(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)h.push(lo(e,l[b])),d.push(l[b+1]);const p=[],y=Hn.empty();for(let b=h.length-1;b>=0;--b)if(!FC(p,h[b])){const x=h[b];let M=d[b];M=bt(M);const P=u.childContextForFieldPath(x);if(M instanceof pm)p.push(x);else{const z=Yc(M,P);z!=null&&(p.push(x),y.set(x,z))}}const v=new ni(p);return new VC(y,v,u.fieldTransforms)}function X3(t,e,n,r=!1){return Yc(n,t.createContext(r?4:3,e))}function Yc(t,e){if(zC(t=bt(t)))return y0("Unsupported field value:",e,t),jC(t,e);if(t instanceof dm)return(function(r,a){if(!LC(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const l=[];let u=0;for(const h of r){let d=Yc(h,a.childContextForArray(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return M4(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=St.fromDate(r);return{timestampValue:Sd(a.serializer,l)}}if(r instanceof St){const l=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sd(a.serializer,l)}}if(r instanceof _r)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _i)return{bytesValue:sC(a.serializer,r._byteString)};if(r instanceof Vt){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Qv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Bi)return(function(u,h){const d=u instanceof Bi?u.toArray():u;return{mapValue:{fields:{[OR]:{stringValue:PR},[Td]:{arrayValue:{values:d.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return $v(h.serializer,y)}))}}}}}})(r,a);if(fC(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Jd(r)}`)})(t,e)}function jC(t,e){const n={};return xR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(t,((r,a)=>{const l=Yc(a,e.childContextForField(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function zC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof _r||t instanceof _i||t instanceof Vt||t instanceof dm||t instanceof Bi||fC(t))}function y0(t,e,n){if(!zC(n)||!RR(n)){const r=Jd(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function lo(t,e,n){if((e=bt(e))instanceof m0)return e._internalPath;if(typeof e=="string")return BC(t,e);throw Id("Field path arguments must be of type string or ",t,!1,void 0,n)}const J3=new RegExp("[~\\*/\\[\\]]");function BC(t,e,n){if(e.search(J3)>=0)throw Id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new m0(...e.split("."))._internalPath}catch{throw Id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Id(t,e,n,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new be(ce.INVALID_ARGUMENT,h+t+d)}function FC(t,e){return t.some((n=>n.isEqual(e)))}class Z3{convertValue(e,n="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ua(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){const n=e.fields?.[Td].arrayValue?.values?.map((r=>Bt(r.doubleValue)));return new Bi(n)}convertGeoPoint(e){return new _r(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const n=ta(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tt.fromString(e);ct(hC(r),9688,{name:e});const a=new wc(r.get(1),r.get(3)),l=new Ve(r.popFirst(5));return a.isEqual(n)||es(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class v0 extends Z3{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function qg(){return new g0("serverTimestamp")}const pS="@firebase/firestore",gS="4.10.0";function yS(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class qC{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new e6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(lo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class e6 extends qC{data(){return super.data()}}function HC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _0{}class T0 extends _0{}function jy(t,e,...n){let r=[];e instanceof _0&&r.push(e),r=r.concat(n),(function(l){const u=l.filter((d=>d instanceof b0)).length,h=l.filter((d=>d instanceof gm)).length;if(u>1||u>0&&h>0)throw new be(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class gm extends T0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gm(e,n,r)}_apply(e){const n=this._parse(e);return GC(e._query,n),new as(e.firestore,e.converter,Iy(e._query,n))}_parse(e){const n=mm(e.firestore);return(function(l,u,h,d,p,y,v){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new be(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){_S(v,y);const M=[];for(const P of v)M.push(vS(d,l,P));b={arrayValue:{values:M}}}else b=vS(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||_S(v,y),b=X3(h,u,v,y==="in"||y==="not-in");return Zt.create(p,y,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zy(t,e,n){const r=e,a=lo("where",t);return gm._create(a,r,n)}class b0 extends _0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new b0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)GC(u,d),u=Iy(u,d)})(e._query,n),new as(e.firestore,e.converter,Iy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class E0 extends T0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new E0(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new be(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new be(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ac(l,u)})(e._query,this._field,this._direction);return new as(e.firestore,e.converter,S4(e._query,n))}}function uo(t,e="asc"){const n=e,r=lo("orderBy",t);return E0._create(r,n)}class w0 extends T0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new w0(e,n,r)}_apply(e){return new as(e.firestore,e.converter,Ed(e._query,this._limit,this._limitType))}}function wl(t){return WV("limit",t),w0._create("limit",t,"F")}function vS(t,e,n){if(typeof(n=bt(n))=="string"){if(n==="")throw new be(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qR(e)&&n.indexOf("/")!==-1)throw new be(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Tt.fromString(n));if(!Ve.isDocumentKey(r))throw new be(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mw(t,new Ve(r))}if(n instanceof Vt)return Mw(t,n._key);throw new be(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jd(n)}.`)}function _S(t,e){if(!Array.isArray(t)||t.length===0)throw new be(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GC(t,e){const n=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function $C(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class rc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xa extends qC{constructor(e,n,r,a,l,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ed(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xa._jsonSchema={type:en("string",Xa._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class ed extends Xa{data(e={}){return super.data(e)}}class Ja{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new rc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ed(this._firestore,this._userDataWriter,r.key,r,new rc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new ed(a._firestore,a._userDataWriter,h.doc.key,h.doc,new rc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new ed(a._firestore,a._userDataWriter,h.doc.key,h.doc,new rc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:t6(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function t6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:t})}}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:en("string",Ja._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};function YC(t){t=$n(t,Vt);const e=$n(t.firestore,ns),n=fm(e);return U3(n,t._key).then((r=>QC(e,t,r)))}function KC(t){t=$n(t,as);const e=$n(t.firestore,ns),n=fm(e),r=new v0(e);return HC(t._query),j3(n,t._query).then((a=>new Ja(e,r,t,a)))}function By(t,e,n){t=$n(t,Vt);const r=$n(t.firestore,ns),a=$C(t.converter,e,n),l=mm(r);return ym(r,[UC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,bi.none())])}function WC(t,e,n,...r){t=$n(t,Vt);const a=$n(t.firestore,ns),l=mm(a);let u;return u=typeof(e=bt(e))=="string"||e instanceof m0?Q3(l,"updateDoc",t._key,e,n,r):W3(l,"updateDoc",t._key,e),ym(a,[u.toMutation(t._key,bi.exists(!0))])}function n6(t){return ym($n(t.firestore,ns),[new Yv(t._key,bi.none())])}function i6(t,e){const n=$n(t.firestore,ns),r=Hr(t),a=$C(t.converter,e),l=mm(t.firestore);return ym(n,[UC(l,"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,bi.exists(!1))]).then((()=>r))}function Dd(t,...e){t=bt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||yS(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(yS(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let l,u,h;if(t instanceof Vt)u=$n(t.firestore,ns),h=nm(t._key.path),l={next:p=>{e[r]&&e[r](QC(u,t,p))},error:e[r+1],complete:e[r+2]};else{const p=$n(t,as);u=$n(p.firestore,ns),h=p._query;const y=new v0(u);l={next:v=>{e[r]&&e[r](new Ja(u,y,p,v))},error:e[r+1],complete:e[r+2]},HC(t._query)}const d=fm(u);return L3(d,h,a,l)}function ym(t,e){const n=fm(t);return z3(n,e)}function QC(t,e,n){const r=n.docs.get(e._key),a=new v0(t);return new Xa(t,a,e._key,r,new rc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){LV(Ml),no(new Zs("firestore",((r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new ns(new zV(r.getProvider("auth-internal")),new qV(u,r.getProvider("app-check-internal")),o4(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),pr(pS,gS,e),pr(pS,gS,"esm2020")})();const r6={apiKey:"AIzaSyAFLf5FxuXFw21D1Kxkq9cPQ59oGPSJbGg",authDomain:"humi-awake.firebaseapp.com",projectId:"humi-awake",storageBucket:"humi-awake.appspot.com",messagingSenderId:"473703878796",appId:"1:473703878796:web:2b612896eace5d6a6eeba9"},vm=MA(r6),kd=PV(vm),vn=H3(vm),GF=Object.freeze(Object.defineProperty({__proto__:null,app:vm,auth:kd,db:vn},Symbol.toStringTag,{value:"Module"}));var td={exports:{}},s6=td.exports,TS;function a6(){return TS||(TS=1,(function(t){(function(e){function n(V,Z){var A=(V&65535)+(Z&65535),w=(V>>16)+(Z>>16)+(A>>16);return w<<16|A&65535}function r(V,Z){return V<<Z|V>>>32-Z}function a(V,Z,A,w,D,N){return n(r(n(n(Z,V),n(w,N)),D),A)}function l(V,Z,A,w,D,N,O){return a(Z&A|~Z&w,V,Z,D,N,O)}function u(V,Z,A,w,D,N,O){return a(Z&w|A&~w,V,Z,D,N,O)}function h(V,Z,A,w,D,N,O){return a(Z^A^w,V,Z,D,N,O)}function d(V,Z,A,w,D,N,O){return a(A^(Z|~w),V,Z,D,N,O)}function p(V,Z){V[Z>>5]|=128<<Z%32,V[(Z+64>>>9<<4)+14]=Z;var A,w,D,N,O,k=1732584193,S=-271733879,Y=-1732584194,H=271733878;for(A=0;A<V.length;A+=16)w=k,D=S,N=Y,O=H,k=l(k,S,Y,H,V[A],7,-680876936),H=l(H,k,S,Y,V[A+1],12,-389564586),Y=l(Y,H,k,S,V[A+2],17,606105819),S=l(S,Y,H,k,V[A+3],22,-1044525330),k=l(k,S,Y,H,V[A+4],7,-176418897),H=l(H,k,S,Y,V[A+5],12,1200080426),Y=l(Y,H,k,S,V[A+6],17,-1473231341),S=l(S,Y,H,k,V[A+7],22,-45705983),k=l(k,S,Y,H,V[A+8],7,1770035416),H=l(H,k,S,Y,V[A+9],12,-1958414417),Y=l(Y,H,k,S,V[A+10],17,-42063),S=l(S,Y,H,k,V[A+11],22,-1990404162),k=l(k,S,Y,H,V[A+12],7,1804603682),H=l(H,k,S,Y,V[A+13],12,-40341101),Y=l(Y,H,k,S,V[A+14],17,-1502002290),S=l(S,Y,H,k,V[A+15],22,1236535329),k=u(k,S,Y,H,V[A+1],5,-165796510),H=u(H,k,S,Y,V[A+6],9,-1069501632),Y=u(Y,H,k,S,V[A+11],14,643717713),S=u(S,Y,H,k,V[A],20,-373897302),k=u(k,S,Y,H,V[A+5],5,-701558691),H=u(H,k,S,Y,V[A+10],9,38016083),Y=u(Y,H,k,S,V[A+15],14,-660478335),S=u(S,Y,H,k,V[A+4],20,-405537848),k=u(k,S,Y,H,V[A+9],5,568446438),H=u(H,k,S,Y,V[A+14],9,-1019803690),Y=u(Y,H,k,S,V[A+3],14,-187363961),S=u(S,Y,H,k,V[A+8],20,1163531501),k=u(k,S,Y,H,V[A+13],5,-1444681467),H=u(H,k,S,Y,V[A+2],9,-51403784),Y=u(Y,H,k,S,V[A+7],14,1735328473),S=u(S,Y,H,k,V[A+12],20,-1926607734),k=h(k,S,Y,H,V[A+5],4,-378558),H=h(H,k,S,Y,V[A+8],11,-2022574463),Y=h(Y,H,k,S,V[A+11],16,1839030562),S=h(S,Y,H,k,V[A+14],23,-35309556),k=h(k,S,Y,H,V[A+1],4,-1530992060),H=h(H,k,S,Y,V[A+4],11,1272893353),Y=h(Y,H,k,S,V[A+7],16,-155497632),S=h(S,Y,H,k,V[A+10],23,-1094730640),k=h(k,S,Y,H,V[A+13],4,681279174),H=h(H,k,S,Y,V[A],11,-358537222),Y=h(Y,H,k,S,V[A+3],16,-722521979),S=h(S,Y,H,k,V[A+6],23,76029189),k=h(k,S,Y,H,V[A+9],4,-640364487),H=h(H,k,S,Y,V[A+12],11,-421815835),Y=h(Y,H,k,S,V[A+15],16,530742520),S=h(S,Y,H,k,V[A+2],23,-995338651),k=d(k,S,Y,H,V[A],6,-198630844),H=d(H,k,S,Y,V[A+7],10,1126891415),Y=d(Y,H,k,S,V[A+14],15,-1416354905),S=d(S,Y,H,k,V[A+5],21,-57434055),k=d(k,S,Y,H,V[A+12],6,1700485571),H=d(H,k,S,Y,V[A+3],10,-1894986606),Y=d(Y,H,k,S,V[A+10],15,-1051523),S=d(S,Y,H,k,V[A+1],21,-2054922799),k=d(k,S,Y,H,V[A+8],6,1873313359),H=d(H,k,S,Y,V[A+15],10,-30611744),Y=d(Y,H,k,S,V[A+6],15,-1560198380),S=d(S,Y,H,k,V[A+13],21,1309151649),k=d(k,S,Y,H,V[A+4],6,-145523070),H=d(H,k,S,Y,V[A+11],10,-1120210379),Y=d(Y,H,k,S,V[A+2],15,718787259),S=d(S,Y,H,k,V[A+9],21,-343485551),k=n(k,w),S=n(S,D),Y=n(Y,N),H=n(H,O);return[k,S,Y,H]}function y(V){var Z,A="",w=V.length*32;for(Z=0;Z<w;Z+=8)A+=String.fromCharCode(V[Z>>5]>>>Z%32&255);return A}function v(V){var Z,A=[];for(A[(V.length>>2)-1]=void 0,Z=0;Z<A.length;Z+=1)A[Z]=0;var w=V.length*8;for(Z=0;Z<w;Z+=8)A[Z>>5]|=(V.charCodeAt(Z/8)&255)<<Z%32;return A}function b(V){return y(p(v(V),V.length*8))}function x(V,Z){var A,w=v(V),D=[],N=[],O;for(D[15]=N[15]=void 0,w.length>16&&(w=p(w,V.length*8)),A=0;A<16;A+=1)D[A]=w[A]^909522486,N[A]=w[A]^1549556828;return O=p(D.concat(v(Z)),512+Z.length*8),y(p(N.concat(O),640))}function M(V){var Z="0123456789abcdef",A="",w,D;for(D=0;D<V.length;D+=1)w=V.charCodeAt(D),A+=Z.charAt(w>>>4&15)+Z.charAt(w&15);return A}function P(V){return unescape(encodeURIComponent(V))}function z(V){return b(P(V))}function U(V){return M(z(V))}function j(V,Z){return x(P(V),P(Z))}function B(V,Z){return M(j(V,Z))}function fe(V,Z,A){return Z?A?j(Z,V):B(Z,V):A?z(V):U(V)}t.exports?t.exports=fe:e.md5=fe})(s6)})(td)),td.exports}var o6=a6();const bS=mv(o6),XC=C.createContext(),l6=t=>{if(!t)return null;const e=t.displayName||"User",n=t.email||"";`${bS(n.trim().toLowerCase())}`;const r=`https://ui-avatars.com/api/?name=${encodeURIComponent(e)}&background=random&color=fff&bold=true`,a=t.photoURL||`https://www.gravatar.com/avatar/${bS(n.trim().toLowerCase())}?d=${encodeURIComponent(r)}`,l=["bg-red-500","bg-orange-500","bg-amber-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500"];let u=0;for(let d=0;d<e.length;d++)u=e.charCodeAt(d)+((u<<5)-u);const h=l[Math.abs(u)%l.length];return{...t,uid:t.uid,email:n,name:e,avatar:a,initials:e.charAt(0).toUpperCase(),profileColor:h}},u6=({children:t})=>{const[e,n]=C.useState(null),[r,a]=C.useState(!0);C.useEffect(()=>{const h=AP(kd,d=>{n(d?l6(d):null),a(!1)});return()=>h()},[]);const l=()=>sR(kd),u=h=>{console.log("AuthContext dispatch called (ignored due to Firebase Auth listener):",h)};return q.jsx(XC.Provider,{value:{user:e,loading:r,logout:l,dispatch:u,authIsReady:!r},children:t})},fo=()=>{const t=C.useContext(XC);if(!t)throw new Error("useAuthContext must be used inside an AuthContextProvider");return t},Ce={subscribeToCollection:(t,e,...n)=>{if(!vn)return console.warn("Firestore not initialized"),()=>{};let r=n,a=null;n.length>0&&typeof n[n.length-1]=="function"&&(a=n.pop(),r=n);try{const l=Zf(vn,t),u=jy(l,...r);return Dd(u,d=>{const p=d.docs.map(y=>({id:y.id,...y.data()}));e(p)},d=>{a?a(d):console.error(`Error subscribing to ${t}: `,d)})}catch(l){return console.error(`Error setting up subscription for ${t}: `,l),a&&a(l),()=>{}}},subscribeToDocument:(t,e,n)=>{if(!vn)return()=>{};try{const r=Hr(vn,t,e);return Dd(r,l=>{l.exists()?n({id:l.id,...l.data()}):n(null)},l=>{console.error(`Error subscribing to ${t}/${e}:`,l)})}catch(r){return console.error(`Error in document subscription ${t}/${e}:`,r),()=>{}}},addItem:async(t,e)=>{const n=Zf(vn,t);return await i6(n,e)},setItem:async(t,e,n,r=!0)=>{const a=Hr(vn,t,e);return await By(a,n,{merge:r})},updateItem:async(t,e,n)=>{const r=Hr(vn,t,e);return await WC(r,n)},deleteItem:async(t,e)=>{const n=e?Hr(vn,t,e):Hr(vn,t);return await n6(n)},getDocument:async(t,e)=>{if(!vn)return null;const n=Hr(vn,t,e),r=await YC(n);return r.exists()?{id:r.id,...r.data()}:null},getCollection:async(t,...e)=>{if(!vn)return[];const n=Zf(vn,t),r=jy(n,...e);return(await KC(r)).docs.map(l=>({id:l.id,...l.data()}))}},JC=C.createContext(),ZC=()=>{const t=C.useContext(JC);if(!t)throw new Error("useTheme must be used within a ThemeContextProvider");return t},c6=({children:t})=>{const{user:e}=fo(),[n,r]=C.useState(()=>{if(typeof window<"u"){const u=localStorage.getItem("theme");if(u)return u;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"});C.useEffect(()=>{const u=window.document.documentElement;n==="dark"?u.classList.add("dark"):u.classList.remove("dark"),localStorage.setItem("theme",n)},[n]),C.useEffect(()=>{if(!e)return;(async()=>{try{const h=await Ce.getDocument(`users/${e.uid}/config`,"settings");h&&h.theme&&h.theme!==n&&r(h.theme)}catch(h){console.error("Failed to fetch theme settings",h)}})()},[e?.uid]);const a=C.useCallback(async()=>{const u=n==="dark"?"light":"dark";if(r(u),e)try{await Ce.setItem(`users/${e.uid}/config`,"settings",{theme:u},!0)}catch(h){console.error("Failed to save theme",h)}},[n,e]),l=C.useMemo(()=>({theme:n,toggleTheme:a,isDark:n==="dark"}),[n,a]);return q.jsx(JC.Provider,{value:l,children:t})},ex=C.createContext(),_m=()=>{const t=C.useContext(ex);if(!t)throw new Error("useDate must be used within a DateContextProvider");return t},h6=({children:t})=>{const[e,n]=kM(),r=()=>{const j=new Date;return j.setHours(0,0,0,0),j},a=j=>{if(!j)return null;const[B,fe,V]=j.split("-").map(Number);return new Date(B,fe-1,V)},l=j=>{const B=j.getFullYear(),fe=String(j.getMonth()+1).padStart(2,"0"),V=String(j.getDate()).padStart(2,"0");return`${B}-${fe}-${V}`},u=()=>{const j=e.get("date");if(j){const B=a(j);if(B&&B<=r())return B}return r()},[h,d]=C.useState(u);C.useEffect(()=>{const j=l(h);n({date:j})},[h,n]);const p=()=>h.getTime()===r().getTime(),y=j=>{let B;typeof j=="string"?B=a(j):(B=new Date(j),B.setHours(0,0,0,0));const fe=r();if(B>fe){console.warn("Cannot navigate to future date");return}d(B)},v=()=>{const j=new Date(h);j.setDate(h.getDate()-1),y(j)},b=()=>{const j=new Date(h);j.setDate(h.getDate()+1),!(j>r())&&y(j)},x=()=>{d(r())},M=l(h),P=l(r()),z=()=>h<r(),U=C.useMemo(()=>({currentDate:h,formattedDate:M,isToday:p(),isPast:z(),setDate:y,prevDay:v,nextDay:b,jumpToToday:x,maxDate:P}),[h,M,P]);return q.jsx(ex.Provider,{value:U,children:t})},f6={getDayRef(t,e){return Hr(vn,"users",t,"days",e)},subscribeToDay(t,e,n){const r=this.getDayRef(t,e);return Dd(r,a=>{a.exists()?n(a.data()):n(null)},a=>{console.error("Firestore Subscribe Error:",a)})},async saveDay(t,e,n){const r=this.getDayRef(t,e);try{await By(r,{...n,lastModified:qg()},{merge:!0})}catch(a){throw console.error("Firestore Save Error:",a),a}},async lockDay(t,e){const n=this.getDayRef(t,e);await WC(n,{locked:!0,submitted:!0,lockedAt:qg()})},async getRecentHistory(t,e=7){const n=[];for(let r=0;r<e;r++){const a=new Date;a.setDate(a.getDate()-r);const l=a.toISOString().split("T")[0],u=this.getDayRef(t,l),h=await YC(u);h.exists()?n.push({date:l,data:h.data(),score:this.calculateScore(h.data())}):n.push({date:l,data:null,score:0})}return n.reverse()},async getAllHistory(t){try{const e=Zf(vn,"users",t,"days"),n=new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],r=jy(e,zy("date",">=",n)),a=await KC(r),l=[];return a.forEach(u=>{const h=u.data();l.push({date:u.id,data:h,score:this.calculateScore(h)})}),l.sort((u,h)=>u.date.localeCompare(h.date)),l}catch(e){return console.error("Error fetching all history:",e),[]}},calculateScore(t){if(!t||!t.tasks)return 0;const e=t.tasks.length;if(e===0)return 0;const n=t.tasks.filter(r=>r.status==="checked").length;return Math.round(n/e*100)},getModuleRef(t,e){return Hr(vn,"users",t,"modules",e)},subscribeToModule(t,e,n){const r=this.getModuleRef(t,e);return Dd(r,a=>{a.exists()?n(a.data()):n(null)},a=>{console.error(`Firestore Module Subscribe Error (${e}):`,a)})},async saveModule(t,e,n){const r=this.getModuleRef(t,e);try{await By(r,{...n,lastModified:qg()},{merge:!0})}catch(a){throw console.error(`Firestore Module Save Error (${e}):`,a),a}}},tx=C.createContext(),$F=()=>{const t=C.useContext(tx);if(!t)throw new Error("useData must be used within a DataContextProvider");return t},d6=({children:t})=>{const{formattedDate:e,isPast:n}=_m(),{user:r}=fo(),[a,l]=C.useState(!0),u=["junkFood","sugar","coldDrinks","screenTime","logExpense"],h=()=>({tasks:[],habits:[],submitted:!1,locked:!1,lastModified:Date.now()}),[d,p]=C.useState(h()),y=S=>({id:S.id||`task_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:S.name||"Untitled Task",time:S.time||"",category:S.category||"EVE/NIGHT",icon:S.icon||"CheckCircle",status:S.status||"unchecked"}),v=async S=>{if(r)try{const Y=S.map(H=>{const $=y(H);return $.status="unchecked",$});console.log("[DataContext] Saving Master Template:",Y.length),await Ce.setItem(`users/${r.uid}/modules`,"routine",{tasks:Y,lastModified:Date.now()},!0)}catch(Y){console.error("[DataContext] Failed to save master template:",Y)}};C.useEffect(()=>{if(!r){p(h()),l(!1);return}l(!0);const S=async()=>{try{console.log("[DataContext] Attempting to initialize day...");const H=await Ce.getDocument(`users/${r.uid}/modules`,"routine");if(H&&H.tasks&&H.tasks.length>0){console.log("[DataContext] Found Master Template. Initializing from template.");const ie=H.tasks.map(F=>({...F,status:"unchecked"}));let ee=[];const Te=await Ce.getCollection(`users/${r.uid}/days`,uo("date","desc"),wl(1));Te&&Te.length>0&&(ee=(Te[0].habits||[]).map(ae=>({...ae,value:ae.type==="number"?0:!1})));const Oe={tasks:ie,habits:ee,date:e,source:"template",submitted:!1,locked:!1,lastModified:Date.now()};return await Ce.setItem(`users/${r.uid}/days`,e,Oe,!0),Oe}const $=await Ce.getCollection(`users/${r.uid}/days`,uo("date","desc"),wl(1));if($&&$.length>0){const ie=$[0];if(ie.date===e)return null;console.log("[DataContext] No template found. Backfilling from:",ie.date);const ee=(ie.tasks||[]).map(F=>({...F,status:"unchecked"})),Te=(ie.habits||[]).map(F=>({...F,value:F.type==="number"?0:!1})),Oe={tasks:ee,habits:Te,date:e,carriedOverFrom:ie.date,submitted:!1,locked:!1,lastModified:Date.now()};return await Ce.setItem(`users/${r.uid}/days`,e,Oe,!0),Oe}return null}catch(H){return console.error("[DataContext] Backfill error:",H),null}},Y=Ce.subscribeToDocument(`users/${r.uid}/days`,e,H=>{if(H){let $=H.habits||[];const ie=$.length;$=$.filter(ae=>!u.includes(ae.id));const ee=$.length!==ie;let Te=H.tasks||[];const Oe=Te.some(ae=>ae.id&&String(ae.id).startsWith("task_0"));Te.length===0&&$.length===0&&(console.log("[DataContext] Found empty day, attempting backfill..."),S()),Te=Te.map(ae=>{if(!ae.category&&ae.time){const[Q]=ae.time.split(":").map(Number);let K="EVE/NIGHT";return Q>=4&&Q<9?K="EARLY MORNING":Q>=9&&Q<13?K="BEFORE NOON":Q>=13&&Q<17&&(K="AFTER NOON"),console.log(`DataContext: Auto-categorizing task '${ae.name}' to ${K}`),{...ae,category:K}}return ae}),(Oe||ee)&&Ce.updateItem(`users/${r.uid}/days`,e,{tasks:Te,habits:$,locked:!1,submitted:!1}),p({...h(),...H,tasks:Te,habits:$,locked:Oe||ee?!1:H.locked||!1,submitted:Oe||ee?!1:H.submitted||!1})}else{S().then($=>{$||p(h())}).finally(()=>l(!1));return}l(!1)});return()=>Y()},[e,r]);const b=async S=>{if(!r)return;const Y=(S.tasks||[]).map(y),H=(S.habits||[]).map(ie=>({...ie,id:ie.id||`habit_${Date.now()}`,value:ie.value!==void 0?ie.value:!1})),$={...S,tasks:Y,habits:H,date:e,lastModified:Date.now()};p($);try{await Ce.setItem(`users/${r.uid}/days`,e,$)}catch(ie){console.error("[DataContext] Save failed:",ie)}};new Date().toISOString().split("T")[0];const x=!1,M=async S=>{const Y=d.tasks.map(H=>{if(H.id===S){let $="unchecked";return H.status==="unchecked"?$="checked":H.status==="checked"&&($="missed"),{...H,status:$}}return H});await b({...d,tasks:Y})},P=async(S,Y)=>{const H=d.habits.map($=>$.id===S?{...$,value:Y}:$);await b({...d,habits:H})},z=async(S,Y="toggle",H="hrs",$)=>{const ie={id:`habit_${Date.now()}`,label:S,type:Y,icon:$||(Y==="number"?"Activity":"CheckCircle"),value:Y==="number"?0:!1,unit:Y==="number"?H:void 0};await b({...d,habits:[...d.habits,ie]})},U=async S=>{const Y=d.habits.filter(H=>H.id!==S);await b({...d,habits:Y})},j=async()=>{const S={...d,submitted:!0,locked:!0};await b(S)},B=async S=>{if(n){console.warn("Cannot unlock past days.");return}const Y={...d,locked:!1,unlockHistory:[...d.unlockHistory||[],{timestamp:Date.now(),reason:S}]};await b(Y)},fe=async S=>{d.tasks.length===0&&await b({...d,tasks:S})},V=async S=>{const Y=y({...S,id:`task_${Date.now()}`,status:"unchecked"}),H=[...d.tasks,Y];H.sort(($,ie)=>{if(!$.time||!ie.time)return 0;const ee=$.time.split(":").map(Number),Te=ie.time.split(":").map(Number);return ee[0]*60+ee[1]-(Te[0]*60+Te[1])}),await b({...d,tasks:H}),v(H)},Z=async(S,Y)=>{const H=d.tasks.map($=>$.id===S?{...$,...Y}:$);Y.time&&H.sort(($,ie)=>{const ee=$.time.split(":").map(Number),Te=ie.time.split(":").map(Number);return ee[0]*60+ee[1]-(Te[0]*60+Te[1])}),await b({...d,tasks:H}),v(H)},A=async S=>{const Y=d.tasks.filter(H=>H.id!==S);await b({...d,tasks:Y}),v(Y)},w=async S=>{const Y=S.map(y);await b({...d,tasks:Y}),v(Y)},D=()=>{if(!d?.tasks||d.tasks.length===0)return 0;const S=d.tasks.length,Y=d.tasks.filter(H=>H.status==="checked").length;return Math.round(Y/S*100)},N=async(S=7)=>{if(!r)return[];const Y=[];for(let H=0;H<S;H++){const $=new Date;$.setDate($.getDate()-H);const ie=$.toISOString().split("T")[0];Y.push(Ce.getDocument(`users/${r.uid}/days`,ie).then(ee=>{if(!ee)return{date:ie,score:0,data:null};const Te=ee.tasks||[],Oe=Te.filter(ae=>ae.status==="checked").length,F=Te.length?Math.round(Oe/Te.length*100):0;return{date:ie,score:F,data:ee}}))}return[]},O=async()=>r?await f6.getAllHistory(r.uid):[],k=C.useMemo(()=>({dailyData:d,updateTaskStatus:M,updateHabit:P,addHabit:z,deleteHabit:U,submitDay:j,unlockDay:B,initTasks:fe,addTask:V,editTask:Z,deleteTask:A,updateAllTasks:w,isAuthenticated:!!r,isLocked:x,getDisciplineScore:D,getHistory:N,getAllHistory:O,isLoading:a}),[d,x,r,a]);return q.jsx(tx.Provider,{value:k,children:t})},nx=6048e5,m6=864e5,YF=6e4,KF=36e5,ES=Symbol.for("constructDateFrom");function qi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&ES in t?t[ES](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ft(t,e){return qi(e||t,t)}function dc(t,e,n){const r=Ft(t,n?.in);return isNaN(e)?qi(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Za(t,e,n){const r=Ft(t,n?.in);if(isNaN(e))return qi(t,NaN);if(!e)return r;const a=r.getDate(),l=qi(t,r.getTime());l.setMonth(r.getMonth()+e+1,0);const u=l.getDate();return a>=u?l:(r.setFullYear(l.getFullYear(),l.getMonth(),a),r)}let p6={};function Kc(){return p6}function Sl(t,e){const n=Kc(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Ft(t,e?.in),l=a.getDay(),u=(l<r?7:0)+l-r;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function Md(t,e){return Sl(t,{...e,weekStartsOn:1})}function ix(t,e){const n=Ft(t,e?.in),r=n.getFullYear(),a=qi(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const l=Md(a),u=qi(n,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const h=Md(u);return n.getTime()>=l.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function wS(t){const e=Ft(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function rx(t,...e){const n=qi.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Nd(t,e){const n=Ft(t,e?.in);return n.setHours(0,0,0,0),n}function g6(t,e,n){const[r,a]=rx(n?.in,t,e),l=Nd(r),u=Nd(a),h=+l-wS(l),d=+u-wS(u);return Math.round((h-d)/m6)}function y6(t,e){const n=ix(t,e),r=qi(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Md(r)}function v6(t,e,n){return dc(t,e*7,n)}function nd(t,e,n){return Za(t,e*12,n)}function Hg(t,e,n){const[r,a]=rx(n?.in,t,e);return+Nd(r)==+Nd(a)}function _6(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function T6(t){return!(!_6(t)&&typeof t!="number"||isNaN(+Ft(t)))}function SS(t,e){const n=Ft(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function AS(t,e){const n=Ft(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function b6(t,e){const n=Ft(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function E6(t,e){const n=Kc(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Ft(t,e?.in),l=a.getDay(),u=(l<r?-7:0)+6-(l-r);return a.setDate(a.getDate()+u),a.setHours(23,59,59,999),a}const w6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},S6=(t,e,n)=>{let r;const a=w6[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Gg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const A6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},R6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},C6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},x6={date:Gg({formats:A6,defaultWidth:"full"}),time:Gg({formats:R6,defaultWidth:"full"}),dateTime:Gg({formats:C6,defaultWidth:"full"})},I6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},D6=(t,e,n,r)=>I6[t];function Wu(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,h=n?.width?String(n.width):u;a=t.formattingValues[h]||t.formattingValues[u]}else{const u=t.defaultWidth,h=n?.width?String(n.width):t.defaultWidth;a=t.values[h]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return a[l]}}const k6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},M6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},N6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},O6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},P6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},V6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},L6=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},U6={ordinalNumber:L6,era:Wu({values:k6,defaultWidth:"wide"}),quarter:Wu({values:M6,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Wu({values:N6,defaultWidth:"wide"}),day:Wu({values:O6,defaultWidth:"wide"}),dayPeriod:Wu({values:P6,defaultWidth:"wide",formattingValues:V6,defaultFormattingWidth:"wide"})};function Qu(t){return(e,n={})=>{const r=n.width,a=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],l=e.match(a);if(!l)return null;const u=l[0],h=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(h)?z6(h,v=>v.test(u)):j6(h,v=>v.test(u));let p;p=t.valueCallback?t.valueCallback(d):d,p=n.valueCallback?n.valueCallback(p):p;const y=e.slice(u.length);return{value:p,rest:y}}}function j6(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function z6(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function B6(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const a=r[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(a.length);return{value:u,rest:h}}}const F6=/^(\d+)(th|st|nd|rd)?/i,q6=/\d+/i,H6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},G6={any:[/^b/i,/^(a|c)/i]},$6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Y6={any:[/1/i,/2/i,/3/i,/4/i]},K6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},W6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Q6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},X6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},J6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Z6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},e5={ordinalNumber:B6({matchPattern:F6,parsePattern:q6,valueCallback:t=>parseInt(t,10)}),era:Qu({matchPatterns:H6,defaultMatchWidth:"wide",parsePatterns:G6,defaultParseWidth:"any"}),quarter:Qu({matchPatterns:$6,defaultMatchWidth:"wide",parsePatterns:Y6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qu({matchPatterns:K6,defaultMatchWidth:"wide",parsePatterns:W6,defaultParseWidth:"any"}),day:Qu({matchPatterns:Q6,defaultMatchWidth:"wide",parsePatterns:X6,defaultParseWidth:"any"}),dayPeriod:Qu({matchPatterns:J6,defaultMatchWidth:"any",parsePatterns:Z6,defaultParseWidth:"any"})},t5={code:"en-US",formatDistance:S6,formatLong:x6,formatRelative:D6,localize:U6,match:e5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function n5(t,e){const n=Ft(t,e?.in);return g6(n,b6(n))+1}function i5(t,e){const n=Ft(t,e?.in),r=+Md(n)-+y6(n);return Math.round(r/nx)+1}function sx(t,e){const n=Ft(t,e?.in),r=n.getFullYear(),a=Kc(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=qi(e?.in||t,0);u.setFullYear(r+1,0,l),u.setHours(0,0,0,0);const h=Sl(u,e),d=qi(e?.in||t,0);d.setFullYear(r,0,l),d.setHours(0,0,0,0);const p=Sl(d,e);return+n>=+h?r+1:+n>=+p?r:r-1}function r5(t,e){const n=Kc(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=sx(t,e),l=qi(e?.in||t,0);return l.setFullYear(a,0,r),l.setHours(0,0,0,0),Sl(l,e)}function s5(t,e){const n=Ft(t,e?.in),r=+Sl(n,e)-+r5(n,e);return Math.round(r/nx)+1}function mt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const zs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return mt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):mt(n+1,2)},d(t,e){return mt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return mt(t.getHours()%12||12,e.length)},H(t,e){return mt(t.getHours(),e.length)},m(t,e){return mt(t.getMinutes(),e.length)},s(t,e){return mt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return mt(a,e.length)}},tl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},RS={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return zs.y(t,e)},Y:function(t,e,n,r){const a=sx(t,r),l=a>0?a:1-a;if(e==="YY"){const u=l%100;return mt(u,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):mt(l,e.length)},R:function(t,e){const n=ix(t);return mt(n,e.length)},u:function(t,e){const n=t.getFullYear();return mt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return mt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return mt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return zs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return mt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const a=s5(t,r);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):mt(a,e.length)},I:function(t,e,n){const r=i5(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):mt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):zs.d(t,e)},D:function(t,e,n){const r=n5(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):mt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const a=t.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return mt(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const a=t.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return mt(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return mt(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let a;switch(r===12?a=tl.noon:r===0?a=tl.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let a;switch(r>=17?a=tl.evening:r>=12?a=tl.afternoon:r>=4?a=tl.morning:a=tl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return zs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):zs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):mt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):mt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):zs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):zs.s(t,e)},S:function(t,e){return zs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return xS(r);case"XXXX":case"XX":return Ga(r);default:return Ga(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return xS(r);case"xxxx":case"xx":return Ga(r);default:return Ga(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+CS(r,":");default:return"GMT"+Ga(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+CS(r,":");default:return"GMT"+Ga(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return mt(r,e.length)},T:function(t,e,n){return mt(+t,e.length)}};function CS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=Math.trunc(r/60),l=r%60;return l===0?n+String(a):n+String(a)+e+mt(l,2)}function xS(t,e){return t%60===0?(t>0?"-":"+")+mt(Math.abs(t)/60,2):Ga(t,e)}function Ga(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=mt(Math.trunc(r/60),2),l=mt(r%60,2);return n+a+e+l}const IS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},ax=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},a5=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return IS(t,e);let l;switch(r){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",IS(r,e)).replace("{{time}}",ax(a,e))},o5={p:ax,P:a5},l5=/^D+$/,u5=/^Y+$/,c5=["D","DD","YY","YYYY"];function h5(t){return l5.test(t)}function f5(t){return u5.test(t)}function d5(t,e,n){const r=m5(t,e,n);if(console.warn(r),c5.includes(t))throw new RangeError(r)}function m5(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const p5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,y5=/^'([^]*?)'?$/,v5=/''/g,_5=/[a-zA-Z]/;function T5(t,e,n){const r=Kc(),a=r.locale??t5,l=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,u=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,h=Ft(t,n?.in);if(!T6(h))throw new RangeError("Invalid time value");let d=e.match(g5).map(y=>{const v=y[0];if(v==="p"||v==="P"){const b=o5[v];return b(y,a.formatLong)}return y}).join("").match(p5).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:b5(y)};if(RS[v])return{isToken:!0,value:y};if(v.match(_5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(d=a.localize.preprocessor(h,d));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:a};return d.map(y=>{if(!y.isToken)return y.value;const v=y.value;(f5(v)||h5(v))&&d5(v,e,String(t));const b=RS[v[0]];return b(h,v,a.localize,p)}).join("")}function b5(t){const e=t.match(y5);return e?e[1].replace(v5,"'"):t}function $g(t,e){return+Ft(t)<+Ft(e)}function Yg(t,e,n){const r=+Ft(t,n?.in),[a,l]=[+Ft(e.start,n?.in),+Ft(e.end,n?.in)].sort((u,h)=>u-h);return r>=a&&r<=l}const ox=C.createContext(),WF=()=>{const t=C.useContext(ox);if(!t)throw new Error("useTasks must be used within a TaskContextProvider");return t},E5=({children:t})=>{const{user:e,authIsReady:n}=fo(),[r,a]=C.useState([]),[l,u]=C.useState([]),[h,d]=C.useState(50),[p,y]=C.useState({}),[v,b]=C.useState(!0),[x,M]=C.useState({autoDeleteCompleted:!1,confirmDelete:!0,showCompletedInList:!0,defaultPriority:"Medium",defaultDuration:15,dailyReminder:!0,reminderTime:"09:00"}),P=T5(new Date,"yyyy-MM-dd");C.useEffect(()=>{if(!n)return;if(!e){a([]),u([]),y({}),b(!1);return}b(!0);const Y=Ce.subscribeToCollection(`users/${e.uid}/tasks`,ee=>{a(ee),b(!1)},zy("status","==","pending"),uo("createdAt","desc"),wl(200)),H=Ce.subscribeToCollection(`users/${e.uid}/tasks`,ee=>{u(ee)},zy("status","==","completed"),uo("createdAt","desc"),wl(h)),$=Ce.subscribeToDocument(`users/${e.uid}/config`,"taskSettings",ee=>{ee&&M(Te=>({...Te,...ee}))}),ie=Ce.subscribeToDocument(`users/${e.uid}/data`,"lockedDays",ee=>{ee&&ee.days&&y(ee.days)});return()=>{Y(),H(),$(),ie()}},[e,n,h]);const z=Y=>{if(!e)return;const H={...x,...Y};M(H),Ce.setItem(`users/${e.uid}/config`,"taskSettings",H)},U=Y=>Y<P,j=Y=>{const H=k.filter(ie=>ie.date===Y);if(H.length===0)return 0;const $=H.filter(ie=>ie.status==="completed"||ie.isCompleted).length;return Math.round($/H.length*100)},B=async(Y,H={})=>{if(!e)return;const $=H.date||P;if(U($)){console.warn("Cannot add tasks to a locked day.");return}const ie={title:Y,status:"pending",isCompleted:!1,date:$,createdAt:Date.now(),priority:H.priority||"Medium",category:H.category||"Work",time:H.time||null,estimatedTime:H.estimatedTime||15,description:H.description||"",userId:e.uid};try{const ee=await Ce.addItem(`users/${e.uid}/tasks`,ie);return console.log("Task added successfully with ID:",ee.id),{...ie,id:ee.id}}catch(ee){throw console.error("Error adding task:",ee),ee}},fe=async(Y,H)=>{if(!e)return;const $=k.find(ie=>ie.id===Y);if($){if(U($.date)){console.warn("Cannot edit tasks of a locked day.");return}await Ce.updateItem(`users/${e.uid}/tasks`,Y,H)}},V=async Y=>{if(!e)return;const H=k.find($=>$.id===Y);if(H&&U(H.date)){console.warn("Cannot delete tasks of a locked day.");return}await Ce.deleteItem(`users/${e.uid}/tasks`,Y)},Z=async(Y,H)=>{e&&await Ce.updateItem(`users/${e.uid}/tasks`,Y,{date:H})},A=async Y=>{if(!e)return;const H=k.find(ee=>ee.id===Y);if(!H)return;if(U(H.date)&&!H.isCompleted&&H.status!=="completed"){await Ce.updateItem(`users/${e.uid}/tasks`,Y,{date:P,status:"completed",isCompleted:!0});return}if(U(H.date))return;const $=!(H.status==="completed"||H.isCompleted),ie=$?"completed":"pending";await Ce.updateItem(`users/${e.uid}/tasks`,Y,{status:ie,isCompleted:$})},w=async()=>{if(!e)return 0;const Y=j(P),H={...p,[P]:{lockedAt:Date.now(),score:Y}};return y(H),await Ce.setItem(`users/${e.uid}/data`,"lockedDays",{days:H}),Y},D=async()=>{if(!e)return;const Y=k.map(H=>Ce.deleteItem(`users/${e.uid}/tasks`,H.id));await Promise.all(Y)},[N,O]=C.useState(null),k=C.useMemo(()=>[...r,...l].sort((H,$)=>$.createdAt-H.createdAt),[r,l]),S=C.useMemo(()=>({tasks:k,lockedDays:p,settings:x,currentDateStr:P,addTask:B,updateTask:fe,deleteTask:V,toggleTask:A,rescheduleTask:Z,completeDay:w,getDailyScore:j,isDayLocked:U,clearAllTasks:D,updateSettings:z,activePopoverId:N,setActivePopoverId:O,isLoading:v,loadMoreCompleted:()=>d(Y=>Y+50)}),[k,p,P,x,N,v]);return q.jsx(ox.Provider,{value:S,children:t})};const w5="type.googleapis.com/google.protobuf.Int64Value",S5="type.googleapis.com/google.protobuf.UInt64Value";function lx(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Od(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Od(e));if(typeof t=="function"||typeof t=="object")return lx(t,e=>Od(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Al(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case w5:case S5:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Al(e)):typeof t=="function"||typeof t=="object"?lx(t,e=>Al(e)):t}const S0="functions";const DS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gn extends wr{constructor(e,n,r){super(`${S0}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Gn.prototype)}}function A5(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Pd(t,e){let n=A5(t),r=n,a;try{const l=e&&e.error;if(l){const u=l.status;if(typeof u=="string"){if(!DS[u])return new Gn("internal","internal");n=DS[u],r=u}const h=l.message;typeof h=="string"&&(r=h),a=l.details,a!==void 0&&(a=Al(a))}}catch{}return n==="ok"?null:new Gn(n,r,a)}class R5{constructor(e,n,r,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,qn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||r.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:a}}}const Fy="us-central1",C5=/^data: (.*?)(?:\n|$)/;function x5(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Gn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class I5{constructor(e,n,r,a,l=Fy,u=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new R5(e,n,r,a),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(l);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=Fy}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function D5(t,e,n){const r=la(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Sv(t.emulatorOrigin+"/backends"),Av("Functions",!0))}function k5(t,e,n){const r=a=>N5(t,e,a,{});return r.stream=(a,l)=>P5(t,e,a,l),r}function ux(t){return t.emulatorOrigin&&la(t.emulatorOrigin)?"include":void 0}async function M5(t,e,n,r,a){n["Content-Type"]="application/json";let l;try{l=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:ux(a)})}catch{return{status:0,json:null}}let u=null;try{u=await l.json()}catch{}return{status:l.status,json:u}}async function cx(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function N5(t,e,n,r){const a=t._url(e);return O5(t,a,n,r)}async function O5(t,e,n,r){n=Od(n);const a={data:n},l=await cx(t,r),u=r.timeout||7e4,h=x5(u),d=await Promise.race([M5(e,a,l,t.fetchImpl,t),h.promise,t.cancelAllRequests]);if(h.cancel(),!d)throw new Gn("cancelled","Firebase Functions instance was deleted.");const p=Pd(d.status,d.json);if(p)throw p;if(!d.json)throw new Gn("internal","Response is not valid JSON object.");let y=d.json.data;if(typeof y>"u"&&(y=d.json.result),typeof y>"u")throw new Gn("internal","Response is missing data field.");return{data:Al(y)}}function P5(t,e,n,r){const a=t._url(e);return V5(t,a,n,r||{})}async function V5(t,e,n,r){n=Od(n);const a={data:n},l=await cx(t,r);l["Content-Type"]="application/json",l.Accept="text/event-stream";let u;try{u=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:l,signal:r?.signal,credentials:ux(t)})}catch(b){if(b instanceof Error&&b.name==="AbortError"){const M=new Gn("cancelled","Request was cancelled.");return{data:Promise.reject(M),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(M)}}}}}}const x=Pd(0,null);return{data:Promise.reject(x),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(x)}}}}}}let h,d;const p=new Promise((b,x)=>{h=b,d=x});r?.signal?.addEventListener("abort",()=>{const b=new Gn("cancelled","Request was cancelled.");d(b)});const y=u.body.getReader(),v=L5(y,h,d,r?.signal);return{stream:{[Symbol.asyncIterator](){const b=v.getReader();return{async next(){const{value:x,done:M}=await b.read();return{value:x,done:M}},async return(){return await b.cancel(),{done:!0,value:void 0}}}}},data:p}}function L5(t,e,n,r){const a=(u,h)=>{const d=u.match(C5);if(!d)return;const p=d[1];try{const y=JSON.parse(p);if("result"in y){e(Al(y.result));return}if("message"in y){h.enqueue(Al(y.message));return}if("error"in y){const v=Pd(0,y);h.error(v),n(v);return}}catch(y){if(y instanceof Gn){h.error(y),n(y);return}}},l=new TextDecoder;return new ReadableStream({start(u){let h="";return d();async function d(){if(r?.aborted){const p=new Gn("cancelled","Request was cancelled");return u.error(p),n(p),Promise.resolve()}try{const{value:p,done:y}=await t.read();if(y){h.trim()&&a(h.trim(),u),u.close();return}if(r?.aborted){const b=new Gn("cancelled","Request was cancelled");u.error(b),n(b),await t.cancel();return}h+=l.decode(p,{stream:!0});const v=h.split(`
`);h=v.pop()||"";for(const b of v)b.trim()&&a(b.trim(),u);return d()}catch(p){const y=p instanceof Gn?p:Pd(0,null);u.error(y),n(y)}}},cancel(){return t.cancel()}})}const kS="@firebase/functions",MS="0.13.1";const U5="auth-internal",j5="app-check-internal",z5="messaging-internal";function B5(t){const e=(n,{instanceIdentifier:r})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(U5),u=n.getProvider(z5),h=n.getProvider(j5);return new I5(a,l,u,h,r)};no(new Zs(S0,e,"PUBLIC").setMultipleInstances(!0)),pr(kS,MS,t),pr(kS,MS,"esm2020")}function F5(t=xv(),e=Fy){const r=Kd(bt(t),S0).getImmediate({identifier:e}),a=CA("functions");return a&&q5(r,...a),r}function q5(t,e,n){D5(bt(t),e,n)}function H5(t,e,n){return k5(bt(t),e)}B5();const Ba={async commitFinancialTransaction(t){const e=F5(vm),n=H5(e,"commitFinancialTransaction");try{return(await n(t)).data}catch(r){throw console.error("Cloud Function Failed:",r),r}}},hx=C.createContext(),G5=()=>{const t=C.useContext(hx);if(!t)throw new Error("useFinance must be used within FinanceContextProvider");return t},$5=({children:t})=>{const{user:e,authIsReady:n}=fo(),r=[{id:"cat_food",name:"Food & Dining",type:"expense",budget:5e3,color:"bg-orange-500",icon:"Utensils"},{id:"cat_transport",name:"Transport",type:"expense",budget:2e3,color:"bg-blue-500",icon:"Bus"},{id:"cat_shopping",name:"Shopping",type:"expense",budget:3e3,color:"bg-pink-500",icon:"ShoppingBag"},{id:"cat_bills",name:"Bills & Utilities",type:"expense",budget:4e3,color:"bg-yellow-500",icon:"Zap"},{id:"cat_salary",name:"Salary",type:"income",budget:0,color:"bg-emerald-500",icon:"DollarSign"}],a=[{id:"acc_cash",name:"Cash Wallet",type:"cash",balance:0,openingBalance:0,isArchived:!1},{id:"acc_bank",name:"Main Bank",type:"bank",balance:0,openingBalance:0,isArchived:!1},{id:"acc_upi",name:"UPI / Digital",type:"upi",balance:0,openingBalance:0,isArchived:!1}],[l,u]=C.useState([]),[h,d]=C.useState(50),[p,y]=C.useState([]),[v,b]=C.useState([]),[x,M]=C.useState([]),[P,z]=C.useState([]),[U,j]=C.useState([]),[B,fe]=C.useState([]),[V,Z]=C.useState(!0);C.useEffect(()=>{if(!n)return;if(!e){u([]),y(r),b(a),M([]),z([]),j([]),fe([]),Z(!1);return}Z(!0);const ye=Ce.subscribeToCollection(`users/${e.uid}/transactions`,He=>{u(He),Z(!1)},uo("date","desc"),wl(h)),ve=Ce.subscribeToCollection(`users/${e.uid}/categories`,He=>{y(He.length>0?He:[])}),Se=Ce.subscribeToCollection(`users/${e.uid}/accounts`,He=>b(He.length>0?He:[])),Ee=Ce.subscribeToCollection(`users/${e.uid}/savingsGoals`,He=>M(He)),ke=Ce.subscribeToCollection(`users/${e.uid}/debts`,He=>z(He)),Je=Ce.subscribeToCollection(`users/${e.uid}/subscriptions`,He=>j(He)),Ue=Ce.subscribeToCollection(`users/${e.uid}/recurringRules`,He=>fe(He));return()=>{ye(),ve(),Se(),Ee(),ke(),Je(),Ue()}},[e,n,h]),C.useEffect(()=>{if(!e)return;(async()=>((await Ce.getCollection(`users/${e.uid}/categories`)).length===0&&await Promise.all(r.map(Ee=>Ce.addItem(`users/${e.uid}/categories`,Ee))),(await Ce.getCollection(`users/${e.uid}/accounts`)).length===0&&await Promise.all(a.map(Ee=>Ce.addItem(`users/${e.uid}/accounts`,Ee)))))()},[e?.uid]),C.useEffect(()=>{if(!e||B.length===0)return;(async()=>{const ve=new Date;for(const Se of B){if(!Se.isActive)continue;let Ee=new Date(Se.nextDueDate),ke=!1;for(;($g(Ee,ve)||Hg(Ee,ve))&&!(Se.endDate&&$g(new Date(Se.endDate),Ee));){const Ue={transactionId:crypto.randomUUID(),accountId:Se.transactionTemplate.accountId,type:Se.transactionTemplate.type,amount:Number(Se.transactionTemplate.amount),categoryId:Se.transactionTemplate.categoryId,date:Ee.toISOString(),description:Se.transactionTemplate.name||"Recurring Transaction",metadata:{recurringRuleId:Se.id,isfromRecurring:!0}};await Ba.commitFinancialTransaction(Ue),Se.frequency==="daily"?Ee=dc(Ee,1):Se.frequency==="weekly"?Ee=v6(Ee,1):Se.frequency==="monthly"?Ee=Za(Ee,1):Se.frequency==="yearly"&&(Ee=nd(Ee,1)),ke=!0}ke&&await Ce.updateItem(`users/${e.uid}/recurringRules`,Se.id,{nextDueDate:Ee.toISOString()})}})()},[B,e]),C.useEffect(()=>{if(!e||U.length===0)return;(async()=>{const ve=new Date;for(const Se of U){if(Se.status!=="active"||!Se.autoPay)continue;let Ee=new Date(Se.nextBillingDate),ke=!1;for(;$g(Ee,ve)||Hg(Ee,ve);){const Ue={transactionId:crypto.randomUUID(),accountId:"acc_bank",type:"expense",amount:Number(Se.amount),categoryId:"cat_bills",date:Ee.toISOString(),description:`Subscription: ${Se.name}`,metadata:{isFromSubscription:!0,subscriptionId:Se.id}};await Ba.commitFinancialTransaction(Ue),Ee=Za(Ee,1),ke=!0}ke&&await Ce.updateItem(`users/${e.uid}/subscriptions`,Se.id,{nextBillingDate:Ee.toISOString()})}})()},[U,e]);const A=C.useCallback(ye=>v.find(ve=>ve.id===ye)?.balance||0,[v]),w=C.useCallback(()=>v.filter(ye=>!ye.isArchived).reduce((ye,ve)=>ye+ve.balance,0),[v]),D=C.useCallback(()=>{const ye=new Date,ve=AS(ye),Se=SS(ye);return l.filter(Ee=>!Ee.isDeleted&&Ee.type==="expense"&&Yg(new Date(Ee.date),{start:ve,end:Se})).reduce((Ee,ke)=>Ee+Number(ke.amount),0)},[l]),N=C.useCallback(ye=>{const ve=new Date,Se=AS(ve),Ee=SS(ve);return l.filter(ke=>!ke.isDeleted&&Yg(new Date(ke.date),{start:Se,end:Ee})).reduce((ke,Je)=>Je.categoryId===ye?ke+Number(Je.amount):ke,0)},[l]),O=C.useCallback(ye=>{const ve=p.find(He=>He.id===ye);if(!ve||!ve.budget)return null;const Se=N(ye),Ee=Number(ve.budget),ke=Ee-Se,Je=Math.min(Math.round(Se/Ee*100),100);let Ue="good";return Je>=100?Ue="danger":Je>=80&&(Ue="warning"),{spent:Se,budget:Ee,remaining:ke,percent:Je,status:Ue}},[p,N]),k=C.useCallback((ye=new Date)=>l.filter(ve=>!ve.isDeleted&&ve.type==="expense"&&Hg(new Date(ve.date||ve.createdAt),ye)).reduce((ve,Se)=>ve+Number(Se.amount),0),[l]),S=C.useCallback(()=>{const ye=new Date,ve=Sl(ye,{weekStartsOn:1}),Se=E6(ye,{weekStartsOn:1}),Ee=l.filter(Ue=>!Ue.isDeleted&&Yg(new Date(Ue.date||Ue.createdAt),{start:ve,end:Se})),ke=Ee.filter(Ue=>Ue.type==="income").reduce((Ue,He)=>Ue+Number(He.amount),0),Je=Ee.filter(Ue=>Ue.type==="expense").reduce((Ue,He)=>Ue+Number(He.amount),0);return ke-Je},[l]),Y=C.useCallback(async ye=>{e&&await Ba.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:ye.accountId,type:ye.type,amount:Number(ye.amount),categoryId:ye.categoryId,date:ye.date||new Date().toISOString(),description:ye.note||ye.description,metadata:{...ye}})},[e]),H=C.useCallback(async({amount:ye,fromAccountId:ve,toAccountId:Se,note:Ee,date:ke})=>{e&&await Ba.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:ve,toAccountId:Se,type:"transfer",amount:Number(ye),date:ke||new Date().toISOString(),description:Ee||"Fund Transfer",categoryId:"cat_transfer"})},[e]),$=C.useCallback(async ye=>{if(!e)return;const ve={isActive:!0,nextDueDate:ye.startDate,...ye};await Ce.addItem(`users/${e.uid}/recurringRules`,ve)},[e]),ie=C.useCallback(async ye=>{if(!e)return;const ve=l.find(Ue=>Ue.transactionId===ye||Ue.id===ye);if(!ve||ve.isDeleted)return;const Se=crypto.randomUUID();let Ee=ve.type==="income"?"expense":"income",ke=ve.accountId,Je;ve.type==="transfer"&&(Ee="transfer",ke=ve.toAccountId,Je=ve.accountId),await Ba.commitFinancialTransaction({transactionId:Se,accountId:ke,toAccountId:Je,type:Ee,amount:Number(ve.amount),date:new Date().toISOString(),description:`Correction: Undo ${ve.description||"Transaction"}`,metadata:{isCompensation:!0,originalTransactionId:ve.transactionId||ve.id}})},[e,l]),ee=C.useCallback(async ye=>{console.warn("restoreTransaction is deprecated in strict ledger mode.")},[]),Te=C.useCallback(async(ye,ve)=>{e&&(await ie(ye),await Y(ve))},[e,ie,Y]),Oe=C.useCallback(ye=>!1,[]),F=C.useCallback(async(ye,ve)=>{if(!e)return;const{balance:Se,...Ee}=ve;await Ce.updateItem(`users/${e.uid}/accounts`,ye,Ee)},[e]),ae=C.useCallback(async ye=>{if(!e)return;const ve=v.find(Se=>Se.id===ye);ve&&await Ce.updateItem(`users/${e.uid}/accounts`,ye,{isArchived:!ve.isArchived})},[e,v]),Q=C.useCallback(async(ye,ve)=>{e&&await Ce.updateItem(`users/${e.uid}/categories`,ye,{budget:ve})},[e]),K=C.useCallback(async ye=>{e&&await Ce.addItem(`users/${e.uid}/categories`,ye)},[e]),X=C.useCallback(async(ye,ve=!1,Se=null)=>{if(!e)return;const Ee={createdAt:Date.now(),status:"open",isSettled:!1,paidAmount:0,history:[{id:`dh_${Date.now()}`,date:Date.now(),amount:Number(ye.amount),type:"creation",note:"Record created"}],...ye},ke=await Ce.addItem(`users/${e.uid}/debts`,Ee);if(ve&&Se){const Je=ye.type==="payable",Ue=Je?"income":"expense";await Ba.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:Se,type:Ue,amount:Number(ye.amount),categoryId:Je?"cat_debt_in":"cat_debt_out",date:new Date().toISOString(),description:`Debt: ${ye.person}`,metadata:{relatedDebtId:ke.id}})}},[e]),ge=C.useCallback(async(ye,ve,Se=new Date)=>{if(!e)return;const Ee=P.find($i=>$i.id===ye);if(!Ee)return;const ke=Number(ve),Je=Ee.type==="receivable";await Ba.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:"acc_bank",type:Je?"income":"expense",amount:ke,categoryId:"cat_debt",date:new Date(Se).toISOString(),description:`Repayment: ${Ee.person}`,metadata:{relatedDebtId:ye}});const Ue=(Ee.paidAmount||0)+ke,He=Ue>=Number(Ee.amount);await Ce.updateItem(`users/${e.uid}/debts`,ye,{paidAmount:Ue,isSettled:He,payments:[...Ee.payments||[],{amount:ke,date:new Date(Se).toISOString(),id:`pay_${Date.now()}`}]})},[e,P]),pe=C.useCallback(ye=>{const ve=P.find(Se=>Se.id===ye);if(ve&&!ve.isSettled){const Se=Number(ve.amount)-(ve.paidAmount||0);Se>0&&ge(ye,Se)}},[P,ge]),me=C.useCallback(async ye=>{if(!e)return;const ve=new Date,Se=Number(ye.dueDate);let Ee=new Date(ve.getFullYear(),ve.getMonth(),Se);Ee<ve&&(Ee=Za(Ee,1));const ke={status:"active",autoPay:!0,nextBillingDate:Ee.toISOString(),...ye};await Ce.addItem(`users/${e.uid}/subscriptions`,ke)},[e]),we=C.useCallback(async(ye,ve)=>{e&&await Ce.updateItem(`users/${e.uid}/subscriptions`,ye,ve)},[e]),Ge=C.useCallback(async ye=>{if(!e)return;const ve=U.find(Se=>Se.id===ye);ve&&await Ce.updateItem(`users/${e.uid}/subscriptions`,ye,{status:ve.status==="active"?"paused":"active"})},[e,U]),Ne=C.useCallback(async ye=>{e&&await Ce.deleteItem(`users/${e.uid}/subscriptions`,ye)},[e]),It=C.useMemo(()=>({transactions:l,categories:p,accounts:v,savingsGoals:x,debts:P,subscriptions:U,addTransaction:Y,addTransfer:H,deleteTransaction:ie,editTransaction:Te,restoreTransaction:ee,checkDuplicate:Oe,getAccountBalance:A,getTotalBalance:w,getMonthlySpend:D,getCategorySpend:N,updateCategoryBudget:Q,addCategory:K,addDebt:X,addDebtPayment:ge,settleDebt:pe,addSubscription:me,updateSubscription:we,toggleSubscriptionStatus:Ge,deleteSubscription:Ne,updateAccount:F,toggleArchiveAccount:ae,addRecurringRule:$,recurringRules:B,getBudgetStats:O,getDailySpend:k,getWeeklySavings:S,isLoading:V,loadMoreTransactions:()=>d(ye=>ye+50)}),[l,p,v,x,P,U,B,V,Y,H,ie,Te,ee,Oe,A,w,D,N,Q,K,X,ge,pe,me,we,Ge,Ne,F,ae,$,O,k,S]);return q.jsx(hx.Provider,{value:It,children:t})},fx=C.createContext(),Y5=({children:t})=>{const[e,n]=C.useState(null),r=C.useCallback(l=>{n(l)},[]),a=C.useCallback(()=>{n(null)},[]);return q.jsx(fx.Provider,{value:{error:e,showError:r,clearError:a},children:t})},dx=()=>C.useContext(fx),An=t=>t?t.code?{code:t.code,message:t.message||"Firebase error occurred."}:t instanceof Error?{code:"JS_ERROR",message:t.message}:{code:"UNEXPECTED_ERROR",message:"Unexpected error occurred."}:{code:"UNKNOWN_ERROR",message:"An unknown error occurred."},mx=C.createContext(),K5=[{type:"Oil Change",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Engine Oil Filter",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Air Filter",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:2e4,category:"mandatory"},{type:"Brake Check",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Chain Lubrication",frequencyValue:1,frequencyUnit:"months",frequencyType:"both",odometerValue:500,category:"optional",applicable:["bike","scooter"]},{type:"Coolant Check",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Battery Health",frequencyValue:12,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Tyre Pressure",frequencyValue:1,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Tyre Rotation",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"optional"},{type:"Wheel Alignment",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"optional"},{type:"General Service",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Accident Repair",frequencyType:"none",category:"optional"},{type:"Accessories Maintenance",frequencyValue:12,frequencyUnit:"months",frequencyType:"date",category:"optional"},{type:"Insurance Renewal",frequencyValue:12,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Pollution Certificate",frequencyValue:6,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Registration Renewal",frequencyValue:15,frequencyUnit:"years",frequencyType:"date",category:"mandatory"},{type:"Fitness Certificate",frequencyValue:1,frequencyUnit:"years",frequencyType:"date",category:"optional",applicable:["commercial"]}],QF=()=>{const t=C.useContext(mx);if(!t)throw new Error("useVehicle must be used within VehicleContextProvider");return t},W5=({children:t})=>{const{user:e,authIsReady:n}=fo(),{addTransaction:r,categories:a}=G5(),{showError:l}=dx(),[u,h]=C.useState([]),[d,p]=C.useState([]),[y,v]=C.useState([]),[b,x]=C.useState(20),[M,P]=C.useState([]),[z,U]=C.useState(!0),[j,B]=C.useState(null);C.useEffect(()=>{j&&l(j)},[j,l]),C.useEffect(()=>{if(!n)return;if(!e){h([]),p([]),v([]),P([]),U(!1);return}U(!0);const Q=Ce.subscribeToCollection(`users/${e.uid}/vehicles`,pe=>{B(null),h(pe),U(!1)},uo("createdAt","desc"),pe=>{const me=An(pe);console.error(me),B(me),U(!1)}),K=Ce.subscribeToCollection(`users/${e.uid}/followUps`,pe=>{B(null),p(pe)},pe=>{const me=An(pe);console.error(me),B(me)}),X=Ce.subscribeToCollection(`users/${e.uid}/serviceRecords`,pe=>{B(null),v(pe)},uo("date","desc"),wl(b),pe=>{const me=An(pe);console.error(me),B(me)}),ge=Ce.subscribeToCollection(`users/${e.uid}/vehicleLoans`,pe=>{B(null),P(pe)},pe=>{const me=An(pe);console.error(me),B(me)});return()=>{Q(),K(),X(),ge()}},[e,n,b]);const fe=C.useCallback(async Q=>{try{if(!e?.uid)return;B(null),await Ce.deleteItem(`users/${e.uid}/vehicles/${Q}`),console.log("Vehicle deleted:",Q)}catch(K){const X=An(K);throw console.error("Error deleting vehicle:",X),B(X),X}},[e]),V=C.useCallback(async Q=>{try{if(!e)return;B(null);const K={createdAt:Date.now(),isArchived:!1,isActive:u.length===0,...Q},ge=(await Ce.addItem(`users/${e.uid}/vehicles`,K)).id,pe=K5.filter(me=>!me.applicable||me.applicable.includes(Q.type)).filter(me=>me.frequencyType!=="none").map(me=>{const we=new Date;let Ge=null;(me.frequencyType==="date"||me.frequencyType==="both")&&(me.frequencyUnit==="days"&&(Ge=dc(we,me.frequencyValue).toISOString()),me.frequencyUnit==="months"&&(Ge=Za(we,me.frequencyValue).toISOString()),me.frequencyUnit==="years"&&(Ge=nd(we,me.frequencyValue).toISOString()));let Ne=null;return(me.frequencyType==="odometer"||me.frequencyType==="both")&&(Ne=(Number(Q.odometer)||0)+(me.odometerValue||0)),{vehicleId:ge,type:me.type,frequencyType:me.frequencyType,frequencyValue:me.frequencyValue,frequencyUnit:me.frequencyUnit,odometerValue:me.odometerValue,dueDate:Ge,dueOdometer:Ne,isRecurring:!0,isStandard:!0,status:"pending"}});await Promise.all(pe.map(me=>Ce.addItem(`users/${e.uid}/followUps`,me)))}catch(K){const X=An(K);throw console.error(X),B(X),X}},[e,u]),Z=C.useCallback(async(Q,K)=>{try{if(!e)return;B(null),await Ce.updateItem(`users/${e.uid}/vehicles`,Q,K)}catch(X){const ge=An(X);throw console.error(ge),B(ge),ge}},[e]),A=C.useCallback(async Q=>{try{if(!e)return;B(null);const K=u.find(ge=>ge.id===Q);if(!K)return;let X={isArchived:!K.isArchived};!K.isArchived&&K.isActive&&(X.isActive=!1),await Z(Q,X)}catch(K){const X=An(K);throw console.error(X),B(X),X}},[e,u,Z]),w=C.useCallback(async Q=>{try{if(!e)return;B(null);const K=u.map(X=>X.id===Q&&!X.isActive?Ce.updateItem(`users/${e.uid}/vehicles`,X.id,{isActive:!0}):X.id!==Q&&X.isActive?Ce.updateItem(`users/${e.uid}/vehicles`,X.id,{isActive:!1}):Promise.resolve());await Promise.all(K)}catch(K){const X=An(K);throw console.error(X),B(X),X}},[e,u]),D=C.useCallback(()=>u.find(Q=>Q.isActive&&!Q.isArchived),[u]),N=C.useCallback(async Q=>{try{if(!e)return;B(null);const K={status:"pending",...Q};await Ce.addItem(`users/${e.uid}/followUps`,K)}catch(K){const X=An(K);throw console.error(X),B(X),X}},[e]),O=C.useCallback(async Q=>{try{if(!e)return;B(null),await Ce.deleteItem(`users/${e.uid}/followUps`,Q)}catch(K){const X=An(K);throw console.error(X),B(X),X}},[e]),k=C.useCallback(async(Q,K)=>{try{if(!e)return;B(null);const X=d.find(me=>me.id===Q);if(!X)return;const ge=u.find(me=>me.id===X.vehicleId);let pe={vehicleId:X.vehicleId,followUpId:Q,type:X.type,...K};if(K.cost>0&&K.accountId){let me="cat_vehicle";const we=a.find(Ne=>Ne.name==="Vehicle"||Ne.id==="cat_vehicle");we?me=we.id:me=a.find(Ne=>Ne.name==="Transport")?.id||a.find(Ne=>Ne.type==="expense")?.id;const Ge={amount:K.cost,type:"expense",categoryId:me,accountId:K.accountId,note:`Vehicle: ${ge?.name} - ${X.type}`,date:K.date};await r(Ge),pe.financeTxId=!0}if(await Ce.addItem(`users/${e.uid}/serviceRecords`,pe),Number(K.odometer)>Number(ge?.odometer||0)&&await Z(ge.id,{odometer:K.odometer}),await O(Q),X.isRecurring){const me={...X};if(delete me.id,X.frequencyType==="date"||X.frequencyType==="both"){const we=new Date(K.date);let Ge=we;X.frequencyUnit==="days"&&(Ge=dc(we,X.frequencyValue)),X.frequencyUnit==="months"&&(Ge=Za(we,X.frequencyValue)),X.frequencyUnit==="years"&&(Ge=nd(we,X.frequencyValue)),me.dueDate=Ge.toISOString()}if(X.frequencyType==="odometer"||X.frequencyType==="both"){const we=Number(K.odometer);me.dueOdometer=we+Number(X.odometerValue||X.frequencyValue)}await N(me)}}catch(X){const ge=An(X);throw console.error(ge),B(ge),ge}},[e,d,u,a,r,Z,O,N]),S=C.useCallback(async Q=>{try{if(!e)return;B(null);const K={...Q};if(Q.cost>0&&Q.accountId){let ge=a.find(we=>we.name==="Transport")?.id||a.find(we=>we.type==="expense")?.id;const pe=u.find(we=>we.id===Q.vehicleId),me={amount:Q.cost,type:"expense",categoryId:ge,accountId:Q.accountId,note:`Vehicle: ${pe?.name} - ${Q.type}`,date:Q.date};await r(me),K.financeTxId=!0}await Ce.addItem(`users/${e.uid}/serviceRecords`,K);const X=u.find(ge=>ge.id===Q.vehicleId);X&&Number(Q.odometer)>Number(X.odometer||0)&&await Z(X.id,{odometer:Q.odometer})}catch(K){const X=An(K);throw console.error(X),B(X),X}},[e,a,u,r,Z]),Y=C.useCallback((Q,K)=>y.filter(X=>X.vehicleId===Q&&X.type===K).sort((X,ge)=>new Date(ge.date)-new Date(X.date))[0],[y]),H=C.useCallback(async(Q,K)=>{try{if(!e)return;B(null);const X=d.find(pe=>pe.vehicleId===Q&&pe.type===K.type&&pe.status!=="completed"),ge=u.find(pe=>pe.id===Q);if(X)await O(X.id);else{const pe=new Date;let me=null;(K.frequencyType==="date"||K.frequencyType==="both")&&(K.frequencyUnit==="days"&&(me=dc(pe,K.frequencyValue).toISOString()),K.frequencyUnit==="months"&&(me=Za(pe,K.frequencyValue).toISOString()),K.frequencyUnit==="years"&&(me=nd(pe,K.frequencyValue).toISOString()));let we=null;ge&&(K.frequencyType==="odometer"||K.frequencyType==="both")&&(we=(Number(ge.odometer)||0)+(K.odometerValue||0));const Ge={vehicleId:Q,type:K.type,frequencyType:K.frequencyType,frequencyValue:K.frequencyValue,frequencyUnit:K.frequencyUnit,odometerValue:K.odometerValue,dueDate:me,dueOdometer:we,isRecurring:!0,isStandard:!0,status:"pending"};await N(Ge)}}catch(X){const ge=An(X);throw console.error(ge),B(ge),ge}},[e,d,u,O,N]),$=C.useCallback(async Q=>{try{if(!e)return;B(null);const K={status:"active",history:[],remainingPrincipal:Number(Q.totalLoanAmount),...Q};await Ce.addItem(`users/${e.uid}/vehicleLoans`,K)}catch(K){const X=An(K);throw console.error(X),B(X),X}},[e]),ie=C.useCallback(async(Q,K)=>{try{if(!e)return;B(null);const X=M.find(me=>me.id===Q);if(!X)return;const ge=u.find(me=>me.id===X.vehicleId);let pe=Number(X.remainingPrincipal)-Number(K.principal);if(pe<0&&(pe=0),K.amount>0&&K.accountId){let me="cat_vehicle";const we=a.find(Ne=>Ne.name==="Vehicle"||Ne.id==="cat_vehicle");we?me=we.id:me=a.find(Ne=>Ne.name==="Transport")?.id||a.find(Ne=>Ne.type==="expense")?.id;const Ge={amount:K.amount,type:"expense",categoryId:me,accountId:K.accountId,note:`Vehicle: ${ge?.name} - Loan EMI (${K.type}) - ${X.lender}`,date:K.date};await r(Ge)}await Ce.updateItem(`users/${e.uid}/vehicleLoans`,Q,{remainingPrincipal:pe,history:[...X.history||[],K],status:pe<=0?"closed":"active"})}catch(X){const ge=An(X);throw console.error(ge),B(ge),ge}},[e,M,u,a,r]),ee=C.useCallback(Q=>M.find(K=>K.vehicleId===Q&&K.status!=="closed"),[M]),Te=C.useCallback(Q=>{const K=M.find(It=>It.id===Q);if(!K)return null;const X=new Date,ge=X.getFullYear(),pe=X.getMonth(),me=new Date(ge,pe,K.dueDateDay),we=K.history?.some(It=>{const ye=new Date(It.date);return ye.getFullYear()===ge&&ye.getMonth()===pe&&It.type==="EMI"}),Ge=!we&&X>me?"overdue":we?"paid":"pending";let Ne=0;if(K.interestType==="reducing"){const It=K.interestRate/100/12;Ne=K.remainingPrincipal*It}else Ne=K.totalLoanAmount*(K.interestRate/100)*(K.tenureMonths/12)/K.tenureMonths;return{status:Ge,dueDate:me.toISOString(),isPastDue:!we&&X>me,interestBalance:Math.round(Ne),daysLate:!we&&X>me?Math.floor((X-me)/(1e3*60*60*24)):0}},[M]),Oe=C.useCallback(Q=>{const K=u.find(ke=>ke.id===Q);if(!K)return null;const X=y.filter(ke=>ke.vehicleId===Q),ge=d.filter(ke=>ke.vehicleId===Q&&ke.status!=="completed"),pe=X.reduce((ke,Je)=>ke+(Number(Je.cost)||0),0),me=new Date,Ge=X.filter(ke=>new Date(ke.date)>new Date(me.getFullYear(),me.getMonth(),1)).reduce((ke,Je)=>ke+(Number(Je.cost)||0),0),Ne=new Date(K.purchaseDate),It=Math.max(1,(me.getFullYear()-Ne.getFullYear())*12+(me.getMonth()-Ne.getMonth())),ye=Math.round(pe/It),Se=ge.filter(ke=>{let Je=!1;return(ke.frequencyType==="date"||ke.frequencyType==="both")&&ke.dueDate&&new Date(ke.dueDate)<me&&(Je=!0),(ke.frequencyType==="odometer"||ke.frequencyType==="both")&&ke.dueOdometer&&Number(K.odometer)>=Number(ke.dueOdometer)&&(Je=!0),Je}).length,Ee=X.sort((ke,Je)=>new Date(Je.date)-new Date(ke.date))[0];return{totalSpend:pe,monthSpend:Ge,costPerMonth:ye,overdueCount:Se,lastServiceDate:Ee?.date,lastServiceType:Ee?.type}},[u,y,d]),F=C.useCallback(Q=>{const K=u.find(Ne=>Ne.id===Q);if(!K)return[];const X=[],ge=ee(Q);if(ge){const Ne=Te(ge.id);Ne.isPastDue?X.push({type:"critical",title:`EMI Overdue by ${Ne.daysLate} days`,detail:"Immediate payment required to avoid penalties."}):Ne.status==="active"&&X.push({type:"info",title:`Interest Remaining: ${Ne.interestBalance.toLocaleString()}`,detail:`${ge.interestType==="reducing"?"Reducing Balance":"Flat Rate"} Interest`})}const pe=d.filter(Ne=>Ne.vehicleId===Q&&Ne.status!=="completed"),me=pe.find(Ne=>(Ne.name||Ne.type||"").toLowerCase().includes("insurance"));if(me){const Ne=me.dueDate?Math.ceil((new Date(me.dueDate)-new Date)/864e5):999;Ne<0?X.push({type:"critical",title:"Insurance Expired",detail:` expired ${Math.abs(Ne)} days ago. Do not drive.`}):Ne<=15&&X.push({type:"warning",title:"Insurance Expiring Soon",detail:`Renew within ${Ne} days.`})}const we=pe.find(Ne=>(Ne.name||Ne.type||"").toLowerCase().includes("oil"));if(we&&we.dueOdometer&&Number(K.odometer)>=Number(we.dueOdometer)){const Ne=Number(K.odometer)-Number(we.dueOdometer);X.push({type:"warning",title:`Oil Change Overdue by ${Ne} km`,detail:"Engine health at risk."})}const Ge=Oe(Q);return Ge&&(X.push({type:"info",title:`Monthly Cost: ${Ge.costPerMonth.toLocaleString()}`,detail:"Average cost of ownership per month."}),Ge.monthSpend>Ge.costPerMonth*1.5&&Ge.monthSpend>2e3&&X.push({type:"warning",title:"Rising Monthly Cost",detail:`This month's spend (${Ge.monthSpend}) is 50% higher than average.`})),X},[u,d,ee,Te,Oe]),ae=C.useMemo(()=>({vehicles:u,followUps:d,serviceRecords:y,addVehicle:V,updateVehicle:Z,toggleArchiveVehicle:A,setVehicleActive:w,getActiveVehicle:D,addFollowUp:N,deleteFollowUp:O,completeFollowUp:k,addServiceRecord:S,getVehicleStats:Oe,getLatestRecord:Y,toggleMaintenanceItem:H,loans:M,addLoan:$,payEMI:ie,getLoanForVehicle:ee,getLoanDetailedStatus:Te,getVehicleRisks:F,deleteVehicle:fe,error:j,isLoading:z,loadMoreServiceRecords:()=>x(Q=>Q+20)}),[u,d,y,M,z,V,Z,A,w,D,fe,N,O,k,S,Oe,Y,H,$,ie,ee,Te,F]);return q.jsx(mx.Provider,{value:ae,children:t})},A0=""+new URL("awake_logo_new-CKmsyQnW.png",import.meta.url).href,px=()=>q.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 pb-20",children:q.jsx("div",{className:"relative flex flex-col items-center",children:q.jsx("img",{src:A0,alt:"Loading...",className:"h-16 w-auto animate-pulse object-contain drop-shadow-xl dark:brightness-0 dark:invert"})})}),NS=({children:t})=>{const{user:e,authIsReady:n}=fo();return n?e?t:q.jsx(yA,{to:"/login",replace:!0}):q.jsx(px,{})},R0=C.createContext({});function C0(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const gx=typeof window<"u",yx=gx?C.useLayoutEffect:C.useEffect,Tm=C.createContext(null);function x0(t,e){t.indexOf(e)===-1&&t.push(e)}function I0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Er=(t,e,n)=>n>e?e:n<t?t:n;let D0=()=>{};const is={},vx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _x(t){return typeof t=="object"&&t!==null}const Tx=t=>/^0[^.\s]+$/u.test(t);function k0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ei=t=>t,Q5=(t,e)=>n=>e(t(n)),Wc=(...t)=>t.reduce(Q5),Ic=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class M0{constructor(){this.subscriptions=[]}add(e){return x0(this.subscriptions,e),()=>I0(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qr=t=>t*1e3,Ti=t=>t/1e3;function bx(t,e){return e?t*(1e3/e):0}const Ex=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,X5=1e-7,J5=12;function Z5(t,e,n,r,a){let l,u,h=0;do u=e+(n-e)/2,l=Ex(u,r,a)-t,l>0?n=u:e=u;while(Math.abs(l)>X5&&++h<J5);return u}function Qc(t,e,n,r){if(t===e&&n===r)return Ei;const a=l=>Z5(l,0,1,t,n);return l=>l===0||l===1?l:Ex(a(l),e,r)}const wx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Sx=t=>e=>1-t(1-e),Ax=Qc(.33,1.53,.69,.99),N0=Sx(Ax),Rx=wx(N0),Cx=t=>(t*=2)<1?.5*N0(t):.5*(2-Math.pow(2,-10*(t-1))),O0=t=>1-Math.sin(Math.acos(t)),xx=Sx(O0),Ix=wx(O0),eU=Qc(.42,0,1,1),tU=Qc(0,0,.58,1),Dx=Qc(.42,0,.58,1),nU=t=>Array.isArray(t)&&typeof t[0]!="number",kx=t=>Array.isArray(t)&&typeof t[0]=="number",iU={linear:Ei,easeIn:eU,easeInOut:Dx,easeOut:tU,circIn:O0,circInOut:Ix,circOut:xx,backIn:N0,backInOut:Rx,backOut:Ax,anticipate:Cx},rU=t=>typeof t=="string",OS=t=>{if(kx(t)){D0(t.length===4);const[e,n,r,a]=t;return Qc(e,n,r,a)}else if(rU(t))return iU[t];return t},Vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function sU(t,e){let n=new Set,r=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,v=!1,b=!1)=>{const M=b&&a?n:r;return v&&u.add(y),M.has(y)||M.add(y),y},cancel:y=>{r.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const aU=40;function Mx(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Vf.reduce((B,fe)=>(B[fe]=sU(l),B),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:b,render:x,postRender:M}=u,P=()=>{const B=is.useManualTiming?a.timestamp:performance.now();n=!1,is.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(B-a.timestamp,aU),1)),a.timestamp=B,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),v.process(a),b.process(a),x.process(a),M.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(P))},z=()=>{n=!0,r=!0,a.isProcessing||t(P)};return{schedule:Vf.reduce((B,fe)=>{const V=u[fe];return B[fe]=(Z,A=!1,w=!1)=>(n||z(),V.schedule(Z,A,w)),B},{}),cancel:B=>{for(let fe=0;fe<Vf.length;fe++)u[Vf[fe]].cancel(B)},state:a,steps:u}}const{schedule:At,cancel:aa,state:_n,steps:Kg}=Mx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ei,!0);let id;function oU(){id=void 0}const Nn={now:()=>(id===void 0&&Nn.set(_n.isProcessing||is.useManualTiming?_n.timestamp:performance.now()),id),set:t=>{id=t,queueMicrotask(oU)}},Nx=t=>e=>typeof e=="string"&&e.startsWith(t),Ox=Nx("--"),lU=Nx("var(--"),P0=t=>lU(t)?uU.test(t.split("/*")[0].trim()):!1,uU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function PS(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const jl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Dc={...jl,transform:t=>Er(0,1,t)},Lf={...jl,default:1},mc=t=>Math.round(t*1e5)/1e5,V0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cU(t){return t==null}const hU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,L0=(t,e)=>n=>!!(typeof n=="string"&&hU.test(n)&&n.startsWith(t)||e&&!cU(n)&&Object.prototype.hasOwnProperty.call(n,e)),Px=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,u,h]=r.match(V0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},fU=t=>Er(0,255,t),Wg={...jl,transform:t=>Math.round(fU(t))},Wa={test:L0("rgb","red"),parse:Px("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Wg.transform(t)+", "+Wg.transform(e)+", "+Wg.transform(n)+", "+mc(Dc.transform(r))+")"};function dU(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const qy={test:L0("#"),parse:dU,transform:Wa.transform},Xc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fs=Xc("deg"),Tr=Xc("%"),De=Xc("px"),mU=Xc("vh"),pU=Xc("vw"),VS={...Tr,parse:t=>Tr.parse(t)/100,transform:t=>Tr.transform(t*100)},ol={test:L0("hsl","hue"),parse:Px("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Tr.transform(mc(e))+", "+Tr.transform(mc(n))+", "+mc(Dc.transform(r))+")"},Jt={test:t=>Wa.test(t)||qy.test(t)||ol.test(t),parse:t=>Wa.test(t)?Wa.parse(t):ol.test(t)?ol.parse(t):qy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wa.transform(t):ol.transform(t),getAnimatableNone:t=>{const e=Jt.parse(t);return e.alpha=0,Jt.transform(e)}},gU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yU(t){return isNaN(t)&&typeof t=="string"&&(t.match(V0)?.length||0)+(t.match(gU)?.length||0)>0}const Vx="number",Lx="color",vU="var",_U="var(",LS="${}",TU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(TU,d=>(Jt.test(d)?(r.color.push(l),a.push(Lx),n.push(Jt.parse(d))):d.startsWith(_U)?(r.var.push(l),a.push(vU),n.push(d)):(r.number.push(l),a.push(Vx),n.push(parseFloat(d))),++l,LS)).split(LS);return{values:n,split:h,indexes:r,types:a}}function Ux(t){return kc(t).values}function jx(t){const{split:e,types:n}=kc(t),r=e.length;return a=>{let l="";for(let u=0;u<r;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===Vx?l+=mc(a[u]):h===Lx?l+=Jt.transform(a[u]):l+=a[u]}return l}}const bU=t=>typeof t=="number"?0:Jt.test(t)?Jt.getAnimatableNone(t):t;function EU(t){const e=Ux(t);return jx(t)(e.map(bU))}const oa={test:yU,parse:Ux,createTransformer:jx,getAnimatableNone:EU};function Qg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function wU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=Qg(d,h,t+1/3),l=Qg(d,h,t),u=Qg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function Vd(t,e){return n=>n>0?e:t}const Dt=(t,e,n)=>t+(e-t)*n,Xg=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},SU=[qy,Wa,ol],AU=t=>SU.find(e=>e.test(t));function US(t){const e=AU(t);if(!e)return!1;let n=e.parse(t);return e===ol&&(n=wU(n)),n}const jS=(t,e)=>{const n=US(t),r=US(e);if(!n||!r)return Vd(t,e);const a={...n};return l=>(a.red=Xg(n.red,r.red,l),a.green=Xg(n.green,r.green,l),a.blue=Xg(n.blue,r.blue,l),a.alpha=Dt(n.alpha,r.alpha,l),Wa.transform(a))},Hy=new Set(["none","hidden"]);function RU(t,e){return Hy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function CU(t,e){return n=>Dt(t,e,n)}function U0(t){return typeof t=="number"?CU:typeof t=="string"?P0(t)?Vd:Jt.test(t)?jS:DU:Array.isArray(t)?zx:typeof t=="object"?Jt.test(t)?jS:xU:Vd}function zx(t,e){const n=[...t],r=n.length,a=t.map((l,u)=>U0(l)(l,e[u]));return l=>{for(let u=0;u<r;u++)n[u]=a[u](l);return n}}function xU(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=U0(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function IU(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][r[l]],h=t.values[u]??0;n[a]=h,r[l]++}return n}const DU=(t,e)=>{const n=oa.createTransformer(e),r=kc(t),a=kc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Hy.has(t)&&!a.values.length||Hy.has(e)&&!r.values.length?RU(t,e):Wc(zx(IU(r,a),a.values),n):Vd(t,e)};function Bx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Dt(t,e,n):U0(t)(t,e)}const kU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>At.update(e,n),stop:()=>aa(e),now:()=>_n.isProcessing?_n.timestamp:Nn.now()}},Fx=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ld=2e4;function j0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ld;)e+=n,r=t.next(e);return e>=Ld?1/0:e}function MU(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(j0(r),Ld);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:Ti(a)}}const NU=5;function qx(t,e,n){const r=Math.max(e-NU,0);return bx(n-t(r),e-r)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jg=.001;function OU({duration:t=Pt.duration,bounce:e=Pt.bounce,velocity:n=Pt.velocity,mass:r=Pt.mass}){let a,l,u=1-e;u=Er(Pt.minDamping,Pt.maxDamping,u),t=Er(Pt.minDuration,Pt.maxDuration,Ti(t)),u<1?(a=p=>{const y=p*u,v=y*t,b=y-n,x=Gy(p,u),M=Math.exp(-v);return Jg-b/x*M},l=p=>{const v=p*u*t,b=v*n+n,x=Math.pow(u,2)*Math.pow(p,2)*t,M=Math.exp(-v),P=Gy(Math.pow(p,2),u);return(-a(p)+Jg>0?-1:1)*((b-x)*M)/P}):(a=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-Jg+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const h=5/t,d=VU(a,l,h);if(t=Qr(t),isNaN(d))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const PU=12;function VU(t,e,n){let r=n;for(let a=1;a<PU;a++)r=r-t(r)/e(r);return r}function Gy(t,e){return t*Math.sqrt(1-e*e)}const LU=["duration","bounce"],UU=["stiffness","damping","mass"];function zS(t,e){return e.some(n=>t[n]!==void 0)}function jU(t){let e={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...t};if(!zS(t,UU)&&zS(t,LU))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Er(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Pt.mass,stiffness:a,damping:l}}else{const n=OU(t);e={...e,...n,mass:Pt.mass},e.isResolvedFromDuration=!0}return e}function Ud(t=Pt.visualDuration,e=Pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:v,velocity:b,isResolvedFromDuration:x}=jU({...n,velocity:-Ti(n.velocity||0)}),M=b||0,P=p/(2*Math.sqrt(d*y)),z=u-l,U=Ti(Math.sqrt(d/y)),j=Math.abs(z)<5;r||(r=j?Pt.restSpeed.granular:Pt.restSpeed.default),a||(a=j?Pt.restDelta.granular:Pt.restDelta.default);let B;if(P<1){const V=Gy(U,P);B=Z=>{const A=Math.exp(-P*U*Z);return u-A*((M+P*U*z)/V*Math.sin(V*Z)+z*Math.cos(V*Z))}}else if(P===1)B=V=>u-Math.exp(-U*V)*(z+(M+U*z)*V);else{const V=U*Math.sqrt(P*P-1);B=Z=>{const A=Math.exp(-P*U*Z),w=Math.min(V*Z,300);return u-A*((M+P*U*z)*Math.sinh(w)+V*z*Math.cosh(w))/V}}const fe={calculatedDuration:x&&v||null,next:V=>{const Z=B(V);if(x)h.done=V>=v;else{let A=V===0?M:0;P<1&&(A=V===0?Qr(M):qx(B,V,Z));const w=Math.abs(A)<=r,D=Math.abs(u-Z)<=a;h.done=w&&D}return h.value=h.done?u:Z,h},toString:()=>{const V=Math.min(j0(fe),Ld),Z=Fx(A=>fe.next(V*A).value,V,30);return V+"ms "+Z},toTransition:()=>{}};return fe}Ud.applyToOptions=t=>{const e=MU(t,100,Ud);return t.ease=e.ease,t.duration=Qr(e.duration),t.type="keyframes",t};function $y({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const v=t[0],b={done:!1,value:v},x=w=>h!==void 0&&w<h||d!==void 0&&w>d,M=w=>h===void 0?d:d===void 0||Math.abs(h-w)<Math.abs(d-w)?h:d;let P=n*e;const z=v+P,U=u===void 0?z:u(z);U!==z&&(P=U-v);const j=w=>-P*Math.exp(-w/r),B=w=>U+j(w),fe=w=>{const D=j(w),N=B(w);b.done=Math.abs(D)<=p,b.value=b.done?U:N};let V,Z;const A=w=>{x(b.value)&&(V=w,Z=Ud({keyframes:[b.value,M(b.value)],velocity:qx(B,w,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return A(0),{calculatedDuration:null,next:w=>{let D=!1;return!Z&&V===void 0&&(D=!0,fe(w),A(w)),V!==void 0&&w>=V?Z.next(w-V):(!D&&fe(w),b)}}}function zU(t,e,n){const r=[],a=n||is.mix||Bx,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||Ei:e;h=Wc(d,h)}r.push(h)}return r}function BU(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(D0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=zU(e,r,a),d=h.length,p=y=>{if(u&&y<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const b=Ic(t[v],t[v+1],y);return h[v](b)};return n?y=>p(Er(t[0],t[l-1],y)):p}function FU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=Ic(0,e,r);t.push(Dt(n,1,a))}}function qU(t){const e=[0];return FU(e,t.length-1),e}function HU(t,e){return t.map(n=>n*e)}function GU(t,e){return t.map(()=>e||Dx).splice(0,t.length-1)}function pc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=nU(r)?r.map(OS):OS(r),l={done:!1,value:e[0]},u=HU(n&&n.length===e.length?n:qU(e),t),h=BU(u,e,{ease:Array.isArray(a)?a:GU(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const $U=t=>t!==null;function z0(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter($U),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const YU={decay:$y,inertia:$y,tween:pc,keyframes:pc,spring:Ud};function Hx(t){typeof t.type=="string"&&(t.type=YU[t.type])}class B0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const KU=t=>t/100;class F0 extends B0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Hx(e);const{type:n=pc,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||pc;d!==pc&&typeof h[0]!="number"&&(this.mixKeyframes=Wc(KU,Bx(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=j0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:b,repeatDelay:x,type:M,onUpdate:P,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let B=this.currentTime,fe=r;if(v){const w=Math.min(this.currentTime,a)/h;let D=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&D--,D=Math.min(D,v+1),D%2&&(b==="reverse"?(N=1-N,x&&(N-=x/h)):b==="mirror"&&(fe=u)),B=Er(0,1,N)*h}const V=j?{done:!1,value:y[0]}:fe.next(B);l&&(V.value=l(V.value));let{done:Z}=V;!j&&d!==null&&(Z=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return A&&M!==$y&&(V.value=z0(y,this.options,z,this.speed)),P&&P(V.value),A&&this.finish(),V}then(e,n){return this.finished.then(e,n)}get duration(){return Ti(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ti(e)}get time(){return Ti(this.currentTime)}set time(e){e=Qr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Nn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ti(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=kU,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function WU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Qa=t=>t*180/Math.PI,Yy=t=>{const e=Qa(Math.atan2(t[1],t[0]));return Ky(e)},QU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Yy,rotateZ:Yy,skewX:t=>Qa(Math.atan(t[1])),skewY:t=>Qa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ky=t=>(t=t%360,t<0&&(t+=360),t),BS=Yy,FS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),qS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),XU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:FS,scaleY:qS,scale:t=>(FS(t)+qS(t))/2,rotateX:t=>Ky(Qa(Math.atan2(t[6],t[5]))),rotateY:t=>Ky(Qa(Math.atan2(-t[2],t[0]))),rotateZ:BS,rotate:BS,skewX:t=>Qa(Math.atan(t[4])),skewY:t=>Qa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Wy(t){return t.includes("scale")?1:0}function Qy(t,e){if(!t||t==="none")return Wy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=XU,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=QU,a=h}if(!a)return Wy(e);const l=r[e],u=a[1].split(",").map(ZU);return typeof l=="function"?l(u):u[l]}const JU=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Qy(n,e)};function ZU(t){return parseFloat(t.trim())}const zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bl=new Set(zl),HS=t=>t===jl||t===De,e9=new Set(["x","y","z"]),t9=zl.filter(t=>!e9.has(t));function n9(t){const e=[];return t9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ks={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Qy(e,"x"),y:(t,{transform:e})=>Qy(e,"y")};Ks.translateX=Ks.x;Ks.translateY=Ks.y;const eo=new Set;let Xy=!1,Jy=!1,Zy=!1;function Gx(){if(Jy){const t=Array.from(eo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=n9(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,u])=>{r.getValue(l)?.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Jy=!1,Xy=!1,eo.forEach(t=>t.complete(Zy)),eo.clear()}function $x(){eo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Jy=!0)})}function i9(){Zy=!0,$x(),Gx(),Zy=!1}class q0{constructor(e,n,r,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(eo.add(this),Xy||(Xy=!0,At.read($x),At.resolveKeyframes(Gx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}WU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),eo.delete(this)}cancel(){this.state==="scheduled"&&(eo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const r9=t=>t.startsWith("--");function s9(t,e,n){r9(e)?t.style.setProperty(e,n):t.style[e]=n}const a9=k0(()=>window.ScrollTimeline!==void 0),o9={};function l9(t,e){const n=k0(t);return()=>o9[e]??n()}const Yx=l9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,GS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sc([0,.65,.55,1]),circOut:sc([.55,0,1,.45]),backIn:sc([.31,.01,.66,-.59]),backOut:sc([.33,1.53,.69,.99])};function Kx(t,e){if(t)return typeof t=="function"?Yx()?Fx(t,e):"ease-out":kx(t)?sc(t):Array.isArray(t)?t.map(n=>Kx(n,e)||GS.easeOut):GS[t]}function u9(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[e]:n};d&&(y.offset=d);const v=Kx(h,a);Array.isArray(v)&&(y.easing=v);const b={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(y,b)}function Wx(t){return typeof t=="function"&&"applyToOptions"in t}function c9({type:t,...e}){return Wx(t)&&Yx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class h9 extends B0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,D0(typeof e.type!="string");const p=c9(e);this.animation=u9(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=z0(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):s9(n,r,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ti(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ti(e)}get time(){return Ti(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Qr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&a9()?(this.animation.timeline=e,Ei):n(this)}}const Qx={anticipate:Cx,backInOut:Rx,circInOut:Ix};function f9(t){return t in Qx}function d9(t){typeof t.ease=="string"&&f9(t.ease)&&(t.ease=Qx[t.ease])}const Zg=10;class m9 extends h9{constructor(e){d9(e),Hx(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new F0({...u,autoplay:!1}),d=Math.max(Zg,Nn.now()-this.startTime),p=Er(0,Zg,d-Zg);n.setWithVelocity(h.sample(Math.max(0,d-p)).value,h.sample(d).value,p),h.stop()}}const $S=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(oa.test(t)||t==="0")&&!t.startsWith("url("));function p9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function g9(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=$S(a,e),h=$S(l,e);return!u||!h?!1:p9(t)||(n==="spring"||Wx(n))&&r}function ev(t){t.duration=0,t.type="keyframes"}const y9=new Set(["opacity","clipPath","filter","transform"]),v9=k0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _9(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return v9()&&n&&y9.has(n)&&(n!=="transform"||!p)&&!d&&!r&&a!=="mirror"&&l!==0&&u!=="inertia"}const T9=40;class b9 extends B0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Nn.now();const b={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:y,...v},x=y?.KeyframeResolver||q0;this.keyframeResolver=new x(h,(M,P,z)=>this.onKeyframesResolved(M,P,b,!z),d,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:p,onUpdate:y}=r;this.resolvedAt=Nn.now(),g9(e,l,u,h)||((is.instantAnimations||!d)&&y?.(z0(e,r,n)),e[0]=e[e.length-1],ev(r),r.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>T9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!p&&_9(b),M=b.motionValue?.owner?.current,P=x?new m9({...b,element:M}):new F0(b);P.finished.then(()=>{this.notifyFinished()}).catch(Ei),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),i9()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Xx(t,e,n,r=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,h=(u-1)*r;return typeof n=="function"?n(l,u):a===1?l*r:h-l*r}const E9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function w9(t){const e=E9.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function Jx(t,e,n=1){const[r,a]=w9(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const u=l.trim();return vx(u)?parseFloat(u):u}return P0(a)?Jx(a,e,n+1):a}const S9={type:"spring",stiffness:500,damping:25,restSpeed:10},A9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),R9={type:"keyframes",duration:.8},C9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},x9=(t,{keyframes:e})=>e.length>2?R9:Bl.has(t)?t.startsWith("scale")?A9(e[1]):S9:C9,I9=t=>t!==null;function D9(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(I9),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function H0(t,e){return t?.[e]??t?.default??t}function k9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const G0=(t,e,n,r={},a,l)=>u=>{const h=H0(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Qr(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:b=>{e.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};k9(h)||Object.assign(y,x9(t,y)),y.duration&&(y.duration=Qr(y.duration)),y.repeatDelay&&(y.repeatDelay=Qr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ev(y),y.delay===0&&(v=!0)),(is.instantAnimations||is.skipAnimations)&&(v=!0,ev(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const b=D9(y.keyframes,h);if(b!==void 0){At.update(()=>{y.onUpdate(b),y.onComplete()});return}}return h.isSync?new F0(y):new b9(y)};function YS(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function $0(t,e,n,r){if(typeof e=="function"){const[a,l]=YS(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=YS(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function gl(t,e,n){const r=t.getProps();return $0(r,e,n!==void 0?n:r.custom,t)}const Zx=new Set(["width","height","top","left","right","bottom",...zl]),KS=30,M9=t=>!isNaN(parseFloat(t));class N9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=Nn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=M9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new M0);const r=this.events[e].add(n);return e==="change"?()=>{r(),At.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>KS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,KS);return bx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rl(t,e){return new N9(t,e)}const tv=t=>Array.isArray(t);function O9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Rl(n))}function P9(t){return tv(t)?t[t.length-1]||0:t}function V9(t,e){const n=gl(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const u in l){const h=P9(l[u]);O9(t,u,h)}}const xn=t=>!!(t&&t.getVelocity);function L9(t){return!!(xn(t)&&t.add)}function nv(t,e){const n=t.getValue("willChange");if(L9(n))return n.add(e);if(!n&&is.WillChange){const r=new is.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Y0(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const U9="framerAppearId",eI="data-"+Y0(U9);function tI(t){return t.props[eI]}function j9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function nI(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(l=r);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const v=t.getValue(y,t.latestValues[y]??null),b=h[y];if(b===void 0||p&&j9(p,y))continue;const x={delay:n,...H0(l||{},y)},M=v.get();if(M!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===M&&!x.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const U=tI(t);if(U){const j=window.MotionHandoffAnimation(U,y,At);j!==null&&(x.startTime=j,P=!0)}}nv(t,y),v.start(G0(y,v,b,t.shouldReduceMotion&&Zx.has(y)?{type:!1}:x,t,P));const z=v.animation;z&&d.push(z)}return u&&Promise.all(d).then(()=>{At.update(()=>{u&&V9(t,u)})}),d}function iv(t,e,n={}){const r=gl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(nI(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return z9(t,e,d,p,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,p]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function z9(t,e,n=0,r=0,a=0,l=1,u){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(iv(d,e,{...u,delay:n+(typeof r=="function"?0:r)+Xx(t.variantChildren,d,r,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function B9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>iv(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=iv(t,e,n);else{const a=typeof e=="function"?gl(t,e,n.custom):e;r=Promise.all(nI(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const F9={test:t=>t==="auto",parse:t=>t},iI=t=>e=>e.test(t),rI=[jl,De,Tr,Fs,pU,mU,F9],WS=t=>rI.find(iI(t));function q9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Tx(t):!0}const H9=new Set(["brightness","contrast","saturate","opacity"]);function G9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(V0)||[];if(!r)return t;const a=n.replace(r,"");let l=H9.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const $9=/\b([a-z-]*)\(.*?\)/gu,rv={...oa,getAnimatableNone:t=>{const e=t.match($9);return e?e.map(G9).join(" "):t}},QS={...jl,transform:Math.round},Y9={rotate:Fs,rotateX:Fs,rotateY:Fs,rotateZ:Fs,scale:Lf,scaleX:Lf,scaleY:Lf,scaleZ:Lf,skew:Fs,skewX:Fs,skewY:Fs,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Dc,originX:VS,originY:VS,originZ:De},K0={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,inset:De,insetBlock:De,insetBlockStart:De,insetBlockEnd:De,insetInline:De,insetInlineStart:De,insetInlineEnd:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,paddingBlock:De,paddingBlockStart:De,paddingBlockEnd:De,paddingInline:De,paddingInlineStart:De,paddingInlineEnd:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,marginBlock:De,marginBlockStart:De,marginBlockEnd:De,marginInline:De,marginInlineStart:De,marginInlineEnd:De,backgroundPositionX:De,backgroundPositionY:De,...Y9,zIndex:QS,fillOpacity:Dc,strokeOpacity:Dc,numOctaves:QS},K9={...K0,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:rv,WebkitFilter:rv},sI=t=>K9[t];function aI(t,e){let n=sI(t);return n!==rv&&(n=oa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const W9=new Set(["auto","none","0"]);function Q9(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!W9.has(l)&&kc(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=aI(n,a)}class X9 extends q0{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),P0(v))){const b=Jx(v,n.current);b!==void 0&&(e[y]=b),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!Zx.has(r)||e.length!==2)return;const[a,l]=e,u=WS(a),h=WS(l),d=PS(a),p=PS(l);if(d!==p&&Ks[r]){this.needsMeasurement=!0;return}if(u!==h)if(HS(u)&&HS(h))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else Ks[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||q9(e[a]))&&r.push(a);r.length&&Q9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ks[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=Ks[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function J9(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=n?.[t]??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(r=>r!=null)}const oI=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function sv(t){return _x(t)&&"offsetHeight"in t}const{schedule:W0}=Mx(queueMicrotask,!1),Ui={x:!1,y:!1};function lI(){return Ui.x||Ui.y}function Z9(t){return t==="x"||t==="y"?Ui[t]?null:(Ui[t]=!0,()=>{Ui[t]=!1}):Ui.x||Ui.y?null:(Ui.x=Ui.y=!0,()=>{Ui.x=Ui.y=!1})}function uI(t,e){const n=J9(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function XS(t){return!(t.pointerType==="touch"||lI())}function ej(t,e,n={}){const[r,a,l]=uI(t,n),u=h=>{if(!XS(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const y=v=>{XS(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return r.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const cI=(t,e)=>e?t===e?!0:cI(t,e.parentElement):!1,Q0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,tj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hI(t){return tj.has(t.tagName)||t.isContentEditable===!0}const rd=new WeakSet;function JS(t){return e=>{e.key==="Enter"&&t(e)}}function ey(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const nj=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=JS(()=>{if(rd.has(n))return;ey(n,"down");const a=JS(()=>{ey(n,"up")}),l=()=>ey(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ZS(t){return Q0(t)&&!lI()}function ij(t,e,n={}){const[r,a,l]=uI(t,n),u=h=>{const d=h.currentTarget;if(!ZS(h))return;rd.add(d);const p=e(d,h),y=(x,M)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),rd.has(d)&&rd.delete(d),ZS(x)&&typeof p=="function"&&p(x,{success:M})},v=x=>{y(x,d===window||d===document||n.useGlobalTarget||cI(d,x.target))},b=x=>{y(x,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",b,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),sv(h)&&(h.addEventListener("focus",p=>nj(p,a)),!hI(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function fI(t){return _x(t)&&"ownerSVGElement"in t}function rj(t){return fI(t)&&t.tagName==="svg"}const sj=[...rI,Jt,oa],aj=t=>sj.find(iI(t)),e1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ll=()=>({x:e1(),y:e1()}),t1=()=>({min:0,max:0}),sn=()=>({x:t1(),y:t1()}),av={current:null},dI={current:!1},oj=typeof window<"u";function lj(){if(dI.current=!0,!!oj)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>av.current=t.matches;t.addEventListener("change",e),e()}else av.current=!1}const uj=new WeakMap;function bm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Mc(t){return typeof t=="string"||Array.isArray(t)}const X0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],J0=["initial",...X0];function Em(t){return bm(t.animate)||J0.some(e=>Mc(t[e]))}function mI(t){return!!(Em(t)||t.variants)}function cj(t,e,n){for(const r in e){const a=e[r],l=n[r];if(xn(a))t.addValue(r,a);else if(xn(l))t.addValue(r,Rl(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(r);t.addValue(r,Rl(u!==void 0?u:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const n1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let jd={};function pI(t){jd=t}function hj(){return jd}class fj{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=q0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Nn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,At.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Em(n),this.isVariantNode=mI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const x=v[b];d[b]!==void 0&&xn(x)&&x.set(d[b])}}mount(e){this.current=e,uj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(dI.current||lj(),this.shouldReduceMotion=av.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),aa(this.notifyUpdate),aa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Bl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&At.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jd){const n=jd[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<n1.length;r++){const a=n1[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=cj(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Rl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(vx(r)||Tx(r))?r=parseFloat(r):!aj(r)&&oa.test(n)&&(r=aI(e,n)),this.setBaseTarget(e,xn(r)?r.get():r)),xn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=$0(this.props,n,this.presenceContext?.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!xn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new M0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){W0.render(this.render)}}class gI extends fj{constructor(){super(...arguments),this.KeyframeResolver=X9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ha{constructor(e){this.isMounted=!1,this.node=e}update(){}}function yI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function dj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function mj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ty(t){return t===void 0||t===1}function ov({scale:t,scaleX:e,scaleY:n}){return!ty(t)||!ty(e)||!ty(n)}function $a(t){return ov(t)||vI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function vI(t){return i1(t.x)||i1(t.y)}function i1(t){return t&&t!=="0%"}function zd(t,e,n){const r=t-n,a=e*r;return n+a}function r1(t,e,n,r,a){return a!==void 0&&(t=zd(t,a,r)),zd(t,n,r)+e}function lv(t,e=0,n=1,r,a){t.min=r1(t.min,e,n,r,a),t.max=r1(t.max,e,n,r,a)}function _I(t,{x:e,y:n}){lv(t.x,e.translate,e.scale,e.originPoint),lv(t.y,n.translate,n.scale,n.originPoint)}const s1=.999999999999,a1=1.0000000000001;function pj(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&cl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,_I(t,u)),r&&$a(l.latestValues)&&cl(t,l.latestValues))}e.x<a1&&e.x>s1&&(e.x=1),e.y<a1&&e.y>s1&&(e.y=1)}function ul(t,e){t.min=t.min+e,t.max=t.max+e}function o1(t,e,n,r,a=.5){const l=Dt(t.min,t.max,a);lv(t,e,n,l,r)}function cl(t,e){o1(t.x,e.x,e.scaleX,e.scale,e.originX),o1(t.y,e.y,e.scaleY,e.scale,e.originY)}function TI(t,e){return yI(mj(t.getBoundingClientRect(),e))}function gj(t,e,n){const r=TI(t,n),{scroll:a}=e;return a&&(ul(r.x,a.offset.x),ul(r.y,a.offset.y)),r}const yj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vj=zl.length;function _j(t,e,n){let r="",a=!0;for(let l=0;l<vj;l++){const u=zl[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number")d=h===(u.startsWith("scale")?1:0);else{const p=parseFloat(h);d=u.startsWith("scale")?p===1:p===0}if(!d||n){const p=oI(h,K0[u]);if(!d){a=!1;const y=yj[u]||u;r+=`${y}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function Z0(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const p=e[d];if(Bl.has(d)){u=!0;continue}else if(Ox(d)){a[d]=p;continue}else{const y=oI(p,K0[d]);d.startsWith("origin")?(h=!0,l[d]=y):r[d]=y}}if(e.transform||(u||n?r.transform=_j(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${d} ${p} ${y}`}}function bI(t,{style:e,vars:n},r,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,r);for(u in n)l.setProperty(u,n[u])}function l1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=l1(t,e.target.x),r=l1(t,e.target.y);return`${n}% ${r}%`}},Tj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=oa.parse(t);if(a.length>5)return r;const l=oa.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const p=Dt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},uv={borderRadius:{...Xu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xu,borderTopRightRadius:Xu,borderBottomLeftRadius:Xu,borderBottomRightRadius:Xu,boxShadow:Tj};function EI(t,{layout:e,layoutId:n}){return Bl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!uv[t]||t==="opacity")}function e_(t,e,n){const r=t.style,a=e?.style,l={};if(!r)return l;for(const u in r)(xn(r[u])||a&&xn(a[u])||EI(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=r[u]);return l}function bj(t){return window.getComputedStyle(t)}class Ej extends gI{constructor(){super(...arguments),this.type="html",this.renderInstance=bI}readValueFromInstance(e,n){if(Bl.has(n))return this.projection?.isProjecting?Wy(n):JU(e,n);{const r=bj(e),a=(Ox(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TI(e,n)}build(e,n,r){Z0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return e_(e,n,r)}}const wj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Sj={offset:"strokeDashoffset",array:"strokeDasharray"};function Aj(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?wj:Sj;t[l.offset]=`${-r}`,t[l.array]=`${e} ${n}`}const Rj=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function wI(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,p,y){if(Z0(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b}=t;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const x of Rj)v[x]!==void 0&&(b[x]=v[x],delete v[x]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&Aj(v,a,l,u,!1)}const SI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),AI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Cj(t,e,n,r){bI(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(SI.has(a)?a:Y0(a),e.attrs[a])}function RI(t,e,n){const r=e_(t,e,n);for(const a in t)if(xn(t[a])||xn(e[a])){const l=zl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}class xj extends gI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bl.has(n)){const r=sI(n);return r&&r.default||0}return n=SI.has(n)?n:Y0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return RI(e,n,r)}build(e,n,r){wI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){Cj(e,n,r,a)}mount(e){this.isSVGTag=AI(e.tagName),super.mount(e)}}const Ij=J0.length;function CI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?CI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Ij;n++){const r=J0[n],a=t.props[r];(Mc(a)||a===!1)&&(e[r]=a)}return e}function xI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Dj=[...X0].reverse(),kj=X0.length;function Mj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>B9(t,n,r)))}function Nj(t){let e=Mj(t),n=u1(),r=!0;const a=d=>(p,y)=>{const v=gl(t,y,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:x,...M}=v;p={...p,...M,...x}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,y=CI(t.parent)||{},v=[],b=new Set;let x={},M=1/0;for(let z=0;z<kj;z++){const U=Dj[z],j=n[U],B=p[U]!==void 0?p[U]:y[U],fe=Mc(B),V=U===d?j.isActive:null;V===!1&&(M=z);let Z=B===y[U]&&B!==p[U]&&fe;if(Z&&r&&t.manuallyAnimateOnMount&&(Z=!1),j.protectedKeys={...x},!j.isActive&&V===null||!B&&!j.prevProp||bm(B)||typeof B=="boolean")continue;const A=Oj(j.prevProp,B);let w=A||U===d&&j.isActive&&!Z&&fe||z>M&&fe,D=!1;const N=Array.isArray(B)?B:[B];let O=N.reduce(a(U),{});V===!1&&(O={});const{prevResolvedValues:k={}}=j,S={...k,...O},Y=ie=>{w=!0,b.has(ie)&&(D=!0,b.delete(ie)),j.needsAnimating[ie]=!0;const ee=t.getValue(ie);ee&&(ee.liveStyle=!1)};for(const ie in S){const ee=O[ie],Te=k[ie];if(x.hasOwnProperty(ie))continue;let Oe=!1;tv(ee)&&tv(Te)?Oe=!xI(ee,Te):Oe=ee!==Te,Oe?ee!=null?Y(ie):b.add(ie):ee!==void 0&&b.has(ie)?Y(ie):j.protectedKeys[ie]=!0}j.prevProp=B,j.prevResolvedValues=O,j.isActive&&(x={...x,...O}),r&&t.blockInitialAnimation&&(w=!1);const H=Z&&A;w&&(!H||D)&&v.push(...N.map(ie=>{const ee={type:U};if(typeof ie=="string"&&r&&!H&&t.manuallyAnimateOnMount&&t.parent){const{parent:Te}=t,Oe=gl(Te,ie);if(Te.enteringChildren&&Oe){const{delayChildren:F}=Oe.transition||{};ee.delay=Xx(Te.enteringChildren,t,F)}}return{animation:ie,options:ee}}))}if(b.size){const z={};if(typeof p.initial!="boolean"){const U=gl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(z.transition=U.transition)}b.forEach(U=>{const j=t.getBaseTarget(U),B=t.getValue(U);B&&(B.liveStyle=!0),z[U]=j??null}),v.push({animation:z})}let P=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(v):Promise.resolve()}function h(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),n[d].isActive=p;const y=u(d);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=u1()}}}function Oj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xI(e,t):!1}function Fa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function u1(){return{animate:Fa(!0),whileInView:Fa(),whileHover:Fa(),whileTap:Fa(),whileDrag:Fa(),whileFocus:Fa(),exit:Fa()}}function c1(t,e){t.min=e.min,t.max=e.max}function Li(t,e){c1(t.x,e.x),c1(t.y,e.y)}function h1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const II=1e-4,Pj=1-II,Vj=1+II,DI=.01,Lj=0-DI,Uj=0+DI;function On(t){return t.max-t.min}function jj(t,e,n){return Math.abs(t-e)<=n}function f1(t,e,n,r=.5){t.origin=r,t.originPoint=Dt(e.min,e.max,t.origin),t.scale=On(n)/On(e),t.translate=Dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Pj&&t.scale<=Vj||isNaN(t.scale))&&(t.scale=1),(t.translate>=Lj&&t.translate<=Uj||isNaN(t.translate))&&(t.translate=0)}function gc(t,e,n,r){f1(t.x,e.x,n.x,r?r.originX:void 0),f1(t.y,e.y,n.y,r?r.originY:void 0)}function d1(t,e,n){t.min=n.min+e.min,t.max=t.min+On(e)}function zj(t,e,n){d1(t.x,e.x,n.x),d1(t.y,e.y,n.y)}function m1(t,e,n){t.min=e.min-n.min,t.max=t.min+On(e)}function Bd(t,e,n){m1(t.x,e.x,n.x),m1(t.y,e.y,n.y)}function p1(t,e,n,r,a){return t-=e,t=zd(t,1/n,r),a!==void 0&&(t=zd(t,1/a,r)),t}function Bj(t,e=0,n=1,r=.5,a,l=t,u=t){if(Tr.test(e)&&(e=parseFloat(e),e=Dt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Dt(l.min,l.max,r);t===l&&(h-=e),t.min=p1(t.min,e,n,h,a),t.max=p1(t.max,e,n,h,a)}function g1(t,e,[n,r,a],l,u){Bj(t,e[n],e[r],e[a],e.scale,l,u)}const Fj=["x","scaleX","originX"],qj=["y","scaleY","originY"];function y1(t,e,n,r){g1(t.x,e,Fj,n?n.x:void 0,r?r.x:void 0),g1(t.y,e,qj,n?n.y:void 0,r?r.y:void 0)}function v1(t){return t.translate===0&&t.scale===1}function kI(t){return v1(t.x)&&v1(t.y)}function _1(t,e){return t.min===e.min&&t.max===e.max}function Hj(t,e){return _1(t.x,e.x)&&_1(t.y,e.y)}function T1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function MI(t,e){return T1(t.x,e.x)&&T1(t.y,e.y)}function b1(t){return On(t.x)/On(t.y)}function E1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function vi(t){return[t("x"),t("y")]}function Gj(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(r=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:b,skewX:x,skewY:M}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),v&&(r+=`rotateX(${v}deg) `),b&&(r+=`rotateY(${b}deg) `),x&&(r+=`skewX(${x}deg) `),M&&(r+=`skewY(${M}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const NI=["TopLeft","TopRight","BottomLeft","BottomRight"],$j=NI.length,w1=t=>typeof t=="string"?parseFloat(t):t,S1=t=>typeof t=="number"||De.test(t);function Yj(t,e,n,r,a,l){a?(t.opacity=Dt(0,n.opacity??1,Kj(r)),t.opacityExit=Dt(e.opacity??1,0,Wj(r))):l&&(t.opacity=Dt(e.opacity??1,n.opacity??1,r));for(let u=0;u<$j;u++){const h=`border${NI[u]}Radius`;let d=A1(e,h),p=A1(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||S1(d)===S1(p)?(t[h]=Math.max(Dt(w1(d),w1(p),r),0),(Tr.test(p)||Tr.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=Dt(e.rotate||0,n.rotate||0,r))}function A1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Kj=OI(0,.5,xx),Wj=OI(.5,.95,Ei);function OI(t,e,n){return r=>r<t?0:r>e?1:n(Ic(t,e,r))}function Qj(t,e,n){const r=xn(t)?t:Rl(t);return r.start(G0("",r,e,n)),r.animation}function Nc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Xj=(t,e)=>t.depth-e.depth;class Jj{constructor(){this.children=[],this.isDirty=!1}add(e){x0(this.children,e),this.isDirty=!0}remove(e){I0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Xj),this.isDirty=!1,this.children.forEach(e)}}function Zj(t,e){const n=Nn.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(aa(r),t(l-e))};return At.setup(r,!0),()=>aa(r)}function sd(t){return xn(t)?t.get():t}class ez{constructor(){this.members=[]}add(e){x0(this.members,e),e.scheduleRender()}remove(e){if(I0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ad={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ny=["","X","Y","Z"],tz=1e3;let nz=0;function iy(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function PI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=tI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",At,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&PI(r)}function VI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=nz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sz),this.nodes.forEach(uz),this.nodes.forEach(cz),this.nodes.forEach(az)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Jj)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new M0),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=fI(u)&&!rj(u),this.instance=u;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let y,v=0;const b=()=>this.root.updateBlockedByResize=!1;At.read(()=>{v=window.innerWidth}),t(u,()=>{const x=window.innerWidth;x!==v&&(v=x,this.root.updateBlockedByResize=!0,y&&y(),y=Zj(b,250),ad.hasAnimatedSinceResize&&(ad.hasAnimatedSinceResize=!1,this.nodes.forEach(x1)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||pz,{onLayoutAnimationStart:P,onLayoutAnimationComplete:z}=p.getProps(),U=!this.targetLayout||!MI(this.targetLayout,x),j=!v&&b;if(this.options.layoutRoot||this.resumeFrom||j||v&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...H0(M,"layout"),onPlay:P,onComplete:z};(p.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(y,j)}else v||x1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),aa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hz),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(R1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(C1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lz),this.nodes.forEach(iz),this.nodes.forEach(rz)):this.nodes.forEach(C1),this.clearAllSnapshots();const h=Nn.now();_n.delta=Er(0,1e3/60,h-_n.timestamp),_n.timestamp=h,_n.isProcessing=!0,Kg.update.process(_n),Kg.preRender.process(_n),Kg.render.process(_n),_n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,W0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oz),this.sharedNodes.forEach(fz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,At.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){At.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!On(this.snapshot.measuredBox.x)&&!On(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!kI(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||$a(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),gz(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return sn();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(yz))){const{scroll:p}=this.root;p&&(ul(h.x,p.offset.x),ul(h.y,p.offset.y))}return h}removeElementScroll(u){const h=sn();if(Li(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Li(h,u),ul(h.x,y.offset.x),ul(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=sn();Li(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&cl(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),$a(y.latestValues)&&cl(d,y.latestValues)}return $a(this.latestValues)&&cl(d,this.latestValues),d}removeTransform(u){const h=sn();Li(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!$a(p.latestValues))continue;ov(p.latestValues)&&p.updateSnapshot();const y=sn(),v=p.measurePageBox();Li(y,v),y1(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return $a(this.latestValues)&&y1(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=_n.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Li(this.target,this.layout.layoutBox),_I(this.target,this.targetDelta)):Li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ov(this.parent.latestValues)||vI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Bd(this.relativeTargetOrigin,h,d),Li(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===_n.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Li(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;pj(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=sn());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(h1(this.prevProjectionDelta.x,this.projectionDelta.x),h1(this.prevProjectionDelta.y,this.projectionDelta.y)),gc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!E1(this.projectionDelta.x,this.prevProjectionDelta.x)||!E1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ll(),this.projectionDelta=ll(),this.projectionDeltaWithTransform=ll()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=ll();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=sn(),x=d?d.source:void 0,M=this.layout?this.layout.source:void 0,P=x!==M,z=this.getStack(),U=!z||z.members.length<=1,j=!!(P&&!U&&this.options.crossfade===!0&&!this.path.some(mz));this.animationProgress=0;let B;this.mixTargetDelta=fe=>{const V=fe/1e3;I1(v.x,u.x,V),I1(v.y,u.y,V),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dz(this.relativeTarget,this.relativeTargetOrigin,b,V),B&&Hj(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=sn()),Li(B,this.relativeTarget)),P&&(this.animationValues=y,Yj(y,p,this.latestValues,V,j,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(aa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=At.update(()=>{ad.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Rl(0)),this.currentAnimation=Qj(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&LI(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||sn();const v=On(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const b=On(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+b}Li(h,d),cl(h,y),gc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new ez),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&iy("z",u,p,this.animationValues);for(let y=0;y<ny.length;y++)iy(`rotate${ny[y]}`,u,p,this.animationValues),iy(`skew${ny[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=sd(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=sd(h?.pointerEvents)||""),this.hasProjected&&!$a(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=Gj(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:b,y:x}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const M in uv){if(y[M]===void 0)continue;const{correct:P,applyTo:z,isCSSVariable:U}=uv[M],j=v==="none"?y[M]:P(y[M],p);if(z){const B=z.length;for(let fe=0;fe<B;fe++)u[z[fe]]=j}else U?this.options.visualElement.renderState.vars[M]=j:u[M]=j}this.options.layoutId&&(u.pointerEvents=p===this?sd(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(R1),this.root.sharedNodes.clear()}}}function iz(t){t.updateLayout()}function rz(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?vi(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],b=On(v);v.min=n[y].min,v.max=v.min+b}):LI(a,e.layoutBox,n)&&vi(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],b=On(n[y]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const u=ll();gc(u,n,e.layoutBox);const h=ll();l?gc(h,t.applyTransform(r,!0),e.measuredBox):gc(h,n,e.layoutBox);const d=!kI(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:b}=y;if(v&&b){const x=sn();Bd(x,e.layoutBox,v.layoutBox);const M=sn();Bd(M,n,b.layoutBox),MI(x,M)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=x,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function sz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function az(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function oz(t){t.clearSnapshot()}function R1(t){t.clearMeasurements()}function C1(t){t.isLayoutDirty=!1}function lz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function x1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function uz(t){t.resolveTargetDelta()}function cz(t){t.calcProjection()}function hz(t){t.resetSkewAndRotation()}function fz(t){t.removeLeadSnapshot()}function I1(t,e,n){t.translate=Dt(e.translate,0,n),t.scale=Dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function D1(t,e,n,r){t.min=Dt(e.min,n.min,r),t.max=Dt(e.max,n.max,r)}function dz(t,e,n,r){D1(t.x,e.x,n.x,r),D1(t.y,e.y,n.y,r)}function mz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const pz={duration:.45,ease:[.4,0,.1,1]},k1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),M1=k1("applewebkit/")&&!k1("chrome/")?Math.round:Ei;function N1(t){t.min=M1(t.min),t.max=M1(t.max)}function gz(t){N1(t.x),N1(t.y)}function LI(t,e,n){return t==="position"||t==="preserve-aspect"&&!jj(b1(e),b1(n),.2)}function yz(t){return t!==t.root&&t.scroll?.wasRoot}const vz=VI({attachResizeListener:(t,e)=>Nc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),ry={current:void 0},UI=VI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ry.current){const t=new vz({});t.mount(window),t.setOptions({layoutScroll:!0}),ry.current=t}return ry.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),t_=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function O1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _z(...t){return e=>{let n=!1;const r=t.map(a=>{const l=O1(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():O1(t[a],null)}}}}function Tz(...t){return C.useCallback(_z(...t),t)}class bz extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=sv(r)&&r.offsetWidth||0,l=sv(r)&&r.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Ez({children:t,isPresent:e,anchorX:n,anchorY:r,root:a}){const l=C.useId(),u=C.useRef(null),h=C.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=C.useContext(t_),p=t.props?.ref??t?.ref,y=Tz(u,p);return C.useInsertionEffect(()=>{const{width:v,height:b,top:x,left:M,right:P,bottom:z}=h.current;if(e||!u.current||!v||!b)return;const U=n==="left"?`left: ${M}`:`right: ${P}`,j=r==="bottom"?`bottom: ${z}`:`top: ${x}`;u.current.dataset.motionPopId=l;const B=document.createElement("style");d&&(B.nonce=d);const fe=a??document.head;return fe.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${b}px !important;
            ${U}px !important;
            ${j}px !important;
          }
        `),()=>{fe.contains(B)&&fe.removeChild(B)}},[e]),q.jsx(bz,{isPresent:e,childRef:u,sizeRef:h,children:C.cloneElement(t,{ref:y})})}const wz=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,anchorY:d,root:p})=>{const y=C0(Sz),v=C.useId();let b=!0,x=C.useMemo(()=>(b=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:M=>{y.set(M,!0);for(const P of y.values())if(!P)return;r&&r()},register:M=>(y.set(M,!1),()=>y.delete(M))}),[n,y,r]);return l&&b&&(x={...x}),C.useMemo(()=>{y.forEach((M,P)=>y.set(P,!1))},[n]),C.useEffect(()=>{!n&&!y.size&&r&&r()},[n]),u==="popLayout"&&(t=q.jsx(Ez,{isPresent:n,anchorX:h,anchorY:d,root:p,children:t})),q.jsx(Tm.Provider,{value:x,children:t})};function Sz(){return new Map}function jI(t=!0){const e=C.useContext(Tm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=C.useId();C.useEffect(()=>{if(t)return a(l)},[t]);const u=C.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,u]:[!0]}const Uf=t=>t.key||"";function P1(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const n_=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",anchorY:d="top",root:p})=>{const[y,v]=jI(u),b=C.useMemo(()=>P1(t),[t]),x=u&&!y?[]:b.map(Uf),M=C.useRef(!0),P=C.useRef(b),z=C0(()=>new Map),U=C.useRef(new Set),[j,B]=C.useState(b),[fe,V]=C.useState(b);yx(()=>{M.current=!1,P.current=b;for(let w=0;w<fe.length;w++){const D=Uf(fe[w]);x.includes(D)?(z.delete(D),U.current.delete(D)):z.get(D)!==!0&&z.set(D,!1)}},[fe,x.length,x.join("-")]);const Z=[];if(b!==j){let w=[...b];for(let D=0;D<fe.length;D++){const N=fe[D],O=Uf(N);x.includes(O)||(w.splice(D,0,N),Z.push(N))}return l==="wait"&&Z.length&&(w=Z),V(P1(w)),B(b),null}const{forceRender:A}=C.useContext(R0);return q.jsx(q.Fragment,{children:fe.map(w=>{const D=Uf(w),N=u&&!y?!1:b===fe||x.includes(D),O=()=>{if(U.current.has(D))return;if(U.current.add(D),z.has(D))z.set(D,!0);else return;let k=!0;z.forEach(S=>{S||(k=!1)}),k&&(A?.(),V(P.current),u&&v?.(),r&&r())};return q.jsx(wz,{isPresent:N,initial:!M.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:N?void 0:O,anchorX:h,anchorY:d,children:w},D)})})},zI=C.createContext({strict:!1}),V1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let L1=!1;function Az(){if(L1)return;const t={};for(const e in V1)t[e]={isEnabled:n=>V1[e].some(r=>!!n[r])};pI(t),L1=!0}function BI(){return Az(),hj()}function Rz(t){const e=BI();for(const n in t)e[n]={...e[n],...t[n]};pI(e)}const Cz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Cz.has(t)}let FI=t=>!Fd(t);function xz(t){typeof t=="function"&&(FI=e=>e.startsWith("on")?!Fd(e):t(e))}try{xz(require("@emotion/is-prop-valid").default)}catch{}function Iz(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(FI(a)||n===!0&&Fd(a)||!e&&!Fd(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const wm=C.createContext({});function Dz(t,e){if(Em(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Mc(n)?n:void 0,animate:Mc(r)?r:void 0}}return t.inherit!==!1?e:{}}function kz(t){const{initial:e,animate:n}=Dz(t,C.useContext(wm));return C.useMemo(()=>({initial:e,animate:n}),[U1(e),U1(n)])}function U1(t){return Array.isArray(t)?t.join(" "):t}const i_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qI(t,e,n){for(const r in e)!xn(e[r])&&!EI(r,n)&&(t[r]=e[r])}function Mz({transformTemplate:t},e){return C.useMemo(()=>{const n=i_();return Z0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Nz(t,e){const n=t.style||{},r={};return qI(r,n,t),Object.assign(r,Mz(t,e)),r}function Oz(t,e){const n={},r=Nz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const HI=()=>({...i_(),attrs:{}});function Pz(t,e,n,r){const a=C.useMemo(()=>{const l=HI();return wI(l,e,AI(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};qI(l,t.style,t),a.style={...l,...a.style}}return a}const Vz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function r_(t){return typeof t!="string"||t.includes("-")?!1:!!(Vz.indexOf(t)>-1||/[A-Z]/u.test(t))}function Lz(t,e,n,{latestValues:r},a,l=!1,u){const d=(u??r_(t)?Pz:Oz)(e,r,a,t),p=Iz(e,typeof t=="string",l),y=t!==C.Fragment?{...p,...d,ref:n}:{},{children:v}=e,b=C.useMemo(()=>xn(v)?v.get():v,[v]);return C.createElement(t,{...y,children:b})}function Uz({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:jz(n,r,a,t),renderState:e()}}function jz(t,e,n,r){const a={},l=r(t,{});for(const b in l)a[b]=sd(l[b]);let{initial:u,animate:h}=t;const d=Em(t),p=mI(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!bm(v)){const b=Array.isArray(v)?v:[v];for(let x=0;x<b.length;x++){const M=$0(t,b[x]);if(M){const{transitionEnd:P,transition:z,...U}=M;for(const j in U){let B=U[j];if(Array.isArray(B)){const fe=y?B.length-1:0;B=B[fe]}B!==null&&(a[j]=B)}for(const j in P)a[j]=P[j]}}}return a}const GI=t=>(e,n)=>{const r=C.useContext(wm),a=C.useContext(Tm),l=()=>Uz(t,e,r,a);return n?l():C0(l)},zz=GI({scrapeMotionValuesFromProps:e_,createRenderState:i_}),Bz=GI({scrapeMotionValuesFromProps:RI,createRenderState:HI}),Fz=Symbol.for("motionComponentSymbol");function qz(t,e,n){const r=C.useRef(n);C.useInsertionEffect(()=>{r.current=n});const a=C.useRef(null);return C.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=r.current;if(typeof u=="function")if(l){const h=u(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const $I=C.createContext({});function ac(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Hz(t,e,n,r,a,l){const{visualElement:u}=C.useContext(wm),h=C.useContext(zI),d=C.useContext(Tm),p=C.useContext(t_).reducedMotion,y=C.useRef(null);r=r||h.renderer,!y.current&&r&&(y.current=r(t,{visualState:e,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p,isSVG:l}));const v=y.current,b=C.useContext($I);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&Gz(y.current,n,a,b);const x=C.useRef(!1);C.useInsertionEffect(()=>{v&&x.current&&v.update(n,d)});const M=n[eI],P=C.useRef(!!M&&!window.MotionHandoffIsComplete?.(M)&&window.MotionHasOptimisedAnimation?.(M));return yx(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),P.current&&v.animationState&&v.animationState.animateChanges())}),C.useEffect(()=>{v&&(!P.current&&v.animationState&&v.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(M)}),P.current=!1),v.enteringChildren=void 0)}),v}function Gz(t,e,n,r){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:YI(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&ac(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:d,layoutRoot:p})}function YI(t){if(t)return t.options.allowProjection!==!1?t.projection:YI(t.parent)}function sy(t,{forwardMotionProps:e=!1,type:n}={},r,a){r&&Rz(r);const l=n?n==="svg":r_(t),u=l?Bz:zz;function h(p,y){let v;const b={...C.useContext(t_),...p,layoutId:$z(p)},{isStatic:x}=b,M=kz(p),P=u(p,x);if(!x&&gx){Yz();const z=Kz(b);v=z.MeasureLayout,M.visualElement=Hz(t,P,b,a,z.ProjectionNode,l)}return q.jsxs(wm.Provider,{value:M,children:[v&&M.visualElement?q.jsx(v,{visualElement:M.visualElement,...b}):null,Lz(t,p,qz(P,M.visualElement,y),P,x,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=C.forwardRef(h);return d[Fz]=t,d}function $z({layoutId:t}){const e=C.useContext(R0).id;return e&&t!==void 0?e+"-"+t:t}function Yz(t,e){C.useContext(zI).strict}function Kz(t){const e=BI(),{drag:n,layout:r}=e;if(!n&&!r)return{};const a={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Wz(t,e){if(typeof Proxy>"u")return sy;const n=new Map,r=(l,u)=>sy(l,u,t,e),a=(l,u)=>r(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?r:(n.has(u)||n.set(u,sy(u,void 0,t,e)),n.get(u))})}const Qz=(t,e)=>e.isSVG??r_(t)?new xj(e):new Ej(e,{allowProjection:t!==C.Fragment});class Xz extends ha{constructor(e){super(e),e.animationState||(e.animationState=Nj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Jz=0;class Zz extends ha{constructor(){super(...arguments),this.id=Jz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const eB={animation:{Feature:Xz},exit:{Feature:Zz}};function Jc(t){return{point:{x:t.pageX,y:t.pageY}}}const tB=t=>e=>Q0(e)&&t(e,Jc(e));function yc(t,e,n,r){return Nc(t,e,tB(n),r)}const KI=({current:t})=>t?t.ownerDocument.defaultView:null,j1=(t,e)=>Math.abs(t-e);function nB(t,e){const n=j1(t.x,e.x),r=j1(t.y,e.y);return Math.sqrt(n**2+r**2)}const z1=new Set(["auto","scroll"]);class WI{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=oy(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,P=nB(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!P)return;const{point:z}=x,{timestamp:U}=_n;this.history.push({...z,timestamp:U});const{onStart:j,onMove:B}=this.handlers;M||(j&&j(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,x)},this.handlePointerMove=(x,M)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=ay(M,this.transformPagePoint),At.update(this.updatePoint,!0)},this.handlePointerUp=(x,M)=>{this.end();const{onEnd:P,onSessionEnd:z,resumeAnimation:U}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=oy(x.type==="pointercancel"?this.lastMoveEventInfo:ay(M,this.transformPagePoint),this.history);this.startEvent&&P&&P(x,j),z&&z(x,j)},!Q0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=a||window;const d=Jc(e),p=ay(d,this.transformPagePoint),{point:y}=p,{timestamp:v}=_n;this.history=[{...y,timestamp:v}];const{onSessionStart:b}=n;b&&b(e,oy(p,this.history)),this.removeListeners=Wc(yc(this.contextWindow,"pointermove",this.handlePointerMove),yc(this.contextWindow,"pointerup",this.handlePointerUp),yc(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(z1.has(r.overflowX)||z1.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,a=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),At.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),aa(this.updatePoint)}}function ay(t,e){return e?{point:e(t.point)}:t}function B1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function oy({point:t},e){return{point:t,delta:B1(t,QI(e)),offset:B1(t,iB(e)),velocity:rB(e,.1)}}function iB(t){return t[0]}function QI(t){return t[t.length-1]}function rB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=QI(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>Qr(e)));)n--;if(!r)return{x:0,y:0};const l=Ti(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function sB(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Dt(n,t,r.max):Math.min(t,n)),t}function F1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function aB(t,{top:e,left:n,bottom:r,right:a}){return{x:F1(t.x,n,a),y:F1(t.y,e,r)}}function q1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function oB(t,e){return{x:q1(t.x,e.x),y:q1(t.y,e.y)}}function lB(t,e){let n=.5;const r=On(t),a=On(e);return a>r?n=Ic(e.min,e.max-r,t.min):r>a&&(n=Ic(t.min,t.max-a,e.min)),Er(0,1,n)}function uB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const cv=.35;function cB(t=cv){return t===!1?t=0:t===!0&&(t=cv),{x:H1(t,"left","right"),y:H1(t,"top","bottom")}}function H1(t,e,n){return{min:G1(t,e),max:G1(t,n)}}function G1(t,e){return typeof t=="number"?t:t[e]||0}const hB=new WeakMap;class fB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(Jc(v).point)):this.pauseAnimation()},u=(v,b)=>{this.stopAnimation();const{drag:x,dragPropagation:M,onDragStart:P}=this.getProps();if(x&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Z9(x),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vi(U=>{let j=this.getAxisMotionValue(U).get()||0;if(Tr.test(j)){const{projection:B}=this.visualElement;if(B&&B.layout){const fe=B.layout.layoutBox[U];fe&&(j=On(fe)*(parseFloat(j)/100))}}this.originPoint[U]=j}),P&&At.postRender(()=>P(v,b)),nv(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:x,dragDirectionLock:M,onDirectionLock:P,onDrag:z}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:U}=b;if(M&&this.currentDirection===null){this.currentDirection=dB(U),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",b.point,U),this.updateAxis("y",b.point,U),this.visualElement.render(),z&&z(v,b)},d=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>vi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new WI(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:KI(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&At.postRender(()=>h(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!jf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=sB(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&ac(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=aB(r.layoutBox,e):this.constraints=!1,this.elastic=cB(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=uB(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ac(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=gj(r,a.root,this.visualElement.getTransformPagePoint());let u=oB(a.layout.layoutBox,l);if(n){const h=n(dj(u));this.hasMutatedConstraints=!!h,h&&(u=yI(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=vi(y=>{if(!jf(y,n,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const b=a?200:1e6,x=a?40:1e7,M={type:"inertia",velocity:r?e[y]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,M)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return nv(this.visualElement,e),r.start(G0(e,r,0,n,this.visualElement,!1))}stopAnimation(){vi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vi(n=>{const{drag:r}=this.getProps();if(!jf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n],d=l.get()||0;l.set(e[n]-Dt(u,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ac(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};vi(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=lB({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vi(u=>{if(!jf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(Dt(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;hB.set(this.visualElement,this);const e=this.visualElement.current,n=yc(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps(),v=d.target,b=v!==e&&hI(v);p&&y&&!b&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();ac(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),At.read(r);const u=Nc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(vi(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=cv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function jf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function dB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class mB extends ha{constructor(e){super(e),this.removeGroupControls=Ei,this.removeListeners=Ei,this.controls=new fB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ei}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const $1=t=>(e,n)=>{t&&At.postRender(()=>t(e,n))};class pB extends ha{constructor(){super(...arguments),this.removePointerDownListener=Ei}onPointerDown(e){this.session=new WI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:$1(e),onStart:$1(n),onMove:r,onEnd:(l,u)=>{delete this.session,a&&At.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=yc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let ly=!1;class gB extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),ly&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ad.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:u}=r;return u&&(u.isPresent=l,ly=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||At.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),W0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;ly=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XI(t){const[e,n]=jI(),r=C.useContext(R0);return q.jsx(gB,{...t,layoutGroup:r,switchLayoutGroup:C.useContext($I),isPresent:e,safeToRemove:n})}const yB={pan:{Feature:pB},drag:{Feature:mB,ProjectionNode:UI,MeasureLayout:XI}};function Y1(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&At.postRender(()=>l(e,Jc(e)))}class vB extends ha{mount(){const{current:e}=this.node;e&&(this.unmount=ej(e,(n,r)=>(Y1(this.node,r,"Start"),a=>Y1(this.node,a,"End"))))}unmount(){}}class _B extends ha{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wc(Nc(this.node.current,"focus",()=>this.onFocus()),Nc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function K1(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&At.postRender(()=>l(e,Jc(e)))}class TB extends ha{mount(){const{current:e}=this.node;e&&(this.unmount=ij(e,(n,r)=>(K1(this.node,r,"Start"),(a,{success:l})=>K1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hv=new WeakMap,uy=new WeakMap,bB=t=>{const e=hv.get(t.target);e&&e(t)},EB=t=>{t.forEach(bB)};function wB({root:t,...e}){const n=t||document;uy.has(n)||uy.set(n,{});const r=uy.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(EB,{root:t,...e})),r[a]}function SB(t,e,n){const r=wB(e);return hv.set(t,n),r.observe(t),()=>{hv.delete(t),r.unobserve(t)}}const AB={some:0,all:1};class RB extends ha{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:AB[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),b=p?y:v;b&&b(d)};return SB(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(CB(e,n))&&this.startObserver()}unmount(){}}function CB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const xB={inView:{Feature:RB},tap:{Feature:TB},focus:{Feature:_B},hover:{Feature:vB}},IB={layout:{ProjectionNode:UI,MeasureLayout:XI}},DB={...eB,...xB,...yB,...IB},Cl=Wz(DB,Qz);const kB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),W1=t=>{const e=MB(t);return e.charAt(0).toUpperCase()+e.slice(1)},JI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),NB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var OB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const PB=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:u,...h},d)=>C.createElement("svg",{ref:d,...OB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:JI("lucide",a),...!l&&!NB(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>C.createElement(p,y)),...Array.isArray(l)?l:[l]]));const tn=(t,e)=>{const n=C.forwardRef(({className:r,...a},l)=>C.createElement(PB,{ref:l,iconNode:e,className:JI(`lucide-${kB(W1(t))}`,`lucide-${t}`,r),...a}));return n.displayName=W1(t),n};const VB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],LB=tn("arrow-left",VB);const UB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qd=tn("calendar",UB);const jB=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],zB=tn("chart-pie",jB);const BB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],FB=tn("chevron-left",BB);const qB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fv=tn("chevron-right",qB);const HB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],GB=tn("clock",HB);const $B=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],YB=tn("house",$B);const KB=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],WB=tn("layout-grid",KB);const QB=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],XB=tn("list-todo",QB);const JB=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],ZB=tn("list",JB);const e8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],t8=tn("log-out",e8);const n8=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],i8=tn("menu",n8);const r8=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],s8=tn("moon",r8);const a8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],o8=tn("panels-top-left",a8);const l8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZI=tn("settings",l8);const u8=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],c8=tn("square-check-big",u8);const h8=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],f8=tn("sun",h8);const d8=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],m8=tn("utensils",d8);const p8=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],g8=tn("wallet",p8);const y8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],s_=tn("x",y8),v8=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(null),[a,l]=C.useState(!1),u=async()=>{r(null),l(!0);try{await sR(kd),t||(l(!1),r(null))}catch(h){t||(console.log(h.message),r(h.message),l(!1))}};return C.useEffect(()=>()=>e(!0),[]),{logout:u,error:n,isPending:a}};function eD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=eD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _8(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=eD(t))&&(r&&(r+=" "),r+=e);return r}const T8=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},b8=(t,e)=>({classGroupId:t,validator:e}),tD=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Hd="-",Q1=[],E8="arbitrary..",w8=t=>{const e=A8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return S8(u);const h=u.split(Hd),d=h[0]===""&&h.length>1?1:0;return nD(h,d,e)},getConflictingClassGroupIds:(u,h)=>{if(h){const d=r[u],p=n[u];return d?p?T8(p,d):d:p||Q1}return n[u]||Q1}}},nD=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=nD(t,e+1,l);if(p)return p}const u=n.validators;if(u===null)return;const h=e===0?t.join(Hd):t.slice(e).join(Hd),d=u.length;for(let p=0;p<d;p++){const y=u[p];if(y.validator(h))return y.classGroupId}},S8=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?E8+r:void 0})(),A8=t=>{const{theme:e,classGroups:n}=t;return R8(n,e)},R8=(t,e)=>{const n=tD();for(const r in t){const a=t[r];a_(a,n,r,e)}return n},a_=(t,e,n,r)=>{const a=t.length;for(let l=0;l<a;l++){const u=t[l];C8(u,e,n,r)}},C8=(t,e,n,r)=>{if(typeof t=="string"){x8(t,e,n);return}if(typeof t=="function"){I8(t,e,n,r);return}D8(t,e,n,r)},x8=(t,e,n)=>{const r=t===""?e:iD(e,t);r.classGroupId=n},I8=(t,e,n,r)=>{if(k8(t)){a_(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(b8(n,t))},D8=(t,e,n,r)=>{const a=Object.entries(t),l=a.length;for(let u=0;u<l;u++){const[h,d]=a[u];a_(d,iD(e,h),n,r)}},iD=(t,e)=>{let n=t;const r=e.split(Hd),a=r.length;for(let l=0;l<a;l++){const u=r[l];let h=n.nextPart.get(u);h||(h=tD(),n.nextPart.set(u,h)),n=h}return n},k8=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,M8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(l,u)=>{n[l]=u,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=r[l])!==void 0)return a(l,u),u},set(l,u){l in n?n[l]=u:a(l,u)}}},dv="!",X1=":",N8=[],J1=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),O8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const l=[];let u=0,h=0,d=0,p;const y=a.length;for(let P=0;P<y;P++){const z=a[P];if(u===0&&h===0){if(z===X1){l.push(a.slice(d,P)),d=P+1;continue}if(z==="/"){p=P;continue}}z==="["?u++:z==="]"?u--:z==="("?h++:z===")"&&h--}const v=l.length===0?a:a.slice(d);let b=v,x=!1;v.endsWith(dv)?(b=v.slice(0,-1),x=!0):v.startsWith(dv)&&(b=v.slice(1),x=!0);const M=p&&p>d?p-d:void 0;return J1(l,x,b,M)};if(e){const a=e+X1,l=r;r=u=>u.startsWith(a)?l(u.slice(a.length)):J1(N8,!1,u,void 0,!0)}if(n){const a=r;r=l=>n({className:l,parseClassName:a})}return r},P8=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let l=0;l<n.length;l++){const u=n[l],h=u[0]==="[",d=e.has(u);h||d?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(u)):a.push(u)}return a.length>0&&(a.sort(),r.push(...a)),r}},V8=t=>({cache:M8(t.cacheSize),parseClassName:O8(t),sortModifiers:P8(t),...w8(t)}),L8=/\s+/,U8=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],h=t.trim().split(L8);let d="";for(let p=h.length-1;p>=0;p-=1){const y=h[p],{isExternal:v,modifiers:b,hasImportantModifier:x,baseClassName:M,maybePostfixModifierPosition:P}=n(y);if(v){d=y+(d.length>0?" "+d:d);continue}let z=!!P,U=r(z?M.substring(0,P):M);if(!U){if(!z){d=y+(d.length>0?" "+d:d);continue}if(U=r(M),!U){d=y+(d.length>0?" "+d:d);continue}z=!1}const j=b.length===0?"":b.length===1?b[0]:l(b).join(":"),B=x?j+dv:j,fe=B+U;if(u.indexOf(fe)>-1)continue;u.push(fe);const V=a(U,z);for(let Z=0;Z<V.length;++Z){const A=V[Z];u.push(B+A)}d=y+(d.length>0?" "+d:d)}return d},j8=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=rD(n))&&(a&&(a+=" "),a+=r);return a},rD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=rD(t[r]))&&(n&&(n+=" "),n+=e);return n},z8=(t,...e)=>{let n,r,a,l;const u=d=>{const p=e.reduce((y,v)=>v(y),t());return n=V8(p),r=n.cache.get,a=n.cache.set,l=h,h(d)},h=d=>{const p=r(d);if(p)return p;const y=U8(d,n);return a(d,y),y};return l=u,(...d)=>l(j8(...d))},B8=[],rn=t=>{const e=n=>n[t]||B8;return e.isThemeGetter=!0,e},sD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,aD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,F8=/^\d+\/\d+$/,q8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,H8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,G8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,$8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Y8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nl=t=>F8.test(t),We=t=>!!t&&!Number.isNaN(Number(t)),Bs=t=>!!t&&Number.isInteger(Number(t)),cy=t=>t.endsWith("%")&&We(t.slice(0,-1)),qr=t=>q8.test(t),K8=()=>!0,W8=t=>H8.test(t)&&!G8.test(t),oD=()=>!1,Q8=t=>$8.test(t),X8=t=>Y8.test(t),J8=t=>!xe(t)&&!Ie(t),Z8=t=>Fl(t,cD,oD),xe=t=>sD.test(t),qa=t=>Fl(t,hD,W8),hy=t=>Fl(t,rF,We),Z1=t=>Fl(t,lD,oD),eF=t=>Fl(t,uD,X8),zf=t=>Fl(t,fD,Q8),Ie=t=>aD.test(t),Ju=t=>ql(t,hD),tF=t=>ql(t,sF),eA=t=>ql(t,lD),nF=t=>ql(t,cD),iF=t=>ql(t,uD),Bf=t=>ql(t,fD,!0),Fl=(t,e,n)=>{const r=sD.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ql=(t,e,n=!1)=>{const r=aD.exec(t);return r?r[1]?e(r[1]):n:!1},lD=t=>t==="position"||t==="percentage",uD=t=>t==="image"||t==="url",cD=t=>t==="length"||t==="size"||t==="bg-size",hD=t=>t==="length",rF=t=>t==="number",sF=t=>t==="family-name",fD=t=>t==="shadow",aF=()=>{const t=rn("color"),e=rn("font"),n=rn("text"),r=rn("font-weight"),a=rn("tracking"),l=rn("leading"),u=rn("breakpoint"),h=rn("container"),d=rn("spacing"),p=rn("radius"),y=rn("shadow"),v=rn("inset-shadow"),b=rn("text-shadow"),x=rn("drop-shadow"),M=rn("blur"),P=rn("perspective"),z=rn("aspect"),U=rn("ease"),j=rn("animate"),B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],V=()=>[...fe(),Ie,xe],Z=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],w=()=>[Ie,xe,d],D=()=>[nl,"full","auto",...w()],N=()=>[Bs,"none","subgrid",Ie,xe],O=()=>["auto",{span:["full",Bs,Ie,xe]},Bs,Ie,xe],k=()=>[Bs,"auto",Ie,xe],S=()=>["auto","min","max","fr",Ie,xe],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...w()],ie=()=>[nl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],ee=()=>[t,Ie,xe],Te=()=>[...fe(),eA,Z1,{position:[Ie,xe]}],Oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",nF,Z8,{size:[Ie,xe]}],ae=()=>[cy,Ju,qa],Q=()=>["","none","full",p,Ie,xe],K=()=>["",We,Ju,qa],X=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[We,cy,eA,Z1],me=()=>["","none",M,Ie,xe],we=()=>["none",We,Ie,xe],Ge=()=>["none",We,Ie,xe],Ne=()=>[We,Ie,xe],It=()=>[nl,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[qr],breakpoint:[qr],color:[K8],container:[qr],"drop-shadow":[qr],ease:["in","out","in-out"],font:[J8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[qr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[qr],shadow:[qr],spacing:["px",We],text:[qr],"text-shadow":[qr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",nl,xe,Ie,z]}],container:["container"],columns:[{columns:[We,xe,Ie,h]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:V()}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Bs,"auto",Ie,xe]}],basis:[{basis:[nl,"full","auto",h,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,nl,"auto","initial","none",xe]}],grow:[{grow:["",We,Ie,xe]}],shrink:[{shrink:["",We,Ie,xe]}],order:[{order:[Bs,"first","last","none",Ie,xe]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[h,"screen",...ie()]}],"min-w":[{"min-w":[h,"screen","none",...ie()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",n,Ju,qa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ie,hy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cy,xe]}],"font-family":[{font:[tF,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ie,xe]}],"line-clamp":[{"line-clamp":[We,"none",Ie,hy]}],leading:[{leading:[l,...w()]}],"list-image":[{"list-image":["none",Ie,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",Ie,qa]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[We,"auto",Ie,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Te()}],"bg-repeat":[{bg:Oe()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Bs,Ie,xe],radial:["",Ie,xe],conic:[Bs,Ie,xe]},iF,eF]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:ae()}],"gradient-via-pos":[{via:ae()}],"gradient-to-pos":[{to:ae()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...X(),"hidden","none"]}],"divide-style":[{divide:[...X(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...X(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,Ie,xe]}],"outline-w":[{outline:["",We,Ju,qa]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",y,Bf,zf]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",v,Bf,zf]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[We,qa]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",b,Bf,zf]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[We,Ie,xe]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[Ie,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":fe()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Te()}],"mask-repeat":[{mask:Oe()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,xe]}],filter:[{filter:["","none",Ie,xe]}],blur:[{blur:me()}],brightness:[{brightness:[We,Ie,xe]}],contrast:[{contrast:[We,Ie,xe]}],"drop-shadow":[{"drop-shadow":["","none",x,Bf,zf]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",We,Ie,xe]}],"hue-rotate":[{"hue-rotate":[We,Ie,xe]}],invert:[{invert:["",We,Ie,xe]}],saturate:[{saturate:[We,Ie,xe]}],sepia:[{sepia:["",We,Ie,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,xe]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[We,Ie,xe]}],"backdrop-contrast":[{"backdrop-contrast":[We,Ie,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,Ie,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,Ie,xe]}],"backdrop-invert":[{"backdrop-invert":["",We,Ie,xe]}],"backdrop-opacity":[{"backdrop-opacity":[We,Ie,xe]}],"backdrop-saturate":[{"backdrop-saturate":[We,Ie,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",We,Ie,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",Ie,xe]}],ease:[{ease:["linear","initial",U,Ie,xe]}],delay:[{delay:[We,Ie,xe]}],animate:[{animate:["none",j,Ie,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,Ie,xe]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:Ge()}],"scale-x":[{"scale-x":Ge()}],"scale-y":[{"scale-y":Ge()}],"scale-z":[{"scale-z":Ge()}],"scale-3d":["scale-3d"],skew:[{skew:Ne()}],"skew-x":[{"skew-x":Ne()}],"skew-y":[{"skew-y":Ne()}],transform:[{transform:[Ie,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:It()}],"translate-x":[{"translate-x":It()}],"translate-y":[{"translate-y":It()}],"translate-z":[{"translate-z":It()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,xe]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[We,Ju,qa,hy]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},oF=z8(aF);function tA(...t){return oF(_8(t))}const nA=({children:t,variant:e="primary",className:n,isLoading:r,disabled:a,...l})=>{const u="inline-flex items-center justify-center rounded-lg text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-white",h={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-600 shadow-sm",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus:ring-slate-500",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus:ring-slate-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-600"},d={default:"h-10 py-2 px-4"};return q.jsx(Cl.button,{whileHover:{scale:a||r?1:1.02},whileTap:{scale:a||r?1:.95},className:tA(u,h[e],d.default,n),disabled:a||r,...l,children:r?q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("img",{src:A0,alt:"Loading...",className:tA("h-5 w-auto animate-pulse",(e==="primary"||e==="danger")&&"brightness-0 invert")}),q.jsx("span",{className:"opacity-70",children:"Processing..."})]}):t})},lF=({isOpen:t,onClose:e})=>{const{currentDate:n,setDate:r,maxDate:a}=_m(),[l,u]=C.useState(new Date(n)),[h,d]=C.useState("day");C.useEffect(()=>{t&&(u(new Date(n)),d("day"))},[t,n]);const p=()=>{r(l),e()},y=new Date;y.setHours(0,0,0,0);const v=U=>U>y,b=(U,j)=>new Date(U,j+1,0).getDate(),x=(U,j)=>new Date(U,j,1).getDay(),M=()=>{const U=l.getFullYear(),j=l.getMonth(),B=b(U,j),fe=x(U,j),V=[];for(let Z=0;Z<fe;Z++)V.push(null);for(let Z=1;Z<=B;Z++)V.push(new Date(U,j,Z));return V},P=U=>{const j=new Date(l);j.setMonth(j.getMonth()+U),u(j)},z=U=>{const j=new Date(l);j.setFullYear(U),j.getMonth()!==l.getMonth()&&j.setDate(0),u(j),d("day")};return q.jsx(n_,{children:t&&q.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:q.jsxs(Cl.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-sm bg-white rounded-2xl shadow-xl overflow-hidden dark:bg-slate-900 border dark:border-slate-800",children:[q.jsxs("div",{className:"p-4 border-b dark:border-slate-800 flex items-center justify-between",children:[q.jsxs("h3",{className:"font-bold text-lg dark:text-white flex items-center gap-2",children:[q.jsx(qd,{className:"w-5 h-5 text-indigo-500"}),"Jump to Date"]}),q.jsx("button",{onClick:e,className:"p-1 hover:bg-slate-100 rounded-full dark:hover:bg-slate-800 transition-colors",children:q.jsx(s_,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"})})]}),q.jsxs("div",{className:"p-4",children:[q.jsxs("div",{className:"flex items-center justify-between mb-4",children:[q.jsx("button",{onClick:()=>P(-1),className:"p-1 hover:bg-slate-100 rounded-lg dark:hover:bg-slate-800",children:q.jsx(FB,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})}),q.jsxs("div",{className:"flex gap-2",children:[q.jsx("button",{onClick:()=>d("month"),className:"font-bold text-slate-800 hover:bg-slate-100 px-2 py-1 rounded-md transition-colors dark:text-white dark:hover:bg-slate-800",children:l.toLocaleString("default",{month:"long"})}),q.jsx("button",{onClick:()=>d("year"),className:"font-bold text-slate-800 hover:bg-slate-100 px-2 py-1 rounded-md transition-colors dark:text-white dark:hover:bg-slate-800",children:l.getFullYear()})]}),q.jsx("button",{onClick:()=>P(1),disabled:l.getMonth()===y.getMonth()&&l.getFullYear()===y.getFullYear(),className:"p-1 hover:bg-slate-100 rounded-lg dark:hover:bg-slate-800 disabled:opacity-30",children:q.jsx(fv,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),q.jsxs("div",{className:"h-64 overflow-y-auto",children:[h==="day"&&q.jsxs(q.Fragment,{children:[q.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-bold text-slate-400",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(U=>q.jsx("div",{children:U},U))}),q.jsx("div",{className:"grid grid-cols-7 gap-1",children:M().map((U,j)=>q.jsx("div",{className:"aspect-square flex items-center justify-center",children:U&&q.jsx("button",{onClick:()=>u(U),disabled:v(U),className:`
                                                                w-8 h-8 rounded-full text-sm font-medium transition-colors
                                                                ${U.getDate()===l.getDate()&&U.getMonth()===l.getMonth()?"bg-indigo-600 text-white":v(U)?"text-slate-300 dark:text-slate-700 cursor-not-allowed":"hover:bg-slate-100 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}
                                                            `,children:U.getDate()})},j))})]}),h==="month"&&q.jsx("div",{className:"grid grid-cols-3 gap-2",children:Array.from({length:12},(U,j)=>new Date(0,j)).map((U,j)=>q.jsx("button",{onClick:()=>{const B=new Date(l);B.setMonth(j),u(B),d("day")},className:`p-2 rounded-lg text-sm font-medium transition-colors ${l.getMonth()===j?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"hover:bg-slate-50 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:U.toLocaleString("default",{month:"short"})},j))}),h==="year"&&q.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:10},(U,j)=>y.getFullYear()-j).map(U=>q.jsx("button",{onClick:()=>z(U),className:`p-2 rounded-lg text-sm font-medium transition-colors ${l.getFullYear()===U?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"hover:bg-slate-50 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:U},U))})]})]}),q.jsxs("div",{className:"p-4 bg-slate-50 border-t dark:bg-slate-900 dark:border-slate-800 flex justify-end gap-2",children:[q.jsx(nA,{variant:"ghost",onClick:e,className:"dark:text-slate-400",children:"Cancel"}),q.jsx(nA,{onClick:p,children:"Jump"})]})]})})})},uF=({isOpen:t,onClose:e})=>{const{user:n}=fo(),{logout:r}=v8(),{setDate:a,formattedDate:l,maxDate:u}=_m(),h=kl(),[d,p]=C.useState(!1),y=async()=>{console.log("Logout initiated...");try{await r(),h("/login",{replace:!0})}catch(x){console.error("Logout error:",x),localStorage.clear(),window.location.hash="/login"}},v=[{icon:YB,label:"Dashboard",path:"/"},{icon:c8,label:"Daily Routine",path:"/routine"},{icon:qd,label:"History",path:"/history"},{icon:ZI,label:"Settings",path:"/settings"}],b=[{icon:m8,label:"Plan Diet",path:"/diet-plan",color:"text-orange-500",bg:"bg-orange-50"},{icon:zB,label:"Analytics",path:"/analytics",color:"text-indigo-500",bg:"bg-indigo-50"},{icon:g8,label:"Finance",path:"/finance",color:"text-emerald-500",bg:"bg-emerald-50"}];return q.jsx(n_,{children:t&&q.jsxs(q.Fragment,{children:[q.jsx(Cl.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm"}),q.jsxs(Cl.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-y-0 right-0 z-50 w-3/4 max-w-sm bg-white shadow-2xl flex flex-col dark:bg-slate-900 dark:border-l dark:border-slate-800",children:[q.jsxs("div",{className:"p-5 border-b flex items-center justify-between dark:border-slate-800",children:[q.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Menu"}),q.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full",children:q.jsx(s_,{className:"w-5 h-5 text-slate-500"})})]}),q.jsx("div",{onClick:()=>{h("/settings"),e()},className:"p-5 bg-slate-50 border-b dark:bg-slate-900 dark:border-slate-800 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold shadow-sm ring-2 ring-white dark:ring-slate-700 overflow-hidden ${n?.profileColor?`${n.profileColor} text-white`:"bg-indigo-100 text-indigo-600"}`,children:n?.photoURL?q.jsx("img",{src:n.photoURL,alt:n?.name,className:"w-full h-full object-cover"}):q.jsx("span",{className:"text-sm font-black uppercase tracking-wider !text-white",children:n?.initials||n?.name?.charAt(0)})}),q.jsxs("div",{className:"flex-1 min-w-0",children:[q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsx("p",{className:"font-bold text-slate-900 truncate dark:text-white",children:n?.name}),q.jsx(fv,{className:"w-4 h-4 text-slate-400"})]}),q.jsxs("p",{className:"text-[10px] text-slate-500 font-medium",children:["Member ID: AWK-",n?.uid?.slice(-4).toUpperCase()||"GUEST"]}),q.jsx("p",{className:"text-[10px] text-indigo-500 font-semibold",children:n?.email})]})]})}),q.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[q.jsxs("nav",{className:"space-y-1",children:[v.map(x=>q.jsxs(ld,{to:x.path,onClick:e,className:"flex items-center gap-3 px-3 py-3 rounded-xl hover:bg-slate-50 text-slate-700 font-medium transition-colors dark:text-slate-300 dark:hover:bg-slate-800",children:[q.jsx(x.icon,{className:"w-5 h-5 text-slate-400"}),x.label]},x.path)),q.jsxs("button",{onClick:()=>{p(!0)},className:"flex items-center gap-3 px-3 py-3 rounded-xl hover:bg-slate-50 text-slate-700 font-medium transition-colors w-full text-left dark:text-slate-300 dark:hover:bg-slate-800",children:[q.jsx(qd,{className:"w-5 h-5 text-slate-400"}),"Jump to Date"]}),d&&q.jsx(lF,{isOpen:d,onClose:()=>{p(!1),e()}})]}),q.jsxs("div",{children:[q.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-3",children:"Tools"}),q.jsx("div",{className:"space-y-2",children:b.map(x=>q.jsxs(ld,{to:x.path,onClick:e,className:"flex items-center justify-between p-3 rounded-xl border border-slate-100 hover:border-slate-200 hover:shadow-sm transition-all group",children:[q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${x.bg} ${x.color}`,children:q.jsx(x.icon,{className:"w-4 h-4"})}),q.jsx("span",{className:"font-medium text-slate-700",children:x.label})]}),q.jsx(fv,{className:"w-4 h-4 text-slate-300 group-hover:text-slate-500"})]},x.path))})]})]}),q.jsxs("div",{className:"p-4 border-t",children:[q.jsxs("button",{type:"button",onClick:y,className:"flex items-center gap-3 w-full px-3 py-3 rounded-xl text-red-600 hover:bg-red-50 font-medium transition-colors active:scale-95 z-[60]",children:[q.jsx(t8,{className:"w-5 h-5"}),"Sign Out"]}),q.jsx("p",{className:"text-center text-xs text-slate-300 mt-4",children:"Version 1.0.0"})]})]})]})})},cF=({children:t})=>{const{formattedDate:e}=_m(),[n,r]=C.useState(!1),a=Hi(),l=kl(),h=["/","/routine","/history","/settings"].includes(a.pathname),{isDark:d,toggleTheme:p}=ZC();return q.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 pb-24 dark:bg-slate-950 dark:text-slate-50 transition-colors",children:[q.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-slate-200 px-4 py-3 flex items-center justify-between dark:bg-slate-900/80 dark:border-slate-800 transition-colors",children:[q.jsxs("div",{className:"flex items-center gap-4",children:[q.jsx("div",{className:"flex items-center gap-2",children:q.jsx("button",{onClick:()=>l("/"),className:"focus:outline-none hover:opacity-80 transition-opacity",children:q.jsx("img",{src:A0,alt:"HUMI AWAKE",className:"h-8 w-auto object-cover dark:brightness-0 dark:invert"})})}),!h&&q.jsx("div",{className:"flex items-center gap-1 pl-2 border-l border-slate-200 dark:border-slate-800",children:q.jsx("button",{onClick:()=>l(-1),className:"p-1.5 text-slate-500 hover:bg-slate-100 rounded-full transition-colors dark:text-slate-400 dark:hover:bg-slate-800",title:"Go Back",children:q.jsx(LB,{className:"w-5 h-5"})})})]}),q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("button",{onClick:p,className:"p-2 rounded-full text-slate-500 hover:bg-slate-100 transition-colors dark:text-slate-400 dark:hover:bg-slate-800",children:d?q.jsx(s8,{className:"w-5 h-5"}):q.jsx(f8,{className:"w-5 h-5"})}),q.jsx("button",{onClick:()=>r(!0),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-full transition-colors dark:text-slate-300 dark:hover:bg-slate-800",children:q.jsx(WB,{className:"w-6 h-6"})})]})]}),q.jsxs("main",{className:"px-4 py-6 max-w-md mx-auto w-full",children:[t||q.jsx(vA,{}),q.jsx("div",{className:"text-[10px] font-black text-slate-300 dark:text-slate-700 uppercase tracking-[0.2em] text-center mt-8 mb-2 opacity-60",children:"Developed by CoolCraft"})]}),q.jsx(uF,{isOpen:n,onClose:()=>r(!1)})]})},hF=({children:t})=>{const e=kl(),n=Hi(),{isDark:r}=ZC(),[a,l]=C.useState(!1),u=y=>n.pathname===y,h=[{icon:ZB,label:"Active Tasks",path:"/workspace/tasks"},{icon:qd,label:"Calendar",path:"/workspace/calendar"},{icon:o8,label:"Overview",path:"/workspace/overview"},{icon:ZI,label:"Settings",path:"/workspace/settings"}],d=[{icon:GB,label:"Recent",color:"text-blue-500"}],p=()=>l(!a);return q.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-50 font-sans transition-colors duration-300 pb-24",children:[q.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[q.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl opacity-50 mix-blend-multiply animate-float"}),q.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl opacity-50 mix-blend-multiply animate-float",style:{animationDelay:"2s"}})]}),q.jsxs("header",{className:"sticky top-0 left-0 right-0 h-16 glass-panel z-30 px-4 flex items-center justify-between border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md",children:[q.jsxs("div",{className:"flex items-center gap-3",onClick:()=>e("/"),children:[q.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-tr from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-indigo-500/20",children:q.jsx(XB,{className:"w-5 h-5"})}),q.jsx("div",{children:q.jsx("span",{className:"block font-bold text-slate-900 dark:text-white leading-none",children:"Todo"})})]}),q.jsx("button",{onClick:p,className:"p-2.5 rounded-xl text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:q.jsx(i8,{className:"w-6 h-6"})})]}),q.jsx(n_,{children:a&&q.jsxs(q.Fragment,{children:[q.jsx(Cl.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 z-40 bg-slate-900/20 backdrop-blur-sm"}),q.jsxs(Cl.aside,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-y-0 right-0 z-50 w-80 bg-white dark:bg-slate-900 shadow-2xl flex flex-col h-full border-l border-slate-100 dark:border-slate-800",children:[q.jsxs("div",{className:"p-5 flex items-center justify-between border-b border-slate-100 dark:border-slate-800",children:[q.jsx("h2",{className:"font-bold text-lg",children:"Menu"}),q.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:q.jsx(s_,{className:"w-5 h-5 text-slate-500"})})]}),q.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[q.jsxs("section",{children:[q.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 px-2",children:"Navigation"}),q.jsx("div",{className:"space-y-1",children:h.map(y=>q.jsxs("button",{onClick:()=>{e(y.path),l(!1)},className:`w-full flex items-center justify-between px-3 py-3 rounded-xl transition-all ${u(y.path)?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 font-semibold":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx(y.icon,{className:"w-5 h-5"}),y.label]}),u(y.path)&&q.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})]},y.path))})]}),q.jsxs("section",{children:[q.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 px-2",children:"Favorites"}),d.map((y,v)=>q.jsxs("button",{onClick:()=>{y.label==="Important"&&e("/workspace/important"),y.label==="Recent"&&e("/workspace/recent"),l(!1)},className:"w-full flex items-center gap-3 px-3 py-3 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 rounded-xl transition-colors",children:[q.jsx(y.icon,{className:`w-5 h-5 ${y.color}`}),y.label]},v))]})]})]})]})}),q.jsx("main",{className:"relative z-10 px-4 py-6 max-w-lg mx-auto w-full",children:t||q.jsx(vA,{})})]})},fF=()=>{const{error:t,clearError:e}=dx();return t?q.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,background:"#ff4d4f",color:"white",padding:"12px 16px",zIndex:9999,display:"flex",justifyContent:"space-between",alignItems:"center",fontFamily:"sans-serif"},children:[q.jsx("span",{children:t.message}),q.jsx("button",{onClick:e,style:{background:"transparent",border:"1px solid white",color:"white",cursor:"pointer"},children:"Dismiss"})]}):null},dF=C.lazy(()=>hn(()=>import("./Login-oV_uZbmD.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),mF=C.lazy(()=>hn(()=>import("./Dashboard-DLsGS7zg.js"),__vite__mapDeps([9,10,11,12,13,14,6,15,16,17,2,18,19,20,21,5,22,23,24,25,1]),import.meta.url)),pF=C.lazy(()=>hn(()=>import("./Routine-BHvBrRKJ.js"),__vite__mapDeps([26,10,11,12,13,14,6,15,16,17,2,18,19,20,21,5,22,23,24,25,1]),import.meta.url)),gF=C.lazy(()=>hn(()=>import("./History-zbPMWRYD.js"),__vite__mapDeps([27,2,24,21,7,5]),import.meta.url)),yF=C.lazy(()=>hn(()=>import("./Settings-DGYk7sR8.js").then(t=>t.S),__vite__mapDeps([28,2,18,1,19,29,6,30,31,12]),import.meta.url)),vF=C.lazy(()=>hn(()=>import("./ForgotPassword-BslfeqOR.js"),__vite__mapDeps([32,1,2,3,4,5,21]),import.meta.url)),_F=C.lazy(()=>hn(()=>import("./Analytics-BTKQp5mO.js"),__vite__mapDeps([33,2,24,25,34,18]),import.meta.url)),TF=C.lazy(()=>hn(()=>import("./DietPlan-CGEtoMXV.js"),__vite__mapDeps([35,2,5,15]),import.meta.url)),bF=C.lazy(()=>hn(()=>import("./TaskDashboard-XB7Z6F2v.js"),__vite__mapDeps([36,11,12,13,14,6,15,16,17,20,37]),import.meta.url)),EF=C.lazy(()=>hn(()=>import("./WorkspaceCalendar-C9qlaODU.js"),__vite__mapDeps([38,17,16]),import.meta.url)),wF=C.lazy(()=>hn(()=>import("./WorkspaceBoard-BA0g7FwF.js"),__vite__mapDeps([39,20]),import.meta.url)),SF=C.lazy(()=>hn(()=>import("./FilteredTaskView-CxBVn2IJ.js"),__vite__mapDeps([40,11,12,13,14,6,15,16,17,23]),import.meta.url)),AF=C.lazy(()=>hn(()=>import("./Overview-BCWwWUSx.js"),__vite__mapDeps([41,24,21,34,18,37]),import.meta.url)),RF=C.lazy(()=>hn(()=>import("./FinanceDashboard-Bdft59Co.js"),__vite__mapDeps([42,30,8,4,43,14,22,24,20,16]),import.meta.url)),CF=C.lazy(()=>hn(()=>import("./DebtManager-Cu6wh7C_.js"),__vite__mapDeps([44,20,31]),import.meta.url)),xF=C.lazy(()=>hn(()=>import("./AccountDetail-B4BUMKrM.js"),__vite__mapDeps([45,46,24]),import.meta.url)),IF=C.lazy(()=>hn(()=>import("./MonthlyOverview-B2p5Z0OH.js"),__vite__mapDeps([47,25,16]),import.meta.url)),DF=C.lazy(()=>hn(()=>import("./VehicleDashboard-Db4D24v4.js"),__vite__mapDeps([48,13,29,5,46,12,6,20,30,43]),import.meta.url));function kF(){return q.jsx(RM,{children:q.jsx(u6,{children:q.jsx(c6,{children:q.jsx(h6,{children:q.jsx(d6,{children:q.jsx(E5,{children:q.jsx($5,{children:q.jsxs(W5,{children:[q.jsx(fF,{}),q.jsx(C.Suspense,{fallback:q.jsx(px,{}),children:q.jsxs(tM,{children:[q.jsx(Ot,{path:"/login",element:q.jsx(dF,{})}),q.jsx(Ot,{path:"/forgot-password",element:q.jsx(vF,{})}),q.jsxs(Ot,{element:q.jsx(NS,{children:q.jsx(cF,{})}),children:[q.jsx(Ot,{path:"/",element:q.jsx(mF,{})}),q.jsx(Ot,{path:"/routine",element:q.jsx(pF,{})}),q.jsx(Ot,{path:"/history",element:q.jsx(gF,{})}),q.jsx(Ot,{path:"/settings",element:q.jsx(yF,{})}),q.jsx(Ot,{path:"/analytics",element:q.jsx(_F,{})}),q.jsx(Ot,{path:"/diet",element:q.jsx(TF,{})}),q.jsx(Ot,{path:"/finance",element:q.jsx(RF,{})}),q.jsx(Ot,{path:"/finance/debt",element:q.jsx(CF,{})}),q.jsx(Ot,{path:"/finance/account/:id",element:q.jsx(xF,{})}),q.jsx(Ot,{path:"/finance/monthly",element:q.jsx(IF,{})}),q.jsx(Ot,{path:"/vehicle",element:q.jsx(DF,{})})]}),q.jsxs(Ot,{path:"/workspace",element:q.jsx(NS,{children:q.jsx(hF,{})}),children:[q.jsx(Ot,{index:!0,element:q.jsx(bF,{})}),q.jsx(Ot,{path:"calendar",element:q.jsx(EF,{})}),q.jsx(Ot,{path:"board",element:q.jsx(wF,{})}),q.jsx(Ot,{path:"overview",element:q.jsx(AF,{})}),q.jsx(Ot,{path:"filter/:filterType",element:q.jsx(SF,{})})]}),q.jsx(Ot,{path:"*",element:q.jsx(yA,{to:"/",replace:!0})})]})})]})})})})})})})})}class MF extends gv.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Render Crash Caught:",e,n)}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?q.jsxs("div",{style:{padding:"40px",textAlign:"center",fontFamily:"sans-serif"},children:[q.jsx("h2",{children:"Something went wrong."}),q.jsx("p",{children:"Please refresh the application."}),q.jsx("button",{onClick:this.handleReload,children:"Reload App"})]}):this.props.children}}ek.createRoot(document.getElementById("root")).render(q.jsx(gv.StrictMode,{children:q.jsx(MF,{children:q.jsx(Y5,{children:q.jsx(kF,{})})})}));export{Nd as $,n_ as A,nA as B,GB as C,v8 as D,ZC as E,px as F,Hs as G,t8 as H,Nl as I,lF as J,VF as K,ld as L,s8 as M,yA as N,FF as O,LF as P,LB as Q,gv as R,f8 as S,T5 as T,m8 as U,Hi as V,g8 as W,s_ as X,Hg as Y,$g as Z,hn as _,kd as a,dc as a0,AS as a1,SS as a2,Sl as a3,E6 as a4,Za as a5,rx as a6,qi as a7,mv as a8,pv as a9,OF as aa,Q2 as ab,Yg as ac,PF as ad,Ft as ae,KF as af,YF as ag,QF as ah,ZI as ai,K5 as aj,g6 as ak,NF as al,GF as am,sR as b,UF as c,zF as d,fo as e,A0 as f,tA as g,qF as h,$F as i,q as j,_m as k,kl as l,Cl as m,WF as n,_8 as o,ZB as p,tn as q,C as r,jF as s,G5 as t,BF as u,FB as v,fv as w,qd as x,zB as y,Ce as z};
