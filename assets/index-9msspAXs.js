const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-CPWmQyBD.js","assets/Input-CtVFuM9b.js","assets/AppCard-BD1UyFUM.js","assets/ErrorDisplay-Bku8UscT.js","assets/wifi-off-CuncZRhC.js","assets/circle-check-big-LAuxg_Ck.js","assets/circle-x-yBSa2Ww0.js","assets/Home-C1jYn4ak.js","assets/fuel-CJFsjG9T.js","assets/AddTaskModal-U-wb7eC7.js","assets/chevron-down-TRwM3OYb.js","assets/trophy-xBHI5HxL.js","assets/RamadanImageSlider-hvFQGfwS.js","assets/target-BIkWigeX.js","assets/Routine-C0hp84W9.js","assets/TaskItem-DvR0dPsp.js","assets/sun-BQlunvnj.js","assets/book-open-CJ6BBX_i.js","assets/waves-DckeWPKZ.js","assets/flame-DbTI9LYX.js","assets/bike-Dlxb_FhM.js","assets/shopping-bag-CfRJAWU5.js","assets/mail-DbGZhtgd.js","assets/wallet-B-Jnzj-V.js","assets/ItemMenu-VUnNMYsH.js","assets/eye-BqTX6Mm8.js","assets/pen-DY3Fb26x.js","assets/toggle-left-UXIPCGM9.js","assets/DeleteConfirmationModal-C3Ect0Gz.js","assets/triangle-alert-2A0dCFLU.js","assets/plus-CMsmunyR.js","assets/smartphone-D81Slruk.js","assets/salad-CkDdq_AP.js","assets/star-Bem72FV2.js","assets/trending-up-kT6XmkFT.js","assets/award-BlapaDF1.js","assets/DateHeader-DlVVXuOB.js","assets/History-DFv68kQS.js","assets/Settings-Bg220C1q.js","assets/useLogout-DdyEi2cn.js","assets/ConfirmDialog-CMCgwJdj.js","assets/monitor-8f8kIlma.js","assets/globe-D78FqA_e.js","assets/bell-Dygtp_OY.js","assets/handshake-C4G9Q7ql.js","assets/log-out-CPWz0abV.js","assets/Profile-Dl4wIFGT.js","assets/storageService-D4sI_jcd.js","assets/shield-HLcdxMSU.js","assets/save-Dy9vvheN.js","assets/square-check-big-dwW8C68g.js","assets/download-DCwt85j4.js","assets/file-text-D1hEm-Wh.js","assets/toggle-right-Bb3Hqrl1.js","assets/Profile-JOTqagGk.css","assets/ForgotPassword-BKGRrOiv.js","assets/Analytics-B6GkzptX.js","assets/CartesianChart-CZWga6yH.js","assets/trending-down-CdZPREFM.js","assets/chart-column-B0mH7TuE.js","assets/DietPlan-BPj7z-_j.js","assets/droplets-DFO5GKWj.js","assets/rotate-ccw-uF93MR3R.js","assets/TaskDashboard-CgkFZTGa.js","assets/sliders-horizontal-CJ8h67CS.js","assets/useSelection-Lbc3MKXR.js","assets/square-lZ11Ib2v.js","assets/ellipsis-CVoln8BK.js","assets/WorkspaceCalendar-KE0y9oEH.js","assets/subMonths-1p3dUHNQ.js","assets/WorkspaceBoard-D-m8PPU8.js","assets/FilteredTaskView-DezNOBYf.js","assets/Overview-LyKtOfZ6.js","assets/FinanceDashboard-YBPkhUQP.js","assets/lucide-react-DcwRLu5a.js","assets/archive-DkholNfQ.js","assets/send-CoIWtUcL.js","assets/arrow-right-left-BZqzp5zj.js","assets/wrench-Cb94Jej8.js","assets/circle-question-mark-DV2LfSbz.js","assets/minus-PclDH3AR.js","assets/navigation-DwdKz1qA.js","assets/credit-card-iuEUgePA.js","assets/hash-6M2IVL1J.js","assets/lock-open-BXtPEHre.js","assets/play-C30RTz1Z.js","assets/user-Cidhjdlr.js","assets/search-BDGJpxHy.js","assets/settings-2-BceFCv8d.js","assets/shield-alert-DOWk1i5L.js","assets/upload-BCdVV1xp.js","assets/zoom-in-B__wRO_I.js","assets/useThemeColor-07YgPz61.js","assets/FinanceBottomNav-DgxfkZ8a.js","assets/DebtManager-CYQKes1P.js","assets/PartyDetail-DE35oUF7.js","assets/html2canvas.esm-DXEQVQnt.js","assets/differenceInDays-DsnmgZM9.js","assets/AccountDetail-DSRA2JA0.js","assets/MonthlyOverview-D9qUIKoX.js","assets/FinanceSettings-CamjPYvW.js","assets/FinanceEMI-DZcf2YCT.js","assets/FinanceMore-hmVRuARe.js","assets/FinanceUpcoming-DIDyXakb.js","assets/FinanceWallets-C4cBtvgO.js","assets/PayPortal-CSDFJJGl.js","assets/VehicleDashboard-COeRcQlD.js","assets/VehicleMore-sD4Iw9I2.js","assets/RamadanDashboard-D4FFYOk8.js","assets/LocationModal-DQKHoLMT.js","assets/RamadanStats-DEDRejSd.js","assets/RamadanDhikr-Q79HQMeP.js","assets/RamadanSettings-D-oCo9jm.js"])))=>i.map(i=>d[i]);
function TP(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(s,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var UJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function u0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xy={exports:{}},zu={};var NS;function EP(){if(NS)return zu;NS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:t,type:s,key:l,ref:r!==void 0?r:null,props:o}}return zu.Fragment=e,zu.jsx=n,zu.jsxs=n,zu}var PS;function SP(){return PS||(PS=1,Xy.exports=EP()),Xy.exports}var k=SP(),Jy={exports:{}},Qe={};var LS;function AP(){if(LS)return Qe;LS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function A(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,M={};function B(z,ne,_e){this.props=z,this.context=ne,this.refs=M,this.updater=_e||I}B.prototype.isReactComponent={},B.prototype.setState=function(z,ne){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ne,"setState")},B.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function F(){}F.prototype=B.prototype;function V(z,ne,_e){this.props=z,this.context=ne,this.refs=M,this.updater=_e||I}var K=V.prototype=new F;K.constructor=V,O(K,B.prototype),K.isPureReactComponent=!0;var U=Array.isArray;function Y(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(z,ne,_e){var Te=_e.ref;return{$$typeof:t,type:z,key:ne,ref:Te!==void 0?Te:null,props:_e}}function L(z,ne){return C(z.type,ne,z.props)}function j(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function N(z){var ne={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(_e){return ne[_e]})}var R=/\/+/g;function Q(z,ne){return typeof z=="object"&&z!==null&&z.key!=null?N(""+z.key):ne.toString(36)}function q(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(Y,Y):(z.status="pending",z.then(function(ne){z.status==="pending"&&(z.status="fulfilled",z.value=ne)},function(ne){z.status==="pending"&&(z.status="rejected",z.reason=ne)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function $(z,ne,_e,Te,xe){var Ce=typeof z;(Ce==="undefined"||Ce==="boolean")&&(z=null);var $e=!1;if(z===null)$e=!0;else switch(Ce){case"bigint":case"string":case"number":$e=!0;break;case"object":switch(z.$$typeof){case t:case e:$e=!0;break;case g:return $e=z._init,$($e(z._payload),ne,_e,Te,xe)}}if($e)return xe=xe(z),$e=Te===""?"."+Q(z,0):Te,U(xe)?(_e="",$e!=null&&(_e=$e.replace(R,"$&/")+"/"),$(xe,ne,_e,"",function(wn){return wn})):xe!=null&&(j(xe)&&(xe=L(xe,_e+(xe.key==null||z&&z.key===xe.key?"":(""+xe.key).replace(R,"$&/")+"/")+$e)),ne.push(xe)),1;$e=0;var ut=Te===""?".":Te+":";if(U(z))for(var Be=0;Be<z.length;Be++)Te=z[Be],Ce=ut+Q(Te,Be),$e+=$(Te,ne,_e,Ce,xe);else if(Be=A(z),typeof Be=="function")for(z=Be.call(z),Be=0;!(Te=z.next()).done;)Te=Te.value,Ce=ut+Q(Te,Be++),$e+=$(Te,ne,_e,Ce,xe);else if(Ce==="object"){if(typeof z.then=="function")return $(q(z),ne,_e,Te,xe);throw ne=String(z),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return $e}function W(z,ne,_e){if(z==null)return z;var Te=[],xe=0;return $(z,Te,"","",function(Ce){return ne.call(_e,Ce,xe++)}),Te}function le(z){if(z._status===-1){var ne=z._result;ne=ne(),ne.then(function(_e){(z._status===0||z._status===-1)&&(z._status=1,z._result=_e)},function(_e){(z._status===0||z._status===-1)&&(z._status=2,z._result=_e)}),z._status===-1&&(z._status=0,z._result=ne)}if(z._status===1)return z._result.default;throw z._result}var ye=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ue={map:W,forEach:function(z,ne,_e){W(z,function(){ne.apply(this,arguments)},_e)},count:function(z){var ne=0;return W(z,function(){ne++}),ne},toArray:function(z){return W(z,function(ne){return ne})||[]},only:function(z){if(!j(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Qe.Activity=v,Qe.Children=ue,Qe.Component=B,Qe.Fragment=n,Qe.Profiler=r,Qe.PureComponent=V,Qe.StrictMode=s,Qe.Suspense=d,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return x.H.useMemoCache(z)}},Qe.cache=function(z){return function(){return z.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(z,ne,_e){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Te=O({},z.props),xe=z.key;if(ne!=null)for(Ce in ne.key!==void 0&&(xe=""+ne.key),ne)!S.call(ne,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ne.ref===void 0||(Te[Ce]=ne[Ce]);var Ce=arguments.length-2;if(Ce===1)Te.children=_e;else if(1<Ce){for(var $e=Array(Ce),ut=0;ut<Ce;ut++)$e[ut]=arguments[ut+2];Te.children=$e}return C(z.type,xe,Te)},Qe.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Qe.createElement=function(z,ne,_e){var Te,xe={},Ce=null;if(ne!=null)for(Te in ne.key!==void 0&&(Ce=""+ne.key),ne)S.call(ne,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(xe[Te]=ne[Te]);var $e=arguments.length-2;if($e===1)xe.children=_e;else if(1<$e){for(var ut=Array($e),Be=0;Be<$e;Be++)ut[Be]=arguments[Be+2];xe.children=ut}if(z&&z.defaultProps)for(Te in $e=z.defaultProps,$e)xe[Te]===void 0&&(xe[Te]=$e[Te]);return C(z,Ce,xe)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(z){return{$$typeof:h,render:z}},Qe.isValidElement=j,Qe.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:le}},Qe.memo=function(z,ne){return{$$typeof:f,type:z,compare:ne===void 0?null:ne}},Qe.startTransition=function(z){var ne=x.T,_e={};x.T=_e;try{var Te=z(),xe=x.S;xe!==null&&xe(_e,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(Y,ye)}catch(Ce){ye(Ce)}finally{ne!==null&&_e.types!==null&&(ne.types=_e.types),x.T=ne}},Qe.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Qe.use=function(z){return x.H.use(z)},Qe.useActionState=function(z,ne,_e){return x.H.useActionState(z,ne,_e)},Qe.useCallback=function(z,ne){return x.H.useCallback(z,ne)},Qe.useContext=function(z){return x.H.useContext(z)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(z,ne){return x.H.useDeferredValue(z,ne)},Qe.useEffect=function(z,ne){return x.H.useEffect(z,ne)},Qe.useEffectEvent=function(z){return x.H.useEffectEvent(z)},Qe.useId=function(){return x.H.useId()},Qe.useImperativeHandle=function(z,ne,_e){return x.H.useImperativeHandle(z,ne,_e)},Qe.useInsertionEffect=function(z,ne){return x.H.useInsertionEffect(z,ne)},Qe.useLayoutEffect=function(z,ne){return x.H.useLayoutEffect(z,ne)},Qe.useMemo=function(z,ne){return x.H.useMemo(z,ne)},Qe.useOptimistic=function(z,ne){return x.H.useOptimistic(z,ne)},Qe.useReducer=function(z,ne,_e){return x.H.useReducer(z,ne,_e)},Qe.useRef=function(z){return x.H.useRef(z)},Qe.useState=function(z){return x.H.useState(z)},Qe.useSyncExternalStore=function(z,ne,_e){return x.H.useSyncExternalStore(z,ne,_e)},Qe.useTransition=function(){return x.H.useTransition()},Qe.version="19.2.3",Qe}var VS;function gp(){return VS||(VS=1,Jy.exports=AP()),Jy.exports}var T=gp();const Kh=u0(T),jJ=TP({__proto__:null,default:Kh},[T]);var Zy={exports:{}},$u={},ev={exports:{}},tv={};var US;function xP(){return US||(US=1,(function(t){function e($,W){var le=$.length;$.push(W);e:for(;0<le;){var ye=le-1>>>1,ue=$[ye];if(0<r(ue,W))$[ye]=W,$[le]=ue,le=ye;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var W=$[0],le=$.pop();if(le!==W){$[0]=le;e:for(var ye=0,ue=$.length,z=ue>>>1;ye<z;){var ne=2*(ye+1)-1,_e=$[ne],Te=ne+1,xe=$[Te];if(0>r(_e,le))Te<ue&&0>r(xe,_e)?($[ye]=xe,$[Te]=le,ye=Te):($[ye]=_e,$[ne]=le,ye=ne);else if(Te<ue&&0>r(xe,le))$[ye]=xe,$[Te]=le,ye=Te;else break e}}return W}function r($,W){var le=$.sortIndex-W.sortIndex;return le!==0?le:$.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var d=[],f=[],g=1,v=null,_=3,A=!1,I=!1,O=!1,M=!1,B=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function K($){for(var W=n(f);W!==null;){if(W.callback===null)s(f);else if(W.startTime<=$)s(f),W.sortIndex=W.expirationTime,e(d,W);else break;W=n(f)}}function U($){if(O=!1,K($),!I)if(n(d)!==null)I=!0,Y||(Y=!0,N());else{var W=n(f);W!==null&&q(U,W.startTime-$)}}var Y=!1,x=-1,S=5,C=-1;function L(){return M?!0:!(t.unstable_now()-C<S)}function j(){if(M=!1,Y){var $=t.unstable_now();C=$;var W=!0;try{e:{I=!1,O&&(O=!1,F(x),x=-1),A=!0;var le=_;try{t:{for(K($),v=n(d);v!==null&&!(v.expirationTime>$&&L());){var ye=v.callback;if(typeof ye=="function"){v.callback=null,_=v.priorityLevel;var ue=ye(v.expirationTime<=$);if($=t.unstable_now(),typeof ue=="function"){v.callback=ue,K($),W=!0;break t}v===n(d)&&s(d),K($)}else s(d);v=n(d)}if(v!==null)W=!0;else{var z=n(f);z!==null&&q(U,z.startTime-$),W=!1}}break e}finally{v=null,_=le,A=!1}W=void 0}}finally{W?N():Y=!1}}}var N;if(typeof V=="function")N=function(){V(j)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Q=R.port2;R.port1.onmessage=j,N=function(){Q.postMessage(null)}}else N=function(){B(j,0)};function q($,W){x=B(function(){$(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function($){switch(_){case 1:case 2:case 3:var W=3;break;default:W=_}var le=_;_=W;try{return $()}finally{_=le}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var le=_;_=$;try{return W()}finally{_=le}},t.unstable_scheduleCallback=function($,W,le){var ye=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ye+le:ye):le=ye,$){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=le+ue,$={id:g++,callback:W,priorityLevel:$,startTime:le,expirationTime:ue,sortIndex:-1},le>ye?($.sortIndex=le,e(f,$),n(d)===null&&$===n(f)&&(O?(F(x),x=-1):O=!0,q(U,le-ye))):($.sortIndex=ue,e(d,$),I||A||(I=!0,Y||(Y=!0,N()))),$},t.unstable_shouldYield=L,t.unstable_wrapCallback=function($){var W=_;return function(){var le=_;_=W;try{return $.apply(this,arguments)}finally{_=le}}}})(tv)),tv}var jS;function CP(){return jS||(jS=1,ev.exports=xP()),ev.exports}var nv={exports:{}},qn={};var FS;function RP(){if(FS)return qn;FS=1;var t=gp();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:d,containerInfo:f,implementation:g}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,qn.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},qn.flushSync=function(d){var f=l.T,g=s.p;try{if(l.T=null,s.p=2,d)return d()}finally{l.T=f,s.p=g,s.d.f()}},qn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(d,f))},qn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},qn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,v=h(g,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,A=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?s.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:A}):g==="script"&&s.d.X(d,{crossOrigin:v,integrity:_,fetchPriority:A,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},qn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(d)},qn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,v=h(g,f.crossOrigin);s.d.L(d,g,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},qn.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=h(f.as,f.crossOrigin);s.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(d)},qn.requestFormReset=function(d){s.d.r(d)},qn.unstable_batchedUpdates=function(d,f){return d(f)},qn.useFormState=function(d,f,g){return l.H.useFormState(d,f,g)},qn.useFormStatus=function(){return l.H.useHostTransitionStatus()},qn.version="19.2.3",qn}var BS;function hR(){if(BS)return nv.exports;BS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nv.exports=RP(),nv.exports}var zS;function kP(){if(zS)return $u;zS=1;var t=CP(),e=gp(),n=hR();function s(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function l(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(s(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(s(188));return a!==i?null:i}for(var c=i,u=a;;){var p=c.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){c=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===c)return d(p),i;if(y===u)return d(p),a;y=y.sibling}throw Error(s(188))}if(c.return!==u.return)c=p,u=y;else{for(var w=!1,D=p.child;D;){if(D===c){w=!0,c=p,u=y;break}if(D===u){w=!0,u=p,c=y;break}D=D.sibling}if(!w){for(D=y.child;D;){if(D===c){w=!0,c=y,u=p;break}if(D===u){w=!0,u=y,c=p;break}D=D.sibling}if(!w)throw Error(s(189))}}if(c.alternate!==u)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),V=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function N(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function Q(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case B:return"Profiler";case M:return"StrictMode";case U:return"Suspense";case Y:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case V:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case K:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case x:return a=i.displayName||null,a!==null?a:Q(i.type)||"Memo";case S:a=i._payload,i=i._init;try{return Q(i(a))}catch{}}return null}var q=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ye=[],ue=-1;function z(i){return{current:i}}function ne(i){0>ue||(i.current=ye[ue],ye[ue]=null,ue--)}function _e(i,a){ue++,ye[ue]=i.current,i.current=a}var Te=z(null),xe=z(null),Ce=z(null),$e=z(null);function ut(i,a){switch(_e(Ce,a),_e(xe,i),_e(Te,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?sS(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=sS(a),i=iS(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(Te),_e(Te,i)}function Be(){ne(Te),ne(xe),ne(Ce)}function wn(i){i.memoizedState!==null&&_e($e,i);var a=Te.current,c=iS(a,i.type);a!==c&&(_e(xe,i),_e(Te,c))}function Rn(i){xe.current===i&&(ne(Te),ne(xe)),$e.current===i&&(ne($e),Uu._currentValue=le)}var be,pe;function ae(i){if(be===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);be=a&&a[1]||"",pe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+i+pe}var Se=!1;function je(i,a){if(!i||Se)return"";Se=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ie){var te=ie}Reflect.construct(i,[],ge)}else{try{ge.call()}catch(ie){te=ie}i.call(ge.prototype)}}else{try{throw Error()}catch(ie){te=ie}(ge=i())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],D=y[1];if(w&&D){var H=w.split(`
`),ee=D.split(`
`);for(p=u=0;u<H.length&&!H[u].includes("DetermineComponentFrameRoot");)u++;for(;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;if(u===H.length||p===ee.length)for(u=H.length-1,p=ee.length-1;1<=u&&0<=p&&H[u]!==ee[p];)p--;for(;1<=u&&0<=p;u--,p--)if(H[u]!==ee[p]){if(u!==1||p!==1)do if(u--,p--,0>p||H[u]!==ee[p]){var he=`
`+H[u].replace(" at new "," at ");return i.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",i.displayName)),he}while(1<=u&&0<=p);break}}}finally{Se=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?ae(c):""}function Ge(i,a){switch(i.tag){case 26:case 27:case 5:return ae(i.type);case 16:return ae("Lazy");case 13:return i.child!==a&&a!==null?ae("Suspense Fallback"):ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return je(i.type,!1);case 11:return je(i.type.render,!1);case 1:return je(i.type,!0);case 31:return ae("Activity");default:return""}}function pt(i){try{var a="",c=null;do a+=Ge(i,c),c=i,i=i.return;while(i);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Le=Object.prototype.hasOwnProperty,ke=t.unstable_scheduleCallback,Pt=t.unstable_cancelCallback,Zn=t.unstable_shouldYield,hi=t.unstable_requestPaint,on=t.unstable_now,di=t.unstable_getCurrentPriorityLevel,fi=t.unstable_ImmediatePriority,zs=t.unstable_UserBlockingPriority,ds=t.unstable_NormalPriority,Bt=t.unstable_LowPriority,es=t.unstable_IdlePriority,mi=t.log,pi=t.unstable_setDisableYieldValue,fs=null,ln=null;function ts(i){if(typeof mi=="function"&&pi(i),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(fs,i)}catch{}}var qt=Math.clz32?Math.clz32:oe,ce=Math.log,re=Math.LN2;function oe(i){return i>>>=0,i===0?32:31-(ce(i)/re|0)|0}var fe=256,Ie=262144,Fe=4194304;function Xe(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Et(i,a,c){var u=i.pendingLanes;if(u===0)return 0;var p=0,y=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var D=u&134217727;return D!==0?(u=D&~y,u!==0?p=Xe(u):(w&=D,w!==0?p=Xe(w):c||(c=D&~i,c!==0&&(p=Xe(c))))):(D=u&~y,D!==0?p=Xe(D):w!==0?p=Xe(w):c||(c=u&~i,c!==0&&(p=Xe(c)))),p===0?0:a!==0&&a!==p&&(a&y)===0&&(y=p&-p,c=a&-a,y>=c||y===32&&(c&4194048)!==0)?a:p}function Tn(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function lo(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(){var i=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),i}function Hn(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function $s(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function $c(i,a,c,u,p,y){var w=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var D=i.entanglements,H=i.expirationTimes,ee=i.hiddenUpdates;for(c=w&~c;0<c;){var he=31-qt(c),ge=1<<he;D[he]=0,H[he]=-1;var te=ee[he];if(te!==null)for(ee[he]=null,he=0;he<te.length;he++){var ie=te[he];ie!==null&&(ie.lane&=-536870913)}c&=~ge}u!==0&&gi(i,u,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(w&~a))}function gi(i,a,c){i.pendingLanes|=a,i.suspendedLanes&=~a;var u=31-qt(a);i.entangledLanes|=a,i.entanglements[u]=i.entanglements[u]|1073741824|c&261930}function co(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var u=31-qt(c),p=1<<u;p&a|i[u]&a&&(i[u]|=a),c&=~p}}function Hc(i,a){var c=a&-a;return c=(c&42)!==0?1:uo(c),(c&(i.suspendedLanes|a))!==0?0:c}function uo(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function mr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function gd(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:CS(i.type))}function yi(i,a){var c=W.p;try{return W.p=i,a()}finally{W.p=c}}var vi=Math.random().toString(36).slice(2),cn="__reactFiber$"+vi,kn="__reactProps$"+vi,Vi="__reactContainer$"+vi,gl="__reactEvents$"+vi,sg="__reactListeners$"+vi,yd="__reactHandles$"+vi,vd="__reactResources$"+vi,Ui="__reactMarker$"+vi;function yl(i){delete i[cn],delete i[kn],delete i[gl],delete i[sg],delete i[yd]}function ji(i){var a=i[cn];if(a)return a;for(var c=i.parentNode;c;){if(a=c[Vi]||c[cn]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=hS(i);i!==null;){if(c=i[cn])return c;i=hS(i)}return a}i=c,c=i.parentNode}return null}function Hs(i){if(i=i[cn]||i[Vi]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function xs(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(s(33))}function Fi(i){var a=i[vd];return a||(a=i[vd]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function un(i){i[Ui]=!0}var qc=new Set,Gc={};function Bi(i,a){zi(i,a),zi(i+"Capture",a)}function zi(i,a){for(Gc[i]=a,i=0;i<a.length;i++)qc.add(a[i])}var Kc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yc={},Wc={};function _d(i){return Le.call(Wc,i)?!0:Le.call(Yc,i)?!1:Kc.test(i)?Wc[i]=!0:(Yc[i]=!0,!1)}function vl(i,a,c){if(_d(a))if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+c)}}function Cs(i,a,c){if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+c)}}function hn(i,a,c,u){if(u===null)i.removeAttribute(c);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(a,c,""+u)}}function In(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Qr(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Qc(i,a,c){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return p.call(this)},set:function(w){c=""+w,y.call(this,w)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function St(i){if(!i._valueTracker){var a=Qr(i)?"checked":"value";i._valueTracker=Qc(i,a,""+i[a])}}function ho(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),u="";return i&&(u=Qr(i)?i.checked?"true":"false":i.value),i=u,i!==c?(a.setValue(i),!0):!1}function $i(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var fo=/[\n"\\]/g;function ms(i){return i.replace(fo,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function _l(i,a,c,u,p,y,w,D){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),a!=null?w==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+In(a)):i.value!==""+In(a)&&(i.value=""+In(a)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),a!=null?Xc(i,w,In(a)):c!=null?Xc(i,w,In(c)):u!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+In(D):i.removeAttribute("name")}function bd(i,a,c,u,p,y,w,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){St(i);return}c=c!=null?""+In(c):"",a=a!=null?""+In(a):c,D||a===i.value||(i.value=a),i.defaultValue=a}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=D?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),St(i)}function Xc(i,a,c){a==="number"&&$i(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Xr(i,a,c,u){if(i=i.options,a){a={};for(var p=0;p<c.length;p++)a["$"+c[p]]=!0;for(c=0;c<i.length;c++)p=a.hasOwnProperty("$"+i[c].value),i[c].selected!==p&&(i[c].selected=p),p&&u&&(i[c].defaultSelected=!0)}else{for(c=""+In(c),a=null,p=0;p<i.length;p++){if(i[p].value===c){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}a!==null||i[p].disabled||(a=i[p])}a!==null&&(a.selected=!0)}}function wd(i,a,c){if(a!=null&&(a=""+In(a),a!==i.value&&(i.value=a),c==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=c!=null?""+In(c):""}function Jr(i,a,c,u){if(a==null){if(u!=null){if(c!=null)throw Error(s(92));if(q(u)){if(1<u.length)throw Error(s(93));u=u[0]}c=u}c==null&&(c=""),a=c}c=In(a),i.defaultValue=c,u=i.textContent,u===c&&u!==""&&u!==null&&(i.value=u),St(i)}function ps(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var Td=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jc(i,a,c){var u=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?u?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":u?i.setProperty(a,c):typeof c!="number"||c===0||Td.has(a)?a==="float"?i.cssFloat=c:i[a]=(""+c).trim():i[a]=c+"px"}function Zc(i,a,c){if(a!=null&&typeof a!="object")throw Error(s(62));if(i=i.style,c!=null){for(var u in c)!c.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in a)u=a[p],a.hasOwnProperty(p)&&c[p]!==u&&Jc(i,p,u)}else for(var y in a)a.hasOwnProperty(y)&&Jc(i,y,a[y])}function bl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ed=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(i){return Zr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function _i(){}var eu=null;function qs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ea=null,Hi=null;function mo(i){var a=Hs(i);if(a&&(i=a.stateNode)){var c=i[kn]||null;e:switch(i=a.stateNode,a.type){case"input":if(_l(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ms(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var u=c[a];if(u!==i&&u.form===i.form){var p=u[kn]||null;if(!p)throw Error(s(90));_l(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<c.length;a++)u=c[a],u.form===i.form&&ho(u)}break e;case"textarea":wd(i,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&Xr(i,!!c.multiple,a,!1)}}}var Tl=!1;function ta(i,a,c){if(Tl)return i(a,c);Tl=!0;try{var u=i(a);return u}finally{if(Tl=!1,(ea!==null||Hi!==null)&&(yf(),ea&&(a=ea,i=Hi,Hi=ea=null,mo(a),i)))for(a=0;a<i.length;a++)mo(i[a])}}function bi(i,a){var c=i.stateNode;if(c===null)return null;var u=c[kn]||null;if(u===null)return null;c=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(s(231,a,typeof c));return c}var Gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=!1;if(Gs)try{var kt={};Object.defineProperty(kt,"passive",{get:function(){po=!0}}),window.addEventListener("test",kt,kt),window.removeEventListener("test",kt,kt)}catch{po=!1}var qi=null,tu=null,go=null;function nu(){if(go)return go;var i,a=tu,c=a.length,u,p="value"in qi?qi.value:qi.textContent,y=p.length;for(i=0;i<c&&a[i]===p[i];i++);var w=c-i;for(u=1;u<=w&&a[c-u]===p[y-u];u++);return go=p.slice(i,1<u?1-u:void 0)}function yo(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function pr(){return!0}function wi(){return!1}function Pn(i){function a(c,u,p,y,w){this._reactName=c,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(c=i[D],this[D]=c?c(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?pr:wi,this.isPropagationStopped=wi,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),a}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=Pn(gr),na=v({},gr,{view:0,detail:0}),su=Pn(na),sa,El,Ki,Sl=v({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ki&&(Ki&&i.type==="mousemove"?(sa=i.screenX-Ki.screenX,El=i.screenY-Ki.screenY):El=sa=0,Ki=i),sa)},movementY:function(i){return"movementY"in i?i.movementY:El}}),iu=Pn(Sl),vo=v({},Sl,{dataTransfer:0}),Sd=Pn(vo),Ad=v({},na,{relatedTarget:0}),_o=Pn(Ad),ru=v({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),xd=Pn(ru),Al=v({},gr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Cd=Pn(Al),Rd=v({},gr,{data:0}),Yi=Pn(Rd),kd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Id={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Md(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Dd[i])?!!a[i]:!1}function ia(){return Md}var ns=v({},na,{key:function(i){if(i.key){var a=kd[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=yo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Id[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(i){return i.type==="keypress"?yo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?yo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Od=Pn(ns),Nd=v({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yr=Pn(Nd),m=v({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),b=Pn(m),E=v({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),P=Pn(E),J=v({},Sl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),se=Pn(J),Ee=v({},gr,{newState:0,oldState:0}),Je=Pn(Ee),en=[9,13,27,32],bt=Gs&&"CompositionEvent"in window,zt=null;Gs&&"documentMode"in document&&(zt=document.documentMode);var Ks=Gs&&"TextEvent"in window&&!zt,Wi=Gs&&(!bt||zt&&8<zt&&11>=zt),Ti=" ",Ei=!1;function bo(i,a){switch(i){case"keyup":return en.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Cl=!1;function GO(i,a){switch(i){case"compositionend":return xl(a);case"keypress":return a.which!==32?null:(Ei=!0,Ti);case"textInput":return i=a.data,i===Ti&&Ei?null:i;default:return null}}function KO(i,a){if(Cl)return i==="compositionend"||!bt&&bo(i,a)?(i=nu(),go=tu=qi=null,Cl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Wi&&a.locale!=="ko"?null:a.data;default:return null}}var YO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mw(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!YO[i.type]:a==="textarea"}function pw(i,a,c,u){ea?Hi?Hi.push(u):Hi=[u]:ea=u,a=Sf(a,"onChange"),0<a.length&&(c=new Gi("onChange","change",null,c,u),i.push({event:c,listeners:a}))}var au=null,ou=null;function WO(i){XE(i,0)}function Pd(i){var a=xs(i);if(ho(a))return i}function gw(i,a){if(i==="change")return a}var yw=!1;if(Gs){var ig;if(Gs){var rg="oninput"in document;if(!rg){var vw=document.createElement("div");vw.setAttribute("oninput","return;"),rg=typeof vw.oninput=="function"}ig=rg}else ig=!1;yw=ig&&(!document.documentMode||9<document.documentMode)}function _w(){au&&(au.detachEvent("onpropertychange",bw),ou=au=null)}function bw(i){if(i.propertyName==="value"&&Pd(ou)){var a=[];pw(a,ou,i,qs(i)),ta(WO,a)}}function QO(i,a,c){i==="focusin"?(_w(),au=a,ou=c,au.attachEvent("onpropertychange",bw)):i==="focusout"&&_w()}function XO(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pd(ou)}function JO(i,a){if(i==="click")return Pd(a)}function ZO(i,a){if(i==="input"||i==="change")return Pd(a)}function eN(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Rs=typeof Object.is=="function"?Object.is:eN;function lu(i,a){if(Rs(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),u=Object.keys(a);if(c.length!==u.length)return!1;for(u=0;u<c.length;u++){var p=c[u];if(!Le.call(a,p)||!Rs(i[p],a[p]))return!1}return!0}function ww(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Tw(i,a){var c=ww(i);i=0;for(var u;c;){if(c.nodeType===3){if(u=i+c.textContent.length,i<=a&&u>=a)return{node:c,offset:a-i};i=u}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ww(c)}}function Ew(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Ew(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Sw(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=$i(i.document);a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=$i(i.document)}return a}function ag(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var tN=Gs&&"documentMode"in document&&11>=document.documentMode,Rl=null,og=null,cu=null,lg=!1;function Aw(i,a,c){var u=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;lg||Rl==null||Rl!==$i(u)||(u=Rl,"selectionStart"in u&&ag(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),cu&&lu(cu,u)||(cu=u,u=Sf(og,"onSelect"),0<u.length&&(a=new Gi("onSelect","select",null,a,c),i.push({event:a,listeners:u}),a.target=Rl)))}function wo(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var kl={animationend:wo("Animation","AnimationEnd"),animationiteration:wo("Animation","AnimationIteration"),animationstart:wo("Animation","AnimationStart"),transitionrun:wo("Transition","TransitionRun"),transitionstart:wo("Transition","TransitionStart"),transitioncancel:wo("Transition","TransitionCancel"),transitionend:wo("Transition","TransitionEnd")},cg={},xw={};Gs&&(xw=document.createElement("div").style,"AnimationEvent"in window||(delete kl.animationend.animation,delete kl.animationiteration.animation,delete kl.animationstart.animation),"TransitionEvent"in window||delete kl.transitionend.transition);function To(i){if(cg[i])return cg[i];if(!kl[i])return i;var a=kl[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in xw)return cg[i]=a[c];return i}var Cw=To("animationend"),Rw=To("animationiteration"),kw=To("animationstart"),nN=To("transitionrun"),sN=To("transitionstart"),iN=To("transitioncancel"),Iw=To("transitionend"),Dw=new Map,ug="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ug.push("scrollEnd");function Si(i,a){Dw.set(i,a),Bi(a,[i])}var Ld=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ys=[],Il=0,hg=0;function Vd(){for(var i=Il,a=hg=Il=0;a<i;){var c=Ys[a];Ys[a++]=null;var u=Ys[a];Ys[a++]=null;var p=Ys[a];Ys[a++]=null;var y=Ys[a];if(Ys[a++]=null,u!==null&&p!==null){var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}y!==0&&Mw(c,p,y)}}function Ud(i,a,c,u){Ys[Il++]=i,Ys[Il++]=a,Ys[Il++]=c,Ys[Il++]=u,hg|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function dg(i,a,c,u){return Ud(i,a,c,u),jd(i)}function Eo(i,a){return Ud(i,null,null,a),jd(i)}function Mw(i,a,c){i.lanes|=c;var u=i.alternate;u!==null&&(u.lanes|=c);for(var p=!1,y=i.return;y!==null;)y.childLanes|=c,u=y.alternate,u!==null&&(u.childLanes|=c),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&a!==null&&(p=31-qt(c),i=y.hiddenUpdates,u=i[p],u===null?i[p]=[a]:u.push(a),a.lane=c|536870912),y):null}function jd(i){if(50<Du)throw Du=0,wy=null,Error(s(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Dl={};function rN(i,a,c,u){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ks(i,a,c,u){return new rN(i,a,c,u)}function fg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function vr(i,a){var c=i.alternate;return c===null?(c=ks(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Ow(i,a){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,a=c.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Fd(i,a,c,u,p,y){var w=0;if(u=i,typeof i=="function")fg(i)&&(w=1);else if(typeof i=="string")w=uP(i,c,Te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=ks(31,c,a,p),i.elementType=C,i.lanes=y,i;case O:return So(c.children,p,y,a);case M:w=8,p|=24;break;case B:return i=ks(12,c,a,p|2),i.elementType=B,i.lanes=y,i;case U:return i=ks(13,c,a,p),i.elementType=U,i.lanes=y,i;case Y:return i=ks(19,c,a,p),i.elementType=Y,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:w=10;break e;case F:w=9;break e;case K:w=11;break e;case x:w=14;break e;case S:w=16,u=null;break e}w=29,c=Error(s(130,i===null?"null":typeof i,"")),u=null}return a=ks(w,c,a,p),a.elementType=i,a.type=u,a.lanes=y,a}function So(i,a,c,u){return i=ks(7,i,u,a),i.lanes=c,i}function mg(i,a,c){return i=ks(6,i,null,a),i.lanes=c,i}function Nw(i){var a=ks(18,null,null,0);return a.stateNode=i,a}function pg(i,a,c){return a=ks(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Pw=new WeakMap;function Ws(i,a){if(typeof i=="object"&&i!==null){var c=Pw.get(i);return c!==void 0?c:(a={value:i,source:a,stack:pt(a)},Pw.set(i,a),a)}return{value:i,source:a,stack:pt(a)}}var Ml=[],Ol=0,Bd=null,uu=0,Qs=[],Xs=0,ra=null,Qi=1,Xi="";function _r(i,a){Ml[Ol++]=uu,Ml[Ol++]=Bd,Bd=i,uu=a}function Lw(i,a,c){Qs[Xs++]=Qi,Qs[Xs++]=Xi,Qs[Xs++]=ra,ra=i;var u=Qi;i=Xi;var p=32-qt(u)-1;u&=~(1<<p),c+=1;var y=32-qt(a)+p;if(30<y){var w=p-p%5;y=(u&(1<<w)-1).toString(32),u>>=w,p-=w,Qi=1<<32-qt(a)+p|c<<p|u,Xi=y+i}else Qi=1<<y|c<<p|u,Xi=i}function gg(i){i.return!==null&&(_r(i,1),Lw(i,1,0))}function yg(i){for(;i===Bd;)Bd=Ml[--Ol],Ml[Ol]=null,uu=Ml[--Ol],Ml[Ol]=null;for(;i===ra;)ra=Qs[--Xs],Qs[Xs]=null,Xi=Qs[--Xs],Qs[Xs]=null,Qi=Qs[--Xs],Qs[Xs]=null}function Vw(i,a){Qs[Xs++]=Qi,Qs[Xs++]=Xi,Qs[Xs++]=ra,Qi=a.id,Xi=a.overflow,ra=i}var Ln=null,Vt=null,ht=!1,aa=null,Js=!1,vg=Error(s(519));function oa(i){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hu(Ws(a,i)),vg}function Uw(i){var a=i.stateNode,c=i.type,u=i.memoizedProps;switch(a[cn]=i,a[kn]=u,c){case"dialog":it("cancel",a),it("close",a);break;case"iframe":case"object":case"embed":it("load",a);break;case"video":case"audio":for(c=0;c<Ou.length;c++)it(Ou[c],a);break;case"source":it("error",a);break;case"img":case"image":case"link":it("error",a),it("load",a);break;case"details":it("toggle",a);break;case"input":it("invalid",a),bd(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":it("invalid",a);break;case"textarea":it("invalid",a),Jr(a,u.value,u.defaultValue,u.children)}c=u.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||u.suppressHydrationWarning===!0||tS(a.textContent,c)?(u.popover!=null&&(it("beforetoggle",a),it("toggle",a)),u.onScroll!=null&&it("scroll",a),u.onScrollEnd!=null&&it("scrollend",a),u.onClick!=null&&(a.onclick=_i),a=!0):a=!1,a||oa(i,!0)}function jw(i){for(Ln=i.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:Js=!1;return;case 27:case 3:Js=!0;return;default:Ln=Ln.return}}function Nl(i){if(i!==Ln)return!1;if(!ht)return jw(i),ht=!0,!1;var a=i.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Ly(i.type,i.memoizedProps)),c=!c),c&&Vt&&oa(i),jw(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Vt=uS(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Vt=uS(i)}else a===27?(a=Vt,wa(i.type)?(i=By,By=null,Vt=i):Vt=a):Vt=Ln?ei(i.stateNode.nextSibling):null;return!0}function Ao(){Vt=Ln=null,ht=!1}function _g(){var i=aa;return i!==null&&(_s===null?_s=i:_s.push.apply(_s,i),aa=null),i}function hu(i){aa===null?aa=[i]:aa.push(i)}var bg=z(null),xo=null,br=null;function la(i,a,c){_e(bg,a._currentValue),a._currentValue=c}function wr(i){i._currentValue=bg.current,ne(bg)}function wg(i,a,c){for(;i!==null;){var u=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),i===c)break;i=i.return}}function Tg(i,a,c,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;e:for(;y!==null;){var D=y;y=p;for(var H=0;H<a.length;H++)if(D.context===a[H]){y.lanes|=c,D=y.alternate,D!==null&&(D.lanes|=c),wg(y.return,c,i),u||(w=null);break e}y=D.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(s(341));w.lanes|=c,y=w.alternate,y!==null&&(y.lanes|=c),wg(w,c,i),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function Pl(i,a,c,u){i=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var D=p.type;Rs(p.pendingProps.value,w.value)||(i!==null?i.push(D):i=[D])}}else if(p===$e.current){if(w=p.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Uu):i=[Uu])}p=p.return}i!==null&&Tg(a,i,c,u),a.flags|=262144}function zd(i){for(i=i.firstContext;i!==null;){if(!Rs(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Co(i){xo=i,br=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Vn(i){return Fw(xo,i)}function $d(i,a){return xo===null&&Co(i),Fw(i,a)}function Fw(i,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},br===null){if(i===null)throw Error(s(308));br=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else br=br.next=a;return c}var aN=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(c,u){i.push(u)}};this.abort=function(){a.aborted=!0,i.forEach(function(c){return c()})}},oN=t.unstable_scheduleCallback,lN=t.unstable_NormalPriority,dn={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eg(){return{controller:new aN,data:new Map,refCount:0}}function du(i){i.refCount--,i.refCount===0&&oN(lN,function(){i.controller.abort()})}var fu=null,Sg=0,Ll=0,Vl=null;function cN(i,a){if(fu===null){var c=fu=[];Sg=0,Ll=Cy(),Vl={status:"pending",value:void 0,then:function(u){c.push(u)}}}return Sg++,a.then(Bw,Bw),a}function Bw(){if(--Sg===0&&fu!==null){Vl!==null&&(Vl.status="fulfilled");var i=fu;fu=null,Ll=0,Vl=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function uN(i,a){var c=[],u={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return i.then(function(){u.status="fulfilled",u.value=a;for(var p=0;p<c.length;p++)(0,c[p])(a)},function(p){for(u.status="rejected",u.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),u}var zw=$.S;$.S=function(i,a){AE=on(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&cN(i,a),zw!==null&&zw(i,a)};var Ro=z(null);function Ag(){var i=Ro.current;return i!==null?i:Nt.pooledCache}function Hd(i,a){a===null?_e(Ro,Ro.current):_e(Ro,a.pool)}function $w(){var i=Ag();return i===null?null:{parent:dn._currentValue,pool:i}}var Ul=Error(s(460)),xg=Error(s(474)),qd=Error(s(542)),Gd={then:function(){}};function Hw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qw(i,a,c){switch(c=i[c],c===void 0?i.push(a):c!==a&&(a.then(_i,_i),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Kw(i),i;default:if(typeof a.status=="string")a.then(_i,_i);else{if(i=Nt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=a,i.status="pending",i.then(function(u){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=u}},function(u){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Kw(i),i}throw Io=a,Ul}}function ko(i){try{var a=i._init;return a(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Io=c,Ul):c}}var Io=null;function Gw(){if(Io===null)throw Error(s(459));var i=Io;return Io=null,i}function Kw(i){if(i===Ul||i===qd)throw Error(s(483))}var jl=null,mu=0;function Kd(i){var a=mu;return mu+=1,jl===null&&(jl=[]),qw(jl,i,a)}function pu(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Yd(i,a){throw a.$$typeof===_?Error(s(525)):(i=Object.prototype.toString.call(a),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Yw(i){function a(X,G){if(i){var Z=X.deletions;Z===null?(X.deletions=[G],X.flags|=16):Z.push(G)}}function c(X,G){if(!i)return null;for(;G!==null;)a(X,G),G=G.sibling;return null}function u(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function p(X,G){return X=vr(X,G),X.index=0,X.sibling=null,X}function y(X,G,Z){return X.index=Z,i?(Z=X.alternate,Z!==null?(Z=Z.index,Z<G?(X.flags|=67108866,G):Z):(X.flags|=67108866,G)):(X.flags|=1048576,G)}function w(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function D(X,G,Z,de){return G===null||G.tag!==6?(G=mg(Z,X.mode,de),G.return=X,G):(G=p(G,Z),G.return=X,G)}function H(X,G,Z,de){var Ve=Z.type;return Ve===O?he(X,G,Z.props.children,de,Z.key):G!==null&&(G.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===S&&ko(Ve)===G.type)?(G=p(G,Z.props),pu(G,Z),G.return=X,G):(G=Fd(Z.type,Z.key,Z.props,null,X.mode,de),pu(G,Z),G.return=X,G)}function ee(X,G,Z,de){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=pg(Z,X.mode,de),G.return=X,G):(G=p(G,Z.children||[]),G.return=X,G)}function he(X,G,Z,de,Ve){return G===null||G.tag!==7?(G=So(Z,X.mode,de,Ve),G.return=X,G):(G=p(G,Z),G.return=X,G)}function ge(X,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=mg(""+G,X.mode,Z),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return Z=Fd(G.type,G.key,G.props,null,X.mode,Z),pu(Z,G),Z.return=X,Z;case I:return G=pg(G,X.mode,Z),G.return=X,G;case S:return G=ko(G),ge(X,G,Z)}if(q(G)||N(G))return G=So(G,X.mode,Z,null),G.return=X,G;if(typeof G.then=="function")return ge(X,Kd(G),Z);if(G.$$typeof===V)return ge(X,$d(X,G),Z);Yd(X,G)}return null}function te(X,G,Z,de){var Ve=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ve!==null?null:D(X,G,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return Z.key===Ve?H(X,G,Z,de):null;case I:return Z.key===Ve?ee(X,G,Z,de):null;case S:return Z=ko(Z),te(X,G,Z,de)}if(q(Z)||N(Z))return Ve!==null?null:he(X,G,Z,de,null);if(typeof Z.then=="function")return te(X,G,Kd(Z),de);if(Z.$$typeof===V)return te(X,G,$d(X,Z),de);Yd(X,Z)}return null}function ie(X,G,Z,de,Ve){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return X=X.get(Z)||null,D(G,X,""+de,Ve);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case A:return X=X.get(de.key===null?Z:de.key)||null,H(G,X,de,Ve);case I:return X=X.get(de.key===null?Z:de.key)||null,ee(G,X,de,Ve);case S:return de=ko(de),ie(X,G,Z,de,Ve)}if(q(de)||N(de))return X=X.get(Z)||null,he(G,X,de,Ve,null);if(typeof de.then=="function")return ie(X,G,Z,Kd(de),Ve);if(de.$$typeof===V)return ie(X,G,Z,$d(G,de),Ve);Yd(G,de)}return null}function De(X,G,Z,de){for(var Ve=null,yt=null,Pe=G,et=G=0,ot=null;Pe!==null&&et<Z.length;et++){Pe.index>et?(ot=Pe,Pe=null):ot=Pe.sibling;var vt=te(X,Pe,Z[et],de);if(vt===null){Pe===null&&(Pe=ot);break}i&&Pe&&vt.alternate===null&&a(X,Pe),G=y(vt,G,et),yt===null?Ve=vt:yt.sibling=vt,yt=vt,Pe=ot}if(et===Z.length)return c(X,Pe),ht&&_r(X,et),Ve;if(Pe===null){for(;et<Z.length;et++)Pe=ge(X,Z[et],de),Pe!==null&&(G=y(Pe,G,et),yt===null?Ve=Pe:yt.sibling=Pe,yt=Pe);return ht&&_r(X,et),Ve}for(Pe=u(Pe);et<Z.length;et++)ot=ie(Pe,X,et,Z[et],de),ot!==null&&(i&&ot.alternate!==null&&Pe.delete(ot.key===null?et:ot.key),G=y(ot,G,et),yt===null?Ve=ot:yt.sibling=ot,yt=ot);return i&&Pe.forEach(function(xa){return a(X,xa)}),ht&&_r(X,et),Ve}function ze(X,G,Z,de){if(Z==null)throw Error(s(151));for(var Ve=null,yt=null,Pe=G,et=G=0,ot=null,vt=Z.next();Pe!==null&&!vt.done;et++,vt=Z.next()){Pe.index>et?(ot=Pe,Pe=null):ot=Pe.sibling;var xa=te(X,Pe,vt.value,de);if(xa===null){Pe===null&&(Pe=ot);break}i&&Pe&&xa.alternate===null&&a(X,Pe),G=y(xa,G,et),yt===null?Ve=xa:yt.sibling=xa,yt=xa,Pe=ot}if(vt.done)return c(X,Pe),ht&&_r(X,et),Ve;if(Pe===null){for(;!vt.done;et++,vt=Z.next())vt=ge(X,vt.value,de),vt!==null&&(G=y(vt,G,et),yt===null?Ve=vt:yt.sibling=vt,yt=vt);return ht&&_r(X,et),Ve}for(Pe=u(Pe);!vt.done;et++,vt=Z.next())vt=ie(Pe,X,et,vt.value,de),vt!==null&&(i&&vt.alternate!==null&&Pe.delete(vt.key===null?et:vt.key),G=y(vt,G,et),yt===null?Ve=vt:yt.sibling=vt,yt=vt);return i&&Pe.forEach(function(wP){return a(X,wP)}),ht&&_r(X,et),Ve}function Mt(X,G,Z,de){if(typeof Z=="object"&&Z!==null&&Z.type===O&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:e:{for(var Ve=Z.key;G!==null;){if(G.key===Ve){if(Ve=Z.type,Ve===O){if(G.tag===7){c(X,G.sibling),de=p(G,Z.props.children),de.return=X,X=de;break e}}else if(G.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===S&&ko(Ve)===G.type){c(X,G.sibling),de=p(G,Z.props),pu(de,Z),de.return=X,X=de;break e}c(X,G);break}else a(X,G);G=G.sibling}Z.type===O?(de=So(Z.props.children,X.mode,de,Z.key),de.return=X,X=de):(de=Fd(Z.type,Z.key,Z.props,null,X.mode,de),pu(de,Z),de.return=X,X=de)}return w(X);case I:e:{for(Ve=Z.key;G!==null;){if(G.key===Ve)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){c(X,G.sibling),de=p(G,Z.children||[]),de.return=X,X=de;break e}else{c(X,G);break}else a(X,G);G=G.sibling}de=pg(Z,X.mode,de),de.return=X,X=de}return w(X);case S:return Z=ko(Z),Mt(X,G,Z,de)}if(q(Z))return De(X,G,Z,de);if(N(Z)){if(Ve=N(Z),typeof Ve!="function")throw Error(s(150));return Z=Ve.call(Z),ze(X,G,Z,de)}if(typeof Z.then=="function")return Mt(X,G,Kd(Z),de);if(Z.$$typeof===V)return Mt(X,G,$d(X,Z),de);Yd(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(c(X,G.sibling),de=p(G,Z),de.return=X,X=de):(c(X,G),de=mg(Z,X.mode,de),de.return=X,X=de),w(X)):c(X,G)}return function(X,G,Z,de){try{mu=0;var Ve=Mt(X,G,Z,de);return jl=null,Ve}catch(Pe){if(Pe===Ul||Pe===qd)throw Pe;var yt=ks(29,Pe,null,X.mode);return yt.lanes=de,yt.return=X,yt}}}var Do=Yw(!0),Ww=Yw(!1),ca=!1;function Cg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rg(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ua(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ha(i,a,c){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(wt&2)!==0){var p=u.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a,a=jd(i),Mw(i,null,c),a}return Ud(i,u,a,c),jd(i)}function gu(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var u=a.lanes;u&=i.pendingLanes,c|=u,a.lanes=c,co(i,c)}}function kg(i,a){var c=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,c===u)){var p=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var w={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,c=c.next}while(c!==null);y===null?p=y=a:y=y.next=a}else p=y=a;c={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}var Ig=!1;function yu(){if(Ig){var i=Vl;if(i!==null)throw i}}function vu(i,a,c,u){Ig=!1;var p=i.updateQueue;ca=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var H=D,ee=H.next;H.next=null,w===null?y=ee:w.next=ee,w=H;var he=i.alternate;he!==null&&(he=he.updateQueue,D=he.lastBaseUpdate,D!==w&&(D===null?he.firstBaseUpdate=ee:D.next=ee,he.lastBaseUpdate=H))}if(y!==null){var ge=p.baseState;w=0,he=ee=H=null,D=y;do{var te=D.lane&-536870913,ie=te!==D.lane;if(ie?(at&te)===te:(u&te)===te){te!==0&&te===Ll&&(Ig=!0),he!==null&&(he=he.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var De=i,ze=D;te=a;var Mt=c;switch(ze.tag){case 1:if(De=ze.payload,typeof De=="function"){ge=De.call(Mt,ge,te);break e}ge=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=ze.payload,te=typeof De=="function"?De.call(Mt,ge,te):De,te==null)break e;ge=v({},ge,te);break e;case 2:ca=!0}}te=D.callback,te!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=p.callbacks,ie===null?p.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:D.tag,payload:D.payload,callback:D.callback,next:null},he===null?(ee=he=ie,H=ge):he=he.next=ie,w|=te;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;ie=D,D=ie.next,ie.next=null,p.lastBaseUpdate=ie,p.shared.pending=null}}while(!0);he===null&&(H=ge),p.baseState=H,p.firstBaseUpdate=ee,p.lastBaseUpdate=he,y===null&&(p.shared.lanes=0),ga|=w,i.lanes=w,i.memoizedState=ge}}function Qw(i,a){if(typeof i!="function")throw Error(s(191,i));i.call(a)}function Xw(i,a){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)Qw(c[i],a)}var Fl=z(null),Wd=z(0);function Jw(i,a){i=Ir,_e(Wd,i),_e(Fl,a),Ir=i|a.baseLanes}function Dg(){_e(Wd,Ir),_e(Fl,Fl.current)}function Mg(){Ir=Wd.current,ne(Fl),ne(Wd)}var Is=z(null),Zs=null;function da(i){var a=i.alternate;_e(tn,tn.current&1),_e(Is,i),Zs===null&&(a===null||Fl.current!==null||a.memoizedState!==null)&&(Zs=i)}function Og(i){_e(tn,tn.current),_e(Is,i),Zs===null&&(Zs=i)}function Zw(i){i.tag===22?(_e(tn,tn.current),_e(Is,i),Zs===null&&(Zs=i)):fa()}function fa(){_e(tn,tn.current),_e(Is,Is.current)}function Ds(i){ne(Is),Zs===i&&(Zs=null),ne(tn)}var tn=z(0);function Qd(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||jy(c)||Fy(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Tr=0,Ze=null,It=null,fn=null,Xd=!1,Bl=!1,Mo=!1,Jd=0,_u=0,zl=null,hN=0;function Yt(){throw Error(s(321))}function Ng(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!Rs(i[c],a[c]))return!1;return!0}function Pg(i,a,c,u,p,y){return Tr=y,Ze=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=i===null||i.memoizedState===null?LT:Qg,Mo=!1,y=c(u,p),Mo=!1,Bl&&(y=tT(a,c,u,p)),eT(i),y}function eT(i){$.H=Tu;var a=It!==null&&It.next!==null;if(Tr=0,fn=It=Ze=null,Xd=!1,_u=0,zl=null,a)throw Error(s(300));i===null||mn||(i=i.dependencies,i!==null&&zd(i)&&(mn=!0))}function tT(i,a,c,u){Ze=i;var p=0;do{if(Bl&&(zl=null),_u=0,Bl=!1,25<=p)throw Error(s(301));if(p+=1,fn=It=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=VT,y=a(c,u)}while(Bl);return y}function dN(){var i=$.H,a=i.useState()[0];return a=typeof a.then=="function"?bu(a):a,i=i.useState()[0],(It!==null?It.memoizedState:null)!==i&&(Ze.flags|=1024),a}function Lg(){var i=Jd!==0;return Jd=0,i}function Vg(i,a,c){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~c}function Ug(i){if(Xd){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Xd=!1}Tr=0,fn=It=Ze=null,Bl=!1,_u=Jd=0,zl=null}function ss(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Ze.memoizedState=fn=i:fn=fn.next=i,fn}function nn(){if(It===null){var i=Ze.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var a=fn===null?Ze.memoizedState:fn.next;if(a!==null)fn=a,It=i;else{if(i===null)throw Ze.alternate===null?Error(s(467)):Error(s(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},fn===null?Ze.memoizedState=fn=i:fn=fn.next=i}return fn}function Zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(i){var a=_u;return _u+=1,zl===null&&(zl=[]),i=qw(zl,i,a),a=Ze,(fn===null?a.memoizedState:fn.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?LT:Qg),i}function ef(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return bu(i);if(i.$$typeof===V)return Vn(i)}throw Error(s(438,String(i)))}function jg(i){var a=null,c=Ze.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var u=Ze.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Zd(),Ze.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(i),u=0;u<i;u++)c[u]=L;return a.index++,c}function Er(i,a){return typeof a=="function"?a(i):a}function tf(i){var a=nn();return Fg(a,It,i)}function Fg(i,a,c){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=c;var p=i.baseQueue,y=u.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}a.baseQueue=p=y,u.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{a=p.next;var D=w=null,H=null,ee=a,he=!1;do{var ge=ee.lane&-536870913;if(ge!==ee.lane?(at&ge)===ge:(Tr&ge)===ge){var te=ee.revertLane;if(te===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ge===Ll&&(he=!0);else if((Tr&te)===te){ee=ee.next,te===Ll&&(he=!0);continue}else ge={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(D=H=ge,w=y):H=H.next=ge,Ze.lanes|=te,ga|=te;ge=ee.action,Mo&&c(y,ge),y=ee.hasEagerState?ee.eagerState:c(y,ge)}else te={lane:ge,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(D=H=te,w=y):H=H.next=te,Ze.lanes|=ge,ga|=ge;ee=ee.next}while(ee!==null&&ee!==a);if(H===null?w=y:H.next=D,!Rs(y,i.memoizedState)&&(mn=!0,he&&(c=Vl,c!==null)))throw c;i.memoizedState=y,i.baseState=w,i.baseQueue=H,u.lastRenderedState=y}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Bg(i){var a=nn(),c=a.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=i;var u=c.dispatch,p=c.pending,y=a.memoizedState;if(p!==null){c.pending=null;var w=p=p.next;do y=i(y,w.action),w=w.next;while(w!==p);Rs(y,a.memoizedState)||(mn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,u]}function nT(i,a,c){var u=Ze,p=nn(),y=ht;if(y){if(c===void 0)throw Error(s(407));c=c()}else c=a();var w=!Rs((It||p).memoizedState,c);if(w&&(p.memoizedState=c,mn=!0),p=p.queue,Hg(rT.bind(null,u,p,i),[i]),p.getSnapshot!==a||w||fn!==null&&fn.memoizedState.tag&1){if(u.flags|=2048,$l(9,{destroy:void 0},iT.bind(null,u,p,c,a),null),Nt===null)throw Error(s(349));y||(Tr&127)!==0||sT(u,a,c)}return c}function sT(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=Ze.updateQueue,a===null?(a=Zd(),Ze.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function iT(i,a,c,u){a.value=c,a.getSnapshot=u,aT(a)&&oT(i)}function rT(i,a,c){return c(function(){aT(a)&&oT(i)})}function aT(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!Rs(i,c)}catch{return!0}}function oT(i){var a=Eo(i,2);a!==null&&bs(a,i,2)}function zg(i){var a=ss();if(typeof i=="function"){var c=i;if(i=c(),Mo){ts(!0);try{c()}finally{ts(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:i},a}function lT(i,a,c,u){return i.baseState=c,Fg(i,It,typeof u=="function"?u:Er)}function fN(i,a,c,u,p){if(rf(i))throw Error(s(485));if(i=a.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};$.T!==null?c(!0):y.isTransition=!1,u(y),c=a.pending,c===null?(y.next=a.pending=y,cT(a,y)):(y.next=c.next,a.pending=c.next=y)}}function cT(i,a){var c=a.action,u=a.payload,p=i.state;if(a.isTransition){var y=$.T,w={};$.T=w;try{var D=c(p,u),H=$.S;H!==null&&H(w,D),uT(i,a,D)}catch(ee){$g(i,a,ee)}finally{y!==null&&w.types!==null&&(y.types=w.types),$.T=y}}else try{y=c(p,u),uT(i,a,y)}catch(ee){$g(i,a,ee)}}function uT(i,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(u){hT(i,a,u)},function(u){return $g(i,a,u)}):hT(i,a,c)}function hT(i,a,c){a.status="fulfilled",a.value=c,dT(a),i.state=c,a=i.pending,a!==null&&(c=a.next,c===a?i.pending=null:(c=c.next,a.next=c,cT(i,c)))}function $g(i,a,c){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=c,dT(a),a=a.next;while(a!==u)}i.action=null}function dT(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function fT(i,a){return a}function mT(i,a){if(ht){var c=Nt.formState;if(c!==null){e:{var u=Ze;if(ht){if(Vt){t:{for(var p=Vt,y=Js;p.nodeType!==8;){if(!y){p=null;break t}if(p=ei(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Vt=ei(p.nextSibling),u=p.data==="F!";break e}}oa(u)}u=!1}u&&(a=c[0])}}return c=ss(),c.memoizedState=c.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fT,lastRenderedState:a},c.queue=u,c=OT.bind(null,Ze,u),u.dispatch=c,u=zg(!1),y=Wg.bind(null,Ze,!1,u.queue),u=ss(),p={state:a,dispatch:null,action:i,pending:null},u.queue=p,c=fN.bind(null,Ze,p,y,c),p.dispatch=c,u.memoizedState=i,[a,c,!1]}function pT(i){var a=nn();return gT(a,It,i)}function gT(i,a,c){if(a=Fg(i,a,fT)[0],i=tf(Er)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=bu(a)}catch(w){throw w===Ul?qd:w}else u=a;a=nn();var p=a.queue,y=p.dispatch;return c!==a.memoizedState&&(Ze.flags|=2048,$l(9,{destroy:void 0},mN.bind(null,p,c),null)),[u,y,i]}function mN(i,a){i.action=a}function yT(i){var a=nn(),c=It;if(c!==null)return gT(a,c,i);nn(),a=a.memoizedState,c=nn();var u=c.queue.dispatch;return c.memoizedState=i,[a,u,!1]}function $l(i,a,c,u){return i={tag:i,create:c,deps:u,inst:a,next:null},a=Ze.updateQueue,a===null&&(a=Zd(),Ze.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=i.next=i:(u=c.next,c.next=i,i.next=u,a.lastEffect=i),i}function vT(){return nn().memoizedState}function nf(i,a,c,u){var p=ss();Ze.flags|=i,p.memoizedState=$l(1|a,{destroy:void 0},c,u===void 0?null:u)}function sf(i,a,c,u){var p=nn();u=u===void 0?null:u;var y=p.memoizedState.inst;It!==null&&u!==null&&Ng(u,It.memoizedState.deps)?p.memoizedState=$l(a,y,c,u):(Ze.flags|=i,p.memoizedState=$l(1|a,y,c,u))}function _T(i,a){nf(8390656,8,i,a)}function Hg(i,a){sf(2048,8,i,a)}function pN(i){Ze.flags|=4;var a=Ze.updateQueue;if(a===null)a=Zd(),Ze.updateQueue=a,a.events=[i];else{var c=a.events;c===null?a.events=[i]:c.push(i)}}function bT(i){var a=nn().memoizedState;return pN({ref:a,nextImpl:i}),function(){if((wt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function wT(i,a){return sf(4,2,i,a)}function TT(i,a){return sf(4,4,i,a)}function ET(i,a){if(typeof a=="function"){i=i();var c=a(i);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function ST(i,a,c){c=c!=null?c.concat([i]):null,sf(4,4,ET.bind(null,a,i),c)}function qg(){}function AT(i,a){var c=nn();a=a===void 0?null:a;var u=c.memoizedState;return a!==null&&Ng(a,u[1])?u[0]:(c.memoizedState=[i,a],i)}function xT(i,a){var c=nn();a=a===void 0?null:a;var u=c.memoizedState;if(a!==null&&Ng(a,u[1]))return u[0];if(u=i(),Mo){ts(!0);try{i()}finally{ts(!1)}}return c.memoizedState=[u,a],u}function Gg(i,a,c){return c===void 0||(Tr&1073741824)!==0&&(at&261930)===0?i.memoizedState=a:(i.memoizedState=c,i=CE(),Ze.lanes|=i,ga|=i,c)}function CT(i,a,c,u){return Rs(c,a)?c:Fl.current!==null?(i=Gg(i,c,u),Rs(i,a)||(mn=!0),i):(Tr&42)===0||(Tr&1073741824)!==0&&(at&261930)===0?(mn=!0,i.memoizedState=c):(i=CE(),Ze.lanes|=i,ga|=i,a)}function RT(i,a,c,u,p){var y=W.p;W.p=y!==0&&8>y?y:8;var w=$.T,D={};$.T=D,Wg(i,!1,a,c);try{var H=p(),ee=$.S;if(ee!==null&&ee(D,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var he=uN(H,u);wu(i,a,he,Ns(i))}else wu(i,a,u,Ns(i))}catch(ge){wu(i,a,{then:function(){},status:"rejected",reason:ge},Ns())}finally{W.p=y,w!==null&&D.types!==null&&(w.types=D.types),$.T=w}}function gN(){}function Kg(i,a,c,u){if(i.tag!==5)throw Error(s(476));var p=kT(i).queue;RT(i,p,a,le,c===null?gN:function(){return IT(i),c(u)})}function kT(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:le},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:c},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function IT(i){var a=kT(i);a.next===null&&(a=i.alternate.memoizedState),wu(i,a.next.queue,{},Ns())}function Yg(){return Vn(Uu)}function DT(){return nn().memoizedState}function MT(){return nn().memoizedState}function yN(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var c=Ns();i=ua(c);var u=ha(a,i,c);u!==null&&(bs(u,a,c),gu(u,a,c)),a={cache:Eg()},i.payload=a;return}a=a.return}}function vN(i,a,c){var u=Ns();c={lane:u,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},rf(i)?NT(a,c):(c=dg(i,a,c,u),c!==null&&(bs(c,i,u),PT(c,a,u)))}function OT(i,a,c){var u=Ns();wu(i,a,c,u)}function wu(i,a,c,u){var p={lane:u,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(rf(i))NT(a,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var w=a.lastRenderedState,D=y(w,c);if(p.hasEagerState=!0,p.eagerState=D,Rs(D,w))return Ud(i,a,p,0),Nt===null&&Vd(),!1}catch{}if(c=dg(i,a,p,u),c!==null)return bs(c,i,u),PT(c,a,u),!0}return!1}function Wg(i,a,c,u){if(u={lane:2,revertLane:Cy(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},rf(i)){if(a)throw Error(s(479))}else a=dg(i,c,u,2),a!==null&&bs(a,i,2)}function rf(i){var a=i.alternate;return i===Ze||a!==null&&a===Ze}function NT(i,a){Bl=Xd=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function PT(i,a,c){if((c&4194048)!==0){var u=a.lanes;u&=i.pendingLanes,c|=u,a.lanes=c,co(i,c)}}var Tu={readContext:Vn,use:ef,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt};Tu.useEffectEvent=Yt;var LT={readContext:Vn,use:ef,useCallback:function(i,a){return ss().memoizedState=[i,a===void 0?null:a],i},useContext:Vn,useEffect:_T,useImperativeHandle:function(i,a,c){c=c!=null?c.concat([i]):null,nf(4194308,4,ET.bind(null,a,i),c)},useLayoutEffect:function(i,a){return nf(4194308,4,i,a)},useInsertionEffect:function(i,a){nf(4,2,i,a)},useMemo:function(i,a){var c=ss();a=a===void 0?null:a;var u=i();if(Mo){ts(!0);try{i()}finally{ts(!1)}}return c.memoizedState=[u,a],u},useReducer:function(i,a,c){var u=ss();if(c!==void 0){var p=c(a);if(Mo){ts(!0);try{c(a)}finally{ts(!1)}}}else p=a;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=vN.bind(null,Ze,i),[u.memoizedState,i]},useRef:function(i){var a=ss();return i={current:i},a.memoizedState=i},useState:function(i){i=zg(i);var a=i.queue,c=OT.bind(null,Ze,a);return a.dispatch=c,[i.memoizedState,c]},useDebugValue:qg,useDeferredValue:function(i,a){var c=ss();return Gg(c,i,a)},useTransition:function(){var i=zg(!1);return i=RT.bind(null,Ze,i.queue,!0,!1),ss().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,c){var u=Ze,p=ss();if(ht){if(c===void 0)throw Error(s(407));c=c()}else{if(c=a(),Nt===null)throw Error(s(349));(at&127)!==0||sT(u,a,c)}p.memoizedState=c;var y={value:c,getSnapshot:a};return p.queue=y,_T(rT.bind(null,u,y,i),[i]),u.flags|=2048,$l(9,{destroy:void 0},iT.bind(null,u,y,c,a),null),c},useId:function(){var i=ss(),a=Nt.identifierPrefix;if(ht){var c=Xi,u=Qi;c=(u&~(1<<32-qt(u)-1)).toString(32)+c,a="_"+a+"R_"+c,c=Jd++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=hN++,a="_"+a+"r_"+c.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Yg,useFormState:mT,useActionState:mT,useOptimistic:function(i){var a=ss();a.memoizedState=a.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Wg.bind(null,Ze,!0,c),c.dispatch=a,[i,a]},useMemoCache:jg,useCacheRefresh:function(){return ss().memoizedState=yN.bind(null,Ze)},useEffectEvent:function(i){var a=ss(),c={impl:i};return a.memoizedState=c,function(){if((wt&2)!==0)throw Error(s(440));return c.impl.apply(void 0,arguments)}}},Qg={readContext:Vn,use:ef,useCallback:AT,useContext:Vn,useEffect:Hg,useImperativeHandle:ST,useInsertionEffect:wT,useLayoutEffect:TT,useMemo:xT,useReducer:tf,useRef:vT,useState:function(){return tf(Er)},useDebugValue:qg,useDeferredValue:function(i,a){var c=nn();return CT(c,It.memoizedState,i,a)},useTransition:function(){var i=tf(Er)[0],a=nn().memoizedState;return[typeof i=="boolean"?i:bu(i),a]},useSyncExternalStore:nT,useId:DT,useHostTransitionStatus:Yg,useFormState:pT,useActionState:pT,useOptimistic:function(i,a){var c=nn();return lT(c,It,i,a)},useMemoCache:jg,useCacheRefresh:MT};Qg.useEffectEvent=bT;var VT={readContext:Vn,use:ef,useCallback:AT,useContext:Vn,useEffect:Hg,useImperativeHandle:ST,useInsertionEffect:wT,useLayoutEffect:TT,useMemo:xT,useReducer:Bg,useRef:vT,useState:function(){return Bg(Er)},useDebugValue:qg,useDeferredValue:function(i,a){var c=nn();return It===null?Gg(c,i,a):CT(c,It.memoizedState,i,a)},useTransition:function(){var i=Bg(Er)[0],a=nn().memoizedState;return[typeof i=="boolean"?i:bu(i),a]},useSyncExternalStore:nT,useId:DT,useHostTransitionStatus:Yg,useFormState:yT,useActionState:yT,useOptimistic:function(i,a){var c=nn();return It!==null?lT(c,It,i,a):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:jg,useCacheRefresh:MT};VT.useEffectEvent=bT;function Xg(i,a,c,u){a=i.memoizedState,c=c(u,a),c=c==null?a:v({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Jg={enqueueSetState:function(i,a,c){i=i._reactInternals;var u=Ns(),p=ua(u);p.payload=a,c!=null&&(p.callback=c),a=ha(i,p,u),a!==null&&(bs(a,i,u),gu(a,i,u))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var u=Ns(),p=ua(u);p.tag=1,p.payload=a,c!=null&&(p.callback=c),a=ha(i,p,u),a!==null&&(bs(a,i,u),gu(a,i,u))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=Ns(),u=ua(c);u.tag=2,a!=null&&(u.callback=a),a=ha(i,u,c),a!==null&&(bs(a,i,c),gu(a,i,c))}};function UT(i,a,c,u,p,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,w):a.prototype&&a.prototype.isPureReactComponent?!lu(c,u)||!lu(p,y):!0}function jT(i,a,c,u){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,u),a.state!==i&&Jg.enqueueReplaceState(a,a.state,null)}function Oo(i,a){var c=a;if("ref"in a){c={};for(var u in a)u!=="ref"&&(c[u]=a[u])}if(i=i.defaultProps){c===a&&(c=v({},c));for(var p in i)c[p]===void 0&&(c[p]=i[p])}return c}function FT(i){Ld(i)}function BT(i){console.error(i)}function zT(i){Ld(i)}function af(i,a){try{var c=i.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function $T(i,a,c){try{var u=i.onCaughtError;u(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Zg(i,a,c){return c=ua(c),c.tag=3,c.payload={element:null},c.callback=function(){af(i,a)},c}function HT(i){return i=ua(i),i.tag=3,i}function qT(i,a,c,u){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;i.payload=function(){return p(y)},i.callback=function(){$T(a,c,u)}}var w=c.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){$T(a,c,u),typeof p!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})})}function _N(i,a,c,u,p){if(c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=c.alternate,a!==null&&Pl(a,c,p,!0),c=Is.current,c!==null){switch(c.tag){case 31:case 13:return Zs===null?vf():c.alternate===null&&Wt===0&&(Wt=3),c.flags&=-257,c.flags|=65536,c.lanes=p,u===Gd?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([u]):a.add(u),Sy(i,u,p)),!1;case 22:return c.flags|=65536,u===Gd?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([u]):c.add(u)),Sy(i,u,p)),!1}throw Error(s(435,c.tag))}return Sy(i,u,p),vf(),!1}if(ht)return a=Is.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,u!==vg&&(i=Error(s(422),{cause:u}),hu(Ws(i,c)))):(u!==vg&&(a=Error(s(423),{cause:u}),hu(Ws(a,c))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=Ws(u,c),p=Zg(i.stateNode,u,p),kg(i,p),Wt!==4&&(Wt=2)),!1;var y=Error(s(520),{cause:u});if(y=Ws(y,c),Iu===null?Iu=[y]:Iu.push(y),Wt!==4&&(Wt=2),a===null)return!0;u=Ws(u,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,i=p&-p,c.lanes|=i,i=Zg(c.stateNode,u,i),kg(c,i),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ya===null||!ya.has(y))))return c.flags|=65536,p&=-p,c.lanes|=p,p=HT(p),qT(p,i,c,u),kg(c,p),!1}c=c.return}while(c!==null);return!1}var ey=Error(s(461)),mn=!1;function Un(i,a,c,u){a.child=i===null?Ww(a,null,c,u):Do(a,i.child,c,u)}function GT(i,a,c,u,p){c=c.render;var y=a.ref;if("ref"in u){var w={};for(var D in u)D!=="ref"&&(w[D]=u[D])}else w=u;return Co(a),u=Pg(i,a,c,w,y,p),D=Lg(),i!==null&&!mn?(Vg(i,a,p),Sr(i,a,p)):(ht&&D&&gg(a),a.flags|=1,Un(i,a,u,p),a.child)}function KT(i,a,c,u,p){if(i===null){var y=c.type;return typeof y=="function"&&!fg(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,YT(i,a,y,u,p)):(i=Fd(c.type,null,u,a,a.mode,p),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!ly(i,p)){var w=y.memoizedProps;if(c=c.compare,c=c!==null?c:lu,c(w,u)&&i.ref===a.ref)return Sr(i,a,p)}return a.flags|=1,i=vr(y,u),i.ref=a.ref,i.return=a,a.child=i}function YT(i,a,c,u,p){if(i!==null){var y=i.memoizedProps;if(lu(y,u)&&i.ref===a.ref)if(mn=!1,a.pendingProps=u=y,ly(i,p))(i.flags&131072)!==0&&(mn=!0);else return a.lanes=i.lanes,Sr(i,a,p)}return ty(i,a,c,u,p)}function WT(i,a,c,u){var p=u.children,y=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,i!==null){for(u=a.child=i.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,a.child=null;return QT(i,a,y,c,u)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hd(a,y!==null?y.cachePool:null),y!==null?Jw(a,y):Dg(),Zw(a);else return u=a.lanes=536870912,QT(i,a,y!==null?y.baseLanes|c:c,c,u)}else y!==null?(Hd(a,y.cachePool),Jw(a,y),fa(),a.memoizedState=null):(i!==null&&Hd(a,null),Dg(),fa());return Un(i,a,p,c),a.child}function Eu(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function QT(i,a,c,u,p){var y=Ag();return y=y===null?null:{parent:dn._currentValue,pool:y},a.memoizedState={baseLanes:c,cachePool:y},i!==null&&Hd(a,null),Dg(),Zw(a),i!==null&&Pl(i,a,u,!0),a.childLanes=p,null}function of(i,a){return a=cf({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function XT(i,a,c){return Do(a,i.child,null,c),i=of(a,a.pendingProps),i.flags|=2,Ds(a),a.memoizedState=null,i}function bN(i,a,c){var u=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(ht){if(u.mode==="hidden")return i=of(a,u),a.lanes=536870912,Eu(null,i);if(Og(a),(i=Vt)?(i=cS(i,Js),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:ra!==null?{id:Qi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},c=Nw(i),c.return=a,a.child=c,Ln=a,Vt=null)):i=null,i===null)throw oa(a);return a.lanes=536870912,null}return of(a,u)}var y=i.memoizedState;if(y!==null){var w=y.dehydrated;if(Og(a),p)if(a.flags&256)a.flags&=-257,a=XT(i,a,c);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(s(558));else if(mn||Pl(i,a,c,!1),p=(c&i.childLanes)!==0,mn||p){if(u=Nt,u!==null&&(w=Hc(u,c),w!==0&&w!==y.retryLane))throw y.retryLane=w,Eo(i,w),bs(u,i,w),ey;vf(),a=XT(i,a,c)}else i=y.treeContext,Vt=ei(w.nextSibling),Ln=a,ht=!0,aa=null,Js=!1,i!==null&&Vw(a,i),a=of(a,u),a.flags|=4096;return a}return i=vr(i.child,{mode:u.mode,children:u.children}),i.ref=a.ref,a.child=i,i.return=a,i}function lf(i,a){var c=a.ref;if(c===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(i===null||i.ref!==c)&&(a.flags|=4194816)}}function ty(i,a,c,u,p){return Co(a),c=Pg(i,a,c,u,void 0,p),u=Lg(),i!==null&&!mn?(Vg(i,a,p),Sr(i,a,p)):(ht&&u&&gg(a),a.flags|=1,Un(i,a,c,p),a.child)}function JT(i,a,c,u,p,y){return Co(a),a.updateQueue=null,c=tT(a,u,c,p),eT(i),u=Lg(),i!==null&&!mn?(Vg(i,a,y),Sr(i,a,y)):(ht&&u&&gg(a),a.flags|=1,Un(i,a,c,y),a.child)}function ZT(i,a,c,u,p){if(Co(a),a.stateNode===null){var y=Dl,w=c.contextType;typeof w=="object"&&w!==null&&(y=Vn(w)),y=new c(u,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Jg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=u,y.state=a.memoizedState,y.refs={},Cg(a),w=c.contextType,y.context=typeof w=="object"&&w!==null?Vn(w):Dl,y.state=a.memoizedState,w=c.getDerivedStateFromProps,typeof w=="function"&&(Xg(a,c,w,u),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Jg.enqueueReplaceState(y,y.state,null),vu(a,u,y,p),yu(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(i===null){y=a.stateNode;var D=a.memoizedProps,H=Oo(c,D);y.props=H;var ee=y.context,he=c.contextType;w=Dl,typeof he=="object"&&he!==null&&(w=Vn(he));var ge=c.getDerivedStateFromProps;he=typeof ge=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,he||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||ee!==w)&&jT(a,y,u,w),ca=!1;var te=a.memoizedState;y.state=te,vu(a,u,y,p),yu(),ee=a.memoizedState,D||te!==ee||ca?(typeof ge=="function"&&(Xg(a,c,ge,u),ee=a.memoizedState),(H=ca||UT(a,c,H,u,te,ee,w))?(he||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=ee),y.props=u,y.state=ee,y.context=w,u=H):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{y=a.stateNode,Rg(i,a),w=a.memoizedProps,he=Oo(c,w),y.props=he,ge=a.pendingProps,te=y.context,ee=c.contextType,H=Dl,typeof ee=="object"&&ee!==null&&(H=Vn(ee)),D=c.getDerivedStateFromProps,(ee=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==ge||te!==H)&&jT(a,y,u,H),ca=!1,te=a.memoizedState,y.state=te,vu(a,u,y,p),yu();var ie=a.memoizedState;w!==ge||te!==ie||ca||i!==null&&i.dependencies!==null&&zd(i.dependencies)?(typeof D=="function"&&(Xg(a,c,D,u),ie=a.memoizedState),(he=ca||UT(a,c,he,u,te,ie,H)||i!==null&&i.dependencies!==null&&zd(i.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ie,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ie,H)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&te===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&te===i.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=ie),y.props=u,y.state=ie,y.context=H,u=he):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&te===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&te===i.memoizedState||(a.flags|=1024),u=!1)}return y=u,lf(i,a),u=(a.flags&128)!==0,y||u?(y=a.stateNode,c=u&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&u?(a.child=Do(a,i.child,null,p),a.child=Do(a,null,c,p)):Un(i,a,c,p),a.memoizedState=y.state,i=a.child):i=Sr(i,a,p),i}function eE(i,a,c,u){return Ao(),a.flags|=256,Un(i,a,c,u),a.child}var ny={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sy(i){return{baseLanes:i,cachePool:$w()}}function iy(i,a,c){return i=i!==null?i.childLanes&~c:0,a&&(i|=Os),i}function tE(i,a,c){var u=a.pendingProps,p=!1,y=(a.flags&128)!==0,w;if((w=y)||(w=i!==null&&i.memoizedState===null?!1:(tn.current&2)!==0),w&&(p=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,i===null){if(ht){if(p?da(a):fa(),(i=Vt)?(i=cS(i,Js),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:ra!==null?{id:Qi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},c=Nw(i),c.return=a,a.child=c,Ln=a,Vt=null)):i=null,i===null)throw oa(a);return Fy(i)?a.lanes=32:a.lanes=536870912,null}var D=u.children;return u=u.fallback,p?(fa(),p=a.mode,D=cf({mode:"hidden",children:D},p),u=So(u,p,c,null),D.return=a,u.return=a,D.sibling=u,a.child=D,u=a.child,u.memoizedState=sy(c),u.childLanes=iy(i,w,c),a.memoizedState=ny,Eu(null,u)):(da(a),ry(a,D))}var H=i.memoizedState;if(H!==null&&(D=H.dehydrated,D!==null)){if(y)a.flags&256?(da(a),a.flags&=-257,a=ay(i,a,c)):a.memoizedState!==null?(fa(),a.child=i.child,a.flags|=128,a=null):(fa(),D=u.fallback,p=a.mode,u=cf({mode:"visible",children:u.children},p),D=So(D,p,c,null),D.flags|=2,u.return=a,D.return=a,u.sibling=D,a.child=u,Do(a,i.child,null,c),u=a.child,u.memoizedState=sy(c),u.childLanes=iy(i,w,c),a.memoizedState=ny,a=Eu(null,u));else if(da(a),Fy(D)){if(w=D.nextSibling&&D.nextSibling.dataset,w)var ee=w.dgst;w=ee,u=Error(s(419)),u.stack="",u.digest=w,hu({value:u,source:null,stack:null}),a=ay(i,a,c)}else if(mn||Pl(i,a,c,!1),w=(c&i.childLanes)!==0,mn||w){if(w=Nt,w!==null&&(u=Hc(w,c),u!==0&&u!==H.retryLane))throw H.retryLane=u,Eo(i,u),bs(w,i,u),ey;jy(D)||vf(),a=ay(i,a,c)}else jy(D)?(a.flags|=192,a.child=i.child,a=null):(i=H.treeContext,Vt=ei(D.nextSibling),Ln=a,ht=!0,aa=null,Js=!1,i!==null&&Vw(a,i),a=ry(a,u.children),a.flags|=4096);return a}return p?(fa(),D=u.fallback,p=a.mode,H=i.child,ee=H.sibling,u=vr(H,{mode:"hidden",children:u.children}),u.subtreeFlags=H.subtreeFlags&65011712,ee!==null?D=vr(ee,D):(D=So(D,p,c,null),D.flags|=2),D.return=a,u.return=a,u.sibling=D,a.child=u,Eu(null,u),u=a.child,D=i.child.memoizedState,D===null?D=sy(c):(p=D.cachePool,p!==null?(H=dn._currentValue,p=p.parent!==H?{parent:H,pool:H}:p):p=$w(),D={baseLanes:D.baseLanes|c,cachePool:p}),u.memoizedState=D,u.childLanes=iy(i,w,c),a.memoizedState=ny,Eu(i.child,u)):(da(a),c=i.child,i=c.sibling,c=vr(c,{mode:"visible",children:u.children}),c.return=a,c.sibling=null,i!==null&&(w=a.deletions,w===null?(a.deletions=[i],a.flags|=16):w.push(i)),a.child=c,a.memoizedState=null,c)}function ry(i,a){return a=cf({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function cf(i,a){return i=ks(22,i,null,a),i.lanes=0,i}function ay(i,a,c){return Do(a,i.child,null,c),i=ry(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function nE(i,a,c){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a),wg(i.return,a,c)}function oy(i,a,c,u,p,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:c,tailMode:p,treeForkCount:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=c,w.tailMode=p,w.treeForkCount=y)}function sE(i,a,c){var u=a.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var w=tn.current,D=(w&2)!==0;if(D?(w=w&1|2,a.flags|=128):w&=1,_e(tn,w),Un(i,a,u,c),u=ht?uu:0,!D&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&nE(i,c,a);else if(i.tag===19)nE(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(c=a.child,p=null;c!==null;)i=c.alternate,i!==null&&Qd(i)===null&&(p=c),c=c.sibling;c=p,c===null?(p=a.child,a.child=null):(p=c.sibling,c.sibling=null),oy(a,!1,p,c,y,u);break;case"backwards":case"unstable_legacy-backwards":for(c=null,p=a.child,a.child=null;p!==null;){if(i=p.alternate,i!==null&&Qd(i)===null){a.child=p;break}i=p.sibling,p.sibling=c,c=p,p=i}oy(a,!0,c,null,y,u);break;case"together":oy(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function Sr(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),ga|=a.lanes,(c&a.childLanes)===0)if(i!==null){if(Pl(i,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(s(153));if(a.child!==null){for(i=a.child,c=vr(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=vr(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function ly(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&zd(i)))}function wN(i,a,c){switch(a.tag){case 3:ut(a,a.stateNode.containerInfo),la(a,dn,i.memoizedState.cache),Ao();break;case 27:case 5:wn(a);break;case 4:ut(a,a.stateNode.containerInfo);break;case 10:la(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Og(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(da(a),a.flags|=128,null):(c&a.child.childLanes)!==0?tE(i,a,c):(da(a),i=Sr(i,a,c),i!==null?i.sibling:null);da(a);break;case 19:var p=(i.flags&128)!==0;if(u=(c&a.childLanes)!==0,u||(Pl(i,a,c,!1),u=(c&a.childLanes)!==0),p){if(u)return sE(i,a,c);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),_e(tn,tn.current),u)break;return null;case 22:return a.lanes=0,WT(i,a,c,a.pendingProps);case 24:la(a,dn,i.memoizedState.cache)}return Sr(i,a,c)}function iE(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps)mn=!0;else{if(!ly(i,c)&&(a.flags&128)===0)return mn=!1,wN(i,a,c);mn=(i.flags&131072)!==0}else mn=!1,ht&&(a.flags&1048576)!==0&&Lw(a,uu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(i=ko(a.elementType),a.type=i,typeof i=="function")fg(i)?(u=Oo(i,u),a.tag=1,a=ZT(null,a,i,u,c)):(a.tag=0,a=ty(null,a,i,u,c));else{if(i!=null){var p=i.$$typeof;if(p===K){a.tag=11,a=GT(null,a,i,u,c);break e}else if(p===x){a.tag=14,a=KT(null,a,i,u,c);break e}}throw a=Q(i)||i,Error(s(306,a,""))}}return a;case 0:return ty(i,a,a.type,a.pendingProps,c);case 1:return u=a.type,p=Oo(u,a.pendingProps),ZT(i,a,u,p,c);case 3:e:{if(ut(a,a.stateNode.containerInfo),i===null)throw Error(s(387));u=a.pendingProps;var y=a.memoizedState;p=y.element,Rg(i,a),vu(a,u,null,c);var w=a.memoizedState;if(u=w.cache,la(a,dn,u),u!==y.cache&&Tg(a,[dn],c,!0),yu(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=eE(i,a,u,c);break e}else if(u!==p){p=Ws(Error(s(424)),a),hu(p),a=eE(i,a,u,c);break e}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Vt=ei(i.firstChild),Ln=a,ht=!0,aa=null,Js=!0,c=Ww(a,null,u,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ao(),u===p){a=Sr(i,a,c);break e}Un(i,a,u,c)}a=a.child}return a;case 26:return lf(i,a),i===null?(c=pS(a.type,null,a.pendingProps,null))?a.memoizedState=c:ht||(c=a.type,i=a.pendingProps,u=Af(Ce.current).createElement(c),u[cn]=a,u[kn]=i,jn(u,c,i),un(u),a.stateNode=u):a.memoizedState=pS(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return wn(a),i===null&&ht&&(u=a.stateNode=dS(a.type,a.pendingProps,Ce.current),Ln=a,Js=!0,p=Vt,wa(a.type)?(By=p,Vt=ei(u.firstChild)):Vt=p),Un(i,a,a.pendingProps.children,c),lf(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&ht&&((p=u=Vt)&&(u=XN(u,a.type,a.pendingProps,Js),u!==null?(a.stateNode=u,Ln=a,Vt=ei(u.firstChild),Js=!1,p=!0):p=!1),p||oa(a)),wn(a),p=a.type,y=a.pendingProps,w=i!==null?i.memoizedProps:null,u=y.children,Ly(p,y)?u=null:w!==null&&Ly(p,w)&&(a.flags|=32),a.memoizedState!==null&&(p=Pg(i,a,dN,null,null,c),Uu._currentValue=p),lf(i,a),Un(i,a,u,c),a.child;case 6:return i===null&&ht&&((i=c=Vt)&&(c=JN(c,a.pendingProps,Js),c!==null?(a.stateNode=c,Ln=a,Vt=null,i=!0):i=!1),i||oa(a)),null;case 13:return tE(i,a,c);case 4:return ut(a,a.stateNode.containerInfo),u=a.pendingProps,i===null?a.child=Do(a,null,u,c):Un(i,a,u,c),a.child;case 11:return GT(i,a,a.type,a.pendingProps,c);case 7:return Un(i,a,a.pendingProps,c),a.child;case 8:return Un(i,a,a.pendingProps.children,c),a.child;case 12:return Un(i,a,a.pendingProps.children,c),a.child;case 10:return u=a.pendingProps,la(a,a.type,u.value),Un(i,a,u.children,c),a.child;case 9:return p=a.type._context,u=a.pendingProps.children,Co(a),p=Vn(p),u=u(p),a.flags|=1,Un(i,a,u,c),a.child;case 14:return KT(i,a,a.type,a.pendingProps,c);case 15:return YT(i,a,a.type,a.pendingProps,c);case 19:return sE(i,a,c);case 31:return bN(i,a,c);case 22:return WT(i,a,c,a.pendingProps);case 24:return Co(a),u=Vn(dn),i===null?(p=Ag(),p===null&&(p=Nt,y=Eg(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=c),p=y),a.memoizedState={parent:u,cache:p},Cg(a),la(a,dn,p)):((i.lanes&c)!==0&&(Rg(i,a),vu(a,null,null,c),yu()),p=i.memoizedState,y=a.memoizedState,p.parent!==u?(p={parent:u,cache:u},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),la(a,dn,u)):(u=y.cache,la(a,dn,u),u!==p.cache&&Tg(a,[dn],c,!0))),Un(i,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Ar(i){i.flags|=4}function cy(i,a,c,u,p){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(DE())i.flags|=8192;else throw Io=Gd,xg}else i.flags&=-16777217}function rE(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!bS(a))if(DE())i.flags|=8192;else throw Io=Gd,xg}function uf(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?gt():536870912,i.lanes|=a,Kl|=a)}function Su(i,a){if(!ht)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var u=null;c!==null;)c.alternate!==null&&(u=c),c=c.sibling;u===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Ut(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,u=0;if(a)for(var p=i.child;p!==null;)c|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)c|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=c,a}function TN(i,a,c){var u=a.pendingProps;switch(yg(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(a),null;case 1:return Ut(a),null;case 3:return c=a.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),wr(dn),Be(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Nl(a)?Ar(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_g())),Ut(a),null;case 26:var p=a.type,y=a.memoizedState;return i===null?(Ar(a),y!==null?(Ut(a),rE(a,y)):(Ut(a),cy(a,p,null,u,c))):y?y!==i.memoizedState?(Ar(a),Ut(a),rE(a,y)):(Ut(a),a.flags&=-16777217):(i=i.memoizedProps,i!==u&&Ar(a),Ut(a),cy(a,p,i,u,c)),null;case 27:if(Rn(a),c=Ce.current,p=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&Ar(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return Ut(a),null}i=Te.current,Nl(a)?Uw(a):(i=dS(p,u,c),a.stateNode=i,Ar(a))}return Ut(a),null;case 5:if(Rn(a),p=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&Ar(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return Ut(a),null}if(y=Te.current,Nl(a))Uw(a);else{var w=Af(Ce.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?w.createElement(p,{is:u.is}):w.createElement(p)}}y[cn]=a,y[kn]=u;e:for(w=a.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===a)break e;for(;w.sibling===null;){if(w.return===null||w.return===a)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}a.stateNode=y;e:switch(jn(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ar(a)}}return Ut(a),cy(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,c),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==u&&Ar(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(s(166));if(i=Ce.current,Nl(a)){if(i=a.stateNode,c=a.memoizedProps,u=null,p=Ln,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[cn]=a,i=!!(i.nodeValue===c||u!==null&&u.suppressHydrationWarning===!0||tS(i.nodeValue,c)),i||oa(a,!0)}else i=Af(i).createTextNode(u),i[cn]=a,a.stateNode=i}return Ut(a),null;case 31:if(c=a.memoizedState,i===null||i.memoizedState!==null){if(u=Nl(a),c!==null){if(i===null){if(!u)throw Error(s(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[cn]=a}else Ao(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ut(a),i=!1}else c=_g(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return a.flags&256?(Ds(a),a):(Ds(a),null);if((a.flags&128)!==0)throw Error(s(558))}return Ut(a),null;case 13:if(u=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Nl(a),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[cn]=a}else Ao(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ut(a),p=!1}else p=_g(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Ds(a),a):(Ds(a),null)}return Ds(a),(a.flags&128)!==0?(a.lanes=c,a):(c=u!==null,i=i!==null&&i.memoizedState!==null,c&&(u=a.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),c!==i&&c&&(a.child.flags|=8192),uf(a,a.updateQueue),Ut(a),null);case 4:return Be(),i===null&&Dy(a.stateNode.containerInfo),Ut(a),null;case 10:return wr(a.type),Ut(a),null;case 19:if(ne(tn),u=a.memoizedState,u===null)return Ut(a),null;if(p=(a.flags&128)!==0,y=u.rendering,y===null)if(p)Su(u,!1);else{if(Wt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=Qd(i),y!==null){for(a.flags|=128,Su(u,!1),i=y.updateQueue,a.updateQueue=i,uf(a,i),a.subtreeFlags=0,i=c,c=a.child;c!==null;)Ow(c,i),c=c.sibling;return _e(tn,tn.current&1|2),ht&&_r(a,u.treeForkCount),a.child}i=i.sibling}u.tail!==null&&on()>pf&&(a.flags|=128,p=!0,Su(u,!1),a.lanes=4194304)}else{if(!p)if(i=Qd(y),i!==null){if(a.flags|=128,p=!0,i=i.updateQueue,a.updateQueue=i,uf(a,i),Su(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!ht)return Ut(a),null}else 2*on()-u.renderingStartTime>pf&&c!==536870912&&(a.flags|=128,p=!0,Su(u,!1),a.lanes=4194304);u.isBackwards?(y.sibling=a.child,a.child=y):(i=u.last,i!==null?i.sibling=y:a.child=y,u.last=y)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=on(),i.sibling=null,c=tn.current,_e(tn,p?c&1|2:c&1),ht&&_r(a,u.treeForkCount),i):(Ut(a),null);case 22:case 23:return Ds(a),Mg(),u=a.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(c&536870912)!==0&&(a.flags&128)===0&&(Ut(a),a.subtreeFlags&6&&(a.flags|=8192)):Ut(a),c=a.updateQueue,c!==null&&uf(a,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==c&&(a.flags|=2048),i!==null&&ne(Ro),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),wr(dn),Ut(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function EN(i,a){switch(yg(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return wr(dn),Be(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Rn(a),null;case 31:if(a.memoizedState!==null){if(Ds(a),a.alternate===null)throw Error(s(340));Ao()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Ds(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Ao()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ne(tn),null;case 4:return Be(),null;case 10:return wr(a.type),null;case 22:case 23:return Ds(a),Mg(),i!==null&&ne(Ro),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return wr(dn),null;case 25:return null;default:return null}}function aE(i,a){switch(yg(a),a.tag){case 3:wr(dn),Be();break;case 26:case 27:case 5:Rn(a);break;case 4:Be();break;case 31:a.memoizedState!==null&&Ds(a);break;case 13:Ds(a);break;case 19:ne(tn);break;case 10:wr(a.type);break;case 22:case 23:Ds(a),Mg(),i!==null&&ne(Ro);break;case 24:wr(dn)}}function Au(i,a){try{var c=a.updateQueue,u=c!==null?c.lastEffect:null;if(u!==null){var p=u.next;c=p;do{if((c.tag&i)===i){u=void 0;var y=c.create,w=c.inst;u=y(),w.destroy=u}c=c.next}while(c!==p)}}catch(D){xt(a,a.return,D)}}function ma(i,a,c){try{var u=a.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&i)===i){var w=u.inst,D=w.destroy;if(D!==void 0){w.destroy=void 0,p=a;var H=c,ee=D;try{ee()}catch(he){xt(p,H,he)}}}u=u.next}while(u!==y)}}catch(he){xt(a,a.return,he)}}function oE(i){var a=i.updateQueue;if(a!==null){var c=i.stateNode;try{Xw(a,c)}catch(u){xt(i,i.return,u)}}}function lE(i,a,c){c.props=Oo(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(u){xt(i,a,u)}}function xu(i,a){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof c=="function"?i.refCleanup=c(u):c.current=u}}catch(p){xt(i,a,p)}}function Ji(i,a){var c=i.ref,u=i.refCleanup;if(c!==null)if(typeof u=="function")try{u()}catch(p){xt(i,a,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){xt(i,a,p)}else c.current=null}function cE(i){var a=i.type,c=i.memoizedProps,u=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&u.focus();break e;case"img":c.src?u.src=c.src:c.srcSet&&(u.srcset=c.srcSet)}}catch(p){xt(i,i.return,p)}}function uy(i,a,c){try{var u=i.stateNode;qN(u,i.type,c,a),u[kn]=a}catch(p){xt(i,i.return,p)}}function uE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&wa(i.type)||i.tag===4}function hy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||uE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&wa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dy(i,a,c){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(i),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=_i));else if(u!==4&&(u===27&&wa(i.type)&&(c=i.stateNode,a=null),i=i.child,i!==null))for(dy(i,a,c),i=i.sibling;i!==null;)dy(i,a,c),i=i.sibling}function hf(i,a,c){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(u!==4&&(u===27&&wa(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(hf(i,a,c),i=i.sibling;i!==null;)hf(i,a,c),i=i.sibling}function hE(i){var a=i.stateNode,c=i.memoizedProps;try{for(var u=i.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);jn(a,u,c),a[cn]=i,a[kn]=c}catch(y){xt(i,i.return,y)}}var xr=!1,pn=!1,fy=!1,dE=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function SN(i,a){if(i=i.containerInfo,Ny=Mf,i=Sw(i),ag(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var u=c.getSelection&&c.getSelection();if(u&&u.rangeCount!==0){c=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var w=0,D=-1,H=-1,ee=0,he=0,ge=i,te=null;t:for(;;){for(var ie;ge!==c||p!==0&&ge.nodeType!==3||(D=w+p),ge!==y||u!==0&&ge.nodeType!==3||(H=w+u),ge.nodeType===3&&(w+=ge.nodeValue.length),(ie=ge.firstChild)!==null;)te=ge,ge=ie;for(;;){if(ge===i)break t;if(te===c&&++ee===p&&(D=w),te===y&&++he===u&&(H=w),(ie=ge.nextSibling)!==null)break;ge=te,te=ge.parentNode}ge=ie}c=D===-1||H===-1?null:{start:D,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(Py={focusedElem:i,selectionRange:c},Mf=!1,Dn=a;Dn!==null;)if(a=Dn,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Dn=i;else for(;Dn!==null;){switch(a=Dn,y=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)p=i[c],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,c=a,p=y.memoizedProps,y=y.memoizedState,u=c.stateNode;try{var De=Oo(c.type,p);i=u.getSnapshotBeforeUpdate(De,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(ze){xt(c,c.return,ze)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,c=i.nodeType,c===9)Uy(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Uy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=a.sibling,i!==null){i.return=a.return,Dn=i;break}Dn=a.return}}function fE(i,a,c){var u=c.flags;switch(c.tag){case 0:case 11:case 15:Rr(i,c),u&4&&Au(5,c);break;case 1:if(Rr(i,c),u&4)if(i=c.stateNode,a===null)try{i.componentDidMount()}catch(w){xt(c,c.return,w)}else{var p=Oo(c.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(p,a,i.__reactInternalSnapshotBeforeUpdate)}catch(w){xt(c,c.return,w)}}u&64&&oE(c),u&512&&xu(c,c.return);break;case 3:if(Rr(i,c),u&64&&(i=c.updateQueue,i!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Xw(i,a)}catch(w){xt(c,c.return,w)}}break;case 27:a===null&&u&4&&hE(c);case 26:case 5:Rr(i,c),a===null&&u&4&&cE(c),u&512&&xu(c,c.return);break;case 12:Rr(i,c);break;case 31:Rr(i,c),u&4&&gE(i,c);break;case 13:Rr(i,c),u&4&&yE(i,c),u&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=ON.bind(null,c),ZN(i,c))));break;case 22:if(u=c.memoizedState!==null||xr,!u){a=a!==null&&a.memoizedState!==null||pn,p=xr;var y=pn;xr=u,(pn=a)&&!y?kr(i,c,(c.subtreeFlags&8772)!==0):Rr(i,c),xr=p,pn=y}break;case 30:break;default:Rr(i,c)}}function mE(i){var a=i.alternate;a!==null&&(i.alternate=null,mE(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&yl(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $t=null,gs=!1;function Cr(i,a,c){for(c=c.child;c!==null;)pE(i,a,c),c=c.sibling}function pE(i,a,c){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(fs,c)}catch{}switch(c.tag){case 26:pn||Ji(c,a),Cr(i,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:pn||Ji(c,a);var u=$t,p=gs;wa(c.type)&&($t=c.stateNode,gs=!1),Cr(i,a,c),Pu(c.stateNode),$t=u,gs=p;break;case 5:pn||Ji(c,a);case 6:if(u=$t,p=gs,$t=null,Cr(i,a,c),$t=u,gs=p,$t!==null)if(gs)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(c.stateNode)}catch(y){xt(c,a,y)}else try{$t.removeChild(c.stateNode)}catch(y){xt(c,a,y)}break;case 18:$t!==null&&(gs?(i=$t,oS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),tc(i)):oS($t,c.stateNode));break;case 4:u=$t,p=gs,$t=c.stateNode.containerInfo,gs=!0,Cr(i,a,c),$t=u,gs=p;break;case 0:case 11:case 14:case 15:ma(2,c,a),pn||ma(4,c,a),Cr(i,a,c);break;case 1:pn||(Ji(c,a),u=c.stateNode,typeof u.componentWillUnmount=="function"&&lE(c,a,u)),Cr(i,a,c);break;case 21:Cr(i,a,c);break;case 22:pn=(u=pn)||c.memoizedState!==null,Cr(i,a,c),pn=u;break;default:Cr(i,a,c)}}function gE(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{tc(i)}catch(c){xt(a,a.return,c)}}}function yE(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{tc(i)}catch(c){xt(a,a.return,c)}}function AN(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new dE),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new dE),a;default:throw Error(s(435,i.tag))}}function df(i,a){var c=AN(i);a.forEach(function(u){if(!c.has(u)){c.add(u);var p=NN.bind(null,i,u);u.then(p,p)}})}function ys(i,a){var c=a.deletions;if(c!==null)for(var u=0;u<c.length;u++){var p=c[u],y=i,w=a,D=w;e:for(;D!==null;){switch(D.tag){case 27:if(wa(D.type)){$t=D.stateNode,gs=!1;break e}break;case 5:$t=D.stateNode,gs=!1;break e;case 3:case 4:$t=D.stateNode.containerInfo,gs=!0;break e}D=D.return}if($t===null)throw Error(s(160));pE(y,w,p),$t=null,gs=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)vE(a,i),a=a.sibling}var Ai=null;function vE(i,a){var c=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ys(a,i),vs(i),u&4&&(ma(3,i,i.return),Au(3,i),ma(5,i,i.return));break;case 1:ys(a,i),vs(i),u&512&&(pn||c===null||Ji(c,c.return)),u&64&&xr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?u:c.concat(u))));break;case 26:var p=Ai;if(ys(a,i),vs(i),u&512&&(pn||c===null||Ji(c,c.return)),u&4){var y=c!==null?c.memoizedState:null;if(u=i.memoizedState,c===null)if(u===null)if(i.stateNode===null){e:{u=i.type,c=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Ui]||y[cn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),jn(y,u,c),y[cn]=i,un(y),u=y;break e;case"link":var w=vS("link","href",p).get(u+(c.href||""));if(w){for(var D=0;D<w.length;D++)if(y=w[D],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){w.splice(D,1);break t}}y=p.createElement(u),jn(y,u,c),p.head.appendChild(y);break;case"meta":if(w=vS("meta","content",p).get(u+(c.content||""))){for(D=0;D<w.length;D++)if(y=w[D],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){w.splice(D,1);break t}}y=p.createElement(u),jn(y,u,c),p.head.appendChild(y);break;default:throw Error(s(468,u))}y[cn]=i,un(y),u=y}i.stateNode=u}else _S(p,i.type,i.stateNode);else i.stateNode=yS(p,u,i.memoizedProps);else y!==u?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,u===null?_S(p,i.type,i.stateNode):yS(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&uy(i,i.memoizedProps,c.memoizedProps)}break;case 27:ys(a,i),vs(i),u&512&&(pn||c===null||Ji(c,c.return)),c!==null&&u&4&&uy(i,i.memoizedProps,c.memoizedProps);break;case 5:if(ys(a,i),vs(i),u&512&&(pn||c===null||Ji(c,c.return)),i.flags&32){p=i.stateNode;try{ps(p,"")}catch(De){xt(i,i.return,De)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,uy(i,p,c!==null?c.memoizedProps:p)),u&1024&&(fy=!0);break;case 6:if(ys(a,i),vs(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,c=i.stateNode;try{c.nodeValue=u}catch(De){xt(i,i.return,De)}}break;case 3:if(Rf=null,p=Ai,Ai=xf(a.containerInfo),ys(a,i),Ai=p,vs(i),u&4&&c!==null&&c.memoizedState.isDehydrated)try{tc(a.containerInfo)}catch(De){xt(i,i.return,De)}fy&&(fy=!1,_E(i));break;case 4:u=Ai,Ai=xf(i.stateNode.containerInfo),ys(a,i),vs(i),Ai=u;break;case 12:ys(a,i),vs(i);break;case 31:ys(a,i),vs(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,df(i,u)));break;case 13:ys(a,i),vs(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(mf=on()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,df(i,u)));break;case 22:p=i.memoizedState!==null;var H=c!==null&&c.memoizedState!==null,ee=xr,he=pn;if(xr=ee||p,pn=he||H,ys(a,i),pn=he,xr=ee,vs(i),u&8192)e:for(a=i.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(c===null||H||xr||pn||No(i)),c=null,a=i;;){if(a.tag===5||a.tag===26){if(c===null){H=c=a;try{if(y=H.stateNode,p)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{D=H.stateNode;var ge=H.memoizedProps.style,te=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;D.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(De){xt(H,H.return,De)}}}else if(a.tag===6){if(c===null){H=a;try{H.stateNode.nodeValue=p?"":H.memoizedProps}catch(De){xt(H,H.return,De)}}}else if(a.tag===18){if(c===null){H=a;try{var ie=H.stateNode;p?lS(ie,!0):lS(H.stateNode,!1)}catch(De){xt(H,H.return,De)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=i.updateQueue,u!==null&&(c=u.retryQueue,c!==null&&(u.retryQueue=null,df(i,c))));break;case 19:ys(a,i),vs(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,df(i,u)));break;case 30:break;case 21:break;default:ys(a,i),vs(i)}}function vs(i){var a=i.flags;if(a&2){try{for(var c,u=i.return;u!==null;){if(uE(u)){c=u;break}u=u.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var p=c.stateNode,y=hy(i);hf(i,y,p);break;case 5:var w=c.stateNode;c.flags&32&&(ps(w,""),c.flags&=-33);var D=hy(i);hf(i,D,w);break;case 3:case 4:var H=c.stateNode.containerInfo,ee=hy(i);dy(i,ee,H);break;default:throw Error(s(161))}}catch(he){xt(i,i.return,he)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function _E(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;_E(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Rr(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)fE(i,a.alternate,a),a=a.sibling}function No(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:ma(4,a,a.return),No(a);break;case 1:Ji(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&lE(a,a.return,c),No(a);break;case 27:Pu(a.stateNode);case 26:case 5:Ji(a,a.return),No(a);break;case 22:a.memoizedState===null&&No(a);break;case 30:No(a);break;default:No(a)}i=i.sibling}}function kr(i,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,p=i,y=a,w=y.flags;switch(y.tag){case 0:case 11:case 15:kr(p,y,c),Au(4,y);break;case 1:if(kr(p,y,c),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ee){xt(u,u.return,ee)}if(u=y,p=u.updateQueue,p!==null){var D=u.stateNode;try{var H=p.shared.hiddenCallbacks;if(H!==null)for(p.shared.hiddenCallbacks=null,p=0;p<H.length;p++)Qw(H[p],D)}catch(ee){xt(u,u.return,ee)}}c&&w&64&&oE(y),xu(y,y.return);break;case 27:hE(y);case 26:case 5:kr(p,y,c),c&&u===null&&w&4&&cE(y),xu(y,y.return);break;case 12:kr(p,y,c);break;case 31:kr(p,y,c),c&&w&4&&gE(p,y);break;case 13:kr(p,y,c),c&&w&4&&yE(p,y);break;case 22:y.memoizedState===null&&kr(p,y,c),xu(y,y.return);break;case 30:break;default:kr(p,y,c)}a=a.sibling}}function my(i,a){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&du(c))}function py(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&du(i))}function xi(i,a,c,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)bE(i,a,c,u),a=a.sibling}function bE(i,a,c,u){var p=a.flags;switch(a.tag){case 0:case 11:case 15:xi(i,a,c,u),p&2048&&Au(9,a);break;case 1:xi(i,a,c,u);break;case 3:xi(i,a,c,u),p&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&du(i)));break;case 12:if(p&2048){xi(i,a,c,u),i=a.stateNode;try{var y=a.memoizedProps,w=y.id,D=y.onPostCommit;typeof D=="function"&&D(w,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){xt(a,a.return,H)}}else xi(i,a,c,u);break;case 31:xi(i,a,c,u);break;case 13:xi(i,a,c,u);break;case 23:break;case 22:y=a.stateNode,w=a.alternate,a.memoizedState!==null?y._visibility&2?xi(i,a,c,u):Cu(i,a):y._visibility&2?xi(i,a,c,u):(y._visibility|=2,Hl(i,a,c,u,(a.subtreeFlags&10256)!==0||!1)),p&2048&&my(w,a);break;case 24:xi(i,a,c,u),p&2048&&py(a.alternate,a);break;default:xi(i,a,c,u)}}function Hl(i,a,c,u,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=i,w=a,D=c,H=u,ee=w.flags;switch(w.tag){case 0:case 11:case 15:Hl(y,w,D,H,p),Au(8,w);break;case 23:break;case 22:var he=w.stateNode;w.memoizedState!==null?he._visibility&2?Hl(y,w,D,H,p):Cu(y,w):(he._visibility|=2,Hl(y,w,D,H,p)),p&&ee&2048&&my(w.alternate,w);break;case 24:Hl(y,w,D,H,p),p&&ee&2048&&py(w.alternate,w);break;default:Hl(y,w,D,H,p)}a=a.sibling}}function Cu(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=i,u=a,p=u.flags;switch(u.tag){case 22:Cu(c,u),p&2048&&my(u.alternate,u);break;case 24:Cu(c,u),p&2048&&py(u.alternate,u);break;default:Cu(c,u)}a=a.sibling}}var Ru=8192;function ql(i,a,c){if(i.subtreeFlags&Ru)for(i=i.child;i!==null;)wE(i,a,c),i=i.sibling}function wE(i,a,c){switch(i.tag){case 26:ql(i,a,c),i.flags&Ru&&i.memoizedState!==null&&hP(c,Ai,i.memoizedState,i.memoizedProps);break;case 5:ql(i,a,c);break;case 3:case 4:var u=Ai;Ai=xf(i.stateNode.containerInfo),ql(i,a,c),Ai=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Ru,Ru=16777216,ql(i,a,c),Ru=u):ql(i,a,c));break;default:ql(i,a,c)}}function TE(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function ku(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var u=a[c];Dn=u,SE(u,i)}TE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)EE(i),i=i.sibling}function EE(i){switch(i.tag){case 0:case 11:case 15:ku(i),i.flags&2048&&ma(9,i,i.return);break;case 3:ku(i);break;case 12:ku(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,ff(i)):ku(i);break;default:ku(i)}}function ff(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var u=a[c];Dn=u,SE(u,i)}TE(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:ma(8,a,a.return),ff(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,ff(a));break;default:ff(a)}i=i.sibling}}function SE(i,a){for(;Dn!==null;){var c=Dn;switch(c.tag){case 0:case 11:case 15:ma(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var u=c.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:du(c.memoizedState.cache)}if(u=c.child,u!==null)u.return=c,Dn=u;else e:for(c=i;Dn!==null;){u=Dn;var p=u.sibling,y=u.return;if(mE(u),u===c){Dn=null;break e}if(p!==null){p.return=y,Dn=p;break e}Dn=y}}}var xN={getCacheForType:function(i){var a=Vn(dn),c=a.data.get(i);return c===void 0&&(c=i(),a.data.set(i,c)),c},cacheSignal:function(){return Vn(dn).controller.signal}},CN=typeof WeakMap=="function"?WeakMap:Map,wt=0,Nt=null,st=null,at=0,At=0,Ms=null,pa=!1,Gl=!1,gy=!1,Ir=0,Wt=0,ga=0,Po=0,yy=0,Os=0,Kl=0,Iu=null,_s=null,vy=!1,mf=0,AE=0,pf=1/0,gf=null,ya=null,En=0,va=null,Yl=null,Dr=0,_y=0,by=null,xE=null,Du=0,wy=null;function Ns(){return(wt&2)!==0&&at!==0?at&-at:$.T!==null?Cy():gd()}function CE(){if(Os===0)if((at&536870912)===0||ht){var i=Ie;Ie<<=1,(Ie&3932160)===0&&(Ie=262144),Os=i}else Os=536870912;return i=Is.current,i!==null&&(i.flags|=32),Os}function bs(i,a,c){(i===Nt&&(At===2||At===9)||i.cancelPendingCommit!==null)&&(Wl(i,0),_a(i,at,Os,!1)),$s(i,c),((wt&2)===0||i!==Nt)&&(i===Nt&&((wt&2)===0&&(Po|=c),Wt===4&&_a(i,at,Os,!1)),Zi(i))}function RE(i,a,c){if((wt&6)!==0)throw Error(s(327));var u=!c&&(a&127)===0&&(a&i.expiredLanes)===0||Tn(i,a),p=u?IN(i,a):Ey(i,a,!0),y=u;do{if(p===0){Gl&&!u&&_a(i,a,0,!1);break}else{if(c=i.current.alternate,y&&!RN(c)){p=Ey(i,a,!1),y=!1;continue}if(p===2){if(y=a,i.errorRecoveryDisabledLanes&y)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var D=i;p=Iu;var H=D.current.memoizedState.isDehydrated;if(H&&(Wl(D,w).flags|=256),w=Ey(D,w,!1),w!==2){if(gy&&!H){D.errorRecoveryDisabledLanes|=y,Po|=y,p=4;break e}y=_s,_s=p,y!==null&&(_s===null?_s=y:_s.push.apply(_s,y))}p=w}if(y=!1,p!==2)continue}}if(p===1){Wl(i,0),_a(i,a,0,!0);break}e:{switch(u=i,y=p,y){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:_a(u,a,Os,!pa);break e;case 2:_s=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(p=mf+300-on(),10<p)){if(_a(u,a,Os,!pa),Et(u,0,!0)!==0)break e;Dr=a,u.timeoutHandle=rS(kE.bind(null,u,c,_s,gf,vy,a,Os,Po,Kl,pa,y,"Throttled",-0,0),p);break e}kE(u,c,_s,gf,vy,a,Os,Po,Kl,pa,y,null,-0,0)}}break}while(!0);Zi(i)}function kE(i,a,c,u,p,y,w,D,H,ee,he,ge,te,ie){if(i.timeoutHandle=-1,ge=a.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},wE(a,y,ge);var De=(y&62914560)===y?mf-on():(y&4194048)===y?AE-on():0;if(De=dP(ge,De),De!==null){Dr=y,i.cancelPendingCommit=De(VE.bind(null,i,a,y,c,u,p,w,D,H,he,ge,null,te,ie)),_a(i,y,w,!ee);return}}VE(i,a,y,c,u,p,w,D,H)}function RN(i){for(var a=i;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var u=0;u<c.length;u++){var p=c[u],y=p.getSnapshot;p=p.value;try{if(!Rs(y(),p))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _a(i,a,c,u){a&=~yy,a&=~Po,i.suspendedLanes|=a,i.pingedLanes&=~a,u&&(i.warmLanes|=a),u=i.expirationTimes;for(var p=a;0<p;){var y=31-qt(p),w=1<<y;u[y]=-1,p&=~w}c!==0&&gi(i,c,a)}function yf(){return(wt&6)===0?(Mu(0),!1):!0}function Ty(){if(st!==null){if(At===0)var i=st.return;else i=st,br=xo=null,Ug(i),jl=null,mu=0,i=st;for(;i!==null;)aE(i.alternate,i),i=i.return;st=null}}function Wl(i,a){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,YN(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Dr=0,Ty(),Nt=i,st=c=vr(i.current,null),at=a,At=0,Ms=null,pa=!1,Gl=Tn(i,a),gy=!1,Kl=Os=yy=Po=ga=Wt=0,_s=Iu=null,vy=!1,(a&8)!==0&&(a|=a&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=a;0<u;){var p=31-qt(u),y=1<<p;a|=i[p],u&=~y}return Ir=a,Vd(),c}function IE(i,a){Ze=null,$.H=Tu,a===Ul||a===qd?(a=Gw(),At=3):a===xg?(a=Gw(),At=4):At=a===ey?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ms=a,st===null&&(Wt=1,af(i,Ws(a,i.current)))}function DE(){var i=Is.current;return i===null?!0:(at&4194048)===at?Zs===null:(at&62914560)===at||(at&536870912)!==0?i===Zs:!1}function ME(){var i=$.H;return $.H=Tu,i===null?Tu:i}function OE(){var i=$.A;return $.A=xN,i}function vf(){Wt=4,pa||(at&4194048)!==at&&Is.current!==null||(Gl=!0),(ga&134217727)===0&&(Po&134217727)===0||Nt===null||_a(Nt,at,Os,!1)}function Ey(i,a,c){var u=wt;wt|=2;var p=ME(),y=OE();(Nt!==i||at!==a)&&(gf=null,Wl(i,a)),a=!1;var w=Wt;e:do try{if(At!==0&&st!==null){var D=st,H=Ms;switch(At){case 8:Ty(),w=6;break e;case 3:case 2:case 9:case 6:Is.current===null&&(a=!0);var ee=At;if(At=0,Ms=null,Ql(i,D,H,ee),c&&Gl){w=0;break e}break;default:ee=At,At=0,Ms=null,Ql(i,D,H,ee)}}kN(),w=Wt;break}catch(he){IE(i,he)}while(!0);return a&&i.shellSuspendCounter++,br=xo=null,wt=u,$.H=p,$.A=y,st===null&&(Nt=null,at=0,Vd()),w}function kN(){for(;st!==null;)NE(st)}function IN(i,a){var c=wt;wt|=2;var u=ME(),p=OE();Nt!==i||at!==a?(gf=null,pf=on()+500,Wl(i,a)):Gl=Tn(i,a);e:do try{if(At!==0&&st!==null){a=st;var y=Ms;t:switch(At){case 1:At=0,Ms=null,Ql(i,a,y,1);break;case 2:case 9:if(Hw(y)){At=0,Ms=null,PE(a);break}a=function(){At!==2&&At!==9||Nt!==i||(At=7),Zi(i)},y.then(a,a);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:Hw(y)?(At=0,Ms=null,PE(a)):(At=0,Ms=null,Ql(i,a,y,7));break;case 5:var w=null;switch(st.tag){case 26:w=st.memoizedState;case 5:case 27:var D=st;if(w?bS(w):D.stateNode.complete){At=0,Ms=null;var H=D.sibling;if(H!==null)st=H;else{var ee=D.return;ee!==null?(st=ee,_f(ee)):st=null}break t}}At=0,Ms=null,Ql(i,a,y,5);break;case 6:At=0,Ms=null,Ql(i,a,y,6);break;case 8:Ty(),Wt=6;break e;default:throw Error(s(462))}}DN();break}catch(he){IE(i,he)}while(!0);return br=xo=null,$.H=u,$.A=p,wt=c,st!==null?0:(Nt=null,at=0,Vd(),Wt)}function DN(){for(;st!==null&&!Zn();)NE(st)}function NE(i){var a=iE(i.alternate,i,Ir);i.memoizedProps=i.pendingProps,a===null?_f(i):st=a}function PE(i){var a=i,c=a.alternate;switch(a.tag){case 15:case 0:a=JT(c,a,a.pendingProps,a.type,void 0,at);break;case 11:a=JT(c,a,a.pendingProps,a.type.render,a.ref,at);break;case 5:Ug(a);default:aE(c,a),a=st=Ow(a,Ir),a=iE(c,a,Ir)}i.memoizedProps=i.pendingProps,a===null?_f(i):st=a}function Ql(i,a,c,u){br=xo=null,Ug(a),jl=null,mu=0;var p=a.return;try{if(_N(i,p,a,c,at)){Wt=1,af(i,Ws(c,i.current)),st=null;return}}catch(y){if(p!==null)throw st=p,y;Wt=1,af(i,Ws(c,i.current)),st=null;return}a.flags&32768?(ht||u===1?i=!0:Gl||(at&536870912)!==0?i=!1:(pa=i=!0,(u===2||u===9||u===3||u===6)&&(u=Is.current,u!==null&&u.tag===13&&(u.flags|=16384))),LE(a,i)):_f(a)}function _f(i){var a=i;do{if((a.flags&32768)!==0){LE(a,pa);return}i=a.return;var c=TN(a.alternate,a,Ir);if(c!==null){st=c;return}if(a=a.sibling,a!==null){st=a;return}st=a=i}while(a!==null);Wt===0&&(Wt=5)}function LE(i,a){do{var c=EN(i.alternate,i);if(c!==null){c.flags&=32767,st=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(i=i.sibling,i!==null)){st=i;return}st=i=c}while(i!==null);Wt=6,st=null}function VE(i,a,c,u,p,y,w,D,H){i.cancelPendingCommit=null;do bf();while(En!==0);if((wt&6)!==0)throw Error(s(327));if(a!==null){if(a===i.current)throw Error(s(177));if(y=a.lanes|a.childLanes,y|=hg,$c(i,c,y,w,D,H),i===Nt&&(st=Nt=null,at=0),Yl=a,va=i,Dr=c,_y=y,by=p,xE=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,PN(ds,function(){return zE(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,p=W.p,W.p=2,w=wt,wt|=4;try{SN(i,a,c)}finally{wt=w,W.p=p,$.T=u}}En=1,UE(),jE(),FE()}}function UE(){if(En===1){En=0;var i=va,a=Yl,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=$.T,$.T=null;var u=W.p;W.p=2;var p=wt;wt|=4;try{vE(a,i);var y=Py,w=Sw(i.containerInfo),D=y.focusedElem,H=y.selectionRange;if(w!==D&&D&&D.ownerDocument&&Ew(D.ownerDocument.documentElement,D)){if(H!==null&&ag(D)){var ee=H.start,he=H.end;if(he===void 0&&(he=ee),"selectionStart"in D)D.selectionStart=ee,D.selectionEnd=Math.min(he,D.value.length);else{var ge=D.ownerDocument||document,te=ge&&ge.defaultView||window;if(te.getSelection){var ie=te.getSelection(),De=D.textContent.length,ze=Math.min(H.start,De),Mt=H.end===void 0?ze:Math.min(H.end,De);!ie.extend&&ze>Mt&&(w=Mt,Mt=ze,ze=w);var X=Tw(D,ze),G=Tw(D,Mt);if(X&&G&&(ie.rangeCount!==1||ie.anchorNode!==X.node||ie.anchorOffset!==X.offset||ie.focusNode!==G.node||ie.focusOffset!==G.offset)){var Z=ge.createRange();Z.setStart(X.node,X.offset),ie.removeAllRanges(),ze>Mt?(ie.addRange(Z),ie.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),ie.addRange(Z))}}}}for(ge=[],ie=D;ie=ie.parentNode;)ie.nodeType===1&&ge.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ge.length;D++){var de=ge[D];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Mf=!!Ny,Py=Ny=null}finally{wt=p,W.p=u,$.T=c}}i.current=a,En=2}}function jE(){if(En===2){En=0;var i=va,a=Yl,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=$.T,$.T=null;var u=W.p;W.p=2;var p=wt;wt|=4;try{fE(i,a.alternate,a)}finally{wt=p,W.p=u,$.T=c}}En=3}}function FE(){if(En===4||En===3){En=0,hi();var i=va,a=Yl,c=Dr,u=xE;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?En=5:(En=0,Yl=va=null,BE(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(ya=null),mr(c),a=a.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(fs,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=$.T,p=W.p,W.p=2,$.T=null;try{for(var y=i.onRecoverableError,w=0;w<u.length;w++){var D=u[w];y(D.value,{componentStack:D.stack})}}finally{$.T=a,W.p=p}}(Dr&3)!==0&&bf(),Zi(i),p=i.pendingLanes,(c&261930)!==0&&(p&42)!==0?i===wy?Du++:(Du=0,wy=i):Du=0,Mu(0)}}function BE(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,du(a)))}function bf(){return UE(),jE(),FE(),zE()}function zE(){if(En!==5)return!1;var i=va,a=_y;_y=0;var c=mr(Dr),u=$.T,p=W.p;try{W.p=32>c?32:c,$.T=null,c=by,by=null;var y=va,w=Dr;if(En=0,Yl=va=null,Dr=0,(wt&6)!==0)throw Error(s(331));var D=wt;if(wt|=4,EE(y.current),bE(y,y.current,w,c),wt=D,Mu(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(fs,y)}catch{}return!0}finally{W.p=p,$.T=u,BE(i,a)}}function $E(i,a,c){a=Ws(c,a),a=Zg(i.stateNode,a,2),i=ha(i,a,2),i!==null&&($s(i,2),Zi(i))}function xt(i,a,c){if(i.tag===3)$E(i,i,c);else for(;a!==null;){if(a.tag===3){$E(a,i,c);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ya===null||!ya.has(u))){i=Ws(c,i),c=HT(2),u=ha(a,c,2),u!==null&&(qT(c,u,a,i),$s(u,2),Zi(u));break}}a=a.return}}function Sy(i,a,c){var u=i.pingCache;if(u===null){u=i.pingCache=new CN;var p=new Set;u.set(a,p)}else p=u.get(a),p===void 0&&(p=new Set,u.set(a,p));p.has(c)||(gy=!0,p.add(c),i=MN.bind(null,i,a,c),a.then(i,i))}function MN(i,a,c){var u=i.pingCache;u!==null&&u.delete(a),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Nt===i&&(at&c)===c&&(Wt===4||Wt===3&&(at&62914560)===at&&300>on()-mf?(wt&2)===0&&Wl(i,0):yy|=c,Kl===at&&(Kl=0)),Zi(i)}function HE(i,a){a===0&&(a=gt()),i=Eo(i,a),i!==null&&($s(i,a),Zi(i))}function ON(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),HE(i,c)}function NN(i,a){var c=0;switch(i.tag){case 31:case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(c=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(a),HE(i,c)}function PN(i,a){return ke(i,a)}var wf=null,Xl=null,Ay=!1,Tf=!1,xy=!1,ba=0;function Zi(i){i!==Xl&&i.next===null&&(Xl===null?wf=Xl=i:Xl=Xl.next=i),Tf=!0,Ay||(Ay=!0,VN())}function Mu(i,a){if(!xy&&Tf){xy=!0;do for(var c=!1,u=wf;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var w=u.suspendedLanes,D=u.pingedLanes;y=(1<<31-qt(42|i)+1)-1,y&=p&~(w&~D),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,YE(u,y))}else y=at,y=Et(u,u===Nt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Tn(u,y)||(c=!0,YE(u,y));u=u.next}while(c);xy=!1}}function LN(){qE()}function qE(){Tf=Ay=!1;var i=0;ba!==0&&KN()&&(i=ba);for(var a=on(),c=null,u=wf;u!==null;){var p=u.next,y=GE(u,a);y===0?(u.next=null,c===null?wf=p:c.next=p,p===null&&(Xl=c)):(c=u,(i!==0||(y&3)!==0)&&(Tf=!0)),u=p}En!==0&&En!==5||Mu(i),ba!==0&&(ba=0)}function GE(i,a){for(var c=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var w=31-qt(y),D=1<<w,H=p[w];H===-1?((D&c)===0||(D&u)!==0)&&(p[w]=lo(D,a)):H<=a&&(i.expiredLanes|=D),y&=~D}if(a=Nt,c=at,c=Et(i,i===a?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,c===0||i===a&&(At===2||At===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Pt(u),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Tn(i,c)){if(a=c&-c,a===i.callbackPriority)return a;switch(u!==null&&Pt(u),mr(c)){case 2:case 8:c=zs;break;case 32:c=ds;break;case 268435456:c=es;break;default:c=ds}return u=KE.bind(null,i),c=ke(c,u),i.callbackPriority=a,i.callbackNode=c,a}return u!==null&&u!==null&&Pt(u),i.callbackPriority=2,i.callbackNode=null,2}function KE(i,a){if(En!==0&&En!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(bf()&&i.callbackNode!==c)return null;var u=at;return u=Et(i,i===Nt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(RE(i,u,a),GE(i,on()),i.callbackNode!=null&&i.callbackNode===c?KE.bind(null,i):null)}function YE(i,a){if(bf())return null;RE(i,a,!0)}function VN(){WN(function(){(wt&6)!==0?ke(fi,LN):qE()})}function Cy(){if(ba===0){var i=Ll;i===0&&(i=fe,fe<<=1,(fe&261888)===0&&(fe=256)),ba=i}return ba}function WE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:wl(""+i)}function QE(i,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,i.id&&c.setAttribute("form",i.id),a.parentNode.insertBefore(c,a),i=new FormData(i),c.parentNode.removeChild(c),i}function UN(i,a,c,u,p){if(a==="submit"&&c&&c.stateNode===p){var y=WE((p[kn]||null).action),w=u.submitter;w&&(a=(a=w[kn]||null)?WE(a.formAction):w.getAttribute("formAction"),a!==null&&(y=a,w=null));var D=new Gi("action","action",null,u,p);i.push({event:D,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ba!==0){var H=w?QE(p,w):new FormData(p);Kg(c,{pending:!0,data:H,method:p.method,action:y},null,H)}}else typeof y=="function"&&(D.preventDefault(),H=w?QE(p,w):new FormData(p),Kg(c,{pending:!0,data:H,method:p.method,action:y},y,H))},currentTarget:p}]})}}for(var Ry=0;Ry<ug.length;Ry++){var ky=ug[Ry],jN=ky.toLowerCase(),FN=ky[0].toUpperCase()+ky.slice(1);Si(jN,"on"+FN)}Si(Cw,"onAnimationEnd"),Si(Rw,"onAnimationIteration"),Si(kw,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(nN,"onTransitionRun"),Si(sN,"onTransitionStart"),Si(iN,"onTransitionCancel"),Si(Iw,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function XE(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var u=i[c],p=u.event;u=u.listeners;e:{var y=void 0;if(a)for(var w=u.length-1;0<=w;w--){var D=u[w],H=D.instance,ee=D.currentTarget;if(D=D.listener,H!==y&&p.isPropagationStopped())break e;y=D,p.currentTarget=ee;try{y(p)}catch(he){Ld(he)}p.currentTarget=null,y=H}else for(w=0;w<u.length;w++){if(D=u[w],H=D.instance,ee=D.currentTarget,D=D.listener,H!==y&&p.isPropagationStopped())break e;y=D,p.currentTarget=ee;try{y(p)}catch(he){Ld(he)}p.currentTarget=null,y=H}}}}function it(i,a){var c=a[gl];c===void 0&&(c=a[gl]=new Set);var u=i+"__bubble";c.has(u)||(JE(a,i,2,!1),c.add(u))}function Iy(i,a,c){var u=0;a&&(u|=4),JE(c,i,u,a)}var Ef="_reactListening"+Math.random().toString(36).slice(2);function Dy(i){if(!i[Ef]){i[Ef]=!0,qc.forEach(function(c){c!=="selectionchange"&&(BN.has(c)||Iy(c,!1,i),Iy(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Ef]||(a[Ef]=!0,Iy("selectionchange",!1,a))}}function JE(i,a,c,u){switch(CS(a)){case 2:var p=pP;break;case 8:p=gP;break;default:p=Gy}c=p.bind(null,a,c,i),p=void 0,!po||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(a,c,{capture:!0,passive:p}):i.addEventListener(a,c,!0):p!==void 0?i.addEventListener(a,c,{passive:p}):i.addEventListener(a,c,!1)}function My(i,a,c,u,p){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var D=u.stateNode.containerInfo;if(D===p)break;if(w===4)for(w=u.return;w!==null;){var H=w.tag;if((H===3||H===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;D!==null;){if(w=ji(D),w===null)return;if(H=w.tag,H===5||H===6||H===26||H===27){u=y=w;continue e}D=D.parentNode}}u=u.return}ta(function(){var ee=y,he=qs(c),ge=[];e:{var te=Dw.get(i);if(te!==void 0){var ie=Gi,De=i;switch(i){case"keypress":if(yo(c)===0)break e;case"keydown":case"keyup":ie=Od;break;case"focusin":De="focus",ie=_o;break;case"focusout":De="blur",ie=_o;break;case"beforeblur":case"afterblur":ie=_o;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Sd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=b;break;case Cw:case Rw:case kw:ie=xd;break;case Iw:ie=P;break;case"scroll":case"scrollend":ie=su;break;case"wheel":ie=se;break;case"copy":case"cut":case"paste":ie=Cd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=yr;break;case"toggle":case"beforetoggle":ie=Je}var ze=(a&4)!==0,Mt=!ze&&(i==="scroll"||i==="scrollend"),X=ze?te!==null?te+"Capture":null:te;ze=[];for(var G=ee,Z;G!==null;){var de=G;if(Z=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||Z===null||X===null||(de=bi(G,X),de!=null&&ze.push(Nu(G,de,Z))),Mt)break;G=G.return}0<ze.length&&(te=new ie(te,De,null,c,he),ge.push({event:te,listeners:ze}))}}if((a&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",te&&c!==eu&&(De=c.relatedTarget||c.fromElement)&&(ji(De)||De[Vi]))break e;if((ie||te)&&(te=he.window===he?he:(te=he.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(De=c.relatedTarget||c.toElement,ie=ee,De=De?ji(De):null,De!==null&&(Mt=o(De),ze=De.tag,De!==Mt||ze!==5&&ze!==27&&ze!==6)&&(De=null)):(ie=null,De=ee),ie!==De)){if(ze=iu,de="onMouseLeave",X="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(ze=yr,de="onPointerLeave",X="onPointerEnter",G="pointer"),Mt=ie==null?te:xs(ie),Z=De==null?te:xs(De),te=new ze(de,G+"leave",ie,c,he),te.target=Mt,te.relatedTarget=Z,de=null,ji(he)===ee&&(ze=new ze(X,G+"enter",De,c,he),ze.target=Z,ze.relatedTarget=Mt,de=ze),Mt=de,ie&&De)t:{for(ze=zN,X=ie,G=De,Z=0,de=X;de;de=ze(de))Z++;de=0;for(var Ve=G;Ve;Ve=ze(Ve))de++;for(;0<Z-de;)X=ze(X),Z--;for(;0<de-Z;)G=ze(G),de--;for(;Z--;){if(X===G||G!==null&&X===G.alternate){ze=X;break t}X=ze(X),G=ze(G)}ze=null}else ze=null;ie!==null&&ZE(ge,te,ie,ze,!1),De!==null&&Mt!==null&&ZE(ge,Mt,De,ze,!0)}}e:{if(te=ee?xs(ee):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var yt=gw;else if(mw(te))if(yw)yt=ZO;else{yt=XO;var Pe=QO}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&bl(ee.elementType)&&(yt=gw):yt=JO;if(yt&&(yt=yt(i,ee))){pw(ge,yt,c,he);break e}Pe&&Pe(i,te,ee),i==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Xc(te,"number",te.value)}switch(Pe=ee?xs(ee):window,i){case"focusin":(mw(Pe)||Pe.contentEditable==="true")&&(Rl=Pe,og=ee,cu=null);break;case"focusout":cu=og=Rl=null;break;case"mousedown":lg=!0;break;case"contextmenu":case"mouseup":case"dragend":lg=!1,Aw(ge,c,he);break;case"selectionchange":if(tN)break;case"keydown":case"keyup":Aw(ge,c,he)}var et;if(bt)e:{switch(i){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Cl?bo(i,c)&&(ot="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(ot="onCompositionStart");ot&&(Wi&&c.locale!=="ko"&&(Cl||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Cl&&(et=nu()):(qi=he,tu="value"in qi?qi.value:qi.textContent,Cl=!0)),Pe=Sf(ee,ot),0<Pe.length&&(ot=new Yi(ot,i,null,c,he),ge.push({event:ot,listeners:Pe}),et?ot.data=et:(et=xl(c),et!==null&&(ot.data=et)))),(et=Ks?GO(i,c):KO(i,c))&&(ot=Sf(ee,"onBeforeInput"),0<ot.length&&(Pe=new Yi("onBeforeInput","beforeinput",null,c,he),ge.push({event:Pe,listeners:ot}),Pe.data=et)),UN(ge,i,ee,c,he)}XE(ge,a)})}function Nu(i,a,c){return{instance:i,listener:a,currentTarget:c}}function Sf(i,a){for(var c=a+"Capture",u=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=bi(i,c),p!=null&&u.unshift(Nu(i,p,y)),p=bi(i,a),p!=null&&u.push(Nu(i,p,y))),i.tag===3)return u;i=i.return}return[]}function zN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ZE(i,a,c,u,p){for(var y=a._reactName,w=[];c!==null&&c!==u;){var D=c,H=D.alternate,ee=D.stateNode;if(D=D.tag,H!==null&&H===u)break;D!==5&&D!==26&&D!==27||ee===null||(H=ee,p?(ee=bi(c,y),ee!=null&&w.unshift(Nu(c,ee,H))):p||(ee=bi(c,y),ee!=null&&w.push(Nu(c,ee,H)))),c=c.return}w.length!==0&&i.push({event:a,listeners:w})}var $N=/\r\n?/g,HN=/\u0000|\uFFFD/g;function eS(i){return(typeof i=="string"?i:""+i).replace($N,`
`).replace(HN,"")}function tS(i,a){return a=eS(a),eS(i)===a}function Dt(i,a,c,u,p,y){switch(c){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||ps(i,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&ps(i,""+u);break;case"className":Cs(i,"class",u);break;case"tabIndex":Cs(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Cs(i,c,u);break;case"style":Zc(i,u,y);break;case"data":if(a!=="object"){Cs(i,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||c!=="href")){i.removeAttribute(c);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(c);break}u=wl(""+u),i.setAttribute(c,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&Dt(i,a,"name",p.name,p,null),Dt(i,a,"formEncType",p.formEncType,p,null),Dt(i,a,"formMethod",p.formMethod,p,null),Dt(i,a,"formTarget",p.formTarget,p,null)):(Dt(i,a,"encType",p.encType,p,null),Dt(i,a,"method",p.method,p,null),Dt(i,a,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(c);break}u=wl(""+u),i.setAttribute(c,u);break;case"onClick":u!=null&&(i.onclick=_i);break;case"onScroll":u!=null&&it("scroll",i);break;case"onScrollEnd":u!=null&&it("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(c=u.__html,c!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=c}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}c=wl(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(c,""+u):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":u===!0?i.setAttribute(c,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(c,u):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(c,u):i.removeAttribute(c);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(c):i.setAttribute(c,u);break;case"popover":it("beforetoggle",i),it("toggle",i),vl(i,"popover",u);break;case"xlinkActuate":hn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":hn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":hn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":hn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":hn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":hn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":hn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":hn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":hn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":vl(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Ed.get(c)||c,vl(i,c,u))}}function Oy(i,a,c,u,p,y){switch(c){case"style":Zc(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(c=u.__html,c!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=c}}break;case"children":typeof u=="string"?ps(i,u):(typeof u=="number"||typeof u=="bigint")&&ps(i,""+u);break;case"onScroll":u!=null&&it("scroll",i);break;case"onScrollEnd":u!=null&&it("scrollend",i);break;case"onClick":u!=null&&(i.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gc.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),a=c.slice(2,p?c.length-7:void 0),y=i[kn]||null,y=y!=null?y[c]:null,typeof y=="function"&&i.removeEventListener(a,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(a,u,p);break e}c in i?i[c]=u:u===!0?i.setAttribute(c,""):vl(i,c,u)}}}function jn(i,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",i),it("load",i);var u=!1,p=!1,y;for(y in c)if(c.hasOwnProperty(y)){var w=c[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Dt(i,a,y,w,c,null)}}p&&Dt(i,a,"srcSet",c.srcSet,c,null),u&&Dt(i,a,"src",c.src,c,null);return;case"input":it("invalid",i);var D=y=w=p=null,H=null,ee=null;for(u in c)if(c.hasOwnProperty(u)){var he=c[u];if(he!=null)switch(u){case"name":p=he;break;case"type":w=he;break;case"checked":H=he;break;case"defaultChecked":ee=he;break;case"value":y=he;break;case"defaultValue":D=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,a));break;default:Dt(i,a,u,he,c,null)}}bd(i,y,D,H,ee,w,p,!1);return;case"select":it("invalid",i),u=w=y=null;for(p in c)if(c.hasOwnProperty(p)&&(D=c[p],D!=null))switch(p){case"value":y=D;break;case"defaultValue":w=D;break;case"multiple":u=D;default:Dt(i,a,p,D,c,null)}a=y,c=w,i.multiple=!!u,a!=null?Xr(i,!!u,a,!1):c!=null&&Xr(i,!!u,c,!0);return;case"textarea":it("invalid",i),y=p=u=null;for(w in c)if(c.hasOwnProperty(w)&&(D=c[w],D!=null))switch(w){case"value":u=D;break;case"defaultValue":p=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:Dt(i,a,w,D,c,null)}Jr(i,u,p,y);return;case"option":for(H in c)c.hasOwnProperty(H)&&(u=c[H],u!=null)&&(H==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":Dt(i,a,H,u,c,null));return;case"dialog":it("beforetoggle",i),it("toggle",i),it("cancel",i),it("close",i);break;case"iframe":case"object":it("load",i);break;case"video":case"audio":for(u=0;u<Ou.length;u++)it(Ou[u],i);break;case"image":it("error",i),it("load",i);break;case"details":it("toggle",i);break;case"embed":case"source":case"link":it("error",i),it("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in c)if(c.hasOwnProperty(ee)&&(u=c[ee],u!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Dt(i,a,ee,u,c,null)}return;default:if(bl(a)){for(he in c)c.hasOwnProperty(he)&&(u=c[he],u!==void 0&&Oy(i,a,he,u,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(u=c[D],u!=null&&Dt(i,a,D,u,c,null))}function qN(i,a,c,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,D=null,H=null,ee=null,he=null;for(ie in c){var ge=c[ie];if(c.hasOwnProperty(ie)&&ge!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":H=ge;default:u.hasOwnProperty(ie)||Dt(i,a,ie,null,u,ge)}}for(var te in u){var ie=u[te];if(ge=c[te],u.hasOwnProperty(te)&&(ie!=null||ge!=null))switch(te){case"type":y=ie;break;case"name":p=ie;break;case"checked":ee=ie;break;case"defaultChecked":he=ie;break;case"value":w=ie;break;case"defaultValue":D=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,a));break;default:ie!==ge&&Dt(i,a,te,ie,u,ge)}}_l(i,w,D,H,ee,he,y,p);return;case"select":ie=w=D=te=null;for(y in c)if(H=c[y],c.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":ie=H;default:u.hasOwnProperty(y)||Dt(i,a,y,null,u,H)}for(p in u)if(y=u[p],H=c[p],u.hasOwnProperty(p)&&(y!=null||H!=null))switch(p){case"value":te=y;break;case"defaultValue":D=y;break;case"multiple":w=y;default:y!==H&&Dt(i,a,p,y,u,H)}a=D,c=w,u=ie,te!=null?Xr(i,!!c,te,!1):!!u!=!!c&&(a!=null?Xr(i,!!c,a,!0):Xr(i,!!c,c?[]:"",!1));return;case"textarea":ie=te=null;for(D in c)if(p=c[D],c.hasOwnProperty(D)&&p!=null&&!u.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Dt(i,a,D,null,u,p)}for(w in u)if(p=u[w],y=c[w],u.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":te=p;break;case"defaultValue":ie=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==y&&Dt(i,a,w,p,u,y)}wd(i,te,ie);return;case"option":for(var De in c)te=c[De],c.hasOwnProperty(De)&&te!=null&&!u.hasOwnProperty(De)&&(De==="selected"?i.selected=!1:Dt(i,a,De,null,u,te));for(H in u)te=u[H],ie=c[H],u.hasOwnProperty(H)&&te!==ie&&(te!=null||ie!=null)&&(H==="selected"?i.selected=te&&typeof te!="function"&&typeof te!="symbol":Dt(i,a,H,te,u,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in c)te=c[ze],c.hasOwnProperty(ze)&&te!=null&&!u.hasOwnProperty(ze)&&Dt(i,a,ze,null,u,te);for(ee in u)if(te=u[ee],ie=c[ee],u.hasOwnProperty(ee)&&te!==ie&&(te!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,a));break;default:Dt(i,a,ee,te,u,ie)}return;default:if(bl(a)){for(var Mt in c)te=c[Mt],c.hasOwnProperty(Mt)&&te!==void 0&&!u.hasOwnProperty(Mt)&&Oy(i,a,Mt,void 0,u,te);for(he in u)te=u[he],ie=c[he],!u.hasOwnProperty(he)||te===ie||te===void 0&&ie===void 0||Oy(i,a,he,te,u,ie);return}}for(var X in c)te=c[X],c.hasOwnProperty(X)&&te!=null&&!u.hasOwnProperty(X)&&Dt(i,a,X,null,u,te);for(ge in u)te=u[ge],ie=c[ge],!u.hasOwnProperty(ge)||te===ie||te==null&&ie==null||Dt(i,a,ge,te,u,ie)}function nS(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,c=performance.getEntriesByType("resource"),u=0;u<c.length;u++){var p=c[u],y=p.transferSize,w=p.initiatorType,D=p.duration;if(y&&D&&nS(w)){for(w=0,D=p.responseEnd,u+=1;u<c.length;u++){var H=c[u],ee=H.startTime;if(ee>D)break;var he=H.transferSize,ge=H.initiatorType;he&&nS(ge)&&(H=H.responseEnd,w+=he*(H<D?1:(D-ee)/(H-ee)))}if(--u,a+=8*(y+w)/(p.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ny=null,Py=null;function Af(i){return i.nodeType===9?i:i.ownerDocument}function sS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iS(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Ly(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Vy=null;function KN(){var i=window.event;return i&&i.type==="popstate"?i===Vy?!1:(Vy=i,!0):(Vy=null,!1)}var rS=typeof setTimeout=="function"?setTimeout:void 0,YN=typeof clearTimeout=="function"?clearTimeout:void 0,aS=typeof Promise=="function"?Promise:void 0,WN=typeof queueMicrotask=="function"?queueMicrotask:typeof aS<"u"?function(i){return aS.resolve(null).then(i).catch(QN)}:rS;function QN(i){setTimeout(function(){throw i})}function wa(i){return i==="head"}function oS(i,a){var c=a,u=0;do{var p=c.nextSibling;if(i.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"||c==="/&"){if(u===0){i.removeChild(p),tc(a);return}u--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")u++;else if(c==="html")Pu(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,Pu(c);for(var y=c.firstChild;y;){var w=y.nextSibling,D=y.nodeName;y[Ui]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=w}}else c==="body"&&Pu(i.ownerDocument.body);c=p}while(c);tc(a)}function lS(i,a){var c=i;i=0;do{var u=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),u&&u.nodeType===8)if(c=u.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=u}while(c)}function Uy(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Uy(c),yl(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function XN(i,a,c,u){for(;i.nodeType===1;){var p=c;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ui])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=ei(i.nextSibling),i===null)break}return null}function JN(i,a,c){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=ei(i.nextSibling),i===null))return null;return i}function cS(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ei(i.nextSibling),i===null))return null;return i}function jy(i){return i.data==="$?"||i.data==="$~"}function Fy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function ZN(i,a){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||c.readyState!=="loading")a();else{var u=function(){a(),c.removeEventListener("DOMContentLoaded",u)};c.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ei(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var By=null;function uS(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(a===0)return ei(i.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}i=i.nextSibling}return null}function hS(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return i;a--}else c!=="/$"&&c!=="/&"||a++}i=i.previousSibling}return null}function dS(i,a,c){switch(a=Af(c),i){case"html":if(i=a.documentElement,!i)throw Error(s(452));return i;case"head":if(i=a.head,!i)throw Error(s(453));return i;case"body":if(i=a.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Pu(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);yl(i)}var ti=new Map,fS=new Set;function xf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Mr=W.d;W.d={f:eP,r:tP,D:nP,C:sP,L:iP,m:rP,X:oP,S:aP,M:lP};function eP(){var i=Mr.f(),a=yf();return i||a}function tP(i){var a=Hs(i);a!==null&&a.tag===5&&a.type==="form"?IT(a):Mr.r(i)}var Jl=typeof document>"u"?null:document;function mS(i,a,c){var u=Jl;if(u&&typeof a=="string"&&a){var p=ms(a);p='link[rel="'+i+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),fS.has(p)||(fS.add(p),i={rel:i,crossOrigin:c,href:a},u.querySelector(p)===null&&(a=u.createElement("link"),jn(a,"link",i),un(a),u.head.appendChild(a)))}}function nP(i){Mr.D(i),mS("dns-prefetch",i,null)}function sP(i,a){Mr.C(i,a),mS("preconnect",i,a)}function iP(i,a,c){Mr.L(i,a,c);var u=Jl;if(u&&i&&a){var p='link[rel="preload"][as="'+ms(a)+'"]';a==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+ms(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+ms(c.imageSizes)+'"]')):p+='[href="'+ms(i)+'"]';var y=p;switch(a){case"style":y=Zl(i);break;case"script":y=ec(i)}ti.has(y)||(i=v({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:i,as:a},c),ti.set(y,i),u.querySelector(p)!==null||a==="style"&&u.querySelector(Lu(y))||a==="script"&&u.querySelector(Vu(y))||(a=u.createElement("link"),jn(a,"link",i),un(a),u.head.appendChild(a)))}}function rP(i,a){Mr.m(i,a);var c=Jl;if(c&&i){var u=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+ms(u)+'"][href="'+ms(i)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ec(i)}if(!ti.has(y)&&(i=v({rel:"modulepreload",href:i},a),ti.set(y,i),c.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Vu(y)))return}u=c.createElement("link"),jn(u,"link",i),un(u),c.head.appendChild(u)}}}function aP(i,a,c){Mr.S(i,a,c);var u=Jl;if(u&&i){var p=Fi(u).hoistableStyles,y=Zl(i);a=a||"default";var w=p.get(y);if(!w){var D={loading:0,preload:null};if(w=u.querySelector(Lu(y)))D.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":a},c),(c=ti.get(y))&&zy(i,c);var H=w=u.createElement("link");un(H),jn(H,"link",i),H._p=new Promise(function(ee,he){H.onload=ee,H.onerror=he}),H.addEventListener("load",function(){D.loading|=1}),H.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Cf(w,a,u)}w={type:"stylesheet",instance:w,count:1,state:D},p.set(y,w)}}}function oP(i,a){Mr.X(i,a);var c=Jl;if(c&&i){var u=Fi(c).hoistableScripts,p=ec(i),y=u.get(p);y||(y=c.querySelector(Vu(p)),y||(i=v({src:i,async:!0},a),(a=ti.get(p))&&$y(i,a),y=c.createElement("script"),un(y),jn(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function lP(i,a){Mr.M(i,a);var c=Jl;if(c&&i){var u=Fi(c).hoistableScripts,p=ec(i),y=u.get(p);y||(y=c.querySelector(Vu(p)),y||(i=v({src:i,async:!0,type:"module"},a),(a=ti.get(p))&&$y(i,a),y=c.createElement("script"),un(y),jn(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function pS(i,a,c,u){var p=(p=Ce.current)?xf(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Zl(c.href),c=Fi(p).hoistableStyles,u=c.get(a),u||(u={type:"style",instance:null,count:0,state:null},c.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Zl(c.href);var y=Fi(p).hoistableStyles,w=y.get(i);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,w),(y=p.querySelector(Lu(i)))&&!y._p&&(w.instance=y,w.state.loading=5),ti.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ti.set(i,c),y||cP(p,i,c,w.state))),a&&u===null)throw Error(s(528,""));return w}if(a&&u!==null)throw Error(s(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ec(c),c=Fi(p).hoistableScripts,u=c.get(a),u||(u={type:"script",instance:null,count:0,state:null},c.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Zl(i){return'href="'+ms(i)+'"'}function Lu(i){return'link[rel="stylesheet"]['+i+"]"}function gS(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function cP(i,a,c,u){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=i.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),jn(a,"link",c),un(a),i.head.appendChild(a))}function ec(i){return'[src="'+ms(i)+'"]'}function Vu(i){return"script[async]"+i}function yS(i,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var u=i.querySelector('style[data-href~="'+ms(c.href)+'"]');if(u)return a.instance=u,un(u),u;var p=v({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),un(u),jn(u,"style",p),Cf(u,c.precedence,i),a.instance=u;case"stylesheet":p=Zl(c.href);var y=i.querySelector(Lu(p));if(y)return a.state.loading|=4,a.instance=y,un(y),y;u=gS(c),(p=ti.get(p))&&zy(u,p),y=(i.ownerDocument||i).createElement("link"),un(y);var w=y;return w._p=new Promise(function(D,H){w.onload=D,w.onerror=H}),jn(y,"link",u),a.state.loading|=4,Cf(y,c.precedence,i),a.instance=y;case"script":return y=ec(c.src),(p=i.querySelector(Vu(y)))?(a.instance=p,un(p),p):(u=c,(p=ti.get(y))&&(u=v({},c),$y(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),un(p),jn(p,"link",u),i.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Cf(u,c.precedence,i));return a.instance}function Cf(i,a,c){for(var u=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,w=0;w<u.length;w++){var D=u[w];if(D.dataset.precedence===a)y=D;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(i,a.firstChild))}function zy(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function $y(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Rf=null;function vS(i,a,c){if(Rf===null){var u=new Map,p=Rf=new Map;p.set(c,u)}else p=Rf,u=p.get(c),u||(u=new Map,p.set(c,u));if(u.has(i))return u;for(u.set(i,null),c=c.getElementsByTagName(i),p=0;p<c.length;p++){var y=c[p];if(!(y[Ui]||y[cn]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(a)||"";w=i+w;var D=u.get(w);D?D.push(y):u.set(w,[y])}}return u}function _S(i,a,c){i=i.ownerDocument||i,i.head.insertBefore(c,a==="title"?i.querySelector("head > title"):null)}function uP(i,a,c){if(c===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function bS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function hP(i,a,c,u){if(c.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var p=Zl(u.href),y=a.querySelector(Lu(p));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=kf.bind(i),a.then(i,i)),c.state.loading|=4,c.instance=y,un(y);return}y=a.ownerDocument||a,u=gS(u),(p=ti.get(p))&&zy(u,p),y=y.createElement("link"),un(y);var w=y;w._p=new Promise(function(D,H){w.onload=D,w.onerror=H}),jn(y,"link",u),c.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=kf.bind(i),a.addEventListener("load",c),a.addEventListener("error",c))}}var Hy=0;function dP(i,a){return i.stylesheets&&i.count===0&&Df(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var u=setTimeout(function(){if(i.stylesheets&&Df(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+a);0<i.imgBytes&&Hy===0&&(Hy=62500*GN());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Df(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Hy?50:800)+a);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function kf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Df(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var If=null;function Df(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,If=new Map,a.forEach(fP,i),If=null,kf.call(i))}function fP(i,a){if(!(a.state.loading&4)){var c=If.get(i);if(c)var u=c.get(null);else{c=new Map,If.set(i,c);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(c.set(w.dataset.precedence,w),u=w)}u&&c.set(null,u)}p=a.instance,w=p.getAttribute("data-precedence"),y=c.get(w)||u,y===u&&c.set(null,p),c.set(w,p),this.count++,u=kf.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),a.state.loading|=4}}var Uu={$$typeof:V,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function mP(i,a,c,u,p,y,w,D,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function wS(i,a,c,u,p,y,w,D,H,ee,he,ge){return i=new mP(i,a,c,w,H,ee,he,ge,D),a=1,y===!0&&(a|=24),y=ks(3,null,null,a),i.current=y,y.stateNode=i,a=Eg(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:u,isDehydrated:c,cache:a},Cg(y),i}function TS(i){return i?(i=Dl,i):Dl}function ES(i,a,c,u,p,y){p=TS(p),u.context===null?u.context=p:u.pendingContext=p,u=ua(a),u.payload={element:c},y=y===void 0?null:y,y!==null&&(u.callback=y),c=ha(i,u,a),c!==null&&(bs(c,i,a),gu(c,i,a))}function SS(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function qy(i,a){SS(i,a),(i=i.alternate)&&SS(i,a)}function AS(i){if(i.tag===13||i.tag===31){var a=Eo(i,67108864);a!==null&&bs(a,i,67108864),qy(i,67108864)}}function xS(i){if(i.tag===13||i.tag===31){var a=Ns();a=uo(a);var c=Eo(i,a);c!==null&&bs(c,i,a),qy(i,a)}}var Mf=!0;function pP(i,a,c,u){var p=$.T;$.T=null;var y=W.p;try{W.p=2,Gy(i,a,c,u)}finally{W.p=y,$.T=p}}function gP(i,a,c,u){var p=$.T;$.T=null;var y=W.p;try{W.p=8,Gy(i,a,c,u)}finally{W.p=y,$.T=p}}function Gy(i,a,c,u){if(Mf){var p=Ky(u);if(p===null)My(i,a,u,Of,c),RS(i,u);else if(vP(p,i,a,c,u))u.stopPropagation();else if(RS(i,u),a&4&&-1<yP.indexOf(i)){for(;p!==null;){var y=Hs(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=Xe(y.pendingLanes);if(w!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;w;){var H=1<<31-qt(w);D.entanglements[1]|=H,w&=~H}Zi(y),(wt&6)===0&&(pf=on()+500,Mu(0))}}break;case 31:case 13:D=Eo(y,2),D!==null&&bs(D,y,2),yf(),qy(y,2)}if(y=Ky(u),y===null&&My(i,a,u,Of,c),y===p)break;p=y}p!==null&&u.stopPropagation()}else My(i,a,u,null,c)}}function Ky(i){return i=qs(i),Yy(i)}var Of=null;function Yy(i){if(Of=null,i=ji(i),i!==null){var a=o(i);if(a===null)i=null;else{var c=a.tag;if(c===13){if(i=l(a),i!==null)return i;i=null}else if(c===31){if(i=h(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Of=i,null}function CS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(di()){case fi:return 2;case zs:return 8;case ds:case Bt:return 32;case es:return 268435456;default:return 32}default:return 32}}var Wy=!1,Ta=null,Ea=null,Sa=null,ju=new Map,Fu=new Map,Aa=[],yP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RS(i,a){switch(i){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":ju.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(a.pointerId)}}function Bu(i,a,c,u,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:c,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},a!==null&&(a=Hs(a),a!==null&&AS(a)),i):(i.eventSystemFlags|=u,a=i.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),i)}function vP(i,a,c,u,p){switch(a){case"focusin":return Ta=Bu(Ta,i,a,c,u,p),!0;case"dragenter":return Ea=Bu(Ea,i,a,c,u,p),!0;case"mouseover":return Sa=Bu(Sa,i,a,c,u,p),!0;case"pointerover":var y=p.pointerId;return ju.set(y,Bu(ju.get(y)||null,i,a,c,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Fu.set(y,Bu(Fu.get(y)||null,i,a,c,u,p)),!0}return!1}function kS(i){var a=ji(i.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){i.blockedOn=a,yi(i.priority,function(){xS(c)});return}}else if(a===31){if(a=h(c),a!==null){i.blockedOn=a,yi(i.priority,function(){xS(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Nf(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=Ky(i.nativeEvent);if(c===null){c=i.nativeEvent;var u=new c.constructor(c.type,c);eu=u,c.target.dispatchEvent(u),eu=null}else return a=Hs(c),a!==null&&AS(a),i.blockedOn=c,!1;a.shift()}return!0}function IS(i,a,c){Nf(i)&&c.delete(a)}function _P(){Wy=!1,Ta!==null&&Nf(Ta)&&(Ta=null),Ea!==null&&Nf(Ea)&&(Ea=null),Sa!==null&&Nf(Sa)&&(Sa=null),ju.forEach(IS),Fu.forEach(IS)}function Pf(i,a){i.blockedOn===a&&(i.blockedOn=null,Wy||(Wy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_P)))}var Lf=null;function DS(i){Lf!==i&&(Lf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Lf===i&&(Lf=null);for(var a=0;a<i.length;a+=3){var c=i[a],u=i[a+1],p=i[a+2];if(typeof u!="function"){if(Yy(u||c)===null)continue;break}var y=Hs(c);y!==null&&(i.splice(a,3),a-=3,Kg(y,{pending:!0,data:p,method:c.method,action:u},u,p))}}))}function tc(i){function a(H){return Pf(H,i)}Ta!==null&&Pf(Ta,i),Ea!==null&&Pf(Ea,i),Sa!==null&&Pf(Sa,i),ju.forEach(a),Fu.forEach(a);for(var c=0;c<Aa.length;c++){var u=Aa[c];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Aa.length&&(c=Aa[0],c.blockedOn===null);)kS(c),c.blockedOn===null&&Aa.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(u=0;u<c.length;u+=3){var p=c[u],y=c[u+1],w=p[kn]||null;if(typeof y=="function")w||DS(c);else if(w){var D=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[kn]||null)D=w.formAction;else if(Yy(p)!==null)continue}else D=w.action;typeof D=="function"?c[u+1]=D:(c.splice(u,3),u-=3),DS(c)}}}function MS(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),u||setTimeout(c,20)}function c(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function Qy(i){this._internalRoot=i}Vf.prototype.render=Qy.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(s(409));var c=a.current,u=Ns();ES(c,u,i,a,null,null)},Vf.prototype.unmount=Qy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;ES(i.current,2,null,i,null,null),yf(),a[Vi]=null}};function Vf(i){this._internalRoot=i}Vf.prototype.unstable_scheduleHydration=function(i){if(i){var a=gd();i={blockedOn:null,target:i,priority:a};for(var c=0;c<Aa.length&&a!==0&&a<Aa[c].priority;c++);Aa.splice(c,0,i),c===0&&kS(i)}};var OS=e.version;if(OS!=="19.2.3")throw Error(s(527,OS,"19.2.3"));W.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=f(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var bP={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uf.isDisabled&&Uf.supportsFiber)try{fs=Uf.inject(bP),ln=Uf}catch{}}return $u.createRoot=function(i,a){if(!r(i))throw Error(s(299));var c=!1,u="",p=FT,y=BT,w=zT;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=wS(i,1,!1,null,null,c,u,null,p,y,w,MS),i[Vi]=a.current,Dy(i),new Qy(a)},$u.hydrateRoot=function(i,a,c){if(!r(i))throw Error(s(299));var u=!1,p="",y=FT,w=BT,D=zT,H=null;return c!=null&&(c.unstable_strictMode===!0&&(u=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.formState!==void 0&&(H=c.formState)),a=wS(i,1,!0,a,c??null,u,p,H,y,w,D,MS),a.context=TS(null),c=a.current,u=Ns(),u=uo(u),p=ua(u),p.callback=null,ha(c,p,u),c=u,a.current.lanes=c,$s(a,c),Zi(a),i[Vi]=a.current,Dy(i),new Vf(a)},$u.version="19.2.3",$u}var $S;function IP(){if($S)return Zy.exports;$S=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zy.exports=kP(),Zy.exports}var DP=IP();const MP=u0(DP),OP="modulepreload",NP=function(t){return"/AWAKE/"+t},HS={},_t=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){let d=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=l?.nonce||l?.getAttribute("nonce");r=d(n.map(f=>{if(f=NP(f),f in HS)return;HS[f]=!0;const g=f.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":OP,g||(_.as="script"),_.crossOrigin="",_.href=f,h&&_.setAttribute("nonce",h),document.head.appendChild(_),g)return new Promise((A,I)=>{_.addEventListener("load",A),_.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l}return r.then(l=>{for(const h of l||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};var qS="popstate";function PP(t={}){function e(s,r){let{pathname:o,search:l,hash:h}=s.location;return t_("",{pathname:o,search:l,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:Ah(r)}return VP(e,n,null,t)}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function js(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LP(){return Math.random().toString(36).substring(2,10)}function GS(t,e){return{usr:t.state,key:t.key,idx:e}}function t_(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Dc(e):e,state:n,key:e&&e.key||s||LP()}}function Ah({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Dc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function VP(t,e,n,s={}){let{window:r=document.defaultView,v5Compat:o=!1}=s,l=r.history,h="POP",d=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function v(){h="POP";let M=g(),B=M==null?null:M-f;f=M,d&&d({action:h,location:O.location,delta:B})}function _(M,B){h="PUSH";let F=t_(O.location,M,B);f=g()+1;let V=GS(F,f),K=O.createHref(F);try{l.pushState(V,"",K)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;r.location.assign(K)}o&&d&&d({action:h,location:O.location,delta:1})}function A(M,B){h="REPLACE";let F=t_(O.location,M,B);f=g();let V=GS(F,f),K=O.createHref(F);l.replaceState(V,"",K),o&&d&&d({action:h,location:O.location,delta:0})}function I(M){return UP(M)}let O={get action(){return h},get location(){return t(r,l)},listen(M){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(qS,v),d=M,()=>{r.removeEventListener(qS,v),d=null}},createHref(M){return e(r,M)},createURL:I,encodeLocation(M){let B=I(M);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:_,replace:A,go(M){return l.go(M)}};return O}function UP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Ah(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function dR(t,e,n="/"){return jP(t,e,n,!1)}function jP(t,e,n,s){let r=typeof e=="string"?Dc(e):e,o=jr(r.pathname||"/",n);if(o==null)return null;let l=fR(t);FP(l);let h=null;for(let d=0;h==null&&d<l.length;++d){let f=XP(o);h=WP(l[d],f,s)}return h}function fR(t,e=[],n=[],s="",r=!1){let o=(l,h,d=r,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&d)return;Ht(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let v=Lr([s,g.relativePath]),_=n.concat(g);l.children&&l.children.length>0&&(Ht(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),fR(l.children,e,_,v,d)),!(l.path==null&&!l.index)&&e.push({path:v,score:KP(v,l.index),routesMeta:_})};return t.forEach((l,h)=>{if(l.path===""||!l.path?.includes("?"))o(l,h);else for(let d of mR(l.path))o(l,h,!0,d)}),e}function mR(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return r?[o,""]:[o];let l=mR(s.join("/")),h=[];return h.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&h.push(...l),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function FP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YP(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var BP=/^:[\w-]+$/,zP=3,$P=2,HP=1,qP=10,GP=-2,KS=t=>t==="*";function KP(t,e){let n=t.split("/"),s=n.length;return n.some(KS)&&(s+=GP),e&&(s+=$P),n.filter(r=>!KS(r)).reduce((r,o)=>r+(BP.test(o)?zP:o===""?HP:qP),s)}function YP(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function WP(t,e,n=!1){let{routesMeta:s}=t,r={},o="/",l=[];for(let h=0;h<s.length;++h){let d=s[h],f=h===s.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Sm({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),_=d.route;if(!v&&f&&n&&!s[s.length-1].route.index&&(v=Sm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(r,v.params),l.push({params:r,pathname:Lr([o,v.pathname]),pathnameBase:tL(Lr([o,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(o=Lr([o,v.pathnameBase]))}return l}function Sm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=QP(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:s.reduce((f,{paramName:g,isOptional:v},_)=>{if(g==="*"){let I=h[_]||"";l=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const A=h[_];return v&&!A?f[g]=void 0:f[g]=(A||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function QP(t,e=!1,n=!0){js(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function XP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return js(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function jr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var pR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JP=t=>pR.test(t);function ZP(t,e="/"){let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Dc(t):t,o;if(n)if(JP(n))o=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),js(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?o=YS(n.substring(1),"/"):o=YS(n,e)}else o=e;return{pathname:o,search:nL(s),hash:sL(r)}}function YS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function sv(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function h0(t){let e=eL(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function d0(t,e,n,s=!1){let r;typeof t=="string"?r=Dc(t):(r={...t},Ht(!r.pathname||!r.pathname.includes("?"),sv("?","pathname","search",r)),Ht(!r.pathname||!r.pathname.includes("#"),sv("#","pathname","hash",r)),Ht(!r.search||!r.search.includes("#"),sv("#","search","hash",r)));let o=t===""||r.pathname==="",l=o?"/":r.pathname,h;if(l==null)h=n;else{let v=e.length-1;if(!s&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;r.pathname=_.join("/")}h=v>=0?e[v]:"/"}let d=ZP(r,h),f=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var Lr=t=>t.join("/").replace(/\/\/+/g,"/"),tL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,iL=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function rL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function aL(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var gR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function yR(t,e){let n=t;if(typeof n!="string"||!pR.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,r=!1;if(gR)try{let o=new URL(window.location.href),l=n.startsWith("//")?new URL(o.protocol+n):new URL(n),h=jr(l.pathname,e);l.origin===o.origin&&h!=null?n=h+l.search+l.hash:r=!0}catch{js(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:r,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vR=["POST","PUT","PATCH","DELETE"];new Set(vR);var oL=["GET",...vR];new Set(oL);var Mc=T.createContext(null);Mc.displayName="DataRouter";var yp=T.createContext(null);yp.displayName="DataRouterState";var lL=T.createContext(!1),_R=T.createContext({isTransitioning:!1});_R.displayName="ViewTransition";var cL=T.createContext(new Map);cL.displayName="Fetchers";var uL=T.createContext(null);uL.displayName="Await";var Bs=T.createContext(null);Bs.displayName="Navigation";var Yh=T.createContext(null);Yh.displayName="Location";var ci=T.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var f0=T.createContext(null);f0.displayName="RouteError";var bR="REACT_ROUTER_ERROR",hL="REDIRECT",dL="ROUTE_ERROR_RESPONSE";function fL(t){if(t.startsWith(`${bR}:${hL}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function mL(t){if(t.startsWith(`${bR}:${dL}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new iL(e.status,e.statusText,e.data)}catch{}}function pL(t,{relative:e}={}){Ht(Oc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=T.useContext(Bs),{hash:r,pathname:o,search:l}=Wh(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Lr([n,o])),s.createHref({pathname:h,search:l,hash:r})}function Oc(){return T.useContext(Yh)!=null}function Ss(){return Ht(Oc(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Yh).location}var wR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TR(t){T.useContext(Bs).static||T.useLayoutEffect(t)}function Gr(){let{isDataRoute:t}=T.useContext(ci);return t?IL():gL()}function gL(){Ht(Oc(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Mc),{basename:e,navigator:n}=T.useContext(Bs),{matches:s}=T.useContext(ci),{pathname:r}=Ss(),o=JSON.stringify(h0(s)),l=T.useRef(!1);return TR(()=>{l.current=!0}),T.useCallback((d,f={})=>{if(js(l.current,wR),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=d0(d,JSON.parse(o),r,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Lr([e,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[e,n,o,r,t])}var yL=T.createContext(null);function vL(t){let e=T.useContext(ci).outlet;return T.useMemo(()=>e&&T.createElement(yL.Provider,{value:t},e),[e,t])}function FJ(){let{matches:t}=T.useContext(ci),e=t[t.length-1];return e?e.params:{}}function Wh(t,{relative:e}={}){let{matches:n}=T.useContext(ci),{pathname:s}=Ss(),r=JSON.stringify(h0(n));return T.useMemo(()=>d0(t,JSON.parse(r),s,e==="path"),[t,r,s,e])}function _L(t,e){return ER(t,e)}function ER(t,e,n,s,r){Ht(Oc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=T.useContext(Bs),{matches:l}=T.useContext(ci),h=l[l.length-1],d=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let F=v&&v.path||"";AR(f,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=Ss(),A;if(e){let F=typeof e=="string"?Dc(e):e;Ht(g==="/"||F.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),A=F}else A=_;let I=A.pathname||"/",O=I;if(g!=="/"){let F=g.replace(/^\//,"").split("/");O="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let M=dR(t,{pathname:O});js(v||M!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),js(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=SL(M&&M.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:Lr([g,o.encodeLocation?o.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:Lr([g,o.encodeLocation?o.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),l,n,s,r);return e&&B?T.createElement(Yh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function bL(){let t=kL(),e=rL(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:o},"ErrorBoundary")," or"," ",T.createElement("code",{style:o},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:r},n):null,l)}var wL=T.createElement(bL,null),SR=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=mL(t.digest);n&&(t=n)}let e=t!==void 0?T.createElement(ci.Provider,{value:this.props.routeContext},T.createElement(f0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?T.createElement(TL,{error:t},e):e}};SR.contextType=lL;var iv=new WeakMap;function TL({children:t,error:e}){let{basename:n}=T.useContext(Bs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=fL(e.digest);if(s){let r=iv.get(e);if(r)throw r;let o=yR(s.location,n);if(gR&&!iv.get(e))if(o.isExternal||s.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:s.replace}));throw iv.set(e,l),l}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function EL({routeContext:t,match:e,children:n}){let s=T.useContext(Mc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(ci.Provider,{value:t},n)}function SL(t,e=[],n=null,s=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let g=o.findIndex(v=>v.route.id&&l?.[v.route.id]!==void 0);Ht(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=g),v.route.id){let{loaderData:_,errors:A}=n,I=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||I){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=n&&s?(g,v)=>{s(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:aL(n.matches),errorInfo:v})}:void 0;return o.reduceRight((g,v,_)=>{let A,I=!1,O=null,M=null;n&&(A=l&&v.route.id?l[v.route.id]:void 0,O=v.route.errorElement||wL,h&&(d<0&&_===0?(AR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,M=null):d===_&&(I=!0,M=v.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,_+1)),F=()=>{let V;return A?V=O:I?V=M:v.route.Component?V=T.createElement(v.route.Component,null):v.route.element?V=v.route.element:V=g,T.createElement(EL,{match:v,routeContext:{outlet:g,matches:B,isDataRoute:n!=null},children:V})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?T.createElement(SR,{location:n.location,revalidation:n.revalidation,component:O,error:A,children:F(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:f}):F()},null)}function m0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AL(t){let e=T.useContext(Mc);return Ht(e,m0(t)),e}function xL(t){let e=T.useContext(yp);return Ht(e,m0(t)),e}function CL(t){let e=T.useContext(ci);return Ht(e,m0(t)),e}function p0(t){let e=CL(t),n=e.matches[e.matches.length-1];return Ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function RL(){return p0("useRouteId")}function kL(){let t=T.useContext(f0),e=xL("useRouteError"),n=p0("useRouteError");return t!==void 0?t:e.errors?.[n]}function IL(){let{router:t}=AL("useNavigate"),e=p0("useNavigate"),n=T.useRef(!1);return TR(()=>{n.current=!0}),T.useCallback(async(r,o={})=>{js(n.current,wR),n.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:e,...o}))},[t,e])}var WS={};function AR(t,e,n){!e&&!WS[t]&&(WS[t]=!0,js(!1,n))}T.memo(DL);function DL({routes:t,future:e,state:n,onError:s}){return ER(t,void 0,n,s,e)}function xR({to:t,replace:e,state:n,relative:s}){Ht(Oc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=T.useContext(Bs);js(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=T.useContext(ci),{pathname:l}=Ss(),h=Gr(),d=d0(t,h0(o),l,s==="path"),f=JSON.stringify(d);return T.useEffect(()=>{h(JSON.parse(f),{replace:e,state:n,relative:s})},[h,f,s,e,n]),null}function Am(t){return vL(t.context)}function nt(t){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ML({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:r,static:o=!1,unstable_useTransitions:l}){Ht(!Oc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:h,navigator:r,static:o,unstable_useTransitions:l,future:{}}),[h,r,o,l]);typeof n=="string"&&(n=Dc(n));let{pathname:f="/",search:g="",hash:v="",state:_=null,key:A="default"}=n,I=T.useMemo(()=>{let O=jr(f,h);return O==null?null:{location:{pathname:O,search:g,hash:v,state:_,key:A},navigationType:s}},[h,f,g,v,_,A,s]);return js(I!=null,`<Router basename="${h}"> is not able to match the URL "${f}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:T.createElement(Bs.Provider,{value:d},T.createElement(Yh.Provider,{children:e,value:I}))}function OL({children:t,location:e}){return _L(n_(t),e)}function n_(t,e=[]){let n=[];return T.Children.forEach(t,(s,r)=>{if(!T.isValidElement(s))return;let o=[...e,r];if(s.type===T.Fragment){n.push.apply(n,n_(s.props.children,o));return}Ht(s.type===nt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let l={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=n_(s.props.children,o)),n.push(l)}),n}var rm="get",am="application/x-www-form-urlencoded";function vp(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function NL(t){return vp(t)&&t.tagName.toLowerCase()==="button"}function PL(t){return vp(t)&&t.tagName.toLowerCase()==="form"}function LL(t){return vp(t)&&t.tagName.toLowerCase()==="input"}function VL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UL(t,e){return t.button===0&&(!e||e==="_self")&&!VL(t)}function s_(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function jL(t,e){let n=s_(t);return e&&e.forEach((s,r)=>{n.has(r)||e.getAll(r).forEach(o=>{n.append(r,o)})}),n}var jf=null;function FL(){if(jf===null)try{new FormData(document.createElement("form"),0),jf=!1}catch{jf=!0}return jf}var BL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rv(t){return t!=null&&!BL.has(t)?(js(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${am}"`),null):t}function zL(t,e){let n,s,r,o,l;if(PL(t)){let h=t.getAttribute("action");s=h?jr(h,e):null,n=t.getAttribute("method")||rm,r=rv(t.getAttribute("enctype"))||am,o=new FormData(t)}else if(NL(t)||LL(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(s=d?jr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||rm,r=rv(t.getAttribute("formenctype"))||rv(h.getAttribute("enctype"))||am,o=new FormData(h,t),!FL()){let{name:f,type:g,value:v}=t;if(g==="image"){let _=f?`${f}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else f&&o.append(f,v)}}else{if(vp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rm,s=null,r=am,l=t}return o&&r==="text/plain"&&(l=o,o=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function g0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $L(t,e,n,s){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${s}`:r.pathname=`${r.pathname}.${s}`:r.pathname==="/"?r.pathname=`_root.${s}`:e&&jr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function HL(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function GL(t,e,n){let s=await Promise.all(t.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await HL(o,n);return l.links?l.links():[]}return[]}));return QL(s.flat(1).filter(qL).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function QS(t,e,n,s,r,o){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,h=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>l(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{let g=s.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function KL(t,e,{includeHydrateFallback:n}={}){return YL(t.map(s=>{let r=e.routes[s.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function YL(t){return[...new Set(t)]}function WL(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function QL(t,e){let n=new Set;return new Set(e),t.reduce((s,r)=>{let o=JSON.stringify(WL(r));return n.has(o)||(n.add(o),s.push({key:o,link:r})),s},[])}function CR(){let t=T.useContext(Mc);return g0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function XL(){let t=T.useContext(yp);return g0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var y0=T.createContext(void 0);y0.displayName="FrameworkContext";function RR(){let t=T.useContext(y0);return g0(t,"You must render this element inside a <HydratedRouter> element"),t}function JL(t,e){let n=T.useContext(y0),[s,r]=T.useState(!1),[o,l]=T.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:v}=e,_=T.useRef(null);T.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let O=B=>{B.forEach(F=>{l(F.isIntersecting)})},M=new IntersectionObserver(O,{threshold:.5});return _.current&&M.observe(_.current),()=>{M.disconnect()}}},[t]),T.useEffect(()=>{if(s){let O=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(O)}}},[s]);let A=()=>{r(!0)},I=()=>{r(!1),l(!1)};return n?t!=="intent"?[o,_,{}]:[o,_,{onFocus:Hu(h,A),onBlur:Hu(d,I),onMouseEnter:Hu(f,A),onMouseLeave:Hu(g,I),onTouchStart:Hu(v,A)}]:[!1,_,{}]}function Hu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ZL({page:t,...e}){let{router:n}=CR(),s=T.useMemo(()=>dR(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?T.createElement(tV,{page:t,matches:s,...e}):null}function eV(t){let{manifest:e,routeModules:n}=RR(),[s,r]=T.useState([]);return T.useEffect(()=>{let o=!1;return GL(t,e,n).then(l=>{o||r(l)}),()=>{o=!0}},[t,e,n]),s}function tV({page:t,matches:e,...n}){let s=Ss(),{future:r,manifest:o,routeModules:l}=RR(),{basename:h}=CR(),{loaderData:d,matches:f}=XL(),g=T.useMemo(()=>QS(t,e,f,o,s,"data"),[t,e,f,o,s]),v=T.useMemo(()=>QS(t,e,f,o,s,"assets"),[t,e,f,o,s]),_=T.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let O=new Set,M=!1;if(e.forEach(F=>{let V=o.routes[F.route.id];!V||!V.hasLoader||(!g.some(K=>K.route.id===F.route.id)&&F.route.id in d&&l[F.route.id]?.shouldRevalidate||V.hasClientLoader?M=!0:O.add(F.route.id))}),O.size===0)return[];let B=$L(t,h,r.unstable_trailingSlashAwareDataRequests,"data");return M&&O.size>0&&B.searchParams.set("_routes",e.filter(F=>O.has(F.route.id)).map(F=>F.route.id).join(",")),[B.pathname+B.search]},[h,r.unstable_trailingSlashAwareDataRequests,d,s,o,g,e,t,l]),A=T.useMemo(()=>KL(v,o),[v,o]),I=eV(v);return T.createElement(T.Fragment,null,_.map(O=>T.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),A.map(O=>T.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),I.map(({key:O,link:M})=>T.createElement("link",{key:O,nonce:n.nonce,...M})))}function nV(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sV&&(window.__reactRouterVersion="7.12.0")}catch{}function iV({basename:t,children:e,unstable_useTransitions:n,window:s}){let r=T.useRef();r.current==null&&(r.current=PP({window:s,v5Compat:!0}));let o=r.current,[l,h]=T.useState({action:o.action,location:o.location}),d=T.useCallback(f=>{n===!1?h(f):T.startTransition(()=>h(f))},[n]);return T.useLayoutEffect(()=>o.listen(d),[o,d]),T.createElement(ML,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:n})}var kR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IR=T.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:r,reloadDocument:o,replace:l,state:h,target:d,to:f,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:_,...A},I){let{basename:O,unstable_useTransitions:M}=T.useContext(Bs),B=typeof f=="string"&&kR.test(f),F=yR(f,O);f=F.to;let V=pL(f,{relative:r}),[K,U,Y]=JL(s,A),x=lV(f,{replace:l,state:h,target:d,preventScrollReset:g,relative:r,viewTransition:v,unstable_defaultShouldRevalidate:_,unstable_useTransitions:M});function S(L){e&&e(L),L.defaultPrevented||x(L)}let C=T.createElement("a",{...A,...Y,href:F.absoluteURL||V,onClick:F.isExternal||o?e:S,ref:nV(I,U),target:d,"data-discover":!B&&n==="render"?"true":void 0});return K&&!B?T.createElement(T.Fragment,null,C,T.createElement(ZL,{page:V})):C});IR.displayName="Link";var rV=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:r=!1,style:o,to:l,viewTransition:h,children:d,...f},g){let v=Wh(l,{relative:f.relative}),_=Ss(),A=T.useContext(yp),{navigator:I,basename:O}=T.useContext(Bs),M=A!=null&&mV(v)&&h===!0,B=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,F=_.pathname,V=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(F=F.toLowerCase(),V=V?V.toLowerCase():null,B=B.toLowerCase()),V&&O&&(V=jr(V,O)||V);const K=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let U=F===B||!r&&F.startsWith(B)&&F.charAt(K)==="/",Y=V!=null&&(V===B||!r&&V.startsWith(B)&&V.charAt(B.length)==="/"),x={isActive:U,isPending:Y,isTransitioning:M},S=U?e:void 0,C;typeof s=="function"?C=s(x):C=[s,U?"active":null,Y?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(x):o;return T.createElement(IR,{...f,"aria-current":S,className:C,ref:g,style:L,to:l,viewTransition:h},typeof d=="function"?d(x):d)});rV.displayName="NavLink";var aV=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:r,state:o,method:l=rm,action:h,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:_,...A},I)=>{let{unstable_useTransitions:O}=T.useContext(Bs),M=dV(),B=fV(h,{relative:f}),F=l.toLowerCase()==="get"?"get":"post",V=typeof h=="string"&&kR.test(h),K=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let Y=U.nativeEvent.submitter,x=Y?.getAttribute("formmethod")||l,S=()=>M(Y||U.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:r,state:o,relative:f,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:_});O&&n!==!1?T.startTransition(()=>S()):S()};return T.createElement("form",{ref:I,method:F,action:B,onSubmit:s?d:K,...A,"data-discover":!V&&t==="render"?"true":void 0})});aV.displayName="Form";function oV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DR(t){let e=T.useContext(Mc);return Ht(e,oV(t)),e}function lV(t,{target:e,replace:n,state:s,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let f=Gr(),g=Ss(),v=Wh(t,{relative:o});return T.useCallback(_=>{if(UL(_,e)){_.preventDefault();let A=n!==void 0?n:Ah(g)===Ah(v),I=()=>f(t,{replace:A,state:s,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:h});d?T.startTransition(()=>I()):I()}},[g,f,v,n,s,e,t,r,o,l,h,d])}function cV(t){js(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(s_(t)),n=T.useRef(!1),s=Ss(),r=T.useMemo(()=>jL(s.search,n.current?null:e.current),[s.search]),o=Gr(),l=T.useCallback((h,d)=>{const f=s_(typeof h=="function"?h(new URLSearchParams(r)):h);n.current=!0,o("?"+f,d)},[o,r]);return[r,l]}var uV=0,hV=()=>`__${String(++uV)}__`;function dV(){let{router:t}=DR("useSubmit"),{basename:e}=T.useContext(Bs),n=RL(),s=t.fetch,r=t.navigate;return T.useCallback(async(o,l={})=>{let{action:h,method:d,encType:f,formData:g,body:v}=zL(o,e);if(l.navigate===!1){let _=l.fetcherKey||hV();await s(_,n,l.action||h,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:v,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await r(l.action||h,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:v,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,r,e,n])}function fV(t,{relative:e}={}){let{basename:n}=T.useContext(Bs),s=T.useContext(ci);Ht(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),o={...Wh(t||".",{relative:e})},l=Ss();if(t==null){o.search=l.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Lr([n,o.pathname])),Ah(o)}function mV(t,{relative:e}={}){let n=T.useContext(_R);Ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=DR("useViewTransitionState"),r=Wh(t,{relative:e});if(!n.isTransitioning)return!1;let o=jr(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=jr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Sm(r.pathname,l)!=null||Sm(r.pathname,o)!=null}var pV=hR();const gV=()=>{};var XS={};const yV={SDK_VERSION:"${JSCORE_VERSION}"};const i_=function(t,e){if(!t)throw vV(e)},vV=function(t){return new Error("Firebase Database ("+yV.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};const MR=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},_V=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[s++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],l=t[n++],h=t[n++],d=((r&7)<<18|(o&63)<<12|(l&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},OR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const o=t[r],l=r+1<t.length,h=l?t[r+1]:0,d=r+2<t.length,f=d?t[r+2]:0,g=o>>2,v=(o&3)<<4|h>>4;let _=(h&15)<<2|f>>6,A=f&63;d||(A=64,l||(_=64)),s.push(n[g],n[v],n[_],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_V(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],h=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const v=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||h==null||f==null||v==null)throw new bV;const _=o<<2|h>>4;if(s.push(_),f!==64){const A=h<<4&240|f>>2;if(s.push(A),v!==64){const I=f<<6&192|v;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wV=function(t){const e=MR(t);return OR.encodeByteArray(e,!0)},xm=function(t){return wV(t).replace(/\./g,"")},NR=function(t){try{return OR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function TV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const EV=()=>TV().__FIREBASE_DEFAULTS__,SV=()=>{if(typeof process>"u"||typeof XS>"u")return;const t=XS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NR(t[1]);return e&&JSON.parse(e)},_p=()=>{try{return gV()||EV()||SV()||AV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PR=t=>_p()?.emulatorHosts?.[t],v0=t=>{const e=PR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},LR=()=>_p()?.config,VR=t=>_p()?.[`_${t}`];class xV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function fr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bp(t){return(await fetch(t,{credentials:"include"})).ok}function UR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[xm(JSON.stringify(n)),xm(JSON.stringify(l)),""].join(".")}const hh={};function CV(){const t={prod:[],emulator:[]};for(const e of Object.keys(hh))hh[e]?t.emulator.push(e):t.prod.push(e);return t}function RV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let JS=!1;function wp(t,e){if(typeof window>"u"||typeof document>"u"||!fr(window.location.host)||hh[t]===e||hh[t]||JS)return;hh[t]=e;function n(_){return`__firebase__banner__${_}`}const s="__firebase__banner",o=CV().prod.length>0;function l(){const _=document.getElementById(s);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,A){_.setAttribute("width","24"),_.setAttribute("id",A),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{JS=!0,l()},_}function g(_,A){_.setAttribute("id",A),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=RV(s),A=n("text"),I=document.getElementById(A)||document.createElement("span"),O=n("learnmore"),M=document.getElementById(O)||document.createElement("a"),B=n("preprendIcon"),F=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const V=_.element;h(V),g(M,O);const K=f();d(F,B),V.append(F,I,M,K),document.body.appendChild(V)}o?(I.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function IV(){const t=_p()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OV(){const t=Xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NV(){return!IV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _0(){try{return typeof indexedDB=="object"}catch{return!1}}function FR(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}function PV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const LV="FirebaseError";class As extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=LV,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,so.prototype.create)}}class so{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?VV(o,s):"Error",h=`${this.serviceName}: ${l} (${r}).`;return new As(r,h,s)}}function VV(t,e){return t.replace(UV,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const UV=/\{\$([^}]+)}/g;function jV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function el(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const o=t[r],l=e[r];if(ZS(o)&&ZS(l)){if(!el(o,l))return!1}else if(o!==l)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function ZS(t){return t!==null&&typeof t=="object"}function Qh(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function sh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,o]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function ih(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FV(t,e){const n=new BV(t,e);return n.subscribe.bind(n)}class BV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");zV(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=av),r.error===void 0&&(r.error=av),r.complete===void 0&&(r.complete=av);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function av(){}const $V=1e3,HV=2,qV=14400*1e3,GV=.5;function Cm(t,e=$V,n=HV){const s=e*Math.pow(n,t),r=Math.round(GV*s*(Math.random()-.5)*2);return Math.min(qV,s+r)}function mt(t){return t&&t._delegate?t._delegate:t}class Es{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bo="[DEFAULT]";class KV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new xV;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WV(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});s.resolve(o)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[o,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);s===h&&l.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YV(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YV(t){return t===Bo?void 0:t}function WV(t){return t.instantiationMode==="EAGER"}class QV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const XV={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},JV=rt.INFO,ZV={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},e4=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=ZV[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Xh=class{constructor(e){this.name=e,this._logLevel=JV,this._logHandler=e4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}};const t4=(t,e)=>e.some(n=>t instanceof n);let e1,t1;function n4(){return e1||(e1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s4(){return t1||(t1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BR=new WeakMap,r_=new WeakMap,zR=new WeakMap,ov=new WeakMap,b0=new WeakMap;function i4(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n($a(t.result)),r()},l=()=>{s(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&BR.set(n,t)}).catch(()=>{}),b0.set(e,t),e}function r4(t){if(r_.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});r_.set(t,e)}let a_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return r_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $a(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function a4(t){a_=t(a_)}function o4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(lv(this),e,...n);return zR.set(s,e.sort?e.sort():[e]),$a(s)}:s4().includes(t)?function(...e){return t.apply(lv(this),e),$a(BR.get(this))}:function(...e){return $a(t.apply(lv(this),e))}}function l4(t){return typeof t=="function"?o4(t):(t instanceof IDBTransaction&&r4(t),t4(t,n4())?new Proxy(t,a_):t)}function $a(t){if(t instanceof IDBRequest)return i4(t);if(ov.has(t))return ov.get(t);const e=l4(t);return e!==t&&(ov.set(t,e),b0.set(e,t)),e}const lv=t=>b0.get(t);function $R(t,e,{blocked:n,upgrade:s,blocking:r,terminated:o}={}){const l=indexedDB.open(t,e),h=$a(l);return s&&l.addEventListener("upgradeneeded",d=>{s($a(l.result),d.oldVersion,d.newVersion,$a(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const c4=["get","getKey","getAll","getAllKeys","count"],u4=["put","add","delete","clear"],cv=new Map;function n1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cv.get(e))return cv.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=u4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||c4.includes(n)))return;const o=async function(l,...h){const d=this.transaction(l,r?"readwrite":"readonly");let f=d.store;return s&&(f=f.index(h.shift())),(await Promise.all([f[n](...h),r&&d.done]))[0]};return cv.set(e,o),o}a4(t=>({...t,get:(e,n,s)=>n1(e,n)||t.get(e,n,s),has:(e,n)=>!!n1(e,n)||t.has(e,n)}));class h4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function d4(t){return t.getComponent()?.type==="VERSION"}const o_="@firebase/app",s1="0.14.9";const Fr=new Xh("@firebase/app"),f4="@firebase/app-compat",m4="@firebase/analytics-compat",p4="@firebase/analytics",g4="@firebase/app-check-compat",y4="@firebase/app-check",v4="@firebase/auth",_4="@firebase/auth-compat",b4="@firebase/database",w4="@firebase/data-connect",T4="@firebase/database-compat",E4="@firebase/functions",S4="@firebase/functions-compat",A4="@firebase/installations",x4="@firebase/installations-compat",C4="@firebase/messaging",R4="@firebase/messaging-compat",k4="@firebase/performance",I4="@firebase/performance-compat",D4="@firebase/remote-config",M4="@firebase/remote-config-compat",O4="@firebase/storage",N4="@firebase/storage-compat",P4="@firebase/firestore",L4="@firebase/ai",V4="@firebase/firestore-compat",U4="firebase",j4="12.10.0";const l_="[DEFAULT]",F4={[o_]:"fire-core",[f4]:"fire-core-compat",[p4]:"fire-analytics",[m4]:"fire-analytics-compat",[y4]:"fire-app-check",[g4]:"fire-app-check-compat",[v4]:"fire-auth",[_4]:"fire-auth-compat",[b4]:"fire-rtdb",[w4]:"fire-data-connect",[T4]:"fire-rtdb-compat",[E4]:"fire-fn",[S4]:"fire-fn-compat",[A4]:"fire-iid",[x4]:"fire-iid-compat",[C4]:"fire-fcm",[R4]:"fire-fcm-compat",[k4]:"fire-perf",[I4]:"fire-perf-compat",[D4]:"fire-rc",[M4]:"fire-rc-compat",[O4]:"fire-gcs",[N4]:"fire-gcs-compat",[P4]:"fire-fst",[V4]:"fire-fst-compat",[L4]:"fire-vertex","fire-js":"fire-js",[U4]:"fire-js-all"};const Rm=new Map,B4=new Map,c_=new Map;function i1(t,e){try{t.container.addComponent(e)}catch(n){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fs(t){const e=t.name;if(c_.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;c_.set(e,t);for(const n of Rm.values())i1(n,t);for(const n of B4.values())i1(n,t);return!0}function hl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rs(t){return t==null?!1:t.settings!==void 0}const z4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ha=new so("app","Firebase",z4);class $4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}const Br=j4;function HR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:l_,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Ha.create("bad-app-name",{appName:String(r)});if(n||(n=LR()),!n)throw Ha.create("no-options");const o=Rm.get(r);if(o){if(el(n,o.options)&&el(s,o.config))return o;throw Ha.create("duplicate-app",{appName:r})}const l=new QV(r);for(const d of c_.values())l.addComponent(d);const h=new $4(n,s,l);return Rm.set(r,h),h}function Tp(t=l_){const e=Rm.get(t);if(!e&&t===l_&&LR())return HR();if(!e)throw Ha.create("no-app",{appName:t});return e}function Nn(t,e,n){let s=F4[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(l.join(" "));return}Fs(new Es(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const H4="firebase-heartbeat-database",q4=1,xh="firebase-heartbeat-store";let uv=null;function qR(){return uv||(uv=$R(H4,q4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ha.create("idb-open",{originalErrorMessage:t.message})})),uv}async function G4(t){try{const n=(await qR()).transaction(xh),s=await n.objectStore(xh).get(GR(t));return await n.done,s}catch(e){if(e instanceof As)Fr.warn(e.message);else{const n=Ha.create("idb-get",{originalErrorMessage:e?.message});Fr.warn(n.message)}}}async function r1(t,e){try{const s=(await qR()).transaction(xh,"readwrite");await s.objectStore(xh).put(e,GR(t)),await s.done}catch(n){if(n instanceof As)Fr.warn(n.message);else{const s=Ha.create("idb-set",{originalErrorMessage:n?.message});Fr.warn(s.message)}}}function GR(t){return`${t.name}!${t.options.appId}`}const K4=1024,Y4=30;class W4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=a1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Y4){const r=J4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a1(),{heartbeatsToSend:n,unsentEntries:s}=Q4(this._heartbeatsCache.heartbeats),r=xm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Fr.warn(e),""}}}function a1(){return new Date().toISOString().substring(0,10)}function Q4(t,e=K4){const n=[];let s=t.slice();for(const r of t){const o=n.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),o1(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),o1(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class X4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _0()?FR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function o1(t){return xm(JSON.stringify({version:2,heartbeats:t})).length}function J4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function Z4(t){Fs(new Es("platform-logger",e=>new h4(e),"PRIVATE")),Fs(new Es("heartbeat",e=>new W4(e),"PRIVATE")),Nn(o_,s1,t),Nn(o_,s1,"esm2020"),Nn("fire-js","")}Z4("");var e3="firebase",t3="12.10.0";Nn(e3,t3,"app");function KR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n3=KR,YR=new so("auth","Firebase",KR());const km=new Xh("@firebase/auth");function s3(t,...e){km.logLevel<=rt.WARN&&km.warn(`Auth (${Br}): ${t}`,...e)}function om(t,...e){km.logLevel<=rt.ERROR&&km.error(`Auth (${Br}): ${t}`,...e)}function li(t,...e){throw T0(t,...e)}function Di(t,...e){return T0(t,...e)}function w0(t,e,n){const s={...n3(),[e]:n};return new so("auth","Firebase",s).create(e,{appName:t.name})}function Vr(t){return w0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function i3(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&li(t,"argument-error"),w0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function T0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return YR.create(t,...e)}function He(t,e,...n){if(!t)throw T0(e,...n)}function Nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw om(e),new Error(e)}function zr(t,e){t||Nr(e)}function u_(){return typeof self<"u"&&self.location?.href||""}function r3(){return l1()==="http:"||l1()==="https:"}function l1(){return typeof self<"u"&&self.location?.protocol||null}function a3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r3()||jR()||"connection"in navigator)?navigator.onLine:!0}function o3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Jh{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=kV()||MV()}get(){return a3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function E0(t,e){zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class WR{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const l3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const c3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],u3=new Jh(3e4,6e4);function Kr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Li(t,e,n,s,r={}){return QR(t,r,async()=>{let o={},l={};s&&(e==="GET"?l=s:o={body:JSON.stringify(s)});const h=Qh({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...o};return DV()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&fr(t.emulatorConfig.host)&&(f.credentials="include"),WR.fetch()(await XR(t,t.config.apiHost,n,h),f)})}async function QR(t,e,n){t._canInitEmulator=!1;const s={...l3,...e};try{const r=new d3(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Ff(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const h=o.ok?l.errorMessage:l.error.message,[d,f]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ff(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ff(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ff(t,"user-disabled",l);const g=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw w0(t,g,f);li(t,g)}}catch(r){if(r instanceof As)throw r;li(t,"network-request-failed",{message:String(r)})}}async function Zh(t,e,n,s,r={}){const o=await Li(t,e,n,s,r);return"mfaPendingCredential"in o&&li(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function XR(t,e,n,s){const r=`${e}${n}?${s}`,o=t,l=o.config.emulator?E0(t.config,r):`${t.config.apiScheme}://${r}`;return c3.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function h3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class d3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Di(this.auth,"network-request-failed")),u3.get())})}}function Ff(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Di(t,e,s);return r.customData._tokenResponse=n,r}function c1(t){return t!==void 0&&t.enterprise!==void 0}class f3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return h3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function m3(t,e){return Li(t,"GET","/v2/recaptchaConfig",Kr(t,e))}async function p3(t,e){return Li(t,"POST","/v1/accounts:delete",e)}async function Im(t,e){return Li(t,"POST","/v1/accounts:lookup",e)}function dh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g3(t,e=!1){const n=mt(t),s=await n.getIdToken(e),r=S0(s);He(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o?.sign_in_provider;return{claims:r,token:s,authTime:dh(hv(r.auth_time)),issuedAtTime:dh(hv(r.iat)),expirationTime:dh(hv(r.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function hv(t){return Number(t)*1e3}function S0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return om("JWT malformed, contained fewer than 3 sections"),null;try{const r=NR(n);return r?JSON.parse(r):(om("Failed to decode base64 JWT payload"),null)}catch(r){return om("Caught error parsing JWT payload as JSON",r?.toString()),null}}function u1(t){const e=S0(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function tl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof As&&y3(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function y3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class v3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class h_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dh(this.lastLoginAt),this.creationTime=dh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Dm(t){const e=t.auth,n=await t.getIdToken(),s=await tl(t,Im(e,{idToken:n}));He(s?.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const o=r.providerUserInfo?.length?JR(r.providerUserInfo):[],l=b3(t.providerData,o),h=t.isAnonymous,d=!(t.email&&r.passwordHash)&&!l?.length,f=h?d:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new h_(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function _3(t){const e=mt(t);await Dm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b3(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function JR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function w3(t,e){const n=await QR(t,{},async()=>{const s=Qh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,l=await XR(t,r,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:s};return t.emulatorConfig&&fr(t.emulatorConfig.host)&&(d.credentials="include"),WR.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function T3(t,e){return Li(t,"POST","/v2/accounts:revokeToken",Kr(t,e))}class mc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=u1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:o}=await w3(e,n);this.updateTokensAndExpiration(s,r,Number(o))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:o}=n,l=new mc;return s&&(He(typeof s=="string","internal-error",{appName:e}),l.refreshToken=s),r&&(He(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(He(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mc,this.toJSON())}_performRefresh(){return Nr("not implemented")}}function Ca(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ii{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new v3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new h_(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await tl(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return g3(this,e)}reload(){return _3(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Dm(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rs(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await tl(this,p3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:A,providerData:I,stsTokenManager:O}=n;He(v&&O,e,"internal-error");const M=mc.fromJSON(this.name,O);He(typeof v=="string",e,"internal-error"),Ca(s,e.name),Ca(r,e.name),He(typeof _=="boolean",e,"internal-error"),He(typeof A=="boolean",e,"internal-error"),Ca(o,e.name),Ca(l,e.name),Ca(h,e.name),Ca(d,e.name),Ca(f,e.name),Ca(g,e.name);const B=new Ii({uid:v,auth:e,email:r,emailVerified:_,displayName:s,isAnonymous:A,photoURL:l,phoneNumber:o,tenantId:h,stsTokenManager:M,createdAt:f,lastLoginAt:g});return I&&Array.isArray(I)&&(B.providerData=I.map(F=>({...F}))),d&&(B._redirectEventId=d),B}static async _fromIdTokenResponse(e,n,s=!1){const r=new mc;r.updateFromServerResponse(n);const o=new Ii({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Dm(o),o}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];He(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?JR(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!o?.length,h=new mc;h.updateFromIdToken(s);const d=new Ii({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new h_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,f),d}}const h1=new Map;function Pr(t){zr(t instanceof Function,"Expected a class definition");let e=h1.get(t);return e?(zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,h1.set(t,e),e)}class ZR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZR.type="NONE";const d1=ZR;function lm(t,e,n){return`firebase:${t}:${e}:${n}`}class pc{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:o}=this.auth;this.fullUserKey=lm(this.userKey,r.apiKey,o),this.fullPersistenceKey=lm("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Im(this.auth,{idToken:e}).catch(()=>{});return n?Ii._fromGetAccountInfoResponse(this.auth,n,e):null}return Ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new pc(Pr(d1),e,s);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||Pr(d1);const l=lm(s,e.config.apiKey,e.name);let h=null;for(const f of n)try{const g=await f._get(l);if(g){let v;if(typeof g=="string"){const _=await Im(e,{idToken:g}).catch(()=>{});if(!_)break;v=await Ii._fromGetAccountInfoResponse(e,_,g)}else v=Ii._fromJSON(e,g);f!==o&&(h=v),o=f;break}}catch{}const d=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new pc(o,e,s):(o=d[0],h&&await o._set(l,h.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new pc(o,e,s))}}function f1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ek(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rk(e))return"Blackberry";if(ak(e))return"Webos";if(tk(e))return"Safari";if((e.includes("chrome/")||nk(e))&&!e.includes("edge/"))return"Chrome";if(ik(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function ek(t=Xn()){return/firefox\//i.test(t)}function tk(t=Xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nk(t=Xn()){return/crios\//i.test(t)}function sk(t=Xn()){return/iemobile/i.test(t)}function ik(t=Xn()){return/android/i.test(t)}function rk(t=Xn()){return/blackberry/i.test(t)}function ak(t=Xn()){return/webos/i.test(t)}function A0(t=Xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function E3(t=Xn()){return A0(t)&&!!window.navigator?.standalone}function S3(){return OV()&&document.documentMode===10}function ok(t=Xn()){return A0(t)||ik(t)||ak(t)||rk(t)||/windows phone/i.test(t)||sk(t)}function lk(t,e=[]){let n;switch(t){case"Browser":n=f1(Xn());break;case"Worker":n=`${f1(Xn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Br}/${s}`}class A3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=o=>new Promise((l,h)=>{try{const d=e(o);l(d)}catch(d){h(d)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function x3(t,e={}){return Li(t,"GET","/v2/passwordPolicy",Kr(t,e))}const C3=6;class R3{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??C3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class k3{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m1(this),this.idTokenSubscription=new m1(this),this.beforeStateQueue=new A3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Im(this,{idToken:e}),s=await Ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(rs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===l)&&h?.user&&(s=h.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rs(this.app))return Promise.reject(Vr(this));const n=e?mt(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rs(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rs(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await x3(this),n=new R3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new so("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await T3(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pr(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await pc.create(this,[Pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(h,this,"internal-error"),h.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,r);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&s3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Yr(t){return mt(t)}class m1{constructor(e){this.auth=e,this.observer=null,this.addObserver=FV(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I3(t){Ep=t}function ck(t){return Ep.loadJS(t)}function D3(){return Ep.recaptchaEnterpriseScript}function M3(){return Ep.gapiScript}function O3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class N3{constructor(){this.enterprise=new P3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class P3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const L3="recaptcha-enterprise",uk="NO_RECAPTCHA";class V3{constructor(e){this.type=L3,this.auth=Yr(e)}async verify(e="verify",n=!1){async function s(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,h)=>{m3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new f3(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{h(d)})})}function r(o,l,h){const d=window.grecaptcha;c1(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(uk)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new N3().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{s(this.auth).then(h=>{if(!n&&c1(window.grecaptcha))r(h,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=D3();d.length!==0&&(d+=h),ck(d).then(()=>{r(h,o,l)}).catch(f=>{l(f)})}}).catch(h=>{l(h)})})}}async function p1(t,e,n,s=!1,r=!1){const o=new V3(t);let l;if(r)l=uk;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Mm(t,e,n,s,r){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await p1(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await p1(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(o)})}function U3(t,e){const n=hl(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(el(o,e??{}))return r;li(r,"already-initialized")}return n.initialize({options:e})}function j3(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Pr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function F3(t,e,n){const s=Yr(t);He(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,o=hk(e),{host:l,port:h}=B3(e),d=h===null?"":`:${h}`,f={url:`${o}//${l}${d}/`},g=Object.freeze({host:l,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){He(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),He(el(f,s.config.emulator)&&el(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=f,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,fr(l)?(bp(`${o}//${l}${d}`),wp("Auth",!0)):z3()}function hk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function B3(t){const e=hk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const o=r[1];return{host:o,port:g1(s.substr(o.length+1))}}else{const[o,l]=s.split(":");return{host:o,port:g1(l)}}}function g1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function z3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class x0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}async function $3(t,e){return Li(t,"POST","/v1/accounts:update",e)}async function H3(t,e){return Li(t,"POST","/v1/accounts:signUp",e)}async function q3(t,e){return Zh(t,"POST","/v1/accounts:signInWithPassword",Kr(t,e))}async function dk(t,e){return Li(t,"POST","/v1/accounts:sendOobCode",Kr(t,e))}async function G3(t,e){return dk(t,e)}async function K3(t,e){return dk(t,e)}async function Y3(t,e){return Zh(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,e))}async function W3(t,e){return Zh(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,e))}class Ch extends x0{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ch(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ch(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,n,"signInWithPassword",q3);case"emailLink":return Y3(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,s,"signUpPassword",H3);case"emailLink":return W3(e,{idToken:n,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function gc(t,e){return Zh(t,"POST","/v1/accounts:signInWithIdp",Kr(t,e))}const Q3="http://localhost";class nl extends x0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new nl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...o}=n;if(!s||!r)return null;const l=new nl(s,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return gc(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,gc(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gc(e,n)}buildRequest(){const e={requestUri:Q3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qh(n)}return e}}function X3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function J3(t){const e=sh(ih(t)).link,n=e?sh(ih(e)).deep_link_id:null,s=sh(ih(t)).deep_link_id;return(s?sh(ih(s)).link:null)||s||n||e||t}class C0{constructor(e){const n=sh(ih(e)),s=n.apiKey??null,r=n.oobCode??null,o=X3(n.mode??null);He(s&&r&&o,"argument-error"),this.apiKey=s,this.operation=o,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=J3(e);try{return new C0(n)}catch{return null}}}class Nc{constructor(){this.providerId=Nc.PROVIDER_ID}static credential(e,n){return Ch._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=C0.parseLink(n);return He(s,"argument-error"),Ch._fromEmailAndCode(e,s.code,s.tenantId)}}Nc.PROVIDER_ID="password";Nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class R0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ed extends R0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Oa extends ed{constructor(){super("facebook.com")}static credential(e){return nl._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oa.PROVIDER_ID="facebook.com";class Na extends ed{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return nl._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Na.credential(n,s)}catch{return null}}}Na.GOOGLE_SIGN_IN_METHOD="google.com";Na.PROVIDER_ID="google.com";class Pa extends ed{constructor(){super("github.com")}static credential(e){return nl._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.GITHUB_SIGN_IN_METHOD="github.com";Pa.PROVIDER_ID="github.com";class La extends ed{constructor(){super("twitter.com")}static credential(e,n){return nl._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return La.credential(n,s)}catch{return null}}}La.TWITTER_SIGN_IN_METHOD="twitter.com";La.PROVIDER_ID="twitter.com";async function Z3(t,e){return Zh(t,"POST","/v1/accounts:signUp",Kr(t,e))}class sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const o=await Ii._fromIdTokenResponse(e,s,r),l=y1(s);return new sl({user:o,providerId:l,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=y1(s);return new sl({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function y1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Om extends As{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Om.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Om(e,n,s,r)}}function fk(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Om._fromErrorAndOperation(t,o,e,s):o})}async function e5(t,e,n=!1){const s=await tl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sl._forOperation(t,"link",s)}async function mk(t,e,n=!1){const{auth:s}=t;if(rs(s.app))return Promise.reject(Vr(s));const r="reauthenticate";try{const o=await tl(t,fk(s,r,e,t),n);He(o.idToken,s,"internal-error");const l=S0(o.idToken);He(l,s,"internal-error");const{sub:h}=l;return He(t.uid===h,s,"user-mismatch"),sl._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&li(s,"user-mismatch"),o}}async function pk(t,e,n=!1){if(rs(t.app))return Promise.reject(Vr(t));const s="signIn",r=await fk(t,s,e),o=await sl._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(o.user),o}async function t5(t,e){return pk(Yr(t),e)}async function zJ(t,e){return mk(mt(t),e)}async function gk(t){const e=Yr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $J(t,e,n){const s=Yr(t);await Mm(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",K3)}async function HJ(t,e,n){if(rs(t.app))return Promise.reject(Vr(t));const s=Yr(t),l=await Mm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Z3).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&gk(t),d}),h=await sl._fromIdTokenResponse(s,"signIn",l);return await s._updateCurrentUser(h.user),h}function qJ(t,e,n){return rs(t.app)?Promise.reject(Vr(t)):t5(mt(t),Nc.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&gk(t),s})}async function GJ(t,e){const n=mt(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await G3(n.auth,r);o!==t.email&&await t.reload()}async function n5(t,e){return Li(t,"POST","/v1/accounts:update",e)}async function KJ(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=mt(t),o={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await tl(s,n5(s.auth,o));s.displayName=l.displayName||null,s.photoURL=l.photoUrl||null;const h=s.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=s.displayName,h.photoURL=s.photoURL),await s._updateTokensIfNecessary(l)}function YJ(t,e){return s5(mt(t),null,e)}async function s5(t,e,n){const{auth:s}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(o.password=n);const l=await tl(t,$3(s,o));await t._updateTokensIfNecessary(l,!0)}function i5(t,e,n,s){return mt(t).onIdTokenChanged(e,n,s)}function r5(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function a5(t,e,n,s){return mt(t).onAuthStateChanged(e,n,s)}function o5(t){return mt(t).signOut()}const Nm="__sak";class yk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nm,"1"),this.storage.removeItem(Nm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const l5=1e3,c5=10;class vk extends yk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ok(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,d)=>{this.notifyListeners(l,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(s);!n&&this.localCache[s]===l||this.notifyListeners(s,l)},o=this.storage.getItem(s);S3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,c5):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},l5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vk.type="LOCAL";const u5=vk;class _k extends yk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_k.type="SESSION";const bk=_k;function h5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Sp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Sp(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:o}=n.data,l=this.handlersMap[r];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const h=Array.from(l).map(async f=>f(n.origin,o)),d=await h5(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sp.receivers=[];function k0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class d5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((h,d)=>{const f=k0("",20);r.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},s);l={messageChannel:r,onMessage(v){const _=v;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(_.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function ir(){return window}function f5(t){ir().location.href=t}function wk(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function m5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p5(){return navigator?.serviceWorker?.controller||null}function g5(){return wk()?self:null}const Tk="firebaseLocalStorageDb",y5=1,Pm="firebaseLocalStorage",Ek="fbase_key";class td{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ap(t,e){return t.transaction([Pm],e?"readwrite":"readonly").objectStore(Pm)}function v5(){const t=indexedDB.deleteDatabase(Tk);return new td(t).toPromise()}function d_(){const t=indexedDB.open(Tk,y5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Pm,{keyPath:Ek})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Pm)?e(s):(s.close(),await v5(),e(await d_()))})})}async function v1(t,e,n){const s=Ap(t,!0).put({[Ek]:e,value:n});return new td(s).toPromise()}async function _5(t,e){const n=Ap(t,!1).get(e),s=await new td(n).toPromise();return s===void 0?null:s.value}function _1(t,e){const n=Ap(t,!0).delete(e);return new td(n).toPromise()}const b5=800,w5=3;class Sk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await d_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>w5)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sp._getInstance(g5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await m5(),!this.activeServiceWorker)return;this.sender=new d5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await d_();return await v1(e,Nm,"1"),await _1(e,Nm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>v1(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>_5(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=Ap(r,!1).getAll();return new td(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sk.type="LOCAL";const T5=Sk;new Jh(3e4,6e4);function Ak(t,e){return e?Pr(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class I0 extends x0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function E5(t){return pk(t.auth,new I0(t),t.bypassAuthState)}function S5(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),mk(n,new I0(t),t.bypassAuthState)}async function A5(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),e5(n,new I0(t),t.bypassAuthState)}class xk{constructor(e,n,s,r,o=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:o,error:l,type:h}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E5;case"linkViaPopup":case"linkViaRedirect":return A5;case"reauthViaPopup":case"reauthViaRedirect":return S5;default:li(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const x5=new Jh(2e3,1e4);async function WJ(t,e,n){if(rs(t.app))return Promise.reject(Di(t,"operation-not-supported-in-this-environment"));const s=Yr(t);i3(t,e,R0);const r=Ak(s,n);return new Ho(s,"signInViaPopup",e,r).executeNotNull()}class Ho extends xk{constructor(e,n,s,r,o){super(e,n,r,o),this.provider=s,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=k0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,x5.get())};e()}}Ho.currentPopupAction=null;const C5="pendingRedirect",cm=new Map;class R5 extends xk{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=cm.get(this.auth._key());if(!e){try{const s=await k5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}cm.set(this.auth._key(),e)}return this.bypassAuthState||cm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k5(t,e){const n=M5(e),s=D5(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function I5(t,e){cm.set(t._key(),e)}function D5(t){return Pr(t._redirectPersistence)}function M5(t){return lm(C5,t.config.apiKey,t.name)}async function O5(t,e,n=!1){if(rs(t.app))return Promise.reject(Vr(t));const s=Yr(t),r=Ak(s,e),l=await new R5(s,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await s._persistUserIfCurrent(l.user),await s._setRedirectUser(null,e)),l}const N5=600*1e3;class P5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Ck(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Di(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N5&&this.cachedEventUids.clear(),this.cachedEventUids.has(b1(e))}saveEventToCache(e){this.cachedEventUids.add(b1(e)),this.lastProcessedEventTime=Date.now()}}function b1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ck({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function L5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ck(t);default:return!1}}async function V5(t,e={}){return Li(t,"GET","/v1/projects",e)}const U5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j5=/^https?/;async function F5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await V5(t);for(const n of e)try{if(B5(n))return}catch{}li(t,"unauthorized-domain")}function B5(t){const e=u_(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===s}if(!j5.test(n))return!1;if(U5.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}const z5=new Jh(3e4,6e4);function w1(){const t=ir().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $5(t){return new Promise((e,n)=>{function s(){w1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w1(),n(Di(t,"network-request-failed"))},timeout:z5.get()})}if(ir().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ir().gapi?.load)s();else{const r=O3("iframefcb");return ir()[r]=()=>{gapi.load?s():n(Di(t,"network-request-failed"))},ck(`${M3()}?onload=${r}`).catch(o=>n(o))}}).catch(e=>{throw um=null,e})}let um=null;function H5(t){return um=um||$5(t),um}const q5=new Jh(5e3,15e3),G5="__/auth/iframe",K5="emulator/auth/iframe",Y5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q5(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?E0(e,K5):`https://${t.config.authDomain}/${G5}`,s={apiKey:e.apiKey,appName:t.name,v:Br},r=W5.get(t.config.apiHost);r&&(s.eid=r);const o=t._getFrameworks();return o.length&&(s.fw=o.join(",")),`${n}?${Qh(s).slice(1)}`}async function X5(t){const e=await H5(t),n=ir().gapi;return He(n,t,"internal-error"),e.open({where:document.body,url:Q5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y5,dontclear:!0},s=>new Promise(async(r,o)=>{await s.restyle({setHideOnLeave:!1});const l=Di(t,"network-request-failed"),h=ir().setTimeout(()=>{o(l)},q5.get());function d(){ir().clearTimeout(h),r(s)}s.ping(d).then(d,()=>{o(l)})}))}const J5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z5=500,e6=600,t6="_blank",n6="http://localhost";class T1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s6(t,e,n,s=Z5,r=e6){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const d={...J5,width:s.toString(),height:r.toString(),top:o,left:l},f=Xn().toLowerCase();n&&(h=nk(f)?t6:n),ek(f)&&(e=e||n6,d.scrollbars="yes");const g=Object.entries(d).reduce((_,[A,I])=>`${_}${A}=${I},`,"");if(E3(f)&&h!=="_self")return i6(e||"",h),new T1(null);const v=window.open(e||"",h,g);He(v,t,"popup-blocked");try{v.focus()}catch{}return new T1(v)}function i6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const r6="__/auth/handler",a6="emulator/auth/handler",o6=encodeURIComponent("fac");async function E1(t,e,n,s,r,o){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Br,eventId:r};if(e instanceof R0){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",jV(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof ed){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),f=d?`#${o6}=${encodeURIComponent(d)}`:"";return`${l6(t)}?${Qh(h).slice(1)}${f}`}function l6({config:t}){return t.emulator?E0(t,a6):`https://${t.authDomain}/${r6}`}const dv="webStorageSupport";class c6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bk,this._completeRedirectFn=O5,this._overrideRedirectResult=I5}async _openPopup(e,n,s,r){zr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await E1(e,n,s,u_(),r);return s6(e,o,k0())}async _openRedirect(e,n,s,r){await this._originValidation(e);const o=await E1(e,n,s,u_(),r);return f5(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(zr(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await X5(e),s=new P5(e);return n.register("authEvent",r=>(He(r?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dv,{type:dv},r=>{const o=r?.[0]?.[dv];o!==void 0&&n(!!o),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=F5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ok()||tk()||A0()}}const u6=c6;var S1="@firebase/auth",A1="1.12.1";class h6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function d6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f6(t){Fs(new Es("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=s.options;He(l&&!l.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lk(t)},f=new k3(s,r,o,d);return j3(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Fs(new Es("auth-internal",e=>{const n=Yr(e.getProvider("auth").getImmediate());return(s=>new h6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nn(S1,A1,d6(t)),Nn(S1,A1,"esm2020")}const m6=300,p6=VR("authIdTokenMaxAge")||m6;let x1=null;const g6=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>p6)return;const r=n?.token;x1!==r&&(x1=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function y6(t=Tp()){const e=hl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=U3(t,{popupRedirectResolver:u6,persistence:[T5,u5,bk]}),s=VR("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const l=g6(o.toString());r5(n,l,()=>l(n.currentUser)),i5(n,h=>l(h))}}const r=PR("auth");return r&&F3(n,`http://${r}`),n}function v6(){return document.getElementsByTagName("head")?.[0]??document}I3({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const o=Di("internal-error");o.customData=r,n(o)},s.type="text/javascript",s.charset="UTF-8",v6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f6("Browser");var C1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qa,Rk;(function(){var t;function e(x,S){function C(){}C.prototype=S.prototype,x.F=S.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(L,j,N){for(var R=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)R[Q-2]=arguments[Q];return S.prototype[j].apply(L,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(x,S,C){C||(C=0);const L=Array(16);if(typeof S=="string")for(var j=0;j<16;++j)L[j]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(j=0;j<16;++j)L[j]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=x.g[0],C=x.g[1],j=x.g[2];let N=x.g[3],R;R=S+(N^C&(j^N))+L[0]+3614090360&4294967295,S=C+(R<<7&4294967295|R>>>25),R=N+(j^S&(C^j))+L[1]+3905402710&4294967295,N=S+(R<<12&4294967295|R>>>20),R=j+(C^N&(S^C))+L[2]+606105819&4294967295,j=N+(R<<17&4294967295|R>>>15),R=C+(S^j&(N^S))+L[3]+3250441966&4294967295,C=j+(R<<22&4294967295|R>>>10),R=S+(N^C&(j^N))+L[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=N+(j^S&(C^j))+L[5]+1200080426&4294967295,N=S+(R<<12&4294967295|R>>>20),R=j+(C^N&(S^C))+L[6]+2821735955&4294967295,j=N+(R<<17&4294967295|R>>>15),R=C+(S^j&(N^S))+L[7]+4249261313&4294967295,C=j+(R<<22&4294967295|R>>>10),R=S+(N^C&(j^N))+L[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=N+(j^S&(C^j))+L[9]+2336552879&4294967295,N=S+(R<<12&4294967295|R>>>20),R=j+(C^N&(S^C))+L[10]+4294925233&4294967295,j=N+(R<<17&4294967295|R>>>15),R=C+(S^j&(N^S))+L[11]+2304563134&4294967295,C=j+(R<<22&4294967295|R>>>10),R=S+(N^C&(j^N))+L[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=N+(j^S&(C^j))+L[13]+4254626195&4294967295,N=S+(R<<12&4294967295|R>>>20),R=j+(C^N&(S^C))+L[14]+2792965006&4294967295,j=N+(R<<17&4294967295|R>>>15),R=C+(S^j&(N^S))+L[15]+1236535329&4294967295,C=j+(R<<22&4294967295|R>>>10),R=S+(j^N&(C^j))+L[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=N+(C^j&(S^C))+L[6]+3225465664&4294967295,N=S+(R<<9&4294967295|R>>>23),R=j+(S^C&(N^S))+L[11]+643717713&4294967295,j=N+(R<<14&4294967295|R>>>18),R=C+(N^S&(j^N))+L[0]+3921069994&4294967295,C=j+(R<<20&4294967295|R>>>12),R=S+(j^N&(C^j))+L[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=N+(C^j&(S^C))+L[10]+38016083&4294967295,N=S+(R<<9&4294967295|R>>>23),R=j+(S^C&(N^S))+L[15]+3634488961&4294967295,j=N+(R<<14&4294967295|R>>>18),R=C+(N^S&(j^N))+L[4]+3889429448&4294967295,C=j+(R<<20&4294967295|R>>>12),R=S+(j^N&(C^j))+L[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=N+(C^j&(S^C))+L[14]+3275163606&4294967295,N=S+(R<<9&4294967295|R>>>23),R=j+(S^C&(N^S))+L[3]+4107603335&4294967295,j=N+(R<<14&4294967295|R>>>18),R=C+(N^S&(j^N))+L[8]+1163531501&4294967295,C=j+(R<<20&4294967295|R>>>12),R=S+(j^N&(C^j))+L[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=N+(C^j&(S^C))+L[2]+4243563512&4294967295,N=S+(R<<9&4294967295|R>>>23),R=j+(S^C&(N^S))+L[7]+1735328473&4294967295,j=N+(R<<14&4294967295|R>>>18),R=C+(N^S&(j^N))+L[12]+2368359562&4294967295,C=j+(R<<20&4294967295|R>>>12),R=S+(C^j^N)+L[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=N+(S^C^j)+L[8]+2272392833&4294967295,N=S+(R<<11&4294967295|R>>>21),R=j+(N^S^C)+L[11]+1839030562&4294967295,j=N+(R<<16&4294967295|R>>>16),R=C+(j^N^S)+L[14]+4259657740&4294967295,C=j+(R<<23&4294967295|R>>>9),R=S+(C^j^N)+L[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=N+(S^C^j)+L[4]+1272893353&4294967295,N=S+(R<<11&4294967295|R>>>21),R=j+(N^S^C)+L[7]+4139469664&4294967295,j=N+(R<<16&4294967295|R>>>16),R=C+(j^N^S)+L[10]+3200236656&4294967295,C=j+(R<<23&4294967295|R>>>9),R=S+(C^j^N)+L[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=N+(S^C^j)+L[0]+3936430074&4294967295,N=S+(R<<11&4294967295|R>>>21),R=j+(N^S^C)+L[3]+3572445317&4294967295,j=N+(R<<16&4294967295|R>>>16),R=C+(j^N^S)+L[6]+76029189&4294967295,C=j+(R<<23&4294967295|R>>>9),R=S+(C^j^N)+L[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=N+(S^C^j)+L[12]+3873151461&4294967295,N=S+(R<<11&4294967295|R>>>21),R=j+(N^S^C)+L[15]+530742520&4294967295,j=N+(R<<16&4294967295|R>>>16),R=C+(j^N^S)+L[2]+3299628645&4294967295,C=j+(R<<23&4294967295|R>>>9),R=S+(j^(C|~N))+L[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=N+(C^(S|~j))+L[7]+1126891415&4294967295,N=S+(R<<10&4294967295|R>>>22),R=j+(S^(N|~C))+L[14]+2878612391&4294967295,j=N+(R<<15&4294967295|R>>>17),R=C+(N^(j|~S))+L[5]+4237533241&4294967295,C=j+(R<<21&4294967295|R>>>11),R=S+(j^(C|~N))+L[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=N+(C^(S|~j))+L[3]+2399980690&4294967295,N=S+(R<<10&4294967295|R>>>22),R=j+(S^(N|~C))+L[10]+4293915773&4294967295,j=N+(R<<15&4294967295|R>>>17),R=C+(N^(j|~S))+L[1]+2240044497&4294967295,C=j+(R<<21&4294967295|R>>>11),R=S+(j^(C|~N))+L[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=N+(C^(S|~j))+L[15]+4264355552&4294967295,N=S+(R<<10&4294967295|R>>>22),R=j+(S^(N|~C))+L[6]+2734768916&4294967295,j=N+(R<<15&4294967295|R>>>17),R=C+(N^(j|~S))+L[13]+1309151649&4294967295,C=j+(R<<21&4294967295|R>>>11),R=S+(j^(C|~N))+L[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=N+(C^(S|~j))+L[11]+3174756917&4294967295,N=S+(R<<10&4294967295|R>>>22),R=j+(S^(N|~C))+L[2]+718787259&4294967295,j=N+(R<<15&4294967295|R>>>17),R=C+(N^(j|~S))+L[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(j+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+j&4294967295,x.g[3]=x.g[3]+N&4294967295}s.prototype.v=function(x,S){S===void 0&&(S=x.length);const C=S-this.blockSize,L=this.C;let j=this.h,N=0;for(;N<S;){if(j==0)for(;N<=C;)r(this,x,N),N+=this.blockSize;if(typeof x=="string"){for(;N<S;)if(L[j++]=x.charCodeAt(N++),j==this.blockSize){r(this,L),j=0;break}}else for(;N<S;)if(L[j++]=x[N++],j==this.blockSize){r(this,L),j=0;break}}this.h=j,this.o+=S},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,C=0;C<4;++C)for(let L=0;L<32;L+=8)x[S++]=this.g[C]>>>L&255;return x};function o(x,S){var C=h;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=S(x)}function l(x,S){this.h=S;const C=[];let L=!0;for(let j=x.length-1;j>=0;j--){const N=x[j]|0;L&&N==S||(C[j]=N,L=!1)}this.g=C}var h={};function d(x){return-128<=x&&x<128?o(x,function(S){return new l([S|0],S<0?-1:0)}):new l([x|0],x<0?-1:0)}function f(x){if(isNaN(x)||!isFinite(x))return v;if(x<0)return M(f(-x));const S=[];let C=1;for(let L=0;x>=C;L++)S[L]=x/C|0,C*=4294967296;return new l(S,0)}function g(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return M(g(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=f(Math.pow(S,8));let L=v;for(let N=0;N<x.length;N+=8){var j=Math.min(8,x.length-N);const R=parseInt(x.substring(N,N+j),S);j<8?(j=f(Math.pow(S,j)),L=L.j(j).add(f(R))):(L=L.j(C),L=L.add(f(R)))}return L}var v=d(0),_=d(1),A=d(16777216);t=l.prototype,t.m=function(){if(O(this))return-M(this).m();let x=0,S=1;for(let C=0;C<this.g.length;C++){const L=this.i(C);x+=(L>=0?L:4294967296+L)*S,S*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I(this))return"0";if(O(this))return"-"+M(this).toString(x);const S=f(Math.pow(x,6));var C=this;let L="";for(;;){const j=K(C,S).g;C=B(C,j.j(S));let N=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=j,I(C))return N+L;for(;N.length<6;)N="0"+N;L=N+L}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function I(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function O(x){return x.h==-1}t.l=function(x){return x=B(this,x),O(x)?-1:I(x)?0:1};function M(x){const S=x.g.length,C=[];for(let L=0;L<S;L++)C[L]=~x.g[L];return new l(C,~x.h).add(_)}t.abs=function(){return O(this)?M(this):this},t.add=function(x){const S=Math.max(this.g.length,x.g.length),C=[];let L=0;for(let j=0;j<=S;j++){let N=L+(this.i(j)&65535)+(x.i(j)&65535),R=(N>>>16)+(this.i(j)>>>16)+(x.i(j)>>>16);L=R>>>16,N&=65535,R&=65535,C[j]=R<<16|N}return new l(C,C[C.length-1]&-2147483648?-1:0)};function B(x,S){return x.add(M(S))}t.j=function(x){if(I(this)||I(x))return v;if(O(this))return O(x)?M(this).j(M(x)):M(M(this).j(x));if(O(x))return M(this.j(M(x)));if(this.l(A)<0&&x.l(A)<0)return f(this.m()*x.m());const S=this.g.length+x.g.length,C=[];for(var L=0;L<2*S;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(let j=0;j<x.g.length;j++){const N=this.i(L)>>>16,R=this.i(L)&65535,Q=x.i(j)>>>16,q=x.i(j)&65535;C[2*L+2*j]+=R*q,F(C,2*L+2*j),C[2*L+2*j+1]+=N*q,F(C,2*L+2*j+1),C[2*L+2*j+1]+=R*Q,F(C,2*L+2*j+1),C[2*L+2*j+2]+=N*Q,F(C,2*L+2*j+2)}for(x=0;x<S;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=S;x<2*S;x++)C[x]=0;return new l(C,0)};function F(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function V(x,S){this.g=x,this.h=S}function K(x,S){if(I(S))throw Error("division by zero");if(I(x))return new V(v,v);if(O(x))return S=K(M(x),S),new V(M(S.g),M(S.h));if(O(S))return S=K(x,M(S)),new V(M(S.g),S.h);if(x.g.length>30){if(O(x)||O(S))throw Error("slowDivide_ only works with positive integers.");for(var C=_,L=S;L.l(x)<=0;)C=U(C),L=U(L);var j=Y(C,1),N=Y(L,1);for(L=Y(L,2),C=Y(C,2);!I(L);){var R=N.add(L);R.l(x)<=0&&(j=j.add(C),N=R),L=Y(L,1),C=Y(C,1)}return S=B(x,j.j(S)),new V(j,S)}for(j=v;x.l(S)>=0;){for(C=Math.max(1,Math.floor(x.m()/S.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),N=f(C),R=N.j(S);O(R)||R.l(x)>0;)C-=L,N=f(C),R=N.j(S);I(N)&&(N=_),j=j.add(N),x=B(x,R)}return new V(j,x)}t.B=function(x){return K(this,x).h},t.and=function(x){const S=Math.max(this.g.length,x.g.length),C=[];for(let L=0;L<S;L++)C[L]=this.i(L)&x.i(L);return new l(C,this.h&x.h)},t.or=function(x){const S=Math.max(this.g.length,x.g.length),C=[];for(let L=0;L<S;L++)C[L]=this.i(L)|x.i(L);return new l(C,this.h|x.h)},t.xor=function(x){const S=Math.max(this.g.length,x.g.length),C=[];for(let L=0;L<S;L++)C[L]=this.i(L)^x.i(L);return new l(C,this.h^x.h)};function U(x){const S=x.g.length+1,C=[];for(let L=0;L<S;L++)C[L]=x.i(L)<<1|x.i(L-1)>>>31;return new l(C,x.h)}function Y(x,S){const C=S>>5;S%=32;const L=x.g.length-C,j=[];for(let N=0;N<L;N++)j[N]=S>0?x.i(N+C)>>>S|x.i(N+C+1)<<32-S:x.i(N+C);return new l(j,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Rk=s,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,qa=l}).apply(typeof C1<"u"?C1:typeof self<"u"?self:typeof window<"u"?window:{});var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kk,rh,Ik,hm,f_,Dk,Mk,Ok;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bf=="object"&&Bf];for(var b=0;b<m.length;++b){var E=m[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function r(m,b){if(b)e:{var E=s;m=m.split(".");for(var P=0;P<m.length-1;P++){var J=m[P];if(!(J in E))break e;E=E[J]}m=m[m.length-1],P=E[m],b=b(P),b!=P&&b!=null&&e(E,m,{configurable:!0,writable:!0,value:b})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(b){var E=[],P;for(P in b)Object.prototype.hasOwnProperty.call(b,P)&&E.push([P,b[P]]);return E}});var o=o||{},l=this||self;function h(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function d(m,b,E){return m.call.apply(m.bind,arguments)}function f(m,b,E){return f=d,f.apply(null,arguments)}function g(m,b){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),m.apply(this,P)}}function v(m,b){function E(){}E.prototype=b.prototype,m.Z=b.prototype,m.prototype=new E,m.prototype.constructor=m,m.Ob=function(P,J,se){for(var Ee=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)Ee[Je-2]=arguments[Je];return b.prototype[J].apply(P,Ee)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function A(m){const b=m.length;if(b>0){const E=Array(b);for(let P=0;P<b;P++)E[P]=m[P];return E}return[]}function I(m,b){for(let P=1;P<arguments.length;P++){const J=arguments[P];var E=typeof J;if(E=E!="object"?E:J?Array.isArray(J)?"array":E:"null",E=="array"||E=="object"&&typeof J.length=="number"){E=m.length||0;const se=J.length||0;m.length=E+se;for(let Ee=0;Ee<se;Ee++)m[E+Ee]=J[Ee]}else m.push(J)}}class O{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function M(m){l.setTimeout(()=>{throw m},0)}function B(){var m=x;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class F{constructor(){this.h=this.g=null}add(b,E){const P=V.get();P.set(b,E),this.h?this.h.next=P:this.g=P,this.h=P}}var V=new O(()=>new K,m=>m.reset());class K{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let U,Y=!1,x=new F,S=()=>{const m=Promise.resolve(void 0);U=()=>{m.then(C)}};function C(){for(var m;m=B();){try{m.h.call(m.g)}catch(E){M(E)}var b=V;b.j(m),b.h<100&&(b.h++,m.next=b.g,b.g=m)}Y=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const E=()=>{};l.addEventListener("test",E,b),l.removeEventListener("test",E,b)}catch{}return m})();function R(m){return/^[\s\xa0]*$/.test(m)}function Q(m,b){j.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,b)}v(Q,j),Q.prototype.init=function(m,b){const E=this.type=m.type,P=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget,b||(E=="mouseover"?b=m.fromElement:E=="mouseout"&&(b=m.toElement)),this.relatedTarget=b,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var q="closure_listenable_"+(Math.random()*1e6|0),$=0;function W(m,b,E,P,J){this.listener=m,this.proxy=null,this.src=b,this.type=E,this.capture=!!P,this.ha=J,this.key=++$,this.da=this.fa=!1}function le(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ye(m,b,E){for(const P in m)b.call(E,m[P],P,m)}function ue(m,b){for(const E in m)b.call(void 0,m[E],E,m)}function z(m){const b={};for(const E in m)b[E]=m[E];return b}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(m,b){let E,P;for(let J=1;J<arguments.length;J++){P=arguments[J];for(E in P)m[E]=P[E];for(let se=0;se<ne.length;se++)E=ne[se],Object.prototype.hasOwnProperty.call(P,E)&&(m[E]=P[E])}}function Te(m){this.src=m,this.g={},this.h=0}Te.prototype.add=function(m,b,E,P,J){const se=m.toString();m=this.g[se],m||(m=this.g[se]=[],this.h++);const Ee=Ce(m,b,P,J);return Ee>-1?(b=m[Ee],E||(b.fa=!1)):(b=new W(b,this.src,se,!!P,J),b.fa=E,m.push(b)),b};function xe(m,b){const E=b.type;if(E in m.g){var P=m.g[E],J=Array.prototype.indexOf.call(P,b,void 0),se;(se=J>=0)&&Array.prototype.splice.call(P,J,1),se&&(le(b),m.g[E].length==0&&(delete m.g[E],m.h--))}}function Ce(m,b,E,P){for(let J=0;J<m.length;++J){const se=m[J];if(!se.da&&se.listener==b&&se.capture==!!E&&se.ha==P)return J}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),ut={};function Be(m,b,E,P,J){if(Array.isArray(b)){for(let se=0;se<b.length;se++)Be(m,b[se],E,P,J);return null}return E=pt(E),m&&m[q]?m.J(b,E,h(P)?!!P.capture:!1,J):wn(m,b,E,!1,P,J)}function wn(m,b,E,P,J,se){if(!b)throw Error("Invalid event type");const Ee=h(J)?!!J.capture:!!J;let Je=je(m);if(Je||(m[$e]=Je=new Te(m)),E=Je.add(b,E,P,Ee,se),E.proxy)return E;if(P=Rn(),E.proxy=P,P.src=m,P.listener=E,m.addEventListener)N||(J=Ee),J===void 0&&(J=!1),m.addEventListener(b.toString(),P,J);else if(m.attachEvent)m.attachEvent(ae(b.toString()),P);else if(m.addListener&&m.removeListener)m.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Rn(){function m(E){return b.call(m.src,m.listener,E)}const b=Se;return m}function be(m,b,E,P,J){if(Array.isArray(b))for(var se=0;se<b.length;se++)be(m,b[se],E,P,J);else P=h(P)?!!P.capture:!!P,E=pt(E),m&&m[q]?(m=m.i,se=String(b).toString(),se in m.g&&(b=m.g[se],E=Ce(b,E,P,J),E>-1&&(le(b[E]),Array.prototype.splice.call(b,E,1),b.length==0&&(delete m.g[se],m.h--)))):m&&(m=je(m))&&(b=m.g[b.toString()],m=-1,b&&(m=Ce(b,E,P,J)),(E=m>-1?b[m]:null)&&pe(E))}function pe(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[q])xe(b.i,m);else{var E=m.type,P=m.proxy;b.removeEventListener?b.removeEventListener(E,P,m.capture):b.detachEvent?b.detachEvent(ae(E),P):b.addListener&&b.removeListener&&b.removeListener(P),(E=je(b))?(xe(E,m),E.h==0&&(E.src=null,b[$e]=null)):le(m)}}}function ae(m){return m in ut?ut[m]:ut[m]="on"+m}function Se(m,b){if(m.da)m=!0;else{b=new Q(b,this);const E=m.listener,P=m.ha||m.src;m.fa&&pe(m),m=E.call(P,b)}return m}function je(m){return m=m[$e],m instanceof Te?m:null}var Ge="__closure_events_fn_"+(Math.random()*1e9>>>0);function pt(m){return typeof m=="function"?m:(m[Ge]||(m[Ge]=function(b){return m.handleEvent(b)}),m[Ge])}function Le(){L.call(this),this.i=new Te(this),this.M=this,this.G=null}v(Le,L),Le.prototype[q]=!0,Le.prototype.removeEventListener=function(m,b,E,P){be(this,m,b,E,P)};function ke(m,b){var E,P=m.G;if(P)for(E=[];P;P=P.G)E.push(P);if(m=m.M,P=b.type||b,typeof b=="string")b=new j(b,m);else if(b instanceof j)b.target=b.target||m;else{var J=b;b=new j(P,m),_e(b,J)}J=!0;let se,Ee;if(E)for(Ee=E.length-1;Ee>=0;Ee--)se=b.g=E[Ee],J=Pt(se,P,!0,b)&&J;if(se=b.g=m,J=Pt(se,P,!0,b)&&J,J=Pt(se,P,!1,b)&&J,E)for(Ee=0;Ee<E.length;Ee++)se=b.g=E[Ee],J=Pt(se,P,!1,b)&&J}Le.prototype.N=function(){if(Le.Z.N.call(this),this.i){var m=this.i;for(const b in m.g){const E=m.g[b];for(let P=0;P<E.length;P++)le(E[P]);delete m.g[b],m.h--}}this.G=null},Le.prototype.J=function(m,b,E,P){return this.i.add(String(m),b,!1,E,P)},Le.prototype.K=function(m,b,E,P){return this.i.add(String(m),b,!0,E,P)};function Pt(m,b,E,P){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();let J=!0;for(let se=0;se<b.length;++se){const Ee=b[se];if(Ee&&!Ee.da&&Ee.capture==E){const Je=Ee.listener,en=Ee.ha||Ee.src;Ee.fa&&xe(m.i,Ee),J=Je.call(en,P)!==!1&&J}}return J&&!P.defaultPrevented}function Zn(m,b){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:l.setTimeout(m,b||0)}function hi(m){m.g=Zn(()=>{m.g=null,m.i&&(m.i=!1,hi(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class on extends L{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:hi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function di(m){L.call(this),this.h=m,this.g={}}v(di,L);var fi=[];function zs(m){ye(m.g,function(b,E){this.g.hasOwnProperty(E)&&pe(b)},m),m.g={}}di.prototype.N=function(){di.Z.N.call(this),zs(this)},di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=l.JSON.stringify,Bt=l.JSON.parse,es=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function mi(){}function pi(){}var fs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){j.call(this,"d")}v(ln,j);function ts(){j.call(this,"c")}v(ts,j);var qt={},ce=null;function re(){return ce=ce||new Le}qt.Ia="serverreachability";function oe(m){j.call(this,qt.Ia,m)}v(oe,j);function fe(m){const b=re();ke(b,new oe(b))}qt.STAT_EVENT="statevent";function Ie(m,b){j.call(this,qt.STAT_EVENT,m),this.stat=b}v(Ie,j);function Fe(m){const b=re();ke(b,new Ie(b,m))}qt.Ja="timingevent";function Xe(m,b){j.call(this,qt.Ja,m),this.size=b}v(Xe,j);function Et(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},b)}function Tn(){this.g=!0}Tn.prototype.ua=function(){this.g=!1};function lo(m,b,E,P,J,se){m.info(function(){if(m.g)if(se){var Ee="",Je=se.split("&");for(let bt=0;bt<Je.length;bt++){var en=Je[bt].split("=");if(en.length>1){const zt=en[0];en=en[1];const Ks=zt.split("_");Ee=Ks.length>=2&&Ks[1]=="type"?Ee+(zt+"="+en+"&"):Ee+(zt+"=redacted&")}}}else Ee=null;else Ee=se;return"XMLHTTP REQ ("+P+") [attempt "+J+"]: "+b+`
`+E+`
`+Ee})}function gt(m,b,E,P,J,se,Ee){m.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+J+"]: "+b+`
`+E+`
`+se+" "+Ee})}function Hn(m,b,E,P){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+$c(m,E)+(P?" "+P:"")})}function $s(m,b){m.info(function(){return"TIMEOUT: "+b})}Tn.prototype.info=function(){};function $c(m,b){if(!m.g)return b;if(!b)return null;try{const se=JSON.parse(b);if(se){for(m=0;m<se.length;m++)if(Array.isArray(se[m])){var E=se[m];if(!(E.length<2)){var P=E[1];if(Array.isArray(P)&&!(P.length<1)){var J=P[0];if(J!="noop"&&J!="stop"&&J!="close")for(let Ee=1;Ee<P.length;Ee++)P[Ee]=""}}}}return ds(se)}catch{return b}}var gi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hc;function uo(){}v(uo,mi),uo.prototype.g=function(){return new XMLHttpRequest},Hc=new uo;function mr(m){return encodeURIComponent(String(m))}function gd(m){var b=1;m=m.split(":");const E=[];for(;b>0&&m.length;)E.push(m.shift()),b--;return m.length&&E.push(m.join(":")),E}function yi(m,b,E,P){this.j=m,this.i=b,this.l=E,this.S=P||1,this.V=new di(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vi}function vi(){this.i=null,this.g="",this.h=!1}var cn={},kn={};function Vi(m,b,E){m.M=1,m.A=ho(hn(b)),m.u=E,m.R=!0,gl(m,null)}function gl(m,b){m.F=Date.now(),Ui(m),m.B=hn(m.A);var E=m.B,P=m.S;Array.isArray(P)||(P=[String(P)]),bl(E.i,"t",P),m.C=0,E=m.j.L,m.h=new vi,m.g=Dd(m.j,E?b:null,!m.u),m.P>0&&(m.O=new on(f(m.Y,m,m.g),m.P)),b=m.V,E=m.g,P=m.ba;var J="readystatechange";Array.isArray(J)||(J&&(fi[0]=J.toString()),J=fi);for(let se=0;se<J.length;se++){const Ee=Be(E,J[se],P||b.handleEvent,!1,b.h||b);if(!Ee)break;b.g[Ee.key]=Ee}b=m.J?z(m.J):{},m.u?(m.v||(m.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,b)):(m.v="GET",m.g.ea(m.B,m.v,null,b)),fe(),lo(m.i,m.v,m.B,m.l,m.S,m.u)}yi.prototype.ba=function(m){m=m.target;const b=this.O;b&&wi(m)==3?b.j():this.Y(m)},yi.prototype.Y=function(m){try{if(m==this.g)e:{const Je=wi(this.g),en=this.g.ya(),bt=this.g.ca();if(!(Je<3)&&(Je!=3||this.g&&(this.h.h||this.g.la()||Pn(this.g)))){this.K||Je!=4||en==7||(en==8||bt<=0?fe(3):fe(2)),ji(this);var b=this.g.ca();this.X=b;var E=sg(this);if(this.o=b==200,gt(this.i,this.v,this.B,this.l,this.S,Je,b),this.o){if(this.U&&!this.L){t:{if(this.g){var P,J=this.g;if((P=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(P)){var se=P;break t}}se=null}if(m=se)Hn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fi(this,m);else{this.o=!1,this.m=3,Fe(12),xs(this),Hs(this);break e}}if(this.R){m=!0;let zt;for(;!this.K&&this.C<E.length;)if(zt=vd(this,E),zt==kn){Je==4&&(this.m=4,Fe(14),m=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==cn){this.m=4,Fe(15),Hn(this.i,this.l,E,"[Invalid Chunk]"),m=!1;break}else Hn(this.i,this.l,zt,null),Fi(this,zt);if(yd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||E.length!=0||this.h.h||(this.m=1,Fe(16),m=!1),this.o=this.o&&m,!m)Hn(this.i,this.l,E,"[Invalid Chunked Response]"),xs(this),Hs(this);else if(E.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ru(Ee),Ee.P=!0,Fe(11))}}else Hn(this.i,this.l,E,null),Fi(this,E);Je==4&&xs(this),this.o&&!this.K&&(Je==4?Cd(this.j,this):(this.o=!1,Ui(this)))}else gr(this.g),b==400&&E.indexOf("Unknown SID")>0?(this.m=3,Fe(12)):(this.m=0,Fe(13)),xs(this),Hs(this)}}}catch{}};function sg(m){if(!yd(m))return m.g.la();const b=Pn(m.g);if(b==="")return"";let E="";const P=b.length,J=wi(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return xs(m),Hs(m),"";m.h.i=new l.TextDecoder}for(let se=0;se<P;se++)m.h.h=!0,E+=m.h.i.decode(b[se],{stream:!(J&&se==P-1)});return b.length=0,m.h.g+=E,m.C=0,m.h.g}function yd(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function vd(m,b){var E=m.C,P=b.indexOf(`
`,E);return P==-1?kn:(E=Number(b.substring(E,P)),isNaN(E)?cn:(P+=1,P+E>b.length?kn:(b=b.slice(P,P+E),m.C=P+E,b)))}yi.prototype.cancel=function(){this.K=!0,xs(this)};function Ui(m){m.T=Date.now()+m.H,yl(m,m.H)}function yl(m,b){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Et(f(m.aa,m),b)}function ji(m){m.D&&(l.clearTimeout(m.D),m.D=null)}yi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?($s(this.i,this.B),this.M!=2&&(fe(),Fe(17)),xs(this),this.m=2,Hs(this)):yl(this,this.T-m)};function Hs(m){m.j.I==0||m.K||Cd(m.j,m)}function xs(m){ji(m);var b=m.O;b&&typeof b.dispose=="function"&&b.dispose(),m.O=null,zs(m.V),m.g&&(b=m.g,m.g=null,b.abort(),b.dispose())}function Fi(m,b){try{var E=m.j;if(E.I!=0&&(E.g==m||zi(E.h,m))){if(!m.L&&zi(E.h,m)&&E.I==3){try{var P=E.Ba.g.parse(b)}catch{P=null}if(Array.isArray(P)&&P.length==3){var J=P;if(J[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<m.F)Al(E),sa(E);else break e;_o(E),Fe(18)}}else E.xa=J[1],0<E.xa-E.K&&J[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Et(f(E.Va,E),6e3));Bi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Yi(E,11)}else if((m.L||E.g==m)&&Al(E),!R(b))for(J=E.Ba.g.parse(b),b=0;b<J.length;b++){let bt=J[b];const zt=bt[0];if(!(zt<=E.K))if(E.K=zt,bt=bt[1],E.I==2)if(bt[0]=="c"){E.M=bt[1],E.ba=bt[2];const Ks=bt[3];Ks!=null&&(E.ka=Ks,E.j.info("VER="+E.ka));const Wi=bt[4];Wi!=null&&(E.za=Wi,E.j.info("SVER="+E.za));const Ti=bt[5];Ti!=null&&typeof Ti=="number"&&Ti>0&&(P=1.5*Ti,E.O=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Ei=m.g;if(Ei){const bo=Ei.g?Ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bo){var se=P.h;se.g||bo.indexOf("spdy")==-1&&bo.indexOf("quic")==-1&&bo.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Kc(se,se.h),se.h=null))}if(P.G){const xl=Ei.g?Ei.g.getResponseHeader("X-HTTP-Session-Id"):null;xl&&(P.wa=xl,St(P.J,P.G,xl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-m.F,E.j.info("Handshake RTT: "+E.T+"ms")),P=E;var Ee=m;if(P.na=Id(P,P.L?P.ba:null,P.W),Ee.L){Yc(P.h,Ee);var Je=Ee,en=P.O;en&&(Je.H=en),Je.D&&(ji(Je),Ui(Je)),P.g=Ee}else Ad(P);E.i.length>0&&Ki(E)}else bt[0]!="stop"&&bt[0]!="close"||Yi(E,7);else E.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Yi(E,7):su(E):bt[0]!="noop"&&E.l&&E.l.qa(bt),E.A=0)}}fe(4)}catch{}}var un=class{constructor(m,b){this.g=m,this.map=b}};function qc(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gc(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Bi(m){return m.h?1:m.g?m.g.size:0}function zi(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function Kc(m,b){m.g?m.g.add(b):m.h=b}function Yc(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}qc.prototype.cancel=function(){if(this.i=Wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Wc(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const E of m.g.values())b=b.concat(E.G);return b}return A(m.i)}var _d=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vl(m,b){if(m){m=m.split("&");for(let E=0;E<m.length;E++){const P=m[E].indexOf("=");let J,se=null;P>=0?(J=m[E].substring(0,P),se=m[E].substring(P+1)):J=m[E],b(J,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function Cs(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;m instanceof Cs?(this.l=m.l,In(this,m.j),this.o=m.o,this.g=m.g,Qr(this,m.u),this.h=m.h,Qc(this,Ed(m.i)),this.m=m.m):m&&(b=String(m).match(_d))?(this.l=!1,In(this,b[1]||"",!0),this.o=$i(b[2]||""),this.g=$i(b[3]||"",!0),Qr(this,b[4]),this.h=$i(b[5]||"",!0),Qc(this,b[6]||"",!0),this.m=$i(b[7]||"")):(this.l=!1,this.i=new Jr(null,this.l))}Cs.prototype.toString=function(){const m=[];var b=this.j;b&&m.push(fo(b,_l,!0),":");var E=this.g;return(E||b=="file")&&(m.push("//"),(b=this.o)&&m.push(fo(b,_l,!0),"@"),m.push(mr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&m.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&m.push("/"),m.push(fo(E,E.charAt(0)=="/"?Xc:bd,!0))),(E=this.i.toString())&&m.push("?",E),(E=this.m)&&m.push("#",fo(E,wd)),m.join("")},Cs.prototype.resolve=function(m){const b=hn(this);let E=!!m.j;E?In(b,m.j):E=!!m.o,E?b.o=m.o:E=!!m.g,E?b.g=m.g:E=m.u!=null;var P=m.h;if(E)Qr(b,m.u);else if(E=!!m.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var J=b.h.lastIndexOf("/");J!=-1&&(P=b.h.slice(0,J+1)+P)}if(J=P,J==".."||J==".")P="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){P=J.lastIndexOf("/",0)==0,J=J.split("/");const se=[];for(let Ee=0;Ee<J.length;){const Je=J[Ee++];Je=="."?P&&Ee==J.length&&se.push(""):Je==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),P&&Ee==J.length&&se.push("")):(se.push(Je),P=!0)}P=se.join("/")}else P=J}return E?b.h=P:E=m.i.toString()!=="",E?Qc(b,Ed(m.i)):E=!!m.m,E&&(b.m=m.m),b};function hn(m){return new Cs(m)}function In(m,b,E){m.j=E?$i(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function Qr(m,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);m.u=b}else m.u=null}function Qc(m,b,E){b instanceof Jr?(m.i=b,wl(m.i,m.l)):(E||(b=fo(b,Xr)),m.i=new Jr(b,m.l))}function St(m,b,E){m.i.set(b,E)}function ho(m){return St(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function $i(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function fo(m,b,E){return typeof m=="string"?(m=encodeURI(m).replace(b,ms),E&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function ms(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var _l=/[#\/\?@]/g,bd=/[#\?:]/g,Xc=/[#\?]/g,Xr=/[#\?@]/g,wd=/#/g;function Jr(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function ps(m){m.g||(m.g=new Map,m.h=0,m.i&&vl(m.i,function(b,E){m.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}t=Jr.prototype,t.add=function(m,b){ps(this),this.i=null,m=Zr(this,m);let E=this.g.get(m);return E||this.g.set(m,E=[]),E.push(b),this.h+=1,this};function Td(m,b){ps(m),b=Zr(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function Jc(m,b){return ps(m),b=Zr(m,b),m.g.has(b)}t.forEach=function(m,b){ps(this),this.g.forEach(function(E,P){E.forEach(function(J){m.call(b,J,P,this)},this)},this)};function Zc(m,b){ps(m);let E=[];if(typeof b=="string")Jc(m,b)&&(E=E.concat(m.g.get(Zr(m,b))));else for(m=Array.from(m.g.values()),b=0;b<m.length;b++)E=E.concat(m[b]);return E}t.set=function(m,b){return ps(this),this.i=null,m=Zr(this,m),Jc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},t.get=function(m,b){return m?(m=Zc(this,m),m.length>0?String(m[0]):b):b};function bl(m,b,E){Td(m,b),E.length>0&&(m.i=null,m.g.set(Zr(m,b),A(E)),m.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(let P=0;P<b.length;P++){var E=b[P];const J=mr(E);E=Zc(this,E);for(let se=0;se<E.length;se++){let Ee=J;E[se]!==""&&(Ee+="="+mr(E[se])),m.push(Ee)}}return this.i=m.join("&")};function Ed(m){const b=new Jr;return b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),b}function Zr(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function wl(m,b){b&&!m.j&&(ps(m),m.i=null,m.g.forEach(function(E,P){const J=P.toLowerCase();P!=J&&(Td(this,P),bl(this,J,E))},m)),m.j=b}function _i(m,b){const E=new Tn;if(l.Image){const P=new Image;P.onload=g(qs,E,"TestLoadImage: loaded",!0,b,P),P.onerror=g(qs,E,"TestLoadImage: error",!1,b,P),P.onabort=g(qs,E,"TestLoadImage: abort",!1,b,P),P.ontimeout=g(qs,E,"TestLoadImage: timeout",!1,b,P),l.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=m}else b(!1)}function eu(m,b){const E=new Tn,P=new AbortController,J=setTimeout(()=>{P.abort(),qs(E,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:P.signal}).then(se=>{clearTimeout(J),se.ok?qs(E,"TestPingServer: ok",!0,b):qs(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(J),qs(E,"TestPingServer: error",!1,b)})}function qs(m,b,E,P,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),P(E)}catch{}}function ea(){this.g=new es}function Hi(m){this.i=m.Sb||null,this.h=m.ab||!1}v(Hi,mi),Hi.prototype.g=function(){return new mo(this.i,this.h)};function mo(m,b){Le.call(this),this.H=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(mo,Le),t=mo.prototype,t.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=b,this.readyState=1,bi(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(b.body=m),(this.H||l).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tl(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Tl(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?ta(this):bi(this),this.readyState==3&&Tl(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,ta(this))},t.Na=function(m){this.g&&(this.response=m,ta(this))},t.ga=function(){this.g&&ta(this)};function ta(m){m.readyState=4,m.l=null,m.j=null,m.B=null,bi(m)}t.setRequestHeader=function(m,b){this.A.append(m,b)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,m.push(E[0]+": "+E[1]),E=b.next();return m.join(`\r
`)};function bi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(mo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Gs(m){let b="";return ye(m,function(E,P){b+=P,b+=":",b+=E,b+=`\r
`}),b}function po(m,b,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=Gs(E),typeof m=="string"?E!=null&&mr(E):St(m,b,E))}function kt(m){Le.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(kt,Le);var qi=/^https?$/i,tu=["POST","PUT"];t=kt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,b,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hc.g(),this.g.onreadystatechange=_(f(this.Ca,this));try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(se){go(this,se);return}if(m=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var J in P)E.set(J,P[J]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const se of P.keys())E.set(se,P.get(se));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(se=>se.toLowerCase()=="content-type"),J=l.FormData&&m instanceof l.FormData,!(Array.prototype.indexOf.call(tu,b,void 0)>=0)||P||J||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Ee]of E)this.g.setRequestHeader(se,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(se){go(this,se)}};function go(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.o=5,nu(m),pr(m)}function nu(m){m.A||(m.A=!0,ke(m,"complete"),ke(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,ke(this,"complete"),ke(this,"abort"),pr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pr(this,!0)),kt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?yo(this):this.Xa())},t.Xa=function(){yo(this)};function yo(m){if(m.h&&typeof o<"u"){if(m.v&&wi(m)==4)setTimeout(m.Ca.bind(m),0);else if(ke(m,"readystatechange"),wi(m)==4){m.h=!1;try{const se=m.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var P;if(P=se===0){let Ee=String(m.D).match(_d)[1]||null;!Ee&&l.self&&l.self.location&&(Ee=l.self.location.protocol.slice(0,-1)),P=!qi.test(Ee?Ee.toLowerCase():"")}E=P}if(E)ke(m,"complete"),ke(m,"success");else{m.o=6;try{var J=wi(m)>2?m.g.statusText:""}catch{J=""}m.l=J+" ["+m.ca()+"]",nu(m)}}finally{pr(m)}}}}function pr(m,b){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const E=m.g;m.g=null,b||ke(m,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function wi(m){return m.g?m.g.readyState:0}t.ca=function(){try{return wi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),Bt(b)}};function Pn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function gr(m){const b={};m=(m.g&&wi(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<m.length;P++){if(R(m[P]))continue;var E=gd(m[P]);const J=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const se=b[J]||[];b[J]=se,se.push(E)}ue(b,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(m,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[m]||b}function na(m){this.za=0,this.i=[],this.j=new Tn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gi("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gi("baseRetryDelayMs",5e3,m),this.Za=Gi("retryDelaySeedMs",1e4,m),this.Ta=Gi("forwardChannelMaxRetries",2,m),this.va=Gi("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new qc(m&&m.concurrentRequestLimit),this.Ba=new ea,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=na.prototype,t.ka=8,t.I=1,t.connect=function(m,b,E,P){Fe(0),this.W=m,this.H=b||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.J=Id(this,null,this.W),Ki(this)};function su(m){if(El(m),m.I==3){var b=m.V++,E=hn(m.J);if(St(E,"SID",m.M),St(E,"RID",b),St(E,"TYPE","terminate"),vo(m,E),b=new yi(m,m.j,b),b.M=2,b.A=ho(hn(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(b.A.toString(),"")}catch{}!E&&l.Image&&(new Image().src=b.A,E=!0),E||(b.g=Dd(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Ui(b)}kd(m)}function sa(m){m.g&&(ru(m),m.g.cancel(),m.g=null)}function El(m){sa(m),m.v&&(l.clearTimeout(m.v),m.v=null),Al(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&l.clearTimeout(m.m),m.m=null)}function Ki(m){if(!Gc(m.h)&&!m.m){m.m=!0;var b=m.Ea;U||S(),Y||(U(),Y=!0),x.add(b,m),m.D=0}}function Sl(m,b){return Bi(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=b.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Et(f(m.Ea,m,b),Rd(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const J=new yi(this,this.j,m);let se=this.o;if(this.U&&(se?(se=z(se),_e(se,this.U)):se=this.U),this.u!==null||this.R||(J.J=se,se=null),this.S)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(b+=P,b>4096){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=Sd(this,J,b),E=hn(this.J),St(E,"RID",m),St(E,"CVER",22),this.G&&St(E,"X-HTTP-Session-Id",this.G),vo(this,E),se&&(this.R?b="headers="+mr(Gs(se))+"&"+b:this.u&&po(E,this.u,se)),Kc(this.h,J),this.Ra&&St(E,"TYPE","init"),this.S?(St(E,"$req",b),St(E,"SID","null"),J.U=!0,Vi(J,E,null)):Vi(J,E,b),this.I=2}}else this.I==3&&(m?iu(this,m):this.i.length==0||Gc(this.h)||iu(this))};function iu(m,b){var E;b?E=b.l:E=m.V++;const P=hn(m.J);St(P,"SID",m.M),St(P,"RID",E),St(P,"AID",m.K),vo(m,P),m.u&&m.o&&po(P,m.u,m.o),E=new yi(m,m.j,E,m.D+1),m.u===null&&(E.J=m.o),b&&(m.i=b.G.concat(m.i)),b=Sd(m,E,1e3),E.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Kc(m.h,E),Vi(E,P,b)}function vo(m,b){m.H&&ye(m.H,function(E,P){St(b,P,E)}),m.l&&ye({},function(E,P){St(b,P,E)})}function Sd(m,b,E){E=Math.min(m.i.length,E);const P=m.l?f(m.l.Ka,m.l,m):null;e:{var J=m.i;let Je=-1;for(;;){const en=["count="+E];Je==-1?E>0?(Je=J[0].g,en.push("ofs="+Je)):Je=0:en.push("ofs="+Je);let bt=!0;for(let zt=0;zt<E;zt++){var se=J[zt].g;const Ks=J[zt].map;if(se-=Je,se<0)Je=Math.max(0,J[zt].g-100),bt=!1;else try{se="req"+se+"_"||"";try{var Ee=Ks instanceof Map?Ks:Object.entries(Ks);for(const[Wi,Ti]of Ee){let Ei=Ti;h(Ti)&&(Ei=ds(Ti)),en.push(se+Wi+"="+encodeURIComponent(Ei))}}catch(Wi){throw en.push(se+"type="+encodeURIComponent("_badmap")),Wi}}catch{P&&P(Ks)}}if(bt){Ee=en.join("&");break e}}Ee=void 0}return m=m.i.splice(0,E),b.G=m,Ee}function Ad(m){if(!m.g&&!m.v){m.Y=1;var b=m.Da;U||S(),Y||(U(),Y=!0),x.add(b,m),m.A=0}}function _o(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Et(f(m.Da,m),Rd(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,xd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Et(f(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Fe(10),sa(this),xd(this))};function ru(m){m.B!=null&&(l.clearTimeout(m.B),m.B=null)}function xd(m){m.g=new yi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var b=hn(m.na);St(b,"RID","rpc"),St(b,"SID",m.M),St(b,"AID",m.K),St(b,"CI",m.F?"0":"1"),!m.F&&m.ia&&St(b,"TO",m.ia),St(b,"TYPE","xmlhttp"),vo(m,b),m.u&&m.o&&po(b,m.u,m.o),m.O&&(m.g.H=m.O);var E=m.g;m=m.ba,E.M=1,E.A=ho(hn(b)),E.u=null,E.R=!0,gl(E,m)}t.Va=function(){this.C!=null&&(this.C=null,sa(this),_o(this),Fe(19))};function Al(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function Cd(m,b){var E=null;if(m.g==b){Al(m),ru(m),m.g=null;var P=2}else if(zi(m.h,b))E=b.G,Yc(m.h,b),P=1;else return;if(m.I!=0){if(b.o)if(P==1){E=b.u?b.u.length:0,b=Date.now()-b.F;var J=m.D;P=re(),ke(P,new Xe(P,E)),Ki(m)}else Ad(m);else if(J=b.m,J==3||J==0&&b.X>0||!(P==1&&Sl(m,b)||P==2&&_o(m)))switch(E&&E.length>0&&(b=m.h,b.i=b.i.concat(E)),J){case 1:Yi(m,5);break;case 4:Yi(m,10);break;case 3:Yi(m,6);break;default:Yi(m,2)}}}function Rd(m,b){let E=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(E*=2),E*b}function Yi(m,b){if(m.j.info("Error code "+b),b==2){var E=f(m.bb,m),P=m.Ua;const J=!P;P=new Cs(P||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||In(P,"https"),ho(P),J?_i(P.toString(),E):eu(P.toString(),E)}else Fe(2);m.I=0,m.l&&m.l.pa(b),kd(m),El(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Fe(2)):(this.j.info("Failed to ping google.com"),Fe(1))};function kd(m){if(m.I=0,m.ja=[],m.l){const b=Wc(m.h);(b.length!=0||m.i.length!=0)&&(I(m.ja,b),I(m.ja,m.i),m.h.i.length=0,A(m.i),m.i.length=0),m.l.oa()}}function Id(m,b,E){var P=E instanceof Cs?hn(E):new Cs(E);if(P.g!="")b&&(P.g=b+"."+P.g),Qr(P,P.u);else{var J=l.location;P=J.protocol,b=b?b+"."+J.hostname:J.hostname,J=+J.port;const se=new Cs(null);P&&In(se,P),b&&(se.g=b),J&&Qr(se,J),E&&(se.h=E),P=se}return E=m.G,b=m.wa,E&&b&&St(P,E,b),St(P,"VER",m.ka),vo(m,P),P}function Dd(m,b,E){if(b&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Aa&&!m.ma?new kt(new Hi({ab:E})):new kt(m.ma),b.Fa(m.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Md(){}t=Md.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ia(){}ia.prototype.g=function(m,b){return new ns(m,b)};function ns(m,b){Le.call(this),this.g=new na(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(m?m["X-WebChannel-Client-Profile"]=b.sa:m={"X-WebChannel-Client-Profile":b.sa}),this.g.U=m,(m=b&&b.Qb)&&!R(m)&&(this.g.u=m),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!R(b)&&(this.g.G=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new yr(this)}v(ns,Le),ns.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ns.prototype.close=function(){su(this.g)},ns.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var E={};E.__data__=m,m=E}else this.v&&(E={},E.__data__=ds(m),m=E);b.i.push(new un(b.Ya++,m)),b.I==3&&Ki(b)},ns.prototype.N=function(){this.g.l=null,delete this.j,su(this.g),delete this.g,ns.Z.N.call(this)};function Od(m){ln.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){e:{for(const E in b){m=E;break e}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}v(Od,ln);function Nd(){ts.call(this),this.status=1}v(Nd,ts);function yr(m){this.g=m}v(yr,Md),yr.prototype.ra=function(){ke(this.g,"a")},yr.prototype.qa=function(m){ke(this.g,new Od(m))},yr.prototype.pa=function(m){ke(this.g,new Nd)},yr.prototype.oa=function(){ke(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,ns.prototype.send=ns.prototype.o,ns.prototype.open=ns.prototype.m,ns.prototype.close=ns.prototype.close,Ok=function(){return new ia},Mk=function(){return re()},Dk=qt,f_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,hm=gi,co.COMPLETE="complete",Ik=co,pi.EventType=fs,fs.OPEN="a",fs.CLOSE="b",fs.ERROR="c",fs.MESSAGE="d",Le.prototype.listen=Le.prototype.J,rh=pi,kt.prototype.listenOnce=kt.prototype.K,kt.prototype.getLastError=kt.prototype.Ha,kt.prototype.getLastErrorCode=kt.prototype.ya,kt.prototype.getStatus=kt.prototype.ca,kt.prototype.getResponseJson=kt.prototype.La,kt.prototype.getResponseText=kt.prototype.la,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Fa,kk=kt}).apply(typeof Bf<"u"?Bf:typeof self<"u"?self:typeof window<"u"?window:{});class Yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");let Pc="12.10.0";function _6(t){Pc=t}const il=new Xh("@firebase/firestore");function ac(){return il.logLevel}function Re(t,...e){if(il.logLevel<=rt.DEBUG){const n=e.map(D0);il.debug(`Firestore (${Pc}): ${t}`,...n)}}function $r(t,...e){if(il.logLevel<=rt.ERROR){const n=e.map(D0);il.error(`Firestore (${Pc}): ${t}`,...n)}}function rl(t,...e){if(il.logLevel<=rt.WARN){const n=e.map(D0);il.warn(`Firestore (${Pc}): ${t}`,...n)}}function D0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function qe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Nk(t,s,n)}function Nk(t,e,n){let s=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw $r(s),new Error(s)}function Tt(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||Nk(e,r,s)}function Ye(t,e){return t}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends As{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Pk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Yn.UNAUTHENTICATED)))}shutdown(){}}class w6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class T6{constructor(e){this.t=e,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Tt(this.o===void 0,42304);let s=this.i;const r=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let o=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new rr,e.enqueueRetryable((()=>r(this.currentUser)))};const l=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await r(this.currentUser)}))},h=d=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new rr)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Tt(typeof s.accessToken=="string",31837,{l:s}),new Pk(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string",2055,{h:e}),new Yn(e)}}class E6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class S6{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new E6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Tt(this.o===void 0,3512);const s=o=>{o.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Re("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>s(o)))};const r=o=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new R1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function x6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class M0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=x6(40);for(let o=0;o<r.length;++o)s.length<20&&r[o]<n&&(s+=e.charAt(r[o]%62))}return s}}function lt(t,e){return t<e?-1:t>e?1:0}function m_(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),o=e.charAt(s);if(r!==o)return fv(r)===fv(o)?lt(r,o):fv(r)?1:-1}return lt(t.length,e.length)}const C6=55296,R6=57343;function fv(t){const e=t.charCodeAt(0);return e>=C6&&e<=R6}function Tc(t,e,n){return t.length===e.length&&t.every(((s,r)=>n(s,e[r])))}const k1="__name__";class er{constructor(e,n,s){n===void 0?n=0:n>e.length&&qe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&qe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof er?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const o=er.compareSegments(e.get(r),n.get(r));if(o!==0)return o}return lt(e.length,n.length)}static compareSegments(e,n){const s=er.isNumericId(e),r=er.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?er.extractNumericId(e).compare(er.extractNumericId(n)):m_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qa.fromString(e.substring(4,e.length-2))}}class Lt extends er{construct(e,n,s){return new Lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ae(me.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((r=>r.length>0)))}return new Lt(n)}static emptyPath(){return new Lt([])}}const k6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends er{construct(e,n,s){return new zn(e,n,s)}static isValidIdentifier(e){return k6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k1}static keyField(){return new zn([k1])}static fromServerFormat(e){const n=[];let s="",r=0;const o=()=>{if(s.length===0)throw new Ae(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let l=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new Ae(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ae(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,r+=2}else h==="`"?(l=!l,r++):h!=="."||l?(s+=h,r++):(o(),r++)}if(o(),l)throw new Ae(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(n)}static emptyPath(){return new zn([])}}class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Lt.fromString(e))}static fromName(e){return new Ue(Lt.fromString(e).popFirst(5))}static empty(){return new Ue(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Lt(e.slice()))}}function Lk(t,e,n){if(!n)throw new Ae(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I6(t,e,n,s){if(e===!0&&s===!0)throw new Ae(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function I1(t){if(!Ue.isDocumentKey(t))throw new Ae(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function D1(t){if(Ue.isDocumentKey(t))throw new Ae(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function xp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function us(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xp(t);throw new Ae(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function D6(t,e){if(e<=0)throw new Ae(me.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function bn(t,e){const n={typeString:t};return e&&(n.value=e),n}function nd(t,e){if(!Vk(t))throw new Ae(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,o="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const l=t[s];if(r&&typeof l!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${s}' field to equal '${o.value}'`;break}}if(n)throw new Ae(me.INVALID_ARGUMENT,n);return!0}const M1=-62135596800,O1=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*O1);return new jt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<M1)throw new Ae(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O1}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nd(e,jt._jsonSchema))return new jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-M1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jt._jsonSchemaVersion="firestore/timestamp/1.0",jt._jsonSchema={type:bn("string",jt._jsonSchemaVersion),seconds:bn("number"),nanoseconds:bn("number")};class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new jt(0,0))}static max(){return new We(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rh=-1;function M6(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=We.fromTimestamp(s===1e9?new jt(n+1,0):new jt(n,s));return new Ka(r,Ue.empty(),e)}function O6(t){return new Ka(t.readTime,t.key,Rh)}class Ka{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ka(We.min(),Ue.empty(),Rh)}static max(){return new Ka(We.max(),Ue.empty(),Rh)}}function N6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ue.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}const P6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lc(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==P6)throw t;Re("LocalStore","Unexpectedly lost primary lease")}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve(((s,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(s,r)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.reject(n)}static resolve(e){return new ve(((n,s)=>{n(e)}))}static reject(e){return new ve(((n,s)=>{s(e)}))}static waitFor(e){return new ve(((n,s)=>{let r=0,o=0,l=!1;e.forEach((h=>{++r,h.next((()=>{++o,l&&o===r&&n()}),(d=>s(d)))})),l=!0,o===r&&n()}))}static or(e){let n=ve.resolve(!1);for(const s of e)n=n.next((r=>r?ve.resolve(r):s()));return n}static forEach(e,n){const s=[];return e.forEach(((r,o)=>{s.push(n.call(this,r,o))})),this.waitFor(s)}static mapArray(e,n){return new ve(((s,r)=>{const o=e.length,l=new Array(o);let h=0;for(let d=0;d<o;d++){const f=d;n(e[f]).next((g=>{l[f]=g,++h,h===o&&s(l)}),(g=>r(g)))}}))}static doWhile(e,n){return new ve(((s,r)=>{const o=()=>{e()===!0?n().next((()=>{o()}),r):s()};o()}))}}function V6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vc(t){return t.name==="IndexedDbTransactionError"}class Cp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cp.ce=-1;const O0=-1;function Rp(t){return t==null}function Lm(t){return t===0&&1/t==-1/0}function U6(t){return typeof t=="number"&&Number.isInteger(t)&&!Lm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Uk="";function j6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=N1(e)),e=F6(t.get(n),e);return N1(e)}function F6(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const o=t.charAt(r);switch(o){case"\0":n+="";break;case Uk:n+="";break;default:n+=o}}return n}function N1(t){return t+Uk+""}function P1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function B6(t,e){const n=[];for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.push(e(t[s],s,t));return n}function jk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Kt{constructor(e,n){this.comparator=e,this.root=n||Bn.EMPTY}insert(e,n){return new Kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zf(this.root,e,this.comparator,!1)}getReverseIterator(){return new zf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zf(this.root,e,this.comparator,!0)}}class zf{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?s(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bn{constructor(e,n,s,r,o){this.key=e,this.value=n,this.color=s??Bn.RED,this.left=r??Bn.EMPTY,this.right=o??Bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,o){return new Bn(e??this.key,n??this.value,s??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const o=s(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,s),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Bn.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,n,s,r,o){return this}insert(e,n,s){return new Bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cn{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L1(this.data.getIterator())}getIteratorFrom(e){return new L1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=s.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Cn(this.comparator);return n.data=e,n}}class L1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vs{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new Vs([])}unionWith(e){let n=new Cn(zn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Vs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tc(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Fk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Fk("Invalid base64 string: "+o):o}})(e);return new $n(n)}static fromUint8Array(e){const n=(function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o})(e);return new $n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$n.EMPTY_BYTE_STRING=new $n("");const z6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ya(t){if(Tt(!!t,39018),typeof t=="string"){let e=0;const n=z6.exec(t);if(Tt(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:rn(t.seconds),nanos:rn(t.nanos)}}function rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wa(t){return typeof t=="string"?$n.fromBase64String(t):$n.fromUint8Array(t)}const Bk="server_timestamp",zk="__type__",$k="__previous_value__",Hk="__local_write_time__";function N0(t){return(t?.mapValue?.fields||{})[zk]?.stringValue===Bk}function kp(t){const e=t.mapValue.fields[$k];return N0(e)?kp(e):e}function kh(t){const e=Ya(t.mapValue.fields[Hk].timestampValue);return new jt(e.seconds,e.nanos)}class $6{constructor(e,n,s,r,o,l,h,d,f,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=g,this.apiKey=v}}const Vm="(default)";class Ih{constructor(e,n){this.projectId=e,this.database=n||Vm}static empty(){return new Ih("","")}get isDefaultDatabase(){return this.database===Vm}isEqual(e){return e instanceof Ih&&e.projectId===this.projectId&&e.database===this.database}}function H6(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ae(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ih(t.options.projectId,e)}const qk="__type__",q6="__max__",$f={mapValue:{}},Gk="__vector__",Um="value";function Qa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?N0(t)?4:K6(t)?9007199254740991:G6(t)?10:11:qe(28295,{value:t})}function ur(t,e){if(t===e)return!0;const n=Qa(t);if(n!==Qa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kh(t).isEqual(kh(e));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Ya(r.timestampValue),h=Ya(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,o){return Wa(r.bytesValue).isEqual(Wa(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,o){return rn(r.geoPointValue.latitude)===rn(o.geoPointValue.latitude)&&rn(r.geoPointValue.longitude)===rn(o.geoPointValue.longitude)})(t,e);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return rn(r.integerValue)===rn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=rn(r.doubleValue),h=rn(o.doubleValue);return l===h?Lm(l)===Lm(h):isNaN(l)&&isNaN(h)}return!1})(t,e);case 9:return Tc(t.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:case 11:return(function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(P1(l)!==P1(h))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(h[d]===void 0||!ur(l[d],h[d])))return!1;return!0})(t,e);default:return qe(52216,{left:t})}}function Dh(t,e){return(t.values||[]).find((n=>ur(n,e)))!==void 0}function Ec(t,e){if(t===e)return 0;const n=Qa(t),s=Qa(e);if(n!==s)return lt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const h=rn(o.integerValue||o.doubleValue),d=rn(l.integerValue||l.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return V1(t.timestampValue,e.timestampValue);case 4:return V1(kh(t),kh(e));case 5:return m_(t.stringValue,e.stringValue);case 6:return(function(o,l){const h=Wa(o),d=Wa(l);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const h=o.split("/"),d=l.split("/");for(let f=0;f<h.length&&f<d.length;f++){const g=lt(h[f],d[f]);if(g!==0)return g}return lt(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const h=lt(rn(o.latitude),rn(l.latitude));return h!==0?h:lt(rn(o.longitude),rn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return U1(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const h=o.fields||{},d=l.fields||{},f=h[Um]?.arrayValue,g=d[Um]?.arrayValue,v=lt(f?.values?.length||0,g?.values?.length||0);return v!==0?v:U1(f,g)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===$f.mapValue&&l===$f.mapValue)return 0;if(o===$f.mapValue)return 1;if(l===$f.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),f=l.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const _=m_(d[v],g[v]);if(_!==0)return _;const A=Ec(h[d[v]],f[g[v]]);if(A!==0)return A}return lt(d.length,g.length)})(t.mapValue,e.mapValue);default:throw qe(23264,{he:n})}}function V1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=Ya(t),s=Ya(e),r=lt(n.seconds,s.seconds);return r!==0?r:lt(n.nanos,s.nanos)}function U1(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const o=Ec(n[r],s[r]);if(o)return o}return lt(n.length,s.length)}function Sc(t){return p_(t)}function p_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Ya(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Wa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ue.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",r=!0;for(const o of n.values||[])r?r=!1:s+=",",s+=p_(o);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const l of s)o?o=!1:r+=",",r+=`${l}:${p_(n.fields[l])}`;return r+"}"})(t.mapValue):qe(61005,{value:t})}function dm(t){switch(Qa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kp(t);return e?16+dm(e):16;case 5:return 2*t.stringValue.length;case 6:return Wa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((r,o)=>r+dm(o)),0)})(t.arrayValue);case 10:case 11:return(function(s){let r=0;return io(s.fields,((o,l)=>{r+=o.length+dm(l)})),r})(t.mapValue);default:throw qe(13486,{value:t})}}function j1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function g_(t){return!!t&&"integerValue"in t}function P0(t){return!!t&&"arrayValue"in t}function F1(t){return!!t&&"nullValue"in t}function B1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fm(t){return!!t&&"mapValue"in t}function G6(t){return(t?.mapValue?.fields||{})[qk]?.stringValue===Gk}function fh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return io(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=fh(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fh(t.arrayValue.values[n]);return e}return{...t}}function K6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===q6}class as{constructor(e){this.value=e}static empty(){return new as({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!fm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fh(n)}setAll(e){let n=zn.emptyPath(),s={},r=[];e.forEach(((l,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,s,r),s={},r=[],n=h.popLast()}l?s[h.lastSegment()]=fh(l):r.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,s,r)}delete(e){const n=this.field(e.popLast());fm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];fm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){io(n,((r,o)=>e[r]=o));for(const r of s)delete e[r]}clone(){return new as(fh(this.value))}}function Kk(t){const e=[];return io(t.fields,((n,s)=>{const r=new zn([n]);if(fm(s)){const o=Kk(s.mapValue).fields;if(o.length===0)e.push(r);else for(const l of o)e.push(r.child(l))}else e.push(r)})),new Vs(e)}class Wn{constructor(e,n,s,r,o,l,h){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Wn(e,0,We.min(),We.min(),We.min(),as.empty(),0)}static newFoundDocument(e,n,s,r){return new Wn(e,1,n,We.min(),s,r,0)}static newNoDocument(e,n){return new Wn(e,2,n,We.min(),We.min(),as.empty(),0)}static newUnknownDocument(e,n){return new Wn(e,3,n,We.min(),We.min(),as.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jm{constructor(e,n){this.position=e,this.inclusive=n}}function z1(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const o=e[r],l=t.position[r];if(o.field.isKeyField()?s=Ue.comparator(Ue.fromName(l.referenceValue),n.key):s=Ec(l,n.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function $1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ur(t.position[n],e.position[n]))return!1;return!0}class Mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Yk{}class _n extends Yk{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Q6(e,n,s):n==="array-contains"?new Z6(e,s):n==="in"?new eU(e,s):n==="not-in"?new tU(e,s):n==="array-contains-any"?new nU(e,s):new _n(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new X6(e,s):new J6(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ec(n,this.value)):n!==null&&Qa(this.value)===Qa(n)&&this.matchesComparison(Ec(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends Yk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Oi(e,n)}matches(e){return Wk(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Wk(t){return t.op==="and"}function Qk(t){return W6(t)&&Wk(t)}function W6(t){for(const e of t.filters)if(e instanceof Oi)return!1;return!0}function y_(t){if(t instanceof _n)return t.field.canonicalString()+t.op.toString()+Sc(t.value);if(Qk(t))return t.filters.map((e=>y_(e))).join(",");{const e=t.filters.map((n=>y_(n))).join(",");return`${t.op}(${e})`}}function Xk(t,e){return t instanceof _n?(function(s,r){return r instanceof _n&&s.op===r.op&&s.field.isEqual(r.field)&&ur(s.value,r.value)})(t,e):t instanceof Oi?(function(s,r){return r instanceof Oi&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce(((o,l,h)=>o&&Xk(l,r.filters[h])),!0):!1})(t,e):void qe(19439)}function Jk(t){return t instanceof _n?(function(n){return`${n.field.canonicalString()} ${n.op} ${Sc(n.value)}`})(t):t instanceof Oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Jk).join(" ,")+"}"})(t):"Filter"}class Q6 extends _n{constructor(e,n,s){super(e,n,s),this.key=Ue.fromName(s.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class X6 extends _n{constructor(e,n){super(e,"in",n),this.keys=Zk("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class J6 extends _n{constructor(e,n){super(e,"not-in",n),this.keys=Zk("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Zk(t,e){return(e.arrayValue?.values||[]).map((n=>Ue.fromName(n.referenceValue)))}class Z6 extends _n{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return P0(n)&&Dh(n.arrayValue,this.value)}}class eU extends _n{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dh(this.value.arrayValue,n)}}class tU extends _n{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dh(this.value.arrayValue,n)}}class nU extends _n{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!P0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Dh(this.value.arrayValue,s)))}}class sU{constructor(e,n=null,s=[],r=[],o=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=o,this.startAt=l,this.endAt=h,this.Te=null}}function H1(t,e=null,n=[],s=[],r=null,o=null,l=null){return new sU(t,e,n,s,r,o,l)}function L0(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>y_(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),Rp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Sc(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Sc(s))).join(",")),e.Te=n}return e.Te}function V0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Y6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Xk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$1(t.startAt,e.startAt)&&$1(t.endAt,e.endAt)}function v_(t){return Ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Uc{constructor(e,n=null,s=[],r=[],o=null,l="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=o,this.limitType=l,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function iU(t,e,n,s,r,o,l,h){return new Uc(t,e,n,s,r,o,l,h)}function Ip(t){return new Uc(t)}function q1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rU(t){return Ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function eI(t){return t.collectionGroup!==null}function mh(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new Cn(zn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Mh(o,s))})),n.has(zn.keyField().canonicalString())||e.Ie.push(new Mh(zn.keyField(),s))}return e.Ie}function ar(t){const e=Ye(t);return e.Ee||(e.Ee=tI(e,mh(t))),e.Ee}function aU(t){const e=Ye(t);return e.Re||(e.Re=tI(e,t.explicitOrderBy)),e.Re}function tI(t,e){if(t.limitType==="F")return H1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Mh(r.field,o)}));const n=t.endAt?new jm(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new jm(t.startAt.position,t.startAt.inclusive):null;return H1(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function __(t,e){const n=t.filters.concat([e]);return new Uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function oU(t,e){const n=t.explicitOrderBy.concat([e]);return new Uc(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Fm(t,e,n){return new Uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dp(t,e){return V0(ar(t),ar(e))&&t.limitType===e.limitType}function nI(t){return`${L0(ar(t))}|lt:${t.limitType}`}function oc(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((r=>Jk(r))).join(", ")}]`),Rp(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((r=>Sc(r))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((r=>Sc(r))).join(",")),`Target(${s})`})(ar(t))}; limitType=${t.limitType})`}function Mp(t,e){return e.isFoundDocument()&&(function(s,r){const o=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):Ue.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)})(t,e)&&(function(s,r){for(const o of mh(s))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(s,r){for(const o of s.filters)if(!o.matches(r))return!1;return!0})(t,e)&&(function(s,r){return!(s.startAt&&!(function(l,h,d){const f=z1(l,h,d);return l.inclusive?f<=0:f<0})(s.startAt,mh(s),r)||s.endAt&&!(function(l,h,d){const f=z1(l,h,d);return l.inclusive?f>=0:f>0})(s.endAt,mh(s),r))})(t,e)}function lU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sI(t){return(e,n)=>{let s=!1;for(const r of mh(t)){const o=cU(r,e,n);if(o!==0)return o;s=s||r.field.isKeyField()}return 0}}function cU(t,e,n){const s=t.field.isKeyField()?Ue.comparator(e.key,n.key):(function(o,l,h){const d=l.data.field(o),f=h.data.field(o);return d!==null&&f!==null?Ec(d,f):qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return qe(19790,{direction:t.dir})}}class dl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,o]of s)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,((n,s)=>{for(const[r,o]of s)e(r,o)}))}isEmpty(){return jk(this.inner)}size(){return this.innerSize}}const uU=new Kt(Ue.comparator);function Hr(){return uU}const iI=new Kt(Ue.comparator);function ah(...t){let e=iI;for(const n of t)e=e.insert(n.key,n);return e}function rI(t){let e=iI;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function qo(){return ph()}function aI(){return ph()}function ph(){return new dl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const hU=new Kt(Ue.comparator),dU=new Cn(Ue.comparator);function ct(...t){let e=dU;for(const n of t)e=e.add(n);return e}const fU=new Cn(lt);function mU(){return fU}function U0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lm(e)?"-0":e}}function oI(t){return{integerValue:""+t}}function pU(t,e){return U6(e)?oI(e):U0(t,e)}class Op{constructor(){this._=void 0}}function gU(t,e,n){return t instanceof Oh?(function(r,o){const l={fields:{[zk]:{stringValue:Bk},[Hk]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&N0(o)&&(o=kp(o)),o&&(l.fields[$k]=o),{mapValue:l}})(n,e):t instanceof Nh?cI(t,e):t instanceof Ph?uI(t,e):(function(r,o){const l=lI(r,o),h=G1(l)+G1(r.Ae);return g_(l)&&g_(r.Ae)?oI(h):U0(r.serializer,h)})(t,e)}function yU(t,e,n){return t instanceof Nh?cI(t,e):t instanceof Ph?uI(t,e):n}function lI(t,e){return t instanceof Bm?(function(s){return g_(s)||(function(o){return!!o&&"doubleValue"in o})(s)})(e)?e:{integerValue:0}:null}class Oh extends Op{}class Nh extends Op{constructor(e){super(),this.elements=e}}function cI(t,e){const n=hI(e);for(const s of t.elements)n.some((r=>ur(r,s)))||n.push(s);return{arrayValue:{values:n}}}class Ph extends Op{constructor(e){super(),this.elements=e}}function uI(t,e){let n=hI(e);for(const s of t.elements)n=n.filter((r=>!ur(r,s)));return{arrayValue:{values:n}}}class Bm extends Op{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function G1(t){return rn(t.integerValue||t.doubleValue)}function hI(t){return P0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class vU{constructor(e,n){this.field=e,this.transform=n}}function _U(t,e){return t.field.isEqual(e.field)&&(function(s,r){return s instanceof Nh&&r instanceof Nh||s instanceof Ph&&r instanceof Ph?Tc(s.elements,r.elements,ur):s instanceof Bm&&r instanceof Bm?ur(s.Ae,r.Ae):s instanceof Oh&&r instanceof Oh})(t.transform,e.transform)}class bU{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Np{}function dI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new j0(t.key,ri.none()):new sd(t.key,t.data,ri.none());{const n=t.data,s=as.empty();let r=new Cn(zn.comparator);for(let o of e.fields)if(!r.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?s.delete(o):s.set(o,l),r=r.add(o)}return new ro(t.key,s,new Vs(r.toArray()),ri.none())}}function wU(t,e,n){t instanceof sd?(function(r,o,l){const h=r.value.clone(),d=Y1(r.fieldTransforms,o,l.transformResults);h.setAll(d),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ro?(function(r,o,l){if(!mm(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=Y1(r.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(fI(r)),d.setAll(h),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function gh(t,e,n,s){return t instanceof sd?(function(o,l,h,d){if(!mm(o.precondition,l))return h;const f=o.value.clone(),g=W1(o.fieldTransforms,d,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,s):t instanceof ro?(function(o,l,h,d){if(!mm(o.precondition,l))return h;const f=W1(o.fieldTransforms,d,l),g=l.data;return g.setAll(fI(o)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(t,e,n,s):(function(o,l,h){return mm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h})(t,e,n)}function TU(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),o=lI(s.transform,r||null);o!=null&&(n===null&&(n=as.empty()),n.set(s.field,o))}return n||null}function K1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Tc(s,r,((o,l)=>_U(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sd extends Np{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ro extends Np{constructor(e,n,s,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Y1(t,e,n){const s=new Map;Tt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let r=0;r<n.length;r++){const o=t[r],l=o.transform,h=e.data.field(o.field);s.set(o.field,yU(l,h,n[r]))}return s}function W1(t,e,n){const s=new Map;for(const r of t){const o=r.transform,l=n.data.field(r.field);s.set(r.field,gU(o,l,e))}return s}class j0 extends Np{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EU extends Np{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SU{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&wU(o,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=gh(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=gh(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=aI();return this.mutations.forEach((r=>{const o=e.get(r.key),l=o.overlayedDocument;let h=this.applyToLocalView(l,o.mutatedFields);h=n.has(r.key)?null:h;const d=dI(l,h);d!==null&&s.set(r.key,d),l.isValidDocument()||l.convertToNoDocument(We.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ct())}isEqual(e){return this.batchId===e.batchId&&Tc(this.mutations,e.mutations,((n,s)=>K1(n,s)))&&Tc(this.baseMutations,e.baseMutations,((n,s)=>K1(n,s)))}}class F0{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Tt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=(function(){return hU})();const o=e.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,s[l].version);return new F0(e,n,s,r)}}class AU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xU{constructor(e,n,s){this.alias=e,this.aggregateType=n,this.fieldPath=s}}class CU{constructor(e,n){this.count=e,this.unchangedNames=n}}var yn,ft;function RU(t){switch(t){case me.OK:return qe(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function mI(t){if(t===void 0)return $r("GRPC error has no .code"),me.UNKNOWN;switch(t){case yn.OK:return me.OK;case yn.CANCELLED:return me.CANCELLED;case yn.UNKNOWN:return me.UNKNOWN;case yn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case yn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case yn.INTERNAL:return me.INTERNAL;case yn.UNAVAILABLE:return me.UNAVAILABLE;case yn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case yn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case yn.NOT_FOUND:return me.NOT_FOUND;case yn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case yn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case yn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case yn.ABORTED:return me.ABORTED;case yn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case yn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case yn.DATA_LOSS:return me.DATA_LOSS;default:return qe(39323,{code:t})}}(ft=yn||(yn={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";function kU(){return new TextEncoder}const IU=new qa([4294967295,4294967295],0);function Q1(t){const e=kU().encode(t),n=new Rk;return n.update(e),new Uint8Array(n.digest())}function X1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new qa([n,s],0),new qa([r,o],0)]}class B0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new oh(`Invalid padding: ${n}`);if(s<0)throw new oh(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new oh(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new oh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=qa.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(qa.fromNumber(s)));return r.compare(IU)===1&&(r=new qa([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Q1(e),[s,r]=X1(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(s,r,o);if(!this.we(l))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new B0(o,r,n);return s.forEach((h=>l.insert(h))),l}insert(e){if(this.ge===0)return;const n=Q1(e),[s,r]=X1(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(s,r,o);this.be(l)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pp{constructor(e,n,s,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,id.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Pp(We.min(),r,new Kt(lt),Hr(),ct())}}class id{constructor(e,n,s,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new id(s,n,ct(),ct(),ct())}}class pm{constructor(e,n,s,r){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=r}}class pI{constructor(e,n){this.targetId=e,this.Ce=n}}class gI{constructor(e,n,s=$n.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class J1{constructor(){this.ve=0,this.Fe=Z1(),this.Me=$n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ct(),n=ct(),s=ct();return this.Fe.forEach(((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:qe(38017,{changeType:o})}})),new id(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=Z1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class DU{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hr(),this.He=Hf(),this.Je=Hf(),this.Ze=new Kt(lt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,r)=>{this.rt(r)&&n(r)}))}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const o=r.target;if(v_(o))if(s===0){const l=new Ue(o.path);this.et(n,l,Wn.newNoDocument(l,We.min()))}else Tt(s===1,20013,{expectedCount:s});else{const l=this._t(n);if(l!==s){const h=this.ut(e),d=h?this.ct(h,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:o=0}=n;let l,h;try{l=Wa(s).toUint8Array()}catch(d){if(d instanceof Fk)return rl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new B0(l,r,o)}catch(d){return rl(d instanceof oh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach((o=>{const l=this.Ge.ht(),h=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),r++)})),r}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const h=this.ot(l);if(h){if(o.current&&v_(h.target)){const d=new Ue(h.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Wn.newNoDocument(d,e))}o.Be&&(n.set(l,o.ke()),o.Ke())}}));let s=ct();this.Je.forEach(((o,l)=>{let h=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const r=new Pp(e,n,this.Ze,this.je,s);return this.je=Hr(),this.He=Hf(),this.Je=Hf(),this.Ze=new Kt(lt),r}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.qe(n,1):r.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new J1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Cn(lt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Cn(lt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new J1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hf(){return new Kt(Ue.comparator)}function Z1(){return new Kt(Ue.comparator)}const MU={asc:"ASCENDING",desc:"DESCENDING"},OU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NU={and:"AND",or:"OR"};class PU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function b_(t,e){return t.useProto3Json||Rp(e)?e:{value:e}}function zm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LU(t,e){return zm(t,e.toTimestamp())}function or(t){return Tt(!!t,49232),We.fromTimestamp((function(n){const s=Ya(n);return new jt(s.seconds,s.nanos)})(t))}function z0(t,e){return w_(t,e).canonicalString()}function w_(t,e){const n=(function(r){return new Lt(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function vI(t){const e=Lt.fromString(t);return Tt(SI(e),10190,{key:e.toString()}),e}function T_(t,e){return z0(t.databaseId,e.path)}function mv(t,e){const n=vI(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(bI(n))}function _I(t,e){return z0(t.databaseId,e)}function VU(t){const e=vI(t);return e.length===4?Lt.emptyPath():bI(e)}function E_(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bI(t){return Tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function eA(t,e,n){return{name:T_(t,e),fields:n.value.mapValue.fields}}function UU(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:qe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(Tt(g===void 0||typeof g=="string",58123),$n.fromBase64String(g||"")):(Tt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),$n.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&(function(f){const g=f.code===void 0?me.UNKNOWN:mI(f.code);return new Ae(g,f.message||"")})(l);n=new gI(s,r,o,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=mv(t,s.document.name),o=or(s.document.updateTime),l=s.document.createTime?or(s.document.createTime):We.min(),h=new as({mapValue:{fields:s.document.fields}}),d=Wn.newFoundDocument(r,o,l,h),f=s.targetIds||[],g=s.removedTargetIds||[];n=new pm(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=mv(t,s.document),o=s.readTime?or(s.readTime):We.min(),l=Wn.newNoDocument(r,o),h=s.removedTargetIds||[];n=new pm([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=mv(t,s.document),o=s.removedTargetIds||[];n=new pm([],o,r,null)}else{if(!("filter"in e))return qe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:o}=s,l=new CU(r,o),h=s.targetId;n=new pI(h,l)}}return n}function jU(t,e){let n;if(e instanceof sd)n={update:eA(t,e.key,e.value)};else if(e instanceof j0)n={delete:T_(t,e.key)};else if(e instanceof ro)n={update:eA(t,e.key,e.data),updateMask:YU(e.fieldMask)};else{if(!(e instanceof EU))return qe(16599,{dt:e.type});n={verify:T_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(o,l){const h=l.transform;if(h instanceof Oh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Nh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ph)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Bm)return{fieldPath:l.field.canonicalString(),increment:h.Ae};throw qe(20930,{transform:l.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:LU(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:qe(27497)})(t,e.precondition)),n}function FU(t,e){return t&&t.length>0?(Tt(e!==void 0,14353),t.map((n=>(function(r,o){let l=r.updateTime?or(r.updateTime):or(o);return l.isEqual(We.min())&&(l=or(o)),new bU(l,r.transformResults||[])})(n,e)))):[]}function BU(t,e){return{documents:[_I(t,e.path)]}}function wI(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=_I(t,r);const o=(function(f){if(f.length!==0)return EI(Oi.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((g=>(function(_){return{field:Va(_.field),direction:qU(_.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=b_(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:r}}function zU(t,e,n,s){const{ft:r,parent:o}=wI(t,e),l={},h=[];let d=0;return n.forEach((f=>{const g="aggregate_"+d++;l[g]=f.alias,f.aggregateType==="count"?h.push({alias:g,count:{}}):f.aggregateType==="avg"?h.push({alias:g,avg:{field:Va(f.fieldPath)}}):f.aggregateType==="sum"&&h.push({alias:g,sum:{field:Va(f.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:h,structuredQuery:r.structuredQuery},parent:r.parent},gt:l,parent:o}}function $U(t){let e=VU(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Tt(s===1,65062);const g=n.from[0];g.allDescendants?r=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(v){const _=TI(v);return _ instanceof Oi&&Qk(_)?_.getFilters():[_]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((_=>(function(I){return new Mh(lc(I.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(_)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let _;return _=typeof v=="object"?v.value:v,Rp(_)?null:_})(n.limit));let d=null;n.startAt&&(d=(function(v){const _=!!v.before,A=v.values||[];return new jm(A,_)})(n.startAt));let f=null;return n.endAt&&(f=(function(v){const _=!v.before,A=v.values||[];return new jm(A,_)})(n.endAt)),iU(e,r,l,o,h,"F",d,f)}function HU(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lc(n.unaryFilter.field);return _n.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=lc(n.unaryFilter.field);return _n.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=lc(n.unaryFilter.field);return _n.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=lc(n.unaryFilter.field);return _n.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return _n.create(lc(n.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Oi.create(n.compositeFilter.filters.map((s=>TI(s))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(n.compositeFilter.op))})(t):qe(30097,{filter:t})}function qU(t){return MU[t]}function GU(t){return OU[t]}function KU(t){return NU[t]}function Va(t){return{fieldPath:t.canonicalString()}}function lc(t){return zn.fromServerFormat(t.fieldPath)}function EI(t){return t instanceof _n?(function(n){if(n.op==="=="){if(B1(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NAN"}};if(F1(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B1(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NAN"}};if(F1(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(n.field),op:GU(n.op),value:n.value}}})(t):t instanceof Oi?(function(n){const s=n.getFilters().map((r=>EI(r)));return s.length===1?s[0]:{compositeFilter:{op:KU(n.op),filters:s}}})(t):qe(54877,{filter:t})}function YU(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function SI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function AI(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Fa{constructor(e,n,s,r,o=We.min(),l=We.min(),h=$n.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class WU{constructor(e){this.yt=e}}function QU(t){const e=$U({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fm(e,e.limit,"L"):e}class XU{constructor(){this.Sn=new JU}addToCollectionParentIndex(e,n){return this.Sn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(Ka.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(Ka.min())}updateCollectionGroup(e,n,s){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class JU{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new Cn(Lt.comparator),o=!r.has(s);return this.index[n]=r.add(s),o}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new Cn(Lt.comparator)).toArray()}}const tA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xI=41943040;class ws{static withCacheSize(e){return new ws(e,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(xI,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);class Ac{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ac(0)}static ar(){return new Ac(-1)}}const nA="LruGarbageCollector",ZU=1048576;function sA([t,e],[n,s]){const r=lt(t,n);return r===0?lt(e,s):r}class ej{constructor(e){this.Pr=e,this.buffer=new Cn(sA),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sA(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tj{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Re(nA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vc(n)?Re(nA,"Ignoring IndexedDB error during garbage collection: ",n):await Lc(n)}await this.Ar(3e5)}))}}class nj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(Cp.ce);const s=new ej(n);return this.Vr.forEachTarget(e,(r=>s.Er(r.sequenceNumber))).next((()=>this.Vr.mr(e,(r=>s.Er(r))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(tA)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tA):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,r,o,l,h,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,l=Date.now(),this.nthSequenceNumber(e,r)))).next((v=>(s=v,h=Date.now(),this.removeTargets(e,s,n)))).next((v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(f=Date.now(),ac()<=rt.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${r} in `+(h-l)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v}))))}}function sj(t,e){return new nj(t,e)}class ij{constructor(){this.changes=new dl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ve.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class aj{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((r=>(s=r,this.remoteDocumentCache.getEntry(e,n)))).next((r=>(s!==null&&gh(s.mutation,r,Vs.empty(),jt.now()),r)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ct()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ct()){const r=qo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,s).next((o=>{let l=ah();return o.forEach(((h,d)=>{l=l.insert(h,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const s=qo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ct())))}populateOverlays(e,n,s){const r=[];return s.forEach((o=>{n.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(e,r).next((o=>{o.forEach(((l,h)=>{n.set(l,h)}))}))}computeViews(e,n,s,r){let o=Hr();const l=ph(),h=(function(){return ph()})();return n.forEach(((d,f)=>{const g=s.get(f.key);r.has(f.key)&&(g===void 0||g.mutation instanceof ro)?o=o.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),gh(g.mutation,f,g.mutation.getFieldMask(),jt.now())):l.set(f.key,Vs.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((f,g)=>l.set(f,g))),n.forEach(((f,g)=>h.set(f,new rj(g,l.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=ph();let r=new Kt(((l,h)=>l-h)),o=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const h of l)h.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let g=s.get(d)||Vs.empty();g=h.applyToLocalView(f,g),s.set(d,g);const v=(r.get(h.batchId)||ct()).add(d);r=r.insert(h.batchId,v)}))})).next((()=>{const l=[],h=r.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),f=d.key,g=d.value,v=aI();g.forEach((_=>{if(!o.has(_)){const A=dI(n.get(_),s.get(_));A!==null&&v.set(_,A),o=o.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return ve.waitFor(l)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,r){return rU(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next((o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-o.size):ve.resolve(qo());let h=Rh,d=o;return l.next((f=>ve.forEach(f,((g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(g)?ve.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{d=d.insert(g,_)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,d,f,ct()))).next((g=>({batchId:h,changes:rI(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next((s=>{let r=ah();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const o=n.collectionGroup;let l=ah();return this.indexManager.getCollectionParents(e,o).next((h=>ve.forEach(h,(d=>{const f=(function(v,_){return new Uc(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,s,r).next((g=>{g.forEach(((v,_)=>{l=l.insert(v,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,s,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,o,r)))).next((l=>{o.forEach(((d,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,Wn.newInvalidDocument(g)))}));let h=ah();return l.forEach(((d,f)=>{const g=o.get(d);g!==void 0&&gh(g.mutation,f,Vs.empty(),jt.now()),Mp(n,f)&&(h=h.insert(d,f))})),h}))}}class oj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ve.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:or(r.createTime)}})(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(r){return{name:r.name,query:QU(r.bundledQuery),readTime:or(r.readTime)}})(n)),ve.resolve()}}class lj{constructor(){this.overlays=new Kt(Ue.comparator),this.Lr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const s=qo();return ve.forEach(n,(r=>this.getOverlay(e,r).next((o=>{o!==null&&s.set(r,o)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((r,o)=>{this.bt(e,n,o)})),ve.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.Lr.get(s);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(s)),ve.resolve()}getOverlaysForCollection(e,n,s){const r=qo(),o=n.length+1,l=new Ue(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const d=h.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>s&&r.set(d.getKey(),d)}return ve.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let o=new Kt(((f,g)=>f-g));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>s){let g=o.get(f.largestBatchId);g===null&&(g=qo(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const h=qo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,g)=>h.set(f,g))),!(h.size()>=r)););return ve.resolve(h)}bt(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const l=this.Lr.get(r.largestBatchId).delete(s.key);this.Lr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(s.key,new AU(n,s));let o=this.Lr.get(n);o===void 0&&(o=ct(),this.Lr.set(n,o)),this.Lr.set(n,o.add(s.key))}}class cj{constructor(){this.sessionToken=$n.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}class $0{constructor(){this.kr=new Cn(On.Kr),this.qr=new Cn(On.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new On(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new On(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Ue(new Lt([])),s=new On(n,e),r=new On(n,e+1),o=[];return this.qr.forEachInRange([s,r],(l=>{this.Wr(l),o.push(l.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ue(new Lt([])),s=new On(n,e),r=new On(n,e+1);let o=ct();return this.qr.forEachInRange([s,r],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new On(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class On{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ue.comparator(e.key,n.key)||lt(e.Hr,n.Hr)}static Ur(e,n){return lt(e.Hr,n.Hr)||Ue.comparator(e.key,n.key)}}class uj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Cn(On.Kr)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new SU(o,n,s,r);this.mutationQueue.push(l);for(const h of r)this.Jr=this.Jr.add(new On(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ve.resolve(l)}lookupMutationBatch(e,n){return ve.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.Xr(s),o=r<0?0:r;return ve.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?O0:this.Yn-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new On(n,0),r=new On(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([s,r],(l=>{const h=this.Zr(l.Hr);o.push(h)})),ve.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Cn(lt);return n.forEach((r=>{const o=new On(r,0),l=new On(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,l],(h=>{s=s.add(h.Hr)}))})),ve.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let o=s;Ue.isDocumentKey(o)||(o=o.child(""));const l=new On(new Ue(o),0);let h=new Cn(lt);return this.Jr.forEachWhile((d=>{const f=d.key.path;return!!s.isPrefixOf(f)&&(f.length===r&&(h=h.add(d.Hr)),!0)}),l),ve.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((s=>{const r=this.Zr(s);r!==null&&n.push(r)})),n}removeMutationBatch(e,n){Tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ve.forEach(n.mutations,(r=>{const o=new On(r.key,n.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new On(n,0),r=this.Jr.firstAfterOrEqual(s);return ve.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class hj{constructor(e){this.ti=e,this.docs=(function(){return new Kt(Ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),o=r?r.size:0,l=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ve.resolve(s?s.document.mutableCopy():Wn.newInvalidDocument(n))}getEntries(e,n){let s=Hr();return n.forEach((r=>{const o=this.docs.get(r);s=s.insert(r,o?o.document.mutableCopy():Wn.newInvalidDocument(r))})),ve.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let o=Hr();const l=n.path,h=new Ue(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||N6(O6(g),s)<=0||(r.has(g.key)||Mp(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ve.resolve(o)}getAllFromCollectionGroup(e,n,s,r){qe(9500)}ni(e,n){return ve.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new dj(this)}getSize(e){return ve.resolve(this.size)}}class dj extends ij{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,r)=>{r.isValidDocument()?n.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(s)})),ve.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class fj{constructor(e){this.persistence=e,this.ri=new dl((n=>L0(n)),V0),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.ii=0,this.si=new $0,this.targetCount=0,this.oi=Ac._r()}forEachTarget(e,n){return this.ri.forEach(((s,r)=>n(r))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ve.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ac(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.lr(n),ve.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,s){let r=0;const o=[];return this.ri.forEach(((l,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.ri.delete(l),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)})),ve.waitFor(o).next((()=>r))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ve.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ve.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach((l=>{o.push(r.markPotentiallyOrphaned(e,l))})),ve.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ve.resolve(s)}containsKey(e,n){return ve.resolve(this.si.containsKey(n))}}class CI{constructor(e,n){this._i={},this.overlays={},this.ai=new Cp(0),this.ui=!1,this.ui=!0,this.ci=new cj,this.referenceDelegate=e(this),this.li=new fj(this),this.indexManager=new XU,this.remoteDocumentCache=(function(r){return new hj(r)})((s=>this.referenceDelegate.hi(s))),this.serializer=new WU(n),this.Pi=new oj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new uj(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){Re("MemoryPersistence","Starting transaction:",e);const r=new mj(this.ai.next());return this.referenceDelegate.Ti(),s(r).next((o=>this.referenceDelegate.Ii(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ei(e,n){return ve.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class mj extends L6{constructor(e){super(),this.currentSequenceNumber=e}}class H0{constructor(e){this.persistence=e,this.Ri=new $0,this.Ai=null}static Vi(e){return new H0(e)}get di(){if(this.Ai)return this.Ai;throw qe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ve.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((r=>this.di.add(r.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((r=>{r.forEach((o=>this.di.add(o.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.di,(s=>{const r=Ue.fromPath(s);return this.mi(e,r).next((o=>{o||n.removeEntry(r,We.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class $m{constructor(e,n){this.persistence=e,this.fi=new dl((s=>j6(s.path)),((s,r)=>s.isEqual(r))),this.garbageCollector=sj(this,n)}static Vi(e,n){return new $m(e,n)}Ti(){}Ii(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((r=>s+r))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ve.forEach(this.fi,((s,r)=>this.wr(e,s,r).next((o=>o?ve.resolve():n(r)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ni(e,(l=>this.wr(e,l,n).next((h=>{h||(s++,o.removeEntry(l,We.min()))})))).next((()=>o.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ve.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dm(e.data.value)),n}wr(e,n,s){return ve.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.fi.get(n);return ve.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class q0{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=r}static Es(e,n){let s=ct(),r=ct();for(const o of n.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new q0(e,n.fromCache,s,r)}}class pj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return NV()?8:V6(Xn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const o={result:null};return this.gs(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ps(e,n,r,s).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new pj;return this.ys(e,n,l).next((h=>{if(o.result=h,this.As)return this.ws(e,n,l,h.size)}))})).next((()=>o.result))}ws(e,n,s,r){return s.documentReadCount<this.Vs?(ac()<=rt.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",oc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ve.resolve()):(ac()<=rt.DEBUG&&Re("QueryEngine","Query:",oc(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.ds*r?(ac()<=rt.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",oc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(n))):ve.resolve())}gs(e,n){if(q1(n))return ve.resolve(null);let s=ar(n);return this.indexManager.getIndexType(e,s).next((r=>r===0?null:(n.limit!==null&&r===1&&(n=Fm(n,null,"F"),s=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((o=>{const l=ct(...o);return this.fs.getDocuments(e,l).next((h=>this.indexManager.getMinOffset(e,s).next((d=>{const f=this.bs(n,h);return this.Ss(n,f,l,d.readTime)?this.gs(e,Fm(n,null,"F")):this.Ds(e,f,n,d)}))))})))))}ps(e,n,s,r){return q1(n)||r.isEqual(We.min())?ve.resolve(null):this.fs.getDocuments(e,s).next((o=>{const l=this.bs(n,o);return this.Ss(n,l,s,r)?ve.resolve(null):(ac()<=rt.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),oc(n)),this.Ds(e,l,n,M6(r,Rh)).next((h=>h)))}))}bs(e,n){let s=new Cn(sI(e));return n.forEach(((r,o)=>{Mp(e,o)&&(s=s.add(o))})),s}Ss(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ys(e,n,s){return ac()<=rt.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",oc(n)),this.fs.getDocumentsMatchingQuery(e,n,Ka.min(),s)}Ds(e,n,s,r){return this.fs.getDocumentsMatchingQuery(e,s,r).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const G0="LocalStore",yj=3e8;class vj{constructor(e,n,s,r){this.persistence=e,this.Cs=n,this.serializer=r,this.vs=new Kt(lt),this.Fs=new dl((o=>L0(o)),V0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function _j(t,e,n,s){return new vj(t,e,n,s)}async function RI(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next((o=>(r=o,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((o=>{const l=[],h=[];let d=ct();for(const f of r){l.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){h.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(s,d).next((f=>({Ns:f,removedBatchIds:l,addedBatchIds:h})))}))}))}function bj(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const r=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,f,g){const v=f.batch,_=v.keys();let A=ve.resolve();return _.forEach((I=>{A=A.next((()=>g.getEntry(d,I))).next((O=>{const M=f.docVersions.get(I);Tt(M!==null,48541),O.version.compareTo(M)<0&&(v.applyToRemoteDocument(O,f),O.isValidDocument()&&(O.setReadTime(f.commitVersion),g.addEntry(O)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,s,e,o).next((()=>o.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let d=ct();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(d=d.add(h.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(s,r)))}))}function kI(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function wj(t,e){const n=Ye(t),s=e.snapshotVersion;let r=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});r=n.vs;const h=[];e.targetChanges.forEach(((g,v)=>{const _=r.get(v);if(!_)return;h.push(n.li.removeMatchingKeys(o,g.removedDocuments,v).next((()=>n.li.addMatchingKeys(o,g.addedDocuments,v))));let A=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken($n.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,s)),r=r.insert(v,A),(function(O,M,B){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=yj?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(_,A,g)&&h.push(n.li.updateTargetData(o,A))}));let d=Hr(),f=ct();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),h.push(Tj(o,l,e.documentUpdates).next((g=>{d=g.Bs,f=g.Ls}))),!s.isEqual(We.min())){const g=n.li.getLastRemoteSnapshotVersion(o).next((v=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,s)));h.push(g)}return ve.waitFor(h).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,f))).next((()=>d))})).then((o=>(n.vs=r,o)))}function Tj(t,e,n){let s=ct(),r=ct();return n.forEach((o=>s=s.add(o))),e.getEntries(t,s).next((o=>{let l=Hr();return n.forEach(((h,d)=>{const f=o.get(h);d.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(h)),d.isNoDocument()&&d.version.isEqual(We.min())?(e.removeEntry(h,d.readTime),l=l.insert(h,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(h,d)):Re(G0,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",d.version)})),{Bs:l,Ls:r}}))}function Ej(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=O0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Sj(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let r;return n.li.getTargetData(s,e).next((o=>o?(r=o,ve.resolve(r)):n.li.allocateTargetId(s).next((l=>(r=new Fa(e,l,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,r).next((()=>r)))))))})).then((s=>{const r=n.vs.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function S_(t,e,n){const s=Ye(t),r=s.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",o,(l=>s.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Vc(l))throw l;Re(G0,`Failed to update sequence numbers for target ${e}: ${l}`)}s.vs=s.vs.remove(e),s.Fs.delete(r.target)}function iA(t,e,n){const s=Ye(t);let r=We.min(),o=ct();return s.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,g){const v=Ye(d),_=v.Fs.get(g);return _!==void 0?ve.resolve(v.vs.get(_)):v.li.getTargetData(f,g)})(s,l,ar(e)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(l,h.targetId).next((d=>{o=d}))})).next((()=>s.Cs.getDocumentsMatchingQuery(l,e,n?r:We.min(),n?o:ct()))).next((h=>(Aj(s,lU(e),h),{documents:h,ks:o})))))}function Aj(t,e,n){let s=t.Ms.get(e)||We.min();n.forEach(((r,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)})),t.Ms.set(e,s)}class rA{constructor(){this.activeTargetIds=mU()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xj{constructor(){this.vo=new rA,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new rA,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cj{Mo(e){}shutdown(){}}const aA="ConnectivityMonitor";class oA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Re(aA,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Re(aA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qf=null;function A_(){return qf===null?qf=(function(){return 268435456+Math.round(2147483648*Math.random())})():qf++,"0x"+qf.toString(16)}const pv="RestConnection",Rj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kj{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${r}`,this.$o=this.databaseId.database===Vm?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Wo(e,n,s,r,o){const l=A_(),h=this.Qo(e,n.toUriEncodedString());Re(pv,`Sending RPC '${e}' ${l}:`,h,s);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,r,o);const{host:f}=new URL(h),g=fr(f);return this.zo(e,h,d,s,g).then((v=>(Re(pv,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw rl(pv,`RPC '${e}' ${l} failed with error: `,v,"url: ",h,"request:",s),v}))}jo(e,n,s,r,o,l){return this.Wo(e,n,s,r,o)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((r,o)=>e[o]=r)),s&&s.headers.forEach(((r,o)=>e[o]=r))}Qo(e,n){const s=Rj[e];let r=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}class Ij{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Gn="WebChannelConnection",qu=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(r){setTimeout((()=>{throw r}),0)}}))};class yc extends kj{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!yc.c_){const e=Mk();qu(e,Dk.STAT_EVENT,(n=>{n.stat===f_.PROXY?Re(Gn,"STAT_EVENT: detected buffering proxy"):n.stat===f_.NOPROXY&&Re(Gn,"STAT_EVENT: detected no buffering proxy")})),yc.c_=!0}}zo(e,n,s,r,o){const l=A_();return new Promise(((h,d)=>{const f=new kk;f.setWithCredentials(!0),f.listenOnce(Ik.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case hm.NO_ERROR:const v=f.getResponseJson();Re(Gn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),h(v);break;case hm.TIMEOUT:Re(Gn,`RPC '${e}' ${l} timed out`),d(new Ae(me.DEADLINE_EXCEEDED,"Request time out"));break;case hm.HTTP_ERROR:const _=f.getStatus();if(Re(Gn,`RPC '${e}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let A=f.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A?.error;if(I&&I.status&&I.message){const O=(function(B){const F=B.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(F)>=0?F:me.UNKNOWN})(I.status);d(new Ae(O,I.message))}else d(new Ae(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Ae(me.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Re(Gn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(r);Re(Gn,`RPC '${e}' ${l} sending request:`,r),f.send(n,"POST",g,s,15)}))}T_(e,n,s){const r=A_(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,s),h.encodeInitMessageHeaders=!0;const f=o.join("");Re(Gn,`Creating RPC '${e}' stream ${r}: ${f}`,h);const g=l.createWebChannel(f,h);this.I_(g);let v=!1,_=!1;const A=new Ij({Ho:I=>{_?Re(Gn,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(v||(Re(Gn,`Opening RPC '${e}' stream ${r} transport.`),g.open(),v=!0),Re(Gn,`RPC '${e}' stream ${r} sending:`,I),g.send(I))},Jo:()=>g.close()});return qu(g,rh.EventType.OPEN,(()=>{_||(Re(Gn,`RPC '${e}' stream ${r} transport opened.`),A.i_())})),qu(g,rh.EventType.CLOSE,(()=>{_||(_=!0,Re(Gn,`RPC '${e}' stream ${r} transport closed`),A.o_(),this.E_(g))})),qu(g,rh.EventType.ERROR,(I=>{_||(_=!0,rl(Gn,`RPC '${e}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),A.o_(new Ae(me.UNAVAILABLE,"The operation could not be completed")))})),qu(g,rh.EventType.MESSAGE,(I=>{if(!_){const O=I.data[0];Tt(!!O,16349);const M=O,B=M?.error||M[0]?.error;if(B){Re(Gn,`RPC '${e}' stream ${r} received error:`,B);const F=B.status;let V=(function(Y){const x=yn[Y];if(x!==void 0)return mI(x)})(F),K=B.message;F==="NOT_FOUND"&&K.includes("database")&&K.includes("does not exist")&&K.includes(this.databaseId.database)&&rl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),V===void 0&&(V=me.INTERNAL,K="Unknown error status: "+F+" with message "+B.message),_=!0,A.o_(new Ae(V,K)),g.close()}else Re(Gn,`RPC '${e}' stream ${r} received:`,O),A.__(O)}})),yc.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ok()}}function Dj(t){return new yc(t)}function gv(){return typeof document<"u"?document:null}function Lp(t){return new PU(t,!0)}yc.c_=!1;class II{constructor(e,n,s=1e3,r=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=r,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&Re("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const lA="PersistentStream";class DI{constructor(e,n,s,r,o,l,h,d){this.Ci=e,this.b_=s,this.S_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new II(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,r])=>{this.D_===n&&this.G_(s,r)}),(s=>{e((()=>{const r=new Ae(me.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((r=>{s((()=>this.z_(r)))})),this.stream.onMessage((r=>{s((()=>++this.F_==1?this.H_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Re(lA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Re(lA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Mj extends DI{constructor(e,n,s,r,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=UU(this.serializer,e),s=(function(o){if(!("targetChange"in o))return We.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?We.min():l.readTime?or(l.readTime):We.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=E_(this.serializer),n.addTarget=(function(o,l){let h;const d=l.target;if(h=v_(d)?{documents:BU(o,d)}:{query:wI(o,d).ft},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=yI(o,l.resumeToken);const f=b_(o,l.expectedCount);f!==null&&(h.expectedCount=f)}else if(l.snapshotVersion.compareTo(We.min())>0){h.readTime=zm(o,l.snapshotVersion.toTimestamp());const f=b_(o,l.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const s=HU(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=E_(this.serializer),n.removeTarget=e,this.K_(n)}}class Oj extends DI{constructor(e,n,s,r,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,l),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=FU(e.writeResults,e.commitTime),s=or(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=E_(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>jU(this.serializer,s)))};this.K_(n)}}class Nj{}class Pj extends Nj{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Ae(me.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Wo(e,w_(n,s),r,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(me.UNKNOWN,o.toString())}))}jo(e,n,s,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.jo(e,w_(n,s),r,l,h,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(me.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Lj(t,e,n,s){return new Pj(t,e,n,s)}class Vj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($r(n),this.aa=!1):Re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const al="RemoteStore";class Uj{constructor(e,n,s,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((l=>{s.enqueueAndForget((async()=>{fl(this)&&(Re(al,"Restarting streams for network reachability change."),await(async function(d){const f=Ye(d);f.Ea.add(4),await rd(f),f.Va.set("Unknown"),f.Ea.delete(4),await Vp(f)})(this))}))})),this.Va=new Vj(s,r)}}async function Vp(t){if(fl(t))for(const e of t.Ra)await e(!0)}async function rd(t){for(const e of t.Ra)await e(!1)}function MI(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Q0(n)?W0(n):jc(n).O_()&&Y0(n,e))}function K0(t,e){const n=Ye(t),s=jc(n);n.Ia.delete(e),s.O_()&&OI(n,e),n.Ia.size===0&&(s.O_()?s.L_():fl(n)&&n.Va.set("Unknown"))}function Y0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jc(t).Z_(e)}function OI(t,e){t.da.$e(e),jc(t).X_(e)}function W0(t){t.da=new DU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),jc(t).start(),t.Va.ua()}function Q0(t){return fl(t)&&!jc(t).x_()&&t.Ia.size>0}function fl(t){return Ye(t).Ea.size===0}function NI(t){t.da=void 0}async function jj(t){t.Va.set("Online")}async function Fj(t){t.Ia.forEach(((e,n)=>{Y0(t,e)}))}async function Bj(t,e){NI(t),Q0(t)?(t.Va.ha(e),W0(t)):t.Va.set("Unknown")}async function zj(t,e,n){if(t.Va.set("Online"),e instanceof gI&&e.state===2&&e.cause)try{await(async function(r,o){const l=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,l),r.Ia.delete(h),r.da.removeTarget(h))})(t,e)}catch(s){Re(al,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hm(t,s)}else if(e instanceof pm?t.da.Xe(e):e instanceof pI?t.da.st(e):t.da.tt(e),!n.isEqual(We.min()))try{const s=await kI(t.localStore);n.compareTo(s)>=0&&await(function(o,l){const h=o.da.Tt(l);return h.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(d.resumeToken,l))}})),h.targetMismatches.forEach(((d,f)=>{const g=o.Ia.get(d);if(!g)return;o.Ia.set(d,g.withResumeToken($n.EMPTY_BYTE_STRING,g.snapshotVersion)),OI(o,d);const v=new Fa(g.target,d,f,g.sequenceNumber);Y0(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){Re(al,"Failed to raise snapshot:",s),await Hm(t,s)}}async function Hm(t,e,n){if(!Vc(e))throw e;t.Ea.add(1),await rd(t),t.Va.set("Offline"),n||(n=()=>kI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Re(al,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Vp(t)}))}function PI(t,e){return e().catch((n=>Hm(t,n,e)))}async function Up(t){const e=Ye(t),n=Xa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:O0;for(;$j(e);)try{const r=await Ej(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,Hj(e,r)}catch(r){await Hm(e,r)}LI(e)&&VI(e)}function $j(t){return fl(t)&&t.Ta.length<10}function Hj(t,e){t.Ta.push(e);const n=Xa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function LI(t){return fl(t)&&!Xa(t).x_()&&t.Ta.length>0}function VI(t){Xa(t).start()}async function qj(t){Xa(t).ra()}async function Gj(t){const e=Xa(t);for(const n of t.Ta)e.ea(n.mutations)}async function Kj(t,e,n){const s=t.Ta.shift(),r=F0.from(s,e,n);await PI(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await Up(t)}async function Yj(t,e){e&&Xa(t).Y_&&await(async function(s,r){if((function(l){return RU(l)&&l!==me.ABORTED})(r.code)){const o=s.Ta.shift();Xa(s).B_(),await PI(s,(()=>s.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Up(s)}})(t,e),LI(t)&&VI(t)}async function cA(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Re(al,"RemoteStore received new credentials");const s=fl(n);n.Ea.add(3),await rd(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vp(n)}async function Wj(t,e){const n=Ye(t);e?(n.Ea.delete(2),await Vp(n)):e||(n.Ea.add(2),await rd(n),n.Va.set("Unknown"))}function jc(t){return t.ma||(t.ma=(function(n,s,r){const o=Ye(n);return o.sa(),new Mj(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(t.datastore,t.asyncQueue,{Zo:jj.bind(null,t),Yo:Fj.bind(null,t),t_:Bj.bind(null,t),J_:zj.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Q0(t)?W0(t):t.Va.set("Unknown")):(await t.ma.stop(),NI(t))}))),t.ma}function Xa(t){return t.fa||(t.fa=(function(n,s,r){const o=Ye(n);return o.sa(),new Oj(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:qj.bind(null,t),t_:Yj.bind(null,t),ta:Gj.bind(null,t),na:Kj.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Up(t)):(await t.fa.stop(),t.Ta.length>0&&(Re(al,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class X0{constructor(e,n,s,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=o,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,o){const l=Date.now()+s,h=new X0(e,n,l,r,o);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J0(t,e){if($r("AsyncQueue",`${e}: ${t}`),Vc(t))return new Ae(me.UNAVAILABLE,`${e}: ${t}`);throw t}class vc{static emptySet(e){return new vc(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ue.comparator(n.key,s.key):(n,s)=>Ue.comparator(n.key,s.key),this.keyedMap=ah(),this.sortedSet=new Kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=s.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new vc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class uA{constructor(){this.ga=new Kt(Ue.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):qe(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class xc{constructor(e,n,s,r,o,l,h,d,f){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,s,r,o){const l=[];return n.forEach((h=>{l.push({type:0,doc:h})})),new xc(e,n,vc.emptySet(n),l,s,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}class Qj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Xj{constructor(){this.queries=hA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=Ye(n),o=r.queries;r.queries=hA(),o.forEach(((l,h)=>{for(const d of h.ba)d.onError(s)}))})(this,new Ae(me.ABORTED,"Firestore shutting down"))}}function hA(){return new dl((t=>nI(t)),Dp)}async function Z0(t,e){const n=Ye(t);let s=3;const r=e.query;let o=n.queries.get(r);o?!o.Sa()&&e.Da()&&(s=2):(o=new Qj,s=e.Da()?0:1);try{switch(s){case 0:o.wa=await n.onListen(r,!0);break;case 1:o.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(l){const h=J0(l,`Initialization of query '${oc(e.query)}' failed`);return void e.onError(h)}n.queries.set(r,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&tb(n)}async function eb(t,e){const n=Ye(t),s=e.query;let r=3;const o=n.queries.get(s);if(o){const l=o.ba.indexOf(e);l>=0&&(o.ba.splice(l,1),o.ba.length===0?r=e.Da()?0:1:!o.Sa()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Jj(t,e){const n=Ye(t);let s=!1;for(const r of e){const o=r.query,l=n.queries.get(o);if(l){for(const h of l.ba)h.Fa(r)&&(s=!0);l.wa=r}}s&&tb(n)}function Zj(t,e,n){const s=Ye(t),r=s.queries.get(e);if(r)for(const o of r.ba)o.onError(n);s.queries.delete(e)}function tb(t){t.Ca.forEach((e=>{e.next()}))}var x_,dA;(dA=x_||(x_={})).Ma="default",dA.Cache="cache";class nb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new xc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==x_.Cache}}class UI{constructor(e){this.key=e}}class jI{constructor(e){this.key=e}}class e9{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ct(),this.mutatedKeys=ct(),this.eu=sI(e),this.tu=new vc(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new uA,r=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=r,h=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((g,v)=>{const _=r.get(g),A=Mp(this.query,v)?v:null,I=!!_&&this.mutatedKeys.has(_.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let M=!1;_&&A?_.data.isEqual(A.data)?I!==O&&(s.track({type:3,doc:A}),M=!0):this.su(_,A)||(s.track({type:2,doc:A}),M=!0,(d&&this.eu(A,d)>0||f&&this.eu(A,f)<0)&&(h=!0)):!_&&A?(s.track({type:0,doc:A}),M=!0):_&&!A&&(s.track({type:1,doc:_}),M=!0,(d||f)&&(h=!0)),M&&(A?(l=l.add(A),o=O?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),s.track({type:1,doc:g})}return{tu:l,iu:s,Ss:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,v)=>(function(A,I){const O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Vt:M})}};return O(A)-O(I)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(s),r=r??!1;const h=n&&!r?this._u():[],d=this.Ya.size===0&&this.current&&!r?1:0,f=d!==this.Xa;return this.Xa=d,l.length!==0||f?{snapshot:new xc(this.query,e.tu,o,l,e.mutatedKeys,d===0,f,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uA,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ct(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new jI(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new UI(s))})),n}cu(e){this.Za=e.ks,this.Ya=ct();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sb="SyncEngine";class t9{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class n9{constructor(e){this.key=e,this.hu=!1}}class s9{constructor(e,n,s,r,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new dl((h=>nI(h)),Dp),this.Iu=new Map,this.Eu=new Set,this.Ru=new Kt(Ue.comparator),this.Au=new Map,this.Vu=new $0,this.du={},this.mu=new Map,this.fu=Ac.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function i9(t,e,n=!0){const s=qI(t);let r;const o=s.Tu.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await FI(s,e,n,!0),r}async function r9(t,e){const n=qI(t);await FI(n,e,!0,!1)}async function FI(t,e,n,s){const r=await Sj(t.localStore,ar(e)),o=r.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let h;return s&&(h=await a9(t,e,o,l==="current",r.resumeToken)),t.isPrimaryClient&&n&&MI(t.remoteStore,r),h}async function a9(t,e,n,s,r){t.pu=(v,_,A)=>(async function(O,M,B,F){let V=M.view.ru(B);V.Ss&&(V=await iA(O.localStore,M.query,!1).then((({documents:x})=>M.view.ru(x,V))));const K=F&&F.targetChanges.get(M.targetId),U=F&&F.targetMismatches.get(M.targetId)!=null,Y=M.view.applyChanges(V,O.isPrimaryClient,K,U);return mA(O,M.targetId,Y.au),Y.snapshot})(t,v,_,A);const o=await iA(t.localStore,e,!0),l=new e9(e,o.ks),h=l.ru(o.documents),d=id.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),f=l.applyChanges(h,t.isPrimaryClient,d);mA(t,n,f.au);const g=new t9(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function o9(t,e,n){const s=Ye(t),r=s.Tu.get(e),o=s.Iu.get(r.targetId);if(o.length>1)return s.Iu.set(r.targetId,o.filter((l=>!Dp(l,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await S_(s.localStore,r.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(r.targetId),n&&K0(s.remoteStore,r.targetId),C_(s,r.targetId)})).catch(Lc)):(C_(s,r.targetId),await S_(s.localStore,r.targetId,!0))}async function l9(t,e){const n=Ye(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),K0(n.remoteStore,s.targetId))}async function c9(t,e,n){const s=g9(t);try{const r=await(function(l,h){const d=Ye(l),f=jt.now(),g=h.reduce(((A,I)=>A.add(I.key)),ct());let v,_;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let I=Hr(),O=ct();return d.xs.getEntries(A,g).next((M=>{I=M,I.forEach(((B,F)=>{F.isValidDocument()||(O=O.add(B))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,I))).next((M=>{v=M;const B=[];for(const F of h){const V=TU(F,v.get(F.key).overlayedDocument);V!=null&&B.push(new ro(F.key,V,Kk(V.value.mapValue),ri.exists(!0)))}return d.mutationQueue.addMutationBatch(A,f,B,h)})).next((M=>{_=M;const B=M.applyToLocalDocumentSet(v,O);return d.documentOverlayCache.saveOverlays(A,M.batchId,B)}))})).then((()=>({batchId:_.batchId,changes:rI(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),(function(l,h,d){let f=l.du[l.currentUser.toKey()];f||(f=new Kt(lt)),f=f.insert(h,d),l.du[l.currentUser.toKey()]=f})(s,r.batchId,n),await ad(s,r.changes),await Up(s.remoteStore)}catch(r){const o=J0(r,"Failed to persist write");n.reject(o)}}async function BI(t,e){const n=Ye(t);try{const s=await wj(n.localStore,e);e.targetChanges.forEach(((r,o)=>{const l=n.Au.get(o);l&&(Tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?Tt(l.hu,14607):r.removedDocuments.size>0&&(Tt(l.hu,42227),l.hu=!1))})),await ad(n,s,e)}catch(s){await Lc(s)}}function fA(t,e,n){const s=Ye(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach(((o,l)=>{const h=l.view.va(e);h.snapshot&&r.push(h.snapshot)})),(function(l,h){const d=Ye(l);d.onlineState=h;let f=!1;d.queries.forEach(((g,v)=>{for(const _ of v.ba)_.va(h)&&(f=!0)})),f&&tb(d)})(s.eventManager,e),r.length&&s.Pu.J_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function u9(t,e,n){const s=Ye(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),o=r&&r.key;if(o){let l=new Kt(Ue.comparator);l=l.insert(o,Wn.newNoDocument(o,We.min()));const h=ct().add(o),d=new Pp(We.min(),new Map,new Kt(lt),l,h);await BI(s,d),s.Ru=s.Ru.remove(o),s.Au.delete(e),ib(s)}else await S_(s.localStore,e,!1).then((()=>C_(s,e,n))).catch(Lc)}async function h9(t,e){const n=Ye(t),s=e.batch.batchId;try{const r=await bj(n.localStore,e);$I(n,s,null),zI(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ad(n,r)}catch(r){await Lc(r)}}async function d9(t,e,n){const s=Ye(t);try{const r=await(function(l,h){const d=Ye(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return d.mutationQueue.lookupMutationBatch(f,h).next((v=>(Tt(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(f,v)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>d.localDocuments.getDocuments(f,g)))}))})(s.localStore,e);$I(s,e,n),zI(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ad(s,r)}catch(r){await Lc(r)}}function zI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function $I(t,e,n){const s=Ye(t);let r=s.du[s.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),s.du[s.currentUser.toKey()]=r}}function C_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||HI(t,s)}))}function HI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(K0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),ib(t))}function mA(t,e,n){for(const s of n)s instanceof UI?(t.Vu.addReference(s.key,e),f9(t,s)):s instanceof jI?(Re(sb,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||HI(t,s.key)):qe(19791,{wu:s})}function f9(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(Re(sb,"New document in limbo: "+n),t.Eu.add(s),ib(t))}function ib(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ue(Lt.fromString(e)),s=t.fu.next();t.Au.set(s,new n9(n)),t.Ru=t.Ru.insert(n,s),MI(t.remoteStore,new Fa(ar(Ip(n.path)),s,"TargetPurposeLimboResolution",Cp.ce))}}async function ad(t,e,n){const s=Ye(t),r=[],o=[],l=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,d)=>{l.push(s.pu(d,e,n).then((f=>{if((f||n)&&s.isPrimaryClient){const g=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){r.push(f);const g=q0.Es(d.targetId,f);o.push(g)}})))})),await Promise.all(l),s.Pu.J_(r),await(async function(d,f){const g=Ye(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ve.forEach(f,(_=>ve.forEach(_.Ts,(A=>g.persistence.referenceDelegate.addReference(v,_.targetId,A))).next((()=>ve.forEach(_.Is,(A=>g.persistence.referenceDelegate.removeReference(v,_.targetId,A)))))))))}catch(v){if(!Vc(v))throw v;Re(G0,"Failed to update sequence numbers: "+v)}for(const v of f){const _=v.targetId;if(!v.fromCache){const A=g.vs.get(_),I=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(I);g.vs=g.vs.insert(_,O)}}})(s.localStore,o))}async function m9(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Re(sb,"User change. New user:",e.toKey());const s=await RI(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new Ae(me.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ad(n,s.Ns)}}function p9(t,e){const n=Ye(t),s=n.Au.get(e);if(s&&s.hu)return ct().add(s.key);{let r=ct();const o=n.Iu.get(e);if(!o)return r;for(const l of o){const h=n.Tu.get(l);r=r.unionWith(h.view.nu)}return r}}function qI(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u9.bind(null,e),e.Pu.J_=Jj.bind(null,e.eventManager),e.Pu.yu=Zj.bind(null,e.eventManager),e}function g9(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d9.bind(null,e),e}class qm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _j(this.persistence,new gj,e.initialUser,this.serializer)}Cu(e){return new CI(H0.Vi,this.serializer)}Du(e){return new xj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qm.provider={build:()=>new qm};class y9 extends qm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Tt(this.persistence.referenceDelegate instanceof $m,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tj(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new CI((s=>$m.Vi(s,n)),this.serializer)}}class R_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fA(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=m9.bind(null,this.syncEngine),await Wj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Xj})()}createDatastore(e){const n=Lp(e.databaseInfo.databaseId),s=Dj(e.databaseInfo);return Lj(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,r,o,l,h){return new Uj(s,r,o,l,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>fA(this.syncEngine,n,0)),(function(){return oA.v()?new oA:new Cj})())}createSyncEngine(e,n){return(function(r,o,l,h,d,f,g){const v=new s9(r,o,l,h,d,f);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ye(n);Re(al,"RemoteStore shutting down."),s.Ea.add(5),await rd(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}R_.provider={build:()=>new R_};class rb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ja="FirestoreClient";class v9{constructor(e,n,s,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=r,this.user=Yn.UNAUTHENTICATED,this.clientId=M0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,(async l=>{Re(Ja,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(s,(l=>(Re(Ja,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=J0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function yv(t,e){t.asyncQueue.verifyOperationInProgress(),Re(Ja,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async r=>{s.isEqual(r)||(await RI(e.localStore,r),s=r)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function pA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _9(t);Re(Ja,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>cA(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,r)=>cA(e.remoteStore,r))),t._onlineComponents=e}async function _9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(Ja,"Using user provided OfflineComponentProvider");try{await yv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===me.FAILED_PRECONDITION||r.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;rl("Error using user provided cache. Falling back to memory cache: "+n),await yv(t,new qm)}}else Re(Ja,"Using default OfflineComponentProvider"),await yv(t,new y9(void 0));return t._offlineComponents}async function ab(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(Ja,"Using user provided OnlineComponentProvider"),await pA(t,t._uninitializedComponentsProvider._online)):(Re(Ja,"Using default OnlineComponentProvider"),await pA(t,new R_))),t._onlineComponents}function b9(t){return ab(t).then((e=>e.syncEngine))}function w9(t){return ab(t).then((e=>e.datastore))}async function Gm(t){const e=await ab(t),n=e.eventManager;return n.onListen=i9.bind(null,e.syncEngine),n.onUnlisten=o9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=r9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l9.bind(null,e.syncEngine),n}function T9(t,e,n,s){const r=new rb(s),o=new nb(e,r,n);return t.asyncQueue.enqueueAndForget((async()=>Z0(await Gm(t),o))),()=>{r.Nu(),t.asyncQueue.enqueueAndForget((async()=>eb(await Gm(t),o)))}}function E9(t,e,n={}){const s=new rr;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,h,d,f){const g=new rb({next:_=>{g.Nu(),l.enqueueAndForget((()=>eb(o,v)));const A=_.docs.has(h);!A&&_.fromCache?f.reject(new Ae(me.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&_.fromCache&&d&&d.source==="server"?f.reject(new Ae(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new nb(Ip(h.path),g,{includeMetadataChanges:!0,Ka:!0});return Z0(o,v)})(await Gm(t),t.asyncQueue,e,n,s))),s.promise}function S9(t,e,n={}){const s=new rr;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,h,d,f){const g=new rb({next:_=>{g.Nu(),l.enqueueAndForget((()=>eb(o,v))),_.fromCache&&d.source==="server"?f.reject(new Ae(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new nb(h,g,{includeMetadataChanges:!0,Ka:!0});return Z0(o,v)})(await Gm(t),t.asyncQueue,e,n,s))),s.promise}function A9(t,e,n){const s=new rr;return t.asyncQueue.enqueueAndForget((async()=>{try{const r=await w9(t);s.resolve((async function(l,h,d){const f=Ye(l),{request:g,gt:v,parent:_}=zU(f.serializer,aU(h),d);f.connection.Ko||delete g.parent;const A=(await f.jo("RunAggregationQuery",f.serializer.databaseId,_,g,1)).filter((O=>!!O.result));Tt(A.length===1,64727);const I=A[0].result?.aggregateFields;return Object.keys(I).reduce(((O,M)=>(O[v[M]]=I[M],O)),{})})(r,e,n))}catch(r){s.reject(r)}})),s.promise}function x9(t,e){const n=new rr;return t.asyncQueue.enqueueAndForget((async()=>c9(await b9(t),e,n))),n.promise}function GI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const C9="ComponentProvider",gA=new Map;function R9(t,e,n,s,r){return new $6(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,GI(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,s)}const KI="firestore.googleapis.com",yA=!0;class vA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KI,this.ssl=yA}else this.host=e.host,this.ssl=e.ssl??yA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZU)throw new Ae(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GI(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ae(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ae(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ae(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,r){return s.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jp{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new b6;switch(s.type){case"firstParty":return new S6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ae(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=gA.get(n);s&&(Re(C9,"Removing Datastore"),gA.delete(n),s.terminate())})(this),Promise.resolve()}}function k9(t,e,n,s={}){t=us(t,jp);const r=fr(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;r&&(bp(`https://${h}`),wp("Firestore",!0)),o.host!==KI&&o.host!==h&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:r,emulatorOptions:s};if(!el(d,l)&&(t._setSettings(d),s.mockUserToken)){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=Yn.MOCK_USER;else{f=UR(s.mockUserToken,t._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new Ae(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Yn(v)}t._authCredentials=new w6(new Pk(f,g))}}class Wr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Wr(this.firestore,e,this._query)}}class Xt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(nd(n,Xt._jsonSchema))return new Xt(e,s||null,new Ue(Lt.fromString(n.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:bn("string",Xt._jsonSchemaVersion),referencePath:bn("string")};class Ga extends Wr{constructor(e,n,s){super(e,n,Ip(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new Ue(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function _c(t,e,...n){if(t=mt(t),Lk("collection","path",e),t instanceof jp){const s=Lt.fromString(e,...n);return D1(s),new Ga(t,null,s)}{if(!(t instanceof Xt||t instanceof Ga))throw new Ae(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Lt.fromString(e,...n));return D1(s),new Ga(t.firestore,null,s)}}function tr(t,e,...n){if(t=mt(t),arguments.length===1&&(e=M0.newId()),Lk("doc","path",e),t instanceof jp){const s=Lt.fromString(e,...n);return I1(s),new Xt(t,null,new Ue(s))}{if(!(t instanceof Xt||t instanceof Ga))throw new Ae(me.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Lt.fromString(e,...n));return I1(s),new Xt(t.firestore,t instanceof Ga?t.converter:null,new Ue(s))}}const _A="AsyncQueue";class bA{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new II(this,"async_queue_retry"),this._c=()=>{const s=gv();s&&Re(_A,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=gv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vc(e))throw e;Re(_A,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,$r("INTERNAL UNHANDLED ERROR: ",wA(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=X0.createAndSchedule(this,e,n,s,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&qe(47125,{Pc:wA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class hr extends jp{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new bA,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bA(e),this._firestoreClient=void 0,await e}}}function I9(t,e){const n=typeof t=="object"?t:Tp(),s=typeof t=="string"?t:Vm,r=hl(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const o=v0("firestore");o&&k9(r,...o)}return r}function od(t){if(t._terminated)throw new Ae(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||D9(t),t._firestoreClient}function D9(t){const e=t._freezeSettings(),n=R9(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new v9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(t._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si($n.fromBase64String(e))}catch(n){throw new Ae(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new si($n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nd(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:bn("string",si._jsonSchemaVersion),bytes:bn("string")};class ob{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fp{constructor(e){this._methodName=e}}class lr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:lr._jsonSchemaVersion}}static fromJSON(e){if(nd(e,lr._jsonSchema))return new lr(e.latitude,e.longitude)}}lr._jsonSchemaVersion="firestore/geoPoint/1.0",lr._jsonSchema={type:bn("string",lr._jsonSchemaVersion),latitude:bn("number"),longitude:bn("number")};class Mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,r){if(s.length!==r.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==r[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nd(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mi(e.vectorValues);throw new Ae(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:bn("string",Mi._jsonSchemaVersion),vectorValues:bn("object")};const M9=/^__.*__$/;class O9{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ro(e,this.data,this.fieldMask,n,this.fieldTransforms):new sd(e,this.data,n,this.fieldTransforms)}}class YI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ro(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{dataSource:t})}}class lb{constructor(e,n,s,r,o,l){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new lb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Km(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(WI(this.dataSource)&&M9.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class N9{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Lp(e)}createContext(e,n,s,r=!1){return new lb({dataSource:e,methodName:n,targetDoc:s,path:zn.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bp(t){const e=t._freezeSettings(),n=Lp(t._databaseId);return new N9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QI(t,e,n,s,r,o={}){const l=t.createContext(o.merge||o.mergeFields?2:0,e,n,r);ub("Data must be an object, but it was:",l,s);const h=XI(s,l);let d,f;if(o.merge)d=new Vs(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const _=Za(e,v,n);if(!l.contains(_))throw new Ae(me.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);eD(g,_)||g.push(_)}d=new Vs(g),f=l.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,f=l.fieldTransforms;return new O9(new as(h),d,f)}class zp extends Fp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zp}}class cb extends Fp{_toFieldTransform(e){return new vU(e.path,new Oh)}isEqual(e){return e instanceof cb}}function P9(t,e,n,s){const r=t.createContext(1,e,n);ub("Data must be an object, but it was:",r,s);const o=[],l=as.empty();io(s,((d,f)=>{const g=ZI(e,d,n);f=mt(f);const v=r.childContextForFieldPath(g);if(f instanceof zp)o.push(g);else{const _=ld(f,v);_!=null&&(o.push(g),l.set(g,_))}}));const h=new Vs(o);return new YI(l,h,r.fieldTransforms)}function L9(t,e,n,s,r,o){const l=t.createContext(1,e,n),h=[Za(e,s,n)],d=[r];if(o.length%2!=0)throw new Ae(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)h.push(Za(e,o[_])),d.push(o[_+1]);const f=[],g=as.empty();for(let _=h.length-1;_>=0;--_)if(!eD(f,h[_])){const A=h[_];let I=d[_];I=mt(I);const O=l.childContextForFieldPath(A);if(I instanceof zp)f.push(A);else{const M=ld(I,O);M!=null&&(f.push(A),g.set(A,M))}}const v=new Vs(f);return new YI(g,v,l.fieldTransforms)}function V9(t,e,n,s=!1){return ld(n,t.createContext(s?4:3,e))}function ld(t,e){if(JI(t=mt(t)))return ub("Unsupported field value:",e,t),XI(t,e);if(t instanceof Fp)return(function(s,r){if(!WI(r.dataSource))throw r.createError(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,r){const o=[];let l=0;for(const h of s){let d=ld(h,r.childContextForArray(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(t,e)}return(function(s,r){if((s=mt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pU(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=jt.fromDate(s);return{timestampValue:zm(r.serializer,o)}}if(s instanceof jt){const o=new jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zm(r.serializer,o)}}if(s instanceof lr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof si)return{bytesValue:yI(r.serializer,s._byteString)};if(s instanceof Xt){const o=r.databaseId,l=s.firestore._databaseId;if(!l.isEqual(o))throw r.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:z0(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Mi)return(function(l,h){const d=l instanceof Mi?l.toArray():l;return{mapValue:{fields:{[qk]:{stringValue:Gk},[Um]:{arrayValue:{values:d.map((g=>{if(typeof g!="number")throw h.createError("VectorValues must only contain numeric values.");return U0(h.serializer,g)}))}}}}}})(s,r);if(AI(s))return s._toProto(r.serializer);throw r.createError(`Unsupported field value: ${xp(s)}`)})(t,e)}function XI(t,e){const n={};return jk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,((s,r)=>{const o=ld(r,e.childContextForField(s));o!=null&&(n[s]=o)})),{mapValue:{fields:n}}}function JI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof lr||t instanceof si||t instanceof Xt||t instanceof Fp||t instanceof Mi||AI(t))}function ub(t,e,n){if(!JI(n)||!Vk(n)){const s=xp(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function Za(t,e,n){if((e=mt(e))instanceof ob)return e._internalPath;if(typeof e=="string")return ZI(t,e);throw Km("Field path arguments must be of type string or ",t,!1,void 0,n)}const U9=new RegExp("[~\\*/\\[\\]]");function ZI(t,e,n){if(e.search(U9)>=0)throw Km(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ob(...e.split("."))._internalPath}catch{throw Km(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Km(t,e,n,s,r){const o=s&&!s.isEmpty(),l=r!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${s}`),l&&(d+=` in document ${r}`),d+=")"),new Ae(me.INVALID_ARGUMENT,h+t+d)}function eD(t,e){return t.some((n=>n.isEqual(e)))}class j9{convertValue(e,n="none"){switch(Qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return io(e,((r,o)=>{s[r]=this.convertValue(o,n)})),s}convertVectorValue(e){const n=e.fields?.[Um].arrayValue?.values?.map((s=>rn(s.doubleValue)));return new Mi(n)}convertGeoPoint(e){return new lr(rn(e.latitude),rn(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=kp(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(kh(e));default:return null}}convertTimestamp(e){const n=Ya(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Lt.fromString(e);Tt(SI(s),9688,{name:e});const r=new Ih(s.get(1),s.get(3)),o=new Ue(s.popFirst(5));return r.isEqual(n)||$r(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class $p extends j9{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function gm(){return new cb("serverTimestamp")}const TA="@firebase/firestore",EA="4.12.0";function SA(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const o of s)if(o in r&&typeof r[o]=="function")return!0;return!1})(t,["next","error","complete"])}class tD{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class F9{constructor(e,n,s){this._userDataWriter=n,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new as({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class nD{constructor(e,n,s,r,o){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Za("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B9 extends nD{data(){return super.data()}}function sD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hb{}class db extends hb{}function Ua(t,e,...n){let s=[];e instanceof hb&&s.push(e),s=s.concat(n),(function(o){const l=o.filter((d=>d instanceof fb)).length,h=o.filter((d=>d instanceof Hp)).length;if(l>1||l>0&&h>0)throw new Ae(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const r of s)t=r._apply(t);return t}class Hp extends db{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Hp(e,n,s)}_apply(e){const n=this._parse(e);return iD(e._query,n),new Wr(e.firestore,e.converter,__(e._query,n))}_parse(e){const n=Bp(e.firestore);return(function(o,l,h,d,f,g,v){let _;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Ae(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){xA(v,g);const I=[];for(const O of v)I.push(AA(d,o,O));_={arrayValue:{values:I}}}else _=AA(d,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||xA(v,g),_=V9(h,l,v,g==="in"||g==="not-in");return _n.create(f,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kn(t,e,n){const s=e,r=Za("where",t);return Hp._create(r,s,n)}class fb extends hb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fb(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,o){let l=r;const h=o.getFlattenedFilters();for(const d of h)iD(l,d),l=__(l,d)})(e._query,n),new Wr(e.firestore,e.converter,__(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mb extends db{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mb(e,n)}_apply(e){const n=(function(r,o,l){if(r.startAt!==null)throw new Ae(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Ae(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mh(o,l)})(e._query,this._field,this._direction);return new Wr(e.firestore,e.converter,oU(e._query,n))}}function Lh(t,e="asc"){const n=e,s=Za("orderBy",t);return mb._create(s,n)}class pb extends db{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new pb(e,n,s)}_apply(e){return new Wr(e.firestore,e.converter,Fm(e._query,this._limit,this._limitType))}}function Cc(t){return D6("limit",t),pb._create("limit",t,"F")}function AA(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new Ae(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eI(e)&&n.indexOf("/")!==-1)throw new Ae(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Lt.fromString(n));if(!Ue.isDocumentKey(s))throw new Ae(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return j1(t,new Ue(s))}if(n instanceof Xt)return j1(t,n._key);throw new Ae(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xp(n)}.`)}function xA(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iD(t,e){const n=(function(r,o){for(const l of r)for(const h of l.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ae(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function rD(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}function Gu(t){return new tD("sum",Za("sum",t))}function z9(){return new tD("count")}function Ku(t,e){const n=us(t.firestore,hr),s=od(n),r=B6(e,((o,l)=>new xU(l,o.aggregateType,o._internalFieldPath)));return A9(s,t._query,r).then((o=>(function(h,d,f){const g=new $p(h);return new F9(d,g,f)})(n,t,o)))}class lh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wo extends nD{constructor(e,n,s,r,o,l){super(e,n,s,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ym(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Za("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wo._jsonSchema={type:bn("string",Wo._jsonSchemaVersion),bundleSource:bn("string","DocumentSnapshot"),bundleName:bn("string"),bundle:bn("string")};class ym extends Wo{data(e={}){return super.data(e)}}class Qo{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new lh(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ym(this._firestore,this._userDataWriter,s.key,s,new lh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map((h=>{const d=new ym(r._firestore,r._userDataWriter,h.doc.key,h.doc,new lh(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new ym(r._firestore,r._userDataWriter,h.doc.key,h.doc,new lh(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,g=-1;return h.type!==0&&(f=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),g=l.indexOf(h.doc.key)),{type:$9(h.type),doc:d,oldIndex:f,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=M0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),s.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}Qo._jsonSchemaVersion="firestore/querySnapshot/1.0",Qo._jsonSchema={type:bn("string",Qo._jsonSchemaVersion),bundleSource:bn("string","QuerySnapshot"),bundleName:bn("string"),bundle:bn("string")};function gb(t){t=us(t,Xt);const e=us(t.firestore,hr),n=od(e);return E9(n,t._key).then((s=>lD(e,t,s)))}function aD(t){t=us(t,Wr);const e=us(t.firestore,hr),n=od(e),s=new $p(e);return sD(t._query),S9(n,t._query).then((r=>new Qo(e,s,t,r)))}function Ym(t,e,n){t=us(t,Xt);const s=us(t.firestore,hr),r=rD(t.converter,e,n),o=Bp(s);return qp(s,[QI(o,"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,ri.none())])}function oD(t,e,n,...s){t=us(t,Xt);const r=us(t.firestore,hr),o=Bp(r);let l;return l=typeof(e=mt(e))=="string"||e instanceof ob?L9(o,"updateDoc",t._key,e,n,s):P9(o,"updateDoc",t._key,e),qp(r,[l.toMutation(t._key,ri.exists(!0))])}function H9(t){return qp(us(t.firestore,hr),[new j0(t._key,ri.none())])}function q9(t,e){const n=us(t.firestore,hr),s=tr(t),r=rD(t.converter,e),o=Bp(t.firestore);return qp(n,[QI(o,"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,ri.exists(!1))]).then((()=>s))}function Wm(t,...e){t=mt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||SA(e[s])||(n=e[s++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(SA(e[s])){const f=e[s];e[s]=f.next?.bind(f),e[s+1]=f.error?.bind(f),e[s+2]=f.complete?.bind(f)}let o,l,h;if(t instanceof Xt)l=us(t.firestore,hr),h=Ip(t._key.path),o={next:f=>{e[s]&&e[s](lD(l,t,f))},error:e[s+1],complete:e[s+2]};else{const f=us(t,Wr);l=us(f.firestore,hr),h=f._query;const g=new $p(l);o={next:v=>{e[s]&&e[s](new Qo(l,g,f,v))},error:e[s+1],complete:e[s+2]},sD(t._query)}const d=od(l);return T9(d,h,r,o)}function qp(t,e){const n=od(t);return x9(n,e)}function lD(t,e,n){const s=n.docs.get(e._key),r=new $p(t);return new Wo(t,r,e._key,s,new lh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){_6(Br),Fs(new Es("firestore",((s,{instanceIdentifier:r,options:o})=>{const l=s.getProvider("app").getImmediate(),h=new hr(new T6(s.getProvider("auth-internal")),new A6(l,s.getProvider("app-check-internal")),H6(l,r),l);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Nn(TA,EA,e),Nn(TA,EA,"esm2020")})();const cD="firebasestorage.googleapis.com",uD="storageBucket",G9=120*1e3,K9=600*1e3;class Zt extends As{constructor(e,n,s=0){super(vv(e),`Firebase Storage: ${n} (${vv(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jt||(Jt={}));function vv(t){return"storage/"+t}function yb(){const t="An unknown error occurred, please check the error payload for server response.";return new Zt(Jt.UNKNOWN,t)}function Y9(t){return new Zt(Jt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function W9(t){return new Zt(Jt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Q9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Zt(Jt.UNAUTHENTICATED,t)}function X9(){return new Zt(Jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function J9(t){return new Zt(Jt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Z9(){return new Zt(Jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eF(){return new Zt(Jt.CANCELED,"User canceled the upload/download.")}function tF(t){return new Zt(Jt.INVALID_URL,"Invalid URL '"+t+"'.")}function nF(t){return new Zt(Jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function sF(){return new Zt(Jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uD+"' property when initializing the app?")}function iF(){return new Zt(Jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rF(){return new Zt(Jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aF(t){return new Zt(Jt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function k_(t){return new Zt(Jt.INVALID_ARGUMENT,t)}function hD(){return new Zt(Jt.APP_DELETED,"The Firebase app was deleted.")}function oF(t){return new Zt(Jt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yh(t,e){return new Zt(Jt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Yu(t){throw new Zt(Jt.INTERNAL_ERROR,"Internal error: "+t)}class Us{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Us.makeFromUrl(e,n)}catch{return new Us(e,"")}if(s.path==="")return s;throw nF(e)}static makeFromUrl(e,n){let s=null;const r="([A-Za-z0-9.\\-_]+)";function o(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}const l="(/(.*))?$",h=new RegExp("^gs://"+r+l,"i"),d={bucket:1,path:3};function f(K){K.path_=decodeURIComponent(K.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",A=new RegExp(`^https?://${v}/${g}/b/${r}/o${_}`,"i"),I={bucket:1,path:3},O=n===cD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",B=new RegExp(`^https?://${O}/${r}/${M}`,"i"),V=[{regex:h,indices:d,postModify:o},{regex:A,indices:I,postModify:f},{regex:B,indices:{bucket:1,path:2},postModify:f}];for(let K=0;K<V.length;K++){const U=V[K],Y=U.regex.exec(e);if(Y){const x=Y[U.indices.bucket];let S=Y[U.indices.path];S||(S=""),s=new Us(x,S),U.postModify(s);break}}if(s==null)throw tF(e);return s}}class lF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function cF(t,e,n){let s=1,r=null,o=null,l=!1,h=0;function d(){return h===2}let f=!1;function g(...M){f||(f=!0,e.apply(null,M))}function v(M){r=setTimeout(()=>{r=null,t(A,d())},M)}function _(){o&&clearTimeout(o)}function A(M,...B){if(f){_();return}if(M){_(),g.call(null,M,...B);return}if(d()||l){_(),g.call(null,M,...B);return}s<64&&(s*=2);let V;h===1?(h=2,V=0):V=(s+Math.random())*1e3,v(V)}let I=!1;function O(M){I||(I=!0,_(),!f&&(r!==null?(M||(h=2),clearTimeout(r),v(0)):M||(h=1)))}return v(0),o=setTimeout(()=>{l=!0,O(!0)},n),O}function uF(t){t(!1)}function hF(t){return t!==void 0}function dF(t){return typeof t=="object"&&!Array.isArray(t)}function vb(t){return typeof t=="string"||t instanceof String}function CA(t){return _b()&&t instanceof Blob}function _b(){return typeof Blob<"u"}function RA(t,e,n,s){if(s<e)throw k_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw k_(`Invalid value for '${t}'. Expected ${n} or less.`)}function Gp(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function dD(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const r=e(s)+"="+e(t[s]);n=n+r+"&"}return n=n.slice(0,-1),n}var Xo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xo||(Xo={}));function fF(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}class mF{constructor(e,n,s,r,o,l,h,d,f,g,v,_=!0,A=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=v,this.retry=_,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,O)=>{this.resolve_=I,this.reject_=O,this.start_()})}start_(){const e=(s,r)=>{if(r){s(!1,new Gf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=h=>{const d=h.loaded,f=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const h=o.getErrorCode()===Xo.NO_ERROR,d=o.getStatus();if(!h||fF(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Xo.ABORT;s(!1,new Gf(!1,null,g));return}const f=this.successCodes_.indexOf(d)!==-1;s(!0,new Gf(f,o))})},n=(s,r)=>{const o=this.resolve_,l=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());hF(d)?o(d):o()}catch(d){l(d)}else if(h!==null){const d=yb();d.serverResponse=h.getErrorText(),this.errorCallback_?l(this.errorCallback_(h,d)):l(d)}else if(r.canceled){const d=this.appDelete_?hD():eF();l(d)}else{const d=Z9();l(d)}};this.canceled_?n(!1,new Gf(!1,null,!0)):this.backoffId_=cF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function pF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _F(t,e,n,s,r,o,l=!0,h=!1){const d=dD(t.urlParams),f=t.url+d,g=Object.assign({},t.headers);return yF(g,e),pF(g,n),gF(g,o),vF(g,s),new mF(f,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,l,h)}function bF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wF(...t){const e=bF();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(_b())return new Blob(t);throw new Zt(Jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function EF(t){if(typeof atob>"u")throw aF("base-64");return atob(t)}const nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _v{constructor(e,n){this.data=e,this.contentType=n||null}}function SF(t,e){switch(t){case nr.RAW:return new _v(fD(e));case nr.BASE64:case nr.BASE64URL:return new _v(mD(t,e));case nr.DATA_URL:return new _v(xF(e),CF(e))}throw yb()}function fD(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=s,l=t.charCodeAt(++n);s=65536|(o&1023)<<10|l&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function AF(t){let e;try{e=decodeURIComponent(t)}catch{throw yh(nr.DATA_URL,"Malformed data URL.")}return fD(e)}function mD(t,e){switch(t){case nr.BASE64:{const r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw yh(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case nr.BASE64URL:{const r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw yh(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=EF(e)}catch(r){throw r.message.includes("polyfill")?r:yh(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}class pD{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw yh(nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=RF(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function xF(t){const e=new pD(t);return e.base64?mD(nr.BASE64,e.rest):AF(e.rest)}function CF(t){return new pD(t).contentType}function RF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class ja{constructor(e,n){let s=0,r="";CA(e)?(this.data_=e,s=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(CA(this.data_)){const s=this.data_,r=TF(s,e,n);return r===null?null:new ja(r)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ja(s,!0)}}static getBlob(...e){if(_b()){const n=e.map(s=>s instanceof ja?s.data_:s);return new ja(wF.apply(null,n))}else{const n=e.map(l=>vb(l)?SF(nr.RAW,l).data:l.data_);let s=0;n.forEach(l=>{s+=l.byteLength});const r=new Uint8Array(s);let o=0;return n.forEach(l=>{for(let h=0;h<l.length;h++)r[o++]=l[h]}),new ja(r,!0)}}uploadData(){return this.data_}}function gD(t){let e;try{e=JSON.parse(t)}catch{return null}return dF(e)?e:null}function kF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function IF(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function yD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function DF(t,e){return e}class is{constructor(e,n,s,r){this.server=e,this.local=n||e,this.writable=!!s,this.xform=r||DF}}let Kf=null;function MF(t){return!vb(t)||t.length<2?t:yD(t)}function vD(){if(Kf)return Kf;const t=[];t.push(new is("bucket")),t.push(new is("generation")),t.push(new is("metageneration")),t.push(new is("name","fullPath",!0));function e(o,l){return MF(l)}const n=new is("name");n.xform=e,t.push(n);function s(o,l){return l!==void 0?Number(l):l}const r=new is("size");return r.xform=s,t.push(r),t.push(new is("timeCreated")),t.push(new is("updated")),t.push(new is("md5Hash",null,!0)),t.push(new is("cacheControl",null,!0)),t.push(new is("contentDisposition",null,!0)),t.push(new is("contentEncoding",null,!0)),t.push(new is("contentLanguage",null,!0)),t.push(new is("contentType",null,!0)),t.push(new is("metadata","customMetadata",!0)),Kf=t,Kf}function OF(t,e){function n(){const s=t.bucket,r=t.fullPath,o=new Us(s,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function NF(t,e,n){const s={};s.type="file";const r=n.length;for(let o=0;o<r;o++){const l=n[o];s[l.local]=l.xform(s,e[l.server])}return OF(s,t),s}function _D(t,e,n){const s=gD(e);return s===null?null:NF(t,s,n)}function PF(t,e,n,s){const r=gD(e);if(r===null||!vb(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const g=t.bucket,v=t.fullPath,_="/b/"+l(g)+"/o/"+l(v),A=Gp(_,n,s),I=dD({alt:"media",token:f});return A+I})[0]}function LF(t,e){const n={},s=e.length;for(let r=0;r<s;r++){const o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class bb{constructor(e,n,s,r){this.url=e,this.method=n,this.handler=s,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function bD(t){if(!t)throw yb()}function VF(t,e){function n(s,r){const o=_D(t,r,e);return bD(o!==null),o}return n}function UF(t,e){function n(s,r){const o=_D(t,r,e);return bD(o!==null),PF(o,r,t.host,t._protocol)}return n}function wD(t){function e(n,s){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=X9():r=Q9():n.getStatus()===402?r=W9(t.bucket):n.getStatus()===403?r=J9(t.path):r=s,r.status=n.getStatus(),r.serverResponse=s.serverResponse,r}return e}function TD(t){const e=wD(t);function n(s,r){let o=e(s,r);return s.getStatus()===404&&(o=Y9(t.path)),o.serverResponse=r.serverResponse,o}return n}function jF(t,e,n){const s=e.fullServerUrl(),r=Gp(s,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,h=new bb(r,o,UF(t,n),l);return h.errorHandler=TD(e),h}function FF(t,e){const n=e.fullServerUrl(),s=Gp(n,t.host,t._protocol),r="DELETE",o=t.maxOperationRetryTime;function l(d,f){}const h=new bb(s,r,l,o);return h.successCodes=[200,204],h.errorHandler=TD(e),h}function BF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function zF(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=BF(null,e)),s}function $F(t,e,n,s,r){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function h(){let V="";for(let K=0;K<2;K++)V=V+Math.random().toString().slice(2);return V}const d=h();l["Content-Type"]="multipart/related; boundary="+d;const f=zF(e,s,r),g=LF(f,n),v="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,_=`\r
--`+d+"--",A=ja.getBlob(v,s,_);if(A===null)throw iF();const I={name:f.fullPath},O=Gp(o,t.host,t._protocol),M="POST",B=t.maxUploadRetryTime,F=new bb(O,M,VF(t,n),B);return F.urlParams=I,F.headers=l,F.body=A.uploadData(),F.errorHandler=wD(e),F}class HF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,r,o){if(this.sent_)throw Yu("cannot .send() more than once");if(fr(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qF extends HF{initXhr(){this.xhr_.responseType="text"}}function wb(){return new qF}class ol{constructor(e,n){this._service=e,n instanceof Us?this._location=n:this._location=Us.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ol(e,n)}get root(){const e=new Us(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yD(this._location.path)}get storage(){return this._service}get parent(){const e=kF(this._location.path);if(e===null)return null;const n=new Us(this._location.bucket,e);return new ol(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw oF(e)}}function GF(t,e,n){t._throwIfRoot("uploadBytes");const s=$F(t.storage,t._location,vD(),new ja(e,!0),n);return t.storage.makeRequestWithTokens(s,wb).then(r=>({metadata:r,ref:t}))}function KF(t){t._throwIfRoot("getDownloadURL");const e=jF(t.storage,t._location,vD());return t.storage.makeRequestWithTokens(e,wb).then(n=>{if(n===null)throw rF();return n})}function YF(t){t._throwIfRoot("deleteObject");const e=FF(t.storage,t._location);return t.storage.makeRequestWithTokens(e,wb)}function WF(t,e){const n=IF(t._location.path,e),s=new Us(t._location.bucket,n);return new ol(t.storage,s)}function QF(t){return/^[A-Za-z]+:\/\//.test(t)}function XF(t,e){return new ol(t,e)}function ED(t,e){if(t instanceof Tb){const n=t;if(n._bucket==null)throw sF();const s=new ol(n,n._bucket);return e!=null?ED(s,e):s}else return e!==void 0?WF(t,e):t}function JF(t,e){if(e&&QF(e)){if(t instanceof Tb)return XF(t,e);throw k_("To use ref(service, url), the first argument must be a Storage instance.")}else return ED(t,e)}function kA(t,e){const n=e?.[uD];return n==null?null:Us.makeFromBucketSpec(n,t)}function ZF(t,e,n,s={}){t.host=`${e}:${n}`;const r=fr(e);r&&(bp(`https://${t.host}/b`),wp("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:o}=s;o&&(t._overrideAuthToken=typeof o=="string"?o:UR(o,t.app.options.projectId))}class Tb{constructor(e,n,s,r,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=cD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=G9,this._maxUploadRetryTime=K9,this._requests=new Set,r!=null?this._bucket=Us.makeFromBucketSpec(r,this._host):this._bucket=kA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Us.makeFromBucketSpec(this._url,e):this._bucket=kA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){RA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){RA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ol(this,e)}_makeRequest(e,n,s,r,o=!0){if(this._deleted)return new lF(hD());{const l=_F(e,this._appId,s,r,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,r).getPromise()}}const IA="@firebase/storage",DA="0.14.1";const SD="storage";function XJ(t,e,n){return t=mt(t),GF(t,e,n)}function JJ(t){return t=mt(t),KF(t)}function ZJ(t){return t=mt(t),YF(t)}function eZ(t,e){return t=mt(t),JF(t,e)}function eB(t=Tp(),e){t=mt(t);const s=hl(t,SD).getImmediate({identifier:e}),r=v0("storage");return r&&tB(s,...r),s}function tB(t,e,n,s={}){ZF(t,e,n,s)}function nB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Tb(n,s,r,e,Br)}function sB(){Fs(new Es(SD,nB,"PUBLIC").setMultipleInstances(!0)),Nn(IA,DA,""),Nn(IA,DA,"esm2020")}sB();const iB={apiKey:"AIzaSyAFLf5FxuXFw21D1Kxkq9cPQ59oGPSJbGg",authDomain:"humi-awake.firebaseapp.com",projectId:"humi-awake",storageBucket:"humi-awake.appspot.com",messagingSenderId:"473703878796",appId:"1:473703878796:web:2b612896eace5d6a6eeba9"},Kp=HR(iB),MA=y6(Kp),sn=I9(Kp),tZ=eB(Kp);var vm={exports:{}},rB=vm.exports,OA;function aB(){return OA||(OA=1,(function(t){(function(e){function n(U,Y){var x=(U&65535)+(Y&65535),S=(U>>16)+(Y>>16)+(x>>16);return S<<16|x&65535}function s(U,Y){return U<<Y|U>>>32-Y}function r(U,Y,x,S,C,L){return n(s(n(n(Y,U),n(S,L)),C),x)}function o(U,Y,x,S,C,L,j){return r(Y&x|~Y&S,U,Y,C,L,j)}function l(U,Y,x,S,C,L,j){return r(Y&S|x&~S,U,Y,C,L,j)}function h(U,Y,x,S,C,L,j){return r(Y^x^S,U,Y,C,L,j)}function d(U,Y,x,S,C,L,j){return r(x^(Y|~S),U,Y,C,L,j)}function f(U,Y){U[Y>>5]|=128<<Y%32,U[(Y+64>>>9<<4)+14]=Y;var x,S,C,L,j,N=1732584193,R=-271733879,Q=-1732584194,q=271733878;for(x=0;x<U.length;x+=16)S=N,C=R,L=Q,j=q,N=o(N,R,Q,q,U[x],7,-680876936),q=o(q,N,R,Q,U[x+1],12,-389564586),Q=o(Q,q,N,R,U[x+2],17,606105819),R=o(R,Q,q,N,U[x+3],22,-1044525330),N=o(N,R,Q,q,U[x+4],7,-176418897),q=o(q,N,R,Q,U[x+5],12,1200080426),Q=o(Q,q,N,R,U[x+6],17,-1473231341),R=o(R,Q,q,N,U[x+7],22,-45705983),N=o(N,R,Q,q,U[x+8],7,1770035416),q=o(q,N,R,Q,U[x+9],12,-1958414417),Q=o(Q,q,N,R,U[x+10],17,-42063),R=o(R,Q,q,N,U[x+11],22,-1990404162),N=o(N,R,Q,q,U[x+12],7,1804603682),q=o(q,N,R,Q,U[x+13],12,-40341101),Q=o(Q,q,N,R,U[x+14],17,-1502002290),R=o(R,Q,q,N,U[x+15],22,1236535329),N=l(N,R,Q,q,U[x+1],5,-165796510),q=l(q,N,R,Q,U[x+6],9,-1069501632),Q=l(Q,q,N,R,U[x+11],14,643717713),R=l(R,Q,q,N,U[x],20,-373897302),N=l(N,R,Q,q,U[x+5],5,-701558691),q=l(q,N,R,Q,U[x+10],9,38016083),Q=l(Q,q,N,R,U[x+15],14,-660478335),R=l(R,Q,q,N,U[x+4],20,-405537848),N=l(N,R,Q,q,U[x+9],5,568446438),q=l(q,N,R,Q,U[x+14],9,-1019803690),Q=l(Q,q,N,R,U[x+3],14,-187363961),R=l(R,Q,q,N,U[x+8],20,1163531501),N=l(N,R,Q,q,U[x+13],5,-1444681467),q=l(q,N,R,Q,U[x+2],9,-51403784),Q=l(Q,q,N,R,U[x+7],14,1735328473),R=l(R,Q,q,N,U[x+12],20,-1926607734),N=h(N,R,Q,q,U[x+5],4,-378558),q=h(q,N,R,Q,U[x+8],11,-2022574463),Q=h(Q,q,N,R,U[x+11],16,1839030562),R=h(R,Q,q,N,U[x+14],23,-35309556),N=h(N,R,Q,q,U[x+1],4,-1530992060),q=h(q,N,R,Q,U[x+4],11,1272893353),Q=h(Q,q,N,R,U[x+7],16,-155497632),R=h(R,Q,q,N,U[x+10],23,-1094730640),N=h(N,R,Q,q,U[x+13],4,681279174),q=h(q,N,R,Q,U[x],11,-358537222),Q=h(Q,q,N,R,U[x+3],16,-722521979),R=h(R,Q,q,N,U[x+6],23,76029189),N=h(N,R,Q,q,U[x+9],4,-640364487),q=h(q,N,R,Q,U[x+12],11,-421815835),Q=h(Q,q,N,R,U[x+15],16,530742520),R=h(R,Q,q,N,U[x+2],23,-995338651),N=d(N,R,Q,q,U[x],6,-198630844),q=d(q,N,R,Q,U[x+7],10,1126891415),Q=d(Q,q,N,R,U[x+14],15,-1416354905),R=d(R,Q,q,N,U[x+5],21,-57434055),N=d(N,R,Q,q,U[x+12],6,1700485571),q=d(q,N,R,Q,U[x+3],10,-1894986606),Q=d(Q,q,N,R,U[x+10],15,-1051523),R=d(R,Q,q,N,U[x+1],21,-2054922799),N=d(N,R,Q,q,U[x+8],6,1873313359),q=d(q,N,R,Q,U[x+15],10,-30611744),Q=d(Q,q,N,R,U[x+6],15,-1560198380),R=d(R,Q,q,N,U[x+13],21,1309151649),N=d(N,R,Q,q,U[x+4],6,-145523070),q=d(q,N,R,Q,U[x+11],10,-1120210379),Q=d(Q,q,N,R,U[x+2],15,718787259),R=d(R,Q,q,N,U[x+9],21,-343485551),N=n(N,S),R=n(R,C),Q=n(Q,L),q=n(q,j);return[N,R,Q,q]}function g(U){var Y,x="",S=U.length*32;for(Y=0;Y<S;Y+=8)x+=String.fromCharCode(U[Y>>5]>>>Y%32&255);return x}function v(U){var Y,x=[];for(x[(U.length>>2)-1]=void 0,Y=0;Y<x.length;Y+=1)x[Y]=0;var S=U.length*8;for(Y=0;Y<S;Y+=8)x[Y>>5]|=(U.charCodeAt(Y/8)&255)<<Y%32;return x}function _(U){return g(f(v(U),U.length*8))}function A(U,Y){var x,S=v(U),C=[],L=[],j;for(C[15]=L[15]=void 0,S.length>16&&(S=f(S,U.length*8)),x=0;x<16;x+=1)C[x]=S[x]^909522486,L[x]=S[x]^1549556828;return j=f(C.concat(v(Y)),512+Y.length*8),g(f(L.concat(j),640))}function I(U){var Y="0123456789abcdef",x="",S,C;for(C=0;C<U.length;C+=1)S=U.charCodeAt(C),x+=Y.charAt(S>>>4&15)+Y.charAt(S&15);return x}function O(U){return unescape(encodeURIComponent(U))}function M(U){return _(O(U))}function B(U){return I(M(U))}function F(U,Y){return A(O(U),O(Y))}function V(U,Y){return I(F(U,Y))}function K(U,Y,x){return Y?x?F(Y,U):V(Y,U):x?M(U):B(U)}t.exports?t.exports=K:e.md5=K})(rB)})(vm)),vm.exports}var oB=aB();const NA=u0(oB),AD="@firebase/installations",Eb="0.6.20";const xD=1e4,CD=`w:${Eb}`,RD="FIS_v2",lB="https://firebaseinstallations.googleapis.com/v1",cB=3600*1e3,uB="installations",hB="Installations";const dB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ll=new so(uB,hB,dB);function kD(t){return t instanceof As&&t.code.includes("request-failed")}function ID({projectId:t}){return`${lB}/projects/${t}/installations`}function DD(t){return{token:t.token,requestStatus:2,expiresIn:mB(t.expiresIn),creationTime:Date.now()}}async function MD(t,e){const s=(await e.json()).error;return ll.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function OD({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function fB(t,{refreshToken:e}){const n=OD(t);return n.append("Authorization",pB(e)),n}async function ND(t){const e=await t();return e.status>=500&&e.status<600?t():e}function mB(t){return Number(t.replace("s","000"))}function pB(t){return`${RD} ${t}`}async function gB({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=ID(t),r=OD(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={fid:n,authVersion:RD,appId:t.appId,sdkVersion:CD},h={method:"POST",headers:r,body:JSON.stringify(l)},d=await ND(()=>fetch(s,h));if(d.ok){const f=await d.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:DD(f.authToken)}}else throw await MD("Create Installation",d)}function PD(t){return new Promise(e=>{setTimeout(e,t)})}function yB(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const vB=/^[cdef][\w-]{21}$/,I_="";function _B(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=bB(t);return vB.test(n)?n:I_}catch{return I_}}function bB(t){return yB(t).substr(0,22)}function Yp(t){return`${t.appName}!${t.appId}`}const LD=new Map;function VD(t,e){const n=Yp(t);UD(n,e),wB(n,e)}function UD(t,e){const n=LD.get(t);if(n)for(const s of n)s(e)}function wB(t,e){const n=TB();n&&n.postMessage({key:t,fid:e}),EB()}let Go=null;function TB(){return!Go&&"BroadcastChannel"in self&&(Go=new BroadcastChannel("[Firebase] FID Change"),Go.onmessage=t=>{UD(t.data.key,t.data.fid)}),Go}function EB(){LD.size===0&&Go&&(Go.close(),Go=null)}const SB="firebase-installations-database",AB=1,cl="firebase-installations-store";let bv=null;function Sb(){return bv||(bv=$R(SB,AB,{upgrade:(t,e)=>{e===0&&t.createObjectStore(cl)}})),bv}async function Qm(t,e){const n=Yp(t),r=(await Sb()).transaction(cl,"readwrite"),o=r.objectStore(cl),l=await o.get(n);return await o.put(e,n),await r.done,(!l||l.fid!==e.fid)&&VD(t,e.fid),e}async function jD(t){const e=Yp(t),s=(await Sb()).transaction(cl,"readwrite");await s.objectStore(cl).delete(e),await s.done}async function Wp(t,e){const n=Yp(t),r=(await Sb()).transaction(cl,"readwrite"),o=r.objectStore(cl),l=await o.get(n),h=e(l);return h===void 0?await o.delete(n):await o.put(h,n),await r.done,h&&(!l||l.fid!==h.fid)&&VD(t,h.fid),h}async function Ab(t){let e;const n=await Wp(t.appConfig,s=>{const r=xB(s),o=CB(t,r);return e=o.registrationPromise,o.installationEntry});return n.fid===I_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function xB(t){const e=t||{fid:_B(),registrationStatus:0};return FD(e)}function CB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(ll.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=RB(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:kB(t)}:{installationEntry:e}}async function RB(t,e){try{const n=await gB(t,e);return Qm(t.appConfig,n)}catch(n){throw kD(n)&&n.customData.serverCode===409?await jD(t.appConfig):await Qm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function kB(t){let e=await PA(t.appConfig);for(;e.registrationStatus===1;)await PD(100),e=await PA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Ab(t);return s||n}return e}function PA(t){return Wp(t,e=>{if(!e)throw ll.create("installation-not-found");return FD(e)})}function FD(t){return IB(t)?{fid:t.fid,registrationStatus:0}:t}function IB(t){return t.registrationStatus===1&&t.registrationTime+xD<Date.now()}async function DB({appConfig:t,heartbeatServiceProvider:e},n){const s=MB(t,n),r=fB(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={installation:{sdkVersion:CD,appId:t.appId}},h={method:"POST",headers:r,body:JSON.stringify(l)},d=await ND(()=>fetch(s,h));if(d.ok){const f=await d.json();return DD(f)}else throw await MD("Generate Auth Token",d)}function MB(t,{fid:e}){return`${ID(t)}/${e}/authTokens:generate`}async function xb(t,e=!1){let n;const s=await Wp(t.appConfig,o=>{if(!BD(o))throw ll.create("not-registered");const l=o.authToken;if(!e&&PB(l))return o;if(l.requestStatus===1)return n=OB(t,e),o;{if(!navigator.onLine)throw ll.create("app-offline");const h=VB(o);return n=NB(t,h),h}});return n?await n:s.authToken}async function OB(t,e){let n=await LA(t.appConfig);for(;n.authToken.requestStatus===1;)await PD(100),n=await LA(t.appConfig);const s=n.authToken;return s.requestStatus===0?xb(t,e):s}function LA(t){return Wp(t,e=>{if(!BD(e))throw ll.create("not-registered");const n=e.authToken;return UB(n)?{...e,authToken:{requestStatus:0}}:e})}async function NB(t,e){try{const n=await DB(t,e),s={...e,authToken:n};return await Qm(t.appConfig,s),n}catch(n){if(kD(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await jD(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Qm(t.appConfig,s)}throw n}}function BD(t){return t!==void 0&&t.registrationStatus===2}function PB(t){return t.requestStatus===2&&!LB(t)}function LB(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+cB}function VB(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function UB(t){return t.requestStatus===1&&t.requestTime+xD<Date.now()}async function jB(t){const e=t,{installationEntry:n,registrationPromise:s}=await Ab(e);return s?s.catch(console.error):xb(e).catch(console.error),n.fid}async function FB(t,e=!1){const n=t;return await BB(n),(await xb(n,e)).token}async function BB(t){const{registrationPromise:e}=await Ab(t);e&&await e}function zB(t){if(!t||!t.options)throw wv("App Configuration");if(!t.name)throw wv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw wv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function wv(t){return ll.create("missing-app-config-values",{valueName:t})}const zD="installations",$B="installations-internal",HB=t=>{const e=t.getProvider("app").getImmediate(),n=zB(e),s=hl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},qB=t=>{const e=t.getProvider("app").getImmediate(),n=hl(e,zD).getImmediate();return{getId:()=>jB(n),getToken:r=>FB(n,r)}};function GB(){Fs(new Es(zD,HB,"PUBLIC")),Fs(new Es($B,qB,"PRIVATE"))}GB();Nn(AD,Eb);Nn(AD,Eb,"esm2020");const VA="analytics",KB="firebase_id",YB="origin",WB=60*1e3,QB="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cb="https://www.googletagmanager.com/gtag/js";const hs=new Xh("@firebase/analytics");const XB={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ai=new so("analytics","Analytics",XB);function JB(t){if(!t.startsWith(Cb)){const e=ai.create("invalid-gtag-resource",{gtagURL:t});return hs.warn(e.message),""}return t}function $D(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function ZB(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function ez(t,e){const n=ZB("firebase-js-sdk-policy",{createScriptURL:JB}),s=document.createElement("script"),r=`${Cb}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function tz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function nz(t,e,n,s,r,o){const l=s[r];try{if(l)await e[l];else{const d=(await $D(n)).find(f=>f.measurementId===r);d&&await e[d.appId]}}catch(h){hs.error(h)}t("config",r,o)}async function sz(t,e,n,s,r){try{let o=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const h=await $D(n);for(const d of l){const f=h.find(v=>v.measurementId===d),g=f&&e[f.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",s,r||{})}catch(o){hs.error(o)}}function iz(t,e,n,s){async function r(o,...l){try{if(o==="event"){const[h,d]=l;await sz(t,e,n,h,d)}else if(o==="config"){const[h,d]=l;await nz(t,e,n,s,h,d)}else if(o==="consent"){const[h,d]=l;t("consent",h,d)}else if(o==="get"){const[h,d,f]=l;t("get",h,d,f)}else if(o==="set"){const[h]=l;t("set",h)}else t(o,...l)}catch(h){hs.error(h)}}return r}function rz(t,e,n,s,r){let o=function(...l){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=iz(o,t,e,n),{gtagCore:o,wrappedGtag:window[r]}}function az(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Cb)&&n.src.includes(t))return n;return null}const oz=30,lz=1e3;class cz{constructor(e={},n=lz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const HD=new cz;function uz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function hz(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:uz(n)},r=QB.replace("{app-id}",e),o=await fetch(r,s);if(o.status!==200&&o.status!==304){let l="";try{const h=await o.json();h.error?.message&&(l=h.error.message)}catch{}throw ai.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function dz(t,e=HD,n){const{appId:s,apiKey:r,measurementId:o}=t.options;if(!s)throw ai.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:s};throw ai.create("no-api-key")}const l=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new pz;return setTimeout(async()=>{h.abort()},WB),qD({appId:s,apiKey:r,measurementId:o},l,h,e)}async function qD(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=HD){const{appId:o,measurementId:l}=t;try{await fz(s,e)}catch(h){if(l)return hs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:o,measurementId:l};throw h}try{const h=await hz(t);return r.deleteThrottleMetadata(o),h}catch(h){const d=h;if(!mz(d)){if(r.deleteThrottleMetadata(o),l)return hs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:o,measurementId:l};throw h}const f=Number(d?.customData?.httpStatus)===503?Cm(n,r.intervalMillis,oz):Cm(n,r.intervalMillis),g={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return r.setThrottleMetadata(o,g),hs.debug(`Calling attemptFetch again in ${f} millis`),qD(t,g,s,r)}}function fz(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(o),s(ai.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mz(t){if(!(t instanceof As)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class pz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function gz(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const o=await e,l={...s,send_to:o};t("event",n,l)}}async function yz(t,e,n,s){if(s&&s.global){const r={};for(const o of Object.keys(n))r[`user_properties.${o}`]=n[o];return t("set",r),Promise.resolve()}else{const r=await e;t("config",r,{update:!0,user_properties:n})}}async function vz(){if(_0())try{await FR()}catch(t){return hs.warn(ai.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return hs.warn(ai.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _z(t,e,n,s,r,o,l){const h=dz(t);h.then(_=>{n[_.measurementId]=_.appId,t.options.measurementId&&_.measurementId!==t.options.measurementId&&hs.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>hs.error(_)),e.push(h);const d=vz().then(_=>{if(_)return s.getId()}),[f,g]=await Promise.all([h,d]);az(o)||ez(o,f.measurementId),r("js",new Date);const v=l?.config??{};return v[YB]="firebase",v.update=!0,g!=null&&(v[KB]=g),r("config",f.measurementId,v),f.measurementId}class bz{constructor(e){this.app=e}_delete(){return delete bc[this.app.options.appId],Promise.resolve()}}let bc={},UA=[];const jA={};let Tv="dataLayer",wz="gtag",FA,Rb,BA=!1;function Tz(){const t=[];if(jR()&&t.push("This is a browser extension environment."),PV()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=ai.create("invalid-analytics-context",{errorInfo:e});hs.warn(n.message)}}function Ez(t,e,n){Tz();const s=t.options.appId;if(!s)throw ai.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)hs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ai.create("no-api-key");if(bc[s]!=null)throw ai.create("already-exists",{id:s});if(!BA){tz(Tv);const{wrappedGtag:o,gtagCore:l}=rz(bc,UA,jA,Tv,wz);Rb=o,FA=l,BA=!0}return bc[s]=_z(t,UA,jA,e,FA,Tv,n),new bz(t)}function Sz(t,e,n){t=mt(t),yz(Rb,bc[t.app.options.appId],e,n).catch(s=>hs.error(s))}function Az(t,e,n,s){t=mt(t),gz(Rb,bc[t.app.options.appId],e,n,s).catch(r=>hs.error(r))}const zA="@firebase/analytics",$A="0.10.20";function xz(){Fs(new Es(VA,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return Ez(s,r,n)},"PUBLIC")),Fs(new Es("analytics-internal",t,"PRIVATE")),Nn(zA,$A),Nn(zA,$A,"esm2020");function t(e){try{const n=e.getProvider(VA).getImmediate();return{logEvent:(s,r,o)=>Az(n,s,r,o),setUserProperties:(s,r)=>Sz(n,s,r)}}catch(n){throw ai.create("interop-component-reg-failed",{reason:n})}}}xz();const Cz=t=>{},Rz=t=>{},nZ=(t="email")=>{},sZ=(t="email")=>{},GD=T.createContext(),kz=t=>{if(!t)return null;const e=t.displayName||"User",n=t.email||"";`${NA(n.trim().toLowerCase())}`;const s=`https://ui-avatars.com/api/?name=${encodeURIComponent(e)}&background=random&color=fff&bold=true`,r=t.photoURL||`https://www.gravatar.com/avatar/${NA(n.trim().toLowerCase())}?d=${encodeURIComponent(s)}`,o=["bg-red-500","bg-orange-500","bg-amber-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500"];let l=0;for(let d=0;d<e.length;d++)l=e.charCodeAt(d)+((l<<5)-l);const h=o[Math.abs(l)%o.length];return{...t,uid:t.uid,email:n,name:e,avatar:r,initials:e.charAt(0).toUpperCase(),profileColor:h}},HA=({children:t})=>{const[e,n]=T.useState(null),[s,r]=T.useState(!0);T.useEffect(()=>{const d=a5(MA,f=>{if(f){const g=kz(f),v=tr(sn,"users",f.uid);gb(v).then(_=>{let A="user";_.exists()?A=_.data().role||"user":Ym(v,{uid:f.uid,email:f.email,name:f.displayName||"User",role:"user",createdAt:gm()}).catch(I=>console.error("Error creating user doc:",I)),n({...g,role:A}),r(!1),Cz(f.uid),Rz({user_email:f.email})}).catch(_=>{console.error("Error fetching user role:",_),n(g),r(!1)})}else n(null),r(!1)});return()=>d()},[]);const o=T.useCallback(async()=>{await o5(MA)},[]),l=T.useCallback(d=>{},[]),h=T.useMemo(()=>({user:e,loading:s,logout:o,dispatch:l,authIsReady:!s,isAdmin:e?.role==="admin"}),[e,s,o,l]);return k.jsx(GD.Provider,{value:h,children:t})},ui=()=>{const t=T.useContext(GD);if(!t)throw new Error("useAuthContext must be used inside an AuthContextProvider");return t},we={subscribeToCollection:(t,e,...n)=>{if(!sn)return console.warn("Firestore not initialized"),()=>{};let s=n,r=null;n.length>0&&typeof n[n.length-1]=="function"&&(r=n.pop(),s=n);try{const o=_c(sn,t),l=Ua(o,...s);return Wm(l,d=>{const f=d.docs.map(g=>({...g.data(),id:g.id,_firestoreId:g.id}));e(f)},d=>{r?r(d):console.error(`Error subscribing to ${t}: `,d)})}catch(o){return console.error(`Error setting up subscription for ${t}: `,o),r&&r(o),()=>{}}},subscribeToDocument:(t,e,n)=>{if(!sn)return()=>{};try{const s=tr(sn,t,e);return Wm(s,o=>{o.exists()?n({id:o.id,...o.data()}):n(null)},o=>{console.error(`Error subscribing to ${t}/${e}:`,o)})}catch(s){return console.error(`Error in document subscription ${t}/${e}:`,s),()=>{}}},addItem:async(t,e)=>{const n=_c(sn,t);return await q9(n,e)},setItem:async(t,e,n,s=!0)=>{const r=tr(sn,t,e);return await Ym(r,n,{merge:s})},updateItem:async(t,e,n)=>{const s=tr(sn,t,e);return await oD(s,n)},deleteItem:async(t,e)=>{const n=e?tr(sn,t,e):tr(sn,t);return await H9(n)},getDocument:async(t,e)=>{if(!sn)return null;const n=tr(sn,t,e),s=await gb(n);return s.exists()?{id:s.id,...s.data()}:null},getCollection:async(t,...e)=>{if(!sn)return[];const n=_c(sn,t),s=Ua(n,...e);return(await aD(s)).docs.map(o=>({id:o.id,...o.data()}))}},KD=T.createContext(),YD=()=>{const t=T.useContext(KD);if(!t)throw new Error("useTheme must be used within a ThemeContextProvider");return t},qA=({children:t})=>{const{user:e}=ui(),[n,s]=T.useState(()=>{if(typeof window<"u"){const g=localStorage.getItem("themePreference")||localStorage.getItem("theme");if(g&&["light","dark","system"].includes(g))return g}return"system"}),[r,o]=T.useState(()=>n==="system"?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":n),[l,h]=T.useState(null),d=T.useCallback(async g=>{if(window.navigator&&window.navigator.vibrate&&window.navigator.vibrate(20),s(g),localStorage.setItem("themePreference",g),e)try{await we.setItem(`users/${e.uid}/config`,"settings",{theme:g},!0)}catch(v){console.error("Failed to save theme setting",v)}},[e]);T.useEffect(()=>{const g=window.matchMedia("(prefers-color-scheme: dark)"),v=_=>{n==="system"&&o(_.matches?"dark":"light")};return g.addEventListener("change",v),o(n==="system"?g.matches?"dark":"light":n),()=>g.removeEventListener("change",v)},[n]),T.useEffect(()=>{const g=window.document.documentElement;g.classList.add("theme-switching");const v="#ffffff",_="#020617";r==="dark"?(g.classList.add("dark"),g.style.colorScheme="dark"):(g.classList.remove("dark"),g.style.colorScheme="light");const A=document.querySelector('meta[name="theme-color"]'),I=document.getElementById("color-scheme-meta"),O=l||(r==="dark"?_:v);A&&A.remove();const M=document.createElement("meta");M.name="theme-color",M.content=O,document.head.appendChild(M),I&&I.remove();const B=document.createElement("meta");B.id="color-scheme-meta",B.name="color-scheme",B.content=r==="dark"?"dark":"light",document.head.appendChild(B),document.documentElement.style.backgroundColor=O,document.body.style.backgroundColor=O,localStorage.setItem("theme",r),setTimeout(()=>{g.classList.remove("theme-switching")},50)},[r,l]);const f=T.useMemo(()=>({theme:r,themePreference:n,setThemePreference:d,themeOverride:l,setThemeOverride:h,isDark:r==="dark"}),[r,n,d,l,h]);return k.jsx(KD.Provider,{value:f,children:t})},WD=T.createContext(),kb=()=>{const t=T.useContext(WD);if(!t)throw new Error("useDate must be used within a DateContextProvider");return t},Iz=({children:t})=>{const[e,n]=cV(),s=()=>{const F=new Date;return F.setHours(0,0,0,0),F},r=F=>{if(!F)return null;const[V,K,U]=F.split("-").map(Number);return new Date(V,K-1,U)},o=F=>{const V=F.getFullYear(),K=String(F.getMonth()+1).padStart(2,"0"),U=String(F.getDate()).padStart(2,"0");return`${V}-${K}-${U}`},l=()=>{const F=e.get("date");if(F){const V=r(F);if(V&&V<=s())return V}return s()},[h,d]=T.useState(l);T.useEffect(()=>{const F=o(h);n({date:F},{replace:!0})},[h,n]);const f=T.useCallback(F=>{let V;typeof F=="string"?V=r(F):(V=new Date(F),V.setHours(0,0,0,0));const K=s();if(V>K){console.warn("Cannot navigate to future date");return}d(V)},[]),g=T.useCallback(()=>{d(F=>{const V=new Date(F);return V.setDate(F.getDate()-1),V})},[]),v=T.useCallback(()=>{d(F=>{const V=s(),K=new Date(F);return K.setDate(F.getDate()+1),K>V?F:K})},[]),_=T.useCallback(()=>{d(s())},[]),A=T.useMemo(()=>o(h),[h]),I=T.useMemo(()=>o(s()),[]),O=h.getTime()===s().getTime(),M=h<s(),B=T.useMemo(()=>({currentDate:h,formattedDate:A,isToday:O,isPast:M,setDate:f,prevDay:g,nextDay:v,jumpToToday:_,maxDate:I}),[h,A,O,M,f,g,v,_,I]);return k.jsx(WD.Provider,{value:B,children:t})},Dz={getDayRef(t,e){return tr(sn,"users",t,"days",e)},subscribeToDay(t,e,n){const s=this.getDayRef(t,e);return Wm(s,r=>{r.exists()?n(r.data()):n(null)},r=>{console.error("Firestore Subscribe Error:",r)})},async saveDay(t,e,n){const s=this.getDayRef(t,e);try{await Ym(s,{...n,lastModified:gm()},{merge:!0})}catch(r){throw console.error("Firestore Save Error:",r),r}},async lockDay(t,e){const n=this.getDayRef(t,e);await oD(n,{locked:!0,submitted:!0,lockedAt:gm()})},async getRecentHistory(t,e=7){const n=[];for(let s=0;s<e;s++){const r=new Date;r.setDate(r.getDate()-s);const o=r.toISOString().split("T")[0],l=this.getDayRef(t,o),h=await gb(l);h.exists()?n.push({date:o,data:h.data(),score:this.calculateScore(h.data())}):n.push({date:o,data:null,score:0})}return n.reverse()},async getAllHistory(t){try{const e=_c(sn,"users",t,"days"),n=new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],s=Ua(e,Kn("date",">=",n)),r=await aD(s),o=[];return r.forEach(l=>{const h=l.data();o.push({date:l.id,data:h,score:this.calculateScore(h)})}),o.sort((l,h)=>l.date.localeCompare(h.date)),o}catch(e){return console.error("Error fetching all history:",e),[]}},calculateScore(t){if(!t||!t.tasks)return 0;const e=t.tasks.length;if(e===0)return 0;const n=t.tasks.filter(s=>s.status==="checked").length;return Math.round(n/e*100)},getModuleRef(t,e){return tr(sn,"users",t,"modules",e)},subscribeToModule(t,e,n){const s=this.getModuleRef(t,e);return Wm(s,r=>{r.exists()?n(r.data()):n(null)},r=>{console.error(`Firestore Module Subscribe Error (${e}):`,r)})},async saveModule(t,e,n){const s=this.getModuleRef(t,e);try{await Ym(s,{...n,lastModified:gm()},{merge:!0})}catch(r){throw console.error(`Firestore Module Save Error (${e}):`,r),r}}},QD=T.createContext(),iZ=()=>{const t=T.useContext(QD);if(!t)throw new Error("useData must be used within a DataContextProvider");return t},Mz=({children:t})=>{const{formattedDate:e,isPast:n}=kb(),{user:s}=ui(),[r,o]=T.useState(!0),l=["junkFood","sugar","coldDrinks","screenTime","logExpense"],h=()=>({tasks:[],habits:[],submitted:!1,locked:!1,lastModified:Date.now()}),[d,f]=T.useState(h()),g=T.useCallback(R=>({id:R.id||`task_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:R.name||"Untitled Task",time:R.time||"",category:R.category||"EVE/NIGHT",icon:R.icon||"CheckCircle",status:R.status||"unchecked"}),[]),v=T.useCallback(async R=>{if(s)try{const Q=R.map(q=>{const $=g(q);return $.status="unchecked",$});await we.setItem(`users/${s.uid}/modules`,"routine",{tasks:Q,lastModified:Date.now()},!0)}catch(Q){console.error("[DataContext] Failed to save master template:",Q)}},[s,g]);T.useEffect(()=>{if(!s){f(h()),o(!1);return}o(!0);const R=async()=>{try{const q=await we.getDocument(`users/${s.uid}/modules`,"routine");if(q&&q.tasks&&q.tasks.length>0){const W=q.tasks.map(z=>({...z,status:"unchecked"}));let le=[];const ye=await we.getCollection(`users/${s.uid}/days`,Lh("date","desc"),Cc(1));ye&&ye.length>0&&(le=(ye[0].habits||[]).map(ne=>({...ne,value:ne.type==="number"?0:!1})));const ue={tasks:W,habits:le,date:e,source:"template",submitted:!1,locked:!1,lastModified:Date.now()};return await we.setItem(`users/${s.uid}/days`,e,ue,!0),ue}const $=await we.getCollection(`users/${s.uid}/days`,Lh("date","desc"),Cc(1));if($&&$.length>0){const W=$[0];if(W.date===e)return null;const le=(W.tasks||[]).map(z=>({...z,status:"unchecked"})),ye=(W.habits||[]).map(z=>({...z,value:z.type==="number"?0:!1})),ue={tasks:le,habits:ye,date:e,carriedOverFrom:W.date,submitted:!1,locked:!1,lastModified:Date.now()};return await we.setItem(`users/${s.uid}/days`,e,ue,!0),ue}return null}catch(q){return console.error("[DataContext] Backfill error:",q),null}},Q=we.subscribeToDocument(`users/${s.uid}/days`,e,q=>{if(q){let $=q.habits||[];const W=$.length;$=$.filter(ne=>!l.includes(ne.id));const le=$.length!==W;let ye=q.tasks||[];const ue=ye.some(ne=>ne.id&&String(ne.id).startsWith("task_0"));ye.length===0&&$.length===0&&R(),ye=ye.map(ne=>{if(!ne.category&&ne.time){const[_e]=ne.time.split(":").map(Number);let Te="EVE/NIGHT";return _e>=4&&_e<9?Te="EARLY MORNING":_e>=9&&_e<13?Te="BEFORE NOON":_e>=13&&_e<17&&(Te="AFTER NOON"),{...ne,category:Te}}return ne}),(ue||le)&&we.updateItem(`users/${s.uid}/days`,e,{tasks:ye,habits:$,locked:!1,submitted:!1}),f({...h(),...q,tasks:ye,habits:$,locked:ue||le?!1:q.locked||!1,submitted:ue||le?!1:q.submitted||!1})}else{R().then($=>{$||f(h())}).finally(()=>o(!1));return}o(!1)});return()=>Q()},[e,s]);const _=T.useCallback(async R=>{if(!s)return;const Q=(R.tasks||[]).map(g),q=(R.habits||[]).map(W=>({...W,id:W.id||`habit_${Date.now()}`,value:W.value!==void 0?W.value:!1})),$={...R,tasks:Q,habits:q,date:e,lastModified:Date.now()};f($);try{await we.setItem(`users/${s.uid}/days`,e,$)}catch(W){console.error("[DataContext] Save failed:",W)}},[s,e,g]);new Date().toISOString().split("T")[0];const A=n,I=T.useCallback(async R=>{if(A)return;const Q=d.tasks.map(q=>{if(q.id===R){let $="unchecked";return q.status==="unchecked"?$="checked":q.status==="checked"&&($="missed"),{...q,status:$}}return q});await _({...d,tasks:Q})},[d,A,_]),O=T.useCallback(async(R,Q)=>{if(A)return;const q=d.habits.map($=>$.id===R?{...$,value:Q}:$);await _({...d,habits:q})},[d,A,_]),M=T.useCallback(async(R,Q="toggle",q="hrs",$)=>{if(A)return;const W={id:`habit_${Date.now()}`,label:R,type:Q,icon:$||(Q==="number"?"Activity":"CheckCircle"),value:Q==="number"?0:!1,unit:Q==="number"?q:null};await _({...d,habits:[...d.habits,W]})},[d,A,_]),B=T.useCallback(async R=>{if(A)return;const Q=d.habits.filter(q=>q.id!==R);await _({...d,habits:Q})},[d,A,_]),F=T.useCallback(async()=>{const R={...d,submitted:!0,locked:!0};await _(R)},[d,_]),V=T.useCallback(async R=>{if(n){console.warn("Cannot unlock past days.");return}const Q={...d,locked:!1,unlockHistory:[...d.unlockHistory||[],{timestamp:Date.now(),reason:R}]};await _(Q)},[d,n,_]),K=T.useCallback(async R=>{d.tasks.length===0&&await _({...d,tasks:R})},[d,_]),U=T.useCallback(async R=>{if(A)return;const Q=g({...R,id:`task_${Date.now()}`,status:"unchecked"}),q=[...d.tasks,Q];q.sort(($,W)=>{if(!$.time||!W.time)return 0;const le=$.time.split(":").map(Number),ye=W.time.split(":").map(Number);return le[0]*60+le[1]-(ye[0]*60+ye[1])}),await _({...d,tasks:q}),v(q)},[d,A,_,v,g]),Y=T.useCallback(async(R,Q)=>{if(A)return;const q=d.tasks.map($=>$.id===R?{...$,...Q}:$);Q.time&&q.sort(($,W)=>{const le=$.time.split(":").map(Number),ye=W.time.split(":").map(Number);return le[0]*60+le[1]-(ye[0]*60+ye[1])}),await _({...d,tasks:q}),v(q)},[d,A,_,v]),x=T.useCallback(async R=>{if(A)return;const Q=d.tasks.filter(q=>q.id!==R);await _({...d,tasks:Q}),v(Q)},[d,A,_,v]),S=T.useCallback(async R=>{if(A)return;const Q=R.map(g);await _({...d,tasks:Q}),v(Q)},[d,A,_,v,g]),C=T.useCallback(()=>{if(!d?.tasks||d.tasks.length===0)return 0;const R=d.tasks.length,Q=d.tasks.filter(q=>q.status==="checked").length;return Math.round(Q/R*100)},[d]),L=T.useCallback(async(R=7)=>{if(!s)return[];const Q=[];for(let q=0;q<R;q++){const $=new Date;$.setDate($.getDate()-q);const W=$.toISOString().split("T")[0];Q.push(we.getDocument(`users/${s.uid}/days`,W).then(le=>{if(!le)return{date:W,score:0,data:null};const ye=le.tasks||[],ue=ye.filter(ne=>ne.status==="checked").length,z=ye.length?Math.round(ue/ye.length*100):0;return{date:W,score:z,data:le}}))}return[]},[s]),j=T.useCallback(async()=>s?await Dz.getAllHistory(s.uid):[],[s]),N=T.useMemo(()=>({dailyData:d,updateTaskStatus:I,updateHabit:O,addHabit:M,deleteHabit:B,submitDay:F,unlockDay:V,initTasks:K,addTask:U,editTask:Y,deleteTask:x,updateAllTasks:S,isAuthenticated:!!s,isLocked:A,getDisciplineScore:C,getHistory:L,getAllHistory:j,isLoading:r}),[d,I,O,M,B,F,V,K,U,Y,x,S,s,A,C,L,j,r]);return k.jsx(QD.Provider,{value:N,children:t})},Ke=t=>typeof t=="string",Wu=()=>{let t,e;const n=new Promise((s,r)=>{t=s,e=r});return n.resolve=t,n.reject=e,n},GA=t=>t==null?"":""+t,Oz=(t,e,n)=>{t.forEach(s=>{e[s]&&(n[s]=e[s])})},Nz=/###/g,KA=t=>t&&t.indexOf("###")>-1?t.replace(Nz,"."):t,YA=t=>!t||Ke(t),vh=(t,e,n)=>{const s=Ke(e)?e.split("."):e;let r=0;for(;r<s.length-1;){if(YA(t))return{};const o=KA(s[r]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++r}return YA(t)?{}:{obj:t,k:KA(s[r])}},WA=(t,e,n)=>{const{obj:s,k:r}=vh(t,e,Object);if(s!==void 0||e.length===1){s[r]=n;return}let o=e[e.length-1],l=e.slice(0,e.length-1),h=vh(t,l,Object);for(;h.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),h=vh(t,l,Object),h?.obj&&typeof h.obj[`${h.k}.${o}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${o}`]=n},Pz=(t,e,n,s)=>{const{obj:r,k:o}=vh(t,e,Object);r[o]=r[o]||[],r[o].push(n)},Xm=(t,e)=>{const{obj:n,k:s}=vh(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},Lz=(t,e,n)=>{const s=Xm(t,n);return s!==void 0?s:Xm(e,n)},XD=(t,e,n)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in t?Ke(t[s])||t[s]instanceof String||Ke(e[s])||e[s]instanceof String?n&&(t[s]=e[s]):XD(t[s],e[s],n):t[s]=e[s]);return t},Lo=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Vz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Uz=t=>Ke(t)?t.replace(/[&<>"'\/]/g,e=>Vz[e]):t;class jz{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const Fz=[" ",",","?","!",";"],Bz=new jz(20),zz=(t,e,n)=>{e=e||"",n=n||"";const s=Fz.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(s.length===0)return!0;const r=Bz.getRegExp(`(${s.map(l=>l==="?"?"\\?":l).join("|")})`);let o=!r.test(t);if(!o){const l=t.indexOf(n);l>0&&!r.test(t.substring(0,l))&&(o=!0)}return o},D_=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const s=e.split(n);let r=t;for(let o=0;o<s.length;){if(!r||typeof r!="object")return;let l,h="";for(let d=o;d<s.length;++d)if(d!==o&&(h+=n),h+=s[d],l=r[h],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<s.length-1)continue;o+=d-o+1;break}r=l}return r},Vh=t=>t?.replace("_","-"),$z={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class Jm{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||$z,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,s,r){return r&&!this.debug?null:(Ke(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Jm(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Jm(this.logger,e)}}var sr=new Jm;let Qp=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const r=this.observers[s].get(n)||0;this.observers[s].set(n,r+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([r,o])=>{for(let l=0;l<o;l++)r(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,o])=>{for(let l=0;l<o;l++)r.apply(r,[e,...n])})}};class QA extends Qp{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,s,r={}){const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,l=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,n],s&&(Array.isArray(s)?h.push(...s):Ke(s)&&o?h.push(...s.split(o)):h.push(s)));const d=Xm(this.data,h);return!d&&!n&&!s&&e.indexOf(".")>-1&&(e=h[0],n=h[1],s=h.slice(2).join(".")),d||!l||!Ke(s)?d:D_(this.data?.[e]?.[n],s,o)}addResource(e,n,s,r,o={silent:!1}){const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let h=[e,n];s&&(h=h.concat(l?s.split(l):s)),e.indexOf(".")>-1&&(h=e.split("."),r=n,n=h[1]),this.addNamespaces(n),WA(this.data,h,r),o.silent||this.emit("added",e,n,s,r)}addResources(e,n,s,r={silent:!1}){for(const o in s)(Ke(s[o])||Array.isArray(s[o]))&&this.addResource(e,n,o,s[o],{silent:!0});r.silent||this.emit("added",e,n,s)}addResourceBundle(e,n,s,r,o,l={silent:!1,skipCopy:!1}){let h=[e,n];e.indexOf(".")>-1&&(h=e.split("."),r=s,s=n,n=h[1]),this.addNamespaces(n);let d=Xm(this.data,h)||{};l.skipCopy||(s=JSON.parse(JSON.stringify(s))),r?XD(d,s,o):d={...d,...s},WA(this.data,h,d),l.silent||this.emit("added",e,n,s)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(r=>n[r]&&Object.keys(n[r]).length>0)}toJSON(){return this.data}}var JD={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,s,r){return t.forEach(o=>{e=this.processors[o]?.process(e,n,s,r)??e}),e}};const ZD=Symbol("i18next/PATH_KEY");function Hz(){const t=[],e=Object.create(null);let n;return e.get=(s,r)=>(n?.revoke?.(),r===ZD?t:(t.push(r),n=Proxy.revocable(s,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function M_(t,e){const{[ZD]:n}=t(Hz());return n.join(e?.keySeparator??".")}const XA={},Ev=t=>!Ke(t)&&typeof t!="boolean"&&typeof t!="number";class Zm extends Qp{constructor(e,n={}){super(),Oz(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=sr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const s={...n};if(e==null)return!1;const r=this.resolve(e,s);if(r?.res===void 0)return!1;const o=Ev(r.res);return!(s.returnObjects===!1&&o)}extractFromKey(e,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const r=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const l=s&&e.indexOf(s)>-1,h=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!zz(e,s,r);if(l&&!h){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Ke(o)?[o]:o};const f=e.split(s);(s!==r||s===r&&this.options.ns.indexOf(f[0])>-1)&&(o=f.shift()),e=f.join(r)}return{key:e,namespaces:Ke(o)?[o]:o}}translate(e,n,s){let r=typeof n=="object"?{...n}:n;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";typeof e=="function"&&(e=M_(e,{...this.options,...r})),Array.isArray(e)||(e=[String(e)]);const o=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,l=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:h,namespaces:d}=this.extractFromKey(e[e.length-1],r),f=d[d.length-1];let g=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");const v=r.lng||this.language,_=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return _?o?{res:`${f}${g}${h}`,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:f,usedParams:this.getUsedParamsDetails(r)}:`${f}${g}${h}`:o?{res:h,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:f,usedParams:this.getUsedParamsDetails(r)}:h;const A=this.resolve(e,r);let I=A?.res;const O=A?.usedKey||h,M=A?.exactUsedKey||h,B=["[object Number]","[object Function]","[object RegExp]"],F=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,V=!this.i18nFormat||this.i18nFormat.handleAsObject,K=r.count!==void 0&&!Ke(r.count),U=Zm.hasDefaultValue(r),Y=K?this.pluralResolver.getSuffix(v,r.count,r):"",x=r.ordinal&&K?this.pluralResolver.getSuffix(v,r.count,{ordinal:!1}):"",S=K&&!r.ordinal&&r.count===0,C=S&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${Y}`]||r[`defaultValue${x}`]||r.defaultValue;let L=I;V&&!I&&U&&(L=C);const j=Ev(L),N=Object.prototype.toString.apply(L);if(V&&L&&j&&B.indexOf(N)<0&&!(Ke(F)&&Array.isArray(L))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(O,L,{...r,ns:d}):`key '${h} (${this.language})' returned an object instead of string.`;return o?(A.res=R,A.usedParams=this.getUsedParamsDetails(r),A):R}if(l){const R=Array.isArray(L),Q=R?[]:{},q=R?M:O;for(const $ in L)if(Object.prototype.hasOwnProperty.call(L,$)){const W=`${q}${l}${$}`;U&&!I?Q[$]=this.translate(W,{...r,defaultValue:Ev(C)?C[$]:void 0,joinArrays:!1,ns:d}):Q[$]=this.translate(W,{...r,joinArrays:!1,ns:d}),Q[$]===W&&(Q[$]=L[$])}I=Q}}else if(V&&Ke(F)&&Array.isArray(I))I=I.join(F),I&&(I=this.extendTranslation(I,e,r,s));else{let R=!1,Q=!1;!this.isValidLookup(I)&&U&&(R=!0,I=C),this.isValidLookup(I)||(Q=!0,I=h);const $=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Q?void 0:I,W=U&&C!==I&&this.options.updateMissing;if(Q||R||W){if(this.logger.log(W?"updateKey":"missingKey",v,f,h,W?C:I),l){const z=this.resolve(h,{...r,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let le=[];const ye=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ye&&ye[0])for(let z=0;z<ye.length;z++)le.push(ye[z]);else this.options.saveMissingTo==="all"?le=this.languageUtils.toResolveHierarchy(r.lng||this.language):le.push(r.lng||this.language);const ue=(z,ne,_e)=>{const Te=U&&_e!==I?_e:$;this.options.missingKeyHandler?this.options.missingKeyHandler(z,f,ne,Te,W,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(z,f,ne,Te,W,r),this.emit("missingKey",z,f,ne,I)};this.options.saveMissing&&(this.options.saveMissingPlurals&&K?le.forEach(z=>{const ne=this.pluralResolver.getSuffixes(z,r);S&&r[`defaultValue${this.options.pluralSeparator}zero`]&&ne.indexOf(`${this.options.pluralSeparator}zero`)<0&&ne.push(`${this.options.pluralSeparator}zero`),ne.forEach(_e=>{ue([z],h+_e,r[`defaultValue${_e}`]||C)})}):ue(le,h,C))}I=this.extendTranslation(I,e,r,A,s),Q&&I===h&&this.options.appendNamespaceToMissingKey&&(I=`${f}${g}${h}`),(Q||R)&&this.options.parseMissingKeyHandler&&(I=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${g}${h}`:h,R?I:void 0,r))}return o?(A.res=I,A.usedParams=this.getUsedParamsDetails(r),A):I}extendTranslation(e,n,s,r,o){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const d=Ke(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const v=e.match(this.interpolator.nestingRegexp);f=v&&v.length}let g=s.replace&&!Ke(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,s.lng||this.language||r.usedLng,s),d){const v=e.match(this.interpolator.nestingRegexp),_=v&&v.length;f<_&&(s.nest=!1)}!s.lng&&r&&r.res&&(s.lng=this.language||r.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>o?.[0]===v[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),s)),s.interpolation&&this.interpolator.reset()}const l=s.postProcess||this.options.postProcess,h=Ke(l)?[l]:l;return e!=null&&h?.length&&s.applyPostProcessor!==!1&&(e=JD.handle(h,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,n={}){let s,r,o,l,h;return Ke(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(s))return;const f=this.extractFromKey(d,n),g=f.key;r=g;let v=f.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const _=n.count!==void 0&&!Ke(n.count),A=_&&!n.ordinal&&n.count===0,I=n.context!==void 0&&(Ke(n.context)||typeof n.context=="number")&&n.context!=="",O=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(M=>{this.isValidLookup(s)||(h=M,!XA[`${O[0]}-${M}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(h)&&(XA[`${O[0]}-${M}`]=!0,this.logger.warn(`key "${r}" for languages "${O.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),O.forEach(B=>{if(this.isValidLookup(s))return;l=B;const F=[g];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(F,g,B,M,n);else{let K;_&&(K=this.pluralResolver.getSuffix(B,n.count,n));const U=`${this.options.pluralSeparator}zero`,Y=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&(n.ordinal&&K.indexOf(Y)===0&&F.push(g+K.replace(Y,this.options.pluralSeparator)),F.push(g+K),A&&F.push(g+U)),I){const x=`${g}${this.options.contextSeparator||"_"}${n.context}`;F.push(x),_&&(n.ordinal&&K.indexOf(Y)===0&&F.push(x+K.replace(Y,this.options.pluralSeparator)),F.push(x+K),A&&F.push(x+U))}}let V;for(;V=F.pop();)this.isValidLookup(s)||(o=V,s=this.getResource(B,M,V,n))}))})}),{res:s,usedKey:r,exactUsedKey:o,usedLng:l,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,s,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,s,r):this.resourceStore.getResource(e,n,s,r)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!Ke(e.replace);let r=s?e.replace:e;if(s&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!s){r={...r};for(const o of n)delete r[o]}return r}static hasDefaultValue(e){const n="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&n===s.substring(0,n.length)&&e[s]!==void 0)return!0;return!1}}class JA{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=sr.create("languageUtils")}getScriptPartFromCode(e){if(e=Vh(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Vh(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Ke(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(s=>{if(n)return;const r=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(r))&&(n=r)}),!n&&this.options.supportedLngs&&e.forEach(s=>{if(n)return;const r=this.getScriptPartFromCode(s);if(this.isSupportedCode(r))return n=r;const o=this.getLanguagePartFromCode(s);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Ke(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let s=e[n];return s||(s=e[this.getScriptPartFromCode(n)]),s||(s=e[this.formatLanguageCode(n)]),s||(s=e[this.getLanguagePartFromCode(n)]),s||(s=e.default),s||[]}toResolveHierarchy(e,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),r=[],o=l=>{l&&(this.isSupportedCode(l)?r.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Ke(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Ke(e)&&o(this.formatLanguageCode(e)),s.forEach(l=>{r.indexOf(l)<0&&o(this.formatLanguageCode(l))}),r}}const ZA={zero:0,one:1,two:2,few:3,many:4,other:5},ex={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class qz{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=sr.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const s=Vh(e==="dev"?"en":e),r=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:s,type:r});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let l;try{l=new Intl.PluralRules(s,{type:r})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),ex;if(!e.match(/-|_/))return ex;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,n)}return this.pluralRulesCache[o]=l,l}needsPlural(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,s={}){return this.getSuffixes(e,s).map(r=>`${n}${r}`)}getSuffixes(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((r,o)=>ZA[r]-ZA[o]).map(r=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,n,s={}){const r=this.getRule(e,s);return r?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,s))}}const tx=(t,e,n,s=".",r=!0)=>{let o=Lz(t,e,n);return!o&&r&&Ke(n)&&(o=D_(t,n,s),o===void 0&&(o=D_(e,n,s))),o},Sv=t=>t.replace(/\$/g,"$$$$");class nx{constructor(e={}){this.logger=sr.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:r,prefix:o,prefixEscaped:l,suffix:h,suffixEscaped:d,formatSeparator:f,unescapeSuffix:g,unescapePrefix:v,nestingPrefix:_,nestingPrefixEscaped:A,nestingSuffix:I,nestingSuffixEscaped:O,nestingOptionsSeparator:M,maxReplaces:B,alwaysFormat:F}=e.interpolation;this.escape=n!==void 0?n:Uz,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=o?Lo(o):l||"{{",this.suffix=h?Lo(h):d||"}}",this.formatSeparator=f||",",this.unescapePrefix=g?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=_?Lo(_):A||Lo("$t("),this.nestingSuffix=I?Lo(I):O||Lo(")"),this.nestingOptionsSeparator=M||",",this.maxReplaces=B||1e3,this.alwaysFormat=F!==void 0?F:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,s)=>n?.source===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,s,r){let o,l,h;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=A=>{if(A.indexOf(this.formatSeparator)<0){const B=tx(n,d,A,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(B,void 0,s,{...r,...n,interpolationkey:A}):B}const I=A.split(this.formatSeparator),O=I.shift().trim(),M=I.join(this.formatSeparator).trim();return this.format(tx(n,d,O,this.options.keySeparator,this.options.ignoreJSONStructure),M,s,{...r,...n,interpolationkey:O})};this.resetRegExp();const g=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:A=>Sv(A)},{regex:this.regexp,safeValue:A=>this.escapeValue?Sv(this.escape(A)):Sv(A)}].forEach(A=>{for(h=0;o=A.regex.exec(e);){const I=o[1].trim();if(l=f(I),l===void 0)if(typeof g=="function"){const M=g(e,o,r);l=Ke(M)?M:""}else if(r&&Object.prototype.hasOwnProperty.call(r,I))l="";else if(v){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${I} for interpolating ${e}`),l="";else!Ke(l)&&!this.useRawValueToEscape&&(l=GA(l));const O=A.safeValue(l);if(e=e.replace(o[0],O),v?(A.regex.lastIndex+=l.length,A.regex.lastIndex-=o[0].length):A.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,n,s={}){let r,o,l;const h=(d,f)=>{const g=this.nestingOptionsSeparator;if(d.indexOf(g)<0)return d;const v=d.split(new RegExp(`${Lo(g)}[ ]*{`));let _=`{${v[1]}`;d=v[0],_=this.interpolate(_,l);const A=_.match(/'/g),I=_.match(/"/g);((A?.length??0)%2===0&&!I||(I?.length??0)%2!==0)&&(_=_.replace(/'/g,'"'));try{l=JSON.parse(_),f&&(l={...f,...l})}catch(O){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,O),`${d}${g}${_}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;r=this.nestingRegexp.exec(e);){let d=[];l={...s},l=l.replace&&!Ke(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const f=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(f!==-1&&(d=r[1].slice(f).split(this.formatSeparator).map(g=>g.trim()).filter(Boolean),r[1]=r[1].slice(0,f)),o=n(h.call(this,r[1].trim(),l),l),o&&r[0]===e&&!Ke(o))return o;Ke(o)||(o=GA(o)),o||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),o=""),d.length&&(o=d.reduce((g,v)=>this.format(g,v,s.lng,{...s,interpolationkey:r[1].trim()}),o.trim())),e=e.replace(r[0],o),this.regexp.lastIndex=0}return e}}const Gz=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const s=t.split("(");e=s[0].toLowerCase().trim();const r=s[1].substring(0,s[1].length-1);e==="currency"&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(l=>{if(l){const[h,...d]=l.split(":"),f=d.join(":").trim().replace(/^'+|'+$/g,""),g=h.trim();n[g]||(n[g]=f),f==="false"&&(n[g]=!1),f==="true"&&(n[g]=!0),isNaN(f)||(n[g]=parseInt(f,10))}})}return{formatName:e,formatOptions:n}},sx=t=>{const e={};return(n,s,r)=>{let o=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(o={...o,[r.interpolationkey]:void 0});const l=s+JSON.stringify(o);let h=e[l];return h||(h=t(Vh(s),r),e[l]=h),h(n)}},Kz=t=>(e,n,s)=>t(Vh(n),s)(e);class Yz{constructor(e={}){this.logger=sr.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?sx:Kz;this.formats={number:s((r,o)=>{const l=new Intl.NumberFormat(r,{...o});return h=>l.format(h)}),currency:s((r,o)=>{const l=new Intl.NumberFormat(r,{...o,style:"currency"});return h=>l.format(h)}),datetime:s((r,o)=>{const l=new Intl.DateTimeFormat(r,{...o});return h=>l.format(h)}),relativetime:s((r,o)=>{const l=new Intl.RelativeTimeFormat(r,{...o});return h=>l.format(h,o.range||"day")}),list:s((r,o)=>{const l=new Intl.ListFormat(r,{...o});return h=>l.format(h)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=sx(n)}format(e,n,s,r={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(h=>h.indexOf(")")>-1)){const h=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,h)].join(this.formatSeparator)}return o.reduce((h,d)=>{const{formatName:f,formatOptions:g}=Gz(d);if(this.formats[f]){let v=h;try{const _=r?.formatParams?.[r.interpolationkey]||{},A=_.locale||_.lng||r.locale||r.lng||s;v=this.formats[f](h,A,{...g,...r,..._})}catch(_){this.logger.warn(_)}return v}else this.logger.warn(`there was no format function for ${f}`);return h},e)}}const Wz=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Qz extends Qp{constructor(e,n,s,r={}){super(),this.backend=e,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=r,this.logger=sr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,r.backend,r)}queueLoad(e,n,s,r){const o={},l={},h={},d={};return e.forEach(f=>{let g=!0;n.forEach(v=>{const _=`${f}|${v}`;!s.reload&&this.store.hasResourceBundle(f,v)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?l[_]===void 0&&(l[_]=!0):(this.state[_]=1,g=!1,l[_]===void 0&&(l[_]=!0),o[_]===void 0&&(o[_]=!0),d[v]===void 0&&(d[v]=!0)))}),g||(h[f]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(d)}}loaded(e,n,s){const r=e.split("|"),o=r[0],l=r[1];n&&this.emit("failedLoading",o,l,n),!n&&s&&this.store.addResourceBundle(o,l,s,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&s&&(this.state[e]=0);const h={};this.queue.forEach(d=>{Pz(d.loaded,[o],l),Wz(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(f=>{h[f]||(h[f]={});const g=d.loaded[f];g.length&&g.forEach(v=>{h[f][v]===void 0&&(h[f][v]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(d=>!d.done)}read(e,n,s,r=0,o=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:s,tried:r,wait:o,callback:l});return}this.readingCalls++;const h=(f,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(f&&g&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,s,r+1,o*2,l)},o);return}l(f,g)},d=this.backend[s].bind(this.backend);if(d.length===2){try{const f=d(e,n);f&&typeof f.then=="function"?f.then(g=>h(null,g)).catch(h):h(null,f)}catch(f){h(f)}return}return d(e,n,h)}prepareLoading(e,n,s={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Ke(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ke(n)&&(n=[n]);const o=this.queueLoad(e,n,s,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,s){this.prepareLoading(e,n,{},s)}reload(e,n,s){this.prepareLoading(e,n,{reload:!0},s)}loadOne(e,n=""){const s=e.split("|"),r=s[0],o=s[1];this.read(r,o,"read",void 0,void 0,(l,h)=>{l&&this.logger.warn(`${n}loading namespace ${o} for language ${r} failed`,l),!l&&h&&this.logger.log(`${n}loaded namespace ${o} for language ${r}`,h),this.loaded(e,l,h)})}saveMissing(e,n,s,r,o,l={},h=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const d={...l,isUpdate:o},f=this.backend.create.bind(this.backend);if(f.length<6)try{let g;f.length===5?g=f(e,n,s,r,d):g=f(e,n,s,r),g&&typeof g.then=="function"?g.then(v=>h(null,v)).catch(h):h(null,g)}catch(g){h(g)}else f(e,n,s,r,h,d)}!e||!e[0]||this.store.addResource(e[0],n,s,r)}}}const Av=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Ke(t[1])&&(e.defaultValue=t[1]),Ke(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(s=>{e[s]=n[s]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),ix=t=>(Ke(t.ns)&&(t.ns=[t.ns]),Ke(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Ke(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),Yf=()=>{},Xz=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})},e2="__i18next_supportNoticeShown",Jz=()=>typeof globalThis<"u"&&!!globalThis[e2],Zz=()=>{typeof globalThis<"u"&&(globalThis[e2]=!0)},e8=t=>!!(t?.modules?.backend?.name?.indexOf("Locize")>0||t?.modules?.backend?.constructor?.name?.indexOf("Locize")>0||t?.options?.backend?.backends&&t.options.backend.backends.some(e=>e?.name?.indexOf("Locize")>0||e?.constructor?.name?.indexOf("Locize")>0)||t?.options?.backend?.projectId||t?.options?.backend?.backendOptions&&t.options.backend.backendOptions.some(e=>e?.projectId));class _h extends Qp{constructor(e={},n){if(super(),this.options=ix(e),this.services={},this.logger=sr,this.modules={external:[]},Xz(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Ke(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=Av();this.options={...s,...this.options,...ix(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=s.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!e8(this)&&!Jz()&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),Zz());const r=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?sr.init(r(this.modules.logger),this.options):sr.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=Yz;const g=new JA(this.options);this.store=new QA(this.options.resources,this.options);const v=this.services;v.logger=sr,v.resourceStore=this.store,v.languageUtils=g,v.pluralResolver=new qz(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(v.formatter=r(f),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new nx(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new Qz(r(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(A,...I)=>{this.emit(A,...I)}),this.modules.languageDetector&&(v.languageDetector=r(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=r(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Zm(this.services,this.options),this.translator.on("*",(A,...I)=>{this.emit(A,...I)}),this.modules.external.forEach(A=>{A.init&&A.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Yf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...g)=>this.store[f](...g)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...g)=>(this.store[f](...g),this)});const h=Wu(),d=()=>{const f=(g,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(v),n(g,v)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),h}loadResources(e,n=Yf){let s=n;const r=Ke(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(r?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const o=[],l=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(f=>{f!=="cimode"&&o.indexOf(f)<0&&o.push(f)})};r?l(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(h=>l(h)),this.services.backendConnector.load(o,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(h)})}else s(null)}reloadResources(e,n,s){const r=Wu();return typeof e=="function"&&(s=e,e=void 0),typeof n=="function"&&(s=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),s||(s=Yf),this.services.backendConnector.reload(e,n,o=>{r.resolve(),s(o)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&JD.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const s=Wu();this.emit("languageChanging",e);const r=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},o=(h,d)=>{d?this.isLanguageChangingTo===e&&(r(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,s.resolve((...f)=>this.t(...f)),n&&n(h,(...f)=>this.t(...f))},l=h=>{!e&&!h&&this.services.languageDetector&&(h=[]);const d=Ke(h)?h:h&&h[0],f=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Ke(h)?[h]:h);f&&(this.language||r(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector?.cacheUserLanguage?.(f)),this.loadResources(f,g=>{o(g,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),s}getFixedT(e,n,s){const r=(o,l,...h)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([o,l].concat(h)):d={...l},d.lng=d.lng||r.lng,d.lngs=d.lngs||r.lngs,d.ns=d.ns||r.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||s||r.keyPrefix);const f=this.options.keySeparator||".";let g;return d.keyPrefix&&Array.isArray(o)?g=o.map(v=>(typeof v=="function"&&(v=M_(v,{...this.options,...l})),`${d.keyPrefix}${f}${v}`)):(typeof o=="function"&&(o=M_(o,{...this.options,...l})),g=d.keyPrefix?`${d.keyPrefix}${f}${o}`:o),this.t(g,d)};return Ke(e)?r.lng=e:r.lngs=e,r.ns=n,r.keyPrefix=s,r}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const l=(h,d)=>{const f=this.services.backendConnector.state[`${h}|${d}`];return f===-1||f===0||f===2};if(n.precheck){const h=n.precheck(this,l);if(h!==void 0)return h}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(s,e)&&(!r||l(o,e)))}loadNamespaces(e,n){const s=Wu();return this.options.ns?(Ke(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{s.resolve(),n&&n(r)}),s):(n&&n(),Promise.resolve())}loadLanguages(e,n){const s=Wu();Ke(e)&&(e=[e]);const r=this.options.preload||[],o=e.filter(l=>r.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=r.concat(o),this.loadResources(l=>{s.resolve(),n&&n(l)}),s):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const r=new Intl.Locale(e);if(r&&r.getTextInfo){const o=r.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new JA(Av());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const s=new _h(e,n);return s.createInstance=_h.createInstance,s}cloneInstance(e={},n=Yf){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},o=new _h(r);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(h=>{o[h]=this[h]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},s){const h=Object.keys(this.store.data).reduce((d,f)=>(d[f]={...this.store.data[f]},d[f]=Object.keys(d[f]).reduce((g,v)=>(g[v]={...d[f][v]},g),d[f]),d),{});o.store=new QA(h,r),o.services.resourceStore=o.store}if(e.interpolation){const d={...Av().interpolation,...this.options.interpolation,...e.interpolation},f={...r,interpolation:d};o.services.interpolator=new nx(f)}return o.translator=new Zm(o.services,r),o.translator.on("*",(h,...d)=>{o.emit(h,...d)}),o.init(r,n),o.translator.options=r,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Jn=_h.createInstance();Jn.createInstance;Jn.dir;Jn.init;Jn.loadResources;Jn.reloadResources;Jn.use;Jn.changeLanguage;Jn.getFixedT;Jn.t;Jn.exists;Jn.setDefaultNamespace;Jn.hasLoadedNamespace;Jn.loadNamespaces;Jn.loadLanguages;const t8=(t,e,n,s)=>{const r=[n,{code:e,...s||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(r,"warn","react-i18next::",!0);ul(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...r):console?.warn&&console.warn(...r)},rx={},t2=(t,e,n,s)=>{ul(n)&&rx[n]||(ul(n)&&(rx[n]=new Date),t8(t,e,n,s))},n2=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},O_=(t,e,n)=>{t.loadNamespaces(e,n2(t,n))},ax=(t,e,n,s)=>{if(ul(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return O_(t,n,s);n.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(e,n2(t,s))},n8=(t,e,n={})=>!e.languages||!e.languages.length?(t2(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(s,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!r(s.isLanguageChangingTo,t))return!1}}),ul=t=>typeof t=="string",s8=t=>typeof t=="object"&&t!==null,i8=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,r8={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},a8=t=>r8[t],o8=t=>t.replace(i8,a8);let N_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:o8,transDefaultProps:void 0};const l8=(t={})=>{N_={...N_,...t}},c8=()=>N_;let s2;const u8=t=>{s2=t},h8=()=>s2,d8={type:"3rdParty",init(t){l8(t.options.react),u8(t)}},f8=T.createContext();class m8{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var xv={exports:{}},Cv={};var ox;function p8(){if(ox)return Cv;ox=1;var t=gp();function e(v,_){return v===_&&(v!==0||1/v===1/_)||v!==v&&_!==_}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,r=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function h(v,_){var A=_(),I=s({inst:{value:A,getSnapshot:_}}),O=I[0].inst,M=I[1];return o(function(){O.value=A,O.getSnapshot=_,d(O)&&M({inst:O})},[v,A,_]),r(function(){return d(O)&&M({inst:O}),v(function(){d(O)&&M({inst:O})})},[v]),l(A),A}function d(v){var _=v.getSnapshot;v=v.value;try{var A=_();return!n(v,A)}catch{return!0}}function f(v,_){return _()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:h;return Cv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,Cv}var lx;function g8(){return lx||(lx=1,xv.exports=p8()),xv.exports}var y8=g8();const v8=(t,e)=>ul(e)?e:s8(e)&&ul(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,_8={t:v8,ready:!1},b8=()=>()=>{},cd=(t,e={})=>{const{i18n:n}=e,{i18n:s,defaultNS:r}=T.useContext(f8)||{},o=n||s||h8();o&&!o.reportNamespaces&&(o.reportNamespaces=new m8),o||t2(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const l=T.useMemo(()=>({...c8(),...o?.options?.react,...e}),[o,e]),{useSuspense:h,keyPrefix:d}=l,f=r||o?.options?.defaultNS,g=ul(f)?[f]:f||["translation"],v=T.useMemo(()=>g,g);o?.reportNamespaces?.addUsedNamespaces?.(v);const _=T.useRef(0),A=T.useCallback(C=>{if(!o)return b8;const{bindI18n:L,bindI18nStore:j}=l,N=()=>{_.current+=1,C()};return L&&o.on(L,N),j&&o.store.on(j,N),()=>{L&&L.split(" ").forEach(R=>o.off(R,N)),j&&j.split(" ").forEach(R=>o.store.off(R,N))}},[o,l]),I=T.useRef(),O=T.useCallback(()=>{if(!o)return _8;const C=!!(o.isInitialized||o.initializedStoreOnce)&&v.every(q=>n8(q,o,l)),L=e.lng||o.language,j=_.current,N=I.current;if(N&&N.ready===C&&N.lng===L&&N.keyPrefix===d&&N.revision===j)return N;const Q={t:o.getFixedT(L,l.nsMode==="fallback"?v:v[0],d),ready:C,lng:L,keyPrefix:d,revision:j};return I.current=Q,Q},[o,v,d,l,e.lng]),[M,B]=T.useState(0),{t:F,ready:V}=y8.useSyncExternalStore(A,O,O);T.useEffect(()=>{if(o&&!V&&!h){const C=()=>B(L=>L+1);e.lng?ax(o,e.lng,v,C):O_(o,v,C)}},[o,e.lng,v,V,h,M]);const K=o||{},U=T.useRef(null),Y=T.useRef(),x=C=>{const L=Object.getOwnPropertyDescriptors(C);L.__original&&delete L.__original;const j=Object.create(Object.getPrototypeOf(C),L);if(!Object.prototype.hasOwnProperty.call(j,"__original"))try{Object.defineProperty(j,"__original",{value:C,writable:!1,enumerable:!1,configurable:!1})}catch{}return j},S=T.useMemo(()=>{const C=K,L=C?.language;let j=C;C&&(U.current&&U.current.__original===C?Y.current!==L?(j=x(C),U.current=j,Y.current=L):j=U.current:(j=x(C),U.current=j,Y.current=L));const N=[F,j,V];return N.t=F,N.i18n=j,N.ready=V,N},[F,K,V,K.resolvedLanguage,K.language,K.languages]);if(o&&h&&!V)throw new Promise(C=>{const L=()=>C();e.lng?ax(o,e.lng,v,L):O_(o,v,L)});return S},i2=T.createContext(),w8=()=>{const t=T.useContext(i2);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},T8=({children:t})=>{const{user:e}=ui(),{i18n:n}=cd(),[s,r]=T.useState(()=>({language:localStorage.getItem("appLanguage")||"en",timeFormat:localStorage.getItem("appTimeFormat")||"12h",security:{lockEnabled:localStorage.getItem("appLockEnabled")==="true",biometricEnabled:localStorage.getItem("appBiometricEnabled")==="true",lastUnlocked:0},notifications:{global:!0,ramadan:!0,finance:!0,vehicle:!0}}));T.useEffect(()=>{if(!e)return;const h=we.subscribeToDocument(`users/${e.uid}/config`,"settings",d=>{d&&(r(f=>{const g={...f,...d};return localStorage.setItem("appLanguage",g.language||"en"),localStorage.setItem("appTimeFormat",g.timeFormat||"12h"),g}),d.language&&d.language!==n.language&&n.changeLanguage(d.language))});return()=>h()},[e,n]);const o=T.useCallback(async(h,d)=>{if(h==="language"&&n.changeLanguage(d),localStorage.setItem(`app${h.charAt(0).toUpperCase()+h.slice(1)}`,d),r(f=>({...f,[h]:d})),e)try{await we.setItem(`users/${e.uid}/config`,"settings",{[h]:d},!0)}catch(f){console.error("Failed to save setting",f)}},[e,n]),l=T.useMemo(()=>({appSettings:s,updateSetting:o,timeFormat:s.timeFormat||"12h"}),[s,o]);return k.jsx(i2.Provider,{value:l,children:t})},r2=6048e5,E8=864e5,aZ=6e4,oZ=36e5,cx=Symbol.for("constructDateFrom");function Ni(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&cx in t?t[cx](e):t instanceof Date?new t.constructor(e):new Date(e)}function an(t,e){return Ni(e||t,t)}function Ib(t,e,n){const s=an(t,n?.in);return isNaN(e)?Ni(t,NaN):(e&&s.setDate(s.getDate()+e),s)}function Jo(t,e,n){const s=an(t,n?.in);if(isNaN(e))return Ni(t,NaN);if(!e)return s;const r=s.getDate(),o=Ni(t,s.getTime());o.setMonth(s.getMonth()+e+1,0);const l=o.getDate();return r>=l?o:(s.setFullYear(o.getFullYear(),o.getMonth(),r),s)}let S8={};function ud(){return S8}function Rc(t,e){const n=ud(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=an(t,e?.in),o=r.getDay(),l=(o<s?7:0)+o-s;return r.setDate(r.getDate()-l),r.setHours(0,0,0,0),r}function ep(t,e){return Rc(t,{...e,weekStartsOn:1})}function a2(t,e){const n=an(t,e?.in),s=n.getFullYear(),r=Ni(n,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const o=ep(r),l=Ni(n,0);l.setFullYear(s,0,4),l.setHours(0,0,0,0);const h=ep(l);return n.getTime()>=o.getTime()?s+1:n.getTime()>=h.getTime()?s:s-1}function ux(t){const e=an(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function o2(t,...e){const n=Ni.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function tp(t,e){const n=an(t,e?.in);return n.setHours(0,0,0,0),n}function A8(t,e,n){const[s,r]=o2(n?.in,t,e),o=tp(s),l=tp(r),h=+o-ux(o),d=+l-ux(l);return Math.round((h-d)/E8)}function x8(t,e){const n=a2(t,e),s=Ni(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),ep(s)}function C8(t,e,n){return Ib(t,e*7,n)}function R8(t,e,n){return Jo(t,e*12,n)}function Rv(t,e,n){const[s,r]=o2(n?.in,t,e);return+tp(s)==+tp(r)}function k8(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function I8(t){return!(!k8(t)&&typeof t!="number"||isNaN(+an(t)))}function hx(t,e){const n=an(t,e?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function dx(t,e){const n=an(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function D8(t,e){const n=an(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function M8(t,e){const n=ud(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=an(t,e?.in),o=r.getDay(),l=(o<s?-7:0)+6-(o-s);return r.setDate(r.getDate()+l),r.setHours(23,59,59,999),r}const O8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},N8=(t,e,n)=>{let s;const r=O8[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function kv(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const P8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},L8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},V8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},U8={date:kv({formats:P8,defaultWidth:"full"}),time:kv({formats:L8,defaultWidth:"full"}),dateTime:kv({formats:V8,defaultWidth:"full"})},j8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},F8=(t,e,n,s)=>j8[t];function Qu(t){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let r;if(s==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,h=n?.width?String(n.width):l;r=t.formattingValues[h]||t.formattingValues[l]}else{const l=t.defaultWidth,h=n?.width?String(n.width):t.defaultWidth;r=t.values[h]||t.values[l]}const o=t.argumentCallback?t.argumentCallback(e):e;return r[o]}}const B8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},z8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},H8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},q8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},G8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},K8=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Y8={ordinalNumber:K8,era:Qu({values:B8,defaultWidth:"wide"}),quarter:Qu({values:z8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qu({values:$8,defaultWidth:"wide"}),day:Qu({values:H8,defaultWidth:"wide"}),dayPeriod:Qu({values:q8,defaultWidth:"wide",formattingValues:G8,defaultFormattingWidth:"wide"})};function Xu(t){return(e,n={})=>{const s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],o=e.match(r);if(!o)return null;const l=o[0],h=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(h)?Q8(h,v=>v.test(l)):W8(h,v=>v.test(l));let f;f=t.valueCallback?t.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const g=e.slice(l.length);return{value:f,rest:g}}}function W8(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Q8(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function X8(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const r=s[0],o=e.match(t.parsePattern);if(!o)return null;let l=t.valueCallback?t.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const h=e.slice(r.length);return{value:l,rest:h}}}const J8=/^(\d+)(th|st|nd|rd)?/i,Z8=/\d+/i,e7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},t7={any:[/^b/i,/^(a|c)/i]},n7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},s7={any:[/1/i,/2/i,/3/i,/4/i]},i7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},r7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},a7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},o7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},l7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},c7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},u7={ordinalNumber:X8({matchPattern:J8,parsePattern:Z8,valueCallback:t=>parseInt(t,10)}),era:Xu({matchPatterns:e7,defaultMatchWidth:"wide",parsePatterns:t7,defaultParseWidth:"any"}),quarter:Xu({matchPatterns:n7,defaultMatchWidth:"wide",parsePatterns:s7,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Xu({matchPatterns:i7,defaultMatchWidth:"wide",parsePatterns:r7,defaultParseWidth:"any"}),day:Xu({matchPatterns:a7,defaultMatchWidth:"wide",parsePatterns:o7,defaultParseWidth:"any"}),dayPeriod:Xu({matchPatterns:l7,defaultMatchWidth:"any",parsePatterns:c7,defaultParseWidth:"any"})},h7={code:"en-US",formatDistance:N8,formatLong:U8,formatRelative:F8,localize:Y8,match:u7,options:{weekStartsOn:0,firstWeekContainsDate:1}};function d7(t,e){const n=an(t,e?.in);return A8(n,D8(n))+1}function f7(t,e){const n=an(t,e?.in),s=+ep(n)-+x8(n);return Math.round(s/r2)+1}function l2(t,e){const n=an(t,e?.in),s=n.getFullYear(),r=ud(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=Ni(e?.in||t,0);l.setFullYear(s+1,0,o),l.setHours(0,0,0,0);const h=Rc(l,e),d=Ni(e?.in||t,0);d.setFullYear(s,0,o),d.setHours(0,0,0,0);const f=Rc(d,e);return+n>=+h?s+1:+n>=+f?s:s-1}function m7(t,e){const n=ud(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=l2(t,e),o=Ni(e?.in||t,0);return o.setFullYear(r,0,s),o.setHours(0,0,0,0),Rc(o,e)}function p7(t,e){const n=an(t,e?.in),s=+Rc(n,e)-+m7(n,e);return Math.round(s/r2)+1}function Ct(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Ra={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return Ct(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ct(n+1,2)},d(t,e){return Ct(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ct(t.getHours()%12||12,e.length)},H(t,e){return Ct(t.getHours(),e.length)},m(t,e){return Ct(t.getMinutes(),e.length)},s(t,e){return Ct(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return Ct(r,e.length)}},nc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fx={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return Ra.y(t,e)},Y:function(t,e,n,s){const r=l2(t,s),o=r>0?r:1-r;if(e==="YY"){const l=o%100;return Ct(l,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ct(o,e.length)},R:function(t,e){const n=a2(t);return Ct(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ct(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ct(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ct(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Ra.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ct(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const r=p7(t,s);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):Ct(r,e.length)},I:function(t,e,n){const s=f7(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Ct(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ra.d(t,e)},D:function(t,e,n){const s=d7(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ct(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const r=t.getDay(),o=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Ct(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const r=t.getDay(),o=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Ct(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return Ct(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let r;switch(s===12?r=nc.noon:s===0?r=nc.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let r;switch(s>=17?r=nc.evening:s>=12?r=nc.afternoon:s>=4?r=nc.morning:r=nc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ra.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ra.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ct(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ct(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ra.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ra.s(t,e)},S:function(t,e){return Ra.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return px(s);case"XXXX":case"XX":return zo(s);default:return zo(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return px(s);case"xxxx":case"xx":return zo(s);default:return zo(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+mx(s,":");default:return"GMT"+zo(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+mx(s,":");default:return"GMT"+zo(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return Ct(s,e.length)},T:function(t,e,n){return Ct(+t,e.length)}};function mx(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.trunc(s/60),o=s%60;return o===0?n+String(r):n+String(r)+e+Ct(o,2)}function px(t,e){return t%60===0?(t>0?"-":"+")+Ct(Math.abs(t)/60,2):zo(t,e)}function zo(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Ct(Math.trunc(s/60),2),o=Ct(s%60,2);return n+r+e+o}const gx=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},c2=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},g7=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return gx(t,e);let o;switch(s){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",gx(s,e)).replace("{{time}}",c2(r,e))},y7={p:c2,P:g7},v7=/^D+$/,_7=/^Y+$/,b7=["D","DD","YY","YYYY"];function w7(t){return v7.test(t)}function T7(t){return _7.test(t)}function E7(t,e,n){const s=S7(t,e,n);if(console.warn(s),b7.includes(t))throw new RangeError(s)}function S7(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const A7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,x7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,C7=/^'([^]*?)'?$/,R7=/''/g,k7=/[a-zA-Z]/;function I7(t,e,n){const s=ud(),r=s.locale??h7,o=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,h=an(t,n?.in);if(!I8(h))throw new RangeError("Invalid time value");let d=e.match(x7).map(g=>{const v=g[0];if(v==="p"||v==="P"){const _=y7[v];return _(g,r.formatLong)}return g}).join("").match(A7).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const v=g[0];if(v==="'")return{isToken:!1,value:D7(g)};if(fx[v])return{isToken:!0,value:g};if(v.match(k7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:g}});r.localize.preprocessor&&(d=r.localize.preprocessor(h,d));const f={firstWeekContainsDate:o,weekStartsOn:l,locale:r};return d.map(g=>{if(!g.isToken)return g.value;const v=g.value;(T7(v)||w7(v))&&E7(v,e,String(t));const _=fx[v[0]];return _(h,v,r.localize,f)}).join("")}function D7(t){const e=t.match(C7);return e?e[1].replace(R7,"'"):t}function Ju(t,e){return+an(t)<+an(e)}function Iv(t,e,n){const s=+an(t,n?.in),[r,o]=[+an(e.start,n?.in),+an(e.end,n?.in)].sort((l,h)=>l-h);return s>=r&&s<=o}function M7(t,e,n){return Ib(t,-e,n)}const u2=T.createContext(),lZ=()=>{const t=T.useContext(u2);if(!t)throw new Error("useTasks must be used within a TaskContextProvider");return t},O7=({children:t})=>{const{user:e,authIsReady:n}=ui(),[s,r]=T.useState([]),[o,l]=T.useState([]),[h,d]=T.useState(50),[f,g]=T.useState({}),[v,_]=T.useState(!0),A=T.useRef([]);T.useEffect(()=>{A.current=[...s,...o]},[s,o]);const[I,O]=T.useState({autoDeleteCompleted:!1,confirmDelete:!0,showCompletedInList:!0,defaultPriority:"Medium",defaultDuration:15,dailyReminder:!0,reminderTime:"09:00"}),M=I7(new Date,"yyyy-MM-dd");T.useEffect(()=>{if(!n)return;if(!e){r([]),l([]),g({}),_(!1);return}_(!0);const q=we.subscribeToCollection(`users/${e.uid}/tasks`,ye=>{r(ye),_(!1)},Kn("status","==","pending"),Cc(1e3)),$=we.subscribeToCollection(`users/${e.uid}/tasks`,ye=>{l(ye)},Kn("status","==","completed"),Cc(h)),W=we.subscribeToDocument(`users/${e.uid}/config`,"taskSettings",ye=>{ye&&O(ue=>({...ue,...ye}))}),le=we.subscribeToDocument(`users/${e.uid}/data`,"lockedDays",ye=>{ye&&ye.days&&g(ye.days)});return()=>{q(),$(),W(),le()}},[e,n,h]);const B=q=>{if(!e)return;const $={...I,...q};O($),we.setItem(`users/${e.uid}/config`,"taskSettings",$)},F=T.useCallback(q=>q<M,[M]),V=T.useCallback(q=>{const W=A.current.filter(ye=>ye.date===q);if(W.length===0)return 0;const le=W.filter(ye=>ye.status==="completed"||ye.isCompleted).length;return Math.round(le/W.length*100)},[s,o]),K=T.useCallback(async(q,$={})=>{if(!e)return;const W=$.date||M;if(W<M){console.warn("Cannot add tasks to a locked day.");return}const le={title:q,status:"pending",isCompleted:!1,date:W,createdAt:Date.now(),priority:$.priority||"Medium",category:$.category||"Work",time:$.time||null,estimatedTime:$.estimatedTime||15,description:$.description||"",userId:e.uid};try{if(A.current.some(ue=>(ue.title||ue.name||"").toLowerCase()===q.toLowerCase()&&ue.status==="pending"&&ue.date===W))throw new Error("A pending task with this title already exists on this date.");const ye=await we.addItem(`users/${e.uid}/tasks`,le);return{...le,id:ye.id}}catch(ye){throw console.error("Error adding task:",ye),ye}},[e,M]),U=T.useCallback(async(q,$)=>{if(!e)return;const le=A.current.find(ye=>ye.id===q);if(le){if(le.date<M){console.warn("Cannot edit tasks of a locked day.");return}await we.updateItem(`users/${e.uid}/tasks`,q,$)}},[e,M]),Y=T.useCallback(async q=>{if(!e)return;const W=A.current.find(le=>le.id===q);if(W&&W.date<M){console.warn("Cannot delete tasks of a locked day.");return}await we.deleteItem(`users/${e.uid}/tasks`,q)},[e,M]),x=T.useCallback(async(q,$)=>{if(e){if($&&$<M){console.warn("Cannot reschedule to a locked past day.");return}await we.updateItem(`users/${e.uid}/tasks`,q,{date:$})}},[e,M]),S=T.useCallback(async q=>{if(!e)return;const W=A.current.find(ue=>ue.id===q);if(!W)return;if(W.date<M&&!W.isCompleted&&W.status!=="completed"){await we.updateItem(`users/${e.uid}/tasks`,q,{date:M,status:"completed",isCompleted:!0});return}if(W.date<M)return;const le=!(W.status==="completed"||W.isCompleted),ye=le?"completed":"pending";await we.updateItem(`users/${e.uid}/tasks`,q,{status:ye,isCompleted:le})},[e,M]),C=T.useCallback(async()=>{if(!e)return 0;const $=A.current.filter(ye=>ye.date===M);let W=0;if($.length>0){const ye=$.filter(ue=>ue.status==="completed"||ue.isCompleted).length;W=Math.round(ye/$.length*100)}const le={...f,[M]:{lockedAt:Date.now(),score:W}};return g(le),await we.setItem(`users/${e.uid}/data`,"lockedDays",{days:le}),W},[e,M,f]),L=T.useCallback(async()=>{if(!e)return;const $=A.current.map(W=>we.deleteItem(`users/${e.uid}/tasks`,W.id));await Promise.all($)},[e]),[j,N]=T.useState(null),R=T.useMemo(()=>[...s,...o].sort(($,W)=>(W.createdAt||0)-($.createdAt||0)),[s,o]),Q=T.useMemo(()=>({tasks:R,lockedDays:f,settings:I,currentDateStr:M,addTask:K,updateTask:U,deleteTask:Y,toggleTask:S,rescheduleTask:x,completeDay:C,getDailyScore:V,isDayLocked:F,clearAllTasks:L,updateSettings:B,activePopoverId:j,setActivePopoverId:N,isLoading:v,loadMoreCompleted:()=>d(q=>q+50)}),[R,f,I,M,K,U,Y,S,x,C,V,F,L,B,j,v]);return k.jsx(u2.Provider,{value:Q,children:t})};const N7="type.googleapis.com/google.protobuf.Int64Value",P7="type.googleapis.com/google.protobuf.UInt64Value";function h2(t,e){const n={};for(const s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}function np(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>np(e));if(typeof t=="function"||typeof t=="object")return h2(t,e=>np(e));throw new Error("Data cannot be encoded in JSON: "+t)}function kc(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case N7:case P7:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>kc(e)):typeof t=="function"||typeof t=="object"?h2(t,e=>kc(e)):t}const Db="functions";const yx={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ts extends As{constructor(e,n,s){super(`${Db}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,Ts.prototype)}}function L7(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function sp(t,e){let n=L7(t),s=n,r;try{const o=e&&e.error;if(o){const l=o.status;if(typeof l=="string"){if(!yx[l])return new Ts("internal","internal");n=yx[l],s=l}const h=o.message;typeof h=="string"&&(s=h),r=o.details,r!==void 0&&(r=kc(r))}}catch{}return n==="ok"?null:new Ts(n,s,r)}class V7{constructor(e,n,s,r){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,rs(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||s.get().then(o=>this.messaging=o,()=>{}),this.appCheck||r?.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:r}}}const P_="us-central1",U7=/^data: (.*?)(?:\n|$)/;function j7(t){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new Ts("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class F7{constructor(e,n,s,r,o=P_,l=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new V7(e,n,s,r),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(o);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=P_}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function B7(t,e,n){const s=fr(e);t.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(bp(t.emulatorOrigin+"/backends"),wp("Functions",!0))}function z7(t,e,n){const s=r=>H7(t,e,r,{});return s.stream=(r,o)=>G7(t,e,r,o),s}function d2(t){return t.emulatorOrigin&&fr(t.emulatorOrigin)?"include":void 0}async function $7(t,e,n,s,r){n["Content-Type"]="application/json";let o;try{o=await s(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:d2(r)})}catch{return{status:0,json:null}}let l=null;try{l=await o.json()}catch{}return{status:o.status,json:l}}async function f2(t,e){const n={},s=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function H7(t,e,n,s){const r=t._url(e);return q7(t,r,n,s)}async function q7(t,e,n,s){n=np(n);const r={data:n},o=await f2(t,s),l=s.timeout||7e4,h=j7(l),d=await Promise.race([$7(e,r,o,t.fetchImpl,t),h.promise,t.cancelAllRequests]);if(h.cancel(),!d)throw new Ts("cancelled","Firebase Functions instance was deleted.");const f=sp(d.status,d.json);if(f)throw f;if(!d.json)throw new Ts("internal","Response is not valid JSON object.");let g=d.json.data;if(typeof g>"u"&&(g=d.json.result),typeof g>"u")throw new Ts("internal","Response is missing data field.");return{data:kc(g)}}function G7(t,e,n,s){const r=t._url(e);return K7(t,r,n,s||{})}async function K7(t,e,n,s){n=np(n);const r={data:n},o=await f2(t,s);o["Content-Type"]="application/json",o.Accept="text/event-stream";let l;try{l=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(r),headers:o,signal:s?.signal,credentials:d2(t)})}catch(_){if(_ instanceof Error&&_.name==="AbortError"){const I=new Ts("cancelled","Request was cancelled.");return{data:Promise.reject(I),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(I)}}}}}}const A=sp(0,null);return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}let h,d;const f=new Promise((_,A)=>{h=_,d=A});s?.signal?.addEventListener("abort",()=>{const _=new Ts("cancelled","Request was cancelled.");d(_)});const g=l.body.getReader(),v=Y7(g,h,d,s?.signal);return{stream:{[Symbol.asyncIterator](){const _=v.getReader();return{async next(){const{value:A,done:I}=await _.read();return{value:A,done:I}},async return(){return await _.cancel(),{done:!0,value:void 0}}}}},data:f}}function Y7(t,e,n,s){const r=(l,h)=>{const d=l.match(U7);if(!d)return;const f=d[1];try{const g=JSON.parse(f);if("result"in g){e(kc(g.result));return}if("message"in g){h.enqueue(kc(g.message));return}if("error"in g){const v=sp(0,g);h.error(v),n(v);return}}catch(g){if(g instanceof Ts){h.error(g),n(g);return}}},o=new TextDecoder;return new ReadableStream({start(l){let h="";return d();async function d(){if(s?.aborted){const f=new Ts("cancelled","Request was cancelled");return l.error(f),n(f),Promise.resolve()}try{const{value:f,done:g}=await t.read();if(g){h.trim()&&r(h.trim(),l),l.close();return}if(s?.aborted){const _=new Ts("cancelled","Request was cancelled");l.error(_),n(_),await t.cancel();return}h+=o.decode(f,{stream:!0});const v=h.split(`
`);h=v.pop()||"";for(const _ of v)_.trim()&&r(_.trim(),l);return d()}catch(f){const g=f instanceof Ts?f:sp(0,null);l.error(g),n(g)}}},cancel(){return t.cancel()}})}const vx="@firebase/functions",_x="0.13.2";const W7="auth-internal",Q7="app-check-internal",X7="messaging-internal";function J7(t){const e=(n,{instanceIdentifier:s})=>{const r=n.getProvider("app").getImmediate(),o=n.getProvider(W7),l=n.getProvider(X7),h=n.getProvider(Q7);return new F7(r,o,l,h,s)};Fs(new Es(Db,e,"PUBLIC").setMultipleInstances(!0)),Nn(vx,_x,t),Nn(vx,_x,"esm2020")}function Z7(t=Tp(),e=P_){const s=hl(mt(t),Db).getImmediate({identifier:e}),r=v0("functions");return r&&e$(s,...r),s}function e$(t,e,n){B7(mt(t),e,n)}function t$(t,e,n){return z7(mt(t),e)}J7();const Wf={async commitFinancialTransaction(t){const e=Z7(Kp),n=t$(e,"commitFinancialTransaction");try{return(await n(t)).data}catch(s){throw console.error("Cloud Function Failed:",s),s}}},m2=T.createContext(),n$=()=>{const t=T.useContext(m2);if(!t)throw new Error("useFinance must be used within FinanceContextProvider");return t},s$=({children:t})=>{const{user:e,authIsReady:n}=ui(),s=[{id:"cat_food",name:"Food & Dining",type:"expense",budget:5e3,color:"bg-orange-500",icon:"Utensils"},{id:"cat_transport",name:"Transport",type:"expense",budget:2e3,color:"bg-blue-500",icon:"Bus"},{id:"cat_shopping",name:"Shopping",type:"expense",budget:3e3,color:"bg-pink-500",icon:"ShoppingBag"},{id:"cat_bills",name:"Bills & Utilities",type:"expense",budget:4e3,color:"bg-yellow-500",icon:"Zap"},{id:"cat_salary",name:"Salary",type:"income",budget:0,color:"bg-emerald-500",icon:"IndianRupee"},{id:"cat_savings",name:"Savings Allocation",type:"savings",budget:2e3,color:"bg-teal-500",icon:"Wallet"}],r=[{id:"acc_cash",name:"Cash Wallet",type:"cash",balance:0,openingBalance:0,isArchived:!1},{id:"acc_bank",name:"Main Bank",type:"bank",balance:0,openingBalance:0,isArchived:!1},{id:"acc_upi",name:"UPI / Digital",type:"upi",balance:0,openingBalance:0,isArchived:!1}],[o,l]=T.useState([]),[h,d]=T.useState(50),[f,g]=T.useState([]),[v,_]=T.useState([]),[A,I]=T.useState([]),[O,M]=T.useState([]),[B,F]=T.useState([]),[V,K]=T.useState([]),[U,Y]=T.useState([]),[x,S]=T.useState([]),[C,L]=T.useState({}),[j,N]=T.useState(!0);T.useEffect(()=>{if(!n)return;if(!e){l([]),g(s),_(r),I([]),M([]),F([]),K([]),Y([]),S([]),L({}),N(!1);return}N(!0);const ce=we.subscribeToCollection(`users/${e.uid}/transactions`,gt=>{l(gt),N(!1)},Lh("date","desc"),Cc(h)),re=we.subscribeToCollection(`users/${e.uid}/categories`,gt=>{g(gt.length>0?gt:[])}),oe=we.subscribeToCollection(`users/${e.uid}/accounts`,gt=>_(gt.length>0?gt:[])),fe=we.subscribeToCollection(`users/${e.uid}/savingsGoals`,gt=>I(gt)),Ie=we.subscribeToCollection(`users/${e.uid}/debts`,gt=>M(gt)),Fe=we.subscribeToCollection(`users/${e.uid}/debtParties`,gt=>F(gt)),Xe=we.subscribeToCollection(`users/${e.uid}/debtTransactions`,gt=>K(gt)),Et=we.subscribeToCollection(`users/${e.uid}/subscriptions`,gt=>Y(gt)),Tn=we.subscribeToCollection(`users/${e.uid}/recurringRules`,gt=>S(gt)),lo=we.subscribeToDocument(`users/${e.uid}/financeConfig`,"main",gt=>L(gt||{}));return()=>{ce(),re(),oe(),fe(),Ie(),Fe(),Xe(),Et(),Tn(),lo()}},[e,n,h]),T.useEffect(()=>{if(!e)return;(async()=>{const re=await we.getCollection(`users/${e.uid}/categories`);re.length===0?await seedDefaults("categories",s):re.some(fe=>fe.type==="savings")||await we.setItem(`users/${e.uid}/categories`,"cat_savings",{id:"cat_savings",name:"Savings Allocation",type:"savings",budget:0,color:"bg-teal-500",icon:"Wallet"},!0),(await we.getCollection(`users/${e.uid}/accounts`)).length===0&&await seedDefaults("accounts",r)})()},[e?.uid]),T.useEffect(()=>{if(!e||x.length===0)return;(async()=>{const re=new Date;for(const oe of x){if(!oe.isActive)continue;let fe=new Date(oe.nextDueDate),Ie=!1;for(;(Ju(fe,re)||Rv(fe,re))&&!(oe.endDate&&Ju(new Date(oe.endDate),fe));){const Xe={transactionId:crypto.randomUUID(),accountId:oe.transactionTemplate.accountId,type:oe.transactionTemplate.type,amount:Number(oe.transactionTemplate.amount),categoryId:oe.transactionTemplate.categoryId,date:fe.toISOString(),description:oe.transactionTemplate.name||"Recurring Transaction",metadata:{recurringRuleId:oe.id,isfromRecurring:!0}};await Wf.commitFinancialTransaction(Xe),oe.frequency==="daily"?fe=Ib(fe,1):oe.frequency==="weekly"?fe=C8(fe,1):oe.frequency==="monthly"?fe=Jo(fe,1):oe.frequency==="yearly"&&(fe=R8(fe,1)),Ie=!0}Ie&&await we.updateItem(`users/${e.uid}/recurringRules`,oe.id,{nextDueDate:fe.toISOString()})}})()},[x,e]),T.useEffect(()=>{if(!e||U.length===0)return;(async()=>{const re=new Date;for(const oe of U){if(oe.status!=="active"||!oe.autoPay)continue;let fe=new Date(oe.nextBillingDate),Ie=!1;for(;Ju(fe,re)||Rv(fe,re);){const Xe={transactionId:crypto.randomUUID(),accountId:"acc_bank",type:"expense",amount:Number(oe.amount),categoryId:"cat_bills",date:fe.toISOString(),description:`Subscription: ${oe.name}`,metadata:{isFromSubscription:!0,subscriptionId:oe.id}};await Wf.commitFinancialTransaction(Xe),fe=Jo(fe,1),Ie=!0}Ie&&await we.updateItem(`users/${e.uid}/subscriptions`,oe.id,{nextBillingDate:fe.toISOString()})}})()},[U,e]);const R=T.useCallback(ce=>v.find(re=>re.id===ce)?.balance||0,[v]),Q=T.useCallback(()=>{const ce=o.filter(fe=>!fe.isDeleted&&fe.type==="income").reduce((fe,Ie)=>fe+Number(Ie.amount),0),re=o.filter(fe=>!fe.isDeleted&&fe.type==="expense").reduce((fe,Ie)=>fe+Number(Ie.amount),0),oe=o.filter(fe=>!fe.isDeleted&&fe.type==="savings").reduce((fe,Ie)=>fe+Number(Ie.amount),0);return ce-re-oe},[o]),q=T.useCallback(()=>Q(),[Q]),$=T.useCallback(()=>{const ce=new Date,re=dx(ce),oe=hx(ce);return o.filter(fe=>!fe.isDeleted&&fe.type==="expense"&&Iv(new Date(fe.date),{start:re,end:oe})).reduce((fe,Ie)=>fe+Number(Ie.amount),0)},[o]),W=T.useCallback(ce=>{const re=new Date,oe=dx(re),fe=hx(re);return o.filter(Ie=>!Ie.isDeleted&&Iv(new Date(Ie.date),{start:oe,end:fe})).reduce((Ie,Fe)=>Fe.categoryId===ce?Ie+Number(Fe.amount):Ie,0)},[o]),le=T.useCallback(ce=>{const re=f.find(Et=>Et.id===ce);if(!re||!re.budget)return null;const oe=W(ce),fe=Number(re.budget),Ie=fe-oe,Fe=Math.min(Math.round(oe/fe*100),100);let Xe="good";return Fe>=100?Xe="danger":Fe>=80&&(Xe="warning"),{spent:oe,budget:fe,remaining:Ie,percent:Fe,status:Xe}},[f,W]),ye=T.useCallback((ce=new Date)=>o.filter(re=>!re.isDeleted&&re.type==="expense"&&Rv(new Date(re.date||re.createdAt),ce)).reduce((re,oe)=>re+Number(oe.amount),0),[o]),ue=T.useCallback(()=>{const ce=new Date,re=Rc(ce,{weekStartsOn:1}),oe=M8(ce,{weekStartsOn:1}),fe=o.filter(Xe=>!Xe.isDeleted&&Iv(new Date(Xe.date||Xe.createdAt),{start:re,end:oe})),Ie=fe.filter(Xe=>Xe.type==="income").reduce((Xe,Et)=>Xe+Number(Et.amount),0),Fe=fe.filter(Xe=>Xe.type==="expense").reduce((Xe,Et)=>Xe+Number(Et.amount),0);return Ie-Fe},[o]),z=T.useCallback(async ce=>{if(!e)return;const re=Number(ce.amount);if(!re||isNaN(re)||re<=0||re>9999999)throw new Error("Invalid amount. Must be between 1 and 99,99,999.");const oe={transactionId:crypto.randomUUID(),accountId:ce.accountId,type:ce.type,amount:re,categoryId:ce.categoryId,date:ce.date||new Date().toISOString(),note:ce.note||ce.description||"",description:ce.note||ce.description||"Transaction",createdAt:Date.now(),metadata:{...ce}};try{await we.addItem(`users/${e.uid}/transactions`,oe)}catch(fe){throw console.error("Failed to add transaction via FirestoreService:",fe),fe}},[e]),ne=T.useCallback(async({amount:ce,fromAccountId:re,toAccountId:oe,note:fe,date:Ie})=>{if(!e)return;const Fe={transactionId:crypto.randomUUID(),accountId:re,toAccountId:oe,type:"transfer",amount:Number(ce),date:Ie||new Date().toISOString(),note:fe||"",description:fe||"Fund Transfer",categoryId:"cat_transfer",createdAt:Date.now()};try{await we.addItem(`users/${e.uid}/transactions`,Fe)}catch(Xe){throw console.error("Failed to add transfer via FirestoreService:",Xe),Xe}},[e]),_e=T.useCallback(async ce=>{if(!e)return;const re={isActive:!0,nextDueDate:ce.startDate,...ce};await we.addItem(`users/${e.uid}/recurringRules`,re)},[e]),Te=T.useCallback(async ce=>{if(!e)return;const re=o.find(fe=>fe.transactionId===ce||fe.id===ce);if(!re||re.isDeleted)return;const oe=re.id;try{await we.updateItem(`users/${e.uid}/transactions`,oe,{isDeleted:!0,deletedAt:Date.now()})}catch(fe){throw console.error("Failed to delete transaction:",fe),fe}},[e,o]),xe=T.useCallback(async ce=>{if(!e)return;const re=o.find(fe=>fe.transactionId===ce||fe.id===ce);if(!re)return;const oe=re.id;try{await we.updateItem(`users/${e.uid}/transactions`,oe,{isDeleted:!1,deletedAt:null})}catch(fe){console.error("Failed to restore transaction:",fe)}},[e,o]),Ce=T.useCallback(async(ce,re)=>{if(!e)return;const oe=o.find(Ie=>Ie.transactionId===ce||Ie.id===ce);if(!oe)return;const fe=oe.id;try{await we.updateItem(`users/${e.uid}/transactions`,fe,{...re,note:re.note||re.description||"",description:re.note||re.description||oe.description,updatedAt:Date.now()})}catch(Ie){throw console.error("Failed to edit transaction:",Ie),Ie}},[e,o]),$e=T.useCallback(ce=>!ce||!ce.amount||!ce.categoryId?!1:o.filter(oe=>!oe.isDeleted&&oe.amount===Number(ce.amount)&&oe.categoryId===ce.categoryId&&Date.now()-(oe.createdAt||0)<6e4).length>0,[o]),ut=T.useCallback(async(ce,re)=>{if(!e)return;const{balance:oe,...fe}=re;await we.updateItem(`users/${e.uid}/accounts`,ce,fe)},[e]),Be=T.useCallback(async ce=>{if(!e)return;const re=v.find(oe=>oe.id===ce);re&&await we.updateItem(`users/${e.uid}/accounts`,ce,{isArchived:!re.isArchived})},[e,v]),wn=T.useCallback(async(ce,re)=>{e&&await we.setItem(`users/${e.uid}/categories`,ce,{budget:re},!0)},[e]),Rn=T.useCallback(async ce=>{if(!e)return;const re={id:`cat_${Date.now()}`,budget:0,color:"bg-indigo-500",icon:"IndianRupee",...ce};await we.addItem(`users/${e.uid}/categories`,re)},[e]),be=T.useCallback(async(ce,re=!1,oe=null)=>{if(!e)return;const fe={createdAt:Date.now(),status:"open",isSettled:!1,paidAmount:0,history:[{id:`dh_${Date.now()}`,date:Date.now(),amount:Number(ce.amount),type:"creation",note:"Record created"}],...ce},Ie=await we.addItem(`users/${e.uid}/debts`,fe);if(re&&oe){const Fe=ce.type==="payable",Xe=Fe?"income":"expense";await Wf.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:oe,type:Xe,amount:Number(ce.amount),categoryId:Fe?"cat_debt_in":"cat_debt_out",date:new Date().toISOString(),description:`Debt: ${ce.person}`,metadata:{relatedDebtId:Ie.id}})}},[e]),pe=T.useCallback(async(ce,re,oe=new Date)=>{if(!e)return;const fe=O.find(Tn=>Tn.id===ce);if(!fe)return;const Ie=Number(re),Fe=fe.type==="receivable";await Wf.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:"acc_bank",type:Fe?"income":"expense",amount:Ie,categoryId:"cat_debt",date:new Date(oe).toISOString(),description:`Repayment: ${fe.person}`,metadata:{relatedDebtId:ce}});const Xe=(fe.paidAmount||0)+Ie,Et=Xe>=Number(fe.amount);await we.updateItem(`users/${e.uid}/debts`,ce,{paidAmount:Xe,isSettled:Et,payments:[...fe.payments||[],{amount:Ie,date:new Date(oe).toISOString(),id:`pay_${Date.now()}`}]})},[e,O]),ae=T.useCallback(ce=>{const re=O.find(oe=>oe.id===ce);if(re&&!re.isSettled){const oe=Number(re.amount)-(re.paidAmount||0);oe>0&&pe(ce,oe)}},[O,pe]),Se=T.useCallback(async ce=>{if(!e)return;const re=new Date,oe=Number(ce.dueDate);let fe=new Date(re.getFullYear(),re.getMonth(),oe);fe<re&&(fe=Jo(fe,1));const Ie={status:"active",autoPay:!0,nextBillingDate:fe.toISOString(),...ce};await we.addItem(`users/${e.uid}/subscriptions`,Ie)},[e]),je=T.useCallback(async(ce,re)=>{e&&await we.updateItem(`users/${e.uid}/subscriptions`,ce,re)},[e]),Ge=T.useCallback(async ce=>{if(!e)return;const re=U.find(oe=>oe.id===ce);re&&await we.updateItem(`users/${e.uid}/subscriptions`,ce,{status:re.status==="active"?"paused":"active"})},[e,U]),pt=T.useCallback(async ce=>{e&&await we.deleteItem(`users/${e.uid}/subscriptions`,ce)},[e]),Le=T.useCallback(async ce=>{e&&await we.setItem(`users/${e.uid}/financeConfig`,"main",ce,!0)},[e]),ke=30,Pt=T.useCallback(ce=>{if(!ce||!ce.date)return!1;const re=new Date(ce.date),oe=M7(new Date,ke);return Ju(re,oe)},[]),Zn=T.useCallback(async ce=>{if(!e)return;const re={created_at:new Date().toISOString(),is_deleted:!1,...ce};await we.addItem(`users/${e.uid}/debtParties`,re)},[e]),hi=T.useCallback(async(ce,re)=>{e&&await we.updateItem(`users/${e.uid}/debtParties`,ce,re)},[e]),on=T.useCallback(async ce=>{e&&await we.updateItem(`users/${e.uid}/debtParties`,ce,{is_deleted:!0})},[e]),di=T.useCallback(async ce=>{if(!e)return;const re={created_at:new Date().toISOString(),updated_at:new Date().toISOString(),is_deleted:!1,edit_history:[],...ce};await we.addItem(`users/${e.uid}/debtTransactions`,re)},[e]),fi=T.useCallback(async(ce,re)=>{if(!e)return;const oe=V.find(Ie=>Ie.id===ce);if(!oe||Pt(oe))return;const fe={edited_at:new Date().toISOString(),changes:re};await we.updateItem(`users/${e.uid}/debtTransactions`,ce,{...re,updated_at:new Date().toISOString(),edit_history:[...oe.edit_history||[],fe]})},[e,V,Pt]),zs=T.useCallback(async ce=>{if(!e)return;const re=V.find(oe=>oe.id===ce);!re||Pt(re)||await we.updateItem(`users/${e.uid}/debtTransactions`,ce,{is_deleted:!0,updated_at:new Date().toISOString()})},[e,V,Pt]),ds=T.useCallback(async ce=>{if(!e)return;const re=V.find(Ie=>Ie.id===ce);if(!re)return;let oe;switch(re.type){case"you_gave":oe="you_received";break;case"you_received":oe="you_gave";break;case"you_borrowed":oe="you_repaid";break;case"you_repaid":oe="you_borrowed";break;case"adjustment":oe="adjustment";break;case"write_off":oe="adjustment";break;default:oe="adjustment"}const fe={party_id:re.party_id,type:oe,amount:oe==="adjustment"&&re.type==="adjustment"?-Number(re.amount):Number(re.amount),date:new Date().toISOString(),notes:`Reversal of ${re.type} transaction`,is_reversal:!0,reversed_tx_id:re.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),is_deleted:!1,edit_history:[]};await we.addItem(`users/${e.uid}/debtTransactions`,fe)},[e,V]),Bt=T.useCallback(ce=>V.filter(re=>re.party_id===ce&&!re.is_deleted).sort((re,oe)=>new Date(oe.date).getTime()-new Date(re.date).getTime()),[V]),es=T.useCallback(ce=>{const re=Bt(ce);let oe=0;const fe=[...re].sort((Ie,Fe)=>new Date(Ie.date).getTime()-new Date(Fe.date).getTime());for(const Ie of fe){const Fe=Number(Ie.amount);switch(Ie.type){case"you_gave":oe+=Fe;break;case"you_received":oe-=Fe;break;case"you_borrowed":oe-=Fe;break;case"you_repaid":oe+=Fe;break;case"adjustment":oe+=Fe;break;case"write_off":oe=0;break}}return oe},[Bt]),mi=T.useCallback(ce=>V.filter(re=>!re.is_deleted&&re.settlements).reduce((re,oe)=>{const fe=(oe.settlements||[]).find(Ie=>Ie.entry_id===ce);return re+(fe?Number(fe.amount):0)},0),[V]),pi=T.useCallback(ce=>V.filter(oe=>oe.party_id===ce&&!oe.is_deleted).filter(oe=>oe.type==="you_gave"||oe.type==="you_borrowed").sort((oe,fe)=>new Date(oe.date).getTime()-new Date(fe.date).getTime()).map(oe=>{const fe=mi(oe.id),Ie=Number(oe.amount)-fe;return{...oe,settled:fe,remaining:Ie}}).filter(oe=>oe.remaining>0),[V,mi]),fs=T.useCallback(async(ce,re,{settleOldestFirst:oe=!1,selectedEntries:fe=[],txType:Ie,date:Fe,notes:Xe})=>{if(!e)return;let Et=Number(re);if(Et<=0)return;let Tn=[];if(oe){const gt=pi(ce);for(const Hn of gt){if(Et<=0)break;const $s=Math.min(Hn.remaining,Et);Tn.push({entry_id:Hn.id,amount:$s}),Et-=$s}}else for(const gt of fe){if(Et<=0)break;const Hn=V.find(co=>co.id===gt.entry_id);if(!Hn)continue;const $s=mi(gt.entry_id),$c=Number(Hn.amount)-$s,gi=Math.min(Number(gt.amount),$c,Et);gi>0&&(Tn.push({entry_id:gt.entry_id,amount:gi}),Et-=gi)}const lo={party_id:ce,type:Ie||"you_received",amount:Number(re)-Et,date:Fe||new Date().toISOString(),notes:Xe||"Payment",settlements:Tn,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),is_deleted:!1,edit_history:[]};await we.addItem(`users/${e.uid}/debtTransactions`,lo)},[e,pi,V,mi]),ln=T.useCallback(ce=>{if(es(ce)===0)return"cleared";const oe=pi(ce),fe=new Date;return oe.some(Fe=>Fe.due_date&&Ju(new Date(Fe.due_date),fe))?"overdue":"active"},[es,pi]),ts=T.useCallback(()=>d(ce=>ce+50),[]),qt=T.useMemo(()=>({transactions:o,categories:f,accounts:v,savingsGoals:A,debts:O,debtParties:B,debtTransactions:V,subscriptions:U,addTransaction:z,addTransfer:ne,deleteTransaction:Te,editTransaction:Ce,restoreTransaction:xe,checkDuplicate:$e,getAccountBalance:R,getTotalBalance:q,getMonthlySpend:$,getCategorySpend:W,updateCategoryBudget:wn,addCategory:Rn,addDebt:be,addDebtPayment:pe,settleDebt:ae,addSubscription:Se,updateSubscription:je,toggleSubscriptionStatus:Ge,deleteSubscription:pt,updateAccount:ut,toggleArchiveAccount:Be,addRecurringRule:_e,recurringRules:x,getBudgetStats:le,getDailySpend:ye,getWeeklySavings:ue,addDebtParty:Zn,updateDebtParty:hi,softDeleteDebtParty:on,addDebtTransaction:di,editDebtTransaction:fi,softDeleteDebtTransaction:zs,reverseDebtTransaction:ds,getPartyTransactions:Bt,getPartyBalance:es,isEntryLocked:Pt,getEntrySettledAmount:mi,getPendingEntries:pi,addSettlementPayment:fs,getPartyStatus:ln,isLoading:j,loadMoreTransactions:ts,financeConfig:C,updateFinanceConfig:Le}),[o,f,v,A,O,B,V,U,x,j,C,z,ne,Te,Ce,xe,$e,R,q,$,W,wn,Rn,be,pe,ae,Se,je,Ge,pt,ut,Be,_e,le,ye,ue,Zn,hi,on,di,fi,zs,ds,Bt,es,Pt,mi,pi,fs,ln,ts,Le]);return k.jsx(m2.Provider,{value:qt,children:t})},p2=T.createContext(),i$=({children:t})=>{const[e,n]=T.useState(null),s=T.useCallback(o=>{n(o)},[]),r=T.useCallback(()=>{n(null)},[]);return k.jsx(p2.Provider,{value:{error:e,showError:s,clearError:r},children:t})},g2=()=>T.useContext(p2),Mn=t=>t?t.code?{code:t.code,message:t.message||"Firebase error occurred."}:t instanceof Error?{code:"JS_ERROR",message:t.message}:{code:"UNEXPECTED_ERROR",message:"Unexpected error occurred."}:{code:"UNKNOWN_ERROR",message:"An unknown error occurred."},bx={getDashboardStats:async(t,e)=>{if(!sn||!t||!e)return null;try{const n=`users/${t}/ledgerEntries`,s=_c(sn,n),r=Ua(s,Kn("vehicleId","==",e)),l=(await Ku(r,{totalSpend:Gu("amount")})).data().totalSpend||0,h=new Date,d=new Date(h.getFullYear(),h.getMonth(),1).toISOString(),f=Ua(s,Kn("vehicleId","==",e),Kn("date",">=",d)),v=(await Ku(f,{monthSpend:Gu("amount")})).data().monthSpend||0,_=[];for(let O=5;O>=0;O--){const M=new Date(h.getFullYear(),h.getMonth()-O,1),B=new Date(h.getFullYear(),h.getMonth()-O+1,1),F=Ua(s,Kn("vehicleId","==",e),Kn("date",">=",M.toISOString()),Kn("date","<",B.toISOString())),V=await Ku(F,{cost:Gu("amount")});_.push({label:M.toLocaleString("en-US",{month:"short"}),cost:V.data().cost||0})}const A=["fuel","service","emi","insurance"],I={fuel:0,service:0,emi:0,insurance:0};return await Promise.all(A.map(async O=>{const M=Ua(s,Kn("vehicleId","==",e),Kn("type","==",O)),B=await Ku(M,{cost:Gu("amount")});I[O]=B.data().cost||0})),{totalSpend:l,monthSpend:v,trendData:_,breakdown:I}}catch(n){return console.error("Backend compute failed:",n),null}},getLoanSummary:async(t,e,n)=>{if(!sn||!t||!e||!n)return null;try{const s=`users/${t}/ledgerEntries`,r=_c(sn,s),o=Ua(r,Kn("vehicleId","==",e),Kn("type","==","emi")),l=await Ku(o,{totalPaid:Gu("amount"),countPaid:z9()}),h=l.data().totalPaid||0,d=l.data().countPaid||0,f=Number(n.principal||n.totalLoanAmount),g=Number(n.interest_rate||n.interestRate)/12/100,v=Number(n.tenure_months||n.tenureMonths);let _=0,A=0;if(n.interestType==="reducing")_=Math.round(f*g*Math.pow(1+g,v)/(Math.pow(1+g,v)-1)),A=_*v;else{const Y=f*(Number(n.interest_rate||n.interestRate)/100)*(v/12);A=Math.round(f+Y),_=Math.round(A/v)}const I=new Date,O=new Date(n.start_date||n.startDate),M=Math.max(0,(I.getFullYear()-O.getFullYear())*12+(I.getMonth()-O.getMonth())),B=I.getDate(),F=Number(n.dueDateDay||1),V=B>=F?M+1:M,K=d<Math.min(V,v),U=Math.max(0,A-h);return{emi:_,totalPayable:A,totalPaid:h,installmentsPaid:d,remainingBalance:U,isOverdue:K,nextInstallmentDate:new Date(I.getFullYear(),I.getMonth()+(d>M?1:0),n.dueDateDay).toISOString(),status:U<=0?"closed":K?"overdue":"active"}}catch(s){return console.error("Loan backend compute failed:",s),null}}},y2=T.createContext(),r$=[{name:"Oil Change",interval_months:6,interval_km:1e4,interval_type:"both",category:"mandatory"},{name:"Engine Oil Filter",interval_months:6,interval_km:1e4,interval_type:"both",category:"mandatory"},{name:"Air Filter",interval_months:12,interval_km:2e4,interval_type:"both",category:"mandatory"},{name:"Brake Check",interval_months:6,interval_km:1e4,interval_type:"both",category:"mandatory"},{name:"Chain Lubrication",interval_months:1,interval_km:500,interval_type:"both",category:"optional",applicable:["bike","scooter"]},{name:"Coolant Check",interval_months:6,interval_km:1e4,interval_type:"both",category:"mandatory"},{name:"Battery Health",interval_months:12,interval_type:"months",category:"mandatory"},{name:"Tyre Pressure",interval_months:1,interval_type:"months",category:"mandatory"},{name:"Tyre Rotation",interval_months:12,interval_km:1e4,interval_type:"both",category:"optional"},{name:"Wheel Alignment",interval_months:12,interval_km:1e4,interval_type:"both",category:"optional"},{name:"General Service",interval_months:12,interval_km:1e4,interval_type:"both",category:"mandatory"},{name:"Accident Repair",interval_type:"none",category:"optional"},{name:"Accessories Maintenance",interval_months:12,interval_type:"months",category:"optional"},{name:"Insurance Renewal",interval_months:12,interval_type:"months",category:"mandatory"},{name:"Pollution Certificate",interval_months:6,interval_type:"months",category:"mandatory"},{name:"Registration Renewal",interval_months:180,interval_type:"months",category:"mandatory"},{name:"Fitness Certificate",interval_months:12,interval_type:"months",category:"optional",applicable:["commercial"]}],cZ=()=>{const t=T.useContext(y2);if(!t)throw new Error("useVehicle must be used within VehicleContextProvider");return t},a$=({children:t})=>{const{user:e,authIsReady:n}=ui(),{addTransaction:s,categories:r}=n$(),{showError:o}=g2(),[l,h]=T.useState([]),[d,f]=T.useState([]),[g,v]=T.useState([]),[_,A]=T.useState(20),[I,O]=T.useState([]),[M,B]=T.useState(!0),[F,V]=T.useState(null),[K,U]=T.useState(null),[Y,x]=T.useState(null);T.useEffect(()=>{F&&o(F)},[F,o]);const C=T.useMemo(()=>l.find(be=>be.isActive&&!be.isArchived)||null,[l])?.id;T.useEffect(()=>{if(!e||!C){U(null),x(null);return}bx.getDashboardStats(e.uid,C).then(U);const be=I.find(pe=>pe.vehicleId===C&&pe.status!=="closed");be?bx.getLoanSummary(e.uid,C,be).then(x):x(null)},[e,C,g,I]),T.useEffect(()=>{if(!n)return;if(!e){h([]),B(!1);return}B(!0);const be=we.subscribeToCollection(`users/${e.uid}/vehicles`,pe=>{V(null),h(pe),B(!1)},Lh("createdAt","desc"),pe=>{const ae=Mn(pe);console.error(ae),V(ae),B(!1)});return()=>{be()}},[e,n]),T.useEffect(()=>{if(!n||!e)return;if(!C){f([]),v([]),O([]);return}const be=we.subscribeToCollection(`users/${e.uid}/followUps`,Se=>{V(null),f(Se)},Kn("vehicleId","==",C),Se=>{const je=Mn(Se);console.error(je),V(je)}),pe=we.subscribeToCollection(`users/${e.uid}/ledgerEntries`,Se=>{V(null),v(Se)},Kn("vehicleId","==",C),Lh("date","asc"),Cc(_),Se=>{const je=Mn(Se);console.error(je),V(je)}),ae=we.subscribeToCollection(`users/${e.uid}/vehicleLoans`,Se=>{V(null),O(Se)},Kn("vehicleId","==",C),Se=>{const je=Mn(Se);console.error(je),V(je)});return()=>{be(),pe(),ae()}},[e,n,C,_]);const L=T.useCallback(async be=>{try{if(!e?.uid)return;V(null),await we.deleteItem(`users/${e.uid}/vehicles/${be}`)}catch(pe){const ae=Mn(pe);throw console.error("Error deleting vehicle:",ae),V(ae),ae}},[e]),j=T.useCallback(async be=>{try{if(!e)return;V(null);const pe={createdAt:Date.now(),isArchived:!1,isActive:l.length===0,...be},Se=(await we.addItem(`users/${e.uid}/vehicles`,pe)).id,je=r$.filter(Ge=>!Ge.applicable||Ge.applicable.includes(be.type)).filter(Ge=>Ge.interval_type!=="none").map(Ge=>{const pt=new Date;let Le=null;(Ge.interval_type==="months"||Ge.interval_type==="both")&&(Le=Jo(pt,Ge.interval_months).toISOString());let ke=null;return(Ge.interval_type==="km"||Ge.interval_type==="both")&&(ke=(Number(be.odometer)||0)+(Ge.interval_km||0)),{vehicleId:Se,name:Ge.name,interval_type:Ge.interval_type,interval_months:Ge.interval_months||null,interval_km:Ge.interval_km||null,dueDate:Le,dueOdometer:ke,isRecurring:!0,isStandard:!0,status:"pending"}});await Promise.all(je.map(Ge=>we.addItem(`users/${e.uid}/followUps`,Ge)))}catch(pe){const ae=Mn(pe);throw console.error(ae),V(ae),ae}},[e,l]),N=T.useCallback(async(be,pe)=>{try{if(!e)return;V(null),await we.updateItem(`users/${e.uid}/vehicles`,be,pe)}catch(ae){const Se=Mn(ae);throw console.error(Se),V(Se),Se}},[e]),R=T.useCallback(async be=>{try{if(!e)return;V(null);const pe=l.find(Se=>Se.id===be);if(!pe)return;let ae={isArchived:!pe.isArchived};!pe.isArchived&&pe.isActive&&(ae.isActive=!1),await N(be,ae)}catch(pe){const ae=Mn(pe);throw console.error(ae),V(ae),ae}},[e,l,N]),Q=T.useCallback(async be=>{try{if(!e)return;V(null);const pe=l.map(ae=>ae.id===be&&!ae.isActive?we.updateItem(`users/${e.uid}/vehicles`,ae.id,{isActive:!0}):ae.id!==be&&ae.isActive?we.updateItem(`users/${e.uid}/vehicles`,ae.id,{isActive:!1}):Promise.resolve());await Promise.all(pe)}catch(pe){const ae=Mn(pe);throw console.error(ae),V(ae),ae}},[e,l]),q=T.useCallback(()=>l.find(be=>be.isActive&&!be.isArchived),[l]),$=T.useCallback(async be=>{try{if(!e)return;V(null);const pe={status:"pending",...be};await we.addItem(`users/${e.uid}/followUps`,pe)}catch(pe){const ae=Mn(pe);throw console.error(ae),V(ae),ae}},[e]),W=T.useCallback(async be=>{try{if(!e)return;V(null),await we.deleteItem(`users/${e.uid}/followUps`,be)}catch(pe){const ae=Mn(pe);throw console.error(ae),V(ae),ae}},[e]),le=T.useCallback(async(be,pe)=>{try{if(!e)return;V(null);const ae=d.find(Le=>Le.id===be);if(!ae)return;const Se=l.find(Le=>Le.id===ae.vehicleId);let je="other";const Ge=(ae.type||"").toLowerCase();Ge.includes("fuel")?je="fuel":Ge.includes("insurance")?je="insurance":je="service";let pt={vehicleId:ae.vehicleId,followUpId:be,type:je,amount:Number(pe.cost||0),date:pe.date,odometer:Number(pe.odometer||0),notes:`Follow-up completed: ${ae.type}`,attachment:pe.attachment||null};if(pe.cost>0&&pe.accountId){let Le="cat_vehicle";const ke=r.find(Zn=>Zn.name==="Vehicle"||Zn.id==="cat_vehicle");ke?Le=ke.id:Le=r.find(Zn=>Zn.name==="Transport")?.id||r.find(Zn=>Zn.type==="expense")?.id;const Pt={amount:pe.cost,type:"expense",categoryId:Le,accountId:pe.accountId,note:`Vehicle: ${Se?.name} - ${ae.type}`,date:pe.date};await s(Pt),pt.financeTxId=!0}if(await we.addItem(`users/${e.uid}/ledgerEntries`,pt),Number(pe.odometer)>Number(Se?.odometer||0)&&await N(Se.id,{odometer:pe.odometer}),await W(be),ae.isRecurring){const Le={...ae};if(delete Le.id,ae.interval_type==="months"||ae.interval_type==="both"){const ke=new Date(pe.date);Le.dueDate=Jo(ke,ae.interval_months).toISOString()}if(ae.interval_type==="km"||ae.interval_type==="both"){const ke=Number(pe.odometer);Le.dueOdometer=ke+Number(ae.interval_km||0)}await $(Le)}}catch(ae){const Se=Mn(ae);throw console.error(Se),V(Se),Se}},[e,d,l,r,s,N,W,$]),ye=T.useCallback(async be=>{try{if(!e)return;V(null);let pe="other";const ae=(be.type||"").toLowerCase();ae.includes("fuel")?pe="fuel":ae.includes("insurance")?pe="insurance":pe="service";let Se={vehicleId:be.vehicleId,type:pe,amount:Number(be.cost||0),date:be.date,odometer:Number(be.odometer||0),notes:be.notes||be.type,attachment:be.attachment||null};if(be.cost>0&&be.accountId){let Ge=r.find(ke=>ke.name==="Transport")?.id||r.find(ke=>ke.type==="expense")?.id;const pt=l.find(ke=>ke.id===be.vehicleId),Le={amount:be.cost,type:"expense",categoryId:Ge,accountId:be.accountId,note:`Vehicle: ${pt?.name} - ${be.type}`,date:be.date};await s(Le),Se.financeTxId=!0}await we.addItem(`users/${e.uid}/ledgerEntries`,Se);const je=l.find(Ge=>Ge.id===be.vehicleId);je&&Number(be.odometer)>Number(je.odometer||0)&&await N(je.id,{odometer:be.odometer})}catch(pe){const ae=Mn(pe);throw console.error(ae),V(ae),ae}},[e,r,l,s,N]),ue=T.useCallback(async be=>{try{if(!e)return;V(null),await we.deleteItem(`users/${e.uid}/ledgerEntries`,be)}catch(pe){const ae=Mn(pe);throw console.error(ae),V(ae),ae}},[e]),z=T.useCallback(async(be,pe)=>{try{if(!e)return;V(null),await we.updateItem(`users/${e.uid}/ledgerEntries`,be,pe)}catch(ae){const Se=Mn(ae);throw console.error(Se),V(Se),Se}},[e]),ne=T.useCallback((be,pe)=>g.filter(ae=>ae.vehicleId===be&&ae.type===pe).sort((ae,Se)=>new Date(Se.date)-new Date(ae.date))[0],[g]),_e=T.useCallback(async(be,pe)=>{try{if(!e)return;V(null);const ae=d.find(je=>je.vehicleId===be&&(je.name===pe.name||je.type===pe.name)&&je.status!=="completed"),Se=l.find(je=>je.id===be);if(ae)await W(ae.id);else{const je=new Date;let Ge=null;(pe.interval_type==="months"||pe.interval_type==="both")&&(Ge=Jo(je,pe.interval_months).toISOString());let pt=null;Se&&(pe.interval_type==="km"||pe.interval_type==="both")&&(pt=(Number(Se.odometer)||0)+(pe.interval_km||0));const Le={vehicleId:be,name:pe.name,interval_type:pe.interval_type,interval_months:pe.interval_months||null,interval_km:pe.interval_km||null,dueDate:Ge,dueOdometer:pt,isRecurring:!0,isStandard:!0,status:"pending"};await $(Le)}}catch(ae){const Se=Mn(ae);throw console.error(Se),V(Se),Se}},[e,d,l,W,$]),Te=T.useCallback(async be=>{try{if(!e)return;V(null);const pe={status:"active",history:[],remainingPrincipal:Number(be.totalLoanAmount),...be};await we.addItem(`users/${e.uid}/vehicleLoans`,pe)}catch(pe){const ae=Mn(pe);throw console.error(ae),V(ae),ae}},[e]),xe=T.useCallback(async(be,pe)=>{try{if(!e)return;V(null);const ae=I.find(pt=>pt.id===be);if(!ae)return;const Se=l.find(pt=>pt.id===ae.vehicleId);let je=Number(ae.remainingPrincipal)-Number(pe.principal);if(je<0&&(je=0),pe.amount>0&&pe.accountId){let pt="cat_vehicle";const Le=r.find(Pt=>Pt.name==="Vehicle"||Pt.id==="cat_vehicle");Le?pt=Le.id:pt=r.find(Pt=>Pt.name==="Transport")?.id||r.find(Pt=>Pt.type==="expense")?.id;const ke={amount:pe.amount,type:"expense",categoryId:pt,accountId:pe.accountId,note:`Vehicle: ${Se?.name} - Loan EMI (${pe.type}) - ${ae.lender}`,date:pe.date};await s(ke)}let Ge={vehicleId:ae.vehicleId,type:"emi",amount:Number(pe.amount||0),date:pe.date,notes:`EMI Payment - ${ae.lender}`};pe.amount>0&&await we.addItem(`users/${e.uid}/ledgerEntries`,Ge),await we.updateItem(`users/${e.uid}/vehicleLoans`,be,{remainingPrincipal:je,history:[...ae.history||[],pe],status:je<=0?"closed":"active"})}catch(ae){const Se=Mn(ae);throw console.error(Se),V(Se),Se}},[e,I,l,r,s]),Ce=T.useCallback(be=>I.find(pe=>pe.vehicleId===be&&pe.status!=="closed"),[I]),$e=T.useCallback(be=>Y?{status:Y.status,dueDate:Y.nextInstallmentDate,isPastDue:Y.isOverdue,remainingBalance:Y.remainingBalance,totalPaid:Y.totalPaid,installmentsPaid:Y.installmentsPaid,emi:Y.emi,daysLate:Y.isOverdue?Math.floor((new Date-new Date(Y.nextInstallmentDate))/(1e3*60*60*24)):0}:null,[Y]),ut=T.useCallback(be=>{const pe=l.find(Bt=>Bt.id===be);if(!pe)return null;const ae=d.filter(Bt=>Bt.vehicleId===be&&Bt.status!=="completed"),Se=K?.totalSpend||0,je=K?.monthSpend||0,Ge=K?.trendData||[],pt=K?.breakdown||{fuel:0,service:0,emi:0,insurance:0},Le=new Date,ke=new Date(pe.purchaseDate),Pt=Math.max(1,(Le.getFullYear()-ke.getFullYear())*12+(Le.getMonth()-ke.getMonth())),Zn=Math.round(Se/Pt),hi=Number(pe.odometer)||0,on=hi>0?(Se/hi).toFixed(2):0,fi=ae.filter(Bt=>{let es=!1;return(Bt.frequencyType==="date"||Bt.frequencyType==="both")&&Bt.dueDate&&new Date(Bt.dueDate)<Le&&(es=!0),(Bt.frequencyType==="odometer"||Bt.frequencyType==="both")&&Bt.dueOdometer&&hi>=Number(Bt.dueOdometer)&&(es=!0),es}).length;let zs=100-fi*10;zs<0&&(zs=0);const ds=g.sort((Bt,es)=>new Date(es.date)-new Date(Bt.date))[0];return{totalSpend:Se,monthSpend:je,costPerMonth:Zn,costPerKm:on,breakdown:pt,trendData:Ge,overdueCount:fi,healthScore:zs,lastServiceDate:ds?.date,lastServiceType:ds?.notes||"Service"}},[l,d,K,g]),Be=T.useCallback(be=>{const pe=l.find(ke=>ke.id===be);if(!pe)return[];const ae=[],Se=Ce(be);if(Se){const ke=$e(Se.id);ke&&ke.isPastDue?ae.push({type:"critical",title:`EMI Overdue by ${ke.daysLate} days`,detail:"Immediate payment required to avoid penalties."}):ke&&ke.status==="active"&&ae.push({type:"info",title:`Interest Remaining: ${ke.interestBalance.toLocaleString()}`,detail:`${Se.interestType==="reducing"?"Reducing Balance":"Flat Rate"} Interest`})}const je=d.filter(ke=>ke.vehicleId===be&&ke.status!=="completed"),Ge=je.find(ke=>(ke.name||ke.type||"").toLowerCase().includes("insurance"));if(Ge){const ke=Ge.dueDate?Math.ceil((new Date(Ge.dueDate)-new Date)/864e5):999;ke<0?ae.push({type:"critical",title:"Insurance Expired",detail:` expired ${Math.abs(ke)} days ago. Do not drive.`}):ke<=15&&ae.push({type:"warning",title:"Insurance Expiring Soon",detail:`Renew within ${ke} days.`})}const pt=je.find(ke=>(ke.name||ke.type||"").toLowerCase().includes("oil"));if(pt&&pt.dueOdometer&&Number(pe.odometer)>=Number(pt.dueOdometer)){const ke=Number(pe.odometer)-Number(pt.dueOdometer);ae.push({type:"warning",title:`Oil Change Overdue by ${ke} km`,detail:"Engine health at risk."})}const Le=ut(be);return Le&&(ae.push({type:"info",title:`Monthly Cost: ${Le.costPerMonth.toLocaleString()}`,detail:"Average cost of ownership per month."}),Le.monthSpend>Le.costPerMonth*1.5&&Le.monthSpend>2e3&&ae.push({type:"warning",title:"Rising Monthly Cost",detail:`This month's spend (${Le.monthSpend}) is 50% higher than average.`})),ae},[l,d,Ce,$e,ut]),wn=T.useCallback(()=>A(be=>be+20),[]),Rn=T.useMemo(()=>({vehicles:l,followUps:d,serviceRecords:g,addVehicle:j,updateVehicle:N,toggleArchiveVehicle:R,setVehicleActive:Q,getActiveVehicle:q,addFollowUp:$,deleteFollowUp:W,completeFollowUp:le,addServiceRecord:ye,getVehicleStats:ut,getLatestRecord:ne,toggleMaintenanceItem:_e,loans:I,addLoan:Te,payEMI:xe,getLoanForVehicle:Ce,getLoanDetailedStatus:$e,getVehicleRisks:Be,deleteVehicle:L,deleteServiceRecord:ue,updateServiceRecord:z,error:F,isLoading:M,loadMoreServiceRecords:wn}),[l,d,g,I,M,j,N,R,Q,q,L,$,W,le,ye,ue,z,ut,ne,_e,Te,xe,Ce,$e,Be,wn]);return k.jsx(y2.Provider,{value:Rn,children:t})},ip="AIzaSyAFLf5FxuXFw21D1Kxkq9cPQ59oGPSJbGg",v2="https://maps.googleapis.com/maps/api/geocode/json",o$=async(t,e)=>{try{const n=`${v2}?latlng=${t},${e}&key=${ip}`,s=await fetch(n);if(!s.ok)throw new Error("Failed to fetch location details");const r=await s.json();if(r.status!=="OK"||!r.results||r.results.length===0)throw new Error(`Geocoding failed: ${r.status}`);const o=r.results[0].address_components;let l="",h="",d="",f="";for(let _=0;_<o.length;_++){const A=o[_].types;(A.includes("sublocality")||A.includes("neighborhood"))&&(f=o[_].long_name),(A.includes("locality")||!l&&A.includes("administrative_area_level_2"))&&(l=o[_].long_name),A.includes("administrative_area_level_1")&&(h=o[_].long_name),A.includes("country")&&(d=o[_].long_name)}const g=f||l||h||"Unknown",v=[g,h,d].filter(Boolean).filter((_,A,I)=>A===0||_!==I[A-1]).join(", ");return{city:g,state:h,country:d,displayName:v,raw:r.results[0]}}catch(n){throw console.error("Reverse geocoding error:",n),n}},l$=async t=>{if(!t||t.trim().length<3)return[];try{const e=`${v2}?address=${encodeURIComponent(t)}&key=${ip}`,n=await fetch(e);if(!n.ok)throw new Error("Search failed");const s=await n.json();return s.status!=="OK"||!s.results?[]:s.results.map(r=>{let o="",l="",h="";const d=r.address_components||[];for(let v=0;v<d.length;v++){const _=d[v].types;(_.includes("locality")||!o&&_.includes("administrative_area_level_2"))&&(o=d[v].long_name),_.includes("administrative_area_level_1")&&(l=d[v].long_name),_.includes("country")&&(h=d[v].long_name)}const f=r.address_components?.find(v=>v.types.includes("sublocality")||v.types.includes("neighborhood")||v.types.includes("point_of_interest"))?.long_name||o||r.formatted_address.split(",")[0]||"",g=r.formatted_address||[f,l,h].filter(Boolean).join(", ");return{lat:r.geometry.location.lat,lng:r.geometry.location.lng,displayName:g,city:f,state:l,country:h}})}catch(e){throw console.error("Location search error:",e),e}},Uh={Shafi:"shafi",Hanafi:"hanafi"};function c$(t){switch(t){case Uh.Shafi:return 1;case Uh.Hanafi:return 2;default:throw"Invalid Madhab"}}const Qf={MiddleOfTheNight:"middleofthenight",SeventhOfTheNight:"seventhofthenight",TwilightAngle:"twilightangle"};class _2{constructor(e,n){this.latitude=e,this.longitude=n}}const bh={Nearest:"nearest",Up:"up",None:"none"};function jh(t,e){const n=t.getFullYear(),s=t.getMonth(),r=t.getDate()+e,o=t.getHours(),l=t.getMinutes(),h=t.getSeconds();return new Date(n,s,r,o,l,h)}function Vo(t,e){return Ba(t,e*60)}function Ba(t,e){return new Date(t.getTime()+e*1e3)}function Uo(t,e=bh.Nearest){const n=t.getUTCSeconds();let s=n>=30?60-n:-1*n;return e===bh.Up?s=60-n:e===bh.None&&(s=0),Ba(t,s)}function wx(t){let e=0;const s=[31,Rt.isLeapYear(t.getFullYear())?29:28,31,30,31,30,31,31,30,31,30,31];for(let r=0;r<t.getMonth();r++)e+=s[r];return e+=t.getDate(),e}function Tx(t){return t instanceof Date&&!isNaN(t.valueOf())}function Ot(t){return t*Math.PI/180}function Fh(t){return t*180/Math.PI}function b2(t,e){return t-e*Math.floor(t/e)}function Ls(t){return b2(t,360)}function u$(t){return t>=-180&&t<=180?t:t-360*Math.round(t/360)}const L_={General:"general",Ahmer:"ahmer",Abyad:"abyad"},Rt={meanSolarLongitude(t){const e=t,n=280.4664567,s=36000.76983*e,r=3032e-7*Math.pow(e,2),o=n+s+r;return Ls(o)},meanLunarLongitude(t){const e=t,n=218.3165,s=481267.8813*e,r=n+s;return Ls(r)},ascendingLunarNodeLongitude(t){const e=t,n=125.04452,s=1934.136261*e,r=.0020708*Math.pow(e,2),o=Math.pow(e,3)/45e4,l=n-s+r+o;return Ls(l)},meanSolarAnomaly(t){const e=t,n=357.52911,s=35999.05029*e,r=1537e-7*Math.pow(e,2),o=n+s-r;return Ls(o)},solarEquationOfTheCenter(t,e){const n=t,s=Ot(e),r=(1.914602-.004817*n-14e-6*Math.pow(n,2))*Math.sin(s),o=(.019993-101e-6*n)*Math.sin(2*s),l=289e-6*Math.sin(3*s);return r+o+l},apparentSolarLongitude(t,e){const n=t,r=e+Rt.solarEquationOfTheCenter(n,Rt.meanSolarAnomaly(n)),o=125.04-1934.136*n,l=r-.00569-.00478*Math.sin(Ot(o));return Ls(l)},meanObliquityOfTheEcliptic(t){const e=t,n=23.439291,s=.013004167*e,r=1639e-10*Math.pow(e,2),o=5036e-10*Math.pow(e,3);return n-s-r+o},apparentObliquityOfTheEcliptic(t,e){const n=t,s=e,r=125.04-1934.136*n;return s+.00256*Math.cos(Ot(r))},meanSiderealTime(t){const e=t,n=e*36525+2451545,s=280.46061837,r=360.98564736629*(n-2451545),o=387933e-9*Math.pow(e,2),l=Math.pow(e,3)/3871e4,h=s+r+o-l;return Ls(h)},nutationInLongitude(t,e,n,s){const r=e,o=n,l=s,h=-17.2/3600*Math.sin(Ot(l)),d=1.32/3600*Math.sin(2*Ot(r)),f=.23/3600*Math.sin(2*Ot(o)),g=.21/3600*Math.sin(2*Ot(l));return h-d-f+g},nutationInObliquity(t,e,n,s){const r=e,o=n,l=s,h=9.2/3600*Math.cos(Ot(l)),d=.57/3600*Math.cos(2*Ot(r)),f=.1/3600*Math.cos(2*Ot(o)),g=.09/3600*Math.cos(2*Ot(l));return h+d+f-g},altitudeOfCelestialBody(t,e,n){const s=t,r=e,o=n,l=Math.sin(Ot(s))*Math.sin(Ot(r)),h=Math.cos(Ot(s))*Math.cos(Ot(r))*Math.cos(Ot(o));return Fh(Math.asin(l+h))},approximateTransit(t,e,n){const s=t,r=e,o=n,l=s*-1;return b2((o+l-r)/360,1)},correctedTransit(t,e,n,s,r,o){const l=t,h=e,d=n,f=s,g=r,v=o,_=h*-1,A=Ls(d+360.985647*l),I=Ls(Rt.interpolateAngles(f,g,v,l)),M=u$(A-_-I)/-360;return(l+M)*24},correctedHourAngle(t,e,n,s,r,o,l,h,d,f,g){const v=t,_=e,A=r,I=o,O=l,M=h,B=d,F=f,V=g,K=n.longitude*-1,U=Math.sin(Ot(_))-Math.sin(Ot(n.latitude))*Math.sin(Ot(B)),Y=Math.cos(Ot(n.latitude))*Math.cos(Ot(B)),x=Fh(Math.acos(U/Y)),S=s?v+x/360:v-x/360,C=Ls(A+360.985647*S),L=Ls(Rt.interpolateAngles(I,O,M,S)),j=Rt.interpolate(B,F,V,S),N=C-K-L,Q=Rt.altitudeOfCelestialBody(n.latitude,j,N)-_,q=360*Math.cos(Ot(j))*Math.cos(Ot(n.latitude))*Math.sin(Ot(N)),$=Q/q;return(S+$)*24},interpolate(t,e,n,s){const r=t-e,o=n-t,l=o-r;return t+s/2*(r+o+s*l)},interpolateAngles(t,e,n,s){const r=Ls(t-e),o=Ls(n-t),l=o-r;return t+s/2*(r+o+s*l)},julianDay(t,e,n,s=0){const r=Math.trunc,o=r(e>2?t:t-1),l=r(e>2?e:e+12),h=n+s/24,d=r(o/100),f=r(2-d+r(d/4)),g=r(365.25*(o+4716)),v=r(30.6001*(l+1));return g+v+h+f-1524.5},julianCentury(t){return(t-2451545)/36525},isLeapYear(t){return!(t%4!==0||t%100===0&&t%400!==0)},seasonAdjustedMorningTwilight(t,e,n,s){const r=75+.5209090909090909*Math.abs(t),o=75+19.44/55*Math.abs(t),l=75+32.74/55*Math.abs(t),h=75+48.1/55*Math.abs(t),d=(function(){const f=Rt.daysSinceSolstice(e,n,t);return f<91?r+(o-r)/91*f:f<137?o+(l-o)/46*(f-91):f<183?l+(h-l)/46*(f-137):f<229?h+(l-h)/46*(f-183):f<275?l+(o-l)/46*(f-229):o+(r-o)/91*(f-275)})();return Ba(s,Math.round(d*-60))},seasonAdjustedEveningTwilight(t,e,n,s,r){let o,l,h,d;r===L_.Ahmer?(o=62+17.4/55*Math.abs(t),l=62-7.16/55*Math.abs(t),h=62+5.12/55*Math.abs(t),d=62+19.44/55*Math.abs(t)):r===L_.Abyad?(o=75+25.6/55*Math.abs(t),l=75+7.16/55*Math.abs(t),h=75+36.84/55*Math.abs(t),d=75+81.84/55*Math.abs(t)):(o=75+25.6/55*Math.abs(t),l=75+2.05/55*Math.abs(t),h=75-9.21/55*Math.abs(t),d=75+6.14/55*Math.abs(t));const f=(function(){const g=Rt.daysSinceSolstice(e,n,t);return g<91?o+(l-o)/91*g:g<137?l+(h-l)/46*(g-91):g<183?h+(d-h)/46*(g-137):g<229?d+(h-d)/46*(g-183):g<275?h+(l-h)/46*(g-229):l+(o-l)/91*(g-275)})();return Ba(s,Math.round(f*60))},daysSinceSolstice(t,e,n){let s=0;const r=10,o=Rt.isLeapYear(e)?173:172,l=Rt.isLeapYear(e)?366:365;return n>=0?(s=t+r,s>=l&&(s=s-l)):(s=t-o,s<0&&(s=s+l)),s}};class Dv{constructor(e){const n=Rt.julianCentury(e),s=Rt.meanSolarLongitude(n),r=Rt.meanLunarLongitude(n),o=Rt.ascendingLunarNodeLongitude(n),l=Ot(Rt.apparentSolarLongitude(n,s)),h=Rt.meanSiderealTime(n),d=Rt.nutationInLongitude(n,s,r,o),f=Rt.nutationInObliquity(n,s,r,o),g=Rt.meanObliquityOfTheEcliptic(n),v=Ot(Rt.apparentObliquityOfTheEcliptic(n,g));this.declination=Fh(Math.asin(Math.sin(v)*Math.sin(l))),this.rightAscension=Ls(Fh(Math.atan2(Math.cos(v)*Math.sin(l),Math.cos(l)))),this.apparentSiderealTime=h+d*3600*Math.cos(Ot(g+f))/3600}}class eo{constructor(e,n){const s=Rt.julianDay(e.getFullYear(),e.getMonth()+1,e.getDate(),0);this.observer=n,this.solar=new Dv(s),this.prevSolar=new Dv(s-1),this.nextSolar=new Dv(s+1);const r=Rt.approximateTransit(n.longitude,this.solar.apparentSiderealTime,this.solar.rightAscension),o=-50/60;this.approxTransit=r,this.transit=Rt.correctedTransit(r,n.longitude,this.solar.apparentSiderealTime,this.solar.rightAscension,this.prevSolar.rightAscension,this.nextSolar.rightAscension),this.sunrise=Rt.correctedHourAngle(r,o,n,!1,this.solar.apparentSiderealTime,this.solar.rightAscension,this.prevSolar.rightAscension,this.nextSolar.rightAscension,this.solar.declination,this.prevSolar.declination,this.nextSolar.declination),this.sunset=Rt.correctedHourAngle(r,o,n,!0,this.solar.apparentSiderealTime,this.solar.rightAscension,this.prevSolar.rightAscension,this.nextSolar.rightAscension,this.solar.declination,this.prevSolar.declination,this.nextSolar.declination)}hourAngle(e,n){return Rt.correctedHourAngle(this.approxTransit,e,this.observer,n,this.solar.apparentSiderealTime,this.solar.rightAscension,this.prevSolar.rightAscension,this.nextSolar.rightAscension,this.solar.declination,this.prevSolar.declination,this.nextSolar.declination)}afternoon(e){const n=Math.abs(this.observer.latitude-this.solar.declination),s=e+Math.tan(Ot(n)),r=Fh(Math.atan(1/s));return this.hourAngle(r,!0)}}const rp={AqrabBalad:"AqrabBalad",AqrabYaum:"AqrabYaum",Unresolved:"Unresolved"},w2=.5,h$=65,ap=t=>!isNaN(t.sunrise)&&!isNaN(t.sunset),T2=(t,e,n=1,s=1)=>{if(n>Math.ceil(365/2))return null;const r=new Date(e.getTime());r.setDate(r.getDate()+s*n);const o=jh(r,1),l=new eo(r,t),h=new eo(o,t);return!ap(l)||!ap(h)?T2(t,e,n+(s>0?0:1),-s):{date:e,tomorrow:o,coordinates:t,solarTime:l,tomorrowSolarTime:h}},E2=(t,e,n)=>{const s=new eo(e,{...t,latitude:n}),r=jh(e,1),o=new eo(r,{...t,latitude:n});return!ap(s)||!ap(o)?Math.abs(n)>=h$?E2(t,e,n-Math.sign(n)*w2):null:{date:e,tomorrow:r,coordinates:new _2(n,t.longitude),solarTime:s,tomorrowSolarTime:o}},d$=(t,e,n)=>{const s={date:e,tomorrow:jh(e,1),coordinates:n,solarTime:new eo(e,n),tomorrowSolarTime:new eo(jh(e,1),n)};switch(t){case rp.AqrabYaum:return T2(n,e)||s;case rp.AqrabBalad:{const{latitude:r}=n;return E2(n,e,r-Math.sign(r)*w2)||s}default:return s}};class Ps{madhab=Uh.Shafi;highLatitudeRule=Qf.MiddleOfTheNight;adjustments={fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0};methodAdjustments={fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0};polarCircleResolution=rp.Unresolved;rounding=bh.Nearest;shafaq=L_.General;constructor(e,n=0,s=0,r=0,o=0){this.method=e,this.fajrAngle=n,this.ishaAngle=s,this.ishaInterval=r,this.maghribAngle=o,this.method===null&&(this.method="Other")}nightPortions(){switch(this.highLatitudeRule){case Qf.MiddleOfTheNight:return{fajr:1/2,isha:1/2};case Qf.SeventhOfTheNight:return{fajr:1/7,isha:1/7};case Qf.TwilightAngle:return{fajr:this.fajrAngle/60,isha:this.ishaAngle/60};default:throw`Invalid high latitude rule found when attempting to compute night portions: ${this.highLatitudeRule}`}}}const Mv={MuslimWorldLeague(){const t=new Ps("MuslimWorldLeague",18,17);return t.methodAdjustments.dhuhr=1,t},Egyptian(){const t=new Ps("Egyptian",19.5,17.5);return t.methodAdjustments.dhuhr=1,t},Karachi(){const t=new Ps("Karachi",18,18);return t.methodAdjustments.dhuhr=1,t},UmmAlQura(){return new Ps("UmmAlQura",18.5,0,90)},Dubai(){const t=new Ps("Dubai",18.2,18.2);return t.methodAdjustments={...t.methodAdjustments,sunrise:-3,dhuhr:3,asr:3,maghrib:3},t},MoonsightingCommittee(){const t=new Ps("MoonsightingCommittee",18,18);return t.methodAdjustments={...t.methodAdjustments,dhuhr:5,maghrib:3},t},NorthAmerica(){const t=new Ps("NorthAmerica",15,15);return t.methodAdjustments.dhuhr=1,t},Kuwait(){return new Ps("Kuwait",18,17.5)},Qatar(){return new Ps("Qatar",18,0,90)},Singapore(){const t=new Ps("Singapore",20,18);return t.methodAdjustments.dhuhr=1,t.rounding=bh.Up,t},Tehran(){return new Ps("Tehran",17.7,14,0,4.5)},Turkey(){const t=new Ps("Turkey",18,17);return t.methodAdjustments={...t.methodAdjustments,sunrise:-7,dhuhr:5,asr:4,maghrib:7},t},Other(){return new Ps("Other",0,0)}},gn={Fajr:"fajr",Sunrise:"sunrise",Dhuhr:"dhuhr",Asr:"asr",Maghrib:"maghrib",Isha:"isha",None:"none"};class Ci{constructor(e){return this.hours=Math.floor(e),this.minutes=Math.floor((e-this.hours)*60),this.seconds=Math.floor((e-(this.hours+this.minutes/60))*60*60),this}utcDate(e,n,s){return new Date(Date.UTC(e,n,s,this.hours,this.minutes,this.seconds))}}class f${constructor(e,n,s){this.coordinates=e,this.date=n,this.calculationParameters=s;let r=new eo(n,e),o,l,h,d,f,g,v,_;h=new Ci(r.transit).utcDate(n.getFullYear(),n.getMonth(),n.getDate()),l=new Ci(r.sunrise).utcDate(n.getFullYear(),n.getMonth(),n.getDate()),f=new Ci(r.sunset).utcDate(n.getFullYear(),n.getMonth(),n.getDate());const A=jh(n,1);let I=new eo(A,e);const O=s.polarCircleResolution;if((!Tx(l)||!Tx(f)||isNaN(I.sunrise))&&O!==rp.Unresolved){const C=d$(O,n,e);r=C.solarTime,I=C.tomorrowSolarTime;const L=[n.getFullYear(),n.getMonth(),n.getDate()];h=new Ci(r.transit).utcDate(...L),l=new Ci(r.sunrise).utcDate(...L),f=new Ci(r.sunset).utcDate(...L)}d=new Ci(r.afternoon(c$(s.madhab))).utcDate(n.getFullYear(),n.getMonth(),n.getDate());const M=new Ci(I.sunrise).utcDate(A.getFullYear(),A.getMonth(),A.getDate()),B=(Number(M)-Number(f))/1e3;o=new Ci(r.hourAngle(-1*s.fajrAngle,!1)).utcDate(n.getFullYear(),n.getMonth(),n.getDate()),s.method==="MoonsightingCommittee"&&e.latitude>=55&&(_=B/7,o=Ba(l,-_));const F=(function(){return s.method==="MoonsightingCommittee"?Rt.seasonAdjustedMorningTwilight(e.latitude,wx(n),n.getFullYear(),l):(_=s.nightPortions().fajr*B,Ba(l,-_))})();if((isNaN(o.getTime())||F>o)&&(o=F),s.ishaInterval>0)v=Vo(f,s.ishaInterval);else{v=new Ci(r.hourAngle(-1*s.ishaAngle,!0)).utcDate(n.getFullYear(),n.getMonth(),n.getDate()),s.method==="MoonsightingCommittee"&&e.latitude>=55&&(_=B/7,v=Ba(f,_));const C=(function(){return s.method==="MoonsightingCommittee"?Rt.seasonAdjustedEveningTwilight(e.latitude,wx(n),n.getFullYear(),f,s.shafaq):(_=s.nightPortions().isha*B,Ba(f,_))})();(isNaN(v.getTime())||C<v)&&(v=C)}if(g=f,s.maghribAngle){const C=new Ci(r.hourAngle(-1*s.maghribAngle,!0)).utcDate(n.getFullYear(),n.getMonth(),n.getDate());f<C&&v>C&&(g=C)}const V=(s.adjustments.fajr||0)+(s.methodAdjustments.fajr||0),K=(s.adjustments.sunrise||0)+(s.methodAdjustments.sunrise||0),U=(s.adjustments.dhuhr||0)+(s.methodAdjustments.dhuhr||0),Y=(s.adjustments.asr||0)+(s.methodAdjustments.asr||0),x=(s.adjustments.maghrib||0)+(s.methodAdjustments.maghrib||0),S=(s.adjustments.isha||0)+(s.methodAdjustments.isha||0);this.fajr=Uo(Vo(o,V),s.rounding),this.sunrise=Uo(Vo(l,K),s.rounding),this.dhuhr=Uo(Vo(h,U),s.rounding),this.asr=Uo(Vo(d,Y),s.rounding),this.sunset=Uo(f,s.rounding),this.maghrib=Uo(Vo(g,x),s.rounding),this.isha=Uo(Vo(v,S),s.rounding)}timeForPrayer(e){return e===gn.Fajr?this.fajr:e===gn.Sunrise?this.sunrise:e===gn.Dhuhr?this.dhuhr:e===gn.Asr?this.asr:e===gn.Maghrib?this.maghrib:e===gn.Isha?this.isha:null}currentPrayer(e=new Date){return e>=this.isha?gn.Isha:e>=this.maghrib?gn.Maghrib:e>=this.asr?gn.Asr:e>=this.dhuhr?gn.Dhuhr:e>=this.sunrise?gn.Sunrise:e>=this.fajr?gn.Fajr:gn.None}nextPrayer(e=new Date){return e>=this.isha?gn.None:e>=this.maghrib?gn.Isha:e>=this.asr?gn.Maghrib:e>=this.dhuhr?gn.Asr:e>=this.sunrise?gn.Dhuhr:e>=this.fajr?gn.Sunrise:gn.Fajr}}const S2=T.createContext(),m$=()=>T.useContext(S2),Zu={lat:12.9716,lng:77.5946,isFallback:!0},eh="awake_prayer_location",Ex="awake_prayer_loc_details",Sx="awake_prayer_settings",Xf="awake_prayer_daily";function p$(t,e,n,s){if(!t||!e||!n||!s)return Number.MAX_VALUE;const r=6371,o=(n-t)*Math.PI/180,l=(s-e)*Math.PI/180,h=Math.sin(o/2)*Math.sin(o/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2),d=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h));return r*d}const g$=({children:t})=>{const[e,n]=T.useState(()=>{const K=localStorage.getItem(eh);return K?JSON.parse(K):null}),[s,r]=T.useState(()=>{const K=localStorage.getItem(Sx);return K?JSON.parse(K):{method:2,madhab:0,hijriOffset:0,manualOverride:!1}}),[o,l]=T.useState(()=>{const K=localStorage.getItem(Ex);return K?JSON.parse(K):{city:"",state:"",country:"",displayName:"Detecting..."}}),[h,d]=T.useState({dailyTimings:null,hijriDate:null,timezone:"Asia/Kolkata"}),[f,g]=T.useState(!0),[v,_]=T.useState(null),A=T.useRef(null),I=T.useRef(null),O=T.useRef(!1);T.useEffect(()=>{localStorage.setItem(Sx,JSON.stringify(s))},[s]),T.useEffect(()=>{localStorage.setItem(Ex,JSON.stringify(o))},[o]),T.useEffect(()=>{e&&!e.isFallback&&localStorage.setItem(eh,JSON.stringify(e))},[e]),T.useEffect(()=>{if(!navigator.geolocation){e||n(Zu);return}const K=x=>{const{latitude:S,longitude:C}=x.coords;n(L=>!L||L.isFallback?(localStorage.removeItem(eh),{lat:S,lng:C,isManual:!1}):p$(L.lat,L.lng,S,C)>2?{lat:S,lng:C,isManual:!1}:L)},U=x=>{console.warn("GPS Denied or Error:",x),e||n(Zu)};A.current=navigator.geolocation.watchPosition(K,U,{enableHighAccuracy:!1,maximumAge:6e4,timeout:2e4});const Y=setTimeout(()=>{n(x=>x||Zu)},3e3);return()=>{clearTimeout(Y),A.current&&navigator.geolocation.clearWatch(A.current)}},[]),T.useEffect(()=>{if(!e)return;const K=new AbortController,U=async()=>{if(!O.current){O.current=!0,g(!0);try{try{const le=await o$(e.lat,e.lng);K.signal.aborted||l(le)}catch(le){console.warn("Geocoding failed, using fallback display:",le)}let x=s.method||"MuslimWorldLeague",S=s.madhab||0,C=s.hijriOffset??0,L=Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Kolkata";const j=new Date,N=j.getFullYear(),R=j.getMonth()+1,Q=j.getDate(),q=`${N}-${String(R).padStart(2,"0")}-${String(Q).padStart(2,"0")}`,$=`${Xf}_${q}_${e.lat.toFixed(2)}_${e.lng.toFixed(2)}_${x}_${S}_${C}`,W=localStorage.getItem($);if(W){K.signal.aborted||(d(JSON.parse(W)),g(!1),O.current=!1,_(null));return}try{const le=new _2(e.lat,e.lng);let ye;if(typeof x=="string"&&typeof Mv[x]=="function")ye=Mv[x]();else{const je={1:"Karachi",2:"NorthAmerica",3:"MuslimWorldLeague",4:"UmmAlQura",5:"Egyptian",8:"Qatar",11:"Singapore",17:"Other",20:"Other"}[x]||"MuslimWorldLeague";ye=Mv[je]()}ye.madhab=S===1?Uh.Hanafi:Uh.Shafi;const ue=new f$(le,j,ye),z=Se=>Se?Se.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}):null,ne={Fajr:z(ue.fajr),Sunrise:z(ue.sunrise),Dhuhr:z(ue.dhuhr),Asr:z(ue.asr),Maghrib:z(ue.maghrib),Isha:z(ue.isha)},_e=new Date(j);C!==0&&_e.setDate(_e.getDate()+C);const Te=new Intl.DateTimeFormat("en-US-u-ca-islamic-umalqura",{day:"numeric",month:"numeric",year:"numeric"}),xe=new Intl.DateTimeFormat("en-US-u-ca-islamic-umalqura",{month:"long"}),Ce=Te.formatToParts(_e),$e=xe.formatToParts(_e),ut=(Se,je)=>Se.find(Ge=>Ge.type===je)?.value,Be=parseInt(ut(Ce,"day"),10)||1,wn=parseInt(ut(Ce,"month"),10)||1,Rn=parseInt(ut(Ce,"year"),10)||1445,be=ut($e,"month")||"Muharram",ae={dailyTimings:ne,hijriDate:{day:Be,month:wn,monthName:be,year:Rn,isRamadan:wn===9},serverTodayKey:q,timezone:L};K.signal.aborted||(Object.keys(localStorage).forEach(Se=>{Se.startsWith(Xf)&&localStorage.removeItem(Se)}),localStorage.setItem($,JSON.stringify(ae)),d(ae),_(null))}catch(le){K.signal.aborted||(console.error("Local Adhan API calculation failed:",le),_("Timings unavailable. Please check your settings."))}}catch(x){K.signal.aborted||(console.error("Prayer/Location Engine Error:",x),_("An error occurred loading settings."))}finally{K.signal.aborted||(g(!1),O.current=!1)}}},Y=O.current?3e4:h.dailyTimings?100:1e3;return I.current=setTimeout(U,Y),()=>{K.abort(),clearTimeout(I.current),O.current=!1}},[e?.lat,e?.lng,s.method,s.madhab,s.hijriOffset]);const M=()=>new Promise(K=>{if(!navigator.geolocation){console.warn("Geolocation not supported. Falling back."),K(e||Zu);return}navigator.geolocation.getCurrentPosition(U=>{const{latitude:Y,longitude:x}=U.coords;localStorage.removeItem(eh);const S={lat:Y,lng:x,isManual:!1};n(S),K(S)},U=>{console.warn("GPS request failed or denied:",U),K(e||Zu)},{timeout:1e4,enableHighAccuracy:!0})}),B=(K,U)=>{localStorage.removeItem(eh),Object.keys(localStorage).forEach(Y=>{Y.startsWith(Xf)&&localStorage.removeItem(Y)}),n({lat:parseFloat(K),lng:parseFloat(U),isManual:!0})},F=K=>{Object.keys(localStorage).forEach(U=>{U.startsWith(Xf)&&localStorage.removeItem(U)}),r(U=>({...U,...K,manualOverride:!0}))},V={latitude:e?.lat,longitude:e?.lng,...o,timezone:h.timezone,calculationMethod:s.method,madhab:s.madhab,hijriOffset:s.hijriOffset??0,dailyTimings:h.dailyTimings,hijriDate:h.hijriDate,serverTodayKey:h.serverTodayKey,loading:f,error:v,requestLocation:M,updateManualLocation:B,updateSettings:F,searchLocation:l$};return k.jsx(S2.Provider,{value:V,children:t})},A2=T.createContext(),uZ=()=>T.useContext(A2),y$=({children:t})=>{const{user:e}=ui(),{hijriDate:n,loading:s,error:r}=m$(),[o,l]=T.useState(null),[h,d]=T.useState(!0),[f,g]=T.useState(null);T.useEffect(()=>{if(!e||!n?.year){d(s),r&&g(r);return}const M=String(n.year),B=`users/${e.uid}/ramadan`;d(!0);const F=we.subscribeToDocument(B,M,V=>{l(V||{id:M,hijriYear:M,days:{}}),d(!1)});return()=>F()},[e,n?.year,s,r]);const O={ramadanData:o,loading:h,error:f,updateRamadanDay:async(M,B)=>{if(!e||!n?.year)return;const F=String(n.year),V=`users/${e.uid}/ramadan`;l(U=>{if(!U)return U;const Y=U.days?.[M]||{};return{...U,days:{...U.days,[M]:{...Y,...B}}}});const K={hijriYear:F,days:{[M]:B}};try{await we.setItem(V,F,K,!0)}catch(U){console.error("Failed to update Ramadan day:",U)}},updateQuranGoal:async M=>{if(!e||!n?.year)return;const B=String(n.year),F=`users/${e.uid}/ramadan`;try{await we.setItem(F,B,{quranGoal:M},!0)}catch(V){console.error("Failed to update Quran goal:",V)}},updateCustomPrayers:async M=>{if(!e||!n?.year)return;const B=String(n.year),F=`users/${e.uid}/ramadan`;try{await we.setItem(F,B,{customPrayers:M},!0)}catch(V){console.error("Failed to update custom prayers:",V)}},updateCustomDhikr:async M=>{if(!e||!n?.year)return;const B=String(n.year),F=`users/${e.uid}/ramadan`;try{await we.setItem(F,B,{customDhikr:M},!0)}catch(V){console.error("Failed to update custom dhikr:",V)}},hijriDate:n};return k.jsx(A2.Provider,{value:O,children:t})},Mb=T.createContext({});function Ob(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const x2=typeof window<"u",C2=x2?T.useLayoutEffect:T.useEffect,Xp=T.createContext(null);function Nb(t,e){t.indexOf(e)===-1&&t.push(e)}function Pb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const dr=(t,e,n)=>n>e?e:n<t?t:n;let Lb=()=>{};const qr={},R2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function k2(t){return typeof t=="object"&&t!==null}const I2=t=>/^0[^.\s]+$/u.test(t);function Vb(t){let e;return()=>(e===void 0&&(e=t()),e)}const oi=t=>t,v$=(t,e)=>n=>e(t(n)),hd=(...t)=>t.reduce(v$),Bh=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Ub{constructor(){this.subscriptions=[]}add(e){return Nb(this.subscriptions,e),()=>Pb(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let o=0;o<r;o++){const l=this.subscriptions[o];l&&l(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ur=t=>t*1e3,ii=t=>t/1e3;function D2(t,e){return e?t*(1e3/e):0}const M2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,_$=1e-7,b$=12;function w$(t,e,n,s,r){let o,l,h=0;do l=e+(n-e)/2,o=M2(l,s,r)-t,o>0?n=l:e=l;while(Math.abs(o)>_$&&++h<b$);return l}function dd(t,e,n,s){if(t===e&&n===s)return oi;const r=o=>w$(o,0,1,t,n);return o=>o===0||o===1?o:M2(r(o),e,s)}const O2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,N2=t=>e=>1-t(1-e),P2=dd(.33,1.53,.69,.99),jb=N2(P2),L2=O2(jb),V2=t=>(t*=2)<1?.5*jb(t):.5*(2-Math.pow(2,-10*(t-1))),Fb=t=>1-Math.sin(Math.acos(t)),U2=N2(Fb),j2=O2(Fb),T$=dd(.42,0,1,1),E$=dd(0,0,.58,1),F2=dd(.42,0,.58,1),S$=t=>Array.isArray(t)&&typeof t[0]!="number",B2=t=>Array.isArray(t)&&typeof t[0]=="number",A$={linear:oi,easeIn:T$,easeInOut:F2,easeOut:E$,circIn:Fb,circInOut:j2,circOut:U2,backIn:jb,backInOut:L2,backOut:P2,anticipate:V2},x$=t=>typeof t=="string",Ax=t=>{if(B2(t)){Lb(t.length===4);const[e,n,s,r]=t;return dd(e,n,s,r)}else if(x$(t))return A$[t];return t},Jf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function C$(t,e){let n=new Set,s=new Set,r=!1,o=!1;const l=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(g){l.has(g)&&(f.schedule(g),t()),g(h)}const f={schedule:(g,v=!1,_=!1)=>{const I=_&&r?n:s;return v&&l.add(g),I.has(g)||I.add(g),g},cancel:g=>{s.delete(g),l.delete(g)},process:g=>{if(h=g,r){o=!0;return}r=!0,[n,s]=[s,n],n.forEach(d),n.clear(),r=!1,o&&(o=!1,f.process(g))}};return f}const R$=40;function z2(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Jf.reduce((V,K)=>(V[K]=C$(o),V),{}),{setup:h,read:d,resolveKeyframes:f,preUpdate:g,update:v,preRender:_,render:A,postRender:I}=l,O=()=>{const V=qr.useManualTiming?r.timestamp:performance.now();n=!1,qr.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(V-r.timestamp,R$),1)),r.timestamp=V,r.isProcessing=!0,h.process(r),d.process(r),f.process(r),g.process(r),v.process(r),_.process(r),A.process(r),I.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(O))},M=()=>{n=!0,s=!0,r.isProcessing||t(O)};return{schedule:Jf.reduce((V,K)=>{const U=l[K];return V[K]=(Y,x=!1,S=!1)=>(n||M(),U.schedule(Y,x,S)),V},{}),cancel:V=>{for(let K=0;K<Jf.length;K++)l[Jf[K]].cancel(V)},state:r,steps:l}}const{schedule:Ft,cancel:to,state:Fn,steps:Ov}=z2(typeof requestAnimationFrame<"u"?requestAnimationFrame:oi,!0);let _m;function k$(){_m=void 0}const ls={now:()=>(_m===void 0&&ls.set(Fn.isProcessing||qr.useManualTiming?Fn.timestamp:performance.now()),_m),set:t=>{_m=t,queueMicrotask(k$)}},$2=t=>e=>typeof e=="string"&&e.startsWith(t),H2=$2("--"),I$=$2("var(--"),Bb=t=>I$(t)?D$.test(t.split("/*")[0].trim()):!1,D$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function xx(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Fc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zh={...Fc,transform:t=>dr(0,1,t)},Zf={...Fc,default:1},wh=t=>Math.round(t*1e5)/1e5,zb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function M$(t){return t==null}const O$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$b=(t,e)=>n=>!!(typeof n=="string"&&O$.test(n)&&n.startsWith(t)||e&&!M$(n)&&Object.prototype.hasOwnProperty.call(n,e)),q2=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,o,l,h]=s.match(zb);return{[t]:parseFloat(r),[e]:parseFloat(o),[n]:parseFloat(l),alpha:h!==void 0?parseFloat(h):1}},N$=t=>dr(0,255,t),Nv={...Fc,transform:t=>Math.round(N$(t))},Ko={test:$b("rgb","red"),parse:q2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Nv.transform(t)+", "+Nv.transform(e)+", "+Nv.transform(n)+", "+wh(zh.transform(s))+")"};function P$(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const V_={test:$b("#"),parse:P$,transform:Ko.transform},fd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Da=fd("deg"),cr=fd("%"),Oe=fd("px"),L$=fd("vh"),V$=fd("vw"),Cx={...cr,parse:t=>cr.parse(t)/100,transform:t=>cr.transform(t*100)},cc={test:$b("hsl","hue"),parse:q2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+cr.transform(wh(e))+", "+cr.transform(wh(n))+", "+wh(zh.transform(s))+")"},vn={test:t=>Ko.test(t)||V_.test(t)||cc.test(t),parse:t=>Ko.test(t)?Ko.parse(t):cc.test(t)?cc.parse(t):V_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ko.transform(t):cc.transform(t),getAnimatableNone:t=>{const e=vn.parse(t);return e.alpha=0,vn.transform(e)}},U$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function j$(t){return isNaN(t)&&typeof t=="string"&&(t.match(zb)?.length||0)+(t.match(U$)?.length||0)>0}const G2="number",K2="color",F$="var",B$="var(",Rx="${}",z$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $h(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let o=0;const h=e.replace(z$,d=>(vn.test(d)?(s.color.push(o),r.push(K2),n.push(vn.parse(d))):d.startsWith(B$)?(s.var.push(o),r.push(F$),n.push(d)):(s.number.push(o),r.push(G2),n.push(parseFloat(d))),++o,Rx)).split(Rx);return{values:n,split:h,indexes:s,types:r}}function Y2(t){return $h(t).values}function W2(t){const{split:e,types:n}=$h(t),s=e.length;return r=>{let o="";for(let l=0;l<s;l++)if(o+=e[l],r[l]!==void 0){const h=n[l];h===G2?o+=wh(r[l]):h===K2?o+=vn.transform(r[l]):o+=r[l]}return o}}const $$=t=>typeof t=="number"?0:vn.test(t)?vn.getAnimatableNone(t):t;function H$(t){const e=Y2(t);return W2(t)(e.map($$))}const no={test:j$,parse:Y2,createTransformer:W2,getAnimatableNone:H$};function Pv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function q$({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,o=0,l=0;if(!e)r=o=l=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;r=Pv(d,h,t+1/3),o=Pv(d,h,t),l=Pv(d,h,t-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:s}}function op(t,e){return n=>n>0?e:t}const Gt=(t,e,n)=>t+(e-t)*n,Lv=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},G$=[V_,Ko,cc],K$=t=>G$.find(e=>e.test(t));function kx(t){const e=K$(t);if(!e)return!1;let n=e.parse(t);return e===cc&&(n=q$(n)),n}const Ix=(t,e)=>{const n=kx(t),s=kx(e);if(!n||!s)return op(t,e);const r={...n};return o=>(r.red=Lv(n.red,s.red,o),r.green=Lv(n.green,s.green,o),r.blue=Lv(n.blue,s.blue,o),r.alpha=Gt(n.alpha,s.alpha,o),Ko.transform(r))},U_=new Set(["none","hidden"]);function Y$(t,e){return U_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function W$(t,e){return n=>Gt(t,e,n)}function Hb(t){return typeof t=="number"?W$:typeof t=="string"?Bb(t)?op:vn.test(t)?Ix:J$:Array.isArray(t)?Q2:typeof t=="object"?vn.test(t)?Ix:Q$:op}function Q2(t,e){const n=[...t],s=n.length,r=t.map((o,l)=>Hb(o)(o,e[l]));return o=>{for(let l=0;l<s;l++)n[l]=r[l](o);return n}}function Q$(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=Hb(t[r])(t[r],e[r]));return r=>{for(const o in s)n[o]=s[o](r);return n}}function X$(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],l=t.indexes[o][s[o]],h=t.values[l]??0;n[r]=h,s[o]++}return n}const J$=(t,e)=>{const n=no.createTransformer(e),s=$h(t),r=$h(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?U_.has(t)&&!r.values.length||U_.has(e)&&!s.values.length?Y$(t,e):hd(Q2(X$(s,r),r.values),n):op(t,e)};function X2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Gt(t,e,n):Hb(t)(t,e)}const Z$=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ft.update(e,n),stop:()=>to(e),now:()=>Fn.isProcessing?Fn.timestamp:ls.now()}},J2=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let o=0;o<r;o++)s+=Math.round(t(o/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},lp=2e4;function qb(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<lp;)e+=n,s=t.next(e);return e>=lp?1/0:e}function eH(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(qb(s),lp);return{type:"keyframes",ease:o=>s.next(r*o).value/e,duration:ii(r)}}const tH=5;function Z2(t,e,n){const s=Math.max(e-tH,0);return D2(n-t(s),e-s)}const Qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vv=.001;function nH({duration:t=Qt.duration,bounce:e=Qt.bounce,velocity:n=Qt.velocity,mass:s=Qt.mass}){let r,o,l=1-e;l=dr(Qt.minDamping,Qt.maxDamping,l),t=dr(Qt.minDuration,Qt.maxDuration,ii(t)),l<1?(r=f=>{const g=f*l,v=g*t,_=g-n,A=j_(f,l),I=Math.exp(-v);return Vv-_/A*I},o=f=>{const v=f*l*t,_=v*n+n,A=Math.pow(l,2)*Math.pow(f,2)*t,I=Math.exp(-v),O=j_(Math.pow(f,2),l);return(-r(f)+Vv>0?-1:1)*((_-A)*I)/O}):(r=f=>{const g=Math.exp(-f*t),v=(f-n)*t+1;return-Vv+g*v},o=f=>{const g=Math.exp(-f*t),v=(n-f)*(t*t);return g*v});const h=5/t,d=iH(r,o,h);if(t=Ur(t),isNaN(d))return{stiffness:Qt.stiffness,damping:Qt.damping,duration:t};{const f=Math.pow(d,2)*s;return{stiffness:f,damping:l*2*Math.sqrt(s*f),duration:t}}}const sH=12;function iH(t,e,n){let s=n;for(let r=1;r<sH;r++)s=s-t(s)/e(s);return s}function j_(t,e){return t*Math.sqrt(1-e*e)}const rH=["duration","bounce"],aH=["stiffness","damping","mass"];function Dx(t,e){return e.some(n=>t[n]!==void 0)}function oH(t){let e={velocity:Qt.velocity,stiffness:Qt.stiffness,damping:Qt.damping,mass:Qt.mass,isResolvedFromDuration:!1,...t};if(!Dx(t,aH)&&Dx(t,rH))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,o=2*dr(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Qt.mass,stiffness:r,damping:o}}else{const n=nH(t);e={...e,...n,mass:Qt.mass},e.isResolvedFromDuration=!0}return e}function cp(t=Qt.visualDuration,e=Qt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:d,damping:f,mass:g,duration:v,velocity:_,isResolvedFromDuration:A}=oH({...n,velocity:-ii(n.velocity||0)}),I=_||0,O=f/(2*Math.sqrt(d*g)),M=l-o,B=ii(Math.sqrt(d/g)),F=Math.abs(M)<5;s||(s=F?Qt.restSpeed.granular:Qt.restSpeed.default),r||(r=F?Qt.restDelta.granular:Qt.restDelta.default);let V;if(O<1){const U=j_(B,O);V=Y=>{const x=Math.exp(-O*B*Y);return l-x*((I+O*B*M)/U*Math.sin(U*Y)+M*Math.cos(U*Y))}}else if(O===1)V=U=>l-Math.exp(-B*U)*(M+(I+B*M)*U);else{const U=B*Math.sqrt(O*O-1);V=Y=>{const x=Math.exp(-O*B*Y),S=Math.min(U*Y,300);return l-x*((I+O*B*M)*Math.sinh(S)+U*M*Math.cosh(S))/U}}const K={calculatedDuration:A&&v||null,next:U=>{const Y=V(U);if(A)h.done=U>=v;else{let x=U===0?I:0;O<1&&(x=U===0?Ur(I):Z2(V,U,Y));const S=Math.abs(x)<=s,C=Math.abs(l-Y)<=r;h.done=S&&C}return h.value=h.done?l:Y,h},toString:()=>{const U=Math.min(qb(K),lp),Y=J2(x=>K.next(U*x).value,U,30);return U+"ms "+Y},toTransition:()=>{}};return K}cp.applyToOptions=t=>{const e=eH(t,100,cp);return t.ease=e.ease,t.duration=Ur(e.duration),t.type="keyframes",t};function F_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:l,min:h,max:d,restDelta:f=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},A=S=>h!==void 0&&S<h||d!==void 0&&S>d,I=S=>h===void 0?d:d===void 0||Math.abs(h-S)<Math.abs(d-S)?h:d;let O=n*e;const M=v+O,B=l===void 0?M:l(M);B!==M&&(O=B-v);const F=S=>-O*Math.exp(-S/s),V=S=>B+F(S),K=S=>{const C=F(S),L=V(S);_.done=Math.abs(C)<=f,_.value=_.done?B:L};let U,Y;const x=S=>{A(_.value)&&(U=S,Y=cp({keyframes:[_.value,I(_.value)],velocity:Z2(V,S,_.value),damping:r,stiffness:o,restDelta:f,restSpeed:g}))};return x(0),{calculatedDuration:null,next:S=>{let C=!1;return!Y&&U===void 0&&(C=!0,K(S),x(S)),U!==void 0&&S>=U?Y.next(S-U):(!C&&K(S),_)}}}function lH(t,e,n){const s=[],r=n||qr.mix||X2,o=t.length-1;for(let l=0;l<o;l++){let h=r(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||oi:e;h=hd(d,h)}s.push(h)}return s}function cH(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const o=t.length;if(Lb(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=lH(e,s,r),d=h.length,f=g=>{if(l&&g<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const _=Bh(t[v],t[v+1],g);return h[v](_)};return n?g=>f(dr(t[0],t[o-1],g)):f}function uH(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=Bh(0,e,s);t.push(Gt(n,1,r))}}function hH(t){const e=[0];return uH(e,t.length-1),e}function dH(t,e){return t.map(n=>n*e)}function fH(t,e){return t.map(()=>e||F2).splice(0,t.length-1)}function Th({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=S$(s)?s.map(Ax):Ax(s),o={done:!1,value:e[0]},l=dH(n&&n.length===e.length?n:hH(e),t),h=cH(l,e,{ease:Array.isArray(r)?r:fH(e,r)});return{calculatedDuration:t,next:d=>(o.value=h(d),o.done=d>=t,o)}}const mH=t=>t!==null;function Gb(t,{repeat:e,repeatType:n="loop"},s,r=1){const o=t.filter(mH),h=r<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!h||s===void 0?o[h]:s}const pH={decay:F_,inertia:F_,tween:Th,keyframes:Th,spring:cp};function eM(t){typeof t.type=="string"&&(t.type=pH[t.type])}class Kb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const gH=t=>t/100;class Yb extends Kb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ls.now()&&this.tick(ls.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;eM(e);const{type:n=Th,repeat:s=0,repeatDelay:r=0,repeatType:o,velocity:l=0}=e;let{keyframes:h}=e;const d=n||Th;d!==Th&&typeof h[0]!="number"&&(this.mixKeyframes=hd(gH,X2(h[0],h[1])),h=[0,100]);const f=d({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=qb(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:g,repeat:v,repeatType:_,repeatDelay:A,type:I,onUpdate:O,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-f*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?B<0:B>r;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let V=this.currentTime,K=s;if(v){const S=Math.min(this.currentTime,r)/h;let C=Math.floor(S),L=S%1;!L&&S>=1&&(L=1),L===1&&C--,C=Math.min(C,v+1),C%2&&(_==="reverse"?(L=1-L,A&&(L-=A/h)):_==="mirror"&&(K=l)),V=dr(0,1,L)*h}const U=F?{done:!1,value:g[0]}:K.next(V);o&&(U.value=o(U.value));let{done:Y}=U;!F&&d!==null&&(Y=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return x&&I!==F_&&(U.value=Gb(g,this.options,M,this.speed)),O&&O(U.value),x&&this.finish(),U}then(e,n){return this.finished.then(e,n)}get duration(){return ii(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ii(e)}get time(){return ii(this.currentTime)}set time(e){e=Ur(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ls.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ii(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Z$,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ls.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function yH(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Yo=t=>t*180/Math.PI,B_=t=>{const e=Yo(Math.atan2(t[1],t[0]));return z_(e)},vH={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:B_,rotateZ:B_,skewX:t=>Yo(Math.atan(t[1])),skewY:t=>Yo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},z_=t=>(t=t%360,t<0&&(t+=360),t),Mx=B_,Ox=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Nx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),_H={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ox,scaleY:Nx,scale:t=>(Ox(t)+Nx(t))/2,rotateX:t=>z_(Yo(Math.atan2(t[6],t[5]))),rotateY:t=>z_(Yo(Math.atan2(-t[2],t[0]))),rotateZ:Mx,rotate:Mx,skewX:t=>Yo(Math.atan(t[4])),skewY:t=>Yo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function $_(t){return t.includes("scale")?1:0}function H_(t,e){if(!t||t==="none")return $_(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=_H,r=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=vH,r=h}if(!r)return $_(e);const o=s[e],l=r[1].split(",").map(wH);return typeof o=="function"?o(l):l[o]}const bH=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return H_(n,e)};function wH(t){return parseFloat(t.trim())}const Bc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zc=new Set(Bc),Px=t=>t===Fc||t===Oe,TH=new Set(["x","y","z"]),EH=Bc.filter(t=>!TH.has(t));function SH(t){const e=[];return EH.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const za={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>H_(e,"x"),y:(t,{transform:e})=>H_(e,"y")};za.translateX=za.x;za.translateY=za.y;const Zo=new Set;let q_=!1,G_=!1,K_=!1;function tM(){if(G_){const t=Array.from(Zo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=SH(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([o,l])=>{s.getValue(o)?.set(l)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}G_=!1,q_=!1,Zo.forEach(t=>t.complete(K_)),Zo.clear()}function nM(){Zo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(G_=!0)})}function AH(){K_=!0,nM(),tM(),K_=!1}class Wb{constructor(e,n,s,r,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Zo.add(this),q_||(q_=!0,Ft.read(nM),Ft.resolveKeyframes(tM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const o=r?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&n){const h=s.readValue(n,l);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=l),r&&o===void 0&&r.set(e[0])}yH(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Zo.delete(this)}cancel(){this.state==="scheduled"&&(Zo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xH=t=>t.startsWith("--");function CH(t,e,n){xH(e)?t.style.setProperty(e,n):t.style[e]=n}const RH=Vb(()=>window.ScrollTimeline!==void 0),kH={};function IH(t,e){const n=Vb(t);return()=>kH[e]??n()}const sM=IH(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ch=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Lx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ch([0,.65,.55,1]),circOut:ch([.55,0,1,.45]),backIn:ch([.31,.01,.66,-.59]),backOut:ch([.33,1.53,.69,.99])};function iM(t,e){if(t)return typeof t=="function"?sM()?J2(t,e):"ease-out":B2(t)?ch(t):Array.isArray(t)?t.map(n=>iM(n,e)||Lx.easeOut):Lx[t]}function DH(t,e,n,{delay:s=0,duration:r=300,repeat:o=0,repeatType:l="loop",ease:h="easeOut",times:d}={},f=void 0){const g={[e]:n};d&&(g.offset=d);const v=iM(h,r);Array.isArray(v)&&(g.easing=v);const _={delay:s,duration:r,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(_.pseudoElement=f),t.animate(g,_)}function rM(t){return typeof t=="function"&&"applyToOptions"in t}function MH({type:t,...e}){return rM(t)&&sM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class OH extends Kb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,Lb(typeof e.type!="string");const f=MH(e);this.animation=DH(n,s,r,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=Gb(r,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):CH(n,s,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ii(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ii(e)}get time(){return ii(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ur(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&RH()?(this.animation.timeline=e,oi):n(this)}}const aM={anticipate:V2,backInOut:L2,circInOut:j2};function NH(t){return t in aM}function PH(t){typeof t.ease=="string"&&NH(t.ease)&&(t.ease=aM[t.ease])}const Uv=10;class LH extends OH{constructor(e){PH(e),eM(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Yb({...l,autoplay:!1}),d=Math.max(Uv,ls.now()-this.startTime),f=dr(0,Uv,d-Uv);n.setWithVelocity(h.sample(Math.max(0,d-f)).value,h.sample(d).value,f),h.stop()}}const Vx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(no.test(t)||t==="0")&&!t.startsWith("url("));function VH(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function UH(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=Vx(r,e),h=Vx(o,e);return!l||!h?!1:VH(t)||(n==="spring"||rM(n))&&s}function Y_(t){t.duration=0,t.type="keyframes"}const jH=new Set(["opacity","clipPath","filter","transform"]),FH=Vb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function BH(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:o,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return FH()&&n&&jH.has(n)&&(n!=="transform"||!f)&&!d&&!s&&r!=="mirror"&&o!==0&&l!=="inertia"}const zH=40;class $H extends Kb{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l="loop",keyframes:h,name:d,motionValue:f,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ls.now();const _={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:o,repeatType:l,name:d,motionValue:f,element:g,...v},A=g?.KeyframeResolver||Wb;this.keyframeResolver=new A(h,(I,O,M)=>this.onKeyframesResolved(I,O,_,!M),d,f,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:o,type:l,velocity:h,delay:d,isHandoff:f,onUpdate:g}=s;this.resolvedAt=ls.now(),UH(e,o,l,h)||((qr.instantAnimations||!d)&&g?.(Gb(e,s,n)),e[0]=e[e.length-1],Y_(s),s.repeat=0);const _={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>zH?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!f&&BH(_),I=_.motionValue?.owner?.current,O=A?new LH({..._,element:I}):new Yb(_);O.finished.then(()=>{this.notifyFinished()}).catch(oi),this.pendingTimeline&&(this.stopTimeline=O.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=O}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),AH()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function oM(t,e,n,s=0,r=1){const o=Array.from(t).sort((f,g)=>f.sortNodePosition(g)).indexOf(e),l=t.size,h=(l-1)*s;return typeof n=="function"?n(o,l):r===1?o*s:h-o*s}const HH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qH(t){const e=HH.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function lM(t,e,n=1){const[s,r]=qH(t);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const l=o.trim();return R2(l)?parseFloat(l):l}return Bb(r)?lM(r,e,n+1):r}const GH={type:"spring",stiffness:500,damping:25,restSpeed:10},KH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),YH={type:"keyframes",duration:.8},WH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QH=(t,{keyframes:e})=>e.length>2?YH:zc.has(t)?t.startsWith("scale")?KH(e[1]):GH:WH,XH=t=>t!==null;function JH(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(XH),o=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[o]}function Qb(t,e){return t?.[e]??t?.default??t}function ZH({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:o,repeatType:l,repeatDelay:h,from:d,elapsed:f,...g}){return!!Object.keys(g).length}const Xb=(t,e,n,s={},r,o)=>l=>{const h=Qb(s,t)||{},d=h.delay||s.delay||0;let{elapsed:f=0}=s;f=f-Ur(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-f,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{l(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:o?void 0:r};ZH(h)||Object.assign(g,QH(t,g)),g.duration&&(g.duration=Ur(g.duration)),g.repeatDelay&&(g.repeatDelay=Ur(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Y_(g),g.delay===0&&(v=!0)),(qr.instantAnimations||qr.skipAnimations)&&(v=!0,Y_(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!o&&e.get()!==void 0){const _=JH(g.keyframes,h);if(_!==void 0){Ft.update(()=>{g.onUpdate(_),g.onComplete()});return}}return h.isSync?new Yb(g):new $H(g)};function Ux(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Jb(t,e,n,s){if(typeof e=="function"){const[r,o]=Ux(s);e=e(n!==void 0?n:t.custom,r,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,o]=Ux(s);e=e(n!==void 0?n:t.custom,r,o)}return e}function wc(t,e,n){const s=t.getProps();return Jb(s,e,n!==void 0?n:s.custom,t)}const cM=new Set(["width","height","top","left","right","bottom",...Bc]),jx=30,eq=t=>!isNaN(parseFloat(t));class tq{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const r=ls.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ls.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=eq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ub);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ls.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>jx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jx);return D2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ic(t,e){return new tq(t,e)}const W_=t=>Array.isArray(t);function nq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ic(n))}function sq(t){return W_(t)?t[t.length-1]||0:t}function iq(t,e){const n=wc(t,e);let{transitionEnd:s={},transition:r={},...o}=n||{};o={...o,...s};for(const l in o){const h=sq(o[l]);nq(t,l,h)}}const Qn=t=>!!(t&&t.getVelocity);function rq(t){return!!(Qn(t)&&t.add)}function Q_(t,e){const n=t.getValue("willChange");if(rq(n))return n.add(e);if(!n&&qr.WillChange){const s=new qr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Zb(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const aq="framerAppearId",uM="data-"+Zb(aq);function hM(t){return t.props[uM]}function oq({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function dM(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...h}=e;s&&(o=s);const d=[],f=r&&t.animationState&&t.animationState.getState()[r];for(const g in h){const v=t.getValue(g,t.latestValues[g]??null),_=h[g];if(_===void 0||f&&oq(f,g))continue;const A={delay:n,...Qb(o||{},g)},I=v.get();if(I!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===I&&!A.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const B=hM(t);if(B){const F=window.MotionHandoffAnimation(B,g,Ft);F!==null&&(A.startTime=F,O=!0)}}Q_(t,g),v.start(Xb(g,v,_,t.shouldReduceMotion&&cM.has(g)?{type:!1}:A,t,O));const M=v.animation;M&&d.push(M)}return l&&Promise.all(d).then(()=>{Ft.update(()=>{l&&iq(t,l)})}),d}function X_(t,e,n={}){const s=wc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const o=s?()=>Promise.all(dM(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:v}=r;return lq(t,e,d,f,g,v,n)}:()=>Promise.resolve(),{when:h}=r;if(h){const[d,f]=h==="beforeChildren"?[o,l]:[l,o];return d().then(()=>f())}else return Promise.all([o(),l(n.delay)])}function lq(t,e,n=0,s=0,r=0,o=1,l){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(X_(d,e,{...l,delay:n+(typeof s=="function"?0:s)+oM(t.variantChildren,d,s,r,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function cq(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(o=>X_(t,o,n));s=Promise.all(r)}else if(typeof e=="string")s=X_(t,e,n);else{const r=typeof e=="function"?wc(t,e,n.custom):e;s=Promise.all(dM(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const uq={test:t=>t==="auto",parse:t=>t},fM=t=>e=>e.test(t),mM=[Fc,Oe,cr,Da,V$,L$,uq],Fx=t=>mM.find(fM(t));function hq(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||I2(t):!0}const dq=new Set(["brightness","contrast","saturate","opacity"]);function fq(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(zb)||[];if(!s)return t;const r=n.replace(s,"");let o=dq.has(e)?1:0;return s!==n&&(o*=100),e+"("+o+r+")"}const mq=/\b([a-z-]*)\(.*?\)/gu,J_={...no,getAnimatableNone:t=>{const e=t.match(mq);return e?e.map(fq).join(" "):t}},Bx={...Fc,transform:Math.round},pq={rotate:Da,rotateX:Da,rotateY:Da,rotateZ:Da,scale:Zf,scaleX:Zf,scaleY:Zf,scaleZ:Zf,skew:Da,skewX:Da,skewY:Da,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:zh,originX:Cx,originY:Cx,originZ:Oe},ew={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,inset:Oe,insetBlock:Oe,insetBlockStart:Oe,insetBlockEnd:Oe,insetInline:Oe,insetInlineStart:Oe,insetInlineEnd:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,paddingBlock:Oe,paddingBlockStart:Oe,paddingBlockEnd:Oe,paddingInline:Oe,paddingInlineStart:Oe,paddingInlineEnd:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,marginBlock:Oe,marginBlockStart:Oe,marginBlockEnd:Oe,marginInline:Oe,marginInlineStart:Oe,marginInlineEnd:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...pq,zIndex:Bx,fillOpacity:zh,strokeOpacity:zh,numOctaves:Bx},gq={...ew,color:vn,backgroundColor:vn,outlineColor:vn,fill:vn,stroke:vn,borderColor:vn,borderTopColor:vn,borderRightColor:vn,borderBottomColor:vn,borderLeftColor:vn,filter:J_,WebkitFilter:J_},pM=t=>gq[t];function gM(t,e){let n=pM(t);return n!==J_&&(n=no),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const yq=new Set(["auto","none","0"]);function vq(t,e,n){let s=0,r;for(;s<t.length&&!r;){const o=t[s];typeof o=="string"&&!yq.has(o)&&$h(o).values.length&&(r=t[s]),s++}if(r&&n)for(const o of e)t[o]=gM(n,r)}class _q extends Wb{constructor(e,n,s,r,o){super(e,n,s,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let v=e[g];if(typeof v=="string"&&(v=v.trim(),Bb(v))){const _=lM(v,n.current);_!==void 0&&(e[g]=_),g===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!cM.has(s)||e.length!==2)return;const[r,o]=e,l=Fx(r),h=Fx(o),d=xx(r),f=xx(o);if(d!==f&&za[s]){this.needsMeasurement=!0;return}if(l!==h)if(Px(l)&&Px(h))for(let g=0;g<e.length;g++){const v=e[g];typeof v=="string"&&(e[g]=parseFloat(v))}else za[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||hq(e[r]))&&s.push(r);s.length&&vq(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=za[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=za[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function bq(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const r=n?.[t]??s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t).filter(s=>s!=null)}const yM=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Z_(t){return k2(t)&&"offsetHeight"in t}const{schedule:tw}=z2(queueMicrotask,!1),ki={x:!1,y:!1};function vM(){return ki.x||ki.y}function wq(t){return t==="x"||t==="y"?ki[t]?null:(ki[t]=!0,()=>{ki[t]=!1}):ki.x||ki.y?null:(ki.x=ki.y=!0,()=>{ki.x=ki.y=!1})}function _M(t,e){const n=bq(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function zx(t){return!(t.pointerType==="touch"||vM())}function Tq(t,e,n={}){const[s,r,o]=_M(t,n),l=h=>{if(!zx(h))return;const{target:d}=h,f=e(d,h);if(typeof f!="function"||!d)return;const g=v=>{zx(v)&&(f(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,r)};return s.forEach(h=>{h.addEventListener("pointerenter",l,r)}),o}const bM=(t,e)=>e?t===e?!0:bM(t,e.parentElement):!1,nw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Eq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wM(t){return Eq.has(t.tagName)||t.isContentEditable===!0}const bm=new WeakSet;function $x(t){return e=>{e.key==="Enter"&&t(e)}}function jv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Sq=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=$x(()=>{if(bm.has(n))return;jv(n,"down");const r=$x(()=>{jv(n,"up")}),o=()=>jv(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Hx(t){return nw(t)&&!vM()}function Aq(t,e,n={}){const[s,r,o]=_M(t,n),l=h=>{const d=h.currentTarget;if(!Hx(h))return;bm.add(d);const f=e(d,h),g=(A,I)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),bm.has(d)&&bm.delete(d),Hx(A)&&typeof f=="function"&&f(A,{success:I})},v=A=>{g(A,d===window||d===document||n.useGlobalTarget||bM(d,A.target))},_=A=>{g(A,!1)};window.addEventListener("pointerup",v,r),window.addEventListener("pointercancel",_,r)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",l,r),Z_(h)&&(h.addEventListener("focus",f=>Sq(f,r)),!wM(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function TM(t){return k2(t)&&"ownerSVGElement"in t}function xq(t){return TM(t)&&t.tagName==="svg"}const Cq=[...mM,vn,no],Rq=t=>Cq.find(fM(t)),qx=()=>({translate:0,scale:1,origin:0,originPoint:0}),uc=()=>({x:qx(),y:qx()}),Gx=()=>({min:0,max:0}),An=()=>({x:Gx(),y:Gx()}),e0={current:null},EM={current:!1},kq=typeof window<"u";function Iq(){if(EM.current=!0,!!kq)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>e0.current=t.matches;t.addEventListener("change",e),e()}else e0.current=!1}const Dq=new WeakMap;function Jp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Hh(t){return typeof t=="string"||Array.isArray(t)}const sw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iw=["initial",...sw];function Zp(t){return Jp(t.animate)||iw.some(e=>Hh(t[e]))}function SM(t){return!!(Zp(t)||t.variants)}function Mq(t,e,n){for(const s in e){const r=e[s],o=n[s];if(Qn(r))t.addValue(s,r);else if(Qn(o))t.addValue(s,Ic(r,{owner:t}));else if(o!==r)if(t.hasValue(s)){const l=t.getValue(s);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=t.getStaticValue(s);t.addValue(s,Ic(l!==void 0?l:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Kx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let up={};function AM(t){up=t}function Oq(){return up}class Nq{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:o,visualState:l},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=ls.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Ft.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=Zp(n),this.isVariantNode=SM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in v){const A=v[_];d[_]!==void 0&&Qn(A)&&A.set(d[_])}}mount(e){this.current=e,Dq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(EM.current||Iq(),this.shouldReduceMotion=e0.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),to(this.notifyUpdate),to(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=zc.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in up){const n=up[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):An()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Kx.length;s++){const r=Kx[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,l=e[o];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=Mq(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ic(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(R2(s)||I2(s))?s=parseFloat(s):!Rq(s)&&no.test(n)&&(s=gM(e,n)),this.setBaseTarget(e,Qn(s)?s.get():s)),Qn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=Jb(this.props,n,this.presenceContext?.custom);o&&(s=o[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Qn(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ub),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){tw.render(this.render)}}class xM extends Nq{constructor(){super(...arguments),this.KeyframeResolver=_q}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ao{constructor(e){this.isMounted=!1,this.node=e}update(){}}function CM({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Pq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Lq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Fv(t){return t===void 0||t===1}function t0({scale:t,scaleX:e,scaleY:n}){return!Fv(t)||!Fv(e)||!Fv(n)}function $o(t){return t0(t)||RM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function RM(t){return Yx(t.x)||Yx(t.y)}function Yx(t){return t&&t!=="0%"}function hp(t,e,n){const s=t-n,r=e*s;return n+r}function Wx(t,e,n,s,r){return r!==void 0&&(t=hp(t,r,s)),hp(t,n,s)+e}function n0(t,e=0,n=1,s,r){t.min=Wx(t.min,e,n,s,r),t.max=Wx(t.max,e,n,s,r)}function kM(t,{x:e,y:n}){n0(t.x,e.translate,e.scale,e.originPoint),n0(t.y,n.translate,n.scale,n.originPoint)}const Qx=.999999999999,Xx=1.0000000000001;function Vq(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let o,l;for(let h=0;h<r;h++){o=n[h],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&dc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,kM(t,l)),s&&$o(o.latestValues)&&dc(t,o.latestValues))}e.x<Xx&&e.x>Qx&&(e.x=1),e.y<Xx&&e.y>Qx&&(e.y=1)}function hc(t,e){t.min=t.min+e,t.max=t.max+e}function Jx(t,e,n,s,r=.5){const o=Gt(t.min,t.max,r);n0(t,e,n,o,s)}function dc(t,e){Jx(t.x,e.x,e.scaleX,e.scale,e.originX),Jx(t.y,e.y,e.scaleY,e.scale,e.originY)}function IM(t,e){return CM(Lq(t.getBoundingClientRect(),e))}function Uq(t,e,n){const s=IM(t,n),{scroll:r}=e;return r&&(hc(s.x,r.offset.x),hc(s.y,r.offset.y)),s}const jq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Fq=Bc.length;function Bq(t,e,n){let s="",r=!0;for(let o=0;o<Fq;o++){const l=Bc[o],h=t[l];if(h===void 0)continue;let d=!0;if(typeof h=="number")d=h===(l.startsWith("scale")?1:0);else{const f=parseFloat(h);d=l.startsWith("scale")?f===1:f===0}if(!d||n){const f=yM(h,ew[l]);if(!d){r=!1;const g=jq[l]||l;s+=`${g}(${f}) `}n&&(e[l]=f)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function rw(t,e,n){const{style:s,vars:r,transformOrigin:o}=t;let l=!1,h=!1;for(const d in e){const f=e[d];if(zc.has(d)){l=!0;continue}else if(H2(d)){r[d]=f;continue}else{const g=yM(f,ew[d]);d.startsWith("origin")?(h=!0,o[d]=g):s[d]=g}}if(e.transform||(l||n?s.transform=Bq(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:f="50%",originZ:g=0}=o;s.transformOrigin=`${d} ${f} ${g}`}}function DM(t,{style:e,vars:n},s,r){const o=t.style;let l;for(l in e)o[l]=e[l];r?.applyProjectionStyles(o,s);for(l in n)o.setProperty(l,n[l])}function Zx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const th={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=Zx(t,e.target.x),s=Zx(t,e.target.y);return`${n}% ${s}%`}},zq={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=no.parse(t);if(r.length>5)return s;const o=no.createTransformer(t),l=typeof r[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;r[0+l]/=h,r[1+l]/=d;const f=Gt(h,d,.5);return typeof r[2+l]=="number"&&(r[2+l]/=f),typeof r[3+l]=="number"&&(r[3+l]/=f),o(r)}},s0={borderRadius:{...th,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:th,borderTopRightRadius:th,borderBottomLeftRadius:th,borderBottomRightRadius:th,boxShadow:zq};function MM(t,{layout:e,layoutId:n}){return zc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!s0[t]||t==="opacity")}function aw(t,e,n){const s=t.style,r=e?.style,o={};if(!s)return o;for(const l in s)(Qn(s[l])||r&&Qn(r[l])||MM(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(o[l]=s[l]);return o}function $q(t){return window.getComputedStyle(t)}class Hq extends xM{constructor(){super(...arguments),this.type="html",this.renderInstance=DM}readValueFromInstance(e,n){if(zc.has(n))return this.projection?.isProjecting?$_(n):bH(e,n);{const s=$q(e),r=(H2(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return IM(e,n)}build(e,n,s){rw(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return aw(e,n,s)}}const qq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Gq={offset:"strokeDashoffset",array:"strokeDasharray"};function Kq(t,e,n=1,s=0,r=!0){t.pathLength=1;const o=r?qq:Gq;t[o.offset]=`${-s}`,t[o.array]=`${e} ${n}`}const Yq=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function OM(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:o=1,pathOffset:l=0,...h},d,f,g){if(rw(t,h,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:_}=t;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=g?.transformBox??"fill-box",delete v.transformBox);for(const A of Yq)v[A]!==void 0&&(_[A]=v[A],delete v[A]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),r!==void 0&&Kq(v,r,o,l,!1)}const NM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),PM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Wq(t,e,n,s){DM(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(NM.has(r)?r:Zb(r),e.attrs[r])}function LM(t,e,n){const s=aw(t,e,n);for(const r in t)if(Qn(t[r])||Qn(e[r])){const o=Bc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[o]=t[r]}return s}class Qq extends xM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=An}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zc.has(n)){const s=pM(n);return s&&s.default||0}return n=NM.has(n)?n:Zb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return LM(e,n,s)}build(e,n,s){OM(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){Wq(e,n,s,r)}mount(e){this.isSVGTag=PM(e.tagName),super.mount(e)}}const Xq=iw.length;function VM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?VM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Xq;n++){const s=iw[n],r=t.props[s];(Hh(r)||r===!1)&&(e[s]=r)}return e}function UM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const Jq=[...sw].reverse(),Zq=sw.length;function eG(t){return e=>Promise.all(e.map(({animation:n,options:s})=>cq(t,n,s)))}function tG(t){let e=eG(t),n=eC(),s=!0;const r=d=>(f,g)=>{const v=wc(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:A,...I}=v;f={...f,...I,...A}}return f};function o(d){e=d(t)}function l(d){const{props:f}=t,g=VM(t.parent)||{},v=[],_=new Set;let A={},I=1/0;for(let M=0;M<Zq;M++){const B=Jq[M],F=n[B],V=f[B]!==void 0?f[B]:g[B],K=Hh(V),U=B===d?F.isActive:null;U===!1&&(I=M);let Y=V===g[B]&&V!==f[B]&&K;if(Y&&s&&t.manuallyAnimateOnMount&&(Y=!1),F.protectedKeys={...A},!F.isActive&&U===null||!V&&!F.prevProp||Jp(V)||typeof V=="boolean")continue;const x=nG(F.prevProp,V);let S=x||B===d&&F.isActive&&!Y&&K||M>I&&K,C=!1;const L=Array.isArray(V)?V:[V];let j=L.reduce(r(B),{});U===!1&&(j={});const{prevResolvedValues:N={}}=F,R={...N,...j},Q=W=>{S=!0,_.has(W)&&(C=!0,_.delete(W)),F.needsAnimating[W]=!0;const le=t.getValue(W);le&&(le.liveStyle=!1)};for(const W in R){const le=j[W],ye=N[W];if(A.hasOwnProperty(W))continue;let ue=!1;W_(le)&&W_(ye)?ue=!UM(le,ye):ue=le!==ye,ue?le!=null?Q(W):_.add(W):le!==void 0&&_.has(W)?Q(W):F.protectedKeys[W]=!0}F.prevProp=V,F.prevResolvedValues=j,F.isActive&&(A={...A,...j}),s&&t.blockInitialAnimation&&(S=!1);const q=Y&&x;S&&(!q||C)&&v.push(...L.map(W=>{const le={type:B};if(typeof W=="string"&&s&&!q&&t.manuallyAnimateOnMount&&t.parent){const{parent:ye}=t,ue=wc(ye,W);if(ye.enteringChildren&&ue){const{delayChildren:z}=ue.transition||{};le.delay=oM(ye.enteringChildren,t,z)}}return{animation:W,options:le}}))}if(_.size){const M={};if(typeof f.initial!="boolean"){const B=wc(t,Array.isArray(f.initial)?f.initial[0]:f.initial);B&&B.transition&&(M.transition=B.transition)}_.forEach(B=>{const F=t.getBaseTarget(B),V=t.getValue(B);V&&(V.liveStyle=!0),M[B]=F??null}),v.push({animation:M})}let O=!!v.length;return s&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(O=!1),s=!1,O?e(v):Promise.resolve()}function h(d,f){if(n[d].isActive===f)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,f)),n[d].isActive=f;const g=l(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:l,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=eC()}}}function nG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UM(e,t):!1}function jo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eC(){return{animate:jo(!0),whileInView:jo(),whileHover:jo(),whileTap:jo(),whileDrag:jo(),whileFocus:jo(),exit:jo()}}function tC(t,e){t.min=e.min,t.max=e.max}function Ri(t,e){tC(t.x,e.x),tC(t.y,e.y)}function nC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const jM=1e-4,sG=1-jM,iG=1+jM,FM=.01,rG=0-FM,aG=0+FM;function cs(t){return t.max-t.min}function oG(t,e,n){return Math.abs(t-e)<=n}function sC(t,e,n,s=.5){t.origin=s,t.originPoint=Gt(e.min,e.max,t.origin),t.scale=cs(n)/cs(e),t.translate=Gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=sG&&t.scale<=iG||isNaN(t.scale))&&(t.scale=1),(t.translate>=rG&&t.translate<=aG||isNaN(t.translate))&&(t.translate=0)}function Eh(t,e,n,s){sC(t.x,e.x,n.x,s?s.originX:void 0),sC(t.y,e.y,n.y,s?s.originY:void 0)}function iC(t,e,n){t.min=n.min+e.min,t.max=t.min+cs(e)}function lG(t,e,n){iC(t.x,e.x,n.x),iC(t.y,e.y,n.y)}function rC(t,e,n){t.min=e.min-n.min,t.max=t.min+cs(e)}function dp(t,e,n){rC(t.x,e.x,n.x),rC(t.y,e.y,n.y)}function aC(t,e,n,s,r){return t-=e,t=hp(t,1/n,s),r!==void 0&&(t=hp(t,1/r,s)),t}function cG(t,e=0,n=1,s=.5,r,o=t,l=t){if(cr.test(e)&&(e=parseFloat(e),e=Gt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let h=Gt(o.min,o.max,s);t===o&&(h-=e),t.min=aC(t.min,e,n,h,r),t.max=aC(t.max,e,n,h,r)}function oC(t,e,[n,s,r],o,l){cG(t,e[n],e[s],e[r],e.scale,o,l)}const uG=["x","scaleX","originX"],hG=["y","scaleY","originY"];function lC(t,e,n,s){oC(t.x,e,uG,n?n.x:void 0,s?s.x:void 0),oC(t.y,e,hG,n?n.y:void 0,s?s.y:void 0)}function cC(t){return t.translate===0&&t.scale===1}function BM(t){return cC(t.x)&&cC(t.y)}function uC(t,e){return t.min===e.min&&t.max===e.max}function dG(t,e){return uC(t.x,e.x)&&uC(t.y,e.y)}function hC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function zM(t,e){return hC(t.x,e.x)&&hC(t.y,e.y)}function dC(t){return cs(t.x)/cs(t.y)}function fC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function ni(t){return[t("x"),t("y")]}function fG(t,e,n){let s="";const r=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((r||o||l)&&(s=`translate3d(${r}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:v,rotateY:_,skewX:A,skewY:I}=n;f&&(s=`perspective(${f}px) ${s}`),g&&(s+=`rotate(${g}deg) `),v&&(s+=`rotateX(${v}deg) `),_&&(s+=`rotateY(${_}deg) `),A&&(s+=`skewX(${A}deg) `),I&&(s+=`skewY(${I}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const $M=["TopLeft","TopRight","BottomLeft","BottomRight"],mG=$M.length,mC=t=>typeof t=="string"?parseFloat(t):t,pC=t=>typeof t=="number"||Oe.test(t);function pG(t,e,n,s,r,o){r?(t.opacity=Gt(0,n.opacity??1,gG(s)),t.opacityExit=Gt(e.opacity??1,0,yG(s))):o&&(t.opacity=Gt(e.opacity??1,n.opacity??1,s));for(let l=0;l<mG;l++){const h=`border${$M[l]}Radius`;let d=gC(e,h),f=gC(n,h);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||pC(d)===pC(f)?(t[h]=Math.max(Gt(mC(d),mC(f),s),0),(cr.test(f)||cr.test(d))&&(t[h]+="%")):t[h]=f}(e.rotate||n.rotate)&&(t.rotate=Gt(e.rotate||0,n.rotate||0,s))}function gC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const gG=HM(0,.5,U2),yG=HM(.5,.95,oi);function HM(t,e,n){return s=>s<t?0:s>e?1:n(Bh(t,e,s))}function vG(t,e,n){const s=Qn(t)?t:Ic(t);return s.start(Xb("",s,e,n)),s.animation}function qh(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const _G=(t,e)=>t.depth-e.depth;class bG{constructor(){this.children=[],this.isDirty=!1}add(e){Nb(this.children,e),this.isDirty=!0}remove(e){Pb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_G),this.isDirty=!1,this.children.forEach(e)}}function wG(t,e){const n=ls.now(),s=({timestamp:r})=>{const o=r-n;o>=e&&(to(s),t(o-e))};return Ft.setup(s,!0),()=>to(s)}function wm(t){return Qn(t)?t.get():t}class TG{constructor(){this.members=[]}add(e){Nb(this.members,e),e.scheduleRender()}remove(e){if(Pb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Tm={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Bv=["","X","Y","Z"],EG=1e3;let SG=0;function zv(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function qM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=hM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ft,!(r||o))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&qM(s)}function GM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(l={},h=e?.()){this.id=SG++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CG),this.nodes.forEach(DG),this.nodes.forEach(MG),this.nodes.forEach(RG)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new bG)}addEventListener(l,h){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Ub),this.eventHandlers.get(l).add(h)}notifyListeners(l,...h){const d=this.eventHandlers.get(l);d&&d.notify(...h)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=TM(l)&&!xq(l),this.instance=l;const{layoutId:h,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let g,v=0;const _=()=>this.root.updateBlockedByResize=!1;Ft.read(()=>{v=window.innerWidth}),t(l,()=>{const A=window.innerWidth;A!==v&&(v=A,this.root.updateBlockedByResize=!0,g&&g(),g=wG(_,250),Tm.hasAnimatedSinceResize&&(Tm.hasAnimatedSinceResize=!1,this.nodes.forEach(_C)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&f&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||f.getDefaultTransition()||VG,{onLayoutAnimationStart:O,onLayoutAnimationComplete:M}=f.getProps(),B=!this.targetLayout||!zM(this.targetLayout,A),F=!v&&_;if(this.options.layoutRoot||this.resumeFrom||F||v&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...Qb(I,"layout"),onPlay:O,onComplete:M};(f.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(g,F)}else v||_C(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),to(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(OG),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(IG),this.nodes.forEach(AG),this.nodes.forEach(xG)):this.nodes.forEach(vC),this.clearAllSnapshots();const h=ls.now();Fn.delta=dr(0,1e3/60,h-Fn.timestamp),Fn.timestamp=h,Fn.isProcessing=!0,Ov.update.process(Fn),Ov.preRender.process(Fn),Ov.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kG),this.sharedNodes.forEach(NG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cs(this.snapshot.measuredBox.x)&&!cs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=An(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!BM(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;l&&this.instance&&(h||$o(this.latestValues)||g)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return l&&(d=this.removeTransform(d)),UG(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return An();const h=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(jG))){const{scroll:f}=this.root;f&&(hc(h.x,f.offset.x),hc(h.y,f.offset.y))}return h}removeElementScroll(l){const h=An();if(Ri(h,l),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:g,options:v}=f;f!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Ri(h,l),hc(h.x,g.offset.x),hc(h.y,g.offset.y))}return h}applyTransform(l,h=!1){const d=An();Ri(d,l);for(let f=0;f<this.path.length;f++){const g=this.path[f];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&dc(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),$o(g.latestValues)&&dc(d,g.latestValues)}return $o(this.latestValues)&&dc(d,this.latestValues),d}removeTransform(l){const h=An();Ri(h,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!$o(f.latestValues))continue;t0(f.latestValues)&&f.updateSnapshot();const g=An(),v=f.measurePageBox();Ri(g,v),lC(h,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return $o(this.latestValues)&&lC(h,this.latestValues),h}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=Fn.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=An(),this.targetWithTransforms=An()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ri(this.target,this.layout.layoutBox),kM(this.target,this.targetDelta)):Ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||t0(this.parent.latestValues)||RM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,h,d){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=An(),this.relativeTargetOrigin=An(),dp(this.relativeTargetOrigin,h,d),Ri(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),h=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;Ri(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;Vq(this.layoutCorrected,this.treeScale,this.path,h),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=An());const{target:A}=l;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nC(this.prevProjectionDelta.x,this.projectionDelta.x),nC(this.prevProjectionDelta.y,this.projectionDelta.y)),Eh(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!fC(this.projectionDelta.x,this.prevProjectionDelta.x)||!fC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uc(),this.projectionDelta=uc(),this.projectionDeltaWithTransform=uc()}setAnimationOrigin(l,h=!1){const d=this.snapshot,f=d?d.latestValues:{},g={...this.latestValues},v=uc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=An(),A=d?d.source:void 0,I=this.layout?this.layout.source:void 0,O=A!==I,M=this.getStack(),B=!M||M.members.length<=1,F=!!(O&&!B&&this.options.crossfade===!0&&!this.path.some(LG));this.animationProgress=0;let V;this.mixTargetDelta=K=>{const U=K/1e3;bC(v.x,l.x,U),bC(v.y,l.y,U),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dp(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PG(this.relativeTarget,this.relativeTargetOrigin,_,U),V&&dG(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=An()),Ri(V,this.relativeTarget)),O&&(this.animationValues=g,pG(g,f,this.latestValues,U,F,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(to(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ft.update(()=>{Tm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ic(0)),this.currentAnimation=vG(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),l.onUpdate&&l.onUpdate(h)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EG),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:h,target:d,layout:f,latestValues:g}=l;if(!(!h||!d||!f)){if(this!==l&&this.layout&&f&&KM(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||An();const v=cs(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const _=cs(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+_}Ri(h,d),dc(h,g),Eh(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(l,h){this.sharedNodes.has(l)||this.sharedNodes.set(l,new TG),this.sharedNodes.get(l).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:h,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let h=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const f={};d.z&&zv("z",l,f,this.animationValues);for(let g=0;g<Bv.length;g++)zv(`rotate${Bv[g]}`,l,f,this.animationValues),zv(`skew${Bv[g]}`,l,f,this.animationValues);l.render();for(const g in f)l.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);l.scheduleRender()}applyProjectionStyles(l,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=wm(h?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=wm(h?.pointerEvents)||""),this.hasProjected&&!$o(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let v=fG(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),l.transform=v;const{x:_,y:A}=this.projectionDelta;l.transformOrigin=`${_.origin*100}% ${A.origin*100}% 0`,f.animationValues?l.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const I in s0){if(g[I]===void 0)continue;const{correct:O,applyTo:M,isCSSVariable:B}=s0[I],F=v==="none"?g[I]:O(g[I],f);if(M){const V=M.length;for(let K=0;K<V;K++)l[M[K]]=F}else B?this.options.visualElement.renderState.vars[I]=F:l[I]=F}this.options.layoutId&&(l.pointerEvents=f===this?wm(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(yC),this.root.sharedNodes.clear()}}}function AG(t){t.updateLayout()}function xG(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:r}=t.options,o=e.source!==t.layout.source;r==="size"?ni(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],_=cs(v);v.min=n[g].min,v.max=v.min+_}):KM(r,e.layoutBox,n)&&ni(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],_=cs(n[g]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const l=uc();Eh(l,n,e.layoutBox);const h=uc();o?Eh(h,t.applyTransform(s,!0),e.measuredBox):Eh(h,n,e.layoutBox);const d=!BM(l);let f=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const A=An();dp(A,e.layoutBox,v.layoutBox);const I=An();dp(I,n,_.layoutBox),zM(A,I)||(f=!0),g.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=A,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function CG(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function RG(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function kG(t){t.clearSnapshot()}function yC(t){t.clearMeasurements()}function vC(t){t.isLayoutDirty=!1}function IG(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _C(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function DG(t){t.resolveTargetDelta()}function MG(t){t.calcProjection()}function OG(t){t.resetSkewAndRotation()}function NG(t){t.removeLeadSnapshot()}function bC(t,e,n){t.translate=Gt(e.translate,0,n),t.scale=Gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function wC(t,e,n,s){t.min=Gt(e.min,n.min,s),t.max=Gt(e.max,n.max,s)}function PG(t,e,n,s){wC(t.x,e.x,n.x,s),wC(t.y,e.y,n.y,s)}function LG(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const VG={duration:.45,ease:[.4,0,.1,1]},TC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),EC=TC("applewebkit/")&&!TC("chrome/")?Math.round:oi;function SC(t){t.min=EC(t.min),t.max=EC(t.max)}function UG(t){SC(t.x),SC(t.y)}function KM(t,e,n){return t==="position"||t==="preserve-aspect"&&!oG(dC(e),dC(n),.2)}function jG(t){return t!==t.root&&t.scroll?.wasRoot}const FG=GM({attachResizeListener:(t,e)=>qh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),$v={current:void 0},YM=GM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!$v.current){const t=new FG({});t.mount(window),t.setOptions({layoutScroll:!0}),$v.current=t}return $v.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ow=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function AC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function BG(...t){return e=>{let n=!1;const s=t.map(r=>{const o=AC(r,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let r=0;r<s.length;r++){const o=s[r];typeof o=="function"?o():AC(t[r],null)}}}}function zG(...t){return T.useCallback(BG(...t),t)}class $G extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=Z_(s)&&s.offsetWidth||0,o=Z_(s)&&s.offsetHeight||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=r-l.width-l.left,l.bottom=o-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function HG({children:t,isPresent:e,anchorX:n,anchorY:s,root:r}){const o=T.useId(),l=T.useRef(null),h=T.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=T.useContext(ow),f=t.props?.ref??t?.ref,g=zG(l,f);return T.useInsertionEffect(()=>{const{width:v,height:_,top:A,left:I,right:O,bottom:M}=h.current;if(e||!l.current||!v||!_)return;const B=n==="left"?`left: ${I}`:`right: ${O}`,F=s==="bottom"?`bottom: ${M}`:`top: ${A}`;l.current.dataset.motionPopId=o;const V=document.createElement("style");d&&(V.nonce=d);const K=r??document.head;return K.appendChild(V),V.sheet&&V.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${_}px !important;
            ${B}px !important;
            ${F}px !important;
          }
        `),()=>{K.contains(V)&&K.removeChild(V)}},[e]),k.jsx($G,{isPresent:e,childRef:l,sizeRef:h,children:T.cloneElement(t,{ref:g})})}const qG=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:o,mode:l,anchorX:h,anchorY:d,root:f})=>{const g=Ob(GG),v=T.useId();let _=!0,A=T.useMemo(()=>(_=!1,{id:v,initial:e,isPresent:n,custom:r,onExitComplete:I=>{g.set(I,!0);for(const O of g.values())if(!O)return;s&&s()},register:I=>(g.set(I,!1),()=>g.delete(I))}),[n,g,s]);return o&&_&&(A={...A}),T.useMemo(()=>{g.forEach((I,O)=>g.set(O,!1))},[n]),T.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),l==="popLayout"&&(t=k.jsx(HG,{isPresent:n,anchorX:h,anchorY:d,root:f,children:t})),k.jsx(Xp.Provider,{value:A,children:t})};function GG(){return new Map}function WM(t=!0){const e=T.useContext(Xp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,o=T.useId();T.useEffect(()=>{if(t)return r(o)},[t]);const l=T.useCallback(()=>t&&s&&s(o),[o,s,t]);return!n&&s?[!1,l]:[!0]}const em=t=>t.key||"";function xC(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const ml=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:o="sync",propagate:l=!1,anchorX:h="left",anchorY:d="top",root:f})=>{const[g,v]=WM(l),_=T.useMemo(()=>xC(t),[t]),A=l&&!g?[]:_.map(em),I=T.useRef(!0),O=T.useRef(_),M=Ob(()=>new Map),B=T.useRef(new Set),[F,V]=T.useState(_),[K,U]=T.useState(_);C2(()=>{I.current=!1,O.current=_;for(let S=0;S<K.length;S++){const C=em(K[S]);A.includes(C)?(M.delete(C),B.current.delete(C)):M.get(C)!==!0&&M.set(C,!1)}},[K,A.length,A.join("-")]);const Y=[];if(_!==F){let S=[..._];for(let C=0;C<K.length;C++){const L=K[C],j=em(L);A.includes(j)||(S.splice(C,0,L),Y.push(L))}return o==="wait"&&Y.length&&(S=Y),U(xC(S)),V(_),null}const{forceRender:x}=T.useContext(Mb);return k.jsx(k.Fragment,{children:K.map(S=>{const C=em(S),L=l&&!g?!1:_===K||A.includes(C),j=()=>{if(B.current.has(C))return;if(B.current.add(C),M.has(C))M.set(C,!0);else return;let N=!0;M.forEach(R=>{R||(N=!1)}),N&&(x?.(),U(O.current),l&&v?.(),s&&s())};return k.jsx(qG,{isPresent:L,initial:!I.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:o,root:f,onExitComplete:L?void 0:j,anchorX:h,anchorY:d,children:S},C)})})},QM=T.createContext({strict:!1}),CC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let RC=!1;function KG(){if(RC)return;const t={};for(const e in CC)t[e]={isEnabled:n=>CC[e].some(s=>!!n[s])};AM(t),RC=!0}function XM(){return KG(),Oq()}function YG(t){const e=XM();for(const n in t)e[n]={...e[n],...t[n]};AM(e)}const WG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||WG.has(t)}let JM=t=>!fp(t);function QG(t){typeof t=="function"&&(JM=e=>e.startsWith("on")?!fp(e):t(e))}try{QG(require("@emotion/is-prop-valid").default)}catch{}function XG(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(JM(r)||n===!0&&fp(r)||!e&&!fp(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}const eg=T.createContext({});function JG(t,e){if(Zp(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Hh(n)?n:void 0,animate:Hh(s)?s:void 0}}return t.inherit!==!1?e:{}}function ZG(t){const{initial:e,animate:n}=JG(t,T.useContext(eg));return T.useMemo(()=>({initial:e,animate:n}),[kC(e),kC(n)])}function kC(t){return Array.isArray(t)?t.join(" "):t}const lw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZM(t,e,n){for(const s in e)!Qn(e[s])&&!MM(s,n)&&(t[s]=e[s])}function eK({transformTemplate:t},e){return T.useMemo(()=>{const n=lw();return rw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function tK(t,e){const n=t.style||{},s={};return ZM(s,n,t),Object.assign(s,eK(t,e)),s}function nK(t,e){const n={},s=tK(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const eO=()=>({...lw(),attrs:{}});function sK(t,e,n,s){const r=T.useMemo(()=>{const o=eO();return OM(o,e,PM(s),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};ZM(o,t.style,t),r.style={...o,...r.style}}return r}const iK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cw(t){return typeof t!="string"||t.includes("-")?!1:!!(iK.indexOf(t)>-1||/[A-Z]/u.test(t))}function rK(t,e,n,{latestValues:s},r,o=!1,l){const d=(l??cw(t)?sK:nK)(e,s,r,t),f=XG(e,typeof t=="string",o),g=t!==T.Fragment?{...f,...d,ref:n}:{},{children:v}=e,_=T.useMemo(()=>Qn(v)?v.get():v,[v]);return T.createElement(t,{...g,children:_})}function aK({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:oK(n,s,r,t),renderState:e()}}function oK(t,e,n,s){const r={},o=s(t,{});for(const _ in o)r[_]=wm(o[_]);let{initial:l,animate:h}=t;const d=Zp(t),f=SM(t);e&&f&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?h:l;if(v&&typeof v!="boolean"&&!Jp(v)){const _=Array.isArray(v)?v:[v];for(let A=0;A<_.length;A++){const I=Jb(t,_[A]);if(I){const{transitionEnd:O,transition:M,...B}=I;for(const F in B){let V=B[F];if(Array.isArray(V)){const K=g?V.length-1:0;V=V[K]}V!==null&&(r[F]=V)}for(const F in O)r[F]=O[F]}}}return r}const tO=t=>(e,n)=>{const s=T.useContext(eg),r=T.useContext(Xp),o=()=>aK(t,e,s,r);return n?o():Ob(o)},lK=tO({scrapeMotionValuesFromProps:aw,createRenderState:lw}),cK=tO({scrapeMotionValuesFromProps:LM,createRenderState:eO}),uK=Symbol.for("motionComponentSymbol");function hK(t,e,n){const s=T.useRef(n);T.useInsertionEffect(()=>{s.current=n});const r=T.useRef(null);return T.useCallback(o=>{o&&t.onMount?.(o),e&&(o?e.mount(o):e.unmount());const l=s.current;if(typeof l=="function")if(o){const h=l(o);typeof h=="function"&&(r.current=h)}else r.current?(r.current(),r.current=null):l(o);else l&&(l.current=o)},[e])}const nO=T.createContext({});function uh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function dK(t,e,n,s,r,o){const{visualElement:l}=T.useContext(eg),h=T.useContext(QM),d=T.useContext(Xp),f=T.useContext(ow).reducedMotion,g=T.useRef(null);s=s||h.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f,isSVG:o}));const v=g.current,_=T.useContext(nO);v&&!v.projection&&r&&(v.type==="html"||v.type==="svg")&&fK(g.current,n,r,_);const A=T.useRef(!1);T.useInsertionEffect(()=>{v&&A.current&&v.update(n,d)});const I=n[uM],O=T.useRef(!!I&&!window.MotionHandoffIsComplete?.(I)&&window.MotionHasOptimisedAnimation?.(I));return C2(()=>{v&&(A.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),O.current&&v.animationState&&v.animationState.animateChanges())}),T.useEffect(()=>{v&&(!O.current&&v.animationState&&v.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(I)}),O.current=!1),v.enteringChildren=void 0)}),v}function fK(t,e,n,s){const{layoutId:r,layout:o,drag:l,dragConstraints:h,layoutScroll:d,layoutRoot:f,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:sO(t.parent)),t.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!l||h&&uh(h),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:d,layoutRoot:f})}function sO(t){if(t)return t.options.allowProjection!==!1?t.projection:sO(t.parent)}function Hv(t,{forwardMotionProps:e=!1,type:n}={},s,r){s&&YG(s);const o=n?n==="svg":cw(t),l=o?cK:lK;function h(f,g){let v;const _={...T.useContext(ow),...f,layoutId:mK(f)},{isStatic:A}=_,I=ZG(f),O=l(f,A);if(!A&&x2){pK();const M=gK(_);v=M.MeasureLayout,I.visualElement=dK(t,O,_,r,M.ProjectionNode,o)}return k.jsxs(eg.Provider,{value:I,children:[v&&I.visualElement?k.jsx(v,{visualElement:I.visualElement,..._}):null,rK(t,f,hK(O,I.visualElement,g),O,A,e,o)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=T.forwardRef(h);return d[uK]=t,d}function mK({layoutId:t}){const e=T.useContext(Mb).id;return e&&t!==void 0?e+"-"+t:t}function pK(t,e){T.useContext(QM).strict}function gK(t){const e=XM(),{drag:n,layout:s}=e;if(!n&&!s)return{};const r={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function yK(t,e){if(typeof Proxy>"u")return Hv;const n=new Map,s=(o,l)=>Hv(o,l,t,e),r=(o,l)=>s(o,l);return new Proxy(r,{get:(o,l)=>l==="create"?s:(n.has(l)||n.set(l,Hv(l,void 0,t,e)),n.get(l))})}const vK=(t,e)=>e.isSVG??cw(t)?new Qq(e):new Hq(e,{allowProjection:t!==T.Fragment});class _K extends ao{constructor(e){super(e),e.animationState||(e.animationState=tG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let bK=0;class wK extends ao{constructor(){super(...arguments),this.id=bK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const TK={animation:{Feature:_K},exit:{Feature:wK}};function md(t){return{point:{x:t.pageX,y:t.pageY}}}const EK=t=>e=>nw(e)&&t(e,md(e));function Sh(t,e,n,s){return qh(t,e,EK(n),s)}const iO=({current:t})=>t?t.ownerDocument.defaultView:null,IC=(t,e)=>Math.abs(t-e);function SK(t,e){const n=IC(t.x,e.x),s=IC(t.y,e.y);return Math.sqrt(n**2+s**2)}const DC=new Set(["auto","scroll"]);class rO{constructor(e,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Gv(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,O=SK(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!O)return;const{point:M}=A,{timestamp:B}=Fn;this.history.push({...M,timestamp:B});const{onStart:F,onMove:V}=this.handlers;I||(F&&F(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,A)},this.handlePointerMove=(A,I)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=qv(I,this.transformPagePoint),Ft.update(this.updatePoint,!0)},this.handlePointerUp=(A,I)=>{this.end();const{onEnd:O,onSessionEnd:M,resumeAnimation:B}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Gv(A.type==="pointercancel"?this.lastMoveEventInfo:qv(I,this.transformPagePoint),this.history);this.startEvent&&O&&O(A,F),M&&M(A,F)},!nw(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=r||window;const d=md(e),f=qv(d,this.transformPagePoint),{point:g}=f,{timestamp:v}=Fn;this.history=[{...g,timestamp:v}];const{onSessionStart:_}=n;_&&_(e,Gv(f,this.history)),this.removeListeners=hd(Sh(this.contextWindow,"pointermove",this.handlePointerMove),Sh(this.contextWindow,"pointerup",this.handlePointerUp),Sh(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(DC.has(s.overflowX)||DC.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,r=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:r.x-n.x,y:r.y-n.y};o.x===0&&o.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,r),Ft.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),to(this.updatePoint)}}function qv(t,e){return e?{point:e(t.point)}:t}function MC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Gv({point:t},e){return{point:t,delta:MC(t,aO(e)),offset:MC(t,AK(e)),velocity:xK(e,.1)}}function AK(t){return t[0]}function aO(t){return t[t.length-1]}function xK(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=aO(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Ur(e)));)n--;if(!s)return{x:0,y:0};const o=ii(r.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const l={x:(r.x-s.x)/o,y:(r.y-s.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function CK(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Gt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Gt(n,t,s.max):Math.min(t,n)),t}function OC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function RK(t,{top:e,left:n,bottom:s,right:r}){return{x:OC(t.x,n,r),y:OC(t.y,e,s)}}function NC(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function kK(t,e){return{x:NC(t.x,e.x),y:NC(t.y,e.y)}}function IK(t,e){let n=.5;const s=cs(t),r=cs(e);return r>s?n=Bh(e.min,e.max-s,t.min):s>r&&(n=Bh(t.min,t.max-r,e.min)),dr(0,1,n)}function DK(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const i0=.35;function MK(t=i0){return t===!1?t=0:t===!0&&(t=i0),{x:PC(t,"left","right"),y:PC(t,"top","bottom")}}function PC(t,e,n){return{min:LC(t,e),max:LC(t,n)}}function LC(t,e){return typeof t=="number"?t:t[e]||0}const OK=new WeakMap;class NK{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=An(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=v=>{n?(this.stopAnimation(),this.snapToCursor(md(v).point)):this.pauseAnimation()},l=(v,_)=>{this.stopAnimation();const{drag:A,dragPropagation:I,onDragStart:O}=this.getProps();if(A&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wq(A),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ni(B=>{let F=this.getAxisMotionValue(B).get()||0;if(cr.test(F)){const{projection:V}=this.visualElement;if(V&&V.layout){const K=V.layout.layoutBox[B];K&&(F=cs(K)*(parseFloat(F)/100))}}this.originPoint[B]=F}),O&&Ft.postRender(()=>O(v,_)),Q_(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},h=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:A,dragDirectionLock:I,onDirectionLock:O,onDrag:M}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:B}=_;if(I&&this.currentDirection===null){this.currentDirection=PK(B),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",_.point,B),this.updateAxis("y",_.point,B),this.visualElement.render(),M&&M(v,_)},d=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>ni(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new rO(e,{onSessionStart:o,onStart:l,onMove:h,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:iO(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,r=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!s)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:h}=this.getProps();h&&Ft.postRender(()=>h(s,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!tm(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(l=CK(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&uh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=RK(s.layoutBox,e):this.constraints=!1,this.elastic=MK(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ni(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=DK(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!uh(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=Uq(s,r.root,this.visualElement.getTransformPagePoint());let l=kK(r.layout.layoutBox,o);if(n){const h=n(Pq(l));this.hasMutatedConstraints=!!h,h&&(l=CM(h))}return l}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},f=ni(g=>{if(!tm(g,n,this.currentDirection))return;let v=d&&d[g]||{};l&&(v={min:0,max:0});const _=r?200:1e6,A=r?40:1e7,I={type:"inertia",velocity:s?e[g]:0,bounceStiffness:_,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,I)});return Promise.all(f).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Q_(this.visualElement,e),s.start(Xb(e,s,0,n,this.visualElement,!1))}stopAnimation(){ni(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ni(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ni(n=>{const{drag:s}=this.getProps();if(!tm(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:l,max:h}=r.layout.layoutBox[n],d=o.get()||0;o.set(e[n]-Gt(l,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!uh(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ni(l=>{const h=this.getAxisMotionValue(l);if(h&&this.constraints!==!1){const d=h.get();r[l]=IK({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ni(l=>{if(!tm(l,e,null))return;const h=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];h.set(Gt(d,f,r[l]))})}addListeners(){if(!this.visualElement.current)return;OK.set(this.visualElement,this);const e=this.visualElement.current,n=Sh(e,"pointerdown",d=>{const{drag:f,dragListener:g=!0}=this.getProps(),v=d.target,_=v!==e&&wM(v);f&&g&&!_&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();uh(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Ft.read(s);const l=qh(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(ni(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:l=i0,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:o,dragElastic:l,dragMomentum:h}}}function tm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function PK(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class LK extends ao{constructor(e){super(e),this.removeGroupControls=oi,this.removeListeners=oi,this.controls=new NK(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const VC=t=>(e,n)=>{t&&Ft.postRender(()=>t(e,n))};class VK extends ao{constructor(){super(...arguments),this.removePointerDownListener=oi}onPointerDown(e){this.session=new rO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:VC(e),onStart:VC(n),onMove:s,onEnd:(o,l)=>{delete this.session,r&&Ft.postRender(()=>r(o,l))}}}mount(){this.removePointerDownListener=Sh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Kv=!1;class UK extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:o}=e;o&&(n.group&&n.group.add(o),s&&s.register&&r&&s.register(o),Kv&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Tm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:o}=this.props,{projection:l}=s;return l&&(l.isPresent=o,Kv=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Ft.postRender(()=>{const h=l.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),tw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;Kv=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function oO(t){const[e,n]=WM(),s=T.useContext(Mb);return k.jsx(UK,{...t,layoutGroup:s,switchLayoutGroup:T.useContext(nO),isPresent:e,safeToRemove:n})}const jK={pan:{Feature:VK},drag:{Feature:LK,ProjectionNode:YM,MeasureLayout:oO}};function UC(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,o=s[r];o&&Ft.postRender(()=>o(e,md(e)))}class FK extends ao{mount(){const{current:e}=this.node;e&&(this.unmount=Tq(e,(n,s)=>(UC(this.node,s,"Start"),r=>UC(this.node,r,"End"))))}unmount(){}}class BK extends ao{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hd(qh(this.node.current,"focus",()=>this.onFocus()),qh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jC(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),o=s[r];o&&Ft.postRender(()=>o(e,md(e)))}class zK extends ao{mount(){const{current:e}=this.node;e&&(this.unmount=Aq(e,(n,s)=>(jC(this.node,s,"Start"),(r,{success:o})=>jC(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const r0=new WeakMap,Yv=new WeakMap,$K=t=>{const e=r0.get(t.target);e&&e(t)},HK=t=>{t.forEach($K)};function qK({root:t,...e}){const n=t||document;Yv.has(n)||Yv.set(n,{});const s=Yv.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(HK,{root:t,...e})),s[r]}function GK(t,e,n){const s=qK(e);return r0.set(t,n),s.observe(t),()=>{r0.delete(t),s.unobserve(t)}}const KK={some:0,all:1};class YK extends ao{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:KK[r]},h=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=f?g:v;_&&_(d)};return GK(this.node.current,l,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(WK(e,n))&&this.startObserver()}unmount(){}}function WK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const QK={inView:{Feature:YK},tap:{Feature:zK},focus:{Feature:BK},hover:{Feature:FK}},XK={layout:{ProjectionNode:YM,MeasureLayout:oO}},JK={...TK,...QK,...jK,...XK},os=yK(JK,vK);const ZK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eY=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),FC=t=>{const e=eY(t);return e.charAt(0).toUpperCase()+e.slice(1)},lO=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),tY=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var nY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sY=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:o,iconNode:l,...h},d)=>T.createElement("svg",{ref:d,...nY,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:lO("lucide",r),...!o&&!tY(h)&&{"aria-hidden":"true"},...h},[...l.map(([f,g])=>T.createElement(f,g)),...Array.isArray(o)?o:[o]]));const dt=(t,e)=>{const n=T.forwardRef(({className:s,...r},o)=>T.createElement(sY,{ref:o,iconNode:e,className:lO(`lucide-${ZK(FC(t))}`,`lucide-${t}`,s),...r}));return n.displayName=FC(t),n};const iY=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],rY=dt("activity",iY);const aY=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],cO=dt("arrow-left",aY);const oY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],a0=dt("arrow-right",oY);const lY=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],cY=dt("calendar-days",lY);const uY=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],uO=dt("calendar",uY);const hY=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],dY=dt("car",hY);const fY=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],mY=dt("chart-no-axes-column",fY);const pY=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],gY=dt("chart-pie",pY);const yY=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hO=dt("check",yY);const vY=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],o0=dt("chevron-left",vY);const _Y=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uw=dt("chevron-right",_Y);const bY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wY=dt("circle-alert",bY);const TY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],dO=dt("circle-check",TY);const EY=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fO=dt("clock",EY);const SY=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],AY=dt("fingerprint-pattern",SY);const xY=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],CY=dt("heart",xY);const RY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],kY=dt("history",RY);const IY=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],mO=dt("house",IY);const DY=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],MY=dt("indian-rupee",DY);const OY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pO=dt("info",OY);const NY=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],PY=dt("list-todo",NY);const LY=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],VY=dt("list",LY);const UY=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jY=dt("loader-circle",UY);const FY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],BY=dt("lock",FY);const zY=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],gO=dt("menu",zY);const $Y=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],HY=dt("moon",$Y);const qY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],GY=dt("panels-top-left",qY);const KY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yO=dt("settings",KY);const YY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],WY=dt("shield-check",YY);const QY=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],XY=dt("sparkles",QY);const JY=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ZY=dt("trash-2",JY);const eW=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],tW=dt("undo-2",eW);const nW=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],sW=dt("utensils",nW);const iW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tg=dt("x",iW);const rW=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],aW=dt("zap",rW),vO=T.createContext(),dZ=()=>{const t=T.useContext(vO);if(!t)throw new Error("useToast must be used within ToastProvider");return t},BC={success:{icon:dO,bg:"bg-emerald-600",text:"text-white"},error:{icon:wY,bg:"bg-rose-600",text:"text-white"},info:{icon:pO,bg:"bg-indigo-600",text:"text-white"}},oW=({children:t})=>{const[e,n]=T.useState([]),s=T.useCallback((o,l="info",h=3e3)=>{const d=Date.now()+Math.random();n(f=>[...f,{id:d,message:o,type:l}]),setTimeout(()=>{n(f=>f.filter(g=>g.id!==d))},h)},[]),r=T.useCallback(o=>{n(l=>l.filter(h=>h.id!==o))},[]);return k.jsxs(vO.Provider,{value:{showToast:s},children:[t,k.jsx("div",{className:"fixed top-[calc(env(safe-area-inset-top,0px)+16px)] left-1/2 -translate-x-1/2 z-[9999] flex flex-col gap-2 w-[90%] max-w-sm pointer-events-none",children:k.jsx(ml,{children:e.map(o=>{const l=BC[o.type]||BC.info,h=l.icon;return k.jsxs(os.div,{initial:{opacity:0,y:-30,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{type:"spring",damping:20,stiffness:300},className:`${l.bg} ${l.text} px-4 py-3.5 rounded-2xl shadow-2xl flex items-center gap-3 pointer-events-auto backdrop-blur-lg`,children:[k.jsx(h,{className:"w-5 h-5 shrink-0"}),k.jsx("span",{className:"text-sm font-bold flex-1",children:o.message}),k.jsx("button",{onClick:()=>r(o.id),className:"p-1 rounded-full hover:bg-white/20 transition-colors shrink-0",children:k.jsx(tg,{className:"w-3.5 h-3.5"})})]},o.id)})})})]})},_O="/AWAKE/assets/awake_logo_new-CKmsyQnW.png",bO=()=>k.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 pb-20",children:k.jsx("div",{className:"relative flex flex-col items-center",children:k.jsx("img",{src:_O,alt:"Loading...",className:"h-10 w-auto animate-pulse object-contain drop-shadow-xl dark:brightness-0 dark:invert"})})}),Wv=({children:t})=>{const{user:e,authIsReady:n}=ui();return n?e?t:k.jsx(xR,{to:"/login",replace:!0}):k.jsx(bO,{})},lW=[.22,1,.36,1],cW=.15,wO={duration:cW,ease:lW};function TO(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=TO(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Pi(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=TO(t))&&(s&&(s+=" "),s+=e);return s}const uW=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},hW=(t,e)=>({classGroupId:t,validator:e}),EO=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),mp="-",zC=[],dW="arbitrary..",fW=t=>{const e=pW(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return mW(l);const h=l.split(mp),d=h[0]===""&&h.length>1?1:0;return SO(h,d,e)},getConflictingClassGroupIds:(l,h)=>{if(h){const d=s[l],f=n[l];return d?f?uW(f,d):d:f||zC}return n[l]||zC}}},SO=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const r=t[e],o=n.nextPart.get(r);if(o){const f=SO(t,e+1,o);if(f)return f}const l=n.validators;if(l===null)return;const h=e===0?t.join(mp):t.slice(e).join(mp),d=l.length;for(let f=0;f<d;f++){const g=l[f];if(g.validator(h))return g.classGroupId}},mW=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?dW+s:void 0})(),pW=t=>{const{theme:e,classGroups:n}=t;return gW(n,e)},gW=(t,e)=>{const n=EO();for(const s in t){const r=t[s];hw(r,n,s,e)}return n},hw=(t,e,n,s)=>{const r=t.length;for(let o=0;o<r;o++){const l=t[o];yW(l,e,n,s)}},yW=(t,e,n,s)=>{if(typeof t=="string"){vW(t,e,n);return}if(typeof t=="function"){_W(t,e,n,s);return}bW(t,e,n,s)},vW=(t,e,n)=>{const s=t===""?e:AO(e,t);s.classGroupId=n},_W=(t,e,n,s)=>{if(wW(t)){hw(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(hW(n,t))},bW=(t,e,n,s)=>{const r=Object.entries(t),o=r.length;for(let l=0;l<o;l++){const[h,d]=r[l];hw(d,AO(e,h),n,s)}},AO=(t,e)=>{let n=t;const s=e.split(mp),r=s.length;for(let o=0;o<r;o++){const l=s[o];let h=n.nextPart.get(l);h||(h=EO(),n.nextPart.set(l,h)),n=h}return n},wW=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,TW=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const r=(o,l)=>{n[o]=l,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(o){let l=n[o];if(l!==void 0)return l;if((l=s[o])!==void 0)return r(o,l),l},set(o,l){o in n?n[o]=l:r(o,l)}}},l0="!",$C=":",EW=[],HC=(t,e,n,s,r)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:r}),SW=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=r=>{const o=[];let l=0,h=0,d=0,f;const g=r.length;for(let O=0;O<g;O++){const M=r[O];if(l===0&&h===0){if(M===$C){o.push(r.slice(d,O)),d=O+1;continue}if(M==="/"){f=O;continue}}M==="["?l++:M==="]"?l--:M==="("?h++:M===")"&&h--}const v=o.length===0?r:r.slice(d);let _=v,A=!1;v.endsWith(l0)?(_=v.slice(0,-1),A=!0):v.startsWith(l0)&&(_=v.slice(1),A=!0);const I=f&&f>d?f-d:void 0;return HC(o,A,_,I)};if(e){const r=e+$C,o=s;s=l=>l.startsWith(r)?o(l.slice(r.length)):HC(EW,!1,l,void 0,!0)}if(n){const r=s;s=o=>n({className:o,parseClassName:r})}return s},AW=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let r=[];for(let o=0;o<n.length;o++){const l=n[o],h=l[0]==="[",d=e.has(l);h||d?(r.length>0&&(r.sort(),s.push(...r),r=[]),s.push(l)):r.push(l)}return r.length>0&&(r.sort(),s.push(...r)),s}},xW=t=>({cache:TW(t.cacheSize),parseClassName:SW(t),sortModifiers:AW(t),...fW(t)}),CW=/\s+/,RW=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r,sortModifiers:o}=e,l=[],h=t.trim().split(CW);let d="";for(let f=h.length-1;f>=0;f-=1){const g=h[f],{isExternal:v,modifiers:_,hasImportantModifier:A,baseClassName:I,maybePostfixModifierPosition:O}=n(g);if(v){d=g+(d.length>0?" "+d:d);continue}let M=!!O,B=s(M?I.substring(0,O):I);if(!B){if(!M){d=g+(d.length>0?" "+d:d);continue}if(B=s(I),!B){d=g+(d.length>0?" "+d:d);continue}M=!1}const F=_.length===0?"":_.length===1?_[0]:o(_).join(":"),V=A?F+l0:F,K=V+B;if(l.indexOf(K)>-1)continue;l.push(K);const U=r(B,M);for(let Y=0;Y<U.length;++Y){const x=U[Y];l.push(V+x)}d=g+(d.length>0?" "+d:d)}return d},kW=(...t)=>{let e=0,n,s,r="";for(;e<t.length;)(n=t[e++])&&(s=xO(n))&&(r&&(r+=" "),r+=s);return r},xO=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=xO(t[s]))&&(n&&(n+=" "),n+=e);return n},IW=(t,...e)=>{let n,s,r,o;const l=d=>{const f=e.reduce((g,v)=>v(g),t());return n=xW(f),s=n.cache.get,r=n.cache.set,o=h,h(d)},h=d=>{const f=s(d);if(f)return f;const g=RW(d,n);return r(d,g),g};return o=l,(...d)=>o(kW(...d))},DW=[],Sn=t=>{const e=n=>n[t]||DW;return e.isThemeGetter=!0,e},CO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,RO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,MW=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,OW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,LW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ka=t=>MW.test(t),tt=t=>!!t&&!Number.isNaN(Number(t)),Ia=t=>!!t&&Number.isInteger(Number(t)),Qv=t=>t.endsWith("%")&&tt(t.slice(0,-1)),Or=t=>OW.test(t),kO=()=>!0,UW=t=>NW.test(t)&&!PW.test(t),dw=()=>!1,jW=t=>LW.test(t),FW=t=>VW.test(t),BW=t=>!Me(t)&&!Ne(t),zW=t=>oo(t,MO,dw),Me=t=>CO.test(t),Fo=t=>oo(t,OO,UW),qC=t=>oo(t,QW,tt),$W=t=>oo(t,PO,kO),HW=t=>oo(t,NO,dw),GC=t=>oo(t,IO,dw),qW=t=>oo(t,DO,FW),nm=t=>oo(t,LO,jW),Ne=t=>RO.test(t),nh=t=>pl(t,OO),GW=t=>pl(t,NO),KC=t=>pl(t,IO),KW=t=>pl(t,MO),YW=t=>pl(t,DO),sm=t=>pl(t,LO,!0),WW=t=>pl(t,PO,!0),oo=(t,e,n)=>{const s=CO.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},pl=(t,e,n=!1)=>{const s=RO.exec(t);return s?s[1]?e(s[1]):n:!1},IO=t=>t==="position"||t==="percentage",DO=t=>t==="image"||t==="url",MO=t=>t==="length"||t==="size"||t==="bg-size",OO=t=>t==="length",QW=t=>t==="number",NO=t=>t==="family-name",PO=t=>t==="number"||t==="weight",LO=t=>t==="shadow",XW=()=>{const t=Sn("color"),e=Sn("font"),n=Sn("text"),s=Sn("font-weight"),r=Sn("tracking"),o=Sn("leading"),l=Sn("breakpoint"),h=Sn("container"),d=Sn("spacing"),f=Sn("radius"),g=Sn("shadow"),v=Sn("inset-shadow"),_=Sn("text-shadow"),A=Sn("drop-shadow"),I=Sn("blur"),O=Sn("perspective"),M=Sn("aspect"),B=Sn("ease"),F=Sn("animate"),V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...K(),Ne,Me],Y=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],S=()=>[Ne,Me,d],C=()=>[ka,"full","auto",...S()],L=()=>[Ia,"none","subgrid",Ne,Me],j=()=>["auto",{span:["full",Ia,Ne,Me]},Ia,Ne,Me],N=()=>[Ia,"auto",Ne,Me],R=()=>["auto","min","max","fr",Ne,Me],Q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...S()],W=()=>[ka,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],le=()=>[ka,"screen","full","dvw","lvw","svw","min","max","fit",...S()],ye=()=>[ka,"screen","full","lh","dvh","lvh","svh","min","max","fit",...S()],ue=()=>[t,Ne,Me],z=()=>[...K(),KC,GC,{position:[Ne,Me]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],_e=()=>["auto","cover","contain",KW,zW,{size:[Ne,Me]}],Te=()=>[Qv,nh,Fo],xe=()=>["","none","full",f,Ne,Me],Ce=()=>["",tt,nh,Fo],$e=()=>["solid","dashed","dotted","double"],ut=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Be=()=>[tt,Qv,KC,GC],wn=()=>["","none",I,Ne,Me],Rn=()=>["none",tt,Ne,Me],be=()=>["none",tt,Ne,Me],pe=()=>[tt,Ne,Me],ae=()=>[ka,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Or],breakpoint:[Or],color:[kO],container:[Or],"drop-shadow":[Or],ease:["in","out","in-out"],font:[BW],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Or],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Or],shadow:[Or],spacing:["px",tt],text:[Or],"text-shadow":[Or],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ka,Me,Ne,M]}],container:["container"],columns:[{columns:[tt,Me,Ne,h]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{"inset-s":C(),start:C()}],end:[{"inset-e":C(),end:C()}],"inset-bs":[{"inset-bs":C()}],"inset-be":[{"inset-be":C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Ia,"auto",Ne,Me]}],basis:[{basis:[ka,"full","auto",h,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[tt,ka,"auto","initial","none",Me]}],grow:[{grow:["",tt,Ne,Me]}],shrink:[{shrink:["",tt,Ne,Me]}],order:[{order:[Ia,"first","last","none",Ne,Me]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pbs:[{pbs:S()}],pbe:[{pbe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mbs:[{mbs:$()}],mbe:[{mbe:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],"inline-size":[{inline:["auto",...le()]}],"min-inline-size":[{"min-inline":["auto",...le()]}],"max-inline-size":[{"max-inline":["none",...le()]}],"block-size":[{block:["auto",...ye()]}],"min-block-size":[{"min-block":["auto",...ye()]}],"max-block-size":[{"max-block":["none",...ye()]}],w:[{w:[h,"screen",...W()]}],"min-w":[{"min-w":[h,"screen","none",...W()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[l]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",n,nh,Fo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,WW,$W]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Qv,Me]}],"font-family":[{font:[GW,HW,e]}],"font-features":[{"font-features":[Me]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,Ne,Me]}],"line-clamp":[{"line-clamp":[tt,"none",Ne,qC]}],leading:[{leading:[o,...S()]}],"list-image":[{"list-image":["none",Ne,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ue()}],"text-color":[{text:ue()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$e(),"wavy"]}],"text-decoration-thickness":[{decoration:[tt,"from-font","auto",Ne,Fo]}],"text-decoration-color":[{decoration:ue()}],"underline-offset":[{"underline-offset":[tt,"auto",Ne,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:z()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:_e()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ia,Ne,Me],radial:["",Ne,Me],conic:[Ia,Ne,Me]},YW,qW]}],"bg-color":[{bg:ue()}],"gradient-from-pos":[{from:Te()}],"gradient-via-pos":[{via:Te()}],"gradient-to-pos":[{to:Te()}],"gradient-from":[{from:ue()}],"gradient-via":[{via:ue()}],"gradient-to":[{to:ue()}],rounded:[{rounded:xe()}],"rounded-s":[{"rounded-s":xe()}],"rounded-e":[{"rounded-e":xe()}],"rounded-t":[{"rounded-t":xe()}],"rounded-r":[{"rounded-r":xe()}],"rounded-b":[{"rounded-b":xe()}],"rounded-l":[{"rounded-l":xe()}],"rounded-ss":[{"rounded-ss":xe()}],"rounded-se":[{"rounded-se":xe()}],"rounded-ee":[{"rounded-ee":xe()}],"rounded-es":[{"rounded-es":xe()}],"rounded-tl":[{"rounded-tl":xe()}],"rounded-tr":[{"rounded-tr":xe()}],"rounded-br":[{"rounded-br":xe()}],"rounded-bl":[{"rounded-bl":xe()}],"border-w":[{border:Ce()}],"border-w-x":[{"border-x":Ce()}],"border-w-y":[{"border-y":Ce()}],"border-w-s":[{"border-s":Ce()}],"border-w-e":[{"border-e":Ce()}],"border-w-bs":[{"border-bs":Ce()}],"border-w-be":[{"border-be":Ce()}],"border-w-t":[{"border-t":Ce()}],"border-w-r":[{"border-r":Ce()}],"border-w-b":[{"border-b":Ce()}],"border-w-l":[{"border-l":Ce()}],"divide-x":[{"divide-x":Ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...$e(),"hidden","none"]}],"divide-style":[{divide:[...$e(),"hidden","none"]}],"border-color":[{border:ue()}],"border-color-x":[{"border-x":ue()}],"border-color-y":[{"border-y":ue()}],"border-color-s":[{"border-s":ue()}],"border-color-e":[{"border-e":ue()}],"border-color-bs":[{"border-bs":ue()}],"border-color-be":[{"border-be":ue()}],"border-color-t":[{"border-t":ue()}],"border-color-r":[{"border-r":ue()}],"border-color-b":[{"border-b":ue()}],"border-color-l":[{"border-l":ue()}],"divide-color":[{divide:ue()}],"outline-style":[{outline:[...$e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[tt,Ne,Me]}],"outline-w":[{outline:["",tt,nh,Fo]}],"outline-color":[{outline:ue()}],shadow:[{shadow:["","none",g,sm,nm]}],"shadow-color":[{shadow:ue()}],"inset-shadow":[{"inset-shadow":["none",v,sm,nm]}],"inset-shadow-color":[{"inset-shadow":ue()}],"ring-w":[{ring:Ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ue()}],"ring-offset-w":[{"ring-offset":[tt,Fo]}],"ring-offset-color":[{"ring-offset":ue()}],"inset-ring-w":[{"inset-ring":Ce()}],"inset-ring-color":[{"inset-ring":ue()}],"text-shadow":[{"text-shadow":["none",_,sm,nm]}],"text-shadow-color":[{"text-shadow":ue()}],opacity:[{opacity:[tt,Ne,Me]}],"mix-blend":[{"mix-blend":[...ut(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ut()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[tt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Be()}],"mask-image-linear-to-pos":[{"mask-linear-to":Be()}],"mask-image-linear-from-color":[{"mask-linear-from":ue()}],"mask-image-linear-to-color":[{"mask-linear-to":ue()}],"mask-image-t-from-pos":[{"mask-t-from":Be()}],"mask-image-t-to-pos":[{"mask-t-to":Be()}],"mask-image-t-from-color":[{"mask-t-from":ue()}],"mask-image-t-to-color":[{"mask-t-to":ue()}],"mask-image-r-from-pos":[{"mask-r-from":Be()}],"mask-image-r-to-pos":[{"mask-r-to":Be()}],"mask-image-r-from-color":[{"mask-r-from":ue()}],"mask-image-r-to-color":[{"mask-r-to":ue()}],"mask-image-b-from-pos":[{"mask-b-from":Be()}],"mask-image-b-to-pos":[{"mask-b-to":Be()}],"mask-image-b-from-color":[{"mask-b-from":ue()}],"mask-image-b-to-color":[{"mask-b-to":ue()}],"mask-image-l-from-pos":[{"mask-l-from":Be()}],"mask-image-l-to-pos":[{"mask-l-to":Be()}],"mask-image-l-from-color":[{"mask-l-from":ue()}],"mask-image-l-to-color":[{"mask-l-to":ue()}],"mask-image-x-from-pos":[{"mask-x-from":Be()}],"mask-image-x-to-pos":[{"mask-x-to":Be()}],"mask-image-x-from-color":[{"mask-x-from":ue()}],"mask-image-x-to-color":[{"mask-x-to":ue()}],"mask-image-y-from-pos":[{"mask-y-from":Be()}],"mask-image-y-to-pos":[{"mask-y-to":Be()}],"mask-image-y-from-color":[{"mask-y-from":ue()}],"mask-image-y-to-color":[{"mask-y-to":ue()}],"mask-image-radial":[{"mask-radial":[Ne,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":Be()}],"mask-image-radial-to-pos":[{"mask-radial-to":Be()}],"mask-image-radial-from-color":[{"mask-radial-from":ue()}],"mask-image-radial-to-color":[{"mask-radial-to":ue()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":K()}],"mask-image-conic-pos":[{"mask-conic":[tt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Be()}],"mask-image-conic-to-pos":[{"mask-conic-to":Be()}],"mask-image-conic-from-color":[{"mask-conic-from":ue()}],"mask-image-conic-to-color":[{"mask-conic-to":ue()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:z()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:_e()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,Me]}],filter:[{filter:["","none",Ne,Me]}],blur:[{blur:wn()}],brightness:[{brightness:[tt,Ne,Me]}],contrast:[{contrast:[tt,Ne,Me]}],"drop-shadow":[{"drop-shadow":["","none",A,sm,nm]}],"drop-shadow-color":[{"drop-shadow":ue()}],grayscale:[{grayscale:["",tt,Ne,Me]}],"hue-rotate":[{"hue-rotate":[tt,Ne,Me]}],invert:[{invert:["",tt,Ne,Me]}],saturate:[{saturate:[tt,Ne,Me]}],sepia:[{sepia:["",tt,Ne,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,Me]}],"backdrop-blur":[{"backdrop-blur":wn()}],"backdrop-brightness":[{"backdrop-brightness":[tt,Ne,Me]}],"backdrop-contrast":[{"backdrop-contrast":[tt,Ne,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",tt,Ne,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[tt,Ne,Me]}],"backdrop-invert":[{"backdrop-invert":["",tt,Ne,Me]}],"backdrop-opacity":[{"backdrop-opacity":[tt,Ne,Me]}],"backdrop-saturate":[{"backdrop-saturate":[tt,Ne,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",tt,Ne,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[tt,"initial",Ne,Me]}],ease:[{ease:["linear","initial",B,Ne,Me]}],delay:[{delay:[tt,Ne,Me]}],animate:[{animate:["none",F,Ne,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,Ne,Me]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:Rn()}],"rotate-x":[{"rotate-x":Rn()}],"rotate-y":[{"rotate-y":Rn()}],"rotate-z":[{"rotate-z":Rn()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:pe()}],"skew-x":[{"skew-x":pe()}],"skew-y":[{"skew-y":pe()}],transform:[{transform:[Ne,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ae()}],"translate-x":[{"translate-x":ae()}],"translate-y":[{"translate-y":ae()}],"translate-z":[{"translate-z":ae()}],"translate-none":["translate-none"],accent:[{accent:ue()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ue()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mbs":[{"scroll-mbs":S()}],"scroll-mbe":[{"scroll-mbe":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pbs":[{"scroll-pbs":S()}],"scroll-pbe":[{"scroll-pbe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,Me]}],fill:[{fill:["none",...ue()]}],"stroke-w":[{stroke:[tt,nh,Fo,qC]}],stroke:[{stroke:["none",...ue()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ng=IW(XW);function c0(...t){return ng(Pi(t))}const Gh=Kh.forwardRef(({onClick:t,className:e,disabled:n=!1,block:s=!1,scaleDown:r=.96,as:o="div",children:l,...h},d)=>{const f=typeof o=="string"?os[o]:o,g=v=>{n||(typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(10),t&&t(v))};return k.jsx(f,{ref:d,whileTap:n?{}:{scale:r,y:1},whileHover:n?{}:{scale:1.01,y:-.5},transition:{type:"spring",stiffness:400,damping:25},onClick:g,className:Pi("cursor-pointer select-none outline-none",s?"block w-full":"inline-block",n&&"opacity-50 cursor-not-allowed pointer-events-none",e),...h,children:l})}),pp=Kh.forwardRef(({children:t,variant:e="primary",size:n="md",isLoading:s=!1,className:r="",disabled:o,...l},h)=>{const d="inline-flex items-center justify-center rounded-lg text-sm font-medium transition-colors focus:outline-none disabled:opacity-50 disabled:pointer-events-none",f={primary:"bg-primary-600 text-white hover:bg-primary-700 shadow-sm",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50",ghost:"bg-transparent text-slate-700 hover:bg-slate-100",danger:"bg-red-600 text-white hover:bg-red-700",outline:"bg-transparent text-slate-700 dark:text-slate-300 border border-slate-200 dark:border-slate-800 hover:bg-slate-100 dark:hover:bg-slate-800"},g={md:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"};return k.jsx(Gh,{ref:h,as:"button",scaleDown:.96,disabled:o||s,className:c0(d,f[e],g[n],r),...l,children:s?k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("img",{src:_O,alt:"Loading...",className:c0("h-5 w-auto animate-pulse",(e==="primary"||e==="danger")&&"brightness-0 invert")}),k.jsx("span",{className:"opacity-70",children:"Processing..."})]}):t})});pp.displayName="Button";let im=0,YC="";function pd(t=!0){T.useEffect(()=>{if(t)return im===0&&(YC=window.getComputedStyle(document.body).overflow,document.body.style.overflow="hidden",document.body.style.touchAction="none"),im++,()=>{im--,im===0&&(document.body.style.overflow=YC,document.body.style.touchAction="")}},[t])}const JW=({isOpen:t,onClose:e,initialDate:n,onSelect:s,minDate:r})=>{pd(t);const{currentDate:o,setDate:l}=kb(),h=n||o,[d,f]=T.useState(new Date(h)),[g,v]=T.useState("day");T.useEffect(()=>{t&&(f(new Date(h)),v("day"))},[t,h]);const _=()=>{s?s(d):l(d),e()},A=()=>{s&&s(null),e()},I=new Date;I.setHours(0,0,0,0);const O=S=>S>I,M=S=>{if(!r)return!1;const C=new Date(r);return C.setHours(0,0,0,0),S<C},B=S=>s?M(S):O(S),F=(S,C)=>new Date(S,C+1,0).getDate(),V=(S,C)=>new Date(S,C,1).getDay(),K=()=>{const S=d.getFullYear(),C=d.getMonth(),L=F(S,C),j=V(S,C),N=[];for(let R=0;R<j;R++)N.push(null);for(let R=1;R<=L;R++)N.push(new Date(S,C,R));return N},U=S=>{const C=new Date(d);C.setMonth(C.getMonth()+S),f(C)},Y=S=>{const C=new Date(d);C.setFullYear(S),C.getMonth()!==d.getMonth()&&C.setDate(0),f(C),v("day")},x=k.jsx(ml,{children:t&&k.jsx("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:k.jsxs(os.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-sm bg-white rounded-2xl shadow-xl overflow-hidden dark:bg-slate-900 border dark:border-slate-800",children:[k.jsxs("div",{className:"p-4 border-b dark:border-slate-800 flex items-center justify-between",children:[k.jsxs("h3",{className:"font-bold text-lg dark:text-white flex items-center gap-2",children:[k.jsx(uO,{className:"w-5 h-5 text-indigo-500"}),"Select Date"]}),k.jsx("button",{onClick:e,className:"p-1 hover:bg-slate-100 rounded-full dark:hover:bg-slate-800 transition-colors",children:k.jsx(tg,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"})})]}),k.jsxs("div",{className:"p-4",children:[k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsx("button",{onClick:()=>U(-1),className:"p-1 hover:bg-slate-100 rounded-lg dark:hover:bg-slate-800",children:k.jsx(o0,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{onClick:()=>v("month"),className:"font-bold text-slate-800 hover:bg-slate-100 px-2 py-1 rounded-md transition-colors dark:text-white dark:hover:bg-slate-800",children:d.toLocaleString("default",{month:"long"})}),k.jsx("button",{onClick:()=>v("year"),className:"font-bold text-slate-800 hover:bg-slate-100 px-2 py-1 rounded-md transition-colors dark:text-white dark:hover:bg-slate-800",children:d.getFullYear()})]}),k.jsx("button",{onClick:()=>U(1),disabled:d.getMonth()===I.getMonth()&&d.getFullYear()===I.getFullYear(),className:"p-1 hover:bg-slate-100 rounded-lg dark:hover:bg-slate-800",children:k.jsx(uw,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),k.jsxs("div",{className:"h-64 overflow-y-auto",children:[g==="day"&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-bold text-slate-400",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(S=>k.jsx("div",{children:S},S))}),k.jsx("div",{className:"grid grid-cols-7 gap-1",children:K().map((S,C)=>k.jsx("div",{className:"aspect-square flex items-center justify-center",children:S&&k.jsx("button",{onClick:()=>f(S),disabled:B(S),className:`
                                                                w-8 h-8 rounded-full text-sm font-medium transition-colors
                                                                ${S.getDate()===d.getDate()&&S.getMonth()===d.getMonth()?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":B(S)?"text-slate-300 dark:text-slate-700 cursor-not-allowed opacity-50":"hover:bg-slate-100 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}
                                                            `,children:S.getDate()})},C))})]}),g==="month"&&k.jsx("div",{className:"grid grid-cols-3 gap-2",children:Array.from({length:12},(S,C)=>new Date(0,C)).map((S,C)=>k.jsx("button",{onClick:()=>{const L=new Date(d);L.setMonth(C),f(L),v("day")},className:`p-2 rounded-lg text-sm font-medium transition-colors ${d.getMonth()===C?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"hover:bg-slate-50 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:S.toLocaleString("default",{month:"short"})},C))}),g==="year"&&k.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:10},(S,C)=>I.getFullYear()-C).map(S=>k.jsx("button",{onClick:()=>Y(S),className:`p-2 rounded-lg text-sm font-medium transition-colors ${d.getFullYear()===S?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"hover:bg-slate-50 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:S},S))})]})]}),k.jsxs("div",{className:"p-4 bg-slate-50 border-t dark:bg-slate-900 dark:border-slate-800 flex justify-between items-center",children:[k.jsx("div",{children:s&&k.jsx("button",{onClick:A,className:"text-sm font-bold text-slate-400 hover:text-red-500 transition-colors px-2 py-1",children:"Clear"})}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx(pp,{variant:"ghost",onClick:e,className:"dark:text-slate-400",children:"Cancel"}),k.jsx(pp,{onClick:_,children:s?"Save":"Jump"})]})]})]})})});return typeof window>"u"?null:pV.createPortal(x,document.body)};function fc(...t){return ng(Pi(t))}const WC=({title:t,children:e,className:n})=>k.jsxs("div",{className:fc("mb-6 sm:mb-8",n),children:[t&&k.jsx("h3",{className:"px-4 mb-2 text-xs font-bold uppercase tracking-widest text-slate-500 dark:text-slate-400",children:t}),k.jsx("div",{className:"bg-white dark:bg-[#1C1C1E] overflow-hidden rounded-2xl shadow-sm border border-slate-200/50 dark:border-white/5",children:e})]}),Xv=({icon:t,title:e,subtitle:n,rightElement:s,onClick:r,isDanger:o=!1,isLast:l=!1,className:h})=>{const d=r?Gh:"div";return k.jsx(d,{onClick:r,block:!0,scaleDown:.98,className:fc("group flex items-center min-h-[56px] transition-all duration-200",r?"cursor-pointer active:bg-slate-50 dark:active:bg-[#2C2C2E]":"",h),children:k.jsxs("div",{className:fc("flex items-center flex-1 min-w-0 py-3 pr-4 ml-4",!l&&"border-b border-slate-100 dark:border-white/5"),children:[t&&k.jsx("div",{className:fc("w-10 h-10 rounded-xl flex items-center justify-center shrink-0 mr-4 transition-colors",o?"bg-rose-500/10 text-rose-500":"bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 group-hover:bg-slate-200 dark:group-hover:bg-slate-700"),children:k.jsx(t,{strokeWidth:2.2,className:"w-6 h-6"})}),k.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between",children:[k.jsxs("div",{className:"flex flex-col min-w-0",children:[k.jsx("span",{className:fc("text-[16px] font-semibold leading-tight truncate",o?"text-rose-500":"text-slate-900 dark:text-white"),children:e}),n&&k.jsx("span",{className:"text-[13px] text-slate-500 dark:text-slate-400 mt-1 truncate",children:n})]}),k.jsxs("div",{className:"flex items-center shrink-0 ml-4",children:[s,r&&!s&&k.jsx(uw,{className:"w-5 h-5 text-slate-300 dark:text-slate-600 transition-transform group-active:translate-x-0.5"})]})]})]})})},ZW=({children:t,className:e})=>k.jsx("div",{className:fc("py-4 sm:py-6",e),children:t}),eQ=({isOpen:t,onClose:e})=>{pd(t);const{user:n}=ui(),s=Gr(),[r,o]=T.useState(!1),{t:l}=cd(),h=[{icon:kY,label:l("nav.history","Order History"),path:"/history"},{icon:gY,label:l("nav.insights","Insights"),path:"/analytics"},{icon:yO,label:l("nav.settings","Settings"),path:"/settings"},{icon:pO,label:l("nav.about","About Awake"),path:"/about"}],d=[{icon:sW,label:l("nav.diet_planner","Diet Planner"),path:"/diet"}],f=g=>{e(),s(g)};return k.jsxs(ml,{children:[t&&k.jsxs(k.Fragment,{children:[k.jsx(os.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 z-[100] bg-slate-900/40 backdrop-blur-sm"}),k.jsxs(os.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:wO,className:"fixed inset-y-0 right-0 z-[110] w-[85%] max-w-[340px] bg-slate-50 dark:bg-black shadow-2xl flex flex-col",children:[k.jsxs("div",{className:"px-5 flex items-center justify-between border-b border-slate-200/50 dark:border-white/5",style:{paddingTop:"env(safe-area-inset-top, 0px)",height:"calc(60px + env(safe-area-inset-top, 0px))"},children:[k.jsx("h2",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white",children:l("common.menu","Menu")}),k.jsx("button",{onClick:e,className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-500 dark:text-slate-400 active:scale-90 transition-all",children:k.jsx(tg,{className:"w-5 h-5",strokeWidth:2.5})})]}),k.jsx("div",{className:"flex-1 overflow-y-auto",children:k.jsxs(ZW,{className:"px-3",children:[k.jsx(WC,{title:"General",children:h.map((g,v)=>k.jsx(Xv,{icon:g.icon,title:g.label,onClick:()=>f(g.path),isLast:v===h.length-1},g.path))}),k.jsxs(WC,{title:"Tools",children:[k.jsx(Xv,{icon:cY,title:l("date.jump_to_date","Jump to Date"),onClick:()=>o(!0)}),d.map((g,v)=>k.jsx(Xv,{icon:g.icon,title:g.label,onClick:()=>f(g.path),isLast:v===d.length-1},g.path))]})]})}),k.jsx("div",{className:"p-6 border-t border-slate-200/50 dark:border-white/5 text-center",children:k.jsx("p",{className:"text-[11px] font-bold tracking-widest text-slate-400 dark:text-slate-600 uppercase",children:"HUMI AWAKE v1.2.0"})})]})]}),r&&k.jsx(JW,{isOpen:r,onClose:()=>{o(!1),e()}})]})};function sc(...t){return ng(Pi(t))}function VO({items:t=[],className:e}){const n=Ss(),s=Gr();return k.jsx("nav",{className:sc("fixed bottom-0 left-0 right-0 z-40 w-full","bg-white/80 dark:bg-slate-950/80 backdrop-blur-xl","border-t border-slate-200/50 dark:border-slate-800/50","pb-[env(safe-area-inset-bottom)]",e),children:k.jsx("div",{className:"flex h-[64px] items-center justify-around px-2 relative",children:t.map((r,o)=>{const l=r.isActive!==void 0?r.isActive:r.exact?n.pathname===r.path:n.pathname.startsWith(r.path),h=r.icon,d=r.isPrimary,f=()=>{r.onClick?r.onClick():r.path&&s(r.path)};return d?k.jsxs("div",{className:"relative -mt-8 flex items-center justify-center",children:[k.jsx(Gh,{onClick:f,scaleDown:.92,className:sc("w-14 h-14 rounded-[22px] flex items-center justify-center shadow-xl transition-all duration-300",l?"bg-primary-600 text-white shadow-primary-500/30":"bg-slate-900 dark:bg-primary-600 text-white shadow-slate-900/20"),children:k.jsx(h,{className:"w-7 h-7 stroke-[2.5px]"})}),r.label&&k.jsx("span",{className:sc("absolute -bottom-6 text-[10px] font-bold tracking-tight whitespace-nowrap",l?"text-primary-600 dark:text-primary-500":"text-slate-400 dark:text-slate-500"),children:r.label})]},r.path||r.id||o):k.jsxs(Gh,{onClick:f,scaleDown:.94,className:sc("flex flex-col items-center justify-center w-full h-full gap-0.5 tap-highlight-transparent group",l?"text-primary-600 dark:text-primary-500":"text-slate-400 dark:text-slate-500"),children:[k.jsx("div",{className:"flex items-center justify-center relative",children:k.jsx(h,{className:sc("w-6 h-6 transition-all duration-200",l?"stroke-[2.5px] scale-110":"stroke-[1.75px]")})}),k.jsx("span",{className:"text-[10px] font-medium tracking-tight",children:r.label}),k.jsx("div",{className:sc("h-[3px] w-[3px] rounded-full bg-primary-600 dark:bg-primary-500 mt-0.5 transition-all duration-200",l?"opacity-100 scale-100":"opacity-0 scale-0")})]},r.path||r.id||o)})})})}const UO=()=>{const{t}=cd(),e=[{icon:mO,label:t("nav.home_nav","Home"),path:"/",exact:!0},{icon:dO,label:t("nav.routine_nav","Routine"),path:"/routine",exact:!1},{icon:PY,label:t("nav.todo_nav","To-Do"),path:"/workspace",exact:!1,isPrimary:!0},{icon:MY,label:t("nav.finance_nav","Finance"),path:"/finance",exact:!1},{icon:dY,label:t("nav.vehicle_nav","Vehicle"),path:"/vehicle",exact:!1}];return k.jsx("div",{className:"sm:hidden",children:k.jsx(VO,{items:e})})},jO=({variant:t="back",onClick:e,className:n,disabled:s=!1,label:r,iconOnly:o=!0,size:l="md",fullWidth:h=!1,children:d})=>{const f=()=>{const _=l==="sm"?"w-5 h-5":"w-6 h-6";switch(t){case"back":case"prev":return k.jsx(o0,{className:_});case"forward":case"next":return k.jsx(uw,{className:_});case"exit":return k.jsx(tg,{className:_});case"save":return k.jsx(hO,{className:_});case"submit":return k.jsx(a0,{className:_});case"delete":return k.jsx(ZY,{className:_});case"undo":return k.jsx(tW,{className:_});case"arrow-left":return k.jsx(cO,{className:_});case"arrow-right":return k.jsx(a0,{className:_});default:return k.jsx(o0,{className:_})}},g=()=>{switch(t){case"delete":return"bg-rose-50 dark:bg-rose-500/10 text-rose-600 dark:text-rose-400 hover:bg-rose-100 dark:hover:bg-rose-500/20 shadow-sm shadow-rose-500/10 active:shadow-none";case"save":return"bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-100 dark:hover:bg-emerald-500/20 shadow-sm shadow-emerald-500/10 active:shadow-none";case"primary":return"bg-slate-900 dark:bg-white text-white dark:text-slate-900 hover:bg-slate-800 dark:hover:bg-white/90 shadow-md shadow-slate-900/20 dark:shadow-white/20 active:shadow-none";case"ghost":return"bg-transparent text-slate-700 dark:text-slate-300 hover:bg-black/5 dark:hover:bg-white/5 active:bg-black/10 dark:active:bg-white/10";default:return"bg-slate-100 dark:bg-white/5 text-slate-900 dark:text-white hover:bg-slate-200 dark:hover:bg-white/10 border border-slate-200/50 dark:border-white/5 shadow-sm active:shadow-none"}},v={sm:"p-2 rounded-[14px]",md:"p-3 rounded-[18px]",lg:"p-4 rounded-[22px]"};return k.jsx(Gh,{as:"button",onClick:e,disabled:s,className:Pi("flex items-center justify-center transition-colors duration-200 outline-none select-none px-4",g(),v[l],h?"w-full":"w-fit",s&&"opacity-40 cursor-not-allowed contrast-50 saturate-50",n),title:r||t,"aria-label":r||t,children:d||k.jsxs(k.Fragment,{children:[f(),!o&&r&&k.jsx("span",{className:Pi("font-bold uppercase tracking-widest ml-2",l==="sm"?"text-[8px]":"text-[10px]"),children:r})]})})};function tQ(...t){return ng(Pi(t))}function FO({title:t,leftNode:e,rightNode:n,showBack:s=!1,onBack:r,className:o,transparent:l=!1}){const h=Gr(),d=f=>{if(f&&(f.preventDefault(),f.stopPropagation()),r){r(f);return}h(-1)};return k.jsxs("header",{className:tQ("fixed top-0 left-0 right-0 z-[100] w-full px-5","flex items-center justify-between gap-4",l?"bg-transparent":"bg-white/95 dark:bg-slate-950/95 backdrop-blur-md border-b border-slate-200/50 dark:border-slate-800/50",o),style:{paddingTop:"env(safe-area-inset-top, 0px)",height:"calc(60px + env(safe-area-inset-top, 0px))"},children:[k.jsx("div",{className:"flex-1 flex justify-start items-center min-w-0",children:s?k.jsx(jO,{variant:"back",onClick:d,className:"-ml-2",size:"sm"}):e||k.jsx("h1",{className:"text-[17px] font-black tracking-tightest text-slate-900 dark:text-white uppercase truncate",children:t})}),e&&k.jsx("div",{className:"flex-1 flex justify-center text-center truncate",children:k.jsx("h1",{className:"text-[15px] font-bold text-slate-900 dark:text-white uppercase tracking-tight truncate",children:t})}),k.jsx("div",{className:"flex-1 flex justify-end items-center gap-3 shrink-0",children:n})]})}const nQ=({children:t})=>{const{user:e}=ui(),{formattedDate:n}=kb(),[s,r]=T.useState(!1),o=Ss(),l=Gr(),d=["/","/routine","/history","/settings"].includes(o.pathname),g=!["/routine","/history","/settings","/finance","/vehicle","/diet","/analytics","/profile","/about"].some(O=>o.pathname.startsWith(O)),_=["/routine","/history","/settings","/finance","/vehicle","/diet","/analytics","/profile","/about"].some(O=>o.pathname.startsWith(O)),{isDark:A}=YD(),I=k.jsx("div",{className:"flex items-center justify-center p-12",children:k.jsx("div",{className:"w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})});return k.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 dark:bg-slate-950 dark:text-slate-50 transition-colors",style:{paddingTop:_?"0px":g?"calc(60px + env(safe-area-inset-top))":"env(safe-area-inset-top)",paddingBottom:_?"0":"calc(5rem + env(safe-area-inset-bottom))"},children:[g&&k.jsx(FO,{title:"",showBack:!d,leftNode:k.jsx("button",{onClick:()=>l("/profile"),className:"focus:outline-none hover:opacity-80 transition-opacity flex items-center justify-center",children:k.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold shadow-sm ring-1 ring-white dark:ring-slate-700 overflow-hidden ${e?.profileColor?`${e.profileColor} text-white`:"bg-indigo-100 text-indigo-600"}`,children:e?.photoURL?k.jsx("img",{src:e.photoURL,alt:e?.name,className:"w-full h-full object-cover"}):k.jsx("span",{className:"uppercase",children:e?.initials||e?.name?.charAt(0)||"U"})})}),rightNode:k.jsx("button",{onClick:()=>r(!0),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-full transition-colors dark:text-slate-300 dark:hover:bg-slate-800",children:k.jsx(gO,{className:"w-6 h-6"})})}),_?k.jsx("main",{className:"min-h-screen",children:k.jsx(T.Suspense,{fallback:I,children:t||k.jsx(Am,{})})}):k.jsxs("main",{className:c0("px-4 max-w-md mx-auto w-full",g?"pt-4":"pt-0"),children:[k.jsx(T.Suspense,{fallback:I,children:t||k.jsx(Am,{})}),k.jsx("div",{className:"text-[10px] font-black text-slate-300 dark:text-slate-700 uppercase tracking-[0.2em] text-center mt-8 mb-2 opacity-60",children:"Developed by CoolCraft"})]}),!o.pathname.startsWith("/finance")&&!o.pathname.startsWith("/vehicle")&&k.jsx(UO,{}),k.jsx(eQ,{isOpen:s,onClose:()=>r(!1)})]})},sQ=()=>{const{pathname:t}=Ss(),{t:e}=cd(),n=[{icon:mO,label:"AWAKE",path:"/",exact:!0},{icon:CY,label:"Dhikr",path:"/ramadan/dhikr",exact:!1},{icon:HY,label:"Ramadan",path:"/ramadan",exact:!0,isPrimary:!0},{icon:mY,label:"Stats",path:"/ramadan/stats",exact:!1},{icon:gO,label:"More",path:"/ramadan/settings",exact:!1}];return k.jsx(VO,{items:n})},iQ=({children:t})=>k.jsxs("div",{className:"min-h-screen bg-[#F2F2F7] dark:bg-black text-black dark:text-white font-sans transition-colors relative",children:[t||k.jsx(Am,{}),k.jsx(sQ,{})]}),rQ=({children:t})=>{const e=Gr(),n=Ss(),{isDark:s}=YD(),[r,o]=T.useState(!1),{t:l}=cd();pd(r);const h=g=>n.pathname===g,d=[{icon:VY,label:l("workspace.active_tasks","Active Tasks"),path:"/workspace/tasks"},{icon:uO,label:l("workspace.calendar","Calendar"),path:"/workspace/calendar"},{icon:GY,label:l("workspace.overview","Overview"),path:"/workspace/overview"},{icon:yO,label:l("workspace.settings","Settings"),path:"/workspace/settings"}],f=[{icon:fO,label:l("workspace.recent","Recent"),color:"text-blue-500"}];return k.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-50 font-sans transition-colors duration-300 pb-24",children:[k.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[k.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl opacity-50 mix-blend-multiply animate-float"}),k.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl opacity-50 mix-blend-multiply animate-float",style:{animationDelay:"2s"}})]}),k.jsx(ml,{children:r&&k.jsxs(k.Fragment,{children:[k.jsx(os.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>o(!1),className:"fixed inset-0 z-40 bg-slate-900/20 backdrop-blur-sm"}),k.jsxs(os.aside,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:wO,className:"fixed inset-y-0 right-0 z-50 w-80 bg-white dark:bg-slate-900 shadow-2xl flex flex-col h-full border-l border-slate-100 dark:border-slate-800",children:[k.jsxs("div",{className:"px-5 flex items-center justify-between border-b border-slate-100 dark:border-slate-800",style:{paddingTop:"env(safe-area-inset-top, 0px)",height:"calc(60px + env(safe-area-inset-top, 0px))"},children:[k.jsx("h2",{className:"font-bold text-lg",children:l("common.menu","Menu")}),k.jsx(jO,{variant:"exit",onClick:()=>o(!1),size:"sm"})]}),k.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[k.jsxs("section",{children:[k.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 px-2",children:l("workspace.navigation","Navigation")}),k.jsx("div",{className:"space-y-1",children:d.map(g=>k.jsxs("button",{onClick:()=>{e(g.path),o(!1)},className:`w-full flex items-center justify-between px-3 py-3 rounded-xl transition-all ${h(g.path)?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 font-semibold":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx(g.icon,{className:"w-5 h-5"}),g.label]}),h(g.path)&&k.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})]},g.path))})]}),k.jsxs("section",{children:[k.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 px-2",children:l("workspace.favorites","Favorites")}),f.map((g,v)=>k.jsxs("button",{onClick:()=>{g.label===l("workspace.important","Important")&&e("/workspace/important"),g.label===l("workspace.recent","Recent")&&e("/workspace/recent"),o(!1)},className:"w-full flex items-center gap-3 px-3 py-3 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 rounded-xl transition-colors",children:[k.jsx(g.icon,{className:`w-5 h-5 ${g.color}`}),g.label]},v))]})]})]})]})}),k.jsx("main",{className:"relative z-10 w-full",style:{paddingTop:"env(safe-area-inset-top)"},children:k.jsx(T.Suspense,{fallback:k.jsx("div",{className:"flex items-center justify-center p-12",children:k.jsx("div",{className:"w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})}),children:t||k.jsx(Am,{})})}),k.jsx(UO,{})]})},aQ=()=>{const{error:t,clearError:e}=g2();return t?k.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,background:"#ff4d4f",color:"white",padding:"12px 16px",zIndex:9999,display:"flex",justifyContent:"space-between",alignItems:"center",fontFamily:"sans-serif"},children:[k.jsx("span",{children:t.message}),k.jsx("button",{onClick:e,style:{background:"transparent",border:"1px solid white",color:"white",cursor:"pointer"},children:"Dismiss"})]}):null},oQ=()=>{const{user:t}=ui(),[e,n]=T.useState(!1),[s,r]=T.useState(!0),[o,l]=T.useState(0);pd(e);const h=[{title:"Welcome to Awake",text:"Your daily routine and discipline system.",icon:XY,color:"text-amber-500",bg:"bg-amber-50 dark:bg-amber-900/20"},{title:"Track Tasks & Routine",text:"Complete daily actions and build consistency.",icon:rY,color:"text-indigo-500",bg:"bg-indigo-50 dark:bg-indigo-900/20"},{title:"Quick Capture",text:"Add tasks or expenses instantly. Finance supports your discipline.",icon:aW,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-900/20"}];T.useEffect(()=>{t?we.getDocument(`users/${t.uid}/config`,"settings").then(v=>{v?.onboardingCompleted!==!0&&n(!0),r(!1)}).catch(v=>{console.error("Error checking onboarding status:",v),r(!1)}):r(!1)},[t]);const d=async()=>{if(t)try{await we.setItem(`users/${t.uid}/config`,"settings",{onboardingCompleted:!0},!0),n(!1)}catch(v){console.error("Failed to complete onboarding:",v),n(!1)}},f=()=>{o<h.length-1?l(v=>v+1):d()};if(s||!e)return null;const g=h[o].icon;return k.jsx(ml,{children:e&&k.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[k.jsx(os.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-slate-900/80 backdrop-blur-md"}),k.jsx(os.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",bounce:.4,duration:.6},className:"relative bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-800",children:k.jsxs("div",{className:"p-8 flex flex-col items-center text-center min-h-[420px]",children:[k.jsx(os.div,{initial:{scale:0,rotate:-20},animate:{scale:1,rotate:0},transition:{type:"spring",bounce:.5,duration:.6},className:Pi("w-24 h-24 rounded-[2rem] flex items-center justify-center mb-8 shadow-inner",h[o].bg),children:k.jsx(g,{className:Pi("w-10 h-10",h[o].color)})},`icon-${o}`),k.jsxs(os.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1},className:"flex-1",children:[k.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-3 tracking-tight",children:h[o].title}),k.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium leading-relaxed max-w-[260px] mx-auto text-sm",children:h[o].text})]},`text-${o}`),k.jsx("div",{className:"flex gap-2 my-8 justify-center",children:h.map((v,_)=>k.jsx(os.div,{initial:!1,animate:{width:_===o?32:6,backgroundColor:_===o?document.documentElement.classList.contains("dark")?"#fff":"#0f172a":document.documentElement.classList.contains("dark")?"#334155":"#e2e8f0"},className:"h-1.5 rounded-full"},_))}),k.jsx("div",{className:"w-full",children:k.jsx(pp,{onClick:f,className:"w-full py-4 rounded-2xl text-base font-bold shadow-xl shadow-indigo-500/20 transition-transform",children:o===h.length-1?k.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Start Using Awake ",k.jsx(hO,{className:"w-5 h-5 stroke-[3]"})]}):k.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Continue ",k.jsx(a0,{className:"w-5 h-5 stroke-[3]"})]})})})]})})]})})},QC=["Welcome","You are doing great","Be consistent","Don't give up"],XC=800;function lQ({onComplete:t}){const[e,n]=T.useState(0);return pd(!0),T.useEffect(()=>{if(e<QC.length-1){const s=setTimeout(()=>{n(r=>r+1)},XC);return()=>clearTimeout(s)}else{const s=setTimeout(()=>{t()},XC+200);return()=>clearTimeout(s)}},[e,t]),k.jsxs("div",{className:"fixed inset-0 flex items-center justify-center bg-slate-50 dark:bg-slate-950 z-[9999] overflow-hidden",children:[k.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[k.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-indigo-500/10 rounded-full blur-[100px]"}),k.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-purple-500/10 rounded-full blur-[100px]"})]}),k.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:k.jsx(ml,{mode:"wait",children:k.jsx(os.h1,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.25,ease:"easeInOut"},className:"absolute text-3xl md:text-5xl font-bold text-slate-800 dark:text-slate-100 text-center tracking-tight px-4 w-full",children:QC[e]},e)})})]})}const cQ=({children:t})=>{const{appSettings:e,updateSetting:n}=w8(),{user:s}=ui(),[r,o]=T.useState(!1),[l,h]=T.useState(!1),[d,f]=T.useState(null),g=e?.security?.lockEnabled,v=e?.security?.biometricEnabled;T.useEffect(()=>{if(!s||!g){o(!1);return}o(!0)},[s,g]),T.useEffect(()=>{const A=()=>{document.hidden&&g&&o(!0)};return document.addEventListener("visibilitychange",A),()=>document.removeEventListener("visibilitychange",A)},[g]);const _=async()=>{if(!v){o(!1);return}h(!0),f(null);try{window.PublicKeyCredential,o(!1)}catch(A){console.error("Biometric authentication failed:",A),f("Authentication failed. Please try again.")}finally{h(!1)}};return r?k.jsxs("div",{className:"relative w-full h-full min-h-screen",children:[k.jsx("div",{className:"fixed inset-0 blur-2xl grayscale scale-110 pointer-events-none opacity-50 overflow-hidden",children:t}),k.jsx(ml,{children:k.jsx(os.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-[9999] bg-white/80 dark:bg-slate-950/90 backdrop-blur-xl flex flex-col items-center justify-center p-6",children:k.jsxs(os.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-sm flex flex-col items-center text-center",children:[k.jsx("div",{className:"w-20 h-20 bg-indigo-500 rounded-3xl flex items-center justify-center shadow-2xl shadow-indigo-500/30 mb-8",children:k.jsx(BY,{className:"w-10 h-10 text-white"})}),k.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2",children:"AWAKE is Locked"}),k.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-12",children:"Secure your financial transactions and daily routines."}),k.jsxs("div",{className:"w-full flex flex-col gap-4",children:[k.jsxs("button",{onClick:_,disabled:l,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 active:scale-[0.98] transition-all text-white rounded-2xl font-black text-sm uppercase tracking-widest shadow-xl shadow-indigo-600/20 flex items-center justify-center gap-3",children:[l?k.jsx(jY,{className:"w-5 h-5 animate-spin"}):v?k.jsx(AY,{className:"w-5 h-5"}):k.jsx(WY,{className:"w-5 h-5"}),v?"Unlock App":"Continue to App"]}),d&&k.jsx("p",{className:"text-rose-500 text-xs font-bold mt-2 animate-shake",children:d}),k.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-8",children:"Protected by AWAKE Security"})]})]})})})]}):t},Jv="@firebase/remote-config",JC="0.8.1";class uQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}const hQ="remote-config",ZC=100;const dQ={"already-initialized":"Remote Config already initialized","registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser","custom-signal-max-allowed-signals":"Setting more than {$maxSignals} custom signals is not supported.","stream-error":"The stream was not able to connect to the backend: {$originalErrorMessage}.","realtime-unavailable":"The Realtime service is unavailable: {$originalErrorMessage}","update-message-invalid":"The stream invalidation message was unparsable: {$originalErrorMessage}","update-not-fetched":"Unable to fetch the latest config: {$originalErrorMessage}","analytics-unavailable":"Connection to Firebase Analytics failed: {$originalErrorMessage}"},xn=new so("remoteconfig","Remote Config",dQ);function fQ(t){const e=mt(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}class mQ{constructor(e,n,s,r){this.client=e,this.storage=n,this.storageCache=s,this.logger=r}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const s=Date.now()-n,r=s<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${s}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}async fetch(e){const[n,s]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(s&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n))return s;e.eTag=s&&s.eTag;const r=await this.client.fetch(e),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return r.status===200&&o.push(this.storage.setLastSuccessfulFetchResponse(r)),await Promise.all(o),r}}function pQ(t=navigator){return t.languages&&t.languages[0]||t.language}class gQ{constructor(e,n,s,r,o,l){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=s,this.projectId=r,this.apiKey=o,this.appId=l}async fetch(e){const[n,s]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},h={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:s,app_id:this.appId,language_code:pQ(),custom_signals:e.customSignals},d={method:"POST",headers:l,body:JSON.stringify(h)},f=fetch(o,d),g=new Promise((F,V)=>{e.signal.addEventListener(()=>{const K=new Error("The operation was aborted.");K.name="AbortError",V(K)})});let v;try{await Promise.race([f,g]),v=await f}catch(F){let V="fetch-client-network";throw F?.name==="AbortError"&&(V="fetch-timeout"),xn.create(V,{originalErrorMessage:F?.message})}let _=v.status;const A=v.headers.get("ETag")||void 0;let I,O,M,B;if(v.status===200){let F;try{F=await v.json()}catch(V){throw xn.create("fetch-client-parse",{originalErrorMessage:V?.message})}I=F.entries,O=F.state,M=F.templateVersion,B=F.experimentDescriptions}if(O==="INSTANCE_STATE_UNSPECIFIED"?_=500:O==="NO_CHANGE"?_=304:(O==="NO_TEMPLATE"||O==="EMPTY_CONFIG")&&(I={},B=[]),_!==304&&_!==200)throw xn.create("fetch-status",{httpStatus:_});return{status:_,eTag:A,config:I,templateVersion:M,experiments:B}}}function yQ(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(o),s(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vQ(t){if(!(t instanceof As)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class _Q{constructor(e,n){this.client=e,this.storage=n}async fetch(e){const n=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,n)}async attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:s}){await yQ(e.signal,n);try{const r=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),r}catch(r){if(!vQ(r))throw r;const o={throttleEndTimeMillis:Date.now()+Cm(s),backoffCount:s+1};return await this.storage.setThrottleMetadata(o),this.attemptFetch(e,o)}}}const bQ=60*1e3,wQ=720*60*1e3;class TQ{get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}constructor(e,n,s,r,o,l,h){this.app=e,this._client=n,this._storageCache=s,this._storage=r,this._logger=o,this._realtimeHandler=l,this._analyticsProvider=h,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:bQ,minimumFetchIntervalMillis:wQ},this.defaultConfig={}}}function Em(t,e){const n=t.target.error||void 0;return xn.create(e,{originalErrorMessage:n&&n?.message})}const Ma="app_namespace_store",EQ="firebase_remote_config",SQ=1;function AQ(){return new Promise((t,e)=>{try{const n=indexedDB.open(EQ,SQ);n.onerror=s=>{e(Em(s,"storage-open"))},n.onsuccess=s=>{t(s.target.result)},n.onupgradeneeded=s=>{const r=s.target.result;s.oldVersion===0&&r.createObjectStore(Ma,{keyPath:"compositeKey"})}}catch(n){e(xn.create("storage-open",{originalErrorMessage:n?.message}))}})}class BO{getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getActiveExperiments(){return this.get("active_experiments")}setActiveExperiments(e){return this.set("active_experiments",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}getCustomSignals(){return this.get("custom_signals")}getRealtimeBackoffMetadata(){return this.get("realtime_backoff_metadata")}setRealtimeBackoffMetadata(e){return this.set("realtime_backoff_metadata",e)}getActiveConfigTemplateVersion(){return this.get("last_known_template_version")}setActiveConfigTemplateVersion(e){return this.set("last_known_template_version",e)}}class xQ extends BO{constructor(e,n,s,r=AQ()){super(),this.appId=e,this.appName=n,this.namespace=s,this.openDbPromise=r}async setCustomSignals(e){const s=(await this.openDbPromise).transaction([Ma],"readwrite"),r=await this.getWithTransaction("custom_signals",s),o=zO(e,r||{});return await this.setWithTransaction("custom_signals",o,s),o}async getWithTransaction(e,n){return new Promise((s,r)=>{const o=n.objectStore(Ma),l=this.createCompositeKey(e);try{const h=o.get(l);h.onerror=d=>{r(Em(d,"storage-get"))},h.onsuccess=d=>{const f=d.target.result;s(f?f.value:void 0)}}catch(h){r(xn.create("storage-get",{originalErrorMessage:h?.message}))}})}async setWithTransaction(e,n,s){return new Promise((r,o)=>{const l=s.objectStore(Ma),h=this.createCompositeKey(e);try{const d=l.put({compositeKey:h,value:n});d.onerror=f=>{o(Em(f,"storage-set"))},d.onsuccess=()=>{r()}}catch(d){o(xn.create("storage-set",{originalErrorMessage:d?.message}))}})}async get(e){const s=(await this.openDbPromise).transaction([Ma],"readonly");return this.getWithTransaction(e,s)}async set(e,n){const r=(await this.openDbPromise).transaction([Ma],"readwrite");return this.setWithTransaction(e,n,r)}async delete(e){const n=await this.openDbPromise;return new Promise((s,r)=>{const l=n.transaction([Ma],"readwrite").objectStore(Ma),h=this.createCompositeKey(e);try{const d=l.delete(h);d.onerror=f=>{r(Em(f,"storage-delete"))},d.onsuccess=()=>{s()}}catch(d){r(xn.create("storage-delete",{originalErrorMessage:d?.message}))}})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class CQ extends BO{constructor(){super(...arguments),this.storage={}}async get(e){return Promise.resolve(this.storage[e])}async set(e,n){return this.storage[e]=n,Promise.resolve(void 0)}async delete(e){return this.storage[e]=void 0,Promise.resolve()}async setCustomSignals(e){const n=this.storage.custom_signals||{};return this.storage.custom_signals=zO(e,n),Promise.resolve(this.storage.custom_signals)}}function zO(t,e){const n={...e,...t},s=Object.fromEntries(Object.entries(n).filter(([r,o])=>o!==null).map(([r,o])=>typeof o=="number"?[r,o.toString()]:[r,o]));if(Object.keys(s).length>ZC)throw xn.create("custom-signal-max-allowed-signals",{maxSignals:ZC});return s}class RQ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}getCustomSignals(){return this.customSignals}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),s=this.storage.getActiveConfig(),r=this.storage.getCustomSignals(),o=await e;o&&(this.lastFetchStatus=o);const l=await n;l&&(this.lastSuccessfulFetchTimestampMillis=l);const h=await s;h&&(this.activeConfig=h);const d=await r;d&&(this.customSignals=d)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}async setCustomSignals(e){this.customSignals=await this.storage.setCustomSignals(e)}}class kQ{constructor(e){this.allowedEvents_=e,this.listeners_={},i_(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let r=0;r<s.length;r++)s[r].callback.apply(s[r].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const r=this.getInitialEvent(e);r&&n.apply(s,r)}off(e,n,s){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!s||s===r[o].context)){r.splice(o,1);return}}validateEventType_(e){i_(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class fw extends kQ{static getInstance(){return new fw}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return i_(e==="visible","Unknown event type: "+e),[this.visible_]}}const IQ="X-Goog-Api-Key",DQ="X-Goog-Firebase-Installations-Auth",Zv=8,eR=3,tR=-1,nR=0,sR="featureDisabled",iR="retryIntervalSeconds",rR="latestTemplateVersionNumber";class MQ{constructor(e,n,s,r,o,l,h,d,f,g){this.firebaseInstallations=e,this.storage=n,this.sdkVersion=s,this.namespace=r,this.projectId=o,this.apiKey=l,this.appId=h,this.logger=d,this.storageCache=f,this.cachingClient=g,this.observers=new Set,this.isConnectionActive=!1,this.isRealtimeDisabled=!1,this.httpRetriesRemaining=Zv,this.isInBackground=!1,this.decoder=new TextDecoder("utf-8"),this.isClosingConnection=!1,this.propagateError=v=>this.observers.forEach(_=>_.error?.(v)),this.isStatusCodeRetryable=v=>!v||[408,429,502,503,504].includes(v),this.setRetriesRemaining(),fw.getInstance().on("visible",this.onVisibilityChange,this)}async setRetriesRemaining(){const n=(await this.storage.getRealtimeBackoffMetadata())?.numFailedStreams||0;this.httpRetriesRemaining=Math.max(Zv-n,1)}async updateBackoffMetadataWithLastFailedStreamConnectionTime(e){const n=((await this.storage.getRealtimeBackoffMetadata())?.numFailedStreams||0)+1,s=Cm(n,6e4,2);await this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:new Date(e.getTime()+s),numFailedStreams:n})}async updateBackoffMetadataWithRetryInterval(e){const n=Date.now(),s=e*1e3,r=new Date(n+s);await this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:r,numFailedStreams:0}),await this.retryHttpConnectionWhenBackoffEnds()}async closeRealtimeHttpConnection(){if(!this.isClosingConnection){this.isClosingConnection=!0;try{this.reader&&await this.reader.cancel()}catch{this.logger.debug("Failed to cancel the reader, connection was lost.")}finally{this.reader=void 0}this.controller&&(await this.controller.abort(),this.controller=void 0),this.isClosingConnection=!1}}async resetRealtimeBackoff(){await this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:new Date(-1),numFailedStreams:0})}resetRetryCount(){this.httpRetriesRemaining=Zv}async establishRealtimeConnection(e,n,s,r){const o=await this.storage.getActiveConfigEtag(),l=await this.storage.getActiveConfigTemplateVersion(),h={[IQ]:this.apiKey,[DQ]:s,"Content-Type":"application/json",Accept:"application/json","If-None-Match":o||"*","Content-Encoding":"gzip"},d={project:this.projectId,namespace:this.namespace,lastKnownVersionNumber:l,appId:this.appId,sdkVersion:this.sdkVersion,appInstanceId:n};return await fetch(e,{method:"POST",headers:h,body:JSON.stringify(d),signal:r})}getRealtimeUrl(){const n=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfigrealtime.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:streamFetchInvalidations?key=${this.apiKey}`;return new URL(n)}async createRealtimeConnection(){const[e,n]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken(!1)]);this.controller=new AbortController;const s=this.getRealtimeUrl();return await this.establishRealtimeConnection(s,e,n,this.controller.signal)}async retryHttpConnectionWhenBackoffEnds(){let e=await this.storage.getRealtimeBackoffMetadata();e||(e={backoffEndTimeMillis:new Date(tR),numFailedStreams:nR});const n=new Date(e.backoffEndTimeMillis).getTime(),s=Date.now(),r=Math.max(0,n-s);await this.makeRealtimeHttpConnection(r)}setIsHttpConnectionRunning(e){this.isConnectionActive=e}checkAndSetHttpConnectionFlagIfNotRunning(){const e=this.canEstablishStreamConnection();return e&&this.setIsHttpConnectionRunning(!0),e}fetchResponseIsUpToDate(e,n){return e.config!=null&&e.templateVersion?e.templateVersion>=n:this.storageCache.getLastFetchStatus()==="success"}parseAndValidateConfigUpdateMessage(e){const n=e.indexOf("{"),s=e.indexOf("}",n);return n<0||s<0||n>=s?"":e.substring(n,s+1)}isEventListenersEmpty(){return this.observers.size===0}getRandomInt(e){return Math.floor(Math.random()*e)}executeAllListenerCallbacks(e){this.observers.forEach(n=>n.next(e))}getChangedParams(e,n){const s=new Set,r=new Set(Object.keys(e||{})),o=new Set(Object.keys(n||{}));for(const l of r)(!o.has(l)||e[l]!==n[l])&&s.add(l);for(const l of o)r.has(l)||s.add(l);return s}async fetchLatestConfig(e,n){const s=e-1,r=eR-s,o=this.storageCache.getCustomSignals();o&&this.logger.debug(`Fetching config with custom signals: ${JSON.stringify(o)}`);const l=new uQ;try{const h={cacheMaxAgeMillis:0,signal:l,customSignals:o,fetchType:"REALTIME",fetchAttempt:r},d=await this.cachingClient.fetch(h);let f=await this.storage.getActiveConfig();if(!this.fetchResponseIsUpToDate(d,n)){this.logger.debug("Fetched template version is the same as SDK's current version. Retrying fetch."),await this.autoFetch(s,n);return}if(d.config==null){this.logger.debug("The fetch succeeded, but the backend had no updates.");return}f==null&&(f={});const g=this.getChangedParams(d.config,f);if(g.size===0){this.logger.debug("Config was fetched, but no params changed.");return}const v={getUpdatedKeys(){return new Set(g)}};this.executeAllListenerCallbacks(v)}catch(h){const d=h instanceof Error?h.message:String(h),f=xn.create("update-not-fetched",{originalErrorMessage:`Failed to auto-fetch config update: ${d}`});this.propagateError(f)}}async autoFetch(e,n){if(e===0){const o=xn.create("update-not-fetched",{originalErrorMessage:"Unable to fetch the latest version of the template."});this.propagateError(o);return}const r=this.getRandomInt(4)*1e3;await new Promise(o=>setTimeout(o,r)),await this.fetchLatestConfig(e,n)}async handleNotifications(e){let n,s="";for(;;){const{done:r,value:o}=await e.read();if(r)break;if(n=this.decoder.decode(o,{stream:!0}),s+=n,n.includes("}")){if(s=this.parseAndValidateConfigUpdateMessage(s),s.length===0)continue;try{const l=JSON.parse(s);if(this.isEventListenersEmpty())break;if(sR in l&&l[sR]===!0){const h=xn.create("realtime-unavailable",{originalErrorMessage:"The server is temporarily unavailable. Try again in a few minutes."});this.propagateError(h);break}if(rR in l){const h=await this.storage.getActiveConfigTemplateVersion(),d=Number(l[rR]);h&&d>h&&await this.autoFetch(eR,d)}if(iR in l){const h=Number(l[iR]);await this.updateBackoffMetadataWithRetryInterval(h)}}catch(l){this.logger.debug("Unable to parse latest config update message.",l);const h=l instanceof Error?l.message:String(l);this.propagateError(xn.create("update-message-invalid",{originalErrorMessage:h}))}s=""}}}async listenForNotifications(e){try{await this.handleNotifications(e)}catch{this.isInBackground||this.logger.debug("Real-time connection was closed due to an exception.")}}async prepareAndBeginRealtimeHttpStream(){if(!this.checkAndSetHttpConnectionFlagIfNotRunning())return;let e=await this.storage.getRealtimeBackoffMetadata();e||(e={backoffEndTimeMillis:new Date(tR),numFailedStreams:nR});const n=e.backoffEndTimeMillis.getTime();if(Date.now()<n){await this.retryHttpConnectionWhenBackoffEnds();return}let s,r;try{if(s=await this.createRealtimeConnection(),r=s.status,s.ok&&s.body){this.resetRetryCount(),await this.resetRealtimeBackoff();const o=s.body.getReader();this.reader=o,await this.listenForNotifications(o)}}catch(o){this.isInBackground?this.resetRetryCount():this.logger.debug("Exception connecting to real-time RC backend. Retrying the connection...:",o)}finally{await this.closeRealtimeHttpConnection(),this.setIsHttpConnectionRunning(!1);const o=!this.isInBackground&&(r===void 0||this.isStatusCodeRetryable(r));if(o&&await this.updateBackoffMetadataWithLastFailedStreamConnectionTime(new Date),o||s?.ok)await this.retryHttpConnectionWhenBackoffEnds();else{const l=`Unable to connect to the server. HTTP status code: ${r}`,h=xn.create("stream-error",{originalErrorMessage:l});this.propagateError(h)}}}canEstablishStreamConnection(){const e=this.observers.size>0,n=!this.isRealtimeDisabled,s=!this.isConnectionActive,r=!this.isInBackground;return e&&n&&s&&r}async makeRealtimeHttpConnection(e){if(this.canEstablishStreamConnection()){if(this.httpRetriesRemaining>0)this.httpRetriesRemaining--,await new Promise(n=>setTimeout(n,e)),this.prepareAndBeginRealtimeHttpStream();else if(!this.isInBackground){const n=xn.create("stream-error",{originalErrorMessage:"Unable to connect to the server. Check your connection and try again."});this.propagateError(n)}}}async beginRealtime(){this.observers.size>0&&await this.makeRealtimeHttpConnection(0)}addObserver(e){this.observers.add(e),this.beginRealtime()}removeObserver(e){this.observers.has(e)&&this.observers.delete(e)}async onVisibilityChange(e){this.isInBackground=!e,e?e&&await this.beginRealtime():await this.closeRealtimeHttpConnection()}}function OQ(){Fs(new Es(hQ,t,"PUBLIC").setMultipleInstances(!0)),Nn(Jv,JC),Nn(Jv,JC,"esm2020");function t(e,{options:n}){const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate(),o=e.getProvider("analytics-internal"),{projectId:l,apiKey:h,appId:d}=s.options;if(!l)throw xn.create("registration-project-id");if(!h)throw xn.create("registration-api-key");if(!d)throw xn.create("registration-app-id");const f=n?.templateId||"firebase",g=_0()?new xQ(d,s.name,f):new CQ,v=new RQ(g),_=new Xh(Jv);_.logLevel=rt.ERROR;const A=new gQ(r,Br,f,l,h,d),I=new _Q(A,g),O=new mQ(I,g,v,_),M=new MQ(r,g,Br,f,l,h,d,_,v,O),B=new TQ(s,O,v,g,_,M,o);return fQ(B),B}}OQ();const NQ=async()=>!1,PQ=({header:t,title:e,leftNode:n,rightNode:s,showBack:r=!1,onBack:o,children:l,bottomNav:h,bgClass:d="bg-white dark:bg-slate-950",contentPadClass:f="px-4 pb-8",renderFloating:g})=>{const v=t||e;return k.jsxs("div",{className:Pi("min-h-screen flex flex-col relative w-full",d),style:h?{paddingBottom:"calc(env(safe-area-inset-bottom, 0px) + 5.5rem)"}:{},children:[v&&(t?k.jsx("header",{className:"fixed top-0 left-0 right-0 z-[100] w-full bg-white dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800",style:{paddingTop:"env(safe-area-inset-top, 0px)",height:"calc(60px + env(safe-area-inset-top, 0px))"},children:k.jsx("div",{className:"w-full h-full flex items-center px-4",children:t})}):k.jsx(FO,{title:e,leftNode:n,rightNode:s,showBack:r,onBack:o})),k.jsx("main",{className:Pi("flex-1 w-full relative [&>*:first-child]:mt-0",f),style:{paddingTop:v?"calc(60px + env(safe-area-inset-top, 0px) + 16px)":"calc(0px + env(safe-area-inset-top, 0px) + 16px)"},children:l}),typeof h=="boolean"?null:h,g]})},LQ=()=>{const t=Gr();return k.jsx(PQ,{title:"Feature",showBack:!0,children:k.jsx("div",{className:"flex flex-col items-center justify-center p-6 min-h-[60vh]",children:k.jsxs("div",{className:"bg-white dark:bg-[#1C1C1E] border border-slate-200 dark:border-[#2C2C2E] rounded-2xl p-8 max-w-sm w-full text-center shadow-sm dark:shadow-none mb-8",children:[k.jsx("div",{className:"w-16 h-16 bg-indigo-50 dark:bg-indigo-500/10 rounded-full flex items-center justify-center mx-auto mb-6",children:k.jsx(fO,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400"})}),k.jsx("h1",{className:"text-2xl font-bold mb-3 tracking-tight",children:"Coming Soon"}),k.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[15px] leading-relaxed",children:"We're working hard to bring this feature to you. Check back later for updates."}),k.jsxs("button",{onClick:()=>t(-1),className:"mt-8 px-6 py-3 bg-slate-100 dark:bg-[#2C2C2E] hover:bg-slate-200 dark:hover:bg-[#3A3A3C] text-slate-800 dark:text-white rounded-xl font-semibold transition-colors w-full flex items-center justify-center gap-2",children:[k.jsx(cO,{className:"w-5 h-5"}),"Go Back"]})]})})})},VQ=T.lazy(()=>_t(()=>import("./Login-CPWmQyBD.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),UQ=T.lazy(()=>_t(()=>import("./Home-C1jYn4ak.js"),__vite__mapDeps([7,8,9,10,11,12,13]))),jQ=T.lazy(()=>_t(()=>import("./Routine-C0hp84W9.js"),__vite__mapDeps([14,15,16,17,18,19,20,21,22,23,5,24,25,26,2,27,28,29,30,31,32,33,34,35,36]))),FQ=T.lazy(()=>_t(()=>import("./History-DFv68kQS.js"),__vite__mapDeps([37,2,34,6]))),BQ=T.lazy(()=>_t(()=>import("./Settings-Bg220C1q.js"),__vite__mapDeps([38,39,40,29,26,16,41,42,43,44,45,31]))),zQ=T.lazy(()=>_t(()=>import("./Profile-Dl4wIFGT.js").then(t=>t.P),__vite__mapDeps([46,39,40,29,47,1,48,49,50,23,51,52,26,45,22,53,27,54]))),$Q=T.lazy(()=>_t(()=>import("./ForgotPassword-BKGRrOiv.js"),__vite__mapDeps([55,1,2,3,4]))),HQ=T.lazy(()=>_t(()=>import("./Analytics-B6GkzptX.js"),__vite__mapDeps([56,2,34,35,57,58,59]))),qQ=T.lazy(()=>_t(()=>import("./DietPlan-BPj7z-_j.js"),__vite__mapDeps([60,2,61,10,62]))),GQ=T.lazy(()=>_t(()=>import("./About-BEzpRifx.js"),[])),KQ=T.lazy(()=>_t(()=>import("./TaskDashboard-CgkFZTGa.js"),__vite__mapDeps([63,15,16,17,18,19,20,21,22,23,5,24,25,26,9,10,40,29,64,36,28,65,50,66,30,67]))),YQ=T.lazy(()=>_t(()=>import("./WorkspaceCalendar-KE0y9oEH.js"),__vite__mapDeps([68,69]))),WQ=T.lazy(()=>_t(()=>import("./WorkspaceBoard-D-m8PPU8.js"),__vite__mapDeps([70,67,30]))),QQ=T.lazy(()=>_t(()=>import("./FilteredTaskView-DezNOBYf.js"),__vite__mapDeps([71,15,16,17,18,19,20,21,22,23,5,24,25,26,33]))),XQ=T.lazy(()=>_t(()=>import("./Overview-LyKtOfZ6.js"),__vite__mapDeps([72,34,57]))),JQ=T.lazy(()=>_t(()=>import("./FinanceDashboard-YBPkhUQP.js"),__vite__mapDeps([73,74,75,76,77,64,18,35,78,43,20,17,21,48,32,59,10,61,5,79,6,80,81,82,44,51,25,67,52,19,8,42,83,45,84,22,41,85,26,86,30,11,4,62,49,87,88,89,31,50,66,33,16,13,27,53,58,34,29,90,23,91,40,92,93,69]))),ZQ=T.lazy(()=>_t(()=>import("./DebtManager-CYQKes1P.js"),__vite__mapDeps([94,93,17,23,67,65,50,66,24,25,26,28,29,87,86,30]))),eX=T.lazy(()=>_t(()=>import("./PartyDetail-DE35oUF7.js"),__vite__mapDeps([95,96,47,28,29,24,25,26,65,50,66,97,82,76,30,10,91,53,27,23,52,62]))),tX=T.lazy(()=>_t(()=>import("./AccountDetail-DSRA2JA0.js"),__vite__mapDeps([98,65,50,66,24,25,26,28,29,75,77,34,58]))),nX=T.lazy(()=>_t(()=>import("./MonthlyOverview-D9qUIKoX.js"),__vite__mapDeps([99,74,75,76,77,64,18,35,78,43,20,17,21,48,32,59,10,61,5,79,6,80,81,82,44,51,25,67,52,19,8,42,83,45,84,22,41,85,26,86,30,11,4,62,49,87,88,89,31,50,66,33,16,13,27,53,58,34,29,90,23,91,69]))),sX=T.lazy(()=>_t(()=>import("./FinanceSettings-CamjPYvW.js"),__vite__mapDeps([100,92,79,52,82]))),iX=T.lazy(()=>_t(()=>import("./FinanceEMI-DZcf2YCT.js"),__vite__mapDeps([101,92,82,97]))),rX=T.lazy(()=>_t(()=>import("./FinanceMore-hmVRuARe.js"),__vite__mapDeps([102,93,17,23,67,82,51]))),aX=T.lazy(()=>_t(()=>import("./FinanceUpcoming-DIDyXakb.js"),__vite__mapDeps([103,92,28,29,24,25,26,65,50,66,93,17,23,67,21,41,31,82,85,97]))),oX=T.lazy(()=>_t(()=>import("./FinanceWallets-C4cBtvgO.js"),__vite__mapDeps([104,93,17,23,67,24,25,26,28,29,65,50,66,75,30]))),lX=T.lazy(()=>_t(()=>import("./PayPortal-CSDFJJGl.js"),__vite__mapDeps([105,29,31]))),cX=T.lazy(()=>_t(()=>import("./VehicleDashboard-COeRcQlD.js"),__vite__mapDeps([106,24,25,26,23,8,78,34,5,49,30,29,97,20,75,58,28,65,50,66,89,10,67]))),uX=T.lazy(()=>_t(()=>import("./VehicleMore-sD4Iw9I2.js"),__vite__mapDeps([107,47,52,89,51,75,91,90]))),aR=T.lazy(()=>_t(()=>import("./RamadanDashboard-D4FFYOk8.js"),__vite__mapDeps([108,43,30,80,67,12,109,81,87,16]))),hX=T.lazy(()=>_t(()=>import("./RamadanStats-DEDRejSd.js"),__vite__mapDeps([110,16,17,34]))),dX=T.lazy(()=>_t(()=>import("./RamadanDhikr-Q79HQMeP.js"),__vite__mapDeps([111,19,30,13,17,67,83]))),fX=T.lazy(()=>_t(()=>import("./RamadanSettings-D-oCo9jm.js"),__vite__mapDeps([112,109,81,87,42,17,43,88])));function mX(){const t=Ss();return T.useEffect(()=>{t.pathname.replace("/","")},[t]),null}let e_=!1;function pX(){const[t,e]=T.useState(()=>{if(e_)return!1;let n=!1;if(window.performance){if(typeof window.performance.getEntriesByType=="function"){const s=window.performance.getEntriesByType("navigation");if(s.length>0){const r=s[0].type;(r==="reload"||r==="back_forward")&&(n=!0)}}else if(window.performance.navigation){const s=window.performance.navigation.type;(s===1||s===2)&&(n=!0)}}return n?(e_=!0,!1):!0});return T.useEffect(()=>{NQ().catch(console.error)},[]),t?k.jsx(HA,{children:k.jsx(qA,{children:k.jsx(lQ,{onComplete:()=>{e_=!0,e(!1)}})})}):k.jsx(oW,{children:k.jsx(iV,{basename:"/AWAKE/",children:k.jsx(HA,{children:k.jsx(qA,{children:k.jsx(T8,{children:k.jsx(Iz,{children:k.jsx(Mz,{children:k.jsx(g$,{children:k.jsx(y$,{children:k.jsx(O7,{children:k.jsx(s$,{children:k.jsxs(a$,{children:[k.jsx(mX,{}),k.jsx(aQ,{}),k.jsx(oQ,{}),k.jsx(cQ,{children:k.jsx(T.Suspense,{fallback:k.jsx(bO,{}),children:k.jsxs(OL,{children:[k.jsx(nt,{path:"/login",element:k.jsx(VQ,{})}),k.jsx(nt,{path:"/forgot-password",element:k.jsx($Q,{})}),k.jsx(nt,{path:"/pay",element:k.jsx(lX,{})}),k.jsxs(nt,{element:k.jsx(Wv,{children:k.jsx(nQ,{})}),children:[k.jsx(nt,{path:"/",element:k.jsx(UQ,{})}),k.jsx(nt,{path:"/routine",element:k.jsx(jQ,{})}),k.jsx(nt,{path:"/history",element:k.jsx(FQ,{})}),k.jsx(nt,{path:"/settings",element:k.jsx(BQ,{})}),k.jsx(nt,{path:"/coming-soon",element:k.jsx(LQ,{})}),k.jsx(nt,{path:"/profile",element:k.jsx(zQ,{})}),k.jsx(nt,{path:"/about",element:k.jsx(GQ,{})}),k.jsx(nt,{path:"/analytics",element:k.jsx(HQ,{})}),k.jsx(nt,{path:"/diet",element:k.jsx(qQ,{})}),k.jsx(nt,{path:"/finance",element:k.jsx(JQ,{})}),k.jsx(nt,{path:"/finance/upcoming",element:k.jsx(aX,{})}),k.jsx(nt,{path:"/finance/debts",element:k.jsx(ZQ,{})}),k.jsx(nt,{path:"/finance/debts/:partyId",element:k.jsx(eX,{})}),k.jsx(nt,{path:"/finance/account/:id",element:k.jsx(tX,{})}),k.jsx(nt,{path:"/finance/monthly",element:k.jsx(nX,{})}),k.jsx(nt,{path:"/finance/settings",element:k.jsx(sX,{})}),k.jsx(nt,{path:"/finance/emi",element:k.jsx(iX,{})}),k.jsx(nt,{path:"/finance/more",element:k.jsx(rX,{})}),k.jsx(nt,{path:"/finance/wallets",element:k.jsx(oX,{})}),k.jsx(nt,{path:"/vehicle",element:k.jsx(cX,{})}),k.jsx(nt,{path:"/vehicle/more",element:k.jsx(uX,{})})]}),aR&&k.jsxs(nt,{element:k.jsx(Wv,{children:k.jsx(iQ,{})}),children:[k.jsx(nt,{path:"/ramadan",element:k.jsx(aR,{})}),k.jsx(nt,{path:"/ramadan/stats",element:k.jsx(hX,{})}),k.jsx(nt,{path:"/ramadan/dhikr",element:k.jsx(dX,{})}),k.jsx(nt,{path:"/ramadan/settings",element:k.jsx(fX,{})})]}),k.jsxs(nt,{path:"/workspace",element:k.jsx(Wv,{children:k.jsx(rQ,{})}),children:[k.jsx(nt,{index:!0,element:k.jsx(KQ,{})}),k.jsx(nt,{path:"calendar",element:k.jsx(YQ,{})}),k.jsx(nt,{path:"board",element:k.jsx(WQ,{})}),k.jsx(nt,{path:"overview",element:k.jsx(XQ,{})}),k.jsx(nt,{path:"filter/:filterType",element:k.jsx(QQ,{})})]}),k.jsx(nt,{path:"*",element:k.jsx(xR,{to:"/",replace:!0})})]})})})]})})})})})})})})})})})})}class gX extends Kh.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Render Crash Caught:",e,n);const s=e?.message||"";if(s.includes("Failed to fetch dynamically")||s.includes("Importing a module script failed")){const o=parseInt(sessionStorage.getItem("chunk_reload_count")||"0",10);o<2&&(sessionStorage.setItem("chunk_reload_count",(o+1).toString()),window.location.reload())}}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?k.jsxs("div",{style:{padding:"40px",textAlign:"center",fontFamily:"sans-serif"},children:[k.jsx("h2",{children:"Something went wrong."}),k.jsx("p",{children:"Please refresh the application."}),k.jsx("pre",{style:{textAlign:"left",background:"#f8d7da",color:"#721c24",padding:"10px",overflowX:"auto"},children:this.state.error&&this.state.error.toString()}),k.jsx("button",{onClick:this.handleReload,style:{marginTop:"20px"},children:"Reload App"})]}):this.props.children}}const{slice:yX,forEach:vX}=[];function _X(t){return vX.call(yX.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function bX(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const oR=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,wX=function(t,e){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(e);let o=`${t}=${r}`;if(s.maxAge>0){const l=s.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(l)}`}if(s.domain){if(!oR.test(s.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${s.domain}`}if(s.path){if(!oR.test(s.path))throw new TypeError("option path is invalid");o+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(o+="; Partitioned"),o},lR={create(t,e,n,s){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+n*60*1e3)),s&&(r.domain=s),document.cookie=wX(t,e,r)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let s=0;s<n.length;s++){let r=n[s];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return r.substring(e.length,r.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var TX={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return lR.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:s,cookieDomain:r,cookieOptions:o}=e;n&&typeof document<"u"&&lR.create(n,t,s,r,o)}},EX={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const o=s.substring(1).split("&");for(let l=0;l<o.length;l++){const h=o[l].indexOf("=");h>0&&o[l].substring(0,h)===e&&(n=o[l].substring(h+1))}}return n}},SX={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:n}=t,s;if(typeof window<"u"){const{hash:r}=window.location;if(r&&r.length>2){const o=r.substring(1);if(e){const l=o.split("&");for(let h=0;h<l.length;h++){const d=l[h].indexOf("=");d>0&&l[h].substring(0,d)===e&&(s=l[h].substring(d+1))}}if(s)return s;if(!s&&n>-1){const l=r.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return s}};let ic=null;const cR=()=>{if(ic!==null)return ic;try{if(ic=typeof window<"u"&&window.localStorage!==null,!ic)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{ic=!1}return ic};var AX={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&cR())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&cR()&&window.localStorage.setItem(n,t)}};let rc=null;const uR=()=>{if(rc!==null)return rc;try{if(rc=typeof window<"u"&&window.sessionStorage!==null,!rc)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{rc=!1}return rc};var xX={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&uR())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&uR()&&window.sessionStorage.setItem(n,t)}},CX={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:s,language:r}=navigator;if(n)for(let o=0;o<n.length;o++)e.push(n[o]);s&&e.push(s),r&&e.push(r)}return e.length>0?e:void 0}},RX={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const s=e||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},kX={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},IX={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,s=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[n]}};let $O=!1;try{document.cookie,$O=!0}catch{}const HO=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];$O||HO.splice(1,1);const DX=()=>({order:HO,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class qO{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=_X(n,this.options||{},DX()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(TX),this.addDetector(EX),this.addDetector(AX),this.addDetector(xX),this.addDetector(CX),this.addDetector(RX),this.addDetector(kX),this.addDetector(IX),this.addDetector(SX)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(s=>{if(this.detectors[s]){let r=this.detectors[s].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(n=n.concat(r))}}),n=n.filter(s=>s!=null&&!bX(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(e,this.options)}))}}qO.type="languageDetector";const MX={title:"Kerala Diet Plan",tellUs:"Tell us about yourself",age:"Age",gender:"Gender",male:"Male",female:"Female",weight:"Weight (kg)",height:"Height (cm)",activityLevel:"Activity Level",sedentary:"Sedentary (Little/No exercise)",light:"Lightly Active (1-3 days/week)",moderate:"Moderately Active (3-5 days/week)",active:"Very Active (6-7 days/week)",foodPref:"Food Preference",veg:"Vegetarian",nonVeg:"Non-Veg",goalSpeed:"Pace",slow:"Steady (0.25kg/week)",normal:"Normal (0.5kg/week)",fast:"Aggressive (0.75kg/week)",generate:"Create My Plan",regenerate:"Generate New Plan",dailyTarget:"Daily Goals",kcal:"kcal",water:"Hydration",protein:"Protein",carbs:"Carbs",fats:"Fats",recommended:"Eat More",avoid:"Limit These",weeklyPlan:"Your Meal Plan",breakfast:"Morning",lunch:"Midday",dinner:"Evening",snack:"Snack"},OX={global_preferences:"App Preferences",language:"Language",language_desc:"Choose your preferred language",time_format:"Time Format",time_format_desc:"Select your time display preference",appearance:"Appearance",theme:"Theme",theme_desc:"Customize the look and feel",system_default:"System Default",light:"Light",dark:"Dark",security:"Security & Login",update_password:"Update Password",last_changed:"Last changed: --",current_password:"Current Password",new_password:"New Password",cancel:"Cancel",save_changes:"Save Changes",storage:"Data & Reports",download_report:"Download Report",download_report_desc:"Export your progress as a PDF report",building:"Preparing...",download:"Download",reset_cache:"Reset Cache",reset_cache_desc:"Resolve app issues by clearing temporary data",clearing:"Clearing...",reset:"Clear Data",device_backup:"Sync Data",device_backup_desc:"Safely sync your offline data to the cloud.",syncing:"Syncing...",sync_data:"Sync Now",sign_out:"Sign Out",verified_account:"Verified Account",active_account:"Active Account",edit_profile:"Edit Profile",notifications:"Notifications",notifications_desc:"Control how you receive alerts",about:"About AWAKE"},NX={error_general:"Oops, something went wrong.",success_saved:"Saved successfully",error_saving:"Couldn't save changes. Reverting.",confirm_reset:"Are you sure you want to sign out and clear your device's cache? Your cloud data is safe.",version:"Version"},PX={dashboard:"Dashboard",daily_routine:"My Routine",history:"History",settings:"Settings",plan_diet:"Diet Planner",analytics:"Insights",finance:"Finances",jump_date:"Go to Date",tools:"Tools",about_awake:"About AWAKE",about_desc:"AWAKE is your daily companion for building better habits and tracking progress.",developed_by:"Built by",founded_by:"Created by",menu:"Menu",member_id:"ID: ",home_nav:"Home",routine_nav:"Routine",todo_nav:"Tasks",finance_nav:"Money",vehicle_nav:"Vehicle",today_sidebar:"Today Overview",diet_planner:"Diet Plan",nutrition:"Nutrition",sync_status:"Cloud Sync",all_synced:"Up to date"},LX={early_morning:"Early Morning",start_strong:"Start Strong",before_noon:"Morning Peak",deep_focus:"Deep Work",after_noon:"Afternoon",stay_active:"Keep Moving",night:"Evening",rest_recover:"Wind Down"},VX=["Your routine is your armor. Put it on.","The secret to owning the day is starting it now.","Routine is not a cage, it's a ladder. Start climbing.","Don't wait for motivation. Create it with your first check.","One press of GO changes the entire trajectory of your day.","Discipline today equals freedom tomorrow. Let's begin.","Your future self is watching. Make them proud.","Success is the sum of small actions repeated daily."],UX={today_caps:"TODAY",jump_caps:"JUMP",today:"Today"},jX={greeting_morning:"Good Morning",greeting_afternoon:"Good Afternoon",greeting_evening:"Good Evening",motivation_finishing:"Finish strong.",motivation_mastered:"Discipline unlocked.",motivation_systems_go:"Ready for the day.",daily_routine:"Your Routine",done:"Done",routine:"Habits",complete:"Finished",tasks:"To-Do",workspace:"Tasks",tasks_left:"remaining",days:"Days",left:"Left",todays_spend:"Spent Today",all_routines_completed:"All habits finished. Great work.",day_locked:"Day is Locked",unlock_routines:"Unlock day to add habits",design_day:"Build Your Routine",add_rituals:"Set up your daily habits",priority_tasks:"Priority Check",view_all:"SEE ALL",today:"Today",day_completed_locked:"Day Saved & Locked",unlock_to_edit:"Unlock to Edit",complete_day:"End Day",history:"History",settings:"Settings"},FX={routine_completion:"Routine Completion",junk_food:"Junk Food",sugar:"Sugar",screen_time:"Screen Time",cold_drinks:"Cold Drinks",last_7_days:"Last 7 Days",loading:"Loading progress...",top_tier:"Top-tier consistency! You're on a roll.",momentum_building:"Momentum is building. Keep pushing!",highly_disciplined:"Highly disciplined week. You're crushing it.",steady_progress:"Steady progress. Stay the course.",new_day:"New day, new opportunity.",consistency_insight:"Consistency Insight"},BX={total_net_balance:"Net Balance",income:"Income",savings:"Savings",debts:"Debts",manage:"Manage ",overview:"Overview",budgets:"Budgets",transactions:"Spending History",no_expenses:"Nothing recorded yet",start_tracking:"Keep track of where your money goes. Add your first transaction.",add_first_record:"Add Transaction",undo:"Undo",analytics:"Insights",loading_analytics:" crunching numbers...",upcoming_payments:"Upcoming Payments",add_new:"+ Add New",monthly_recurring:"Monthly Recurring",no_upcoming_bills:"No upcoming bills.",add_bill:"+ Add Bill"},zX={edit_routine:"Edit Routine",no_tasks:"No tasks yet",add_first_habit:"Add your first habit below",task_name_placeholder:"Task Name",type_task_name:"Type task name...",add_task:"Add task",save_routine:"Save Routine"},$X={title:"Day Wrap-up",daily_recap:"Snapshot",completion_rate:"Success Rate",completed:"Done",missed:"Missed",todays_spend:"Spent",weekly_save:"Saved This Week",habit_breakdown:"Habit Breakdown",lock_save:"Lock Day"},HX={title:"Daily Habits",no_habits:"No habits tracked yet",add_new:"+ Add New Habit",manage:"Manage Habits",finish_editing:"Finish Editing",add:"Add Habit",hours:"Hours",minutes:"Minutes",hr:"hr",min:"min",yes:"YES",no:"NO"},qX={edit_title:"Your Profile",change_photo:"Update Photo",display_name:"Name",enter_name:"What should we call you?",email_address:"Email Account",email_cannot_change:"Email linked to auth provider",save_changes:"Save Details"},GX={diet:MX,settings:OX,common:NX,nav:PX,routine:LX,routine_motivations:VX,date:UX,home:jX,progress:FX,finance:BX,tasks:zX,day_overview:$X,daily_habits:HX,profile:qX},KX={title:"  ",tellUs:"  ",age:"",gender:"",male:"",female:"",weight:" ()",height:" ()",activityLevel:" ",sedentary:" (/ )",light:"  (1-3 /)",moderate:"  (3-5 /)",active:"  (6-7 /)",foodPref:" ",veg:"",nonVeg:" ",goalSpeed:" ",slow:"  (0.25 /)",normal:" (0.5 /)",fast:" (0.75 /)",generate:" ",regenerate:"  ",dailyTarget:" ",kcal:"",water:"",protein:"",carbs:"",fats:"",recommended:" ",avoid:"",weeklyPlan:" ",breakfast:"",lunch:"",dinner:"",snack:" "},YX={global_preferences:" ",language:"",language_desc:"  ",time_format:" ",time_format_desc:"  ",appearance:"",theme:"",theme_desc:"   ",system_default:" ",light:"",dark:"",security:" ",update_password:"  ",last_changed:" : --",current_password:"  ",new_password:"  ",cancel:"",save_changes:" ",storage:" ",download_report:" ",download_report_desc:"    PDF",building:" ...",download:"",reset_cache:"  ",reset_cache_desc:"     ",clearing:" ...",reset:" ",device_backup:" ",device_backup_desc:"     .",syncing:" ...",sync_data:" ",sign_out:" ",verified_account:" ",active_account:" ",edit_profile:"  ",notifications:"",notifications_desc:"  ",about:" "},WX={error_general:"   .",success_saved:"  ",error_saving:"  .  .",confirm_reset:"            .",version:""},QX={dashboard:" ",daily_routine:"",history:"",settings:"",plan_diet:" ",analytics:"",finance:"",jump_date:" ",tools:"",about_awake:" ",about_desc:"        .",developed_by:"",founded_by:"",menu:"",member_id:" : ",home_nav:"",routine_nav:"",todo_nav:"",finance_nav:"",vehicle_nav:"",today_sidebar:"   ",diet_planner:" ",nutrition:"",sync_status:" ",all_synced:""},XX={early_morning:" ",start_strong:" ",before_noon:" ",deep_focus:" ",after_noon:" ",stay_active:"  ",night:"",rest_recover:""},JX=["  . .","     .","    .  .","  .    .","       .","    . .","  .  .","      ."],ZX={today_caps:"",jump_caps:"",today:""},eJ={greeting_morning:" ",greeting_afternoon:" ",greeting_evening:" ",motivation_finishing:"  .",motivation_mastered:" .",motivation_systems_go:" .",daily_routine:"",done:"",routine:"",complete:"",tasks:" ",workspace:"",tasks_left:"",days:"",left:"",todays_spend:" ",all_routines_completed:"   .  .",day_locked:"  ",unlock_routines:"   ",design_day:"  ",add_rituals:"  ",priority_tasks:" ",view_all:" ",today:"",day_completed_locked:"   ",unlock_to_edit:" ",complete_day:" ",history:"",settings:""},tJ={routine_completion:" ",junk_food:" ",sugar:"",screen_time:" ",cold_drinks:" ",last_7_days:" 7 ",loading:"  ...",top_tier:"  !    .",momentum_building:" .  !",highly_disciplined:"  .  .",steady_progress:" .   .",new_day:"   .",consistency_insight:" "},nJ={total_net_balance:" ",income:"",savings:"",debts:"",manage:" ",overview:" ",budgets:"",transactions:" ",no_expenses:"   ",start_tracking:"   .    .",add_first_record:" ",undo:"",analytics:" ",loading_analytics:"  ...",upcoming_payments:" ",add_new:"+ ",monthly_recurring:" ",no_upcoming_bills:"   .",add_bill:"+  "},sJ={edit_routine:" ",no_tasks:"   ",add_first_habit:"   ",task_name_placeholder:" ",type_task_name:"  ...",add_task:" ",save_routine:" "},iJ={title:" ",daily_recap:"",completion_rate:" ",completed:"",missed:"",todays_spend:" ",weekly_save:" ",habit_breakdown:" ",lock_save:"  "},rJ={title:" ",no_habits:"    ",add_new:"+   ",manage:" ",finish_editing:" ",add:" ",hours:"",minutes:"",hr:"",min:"",yes:"",no:""},aJ={edit_title:" ",change_photo:" ",display_name:"",enter_name:"   ",email_address:" ",email_cannot_change:"   ",save_changes:" "},oJ={diet:KX,settings:YX,common:WX,nav:QX,routine:XX,routine_motivations:JX,date:ZX,home:eJ,progress:tJ,finance:nJ,tasks:sJ,day_overview:iJ,daily_habits:rJ,profile:aJ},lJ={title:"  ",tellUs:" ",age:"",gender:"",male:"",female:"",weight:" (.)",height:" (.)",activityLevel:" ",sedentary:"",light:" (1-3 )",moderate:" (3-5 )",active:"  (6-7 )",foodPref:" ",veg:"",nonVeg:"-",goalSpeed:" ",slow:" (0.25 ./)",normal:" (0.5 ./)",fast:" (0.75 ./)",generate:" ",regenerate:"  ",dailyTarget:" ",kcal:" (kcal)",water:"",protein:"",carbs:"",fats:"",recommended:" ",avoid:"",weeklyPlan:"  ",breakfast:"",lunch:"",dinner:"",snack:""},cJ={global_preferences:" ",language:"",language_desc:"   ",time_format:" ",time_format_desc:"   ",appearance:"",theme:"",theme_desc:"  ",system_default:" ",light:"",dark:"",security:" ",update_password:" ",last_changed:" : --",current_password:" ",new_password:" ",cancel:"",save_changes:" ",storage:" ",download_report:"  ",download_report_desc:"  PDF  ",building:"...",download:"",reset_cache:"  ",reset_cache_desc:"     ",clearing:" ...",reset:" ",device_backup:" ",device_backup_desc:"    .",syncing:" ...",sync_data:" ",sign_out:" ",verified_account:" ",active_account:" ",edit_profile:" ",notifications:"",notifications_desc:"   ",about:""},uJ={error_general:"  .",success_saved:"   ",error_saving:"   . .",confirm_reset:"    ?    .",version:""},hJ={dashboard:"",daily_routine:" ",history:"",settings:"",plan_diet:" ",analytics:"",finance:"",jump_date:" ",tools:"",about_awake:"",about_desc:"           AWAKE.",developed_by:"",founded_by:"",menu:"",member_id:" : ",home_nav:"",routine_nav:"",todo_nav:"",finance_nav:"",vehicle_nav:"",today_sidebar:" ",diet_planner:" ",nutrition:"",sync_status:" ",all_synced:""},dJ={early_morning:"",start_strong:" ",before_noon:"",deep_focus:" ",after_noon:"",stay_active:" ",night:"",rest_recover:" "},fJ=["   .  .","    .","  ,  .  ."," .      .","        .","   .  .","   .  .","     ."],mJ={today_caps:"",jump_caps:"",today:""},pJ={greeting_morning:"",greeting_afternoon:"",greeting_evening:"",motivation_finishing:"  .",motivation_mastered:"  .",motivation_systems_go:"  .",daily_routine:"",done:"",routine:"",complete:"",tasks:"",workspace:"",tasks_left:"",days:"",left:"",todays_spend:" ",all_routines_completed:"  . !",day_locked:" ",unlock_routines:"    ",design_day:"  ",add_rituals:"  ",priority_tasks:" ",view_all:" ",today:"",day_completed_locked:"   ",unlock_to_edit:"   ",complete_day:" ",history:"",settings:""},gJ={routine_completion:" ",junk_food:" ",sugar:"",screen_time:" ",cold_drinks:" ",last_7_days:" 7 ",loading:" ...",top_tier:" !  .",momentum_building:" .  !",highly_disciplined:"  .    .",steady_progress:" .  .",new_day:" ,  .",consistency_insight:" "},yJ={total_net_balance:" ",income:"",savings:"",debts:"",manage:" ",overview:"",budgets:"",transactions:"",no_expenses:" ",start_tracking:"    .   .",add_first_record:" ",undo:" (Undo)",analytics:"",loading_analytics:" ..."},vJ={edit_routine:"  ",no_tasks:" ",add_first_habit:"    ",task_name_placeholder:" ",type_task_name:"  ...",add_task:" ",save_routine:" "},_J={title:" ",daily_recap:"",completion_rate:"",completed:"",missed:"",todays_spend:" ",weekly_save:"  ",habit_breakdown:" ",lock_save:"  "},bJ={title:" ",no_habits:"   ",add_new:"+   ",manage:" ",finish_editing:" ",add:" ",hours:"",minutes:"",hr:"",min:"",yes:"",no:""},wJ={edit_title:" ",change_photo:" ",display_name:"",enter_name:" ",email_address:" ",email_cannot_change:"     ",save_changes:"  "},TJ={diet:lJ,settings:cJ,common:uJ,nav:hJ,routine:dJ,routine_motivations:fJ,date:mJ,home:pJ,progress:gJ,finance:yJ,tasks:vJ,day_overview:_J,daily_habits:bJ,profile:wJ},EJ={title:"  ",tellUs:"   ",age:"",gender:"",male:"",female:"",weight:" ()",height:" (.)",activityLevel:" ",sedentary:" (  )",light:"  (1-3 /)",moderate:"  (3-5 /)",active:"  (6-7 /)",foodPref:" ",veg:"",nonVeg:"",goalSpeed:"  ",slow:"   (0.25 /)",normal:" (0.5 /)",fast:" (0.75 /)",generate:" ",regenerate:"  ",dailyTarget:" ",kcal:"",water:"",protein:"",carbs:"",fats:"",recommended:" ",avoid:"",weeklyPlan:"  ",breakfast:" ",lunch:" ",dinner:" ",snack:" "},SJ={global_preferences:" ",language:"",language_desc:"   ",time_format:" ",time_format_desc:"   ",appearance:"",theme:"",theme_desc:"  ",system_default:" ",light:"",dark:"",security:"  ",update_password:" ",last_changed:" : --",current_password:" ",new_password:" ",cancel:"",save_changes:"",storage:"  ",download_report:"  ",download_report_desc:"  PDF  ",building:"...",download:"",reset_cache:" ",reset_cache_desc:"     ",clearing:"...",reset:"",device_backup:" ",device_backup_desc:"    .",syncing:" ...",sync_data:"  ",sign_out:" ",verified_account:" ",active_account:" ",edit_profile:" ",notifications:"",notifications_desc:" ",about:" "},AJ={error_general:"   .",success_saved:"  ",error_saving:"   . .",confirm_reset:"      ?    .",version:""},xJ={dashboard:"",daily_routine:" ",history:"",settings:"",plan_diet:" ",analytics:"",finance:"",jump_date:" ",tools:"",about_awake:" ",about_desc:"        AWAKE  .",developed_by:"",founded_by:"",menu:"",member_id:" : ",home_nav:"",routine_nav:"",todo_nav:"",finance_nav:"",vehicle_nav:"",today_sidebar:" ",diet_planner:" ",nutrition:"",sync_status:" ",all_synced:" "},CJ={early_morning:"",start_strong:"",before_noon:"",deep_focus:" ",after_noon:"",stay_active:"",night:"",rest_recover:" "},RJ=["   .  .","    .","  ,   .  ."," .     .","        .","   . .","   .   .","      ."],kJ={today_caps:"",jump_caps:"",today:""},IJ={greeting_morning:"",greeting_afternoon:" ",greeting_evening:" ",motivation_finishing:" .",motivation_mastered:" .",motivation_systems_go:"  .",daily_routine:" ",done:"",routine:"",complete:"",tasks:"",workspace:"",tasks_left:"",days:"",left:"",todays_spend:" ",all_routines_completed:"  . !",day_locked:" ",unlock_routines:"    ",design_day:"  ",add_rituals:"  ",priority_tasks:" ",view_all:" ",today:"",day_completed_locked:"   ",unlock_to_edit:"   ",complete_day:" ",history:"",settings:""},DJ={routine_completion:" ",junk_food:" ",sugar:"",screen_time:" ",cold_drinks:" ",last_7_days:" 7 ",loading:"  ...",top_tier:"  !  .",momentum_building:" .  !",highly_disciplined:"  .   .",steady_progress:" . .",new_day:" ,  .",consistency_insight:" "},MJ={total_net_balance:" ",income:"",savings:"",debts:"",manage:" ",overview:"",budgets:"",transactions:"",no_expenses:" ",start_tracking:" -  .    .",add_first_record:"  ",undo:" (Undo)",analytics:"",loading_analytics:" ..."},OJ={edit_routine:" ",no_tasks:"  ",add_first_habit:"    ",task_name_placeholder:" ",type_task_name:"   ...",add_task:" ",save_routine:" "},NJ={title:" ",daily_recap:"",completion_rate:" ",completed:"",missed:"",todays_spend:" ",weekly_save:"  ",habit_breakdown:" ",lock_save:"  &  "},PJ={title:" ",no_habits:"    ",add_new:"+   ",manage:" ",finish_editing:"  ",add:" ",hours:"",minutes:"",hr:"",min:"",yes:"",no:""},LJ={edit_title:" ",change_photo:" ",display_name:"",enter_name:"   ",email_address:" ",email_cannot_change:"   ",save_changes:"  "},VJ={diet:EJ,settings:SJ,common:AJ,nav:xJ,routine:CJ,routine_motivations:RJ,date:kJ,home:IJ,progress:DJ,finance:MJ,tasks:OJ,day_overview:NJ,daily_habits:PJ,profile:LJ};Jn.use(qO).use(d8).init({resources:{en:{common:GX},ar:{common:oJ},ml:{common:TJ},kn:{common:VJ}},defaultNS:"common",fallbackLng:"en",supportedLngs:["en","ar","ml","kn"],interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});Jn.on("languageChanged",t=>{document.documentElement.lang=t,document.documentElement.dir=t==="ar"?"rtl":"ltr"});(function(){try{const t=window.localStorage.getItem("i18nextLng"),e=["en","ar","ml","kn"],n=t?t.split("-")[0]:null,s=e.includes(n)?n:"en";document.documentElement.lang=s,document.documentElement.dir=s==="ar"?"rtl":"ltr"}catch{document.documentElement.lang="en",document.documentElement.dir="ltr"}})();MP.createRoot(document.getElementById("root")).render(k.jsx(Kh.StrictMode,{children:k.jsx(gX,{children:k.jsx(i$,{children:k.jsx(pX,{})})})}));export{uO as $,ml as A,pp as B,hO as C,uw as D,Pi as E,bO as F,Na as G,VY as H,MY as I,fO as J,kb as K,IR as L,HY as M,xR as N,dO as O,Gh as P,wY as Q,rY as R,BY as S,ZY as T,jO as U,PQ as V,jY as W,tg as X,gY as Y,JW as Z,_t as _,MA as a,XJ as a$,ng as a0,YD as a1,w8 as a2,ZW as a3,WC as a4,Xv as a5,CY as a6,dY as a7,pO as a8,Kh as a9,FJ as aA,sW as aB,XY as aC,u0 as aD,gp as aE,g8 as aF,jJ as aG,Iv as aH,an as aI,kY as aJ,dt as aK,cY as aL,mY as aM,mO as aN,gO as aO,WY as aP,tW as aQ,aW as aR,sY as aS,VO as aT,cV as aU,oZ as aV,aZ as aW,r$ as aX,A8 as aY,eZ as aZ,ZJ as a_,o0 as aa,we as ab,AY as ac,Nc as ad,zJ as ae,YJ as af,$J as ag,cO as ah,Dz as ai,I7 as aj,PY as ak,GY as al,yO as am,Ss as an,Rv as ao,Ju as ap,tp as aq,M7 as ar,Ib as as,o2 as at,Ni as au,dx as av,hx as aw,Rc as ax,M8 as ay,Jo as az,o5 as b,JJ as b0,tZ as b1,uZ as b2,UJ as b3,HJ as c,GJ as d,sZ as e,ui as f,_O as g,c0 as h,a0 as i,k as j,WJ as k,pd as l,os as m,cZ as n,n$ as o,pV as p,dZ as q,T as r,qJ as s,nZ as t,KJ as u,cd as v,iZ as w,lZ as x,m$ as y,Gr as z};
