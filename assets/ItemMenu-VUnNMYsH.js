import{r,T as g,j as s,U as k,A as j,m as w,P as E,a0 as y,E as N}from"./index-9msspAXs.js";import{a as P,E as C}from"./eye-BqTX6Mm8.js";import{P as I}from"./pen-DY3Fb26x.js";function c(...a){return y(N(a))}function R({onEdit:a,onDelete:d,onView:m,extraActions:f=[],className:p,iconClassName:h,onOpenChange:l}){const[t,n]=r.useState(!1),o=r.useRef(null);r.useEffect(()=>{l&&l(t)},[t,l]),r.useEffect(()=>{const e=i=>{o.current&&!o.current.contains(i.target)&&n(!1)};return t&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t]);const v=e=>{e.preventDefault(),e.stopPropagation(),n(!t)},b=[m&&{label:"View",icon:P,onClick:m},a&&{label:"Edit",icon:I,onClick:a},...f,d&&{label:"Delete",icon:g,onClick:d,variant:"danger"}].filter(Boolean);return s.jsxs("div",{className:c("relative",p),ref:o,children:[s.jsx(k,{variant:"ghost",onClick:v,className:c("p-2 rounded-xl text-slate-400",h),children:s.jsx(C,{className:"w-5 h-5"})}),s.jsx(j,{children:t&&s.jsx(w.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 mt-2 w-48 bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-800 z-[200] overflow-hidden",children:s.jsx("div",{className:"p-1.5 flex flex-col",children:b.map((e,i)=>{const u=e.icon;return s.jsxs(E,{onClick:x=>{x.preventDefault(),x.stopPropagation(),n(!1),e.onClick()},scaleDown:.98,className:c("flex items-center gap-3 px-3 py-2.5 w-full text-left text-sm font-semibold rounded-xl transition-colors",e.variant==="danger"?"text-red-600 hover:bg-red-50 dark:hover:bg-red-500/10":"text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800"),children:[u&&s.jsx(u,{className:"w-4 h-4"}),s.jsx("span",{children:e.label})]},i)})})})})]})}export{R as I};
