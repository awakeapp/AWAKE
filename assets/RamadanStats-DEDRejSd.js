import{z as M,b2 as E,j as e,V as P,M as C,m as u,aC as S,O,a6 as Y,E as b}from"./index-9msspAXs.js";import{S as B}from"./sun-BQlunvnj.js";import{B as F}from"./book-open-CJ6BBX_i.js";import{T as G}from"./trending-up-kT6XmkFT.js";const r=({title:x,icon:o,value:d,target:i,percent:m,colorClass:a="from-emerald-400 to-emerald-600",bgTint:s="bg-emerald-500/10",delay:n=0})=>{const g=Math.min(m,100);return e.jsxs(u.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.3,delay:n},className:"group relative bg-white dark:bg-slate-900 rounded-2xl p-4 border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:b("p-2 rounded-xl shrink-0 transition-transform group-hover:scale-105 duration-300",s),children:e.jsx(o,{className:b("w-5 h-5",a.replace("from-","text-").split(" ")[0])})}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400",children:[Math.round(m),"%"]}),e.jsx("div",{className:"flex items-center justify-end gap-1 mt-0.5",children:e.jsx(G,{className:"w-3 h-3 text-emerald-500"})})]})]}),e.jsxs("div",{className:"space-y-1 mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 tracking-tight",children:x}),e.jsxs("div",{className:"flex items-baseline gap-1.5",children:[e.jsx("span",{className:"text-2xl font-black tracking-tight text-slate-900 dark:text-white tabular-nums leading-none",children:d}),i&&e.jsxs("span",{className:"text-xs font-semibold text-slate-400 dark:text-slate-500",children:["/ ",i]})]})]}),e.jsx("div",{className:"relative h-1.5 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:e.jsx(u.div,{initial:{width:0},animate:{width:`${g}%`},transition:{duration:.8,delay:n+.1},className:b("absolute inset-y-0 left-0 bg-gradient-to-r rounded-full",a)})})]})},U=()=>{M();const{loading:x,error:o,ramadanData:d,hijriDate:i}=E();if(x)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-slate-950",children:e.jsx("div",{className:"flex flex-col items-center gap-4",children:e.jsx("div",{className:"w-10 h-10 rounded-full border-4 border-slate-100 dark:border-slate-800 border-t-indigo-500 animate-spin"})})});if(o)return e.jsx("div",{className:"p-4 text-center bg-rose-50 dark:bg-rose-900/10 rounded-2xl border border-rose-100 dark:border-rose-900/20 m-4",children:e.jsx("p",{className:"text-rose-600 font-medium",children:o})});if(!i?.isRamadan)return e.jsx(P,{title:"Analysis",bgClass:"bg-transparent",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-8 text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-900 rounded-2xl flex items-center justify-center",children:e.jsx(C,{className:"w-8 h-8 text-slate-300 dark:text-slate-700"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-slate-900 dark:text-white",children:"Stats Inactive"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 max-w-[200px] mx-auto mt-1",children:"Ramadan hasn't started yet. Your journey begins soon."})]})]})});const a=i.day||1,s=Object.values(d?.days||{}),n=s.filter(t=>t.fasted).length,g=a>0?n/a*100:0,j=s.filter(t=>t.taraweeh).length,R=a>0?j/a*100:0,f=s.filter(t=>t.tahajjud).length,D=a>0?f/a*100:0,p=s.filter(t=>t.witr).length,L=a>0?p/a*100:0,c=d?.quranGoal||{type:"pages",value:604},v=s.reduce((t,l)=>t+(c.type==="juz"?l.quranJuz||0:l.quranPages||0),0),A=c.value>0?v/c.value*100:0,N=["fajr","dhuhr","asr","maghrib","isha"],h=a*N.length,w=s.reduce((t,l)=>t+N.filter(I=>l[I]).length,0),q=h>0?w/h*100:0,y=s.reduce((t,l)=>t+(l.tahlil||0),0),k=s.reduce((t,l)=>t+(l.salawat||0),0),T=s.reduce((t,l)=>t+(l.istighfar||0),0),z=y+k+T;return e.jsx(P,{title:"Analysis",contentPadClass:"px-2 pb-24 flex flex-col gap-6",bgClass:"bg-transparent",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(u.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"relative bg-indigo-600 dark:bg-indigo-900/40 rounded-2xl p-6 text-white shadow-sm overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center",children:e.jsx(S,{className:"w-5 h-5 text-indigo-100"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-indigo-100 uppercase tracking-wider",children:"Total Dhikr"}),e.jsx("p",{className:"text-sm font-medium text-white/80",children:"Spreading peace"})]})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("p",{className:"text-4xl font-black tabular-nums tracking-tight leading-none",children:z.toLocaleString()}),e.jsx("span",{className:"text-xs font-medium text-indigo-200",children:"counts"})]}),e.jsxs("div",{className:"mt-5 grid grid-cols-3 gap-3 border-t border-white/10 pt-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-indigo-200 mb-1",children:"Tahlil"}),e.jsx("p",{className:"text-lg font-bold",children:y.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-indigo-200 mb-1",children:"Salawat"}),e.jsx("p",{className:"text-lg font-bold",children:k.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-indigo-200 mb-1",children:"Istighfar"}),e.jsx("p",{className:"text-lg font-bold",children:T.toLocaleString()})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(r,{title:"Fasting Days",icon:B,value:n,target:a,percent:g,colorClass:"from-orange-400 to-orange-500",bgTint:"bg-orange-50 dark:bg-orange-500/10",delay:.1}),e.jsx(r,{title:"Quran Goals",icon:F,value:v,target:c.value,percent:A,colorClass:"from-indigo-400 to-indigo-500",bgTint:"bg-indigo-50 dark:bg-indigo-500/10",delay:.2}),e.jsx(r,{title:"Prayers",icon:O,value:w,target:h,percent:q,colorClass:"from-emerald-400 to-emerald-500",bgTint:"bg-emerald-50 dark:bg-emerald-500/10",delay:.3}),e.jsx(r,{title:"Taraweeh",icon:C,value:j,target:a,percent:R,colorClass:"from-blue-400 to-blue-500",bgTint:"bg-blue-50 dark:bg-blue-500/10",delay:.4}),e.jsx(r,{title:"Tahajjud",icon:S,value:f,target:a,percent:D,colorClass:"from-violet-400 to-violet-500",bgTint:"bg-violet-50 dark:bg-violet-500/10",delay:.5}),e.jsx(r,{title:"Witr",icon:Y,value:p,target:a,percent:L,colorClass:"from-rose-400 to-rose-500",bgTint:"bg-rose-50 dark:bg-rose-500/10",delay:.6})]})]})})};export{U as default};
