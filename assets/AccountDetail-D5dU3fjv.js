import{w as D,an as M,n as L,x as B,r as c,j as e,a4 as H,y as $}from"./main-C3a15kTs.js";import{A as F,H as R,T as _}from"./trending-down-B_d3HGuS.js";import{T as z}from"./trending-up-Ch5SVKRE.js";const O=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],N=D("arrow-right-left",O),G=()=>{const{id:s}=M(),m=L(),{accounts:d,transactions:h,updateAccount:v,toggleArchiveAccount:y,categories:A}=B(),a=d.find(t=>t.id===s),[k,u]=c.useState(!1),[f,b]=c.useState(""),[p,g]=c.useState(""),w=c.useMemo(()=>a?h.filter(t=>t.accountId===s||t.fromAccountId===s||t.toAccountId===s).sort((t,i)=>new Date(i.date||i.createdAt)-new Date(t.date||t.createdAt)):[],[h,s,a]);if(!a)return e.jsx("div",{className:"p-6 text-center",children:"Account not found"});const I=()=>{b(a.name),g(a.openingBalance),u(!0)},C=()=>{v(s,{name:f,openingBalance:Number(p)}),u(!1)},[x,j]=c.useState(!1),T=()=>{x?(y(s),m(-1)):(j(!0),setTimeout(()=>j(!1),3e3))};return e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 pb-24 animate-in slide-in-from-right-4",children:[e.jsxs("div",{className:"bg-slate-900 text-white p-6 pb-12 rounded-b-[2rem] shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("button",{onClick:()=>m("/finance"),className:"p-2 bg-white/10 rounded-xl hover:bg-white/20 transition-colors",children:e.jsx(H,{className:"w-5 h-5 text-white"})}),e.jsx("h1",{className:"text-lg font-bold",children:"Account Details"}),e.jsxs("button",{onClick:T,className:`p-2 rounded-xl transition-all duration-300 flex items-center gap-2 ${x?"bg-red-500 text-white w-auto px-3":a.isArchived?"bg-orange-500 text-white":"bg-white/10 hover:bg-white/20"}`,children:[e.jsx(F,{className:"w-5 h-5"}),x&&e.jsx("span",{className:"text-xs font-bold whitespace-nowrap",children:"Confirm?"})]})]}),e.jsx("div",{className:"text-center",children:k?e.jsxs("div",{className:"space-y-3 max-w-xs mx-auto",children:[e.jsx("input",{value:f,onChange:t=>b(t.target.value),className:"bg-white/10 border border-white/20 rounded-lg p-2 text-center text-white font-bold w-full"}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"text-slate-400 text-xs",children:"Opening: ₹"}),e.jsx("input",{type:"number",value:p,onChange:t=>g(t.target.value),className:"bg-white/10 border border-white/20 rounded-lg p-1 text-center text-white w-24"})]}),e.jsx("button",{onClick:C,className:"bg-emerald-500 text-white px-4 py-1 rounded-full text-xs font-bold",children:"Save"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest mb-1",children:a.name}),e.jsxs("h2",{className:"text-4xl font-bold mb-2",children:["₹",a.balance.toLocaleString()]}),e.jsx("button",{onClick:I,className:"text-xs text-indigo-300 hover:text-white underline",children:"Edit Info"})]})})]}),e.jsx("div",{className:"px-4 -mt-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-slate-800",children:[e.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4 text-slate-400"}),"Transaction History"]}),e.jsx("div",{className:"space-y-4",children:w.length===0?e.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"No transactions found."}):w.map(t=>{const i=t.type==="transfer";let n=!1,S=Number(t.amount),l=t.note,o=null;if(i)t.toAccountId===s?(n=!0,l=`Transfer from ${d.find(r=>r.id===t.fromAccountId)?.name}`,o=e.jsx(N,{className:"w-4 h-4 text-blue-500"})):(l=`Transfer to ${d.find(r=>r.id===t.toAccountId)?.name}`,o=e.jsx(N,{className:"w-4 h-4 text-slate-500"}));else{n=t.type==="income",t.type;const r=A.find(E=>E.id===t.categoryId);l=t.note||r?.name,o=n?e.jsx(z,{className:"w-4 h-4 text-emerald-500"}):e.jsx(_,{className:"w-4 h-4 text-rose-500"})}return e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-50 dark:border-slate-800 pb-3 last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 dark:bg-slate-800 flex items-center justify-center",children:o}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-white",children:l}),e.jsx("p",{className:"text-xs text-slate-400",children:$(new Date(t.date||t.createdAt),"MMM d, yyyy")})]})]}),e.jsxs("span",{className:`font-bold ${n?"text-emerald-500":"text-slate-900 dark:text-white"}`,children:[n?"+":"-","₹",S.toLocaleString()]})]},t.id)})})]})})]})};export{G as default};
