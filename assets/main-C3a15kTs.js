const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-BePBbAAV.js","assets/flame-_1yKDcfd.js","assets/trophy-0kgQEAKh.js","assets/Routine-DfVV_Eew.js","assets/DateHeader-Vkk6rt1C.js","assets/TaskItem-k_1t4MOP.js","assets/bike-DsDaV_F_.js","assets/trash-2-BJhqq1Yq.js","assets/circle-check-big-C9BnTzyn.js","assets/chevron-up-B0ExzhRd.js","assets/subMonths-C6kp2joA.js","assets/isSameMonth-CMmjtBRn.js","assets/Card-DJRfr-kr.js","assets/pen-YCnn75Yr.js","assets/plus-BM30_bg2.js","assets/circle-alert-BzN1QSPA.js","assets/smartphone-DZ2ke2Is.js","assets/star-BJmYRRdk.js","assets/trending-up-Ch5SVKRE.js","assets/award-C-c7bxvf.js","assets/TaskDashboard-_5O7b6bL.js","assets/subDays-CD8P4QFF.js","assets/FinanceDashboard-Cz7IDfE0.js","assets/triangle-alert-Csi8TBB0.js","assets/refresh-cw-DHwMrpRl.js","assets/differenceInDays-B8ePxY8j.js","assets/VehicleDashboard-DNtxeGLC.js","assets/save-BzNnr0MD.js","assets/trending-down-B_d3HGuS.js","assets/Login-C739M84X.js","assets/Input-DWYPid_g.js","assets/ErrorDisplay-UyJPmV9c.js","assets/circle-x-4LZL_UbM.js","assets/Dashboard-K_RNhnaX.js","assets/History-PVKt6XUo.js","assets/Settings-C8THCzy6.js","assets/user-BuZhPZK9.js","assets/ForgotPassword-CbF6w-4u.js","assets/Analytics-CgcIY9fl.js","assets/CartesianChart-BJ24ey3z.js","assets/DietPlan-BXpbZnER.js","assets/WorkspaceCalendar-BjtITOcp.js","assets/WorkspaceBoard-BqKCLlmf.js","assets/FilteredTaskView-BwUv7fyr.js","assets/Overview-q2sl63rM.js","assets/DebtManager-CZB2t4yp.js","assets/AccountDetail-D5dU3fjv.js","assets/MonthlyOverview-DzqKO3Eb.js"])))=>i.map(i=>d[i]);
function gA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var qU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Up={exports:{}},eu={},Bp={exports:{}},Je={};var Aw;function yA(){if(Aw)return Je;Aw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=w&&$[w]||$["@@iterator"],typeof $=="function"?$:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,M={};function L($,ne,Ie){this.props=$,this.context=ne,this.refs=M,this.updater=Ie||A}L.prototype.isReactComponent={},L.prototype.setState=function($,ne){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ne,"setState")},L.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function B(){}B.prototype=L.prototype;function q($,ne,Ie){this.props=$,this.context=ne,this.refs=M,this.updater=Ie||A}var U=q.prototype=new B;U.constructor=q,O(U,L.prototype),U.isPureReactComponent=!0;var ie=Array.isArray,F=Object.prototype.hasOwnProperty,X={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I($,ne,Ie){var re,te={},J=null,pe=null;if(ne!=null)for(re in ne.ref!==void 0&&(pe=ne.ref),ne.key!==void 0&&(J=""+ne.key),ne)F.call(ne,re)&&!k.hasOwnProperty(re)&&(te[re]=ne[re]);var ve=arguments.length-2;if(ve===1)te.children=Ie;else if(1<ve){for(var le=Array(ve),Oe=0;Oe<ve;Oe++)le[Oe]=arguments[Oe+2];te.children=le}if($&&$.defaultProps)for(re in ve=$.defaultProps,ve)te[re]===void 0&&(te[re]=ve[re]);return{$$typeof:t,type:$,key:J,ref:pe,props:te,_owner:X.current}}function b($,ne){return{$$typeof:t,type:$.type,key:ne,ref:$.ref,props:$.props,_owner:$._owner}}function N($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function V($){var ne={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Ie){return ne[Ie]})}var P=/\/+/g;function S($,ne){return typeof $=="object"&&$!==null&&$.key!=null?V(""+$.key):ne.toString(36)}function G($,ne,Ie,re,te){var J=typeof $;(J==="undefined"||J==="boolean")&&($=null);var pe=!1;if($===null)pe=!0;else switch(J){case"string":case"number":pe=!0;break;case"object":switch($.$$typeof){case t:case e:pe=!0}}if(pe)return pe=$,te=te(pe),$=re===""?"."+S(pe,0):re,ie(te)?(Ie="",$!=null&&(Ie=$.replace(P,"$&/")+"/"),G(te,ne,Ie,"",function(Oe){return Oe})):te!=null&&(N(te)&&(te=b(te,Ie+(!te.key||pe&&pe.key===te.key?"":(""+te.key).replace(P,"$&/")+"/")+$)),ne.push(te)),1;if(pe=0,re=re===""?".":re+":",ie($))for(var ve=0;ve<$.length;ve++){J=$[ve];var le=re+S(J,ve);pe+=G(J,ne,Ie,le,te)}else if(le=_($),typeof le=="function")for($=le.call($),ve=0;!(J=$.next()).done;)J=J.value,le=re+S(J,ve++),pe+=G(J,ne,Ie,le,te);else if(J==="object")throw ne=String($),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return pe}function z($,ne,Ie){if($==null)return $;var re=[],te=0;return G($,re,"","",function(J){return ne.call(Ie,J,te++)}),re}function he($){if($._status===-1){var ne=$._result;ne=ne(),ne.then(function(Ie){($._status===0||$._status===-1)&&($._status=1,$._result=Ie)},function(Ie){($._status===0||$._status===-1)&&($._status=2,$._result=Ie)}),$._status===-1&&($._status=0,$._result=ne)}if($._status===1)return $._result.default;throw $._result}var ae={current:null},H={transition:null},se={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:H,ReactCurrentOwner:X};function ce(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:z,forEach:function($,ne,Ie){z($,function(){ne.apply(this,arguments)},Ie)},count:function($){var ne=0;return z($,function(){ne++}),ne},toArray:function($){return z($,function(ne){return ne})||[]},only:function($){if(!N($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Je.Component=L,Je.Fragment=n,Je.Profiler=i,Je.PureComponent=q,Je.StrictMode=r,Je.Suspense=f,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Je.act=ce,Je.cloneElement=function($,ne,Ie){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var re=O({},$.props),te=$.key,J=$.ref,pe=$._owner;if(ne!=null){if(ne.ref!==void 0&&(J=ne.ref,pe=X.current),ne.key!==void 0&&(te=""+ne.key),$.type&&$.type.defaultProps)var ve=$.type.defaultProps;for(le in ne)F.call(ne,le)&&!k.hasOwnProperty(le)&&(re[le]=ne[le]===void 0&&ve!==void 0?ve[le]:ne[le])}var le=arguments.length-2;if(le===1)re.children=Ie;else if(1<le){ve=Array(le);for(var Oe=0;Oe<le;Oe++)ve[Oe]=arguments[Oe+2];re.children=ve}return{$$typeof:t,type:$.type,key:te,ref:J,props:re,_owner:pe}},Je.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Je.createElement=I,Je.createFactory=function($){var ne=I.bind(null,$);return ne.type=$,ne},Je.createRef=function(){return{current:null}},Je.forwardRef=function($){return{$$typeof:h,render:$}},Je.isValidElement=N,Je.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:he}},Je.memo=function($,ne){return{$$typeof:p,type:$,compare:ne===void 0?null:ne}},Je.startTransition=function($){var ne=H.transition;H.transition={};try{$()}finally{H.transition=ne}},Je.unstable_act=ce,Je.useCallback=function($,ne){return ae.current.useCallback($,ne)},Je.useContext=function($){return ae.current.useContext($)},Je.useDebugValue=function(){},Je.useDeferredValue=function($){return ae.current.useDeferredValue($)},Je.useEffect=function($,ne){return ae.current.useEffect($,ne)},Je.useId=function(){return ae.current.useId()},Je.useImperativeHandle=function($,ne,Ie){return ae.current.useImperativeHandle($,ne,Ie)},Je.useInsertionEffect=function($,ne){return ae.current.useInsertionEffect($,ne)},Je.useLayoutEffect=function($,ne){return ae.current.useLayoutEffect($,ne)},Je.useMemo=function($,ne){return ae.current.useMemo($,ne)},Je.useReducer=function($,ne,Ie){return ae.current.useReducer($,ne,Ie)},Je.useRef=function($){return ae.current.useRef($)},Je.useState=function($){return ae.current.useState($)},Je.useSyncExternalStore=function($,ne,Ie){return ae.current.useSyncExternalStore($,ne,Ie)},Je.useTransition=function(){return ae.current.useTransition()},Je.version="18.3.1",Je}var bw;function Pg(){return bw||(bw=1,Bp.exports=yA()),Bp.exports}var Pw;function vA(){if(Pw)return eu;Pw=1;var t=Pg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(h,f,p){var g,w={},_=null,A=null;p!==void 0&&(_=""+p),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(A=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(w[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)w[g]===void 0&&(w[g]=f[g]);return{$$typeof:e,type:h,key:_,ref:A,props:w,_owner:i.current}}return eu.Fragment=n,eu.jsx=l,eu.jsxs=l,eu}var Rw;function wA(){return Rw||(Rw=1,Up.exports=vA()),Up.exports}var R=wA(),C=Pg();const Rg=bg(C),_A=gA({__proto__:null,default:Rg},[C]);var _h={},zp={exports:{}},An={},$p={exports:{}},Wp={};var Dw;function TA(){return Dw||(Dw=1,(function(t){function e(H,se){var ce=H.length;H.push(se);e:for(;0<ce;){var $=ce-1>>>1,ne=H[$];if(0<i(ne,se))H[$]=se,H[ce]=ne,ce=$;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var se=H[0],ce=H.pop();if(ce!==se){H[0]=ce;e:for(var $=0,ne=H.length,Ie=ne>>>1;$<Ie;){var re=2*($+1)-1,te=H[re],J=re+1,pe=H[J];if(0>i(te,ce))J<ne&&0>i(pe,te)?(H[$]=pe,H[J]=ce,$=J):(H[$]=te,H[re]=ce,$=re);else if(J<ne&&0>i(pe,ce))H[$]=pe,H[J]=ce,$=J;else break e}}return se}function i(H,se){var ce=H.sortIndex-se.sortIndex;return ce!==0?ce:H.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var f=[],p=[],g=1,w=null,_=3,A=!1,O=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(H){for(var se=n(p);se!==null;){if(se.callback===null)r(p);else if(se.startTime<=H)r(p),se.sortIndex=se.expirationTime,e(f,se);else break;se=n(p)}}function ie(H){if(M=!1,U(H),!O)if(n(f)!==null)O=!0,he(F);else{var se=n(p);se!==null&&ae(ie,se.startTime-H)}}function F(H,se){O=!1,M&&(M=!1,B(I),I=-1),A=!0;var ce=_;try{for(U(se),w=n(f);w!==null&&(!(w.expirationTime>se)||H&&!V());){var $=w.callback;if(typeof $=="function"){w.callback=null,_=w.priorityLevel;var ne=$(w.expirationTime<=se);se=t.unstable_now(),typeof ne=="function"?w.callback=ne:w===n(f)&&r(f),U(se)}else r(f);w=n(f)}if(w!==null)var Ie=!0;else{var re=n(p);re!==null&&ae(ie,re.startTime-se),Ie=!1}return Ie}finally{w=null,_=ce,A=!1}}var X=!1,k=null,I=-1,b=5,N=-1;function V(){return!(t.unstable_now()-N<b)}function P(){if(k!==null){var H=t.unstable_now();N=H;var se=!0;try{se=k(!0,H)}finally{se?S():(X=!1,k=null)}}else X=!1}var S;if(typeof q=="function")S=function(){q(P)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,z=G.port2;G.port1.onmessage=P,S=function(){z.postMessage(null)}}else S=function(){L(P,0)};function he(H){k=H,X||(X=!0,S())}function ae(H,se){I=L(function(){H(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){O||A||(O=!0,he(F))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(H){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var ce=_;_=se;try{return H()}finally{_=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ce=_;_=H;try{return se()}finally{_=ce}},t.unstable_scheduleCallback=function(H,se,ce){var $=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?$+ce:$):ce=$,H){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ce+ne,H={id:g++,callback:se,priorityLevel:H,startTime:ce,expirationTime:ne,sortIndex:-1},ce>$?(H.sortIndex=ce,e(p,H),n(f)===null&&H===n(p)&&(M?(B(I),I=-1):M=!0,ae(ie,ce-$))):(H.sortIndex=ne,e(f,H),O||A||(O=!0,he(F))),H},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(H){var se=_;return function(){var ce=_;_=se;try{return H.apply(this,arguments)}finally{_=ce}}}})(Wp)),Wp}var Nw;function EA(){return Nw||(Nw=1,$p.exports=TA()),$p.exports}var Vw;function SA(){if(Vw)return An;Vw=1;var t=Pg(),e=EA();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function _(s){return f.call(w,s)?!0:f.call(g,s)?!1:p.test(s)?w[s]=!0:(g[s]=!0,!1)}function A(s,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function O(s,o,u,d){if(o===null||typeof o>"u"||A(s,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function M(s,o,u,d,m,y,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=E}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){L[s]=new M(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];L[o]=new M(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){L[s]=new M(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){L[s]=new M(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){L[s]=new M(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){L[s]=new M(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){L[s]=new M(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){L[s]=new M(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){L[s]=new M(s,5,!1,s.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function q(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(B,q);L[o]=new M(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(B,q);L[o]=new M(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(B,q);L[o]=new M(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){L[s]=new M(s,1,!1,s.toLowerCase(),null,!1,!1)}),L.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){L[s]=new M(s,1,!1,s.toLowerCase(),null,!0,!0)});function U(s,o,u,d){var m=L.hasOwnProperty(o)?L[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(O(o,u,m,d)&&(u=null),d||m===null?_(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?s.setAttributeNS(d,o,u):s.setAttribute(o,u))))}var ie=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),X=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),V=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),H=Symbol.iterator;function se(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var ce=Object.assign,$;function ne(s){if($===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+s}var Ie=!1;function re(s,o){if(!s||Ie)return"";Ie=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Z){var d=Z}Reflect.construct(s,[],o)}else{try{o.call()}catch(Z){d=Z}s.call(o.prototype)}else{try{throw Error()}catch(Z){d=Z}s()}}catch(Z){if(Z&&d&&typeof Z.stack=="string"){for(var m=Z.stack.split(`
`),y=d.stack.split(`
`),E=m.length-1,D=y.length-1;1<=E&&0<=D&&m[E]!==y[D];)D--;for(;1<=E&&0<=D;E--,D--)if(m[E]!==y[D]){if(E!==1||D!==1)do if(E--,D--,0>D||m[E]!==y[D]){var j=`
`+m[E].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=E&&0<=D);break}}}finally{Ie=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ne(s):""}function te(s){switch(s.tag){case 5:return ne(s.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return s=re(s.type,!1),s;case 11:return s=re(s.type.render,!1),s;case 1:return s=re(s.type,!0),s;default:return""}}function J(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case X:return"Portal";case b:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case G:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case P:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case z:return o=s.displayName||null,o!==null?o:J(s.type)||"Memo";case he:o=s._payload,s=s._init;try{return J(s(o))}catch{}}return null}function pe(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ve(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function le(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Oe(s){var o=le(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){d=""+E,y.call(this,E)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Qe(s){s._valueTracker||(s._valueTracker=Oe(s))}function Le(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return s&&(d=le(s)?s.checked?"true":"false":s.value),s=d,s!==u?(o.setValue(s),!0):!1}function _t(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ge(s,o){var u=o.checked;return ce({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function _e(s,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=ve(o.value!=null?o.value:u),s._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Se(s,o){o=o.checked,o!=null&&U(s,"checked",o,!1)}function Ee(s,o){Se(s,o);var u=ve(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Ce(s,o.type,u):o.hasOwnProperty("defaultValue")&&Ce(s,o.type,ve(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function qe(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Ce(s,o,u){(o!=="number"||_t(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Pe=Array.isArray;function Ye(s,o,u,d){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&d&&(s[u].defaultSelected=!0)}else{for(u=""+ve(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Fi(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ce({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ul(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Pe(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:ve(u)}}function oc(s,o){var u=ve(o.value),d=ve(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),d!=null&&(s.defaultValue=""+d)}function Ds(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function cl(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fo(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?cl(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ns,ac=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,d,m)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ns.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ji(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lc=["Webkit","ms","Moz","O"];Object.keys(Vs).forEach(function(s){lc.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Vs[o]=Vs[s]})});function Ms(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Vs.hasOwnProperty(s)&&Vs[s]?(""+o).trim():o+"px"}function jo(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=Ms(u,o[u],d);u==="float"&&(u="cssFloat"),d?s.setProperty(u,m):s[u]=m}}var hl=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sr(s,o){if(o){if(hl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Uo(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Os=null;function Bo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Jr=null,Zr=null,xt=null;function dl(s){if(s=jl(s)){if(typeof Jr!="function")throw Error(n(280));var o=s.stateNode;o&&(o=Mc(o),Jr(s.stateNode,s.type,o))}}function Ls(s){Zr?xt?xt.push(s):xt=[s]:Zr=s}function Fs(){if(Zr){var s=Zr,o=xt;if(xt=Zr=null,dl(s),o)for(s=0;s<o.length;s++)dl(o[s])}}function uc(s,o){return s(o)}function cc(){}var Er=!1;function hc(s,o,u){if(Er)return s(o,u);Er=!0;try{return uc(s,o,u)}finally{Er=!1,(Zr!==null||xt!==null)&&(cc(),Fs())}}function Ui(s,o){var u=s.stateNode;if(u===null)return null;var d=Mc(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var js=!1;if(h)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){js=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{js=!1}function dc(s,o,u,d,m,y,E,D,j){var Z=Array.prototype.slice.call(arguments,3);try{o.apply(u,Z)}catch(fe){this.onError(fe)}}var es=!1,Sr=null,zo=!1,Wn=null,fc={onError:function(s){es=!0,Sr=s}};function pc(s,o,u,d,m,y,E,D,j){es=!1,Sr=null,dc.apply(fc,arguments)}function fl(s,o,u,d,m,y,E,D,j){if(pc.apply(this,arguments),es){if(es){var Z=Sr;es=!1,Sr=null}else throw Error(n(198));zo||(zo=!0,Wn=Z)}}function ir(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function pl(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function mc(s){if(ir(s)!==s)throw Error(n(188))}function gc(s){var o=s.alternate;if(!o){if(o=ir(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,d=o;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return mc(m),s;if(y===d)return mc(m),o;y=y.sibling}throw Error(n(188))}if(u.return!==d.return)u=m,d=y;else{for(var E=!1,D=m.child;D;){if(D===u){E=!0,u=m,d=y;break}if(D===d){E=!0,d=m,u=y;break}D=D.sibling}if(!E){for(D=y.child;D;){if(D===u){E=!0,u=y,d=m;break}if(D===d){E=!0,d=y,u=m;break}D=D.sibling}if(!E)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function yc(s){return s=gc(s),s!==null?Bi(s):null}function Bi(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Bi(s);if(o!==null)return o;s=s.sibling}return null}var ml=e.unstable_scheduleCallback,$o=e.unstable_cancelCallback,zi=e.unstable_shouldYield,ts=e.unstable_requestPaint,mt=e.unstable_now,yf=e.unstable_getCurrentPriorityLevel,Wo=e.unstable_ImmediatePriority,gl=e.unstable_UserBlockingPriority,$i=e.unstable_NormalPriority,yl=e.unstable_LowPriority,qo=e.unstable_IdlePriority,Wi=null,Vn=null;function vc(s){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Wi,s,void 0,(s.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:qi,Ir=Math.log,qn=Math.LN2;function qi(s){return s>>>=0,s===0?32:31-(Ir(s)/qn|0)|0}var kr=64,Bs=4194304;function ot(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ns(s,o){var u=s.pendingLanes;if(u===0)return 0;var d=0,m=s.suspendedLanes,y=s.pingedLanes,E=u&268435455;if(E!==0){var D=E&~m;D!==0?d=ot(D):(y&=E,y!==0&&(d=ot(y)))}else E=u&~m,E!==0?d=ot(E):y!==0&&(d=ot(y));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((d&4)!==0&&(d|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)u=31-Mn(o),m=1<<u,d|=s[u],o&=~m;return d}function Hi(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gi(s,o){for(var u=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var E=31-Mn(y),D=1<<E,j=m[E];j===-1?((D&u)===0||(D&d)!==0)&&(m[E]=Hi(D,o)):j<=o&&(s.expiredLanes|=D),y&=~D}}function vl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function wl(){var s=kr;return kr<<=1,(kr&4194240)===0&&(kr=64),s}function _l(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Ki(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Mn(o),s[o]=u}function vf(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-Mn(u),y=1<<m;o[m]=0,d[m]=-1,s[m]=-1,u&=~y}}function Tl(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var d=31-Mn(u),m=1<<d;m&o|s[d]&o&&(s[d]|=o),u&=~m}}var nt=0;function Cr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var El,Ho,Sl,Il,kl,xr=!1,Go=[],Ar=null,br=null,Zt=null,Yi=new Map,rs=new Map,On=[],wc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zs(s,o){switch(s){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":Yi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(o.pointerId)}}function or(s,o,u,d,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},o!==null&&(o=jl(o),o!==null&&Ho(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function _c(s,o,u,d,m){switch(o){case"focusin":return Ar=or(Ar,s,o,u,d,m),!0;case"dragenter":return br=or(br,s,o,u,d,m),!0;case"mouseover":return Zt=or(Zt,s,o,u,d,m),!0;case"pointerover":var y=m.pointerId;return Yi.set(y,or(Yi.get(y)||null,s,o,u,d,m)),!0;case"gotpointercapture":return y=m.pointerId,rs.set(y,or(rs.get(y)||null,s,o,u,d,m)),!0}return!1}function Ko(s){var o=Zi(s.target);if(o!==null){var u=ir(o);if(u!==null){if(o=u.tag,o===13){if(o=pl(u),o!==null){s.blockedOn=o,kl(s.priority,function(){Sl(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ht(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Yo(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);Os=d,u.target.dispatchEvent(d),Os=null}else return o=jl(u),o!==null&&Ho(o),s.blockedOn=u,!1;o.shift()}return!0}function Tc(s,o,u){ht(s)&&u.delete(o)}function wf(){xr=!1,Ar!==null&&ht(Ar)&&(Ar=null),br!==null&&ht(br)&&(br=null),Zt!==null&&ht(Zt)&&(Zt=null),Yi.forEach(Tc),rs.forEach(Tc)}function $s(s,o){s.blockedOn===o&&(s.blockedOn=null,xr||(xr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wf)))}function Ws(s){function o(m){return $s(m,s)}if(0<Go.length){$s(Go[0],s);for(var u=1;u<Go.length;u++){var d=Go[u];d.blockedOn===s&&(d.blockedOn=null)}}for(Ar!==null&&$s(Ar,s),br!==null&&$s(br,s),Zt!==null&&$s(Zt,s),Yi.forEach(o),rs.forEach(o),u=0;u<On.length;u++)d=On[u],d.blockedOn===s&&(d.blockedOn=null);for(;0<On.length&&(u=On[0],u.blockedOn===null);)Ko(u),u.blockedOn===null&&On.shift()}var ss=ie.ReactCurrentBatchConfig,is=!0;function Pr(s,o,u,d){var m=nt,y=ss.transition;ss.transition=null;try{nt=1,Cl(s,o,u,d)}finally{nt=m,ss.transition=y}}function Ec(s,o,u,d){var m=nt,y=ss.transition;ss.transition=null;try{nt=4,Cl(s,o,u,d)}finally{nt=m,ss.transition=y}}function Cl(s,o,u,d){if(is){var m=Yo(s,o,u,d);if(m===null)Pf(s,o,d,Rr,u),zs(s,d);else if(_c(m,s,o,u,d))d.stopPropagation();else if(zs(s,d),o&4&&-1<wc.indexOf(s)){for(;m!==null;){var y=jl(m);if(y!==null&&El(y),y=Yo(s,o,u,d),y===null&&Pf(s,o,d,Rr,u),y===m)break;m=y}m!==null&&d.stopPropagation()}else Pf(s,o,d,null,u)}}var Rr=null;function Yo(s,o,u,d){if(Rr=null,s=Bo(d),s=Zi(s),s!==null)if(o=ir(s),o===null)s=null;else if(u=o.tag,u===13){if(s=pl(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Rr=s,null}function Qo(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yf()){case Wo:return 1;case gl:return 4;case $i:case yl:return 16;case qo:return 536870912;default:return 16}default:return 16}}var Ln=null,Xo=null,os=null;function Sc(){if(os)return os;var s,o=Xo,u=o.length,d,m="value"in Ln?Ln.value:Ln.textContent,y=m.length;for(s=0;s<u&&o[s]===m[s];s++);var E=u-s;for(d=1;d<=E&&o[u-d]===m[y-d];d++);return os=m.slice(s,1<d?1-d:void 0)}function Qi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Dr(){return!0}function xl(){return!1}function ln(s){function o(u,d,m,y,E){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(u=s[D],this[D]=u?u(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Dr:xl,this.isPropagationStopped=xl,this}return ce(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),o}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=ln(Nr),qs=ce({},Nr,{view:0,detail:0}),Jo=ln(qs),Zo,ea,Fn,Ji=ce({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ge,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fn&&(Fn&&s.type==="mousemove"?(Zo=s.screenX-Fn.screenX,ea=s.screenY-Fn.screenY):ea=Zo=0,Fn=s),Zo)},movementY:function(s){return"movementY"in s?s.movementY:ea}}),Al=ln(Ji),Ic=ce({},Ji,{dataTransfer:0}),kc=ln(Ic),ta=ce({},qs,{relatedTarget:0}),en=ln(ta),Cc=ce({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),xc=ln(Cc),Hs=ce({},Nr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),c=ln(Hs),v=ce({},Nr,{data:0}),T=ln(v),x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function we(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=ee[s])?!!o[s]:!1}function Ge(){return we}var Dt=ce({},qs,{key:function(s){if(s.key){var o=x[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Qi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Y[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ge,charCode:function(s){return s.type==="keypress"?Qi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),lt=ln(Dt),Lt=ce({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jn=ln(Lt),as=ce({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ge}),Vr=ln(as),Mr=ce({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),na=ln(Mr),bl=ce({},Ji,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),cx=ln(bl),hx=[9,13,27,32],_f=h&&"CompositionEvent"in window,Pl=null;h&&"documentMode"in document&&(Pl=document.documentMode);var dx=h&&"TextEvent"in window&&!Pl,_v=h&&(!_f||Pl&&8<Pl&&11>=Pl),Tv=" ",Ev=!1;function Sv(s,o){switch(s){case"keyup":return hx.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ra=!1;function fx(s,o){switch(s){case"compositionend":return Iv(o);case"keypress":return o.which!==32?null:(Ev=!0,Tv);case"textInput":return s=o.data,s===Tv&&Ev?null:s;default:return null}}function px(s,o){if(ra)return s==="compositionend"||!_f&&Sv(s,o)?(s=Sc(),os=Xo=Ln=null,ra=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return _v&&o.locale!=="ko"?null:o.data;default:return null}}var mx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!mx[s.type]:o==="textarea"}function Cv(s,o,u,d){Ls(d),o=Dc(o,"onChange"),0<o.length&&(u=new Xi("onChange","change",null,u,d),s.push({event:u,listeners:o}))}var Rl=null,Dl=null;function gx(s){Wv(s,0)}function Ac(s){var o=la(s);if(Le(o))return s}function yx(s,o){if(s==="change")return o}var xv=!1;if(h){var Tf;if(h){var Ef="oninput"in document;if(!Ef){var Av=document.createElement("div");Av.setAttribute("oninput","return;"),Ef=typeof Av.oninput=="function"}Tf=Ef}else Tf=!1;xv=Tf&&(!document.documentMode||9<document.documentMode)}function bv(){Rl&&(Rl.detachEvent("onpropertychange",Pv),Dl=Rl=null)}function Pv(s){if(s.propertyName==="value"&&Ac(Dl)){var o=[];Cv(o,Dl,s,Bo(s)),hc(gx,o)}}function vx(s,o,u){s==="focusin"?(bv(),Rl=o,Dl=u,Rl.attachEvent("onpropertychange",Pv)):s==="focusout"&&bv()}function wx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ac(Dl)}function _x(s,o){if(s==="click")return Ac(o)}function Tx(s,o){if(s==="input"||s==="change")return Ac(o)}function Ex(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ar=typeof Object.is=="function"?Object.is:Ex;function Nl(s,o){if(ar(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!f.call(o,m)||!ar(s[m],o[m]))return!1}return!0}function Rv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Dv(s,o){var u=Rv(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=o&&d>=o)return{node:u,offset:o-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Rv(u)}}function Nv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Nv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Vv(){for(var s=window,o=_t();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=_t(s.document)}return o}function Sf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function Sx(s){var o=Vv(),u=s.focusedElem,d=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&Nv(u.ownerDocument.documentElement,u)){if(d!==null&&Sf(u)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!s.extend&&y>d&&(m=d,d=y,y=m),m=Dv(u,y);var E=Dv(u,d);m&&E&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),y>d?(s.addRange(o),s.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Ix=h&&"documentMode"in document&&11>=document.documentMode,sa=null,If=null,Vl=null,kf=!1;function Mv(s,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;kf||sa==null||sa!==_t(d)||(d=sa,"selectionStart"in d&&Sf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Vl&&Nl(Vl,d)||(Vl=d,d=Dc(If,"onSelect"),0<d.length&&(o=new Xi("onSelect","select",null,o,u),s.push({event:o,listeners:d}),o.target=sa)))}function bc(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var ia={animationend:bc("Animation","AnimationEnd"),animationiteration:bc("Animation","AnimationIteration"),animationstart:bc("Animation","AnimationStart"),transitionend:bc("Transition","TransitionEnd")},Cf={},Ov={};h&&(Ov=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function Pc(s){if(Cf[s])return Cf[s];if(!ia[s])return s;var o=ia[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in Ov)return Cf[s]=o[u];return s}var Lv=Pc("animationend"),Fv=Pc("animationiteration"),jv=Pc("animationstart"),Uv=Pc("transitionend"),Bv=new Map,zv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gs(s,o){Bv.set(s,o),a(o,[s])}for(var xf=0;xf<zv.length;xf++){var Af=zv[xf],kx=Af.toLowerCase(),Cx=Af[0].toUpperCase()+Af.slice(1);Gs(kx,"on"+Cx)}Gs(Lv,"onAnimationEnd"),Gs(Fv,"onAnimationIteration"),Gs(jv,"onAnimationStart"),Gs("dblclick","onDoubleClick"),Gs("focusin","onFocus"),Gs("focusout","onBlur"),Gs(Uv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ml));function $v(s,o,u){var d=s.type||"unknown-event";s.currentTarget=u,fl(d,o,void 0,s),s.currentTarget=null}function Wv(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],m=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var E=d.length-1;0<=E;E--){var D=d[E],j=D.instance,Z=D.currentTarget;if(D=D.listener,j!==y&&m.isPropagationStopped())break e;$v(m,D,Z),y=j}else for(E=0;E<d.length;E++){if(D=d[E],j=D.instance,Z=D.currentTarget,D=D.listener,j!==y&&m.isPropagationStopped())break e;$v(m,D,Z),y=j}}}if(zo)throw s=Wn,zo=!1,Wn=null,s}function gt(s,o){var u=o[Of];u===void 0&&(u=o[Of]=new Set);var d=s+"__bubble";u.has(d)||(qv(o,s,2,!1),u.add(d))}function bf(s,o,u){var d=0;o&&(d|=4),qv(u,s,d,o)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Ol(s){if(!s[Rc]){s[Rc]=!0,r.forEach(function(u){u!=="selectionchange"&&(xx.has(u)||bf(u,!1,s),bf(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Rc]||(o[Rc]=!0,bf("selectionchange",!1,o))}}function qv(s,o,u,d){switch(Qo(o)){case 1:var m=Pr;break;case 4:m=Ec;break;default:m=Cl}u=m.bind(null,o,u,s),m=void 0,!js||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function Pf(s,o,u,d,m){var y=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var D=d.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(E===4)for(E=d.return;E!==null;){var j=E.tag;if((j===3||j===4)&&(j=E.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;E=E.return}for(;D!==null;){if(E=Zi(D),E===null)return;if(j=E.tag,j===5||j===6){d=y=E;continue e}D=D.parentNode}}d=d.return}hc(function(){var Z=y,fe=Bo(u),me=[];e:{var de=Bv.get(s);if(de!==void 0){var ke=Xi,Re=s;switch(s){case"keypress":if(Qi(u)===0)break e;case"keydown":case"keyup":ke=lt;break;case"focusin":Re="focus",ke=en;break;case"focusout":Re="blur",ke=en;break;case"beforeblur":case"afterblur":ke=en;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=Al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=Vr;break;case Lv:case Fv:case jv:ke=xc;break;case Uv:ke=na;break;case"scroll":ke=Jo;break;case"wheel":ke=cx;break;case"copy":case"cut":case"paste":ke=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=jn}var Me=(o&4)!==0,Nt=!Me&&s==="scroll",K=Me?de!==null?de+"Capture":null:de;Me=[];for(var W=Z,Q;W!==null;){Q=W;var ye=Q.stateNode;if(Q.tag===5&&ye!==null&&(Q=ye,K!==null&&(ye=Ui(W,K),ye!=null&&Me.push(Ll(W,ye,Q)))),Nt)break;W=W.return}0<Me.length&&(de=new ke(de,Re,null,u,fe),me.push({event:de,listeners:Me}))}}if((o&7)===0){e:{if(de=s==="mouseover"||s==="pointerover",ke=s==="mouseout"||s==="pointerout",de&&u!==Os&&(Re=u.relatedTarget||u.fromElement)&&(Zi(Re)||Re[ls]))break e;if((ke||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,ke?(Re=u.relatedTarget||u.toElement,ke=Z,Re=Re?Zi(Re):null,Re!==null&&(Nt=ir(Re),Re!==Nt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(ke=null,Re=Z),ke!==Re)){if(Me=Al,ye="onMouseLeave",K="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Me=jn,ye="onPointerLeave",K="onPointerEnter",W="pointer"),Nt=ke==null?de:la(ke),Q=Re==null?de:la(Re),de=new Me(ye,W+"leave",ke,u,fe),de.target=Nt,de.relatedTarget=Q,ye=null,Zi(fe)===Z&&(Me=new Me(K,W+"enter",Re,u,fe),Me.target=Q,Me.relatedTarget=Nt,ye=Me),Nt=ye,ke&&Re)t:{for(Me=ke,K=Re,W=0,Q=Me;Q;Q=oa(Q))W++;for(Q=0,ye=K;ye;ye=oa(ye))Q++;for(;0<W-Q;)Me=oa(Me),W--;for(;0<Q-W;)K=oa(K),Q--;for(;W--;){if(Me===K||K!==null&&Me===K.alternate)break t;Me=oa(Me),K=oa(K)}Me=null}else Me=null;ke!==null&&Hv(me,de,ke,Me,!1),Re!==null&&Nt!==null&&Hv(me,Nt,Re,Me,!0)}}e:{if(de=Z?la(Z):window,ke=de.nodeName&&de.nodeName.toLowerCase(),ke==="select"||ke==="input"&&de.type==="file")var Fe=yx;else if(kv(de))if(xv)Fe=Tx;else{Fe=wx;var Ue=vx}else(ke=de.nodeName)&&ke.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Fe=_x);if(Fe&&(Fe=Fe(s,Z))){Cv(me,Fe,u,fe);break e}Ue&&Ue(s,de,Z),s==="focusout"&&(Ue=de._wrapperState)&&Ue.controlled&&de.type==="number"&&Ce(de,"number",de.value)}switch(Ue=Z?la(Z):window,s){case"focusin":(kv(Ue)||Ue.contentEditable==="true")&&(sa=Ue,If=Z,Vl=null);break;case"focusout":Vl=If=sa=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,Mv(me,u,fe);break;case"selectionchange":if(Ix)break;case"keydown":case"keyup":Mv(me,u,fe)}var Be;if(_f)e:{switch(s){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else ra?Sv(s,u)&&(We="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(We="onCompositionStart");We&&(_v&&u.locale!=="ko"&&(ra||We!=="onCompositionStart"?We==="onCompositionEnd"&&ra&&(Be=Sc()):(Ln=fe,Xo="value"in Ln?Ln.value:Ln.textContent,ra=!0)),Ue=Dc(Z,We),0<Ue.length&&(We=new T(We,s,null,u,fe),me.push({event:We,listeners:Ue}),Be?We.data=Be:(Be=Iv(u),Be!==null&&(We.data=Be)))),(Be=dx?fx(s,u):px(s,u))&&(Z=Dc(Z,"onBeforeInput"),0<Z.length&&(fe=new T("onBeforeInput","beforeinput",null,u,fe),me.push({event:fe,listeners:Z}),fe.data=Be))}Wv(me,o)})}function Ll(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Dc(s,o){for(var u=o+"Capture",d=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=Ui(s,u),y!=null&&d.unshift(Ll(s,y,m)),y=Ui(s,o),y!=null&&d.push(Ll(s,y,m))),s=s.return}return d}function oa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Hv(s,o,u,d,m){for(var y=o._reactName,E=[];u!==null&&u!==d;){var D=u,j=D.alternate,Z=D.stateNode;if(j!==null&&j===d)break;D.tag===5&&Z!==null&&(D=Z,m?(j=Ui(u,y),j!=null&&E.unshift(Ll(u,j,D))):m||(j=Ui(u,y),j!=null&&E.push(Ll(u,j,D)))),u=u.return}E.length!==0&&s.push({event:o,listeners:E})}var Ax=/\r\n?/g,bx=/\u0000|\uFFFD/g;function Gv(s){return(typeof s=="string"?s:""+s).replace(Ax,`
`).replace(bx,"")}function Nc(s,o,u){if(o=Gv(o),Gv(s)!==o&&u)throw Error(n(425))}function Vc(){}var Rf=null,Df=null;function Nf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,Px=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,Rx=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(s){return Kv.resolve(null).then(s).catch(Dx)}:Vf;function Dx(s){setTimeout(function(){throw s})}function Mf(s,o){var u=o,d=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){s.removeChild(m),Ws(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);Ws(o)}function Ks(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Yv(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var aa=Math.random().toString(36).slice(2),Or="__reactFiber$"+aa,Fl="__reactProps$"+aa,ls="__reactContainer$"+aa,Of="__reactEvents$"+aa,Nx="__reactListeners$"+aa,Vx="__reactHandles$"+aa;function Zi(s){var o=s[Or];if(o)return o;for(var u=s.parentNode;u;){if(o=u[ls]||u[Or]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Yv(s);s!==null;){if(u=s[Or])return u;s=Yv(s)}return o}s=u,u=s.parentNode}return null}function jl(s){return s=s[Or]||s[ls],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function la(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Mc(s){return s[Fl]||null}var Lf=[],ua=-1;function Ys(s){return{current:s}}function yt(s){0>ua||(s.current=Lf[ua],Lf[ua]=null,ua--)}function dt(s,o){ua++,Lf[ua]=s.current,s.current=o}var Qs={},un=Ys(Qs),Sn=Ys(!1),eo=Qs;function ca(s,o){var u=s.type.contextTypes;if(!u)return Qs;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in u)m[y]=o[y];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function In(s){return s=s.childContextTypes,s!=null}function Oc(){yt(Sn),yt(un)}function Qv(s,o,u){if(un.current!==Qs)throw Error(n(168));dt(un,o),dt(Sn,u)}function Xv(s,o,u){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(n(108,pe(s)||"Unknown",m));return ce({},u,d)}function Lc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Qs,eo=un.current,dt(un,s),dt(Sn,Sn.current),!0}function Jv(s,o,u){var d=s.stateNode;if(!d)throw Error(n(169));u?(s=Xv(s,o,eo),d.__reactInternalMemoizedMergedChildContext=s,yt(Sn),yt(un),dt(un,s)):yt(Sn),dt(Sn,u)}var us=null,Fc=!1,Ff=!1;function Zv(s){us===null?us=[s]:us.push(s)}function Mx(s){Fc=!0,Zv(s)}function Xs(){if(!Ff&&us!==null){Ff=!0;var s=0,o=nt;try{var u=us;for(nt=1;s<u.length;s++){var d=u[s];do d=d(!0);while(d!==null)}us=null,Fc=!1}catch(m){throw us!==null&&(us=us.slice(s+1)),ml(Wo,Xs),m}finally{nt=o,Ff=!1}}return null}var ha=[],da=0,jc=null,Uc=0,Hn=[],Gn=0,to=null,cs=1,hs="";function no(s,o){ha[da++]=Uc,ha[da++]=jc,jc=s,Uc=o}function e0(s,o,u){Hn[Gn++]=cs,Hn[Gn++]=hs,Hn[Gn++]=to,to=s;var d=cs;s=hs;var m=32-Mn(d)-1;d&=~(1<<m),u+=1;var y=32-Mn(o)+m;if(30<y){var E=m-m%5;y=(d&(1<<E)-1).toString(32),d>>=E,m-=E,cs=1<<32-Mn(o)+m|u<<m|d,hs=y+s}else cs=1<<y|u<<m|d,hs=s}function jf(s){s.return!==null&&(no(s,1),e0(s,1,0))}function Uf(s){for(;s===jc;)jc=ha[--da],ha[da]=null,Uc=ha[--da],ha[da]=null;for(;s===to;)to=Hn[--Gn],Hn[Gn]=null,hs=Hn[--Gn],Hn[Gn]=null,cs=Hn[--Gn],Hn[Gn]=null}var Un=null,Bn=null,Tt=!1,lr=null;function t0(s,o){var u=Xn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function n0(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Un=s,Bn=Ks(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Un=s,Bn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=to!==null?{id:cs,overflow:hs}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Xn(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Un=s,Bn=null,!0):!1;default:return!1}}function Bf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function zf(s){if(Tt){var o=Bn;if(o){var u=o;if(!n0(s,o)){if(Bf(s))throw Error(n(418));o=Ks(u.nextSibling);var d=Un;o&&n0(s,o)?t0(d,u):(s.flags=s.flags&-4097|2,Tt=!1,Un=s)}}else{if(Bf(s))throw Error(n(418));s.flags=s.flags&-4097|2,Tt=!1,Un=s}}}function r0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Un=s}function Bc(s){if(s!==Un)return!1;if(!Tt)return r0(s),Tt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Nf(s.type,s.memoizedProps)),o&&(o=Bn)){if(Bf(s))throw s0(),Error(n(418));for(;o;)t0(s,o),o=Ks(o.nextSibling)}if(r0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Bn=Ks(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Bn=null}}else Bn=Un?Ks(s.stateNode.nextSibling):null;return!0}function s0(){for(var s=Bn;s;)s=Ks(s.nextSibling)}function fa(){Bn=Un=null,Tt=!1}function $f(s){lr===null?lr=[s]:lr.push(s)}var Ox=ie.ReactCurrentBatchConfig;function Ul(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,s));var m=d,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(E){var D=m.refs;E===null?delete D[y]:D[y]=E},o._stringRef=y,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function zc(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function i0(s){var o=s._init;return o(s._payload)}function o0(s){function o(K,W){if(s){var Q=K.deletions;Q===null?(K.deletions=[W],K.flags|=16):Q.push(W)}}function u(K,W){if(!s)return null;for(;W!==null;)o(K,W),W=W.sibling;return null}function d(K,W){for(K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function m(K,W){return K=ii(K,W),K.index=0,K.sibling=null,K}function y(K,W,Q){return K.index=Q,s?(Q=K.alternate,Q!==null?(Q=Q.index,Q<W?(K.flags|=2,W):Q):(K.flags|=2,W)):(K.flags|=1048576,W)}function E(K){return s&&K.alternate===null&&(K.flags|=2),K}function D(K,W,Q,ye){return W===null||W.tag!==6?(W=Vp(Q,K.mode,ye),W.return=K,W):(W=m(W,Q),W.return=K,W)}function j(K,W,Q,ye){var Fe=Q.type;return Fe===k?fe(K,W,Q.props.children,ye,Q.key):W!==null&&(W.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===he&&i0(Fe)===W.type)?(ye=m(W,Q.props),ye.ref=Ul(K,W,Q),ye.return=K,ye):(ye=dh(Q.type,Q.key,Q.props,null,K.mode,ye),ye.ref=Ul(K,W,Q),ye.return=K,ye)}function Z(K,W,Q,ye){return W===null||W.tag!==4||W.stateNode.containerInfo!==Q.containerInfo||W.stateNode.implementation!==Q.implementation?(W=Mp(Q,K.mode,ye),W.return=K,W):(W=m(W,Q.children||[]),W.return=K,W)}function fe(K,W,Q,ye,Fe){return W===null||W.tag!==7?(W=co(Q,K.mode,ye,Fe),W.return=K,W):(W=m(W,Q),W.return=K,W)}function me(K,W,Q){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Vp(""+W,K.mode,Q),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case F:return Q=dh(W.type,W.key,W.props,null,K.mode,Q),Q.ref=Ul(K,null,W),Q.return=K,Q;case X:return W=Mp(W,K.mode,Q),W.return=K,W;case he:var ye=W._init;return me(K,ye(W._payload),Q)}if(Pe(W)||se(W))return W=co(W,K.mode,Q,null),W.return=K,W;zc(K,W)}return null}function de(K,W,Q,ye){var Fe=W!==null?W.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Fe!==null?null:D(K,W,""+Q,ye);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return Q.key===Fe?j(K,W,Q,ye):null;case X:return Q.key===Fe?Z(K,W,Q,ye):null;case he:return Fe=Q._init,de(K,W,Fe(Q._payload),ye)}if(Pe(Q)||se(Q))return Fe!==null?null:fe(K,W,Q,ye,null);zc(K,Q)}return null}function ke(K,W,Q,ye,Fe){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return K=K.get(Q)||null,D(W,K,""+ye,Fe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case F:return K=K.get(ye.key===null?Q:ye.key)||null,j(W,K,ye,Fe);case X:return K=K.get(ye.key===null?Q:ye.key)||null,Z(W,K,ye,Fe);case he:var Ue=ye._init;return ke(K,W,Q,Ue(ye._payload),Fe)}if(Pe(ye)||se(ye))return K=K.get(Q)||null,fe(W,K,ye,Fe,null);zc(W,ye)}return null}function Re(K,W,Q,ye){for(var Fe=null,Ue=null,Be=W,We=W=0,Qt=null;Be!==null&&We<Q.length;We++){Be.index>We?(Qt=Be,Be=null):Qt=Be.sibling;var it=de(K,Be,Q[We],ye);if(it===null){Be===null&&(Be=Qt);break}s&&Be&&it.alternate===null&&o(K,Be),W=y(it,W,We),Ue===null?Fe=it:Ue.sibling=it,Ue=it,Be=Qt}if(We===Q.length)return u(K,Be),Tt&&no(K,We),Fe;if(Be===null){for(;We<Q.length;We++)Be=me(K,Q[We],ye),Be!==null&&(W=y(Be,W,We),Ue===null?Fe=Be:Ue.sibling=Be,Ue=Be);return Tt&&no(K,We),Fe}for(Be=d(K,Be);We<Q.length;We++)Qt=ke(Be,K,We,Q[We],ye),Qt!==null&&(s&&Qt.alternate!==null&&Be.delete(Qt.key===null?We:Qt.key),W=y(Qt,W,We),Ue===null?Fe=Qt:Ue.sibling=Qt,Ue=Qt);return s&&Be.forEach(function(oi){return o(K,oi)}),Tt&&no(K,We),Fe}function Me(K,W,Q,ye){var Fe=se(Q);if(typeof Fe!="function")throw Error(n(150));if(Q=Fe.call(Q),Q==null)throw Error(n(151));for(var Ue=Fe=null,Be=W,We=W=0,Qt=null,it=Q.next();Be!==null&&!it.done;We++,it=Q.next()){Be.index>We?(Qt=Be,Be=null):Qt=Be.sibling;var oi=de(K,Be,it.value,ye);if(oi===null){Be===null&&(Be=Qt);break}s&&Be&&oi.alternate===null&&o(K,Be),W=y(oi,W,We),Ue===null?Fe=oi:Ue.sibling=oi,Ue=oi,Be=Qt}if(it.done)return u(K,Be),Tt&&no(K,We),Fe;if(Be===null){for(;!it.done;We++,it=Q.next())it=me(K,it.value,ye),it!==null&&(W=y(it,W,We),Ue===null?Fe=it:Ue.sibling=it,Ue=it);return Tt&&no(K,We),Fe}for(Be=d(K,Be);!it.done;We++,it=Q.next())it=ke(Be,K,We,it.value,ye),it!==null&&(s&&it.alternate!==null&&Be.delete(it.key===null?We:it.key),W=y(it,W,We),Ue===null?Fe=it:Ue.sibling=it,Ue=it);return s&&Be.forEach(function(mA){return o(K,mA)}),Tt&&no(K,We),Fe}function Nt(K,W,Q,ye){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:e:{for(var Fe=Q.key,Ue=W;Ue!==null;){if(Ue.key===Fe){if(Fe=Q.type,Fe===k){if(Ue.tag===7){u(K,Ue.sibling),W=m(Ue,Q.props.children),W.return=K,K=W;break e}}else if(Ue.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===he&&i0(Fe)===Ue.type){u(K,Ue.sibling),W=m(Ue,Q.props),W.ref=Ul(K,Ue,Q),W.return=K,K=W;break e}u(K,Ue);break}else o(K,Ue);Ue=Ue.sibling}Q.type===k?(W=co(Q.props.children,K.mode,ye,Q.key),W.return=K,K=W):(ye=dh(Q.type,Q.key,Q.props,null,K.mode,ye),ye.ref=Ul(K,W,Q),ye.return=K,K=ye)}return E(K);case X:e:{for(Ue=Q.key;W!==null;){if(W.key===Ue)if(W.tag===4&&W.stateNode.containerInfo===Q.containerInfo&&W.stateNode.implementation===Q.implementation){u(K,W.sibling),W=m(W,Q.children||[]),W.return=K,K=W;break e}else{u(K,W);break}else o(K,W);W=W.sibling}W=Mp(Q,K.mode,ye),W.return=K,K=W}return E(K);case he:return Ue=Q._init,Nt(K,W,Ue(Q._payload),ye)}if(Pe(Q))return Re(K,W,Q,ye);if(se(Q))return Me(K,W,Q,ye);zc(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,W!==null&&W.tag===6?(u(K,W.sibling),W=m(W,Q),W.return=K,K=W):(u(K,W),W=Vp(Q,K.mode,ye),W.return=K,K=W),E(K)):u(K,W)}return Nt}var pa=o0(!0),a0=o0(!1),$c=Ys(null),Wc=null,ma=null,Wf=null;function qf(){Wf=ma=Wc=null}function Hf(s){var o=$c.current;yt($c),s._currentValue=o}function Gf(s,o,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===u)break;s=s.return}}function ga(s,o){Wc=s,Wf=ma=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(kn=!0),s.firstContext=null)}function Kn(s){var o=s._currentValue;if(Wf!==s)if(s={context:s,memoizedValue:o,next:null},ma===null){if(Wc===null)throw Error(n(308));ma=s,Wc.dependencies={lanes:0,firstContext:s}}else ma=ma.next=s;return o}var ro=null;function Kf(s){ro===null?ro=[s]:ro.push(s)}function l0(s,o,u,d){var m=o.interleaved;return m===null?(u.next=u,Kf(o)):(u.next=m.next,m.next=u),o.interleaved=u,ds(s,d)}function ds(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Js=!1;function Yf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function fs(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Zs(s,o,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(st&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,ds(s,u)}return m=d.interleaved,m===null?(o.next=o,Kf(d)):(o.next=m.next,m.next=o),d.interleaved=o,ds(s,u)}function qc(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,Tl(s,u)}}function c0(s,o){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var E={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?m=y=E:y=y.next=E,u=u.next}while(u!==null);y===null?m=y=o:y=y.next=o}else m=y=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Hc(s,o,u,d){var m=s.updateQueue;Js=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var j=D,Z=j.next;j.next=null,E===null?y=Z:E.next=Z,E=j;var fe=s.alternate;fe!==null&&(fe=fe.updateQueue,D=fe.lastBaseUpdate,D!==E&&(D===null?fe.firstBaseUpdate=Z:D.next=Z,fe.lastBaseUpdate=j))}if(y!==null){var me=m.baseState;E=0,fe=Z=j=null,D=y;do{var de=D.lane,ke=D.eventTime;if((d&de)===de){fe!==null&&(fe=fe.next={eventTime:ke,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var Re=s,Me=D;switch(de=o,ke=u,Me.tag){case 1:if(Re=Me.payload,typeof Re=="function"){me=Re.call(ke,me,de);break e}me=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Me.payload,de=typeof Re=="function"?Re.call(ke,me,de):Re,de==null)break e;me=ce({},me,de);break e;case 2:Js=!0}}D.callback!==null&&D.lane!==0&&(s.flags|=64,de=m.effects,de===null?m.effects=[D]:de.push(D))}else ke={eventTime:ke,lane:de,tag:D.tag,payload:D.payload,callback:D.callback,next:null},fe===null?(Z=fe=ke,j=me):fe=fe.next=ke,E|=de;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;de=D,D=de.next,de.next=null,m.lastBaseUpdate=de,m.shared.pending=null}}while(!0);if(fe===null&&(j=me),m.baseState=j,m.firstBaseUpdate=Z,m.lastBaseUpdate=fe,o=m.shared.interleaved,o!==null){m=o;do E|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);oo|=E,s.lanes=E,s.memoizedState=me}}function h0(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var Bl={},Lr=Ys(Bl),zl=Ys(Bl),$l=Ys(Bl);function so(s){if(s===Bl)throw Error(n(174));return s}function Qf(s,o){switch(dt($l,o),dt(zl,s),dt(Lr,Bl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Fo(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Fo(o,s)}yt(Lr),dt(Lr,o)}function ya(){yt(Lr),yt(zl),yt($l)}function d0(s){so($l.current);var o=so(Lr.current),u=Fo(o,s.type);o!==u&&(dt(zl,s),dt(Lr,u))}function Xf(s){zl.current===s&&(yt(Lr),yt(zl))}var St=Ys(0);function Gc(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Jf=[];function Zf(){for(var s=0;s<Jf.length;s++)Jf[s]._workInProgressVersionPrimary=null;Jf.length=0}var Kc=ie.ReactCurrentDispatcher,ep=ie.ReactCurrentBatchConfig,io=0,It=null,$t=null,Kt=null,Yc=!1,Wl=!1,ql=0,Lx=0;function cn(){throw Error(n(321))}function tp(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!ar(s[u],o[u]))return!1;return!0}function np(s,o,u,d,m,y){if(io=y,It=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Kc.current=s===null||s.memoizedState===null?Bx:zx,s=u(d,m),Wl){y=0;do{if(Wl=!1,ql=0,25<=y)throw Error(n(301));y+=1,Kt=$t=null,o.updateQueue=null,Kc.current=$x,s=u(d,m)}while(Wl)}if(Kc.current=Jc,o=$t!==null&&$t.next!==null,io=0,Kt=$t=It=null,Yc=!1,o)throw Error(n(300));return s}function rp(){var s=ql!==0;return ql=0,s}function Fr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?It.memoizedState=Kt=s:Kt=Kt.next=s,Kt}function Yn(){if($t===null){var s=It.alternate;s=s!==null?s.memoizedState:null}else s=$t.next;var o=Kt===null?It.memoizedState:Kt.next;if(o!==null)Kt=o,$t=s;else{if(s===null)throw Error(n(310));$t=s,s={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Kt===null?It.memoizedState=Kt=s:Kt=Kt.next=s}return Kt}function Hl(s,o){return typeof o=="function"?o(s):o}function sp(s){var o=Yn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=$t,m=d.baseQueue,y=u.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}d.baseQueue=m=y,u.pending=null}if(m!==null){y=m.next,d=d.baseState;var D=E=null,j=null,Z=y;do{var fe=Z.lane;if((io&fe)===fe)j!==null&&(j=j.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),d=Z.hasEagerState?Z.eagerState:s(d,Z.action);else{var me={lane:fe,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};j===null?(D=j=me,E=d):j=j.next=me,It.lanes|=fe,oo|=fe}Z=Z.next}while(Z!==null&&Z!==y);j===null?E=d:j.next=D,ar(d,o.memoizedState)||(kn=!0),o.memoizedState=d,o.baseState=E,o.baseQueue=j,u.lastRenderedState=d}if(s=u.interleaved,s!==null){m=s;do y=m.lane,It.lanes|=y,oo|=y,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function ip(s){var o=Yn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=u.dispatch,m=u.pending,y=o.memoizedState;if(m!==null){u.pending=null;var E=m=m.next;do y=s(y,E.action),E=E.next;while(E!==m);ar(y,o.memoizedState)||(kn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,d]}function f0(){}function p0(s,o){var u=It,d=Yn(),m=o(),y=!ar(d.memoizedState,m);if(y&&(d.memoizedState=m,kn=!0),d=d.queue,op(y0.bind(null,u,d,s),[s]),d.getSnapshot!==o||y||Kt!==null&&Kt.memoizedState.tag&1){if(u.flags|=2048,Gl(9,g0.bind(null,u,d,m,o),void 0,null),Yt===null)throw Error(n(349));(io&30)!==0||m0(u,o,m)}return m}function m0(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=It.updateQueue,o===null?(o={lastEffect:null,stores:null},It.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function g0(s,o,u,d){o.value=u,o.getSnapshot=d,v0(o)&&w0(s)}function y0(s,o,u){return u(function(){v0(o)&&w0(s)})}function v0(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!ar(s,u)}catch{return!0}}function w0(s){var o=ds(s,1);o!==null&&dr(o,s,1,-1)}function _0(s){var o=Fr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:s},o.queue=s,s=s.dispatch=Ux.bind(null,It,s),[o.memoizedState,s]}function Gl(s,o,u,d){return s={tag:s,create:o,destroy:u,deps:d,next:null},o=It.updateQueue,o===null?(o={lastEffect:null,stores:null},It.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,o.lastEffect=s)),s}function T0(){return Yn().memoizedState}function Qc(s,o,u,d){var m=Fr();It.flags|=s,m.memoizedState=Gl(1|o,u,void 0,d===void 0?null:d)}function Xc(s,o,u,d){var m=Yn();d=d===void 0?null:d;var y=void 0;if($t!==null){var E=$t.memoizedState;if(y=E.destroy,d!==null&&tp(d,E.deps)){m.memoizedState=Gl(o,u,y,d);return}}It.flags|=s,m.memoizedState=Gl(1|o,u,y,d)}function E0(s,o){return Qc(8390656,8,s,o)}function op(s,o){return Xc(2048,8,s,o)}function S0(s,o){return Xc(4,2,s,o)}function I0(s,o){return Xc(4,4,s,o)}function k0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function C0(s,o,u){return u=u!=null?u.concat([s]):null,Xc(4,4,k0.bind(null,o,s),u)}function ap(){}function x0(s,o){var u=Yn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&tp(o,d[1])?d[0]:(u.memoizedState=[s,o],s)}function A0(s,o){var u=Yn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&tp(o,d[1])?d[0]:(s=s(),u.memoizedState=[s,o],s)}function b0(s,o,u){return(io&21)===0?(s.baseState&&(s.baseState=!1,kn=!0),s.memoizedState=u):(ar(u,o)||(u=wl(),It.lanes|=u,oo|=u,s.baseState=!0),o)}function Fx(s,o){var u=nt;nt=u!==0&&4>u?u:4,s(!0);var d=ep.transition;ep.transition={};try{s(!1),o()}finally{nt=u,ep.transition=d}}function P0(){return Yn().memoizedState}function jx(s,o,u){var d=ri(s);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},R0(s))D0(o,u);else if(u=l0(s,o,u,d),u!==null){var m=_n();dr(u,s,d,m),N0(u,o,d)}}function Ux(s,o,u){var d=ri(s),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(R0(s))D0(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var E=o.lastRenderedState,D=y(E,u);if(m.hasEagerState=!0,m.eagerState=D,ar(D,E)){var j=o.interleaved;j===null?(m.next=m,Kf(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}u=l0(s,o,m,d),u!==null&&(m=_n(),dr(u,s,d,m),N0(u,o,d))}}function R0(s){var o=s.alternate;return s===It||o!==null&&o===It}function D0(s,o){Wl=Yc=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function N0(s,o,u){if((u&4194240)!==0){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,Tl(s,u)}}var Jc={readContext:Kn,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},Bx={readContext:Kn,useCallback:function(s,o){return Fr().memoizedState=[s,o===void 0?null:o],s},useContext:Kn,useEffect:E0,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Qc(4194308,4,k0.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Qc(4194308,4,s,o)},useInsertionEffect:function(s,o){return Qc(4,2,s,o)},useMemo:function(s,o){var u=Fr();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var d=Fr();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=jx.bind(null,It,s),[d.memoizedState,s]},useRef:function(s){var o=Fr();return s={current:s},o.memoizedState=s},useState:_0,useDebugValue:ap,useDeferredValue:function(s){return Fr().memoizedState=s},useTransition:function(){var s=_0(!1),o=s[0];return s=Fx.bind(null,s[1]),Fr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var d=It,m=Fr();if(Tt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Yt===null)throw Error(n(349));(io&30)!==0||m0(d,o,u)}m.memoizedState=u;var y={value:u,getSnapshot:o};return m.queue=y,E0(y0.bind(null,d,y,s),[s]),d.flags|=2048,Gl(9,g0.bind(null,d,y,u,o),void 0,null),u},useId:function(){var s=Fr(),o=Yt.identifierPrefix;if(Tt){var u=hs,d=cs;u=(d&~(1<<32-Mn(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=ql++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Lx++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},zx={readContext:Kn,useCallback:x0,useContext:Kn,useEffect:op,useImperativeHandle:C0,useInsertionEffect:S0,useLayoutEffect:I0,useMemo:A0,useReducer:sp,useRef:T0,useState:function(){return sp(Hl)},useDebugValue:ap,useDeferredValue:function(s){var o=Yn();return b0(o,$t.memoizedState,s)},useTransition:function(){var s=sp(Hl)[0],o=Yn().memoizedState;return[s,o]},useMutableSource:f0,useSyncExternalStore:p0,useId:P0,unstable_isNewReconciler:!1},$x={readContext:Kn,useCallback:x0,useContext:Kn,useEffect:op,useImperativeHandle:C0,useInsertionEffect:S0,useLayoutEffect:I0,useMemo:A0,useReducer:ip,useRef:T0,useState:function(){return ip(Hl)},useDebugValue:ap,useDeferredValue:function(s){var o=Yn();return $t===null?o.memoizedState=s:b0(o,$t.memoizedState,s)},useTransition:function(){var s=ip(Hl)[0],o=Yn().memoizedState;return[s,o]},useMutableSource:f0,useSyncExternalStore:p0,useId:P0,unstable_isNewReconciler:!1};function ur(s,o){if(s&&s.defaultProps){o=ce({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function lp(s,o,u,d){o=s.memoizedState,u=u(d,o),u=u==null?o:ce({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Zc={isMounted:function(s){return(s=s._reactInternals)?ir(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var d=_n(),m=ri(s),y=fs(d,m);y.payload=o,u!=null&&(y.callback=u),o=Zs(s,y,m),o!==null&&(dr(o,s,m,d),qc(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var d=_n(),m=ri(s),y=fs(d,m);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Zs(s,y,m),o!==null&&(dr(o,s,m,d),qc(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=_n(),d=ri(s),m=fs(u,d);m.tag=2,o!=null&&(m.callback=o),o=Zs(s,m,d),o!==null&&(dr(o,s,d,u),qc(o,s,d))}};function V0(s,o,u,d,m,y,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,E):o.prototype&&o.prototype.isPureReactComponent?!Nl(u,d)||!Nl(m,y):!0}function M0(s,o,u){var d=!1,m=Qs,y=o.contextType;return typeof y=="object"&&y!==null?y=Kn(y):(m=In(o)?eo:un.current,d=o.contextTypes,y=(d=d!=null)?ca(s,m):Qs),o=new o(u,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Zc,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),o}function O0(s,o,u,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==s&&Zc.enqueueReplaceState(o,o.state,null)}function up(s,o,u,d){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Yf(s);var y=o.contextType;typeof y=="object"&&y!==null?m.context=Kn(y):(y=In(o)?eo:un.current,m.context=ca(s,y)),m.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(lp(s,o,y,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Zc.enqueueReplaceState(m,m.state,null),Hc(s,u,m,d),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function va(s,o){try{var u="",d=o;do u+=te(d),d=d.return;while(d);var m=u}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:m,digest:null}}function cp(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function hp(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Wx=typeof WeakMap=="function"?WeakMap:Map;function L0(s,o,u){u=fs(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){oh||(oh=!0,Cp=d),hp(s,o)},u}function F0(s,o,u){u=fs(-1,u),u.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){hp(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){hp(s,o),typeof d!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),u}function j0(s,o,u){var d=s.pingCache;if(d===null){d=s.pingCache=new Wx;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),s=sA.bind(null,s,o,u),o.then(s,s))}function U0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function B0(s,o,u,d,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=fs(-1,1),o.tag=2,Zs(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var qx=ie.ReactCurrentOwner,kn=!1;function wn(s,o,u,d){o.child=s===null?a0(o,null,u,d):pa(o,s.child,u,d)}function z0(s,o,u,d,m){u=u.render;var y=o.ref;return ga(o,m),d=np(s,o,u,d,y,m),u=rp(),s!==null&&!kn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,ps(s,o,m)):(Tt&&u&&jf(o),o.flags|=1,wn(s,o,d,m),o.child)}function $0(s,o,u,d,m){if(s===null){var y=u.type;return typeof y=="function"&&!Np(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=y,W0(s,o,y,d,m)):(s=dh(u.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&m)===0){var E=y.memoizedProps;if(u=u.compare,u=u!==null?u:Nl,u(E,d)&&s.ref===o.ref)return ps(s,o,m)}return o.flags|=1,s=ii(y,d),s.ref=o.ref,s.return=o,o.child=s}function W0(s,o,u,d,m){if(s!==null){var y=s.memoizedProps;if(Nl(y,d)&&s.ref===o.ref)if(kn=!1,o.pendingProps=d=y,(s.lanes&m)!==0)(s.flags&131072)!==0&&(kn=!0);else return o.lanes=s.lanes,ps(s,o,m)}return dp(s,o,u,d,m)}function q0(s,o,u){var d=o.pendingProps,m=d.children,y=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(_a,zn),zn|=u;else{if((u&1073741824)===0)return s=y!==null?y.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,dt(_a,zn),zn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:u,dt(_a,zn),zn|=d}else y!==null?(d=y.baseLanes|u,o.memoizedState=null):d=u,dt(_a,zn),zn|=d;return wn(s,o,m,u),o.child}function H0(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function dp(s,o,u,d,m){var y=In(u)?eo:un.current;return y=ca(o,y),ga(o,m),u=np(s,o,u,d,y,m),d=rp(),s!==null&&!kn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,ps(s,o,m)):(Tt&&d&&jf(o),o.flags|=1,wn(s,o,u,m),o.child)}function G0(s,o,u,d,m){if(In(u)){var y=!0;Lc(o)}else y=!1;if(ga(o,m),o.stateNode===null)th(s,o),M0(o,u,d),up(o,u,d,m),d=!0;else if(s===null){var E=o.stateNode,D=o.memoizedProps;E.props=D;var j=E.context,Z=u.contextType;typeof Z=="object"&&Z!==null?Z=Kn(Z):(Z=In(u)?eo:un.current,Z=ca(o,Z));var fe=u.getDerivedStateFromProps,me=typeof fe=="function"||typeof E.getSnapshotBeforeUpdate=="function";me||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==d||j!==Z)&&O0(o,E,d,Z),Js=!1;var de=o.memoizedState;E.state=de,Hc(o,d,E,m),j=o.memoizedState,D!==d||de!==j||Sn.current||Js?(typeof fe=="function"&&(lp(o,u,fe,d),j=o.memoizedState),(D=Js||V0(o,u,D,d,de,j,Z))?(me||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=j),E.props=d,E.state=j,E.context=Z,d=D):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{E=o.stateNode,u0(s,o),D=o.memoizedProps,Z=o.type===o.elementType?D:ur(o.type,D),E.props=Z,me=o.pendingProps,de=E.context,j=u.contextType,typeof j=="object"&&j!==null?j=Kn(j):(j=In(u)?eo:un.current,j=ca(o,j));var ke=u.getDerivedStateFromProps;(fe=typeof ke=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==me||de!==j)&&O0(o,E,d,j),Js=!1,de=o.memoizedState,E.state=de,Hc(o,d,E,m);var Re=o.memoizedState;D!==me||de!==Re||Sn.current||Js?(typeof ke=="function"&&(lp(o,u,ke,d),Re=o.memoizedState),(Z=Js||V0(o,u,Z,d,de,Re,j)||!1)?(fe||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,Re,j),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,Re,j)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||D===s.memoizedProps&&de===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&de===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Re),E.props=d,E.state=Re,E.context=j,d=Z):(typeof E.componentDidUpdate!="function"||D===s.memoizedProps&&de===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&de===s.memoizedState||(o.flags|=1024),d=!1)}return fp(s,o,u,d,y,m)}function fp(s,o,u,d,m,y){H0(s,o);var E=(o.flags&128)!==0;if(!d&&!E)return m&&Jv(o,u,!1),ps(s,o,y);d=o.stateNode,qx.current=o;var D=E&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&E?(o.child=pa(o,s.child,null,y),o.child=pa(o,null,D,y)):wn(s,o,D,y),o.memoizedState=d.state,m&&Jv(o,u,!0),o.child}function K0(s){var o=s.stateNode;o.pendingContext?Qv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Qv(s,o.context,!1),Qf(s,o.containerInfo)}function Y0(s,o,u,d,m){return fa(),$f(m),o.flags|=256,wn(s,o,u,d),o.child}var pp={dehydrated:null,treeContext:null,retryLane:0};function mp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Q0(s,o,u){var d=o.pendingProps,m=St.current,y=!1,E=(o.flags&128)!==0,D;if((D=E)||(D=s!==null&&s.memoizedState===null?!1:(m&2)!==0),D?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),dt(St,m&1),s===null)return zf(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=d.children,s=d.fallback,y?(d=o.mode,y=o.child,E={mode:"hidden",children:E},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=fh(E,d,0,null),s=co(s,d,u,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=mp(u),o.memoizedState=pp,s):gp(o,E));if(m=s.memoizedState,m!==null&&(D=m.dehydrated,D!==null))return Hx(s,o,E,d,D,m,u);if(y){y=d.fallback,E=o.mode,m=s.child,D=m.sibling;var j={mode:"hidden",children:d.children};return(E&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=j,o.deletions=null):(d=ii(m,j),d.subtreeFlags=m.subtreeFlags&14680064),D!==null?y=ii(D,y):(y=co(y,E,u,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,E=s.child.memoizedState,E=E===null?mp(u):{baseLanes:E.baseLanes|u,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=s.childLanes&~u,o.memoizedState=pp,d}return y=s.child,s=y.sibling,d=ii(y,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=u),d.return=o,d.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=d,o.memoizedState=null,d}function gp(s,o){return o=fh({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function eh(s,o,u,d){return d!==null&&$f(d),pa(o,s.child,null,u),s=gp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Hx(s,o,u,d,m,y,E){if(u)return o.flags&256?(o.flags&=-257,d=cp(Error(n(422))),eh(s,o,E,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=d.fallback,m=o.mode,d=fh({mode:"visible",children:d.children},m,0,null),y=co(y,m,E,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,(o.mode&1)!==0&&pa(o,s.child,null,E),o.child.memoizedState=mp(E),o.memoizedState=pp,y);if((o.mode&1)===0)return eh(s,o,E,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var D=d.dgst;return d=D,y=Error(n(419)),d=cp(y,d,void 0),eh(s,o,E,d)}if(D=(E&s.childLanes)!==0,kn||D){if(d=Yt,d!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|E))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,ds(s,m),dr(d,s,m,-1))}return Dp(),d=cp(Error(n(421))),eh(s,o,E,d)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=iA.bind(null,s),m._reactRetry=o,null):(s=y.treeContext,Bn=Ks(m.nextSibling),Un=o,Tt=!0,lr=null,s!==null&&(Hn[Gn++]=cs,Hn[Gn++]=hs,Hn[Gn++]=to,cs=s.id,hs=s.overflow,to=o),o=gp(o,d.children),o.flags|=4096,o)}function X0(s,o,u){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Gf(s.return,o,u)}function yp(s,o,u,d,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=u,y.tailMode=m)}function J0(s,o,u){var d=o.pendingProps,m=d.revealOrder,y=d.tail;if(wn(s,o,d.children,u),d=St.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&X0(s,u,o);else if(s.tag===19)X0(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(dt(St,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&Gc(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),yp(o,!1,m,u,y);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Gc(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}yp(o,!0,u,null,y);break;case"together":yp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function th(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ps(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),oo|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=ii(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=ii(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Gx(s,o,u){switch(o.tag){case 3:K0(o),fa();break;case 5:d0(o);break;case 1:In(o.type)&&Lc(o);break;case 4:Qf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;dt($c,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(dt(St,St.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Q0(s,o,u):(dt(St,St.current&1),s=ps(s,o,u),s!==null?s.sibling:null);dt(St,St.current&1);break;case 19:if(d=(u&o.childLanes)!==0,(s.flags&128)!==0){if(d)return J0(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),dt(St,St.current),d)break;return null;case 22:case 23:return o.lanes=0,q0(s,o,u)}return ps(s,o,u)}var Z0,vp,ew,tw;Z0=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},vp=function(){},ew=function(s,o,u,d){var m=s.memoizedProps;if(m!==d){s=o.stateNode,so(Lr.current);var y=null;switch(u){case"input":m=ge(s,m),d=ge(s,d),y=[];break;case"select":m=ce({},m,{value:void 0}),d=ce({},d,{value:void 0}),y=[];break;case"textarea":m=Fi(s,m),d=Fi(s,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=Vc)}sr(u,d);var E;u=null;for(Z in m)if(!d.hasOwnProperty(Z)&&m.hasOwnProperty(Z)&&m[Z]!=null)if(Z==="style"){var D=m[Z];for(E in D)D.hasOwnProperty(E)&&(u||(u={}),u[E]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?y||(y=[]):(y=y||[]).push(Z,null));for(Z in d){var j=d[Z];if(D=m?.[Z],d.hasOwnProperty(Z)&&j!==D&&(j!=null||D!=null))if(Z==="style")if(D){for(E in D)!D.hasOwnProperty(E)||j&&j.hasOwnProperty(E)||(u||(u={}),u[E]="");for(E in j)j.hasOwnProperty(E)&&D[E]!==j[E]&&(u||(u={}),u[E]=j[E])}else u||(y||(y=[]),y.push(Z,u)),u=j;else Z==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,D=D?D.__html:void 0,j!=null&&D!==j&&(y=y||[]).push(Z,j)):Z==="children"?typeof j!="string"&&typeof j!="number"||(y=y||[]).push(Z,""+j):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(j!=null&&Z==="onScroll"&&gt("scroll",s),y||D===j||(y=[])):(y=y||[]).push(Z,j))}u&&(y=y||[]).push("style",u);var Z=y;(o.updateQueue=Z)&&(o.flags|=4)}},tw=function(s,o,u,d){u!==d&&(o.flags|=4)};function Kl(s,o){if(!Tt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function hn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=u,o}function Kx(s,o,u){var d=o.pendingProps;switch(Uf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(o),null;case 1:return In(o.type)&&Oc(),hn(o),null;case 3:return d=o.stateNode,ya(),yt(Sn),yt(un),Zf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Bc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,lr!==null&&(bp(lr),lr=null))),vp(s,o),hn(o),null;case 5:Xf(o);var m=so($l.current);if(u=o.type,s!==null&&o.stateNode!=null)ew(s,o,u,d,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return hn(o),null}if(s=so(Lr.current),Bc(o)){d=o.stateNode,u=o.type;var y=o.memoizedProps;switch(d[Or]=o,d[Fl]=y,s=(o.mode&1)!==0,u){case"dialog":gt("cancel",d),gt("close",d);break;case"iframe":case"object":case"embed":gt("load",d);break;case"video":case"audio":for(m=0;m<Ml.length;m++)gt(Ml[m],d);break;case"source":gt("error",d);break;case"img":case"image":case"link":gt("error",d),gt("load",d);break;case"details":gt("toggle",d);break;case"input":_e(d,y),gt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},gt("invalid",d);break;case"textarea":ul(d,y),gt("invalid",d)}sr(u,y),m=null;for(var E in y)if(y.hasOwnProperty(E)){var D=y[E];E==="children"?typeof D=="string"?d.textContent!==D&&(y.suppressHydrationWarning!==!0&&Nc(d.textContent,D,s),m=["children",D]):typeof D=="number"&&d.textContent!==""+D&&(y.suppressHydrationWarning!==!0&&Nc(d.textContent,D,s),m=["children",""+D]):i.hasOwnProperty(E)&&D!=null&&E==="onScroll"&&gt("scroll",d)}switch(u){case"input":Qe(d),qe(d,y,!0);break;case"textarea":Qe(d),Ds(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Vc)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=cl(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=E.createElement(u,{is:d.is}):(s=E.createElement(u),u==="select"&&(E=s,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):s=E.createElementNS(s,u),s[Or]=o,s[Fl]=d,Z0(s,o,!1,!1),o.stateNode=s;e:{switch(E=Uo(u,d),u){case"dialog":gt("cancel",s),gt("close",s),m=d;break;case"iframe":case"object":case"embed":gt("load",s),m=d;break;case"video":case"audio":for(m=0;m<Ml.length;m++)gt(Ml[m],s);m=d;break;case"source":gt("error",s),m=d;break;case"img":case"image":case"link":gt("error",s),gt("load",s),m=d;break;case"details":gt("toggle",s),m=d;break;case"input":_e(s,d),m=ge(s,d),gt("invalid",s);break;case"option":m=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},m=ce({},d,{value:void 0}),gt("invalid",s);break;case"textarea":ul(s,d),m=Fi(s,d),gt("invalid",s);break;default:m=d}sr(u,m),D=m;for(y in D)if(D.hasOwnProperty(y)){var j=D[y];y==="style"?jo(s,j):y==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&ac(s,j)):y==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&ji(s,j):typeof j=="number"&&ji(s,""+j):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?j!=null&&y==="onScroll"&&gt("scroll",s):j!=null&&U(s,y,j,E))}switch(u){case"input":Qe(s),qe(s,d,!1);break;case"textarea":Qe(s),Ds(s);break;case"option":d.value!=null&&s.setAttribute("value",""+ve(d.value));break;case"select":s.multiple=!!d.multiple,y=d.value,y!=null?Ye(s,!!d.multiple,y,!1):d.defaultValue!=null&&Ye(s,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Vc)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return hn(o),null;case 6:if(s&&o.stateNode!=null)tw(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=so($l.current),so(Lr.current),Bc(o)){if(d=o.stateNode,u=o.memoizedProps,d[Or]=o,(y=d.nodeValue!==u)&&(s=Un,s!==null))switch(s.tag){case 3:Nc(d.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Nc(d.nodeValue,u,(s.mode&1)!==0)}y&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[Or]=o,o.stateNode=d}return hn(o),null;case 13:if(yt(St),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Tt&&Bn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)s0(),fa(),o.flags|=98560,y=!1;else if(y=Bc(o),d!==null&&d.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Or]=o}else fa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;hn(o),y=!1}else lr!==null&&(bp(lr),lr=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(St.current&1)!==0?Wt===0&&(Wt=3):Dp())),o.updateQueue!==null&&(o.flags|=4),hn(o),null);case 4:return ya(),vp(s,o),s===null&&Ol(o.stateNode.containerInfo),hn(o),null;case 10:return Hf(o.type._context),hn(o),null;case 17:return In(o.type)&&Oc(),hn(o),null;case 19:if(yt(St),y=o.memoizedState,y===null)return hn(o),null;if(d=(o.flags&128)!==0,E=y.rendering,E===null)if(d)Kl(y,!1);else{if(Wt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(E=Gc(s),E!==null){for(o.flags|=128,Kl(y,!1),d=E.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)y=u,s=d,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,s=E.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return dt(St,St.current&1|2),o.child}s=s.sibling}y.tail!==null&&mt()>Ta&&(o.flags|=128,d=!0,Kl(y,!1),o.lanes=4194304)}else{if(!d)if(s=Gc(E),s!==null){if(o.flags|=128,d=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Kl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Tt)return hn(o),null}else 2*mt()-y.renderingStartTime>Ta&&u!==1073741824&&(o.flags|=128,d=!0,Kl(y,!1),o.lanes=4194304);y.isBackwards?(E.sibling=o.child,o.child=E):(u=y.last,u!==null?u.sibling=E:o.child=E,y.last=E)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=mt(),o.sibling=null,u=St.current,dt(St,d?u&1|2:u&1),o):(hn(o),null);case 22:case 23:return Rp(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(zn&1073741824)!==0&&(hn(o),o.subtreeFlags&6&&(o.flags|=8192)):hn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function Yx(s,o){switch(Uf(o),o.tag){case 1:return In(o.type)&&Oc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ya(),yt(Sn),yt(un),Zf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Xf(o),null;case 13:if(yt(St),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));fa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return yt(St),null;case 4:return ya(),null;case 10:return Hf(o.type._context),null;case 22:case 23:return Rp(),null;case 24:return null;default:return null}}var nh=!1,dn=!1,Qx=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function wa(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){At(s,o,d)}else u.current=null}function wp(s,o,u){try{u()}catch(d){At(s,o,d)}}var nw=!1;function Xx(s,o){if(Rf=is,s=Vv(),Sf(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var E=0,D=-1,j=-1,Z=0,fe=0,me=s,de=null;t:for(;;){for(var ke;me!==u||m!==0&&me.nodeType!==3||(D=E+m),me!==y||d!==0&&me.nodeType!==3||(j=E+d),me.nodeType===3&&(E+=me.nodeValue.length),(ke=me.firstChild)!==null;)de=me,me=ke;for(;;){if(me===s)break t;if(de===u&&++Z===m&&(D=E),de===y&&++fe===d&&(j=E),(ke=me.nextSibling)!==null)break;me=de,de=me.parentNode}me=ke}u=D===-1||j===-1?null:{start:D,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(Df={focusedElem:s,selectionRange:u},is=!1,Ae=o;Ae!==null;)if(o=Ae,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Ae=s;else for(;Ae!==null;){o=Ae;try{var Re=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Me=Re.memoizedProps,Nt=Re.memoizedState,K=o.stateNode,W=K.getSnapshotBeforeUpdate(o.elementType===o.type?Me:ur(o.type,Me),Nt);K.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ye){At(o,o.return,ye)}if(s=o.sibling,s!==null){s.return=o.return,Ae=s;break}Ae=o.return}return Re=nw,nw=!1,Re}function Yl(s,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&wp(o,u,y)}m=m.next}while(m!==d)}}function rh(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function _p(s){var o=s.ref;if(o!==null){var u=s.stateNode;s.tag,s=u,typeof o=="function"?o(s):o.current=s}}function rw(s){var o=s.alternate;o!==null&&(s.alternate=null,rw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Or],delete o[Fl],delete o[Of],delete o[Nx],delete o[Vx])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function sw(s){return s.tag===5||s.tag===3||s.tag===4}function iw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||sw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Tp(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Vc));else if(d!==4&&(s=s.child,s!==null))for(Tp(s,o,u),s=s.sibling;s!==null;)Tp(s,o,u),s=s.sibling}function Ep(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Ep(s,o,u),s=s.sibling;s!==null;)Ep(s,o,u),s=s.sibling}var tn=null,cr=!1;function ei(s,o,u){for(u=u.child;u!==null;)ow(s,o,u),u=u.sibling}function ow(s,o,u){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Wi,u)}catch{}switch(u.tag){case 5:dn||wa(u,o);case 6:var d=tn,m=cr;tn=null,ei(s,o,u),tn=d,cr=m,tn!==null&&(cr?(s=tn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):tn.removeChild(u.stateNode));break;case 18:tn!==null&&(cr?(s=tn,u=u.stateNode,s.nodeType===8?Mf(s.parentNode,u):s.nodeType===1&&Mf(s,u),Ws(s)):Mf(tn,u.stateNode));break;case 4:d=tn,m=cr,tn=u.stateNode.containerInfo,cr=!0,ei(s,o,u),tn=d,cr=m;break;case 0:case 11:case 14:case 15:if(!dn&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&wp(u,o,E),m=m.next}while(m!==d)}ei(s,o,u);break;case 1:if(!dn&&(wa(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(D){At(u,o,D)}ei(s,o,u);break;case 21:ei(s,o,u);break;case 22:u.mode&1?(dn=(d=dn)||u.memoizedState!==null,ei(s,o,u),dn=d):ei(s,o,u);break;default:ei(s,o,u)}}function aw(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new Qx),o.forEach(function(d){var m=oA.bind(null,s,d);u.has(d)||(u.add(d),d.then(m,m))})}}function hr(s,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var y=s,E=o,D=E;e:for(;D!==null;){switch(D.tag){case 5:tn=D.stateNode,cr=!1;break e;case 3:tn=D.stateNode.containerInfo,cr=!0;break e;case 4:tn=D.stateNode.containerInfo,cr=!0;break e}D=D.return}if(tn===null)throw Error(n(160));ow(y,E,m),tn=null,cr=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(Z){At(m,o,Z)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)lw(o,s),o=o.sibling}function lw(s,o){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(hr(o,s),jr(s),d&4){try{Yl(3,s,s.return),rh(3,s)}catch(Me){At(s,s.return,Me)}try{Yl(5,s,s.return)}catch(Me){At(s,s.return,Me)}}break;case 1:hr(o,s),jr(s),d&512&&u!==null&&wa(u,u.return);break;case 5:if(hr(o,s),jr(s),d&512&&u!==null&&wa(u,u.return),s.flags&32){var m=s.stateNode;try{ji(m,"")}catch(Me){At(s,s.return,Me)}}if(d&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,E=u!==null?u.memoizedProps:y,D=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{D==="input"&&y.type==="radio"&&y.name!=null&&Se(m,y),Uo(D,E);var Z=Uo(D,y);for(E=0;E<j.length;E+=2){var fe=j[E],me=j[E+1];fe==="style"?jo(m,me):fe==="dangerouslySetInnerHTML"?ac(m,me):fe==="children"?ji(m,me):U(m,fe,me,Z)}switch(D){case"input":Ee(m,y);break;case"textarea":oc(m,y);break;case"select":var de=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var ke=y.value;ke!=null?Ye(m,!!y.multiple,ke,!1):de!==!!y.multiple&&(y.defaultValue!=null?Ye(m,!!y.multiple,y.defaultValue,!0):Ye(m,!!y.multiple,y.multiple?[]:"",!1))}m[Fl]=y}catch(Me){At(s,s.return,Me)}}break;case 6:if(hr(o,s),jr(s),d&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(Me){At(s,s.return,Me)}}break;case 3:if(hr(o,s),jr(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Ws(o.containerInfo)}catch(Me){At(s,s.return,Me)}break;case 4:hr(o,s),jr(s);break;case 13:hr(o,s),jr(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(kp=mt())),d&4&&aw(s);break;case 22:if(fe=u!==null&&u.memoizedState!==null,s.mode&1?(dn=(Z=dn)||fe,hr(o,s),dn=Z):hr(o,s),jr(s),d&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!fe&&(s.mode&1)!==0)for(Ae=s,fe=s.child;fe!==null;){for(me=Ae=fe;Ae!==null;){switch(de=Ae,ke=de.child,de.tag){case 0:case 11:case 14:case 15:Yl(4,de,de.return);break;case 1:wa(de,de.return);var Re=de.stateNode;if(typeof Re.componentWillUnmount=="function"){d=de,u=de.return;try{o=d,Re.props=o.memoizedProps,Re.state=o.memoizedState,Re.componentWillUnmount()}catch(Me){At(d,u,Me)}}break;case 5:wa(de,de.return);break;case 22:if(de.memoizedState!==null){hw(me);continue}}ke!==null?(ke.return=de,Ae=ke):hw(me)}fe=fe.sibling}e:for(fe=null,me=s;;){if(me.tag===5){if(fe===null){fe=me;try{m=me.stateNode,Z?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(D=me.stateNode,j=me.memoizedProps.style,E=j!=null&&j.hasOwnProperty("display")?j.display:null,D.style.display=Ms("display",E))}catch(Me){At(s,s.return,Me)}}}else if(me.tag===6){if(fe===null)try{me.stateNode.nodeValue=Z?"":me.memoizedProps}catch(Me){At(s,s.return,Me)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===s)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===s)break e;for(;me.sibling===null;){if(me.return===null||me.return===s)break e;fe===me&&(fe=null),me=me.return}fe===me&&(fe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:hr(o,s),jr(s),d&4&&aw(s);break;case 21:break;default:hr(o,s),jr(s)}}function jr(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(sw(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(ji(m,""),d.flags&=-33);var y=iw(s);Ep(s,y,m);break;case 3:case 4:var E=d.stateNode.containerInfo,D=iw(s);Tp(s,D,E);break;default:throw Error(n(161))}}catch(j){At(s,s.return,j)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Jx(s,o,u){Ae=s,uw(s)}function uw(s,o,u){for(var d=(s.mode&1)!==0;Ae!==null;){var m=Ae,y=m.child;if(m.tag===22&&d){var E=m.memoizedState!==null||nh;if(!E){var D=m.alternate,j=D!==null&&D.memoizedState!==null||dn;D=nh;var Z=dn;if(nh=E,(dn=j)&&!Z)for(Ae=m;Ae!==null;)E=Ae,j=E.child,E.tag===22&&E.memoizedState!==null?dw(m):j!==null?(j.return=E,Ae=j):dw(m);for(;y!==null;)Ae=y,uw(y),y=y.sibling;Ae=m,nh=D,dn=Z}cw(s)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,Ae=y):cw(s)}}function cw(s){for(;Ae!==null;){var o=Ae;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:dn||rh(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!dn)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:ur(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&h0(o,y,d);break;case 3:var E=o.updateQueue;if(E!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}h0(o,E,u)}break;case 5:var D=o.stateNode;if(u===null&&o.flags&4){u=D;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Z=o.alternate;if(Z!==null){var fe=Z.memoizedState;if(fe!==null){var me=fe.dehydrated;me!==null&&Ws(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}dn||o.flags&512&&_p(o)}catch(de){At(o,o.return,de)}}if(o===s){Ae=null;break}if(u=o.sibling,u!==null){u.return=o.return,Ae=u;break}Ae=o.return}}function hw(s){for(;Ae!==null;){var o=Ae;if(o===s){Ae=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Ae=u;break}Ae=o.return}}function dw(s){for(;Ae!==null;){var o=Ae;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{rh(4,o)}catch(j){At(o,u,j)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(j){At(o,m,j)}}var y=o.return;try{_p(o)}catch(j){At(o,y,j)}break;case 5:var E=o.return;try{_p(o)}catch(j){At(o,E,j)}}}catch(j){At(o,o.return,j)}if(o===s){Ae=null;break}var D=o.sibling;if(D!==null){D.return=o.return,Ae=D;break}Ae=o.return}}var Zx=Math.ceil,sh=ie.ReactCurrentDispatcher,Sp=ie.ReactCurrentOwner,Qn=ie.ReactCurrentBatchConfig,st=0,Yt=null,Ft=null,nn=0,zn=0,_a=Ys(0),Wt=0,Ql=null,oo=0,ih=0,Ip=0,Xl=null,Cn=null,kp=0,Ta=1/0,ms=null,oh=!1,Cp=null,ti=null,ah=!1,ni=null,lh=0,Jl=0,xp=null,uh=-1,ch=0;function _n(){return(st&6)!==0?mt():uh!==-1?uh:uh=mt()}function ri(s){return(s.mode&1)===0?1:(st&2)!==0&&nn!==0?nn&-nn:Ox.transition!==null?(ch===0&&(ch=wl()),ch):(s=nt,s!==0||(s=window.event,s=s===void 0?16:Qo(s.type)),s)}function dr(s,o,u,d){if(50<Jl)throw Jl=0,xp=null,Error(n(185));Ki(s,u,d),((st&2)===0||s!==Yt)&&(s===Yt&&((st&2)===0&&(ih|=u),Wt===4&&si(s,nn)),xn(s,d),u===1&&st===0&&(o.mode&1)===0&&(Ta=mt()+500,Fc&&Xs()))}function xn(s,o){var u=s.callbackNode;Gi(s,o);var d=ns(s,s===Yt?nn:0);if(d===0)u!==null&&$o(u),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(u!=null&&$o(u),o===1)s.tag===0?Mx(pw.bind(null,s)):Zv(pw.bind(null,s)),Rx(function(){(st&6)===0&&Xs()}),u=null;else{switch(Cr(d)){case 1:u=Wo;break;case 4:u=gl;break;case 16:u=$i;break;case 536870912:u=qo;break;default:u=$i}u=Ew(u,fw.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function fw(s,o){if(uh=-1,ch=0,(st&6)!==0)throw Error(n(327));var u=s.callbackNode;if(Ea()&&s.callbackNode!==u)return null;var d=ns(s,s===Yt?nn:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||o)o=hh(s,d);else{o=d;var m=st;st|=2;var y=gw();(Yt!==s||nn!==o)&&(ms=null,Ta=mt()+500,lo(s,o));do try{nA();break}catch(D){mw(s,D)}while(!0);qf(),sh.current=y,st=m,Ft!==null?o=0:(Yt=null,nn=0,o=Wt)}if(o!==0){if(o===2&&(m=vl(s),m!==0&&(d=m,o=Ap(s,m))),o===1)throw u=Ql,lo(s,0),si(s,d),xn(s,mt()),u;if(o===6)si(s,d);else{if(m=s.current.alternate,(d&30)===0&&!eA(m)&&(o=hh(s,d),o===2&&(y=vl(s),y!==0&&(d=y,o=Ap(s,y))),o===1))throw u=Ql,lo(s,0),si(s,d),xn(s,mt()),u;switch(s.finishedWork=m,s.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:uo(s,Cn,ms);break;case 3:if(si(s,d),(d&130023424)===d&&(o=kp+500-mt(),10<o)){if(ns(s,0)!==0)break;if(m=s.suspendedLanes,(m&d)!==d){_n(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Vf(uo.bind(null,s,Cn,ms),o);break}uo(s,Cn,ms);break;case 4:if(si(s,d),(d&4194240)===d)break;for(o=s.eventTimes,m=-1;0<d;){var E=31-Mn(d);y=1<<E,E=o[E],E>m&&(m=E),d&=~y}if(d=m,d=mt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Zx(d/1960))-d,10<d){s.timeoutHandle=Vf(uo.bind(null,s,Cn,ms),d);break}uo(s,Cn,ms);break;case 5:uo(s,Cn,ms);break;default:throw Error(n(329))}}}return xn(s,mt()),s.callbackNode===u?fw.bind(null,s):null}function Ap(s,o){var u=Xl;return s.current.memoizedState.isDehydrated&&(lo(s,o).flags|=256),s=hh(s,o),s!==2&&(o=Cn,Cn=u,o!==null&&bp(o)),s}function bp(s){Cn===null?Cn=s:Cn.push.apply(Cn,s)}function eA(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],y=m.getSnapshot;m=m.value;try{if(!ar(y(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function si(s,o){for(o&=~Ip,o&=~ih,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-Mn(o),d=1<<u;s[u]=-1,o&=~d}}function pw(s){if((st&6)!==0)throw Error(n(327));Ea();var o=ns(s,0);if((o&1)===0)return xn(s,mt()),null;var u=hh(s,o);if(s.tag!==0&&u===2){var d=vl(s);d!==0&&(o=d,u=Ap(s,d))}if(u===1)throw u=Ql,lo(s,0),si(s,o),xn(s,mt()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,uo(s,Cn,ms),xn(s,mt()),null}function Pp(s,o){var u=st;st|=1;try{return s(o)}finally{st=u,st===0&&(Ta=mt()+500,Fc&&Xs())}}function ao(s){ni!==null&&ni.tag===0&&(st&6)===0&&Ea();var o=st;st|=1;var u=Qn.transition,d=nt;try{if(Qn.transition=null,nt=1,s)return s()}finally{nt=d,Qn.transition=u,st=o,(st&6)===0&&Xs()}}function Rp(){zn=_a.current,yt(_a)}function lo(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,Px(u)),Ft!==null)for(u=Ft.return;u!==null;){var d=u;switch(Uf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Oc();break;case 3:ya(),yt(Sn),yt(un),Zf();break;case 5:Xf(d);break;case 4:ya();break;case 13:yt(St);break;case 19:yt(St);break;case 10:Hf(d.type._context);break;case 22:case 23:Rp()}u=u.return}if(Yt=s,Ft=s=ii(s.current,null),nn=zn=o,Wt=0,Ql=null,Ip=ih=oo=0,Cn=Xl=null,ro!==null){for(o=0;o<ro.length;o++)if(u=ro[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,y=u.pending;if(y!==null){var E=y.next;y.next=m,d.next=E}u.pending=d}ro=null}return s}function mw(s,o){do{var u=Ft;try{if(qf(),Kc.current=Jc,Yc){for(var d=It.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Yc=!1}if(io=0,Kt=$t=It=null,Wl=!1,ql=0,Sp.current=null,u===null||u.return===null){Wt=1,Ql=o,Ft=null;break}e:{var y=s,E=u.return,D=u,j=o;if(o=nn,D.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=j,fe=D,me=fe.tag;if((fe.mode&1)===0&&(me===0||me===11||me===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var ke=U0(E);if(ke!==null){ke.flags&=-257,B0(ke,E,D,y,o),ke.mode&1&&j0(y,Z,o),o=ke,j=Z;var Re=o.updateQueue;if(Re===null){var Me=new Set;Me.add(j),o.updateQueue=Me}else Re.add(j);break e}else{if((o&1)===0){j0(y,Z,o),Dp();break e}j=Error(n(426))}}else if(Tt&&D.mode&1){var Nt=U0(E);if(Nt!==null){(Nt.flags&65536)===0&&(Nt.flags|=256),B0(Nt,E,D,y,o),$f(va(j,D));break e}}y=j=va(j,D),Wt!==4&&(Wt=2),Xl===null?Xl=[y]:Xl.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var K=L0(y,j,o);c0(y,K);break e;case 1:D=j;var W=y.type,Q=y.stateNode;if((y.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(ti===null||!ti.has(Q)))){y.flags|=65536,o&=-o,y.lanes|=o;var ye=F0(y,D,o);c0(y,ye);break e}}y=y.return}while(y!==null)}vw(u)}catch(Fe){o=Fe,Ft===u&&u!==null&&(Ft=u=u.return);continue}break}while(!0)}function gw(){var s=sh.current;return sh.current=Jc,s===null?Jc:s}function Dp(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),Yt===null||(oo&268435455)===0&&(ih&268435455)===0||si(Yt,nn)}function hh(s,o){var u=st;st|=2;var d=gw();(Yt!==s||nn!==o)&&(ms=null,lo(s,o));do try{tA();break}catch(m){mw(s,m)}while(!0);if(qf(),st=u,sh.current=d,Ft!==null)throw Error(n(261));return Yt=null,nn=0,Wt}function tA(){for(;Ft!==null;)yw(Ft)}function nA(){for(;Ft!==null&&!zi();)yw(Ft)}function yw(s){var o=Tw(s.alternate,s,zn);s.memoizedProps=s.pendingProps,o===null?vw(s):Ft=o,Sp.current=null}function vw(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=Kx(u,o,zn),u!==null){Ft=u;return}}else{if(u=Yx(u,o),u!==null){u.flags&=32767,Ft=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Wt=6,Ft=null;return}}if(o=o.sibling,o!==null){Ft=o;return}Ft=o=s}while(o!==null);Wt===0&&(Wt=5)}function uo(s,o,u){var d=nt,m=Qn.transition;try{Qn.transition=null,nt=1,rA(s,o,u,d)}finally{Qn.transition=m,nt=d}return null}function rA(s,o,u,d){do Ea();while(ni!==null);if((st&6)!==0)throw Error(n(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var y=u.lanes|u.childLanes;if(vf(s,y),s===Yt&&(Ft=Yt=null,nn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ah||(ah=!0,Ew($i,function(){return Ea(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=Qn.transition,Qn.transition=null;var E=nt;nt=1;var D=st;st|=4,Sp.current=null,Xx(s,u),lw(u,s),Sx(Df),is=!!Rf,Df=Rf=null,s.current=u,Jx(u),ts(),st=D,nt=E,Qn.transition=y}else s.current=u;if(ah&&(ah=!1,ni=s,lh=m),y=s.pendingLanes,y===0&&(ti=null),vc(u.stateNode),xn(s,mt()),o!==null)for(d=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(oh)throw oh=!1,s=Cp,Cp=null,s;return(lh&1)!==0&&s.tag!==0&&Ea(),y=s.pendingLanes,(y&1)!==0?s===xp?Jl++:(Jl=0,xp=s):Jl=0,Xs(),null}function Ea(){if(ni!==null){var s=Cr(lh),o=Qn.transition,u=nt;try{if(Qn.transition=null,nt=16>s?16:s,ni===null)var d=!1;else{if(s=ni,ni=null,lh=0,(st&6)!==0)throw Error(n(331));var m=st;for(st|=4,Ae=s.current;Ae!==null;){var y=Ae,E=y.child;if((Ae.flags&16)!==0){var D=y.deletions;if(D!==null){for(var j=0;j<D.length;j++){var Z=D[j];for(Ae=Z;Ae!==null;){var fe=Ae;switch(fe.tag){case 0:case 11:case 15:Yl(8,fe,y)}var me=fe.child;if(me!==null)me.return=fe,Ae=me;else for(;Ae!==null;){fe=Ae;var de=fe.sibling,ke=fe.return;if(rw(fe),fe===Z){Ae=null;break}if(de!==null){de.return=ke,Ae=de;break}Ae=ke}}}var Re=y.alternate;if(Re!==null){var Me=Re.child;if(Me!==null){Re.child=null;do{var Nt=Me.sibling;Me.sibling=null,Me=Nt}while(Me!==null)}}Ae=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,Ae=E;else e:for(;Ae!==null;){if(y=Ae,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Yl(9,y,y.return)}var K=y.sibling;if(K!==null){K.return=y.return,Ae=K;break e}Ae=y.return}}var W=s.current;for(Ae=W;Ae!==null;){E=Ae;var Q=E.child;if((E.subtreeFlags&2064)!==0&&Q!==null)Q.return=E,Ae=Q;else e:for(E=W;Ae!==null;){if(D=Ae,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:rh(9,D)}}catch(Fe){At(D,D.return,Fe)}if(D===E){Ae=null;break e}var ye=D.sibling;if(ye!==null){ye.return=D.return,Ae=ye;break e}Ae=D.return}}if(st=m,Xs(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Wi,s)}catch{}d=!0}return d}finally{nt=u,Qn.transition=o}}return!1}function ww(s,o,u){o=va(u,o),o=L0(s,o,1),s=Zs(s,o,1),o=_n(),s!==null&&(Ki(s,1,o),xn(s,o))}function At(s,o,u){if(s.tag===3)ww(s,s,u);else for(;o!==null;){if(o.tag===3){ww(o,s,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ti===null||!ti.has(d))){s=va(u,s),s=F0(o,s,1),o=Zs(o,s,1),s=_n(),o!==null&&(Ki(o,1,s),xn(o,s));break}}o=o.return}}function sA(s,o,u){var d=s.pingCache;d!==null&&d.delete(o),o=_n(),s.pingedLanes|=s.suspendedLanes&u,Yt===s&&(nn&u)===u&&(Wt===4||Wt===3&&(nn&130023424)===nn&&500>mt()-kp?lo(s,0):Ip|=u),xn(s,o)}function _w(s,o){o===0&&((s.mode&1)===0?o=1:(o=Bs,Bs<<=1,(Bs&130023424)===0&&(Bs=4194304)));var u=_n();s=ds(s,o),s!==null&&(Ki(s,o,u),xn(s,u))}function iA(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),_w(s,u)}function oA(s,o){var u=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),_w(s,u)}var Tw;Tw=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||Sn.current)kn=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return kn=!1,Gx(s,o,u);kn=(s.flags&131072)!==0}else kn=!1,Tt&&(o.flags&1048576)!==0&&e0(o,Uc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;th(s,o),s=o.pendingProps;var m=ca(o,un.current);ga(o,u),m=np(null,o,d,s,m,u);var y=rp();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,In(d)?(y=!0,Lc(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Yf(o),m.updater=Zc,o.stateNode=m,m._reactInternals=o,up(o,d,s,u),o=fp(null,o,d,!0,y,u)):(o.tag=0,Tt&&y&&jf(o),wn(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch(th(s,o),s=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=lA(d),s=ur(d,s),m){case 0:o=dp(null,o,d,s,u);break e;case 1:o=G0(null,o,d,s,u);break e;case 11:o=z0(null,o,d,s,u);break e;case 14:o=$0(null,o,d,ur(d.type,s),u);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:ur(d,m),dp(s,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:ur(d,m),G0(s,o,d,m,u);case 3:e:{if(K0(o),s===null)throw Error(n(387));d=o.pendingProps,y=o.memoizedState,m=y.element,u0(s,o),Hc(o,d,null,u);var E=o.memoizedState;if(d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=va(Error(n(423)),o),o=Y0(s,o,d,u,m);break e}else if(d!==m){m=va(Error(n(424)),o),o=Y0(s,o,d,u,m);break e}else for(Bn=Ks(o.stateNode.containerInfo.firstChild),Un=o,Tt=!0,lr=null,u=a0(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(fa(),d===m){o=ps(s,o,u);break e}wn(s,o,d,u)}o=o.child}return o;case 5:return d0(o),s===null&&zf(o),d=o.type,m=o.pendingProps,y=s!==null?s.memoizedProps:null,E=m.children,Nf(d,m)?E=null:y!==null&&Nf(d,y)&&(o.flags|=32),H0(s,o),wn(s,o,E,u),o.child;case 6:return s===null&&zf(o),null;case 13:return Q0(s,o,u);case 4:return Qf(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=pa(o,null,d,u):wn(s,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:ur(d,m),z0(s,o,d,m,u);case 7:return wn(s,o,o.pendingProps,u),o.child;case 8:return wn(s,o,o.pendingProps.children,u),o.child;case 12:return wn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,y=o.memoizedProps,E=m.value,dt($c,d._currentValue),d._currentValue=E,y!==null)if(ar(y.value,E)){if(y.children===m.children&&!Sn.current){o=ps(s,o,u);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var D=y.dependencies;if(D!==null){E=y.child;for(var j=D.firstContext;j!==null;){if(j.context===d){if(y.tag===1){j=fs(-1,u&-u),j.tag=2;var Z=y.updateQueue;if(Z!==null){Z=Z.shared;var fe=Z.pending;fe===null?j.next=j:(j.next=fe.next,fe.next=j),Z.pending=j}}y.lanes|=u,j=y.alternate,j!==null&&(j.lanes|=u),Gf(y.return,u,o),D.lanes|=u;break}j=j.next}}else if(y.tag===10)E=y.type===o.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(n(341));E.lanes|=u,D=E.alternate,D!==null&&(D.lanes|=u),Gf(E,u,o),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===o){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}wn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,ga(o,u),m=Kn(m),d=d(m),o.flags|=1,wn(s,o,d,u),o.child;case 14:return d=o.type,m=ur(d,o.pendingProps),m=ur(d.type,m),$0(s,o,d,m,u);case 15:return W0(s,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:ur(d,m),th(s,o),o.tag=1,In(d)?(s=!0,Lc(o)):s=!1,ga(o,u),M0(o,d,m),up(o,d,m,u),fp(null,o,d,!0,s,u);case 19:return J0(s,o,u);case 22:return q0(s,o,u)}throw Error(n(156,o.tag))};function Ew(s,o){return ml(s,o)}function aA(s,o,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(s,o,u,d){return new aA(s,o,u,d)}function Np(s){return s=s.prototype,!(!s||!s.isReactComponent)}function lA(s){if(typeof s=="function")return Np(s)?1:0;if(s!=null){if(s=s.$$typeof,s===P)return 11;if(s===z)return 14}return 2}function ii(s,o){var u=s.alternate;return u===null?(u=Xn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function dh(s,o,u,d,m,y){var E=2;if(d=s,typeof s=="function")Np(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case k:return co(u.children,m,y,o);case I:E=8,m|=8;break;case b:return s=Xn(12,u,o,m|2),s.elementType=b,s.lanes=y,s;case S:return s=Xn(13,u,o,m),s.elementType=S,s.lanes=y,s;case G:return s=Xn(19,u,o,m),s.elementType=G,s.lanes=y,s;case ae:return fh(u,m,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:E=10;break e;case V:E=9;break e;case P:E=11;break e;case z:E=14;break e;case he:E=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Xn(E,u,o,m),o.elementType=s,o.type=d,o.lanes=y,o}function co(s,o,u,d){return s=Xn(7,s,d,o),s.lanes=u,s}function fh(s,o,u,d){return s=Xn(22,s,d,o),s.elementType=ae,s.lanes=u,s.stateNode={isHidden:!1},s}function Vp(s,o,u){return s=Xn(6,s,null,o),s.lanes=u,s}function Mp(s,o,u){return o=Xn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function uA(s,o,u,d,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_l(0),this.expirationTimes=_l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_l(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Op(s,o,u,d,m,y,E,D,j){return s=new uA(s,o,u,D,j),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Xn(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yf(y),s}function cA(s,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:d==null?null:""+d,children:s,containerInfo:o,implementation:u}}function Sw(s){if(!s)return Qs;s=s._reactInternals;e:{if(ir(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(In(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(In(u))return Xv(s,u,o)}return o}function Iw(s,o,u,d,m,y,E,D,j){return s=Op(u,d,!0,s,m,y,E,D,j),s.context=Sw(null),u=s.current,d=_n(),m=ri(u),y=fs(d,m),y.callback=o??null,Zs(u,y,m),s.current.lanes=m,Ki(s,m,d),xn(s,d),s}function ph(s,o,u,d){var m=o.current,y=_n(),E=ri(m);return u=Sw(u),o.context===null?o.context=u:o.pendingContext=u,o=fs(y,E),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Zs(m,o,E),s!==null&&(dr(s,m,E,y),qc(s,m,E)),E}function mh(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function kw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Lp(s,o){kw(s,o),(s=s.alternate)&&kw(s,o)}function hA(){return null}var Cw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Fp(s){this._internalRoot=s}gh.prototype.render=Fp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));ph(s,o,null,null)},gh.prototype.unmount=Fp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;ao(function(){ph(null,s,null,null)}),o[ls]=null}};function gh(s){this._internalRoot=s}gh.prototype.unstable_scheduleHydration=function(s){if(s){var o=Il();s={blockedOn:null,target:s,priority:o};for(var u=0;u<On.length&&o!==0&&o<On[u].priority;u++);On.splice(u,0,s),u===0&&Ko(s)}};function jp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function yh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function xw(){}function dA(s,o,u,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var Z=mh(E);y.call(Z)}}var E=Iw(o,d,s,0,null,!1,!1,"",xw);return s._reactRootContainer=E,s[ls]=E.current,Ol(s.nodeType===8?s.parentNode:s),ao(),E}for(;m=s.lastChild;)s.removeChild(m);if(typeof d=="function"){var D=d;d=function(){var Z=mh(j);D.call(Z)}}var j=Op(s,0,!1,null,null,!1,!1,"",xw);return s._reactRootContainer=j,s[ls]=j.current,Ol(s.nodeType===8?s.parentNode:s),ao(function(){ph(o,j,u,d)}),j}function vh(s,o,u,d,m){var y=u._reactRootContainer;if(y){var E=y;if(typeof m=="function"){var D=m;m=function(){var j=mh(E);D.call(j)}}ph(o,E,s,m)}else E=dA(u,o,s,m,d);return mh(E)}El=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=ot(o.pendingLanes);u!==0&&(Tl(o,u|1),xn(o,mt()),(st&6)===0&&(Ta=mt()+500,Xs()))}break;case 13:ao(function(){var d=ds(s,1);if(d!==null){var m=_n();dr(d,s,1,m)}}),Lp(s,1)}},Ho=function(s){if(s.tag===13){var o=ds(s,134217728);if(o!==null){var u=_n();dr(o,s,134217728,u)}Lp(s,134217728)}},Sl=function(s){if(s.tag===13){var o=ri(s),u=ds(s,o);if(u!==null){var d=_n();dr(u,s,o,d)}Lp(s,o)}},Il=function(){return nt},kl=function(s,o){var u=nt;try{return nt=s,o()}finally{nt=u}},Jr=function(s,o,u){switch(o){case"input":if(Ee(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==s&&d.form===s.form){var m=Mc(d);if(!m)throw Error(n(90));Le(d),Ee(d,m)}}}break;case"textarea":oc(s,u);break;case"select":o=u.value,o!=null&&Ye(s,!!u.multiple,o,!1)}},uc=Pp,cc=ao;var fA={usingClientEntryPoint:!1,Events:[jl,la,Mc,Ls,Fs,Pp]},Zl={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pA={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=yc(s),s===null?null:s.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||hA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{Wi=wh.inject(pA),Vn=wh}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fA,An.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jp(o))throw Error(n(200));return cA(s,o,null,u)},An.createRoot=function(s,o){if(!jp(s))throw Error(n(299));var u=!1,d="",m=Cw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Op(s,1,!1,null,null,u,!1,d,m),s[ls]=o.current,Ol(s.nodeType===8?s.parentNode:s),new Fp(o)},An.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=yc(o),s=s===null?null:s.stateNode,s},An.flushSync=function(s){return ao(s)},An.hydrate=function(s,o,u){if(!yh(o))throw Error(n(200));return vh(null,s,o,!0,u)},An.hydrateRoot=function(s,o,u){if(!jp(s))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,m=!1,y="",E=Cw;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError)),o=Iw(o,null,s,1,u??null,m,!1,y,E),s[ls]=o.current,Ol(s),d)for(s=0;s<d.length;s++)u=d[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new gh(o)},An.render=function(s,o,u){if(!yh(o))throw Error(n(200));return vh(null,s,o,!1,u)},An.unmountComponentAtNode=function(s){if(!yh(s))throw Error(n(40));return s._reactRootContainer?(ao(function(){vh(null,null,s,!1,function(){s._reactRootContainer=null,s[ls]=null})}),!0):!1},An.unstable_batchedUpdates=Pp,An.unstable_renderSubtreeIntoContainer=function(s,o,u,d){if(!yh(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return vh(s,o,u,!1,d)},An.version="18.3.1-next-f1338f8080-20240426",An}var Mw;function o1(){if(Mw)return zp.exports;Mw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zp.exports=SA(),zp.exports}var Ow;function IA(){if(Ow)return _h;Ow=1;var t=o1();return _h.createRoot=t.createRoot,_h.hydrateRoot=t.hydrateRoot,_h}var kA=IA();const CA=bg(kA),xA="modulepreload",AA=function(t){return"/AWAKE/"+t},Lw={},Et=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=l?.nonce||l?.getAttribute("nonce");i=f(n.map(p=>{if(p=AA(p),p in Lw)return;Lw[p]=!0;const g=p.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":xA,g||(_.as="script"),_.crossOrigin="",_.href=p,h&&_.setAttribute("nonce",h),document.head.appendChild(_),g)return new Promise((A,O)=>{_.addEventListener("load",A),_.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l}return i.then(l=>{for(const h of l||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};var HU=o1();function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(this,arguments)}var mi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mi||(mi={}));const Fw="popstate";function bA(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:l,hash:h}=r.location;return Cm("",{pathname:a,search:l,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jh(i)}return RA(e,n,null,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PA(){return Math.random().toString(36).substr(2,8)}function jw(t,e){return{usr:t.state,key:t.key,idx:e}}function Cm(t,e,n,r){return n===void 0&&(n=null),Cu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ya(e):e,{state:n,key:e&&e.key||r||PA()})}function Jh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ya(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,h=mi.Pop,f=null,p=g();p==null&&(p=0,l.replaceState(Cu({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function w(){h=mi.Pop;let L=g(),B=L==null?null:L-p;p=L,f&&f({action:h,location:M.location,delta:B})}function _(L,B){h=mi.Push;let q=Cm(M.location,L,B);p=g()+1;let U=jw(q,p),ie=M.createHref(q);try{l.pushState(U,"",ie)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(ie)}a&&f&&f({action:h,location:M.location,delta:1})}function A(L,B){h=mi.Replace;let q=Cm(M.location,L,B);p=g();let U=jw(q,p),ie=M.createHref(q);l.replaceState(U,"",ie),a&&f&&f({action:h,location:M.location,delta:0})}function O(L){let B=i.location.origin!=="null"?i.location.origin:i.location.href,q=typeof L=="string"?L:Jh(L);return q=q.replace(/ $/,"%20"),Mt(B,"No window.location.(origin|href) available to create URL for href: "+q),new URL(q,B)}let M={get action(){return h},get location(){return t(i,l)},listen(L){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Fw,w),f=L,()=>{i.removeEventListener(Fw,w),f=null}},createHref(L){return e(i,L)},createURL:O,encodeLocation(L){let B=O(L);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:_,replace:A,go(L){return l.go(L)}};return M}var Uw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Uw||(Uw={}));function DA(t,e,n){return n===void 0&&(n="/"),NA(t,e,n)}function NA(t,e,n,r){let i=typeof e=="string"?Ya(e):e,a=Ng(i.pathname||"/",n);if(a==null)return null;let l=a1(t);VA(l);let h=null;for(let f=0;h==null&&f<l.length;++f){let p=HA(a);h=$A(l[f],p)}return h}function a1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(Mt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=vi([r,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(Mt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),a1(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:BA(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))i(a,l);else for(let f of l1(a.path))i(a,l,f)}),e}function l1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=l1(r.join("/")),h=[];return h.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&h.push(...l),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function VA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const MA=/^:[\w-]+$/,OA=3,LA=2,FA=1,jA=10,UA=-2,Bw=t=>t==="*";function BA(t,e){let n=t.split("/"),r=n.length;return n.some(Bw)&&(r+=UA),e&&(r+=LA),n.filter(i=>!Bw(i)).reduce((i,a)=>i+(MA.test(a)?OA:a===""?FA:jA),r)}function zA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $A(t,e,n){let{routesMeta:r}=t,i={},a="/",l=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",w=WA({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),_=f.route;if(!w)return null;Object.assign(i,w.params),l.push({params:i,pathname:vi([a,w.pathname]),pathnameBase:XA(vi([a,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(a=vi([a,w.pathnameBase]))}return l}function WA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((p,g,w)=>{let{paramName:_,isOptional:A}=g;if(_==="*"){let M=h[w]||"";l=a.slice(0,a.length-M.length).replace(/(.)\/+$/,"$1")}const O=h[w];return A&&!O?p[_]=void 0:p[_]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function qA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Dg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function HA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ng(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const GA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KA=t=>GA.test(t);function YA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ya(t):t,a;if(n)if(KA(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Dg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?a=zw(n.substring(1),"/"):a=zw(n,e)}else a=e;return{pathname:a,search:JA(r),hash:ZA(i)}}function zw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vg(t,e){let n=QA(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ya(t):(i=Cu({},t),Mt(!i.pathname||!i.pathname.includes("?"),qp("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),qp("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),qp("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,h;if(l==null)h=n;else{let w=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),w-=1;i.pathname=_.join("/")}h=w>=0?e[w]:"/"}let f=YA(i,h),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const vi=t=>t.join("/").replace(/\/\/+/g,"/"),XA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const u1=["post","put","patch","delete"];new Set(u1);const tb=["get",...u1];new Set(tb);function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xu.apply(this,arguments)}const Og=C.createContext(null),nb=C.createContext(null),Di=C.createContext(null),Ld=C.createContext(null),Qr=C.createContext({outlet:null,matches:[],isDataRoute:!1}),c1=C.createContext(null);function rb(t,e){let{relative:n}=e===void 0?{}:e;Qa()||Mt(!1);let{basename:r,navigator:i}=C.useContext(Di),{hash:a,pathname:l,search:h}=d1(t,{relative:n}),f=l;return r!=="/"&&(f=l==="/"?r:vi([r,l])),i.createHref({pathname:f,search:h,hash:a})}function Qa(){return C.useContext(Ld)!=null}function As(){return Qa()||Mt(!1),C.useContext(Ld).location}function h1(t){C.useContext(Di).static||C.useLayoutEffect(t)}function Mo(){let{isDataRoute:t}=C.useContext(Qr);return t?vb():sb()}function sb(){Qa()||Mt(!1);let t=C.useContext(Og),{basename:e,future:n,navigator:r}=C.useContext(Di),{matches:i}=C.useContext(Qr),{pathname:a}=As(),l=JSON.stringify(Vg(i,n.v7_relativeSplatPath)),h=C.useRef(!1);return h1(()=>{h.current=!0}),C.useCallback(function(p,g){if(g===void 0&&(g={}),!h.current)return;if(typeof p=="number"){r.go(p);return}let w=Mg(p,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:vi([e,w.pathname])),(g.replace?r.replace:r.push)(w,g.state,g)},[e,r,l,a,t])}const ib=C.createContext(null);function ob(t){let e=C.useContext(Qr).outlet;return e&&C.createElement(ib.Provider,{value:t},e)}function GU(){let{matches:t}=C.useContext(Qr),e=t[t.length-1];return e?e.params:{}}function d1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(Di),{matches:i}=C.useContext(Qr),{pathname:a}=As(),l=JSON.stringify(Vg(i,r.v7_relativeSplatPath));return C.useMemo(()=>Mg(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function ab(t,e){return lb(t,e)}function lb(t,e,n,r){Qa()||Mt(!1);let{navigator:i}=C.useContext(Di),{matches:a}=C.useContext(Qr),l=a[a.length-1],h=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let p=As(),g;if(e){var w;let L=typeof e=="string"?Ya(e):e;f==="/"||(w=L.pathname)!=null&&w.startsWith(f)||Mt(!1),g=L}else g=p;let _=g.pathname||"/",A=_;if(f!=="/"){let L=f.replace(/^\//,"").split("/");A="/"+_.replace(/^\//,"").split("/").slice(L.length).join("/")}let O=DA(t,{pathname:A}),M=fb(O&&O.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:vi([f,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?f:vi([f,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),a,n,r);return e&&M?C.createElement(Ld.Provider,{value:{location:xu({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:mi.Pop}},M):M}function ub(){let t=yb(),e=eb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,null)}const cb=C.createElement(ub,null);class hb extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(Qr.Provider,{value:this.props.routeContext},C.createElement(c1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function db(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(Og);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Qr.Provider,{value:e},r)}function fb(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,h=(i=n)==null?void 0:i.errors;if(h!=null){let g=l.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);g>=0||Mt(!1),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let w=l[g];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=g),w.route.id){let{loaderData:_,errors:A}=n,O=w.route.loader&&_[w.route.id]===void 0&&(!A||A[w.route.id]===void 0);if(w.route.lazy||O){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,w,_)=>{let A,O=!1,M=null,L=null;n&&(A=h&&w.route.id?h[w.route.id]:void 0,M=w.route.errorElement||cb,f&&(p<0&&_===0?(wb("route-fallback"),O=!0,L=null):p===_&&(O=!0,L=w.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,_+1)),q=()=>{let U;return A?U=M:O?U=L:w.route.Component?U=C.createElement(w.route.Component,null):w.route.element?U=w.route.element:U=g,C.createElement(db,{match:w,routeContext:{outlet:g,matches:B,isDataRoute:n!=null},children:U})};return n&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?C.createElement(hb,{location:n.location,revalidation:n.revalidation,component:M,error:A,children:q(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):q()},null)}var f1=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(f1||{}),p1=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(p1||{});function pb(t){let e=C.useContext(Og);return e||Mt(!1),e}function mb(t){let e=C.useContext(nb);return e||Mt(!1),e}function gb(t){let e=C.useContext(Qr);return e||Mt(!1),e}function m1(t){let e=gb(),n=e.matches[e.matches.length-1];return n.route.id||Mt(!1),n.route.id}function yb(){var t;let e=C.useContext(c1),n=mb(),r=m1();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function vb(){let{router:t}=pb(f1.UseNavigateStable),e=m1(p1.UseNavigateStable),n=C.useRef(!1);return h1(()=>{n.current=!0}),C.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xu({fromRouteId:e},a)))},[t,e])}const $w={};function wb(t,e,n){$w[t]||($w[t]=!0)}function _b(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function g1(t){let{to:e,replace:n,state:r,relative:i}=t;Qa()||Mt(!1);let{future:a,static:l}=C.useContext(Di),{matches:h}=C.useContext(Qr),{pathname:f}=As(),p=Mo(),g=Mg(e,Vg(h,a.v7_relativeSplatPath),f,i==="path"),w=JSON.stringify(g);return C.useEffect(()=>p(JSON.parse(w),{replace:n,state:r,relative:i}),[p,w,i,n,r]),null}function y1(t){return ob(t.context)}function bt(t){Mt(!1)}function Tb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=mi.Pop,navigator:a,static:l=!1,future:h}=t;Qa()&&Mt(!1);let f=e.replace(/^\/*/,"/"),p=C.useMemo(()=>({basename:f,navigator:a,static:l,future:xu({v7_relativeSplatPath:!1},h)}),[f,h,a,l]);typeof r=="string"&&(r=Ya(r));let{pathname:g="/",search:w="",hash:_="",state:A=null,key:O="default"}=r,M=C.useMemo(()=>{let L=Ng(g,f);return L==null?null:{location:{pathname:L,search:w,hash:_,state:A,key:O},navigationType:i}},[f,g,w,_,A,O,i]);return M==null?null:C.createElement(Di.Provider,{value:p},C.createElement(Ld.Provider,{children:n,value:M}))}function Eb(t){let{children:e,location:n}=t;return ab(xm(e),n)}new Promise(()=>{});function xm(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let a=[...e,i];if(r.type===C.Fragment){n.push.apply(n,xm(r.props.children,a));return}r.type!==bt&&Mt(!1),!r.props.index||!r.props.children||Mt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=xm(r.props.children,a)),n.push(l)}),n}function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Am.apply(this,arguments)}function Sb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ib(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kb(t,e){return t.button===0&&(!e||e==="_self")&&!Ib(t)}function bm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Cb(t,e){let n=bm(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const xb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ab="6";try{window.__reactRouterVersion=Ab}catch{}const bb="startTransition",Ww=_A[bb];function Pb(t){let{basename:e,children:n,future:r,window:i}=t,a=C.useRef();a.current==null&&(a.current=bA({window:i,v5Compat:!0}));let l=a.current,[h,f]=C.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},g=C.useCallback(w=>{p&&Ww?Ww(()=>f(w)):f(w)},[f,p]);return C.useLayoutEffect(()=>l.listen(g),[l,g]),C.useEffect(()=>_b(r),[r]),C.createElement(Tb,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:l,future:r})}const Rb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Db=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qw=C.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:h,target:f,to:p,preventScrollReset:g,viewTransition:w}=e,_=Sb(e,xb),{basename:A}=C.useContext(Di),O,M=!1;if(typeof p=="string"&&Db.test(p)&&(O=p,Rb))try{let U=new URL(window.location.href),ie=p.startsWith("//")?new URL(U.protocol+p):new URL(p),F=Ng(ie.pathname,A);ie.origin===U.origin&&F!=null?p=F+ie.search+ie.hash:M=!0}catch{}let L=rb(p,{relative:i}),B=Nb(p,{replace:l,state:h,target:f,preventScrollReset:g,relative:i,viewTransition:w});function q(U){r&&r(U),U.defaultPrevented||B(U)}return C.createElement("a",Am({},_,{href:O||L,onClick:M||a?r:q,ref:n,target:f}))});var Hw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hw||(Hw={}));var Gw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gw||(Gw={}));function Nb(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:h}=e===void 0?{}:e,f=Mo(),p=As(),g=d1(t,{relative:l});return C.useCallback(w=>{if(kb(w,n)){w.preventDefault();let _=r!==void 0?r:Jh(p)===Jh(g);f(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:h})}},[p,f,g,r,i,n,t,a,l,h])}function Vb(t){let e=C.useRef(bm(t)),n=C.useRef(!1),r=As(),i=C.useMemo(()=>Cb(r.search,n.current?null:e.current),[r.search]),a=Mo(),l=C.useCallback((h,f)=>{const p=bm(typeof h=="function"?h(i):h);n.current=!0,a("?"+p,f)},[a,i]);return[i,l]}const Mb=()=>{};var Kw={};const v1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ob=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],h=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},w1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,h=l?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,g=a>>2,w=(a&3)<<4|h>>4;let _=(h&15)<<2|p>>6,A=p&63;f||(A=64,l||(_=64)),r.push(n[g],n[w],n[_],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(v1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ob(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const w=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||h==null||p==null||w==null)throw new Lb;const _=a<<2|h>>4;if(r.push(_),p!==64){const A=h<<4&240|p>>2;if(r.push(A),w!==64){const O=p<<6&192|w;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Lb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fb=function(t){const e=v1(t);return w1.encodeByteArray(e,!0)},Zh=function(t){return Fb(t).replace(/\./g,"")},_1=function(t){try{return w1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ub=()=>jb().__FIREBASE_DEFAULTS__,Bb=()=>{if(typeof process>"u"||typeof Kw>"u")return;const t=Kw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_1(t[1]);return e&&JSON.parse(e)},Fd=()=>{try{return Mb()||Ub()||Bb()||zb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},T1=t=>Fd()?.emulatorHosts?.[t],E1=t=>{const e=T1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},S1=()=>Fd()?.config,I1=t=>Fd()?.[`_${t}`];class $b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ni(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lg(t){return(await fetch(t,{credentials:"include"})).ok}function Wb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Zh(JSON.stringify(n)),Zh(JSON.stringify(l)),""].join(".")}const mu={};function qb(){const t={prod:[],emulator:[]};for(const e of Object.keys(mu))mu[e]?t.emulator.push(e):t.prod.push(e);return t}function Hb(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Yw=!1;function Fg(t,e){if(typeof window>"u"||typeof document>"u"||!Ni(window.location.host)||mu[t]===e||mu[t]||Yw)return;mu[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=qb().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,A){_.setAttribute("width","24"),_.setAttribute("id",A),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Yw=!0,l()},_}function g(_,A){_.setAttribute("id",A),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function w(){const _=Hb(r),A=n("text"),O=document.getElementById(A)||document.createElement("span"),M=n("learnmore"),L=document.getElementById(M)||document.createElement("a"),B=n("preprendIcon"),q=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const U=_.element;h(U),g(L,M);const ie=p();f(q,B),U.append(q,O,L,ie),document.body.appendChild(U)}a?(O.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function Kb(){const t=Fd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jb(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Zb(){return!Kb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eP(){try{return typeof indexedDB=="object"}catch{return!1}}function tP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const nP="FirebaseError";class Xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nP,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$u.prototype.create)}}class $u{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?rP(a,r):"Error",h=`${this.serviceName}: ${l} (${i}).`;return new Xr(i,h,r)}}function rP(t,e){return t.replace(sP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sP=/\{\$([^}]+)}/g;function iP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Co(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(Qw(a)&&Qw(l)){if(!Co(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Qw(t){return t!==null&&typeof t=="object"}function Wu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function au(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function lu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function oP(t,e){const n=new aP(t,e);return n.subscribe.bind(n)}class aP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hp),i.error===void 0&&(i.error=Hp),i.complete===void 0&&(i.complete=Hp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hp(){}function pt(t){return t&&t._delegate?t._delegate:t}class Si{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const mo="[DEFAULT]";class uP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $b;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hP(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cP(t){return t===mo?void 0:t}function hP(t){return t.instantiationMode==="EAGER"}class dP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const fP={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},pP=Ze.INFO,mP={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},gP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=mP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jg{constructor(e){this.name=e,this._logLevel=pP,this._logHandler=gP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const yP=(t,e)=>e.some(n=>t instanceof n);let Xw,Jw;function vP(){return Xw||(Xw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wP(){return Jw||(Jw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k1=new WeakMap,Pm=new WeakMap,C1=new WeakMap,Gp=new WeakMap,Ug=new WeakMap;function _P(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(wi(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&k1.set(n,t)}).catch(()=>{}),Ug.set(e,t),e}function TP(t){if(Pm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Pm.set(t,e)}let Rm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||C1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EP(t){Rm=t(Rm)}function SP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kp(this),e,...n);return C1.set(r,e.sort?e.sort():[e]),wi(r)}:wP().includes(t)?function(...e){return t.apply(Kp(this),e),wi(k1.get(this))}:function(...e){return wi(t.apply(Kp(this),e))}}function IP(t){return typeof t=="function"?SP(t):(t instanceof IDBTransaction&&TP(t),yP(t,vP())?new Proxy(t,Rm):t)}function wi(t){if(t instanceof IDBRequest)return _P(t);if(Gp.has(t))return Gp.get(t);const e=IP(t);return e!==t&&(Gp.set(t,e),Ug.set(e,t)),e}const Kp=t=>Ug.get(t);function kP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),h=wi(l);return r&&l.addEventListener("upgradeneeded",f=>{r(wi(l.result),f.oldVersion,f.newVersion,wi(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const CP=["get","getKey","getAll","getAllKeys","count"],xP=["put","add","delete","clear"],Yp=new Map;function Zw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yp.get(e))return Yp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CP.includes(n)))return;const a=async function(l,...h){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),i&&f.done]))[0]};return Yp.set(e,a),a}EP(t=>({...t,get:(e,n,r)=>Zw(e,n)||t.get(e,n,r),has:(e,n)=>!!Zw(e,n)||t.has(e,n)}));class AP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bP(t){return t.getComponent()?.type==="VERSION"}const Dm="@firebase/app",e_="0.14.7";const Es=new jg("@firebase/app"),PP="@firebase/app-compat",RP="@firebase/analytics-compat",DP="@firebase/analytics",NP="@firebase/app-check-compat",VP="@firebase/app-check",MP="@firebase/auth",OP="@firebase/auth-compat",LP="@firebase/database",FP="@firebase/data-connect",jP="@firebase/database-compat",UP="@firebase/functions",BP="@firebase/functions-compat",zP="@firebase/installations",$P="@firebase/installations-compat",WP="@firebase/messaging",qP="@firebase/messaging-compat",HP="@firebase/performance",GP="@firebase/performance-compat",KP="@firebase/remote-config",YP="@firebase/remote-config-compat",QP="@firebase/storage",XP="@firebase/storage-compat",JP="@firebase/firestore",ZP="@firebase/ai",eR="@firebase/firestore-compat",tR="firebase",nR="12.8.0";const Nm="[DEFAULT]",rR={[Dm]:"fire-core",[PP]:"fire-core-compat",[DP]:"fire-analytics",[RP]:"fire-analytics-compat",[VP]:"fire-app-check",[NP]:"fire-app-check-compat",[MP]:"fire-auth",[OP]:"fire-auth-compat",[LP]:"fire-rtdb",[FP]:"fire-data-connect",[jP]:"fire-rtdb-compat",[UP]:"fire-fn",[BP]:"fire-fn-compat",[zP]:"fire-iid",[$P]:"fire-iid-compat",[WP]:"fire-fcm",[qP]:"fire-fcm-compat",[HP]:"fire-perf",[GP]:"fire-perf-compat",[KP]:"fire-rc",[YP]:"fire-rc-compat",[QP]:"fire-gcs",[XP]:"fire-gcs-compat",[JP]:"fire-fst",[eR]:"fire-fst-compat",[ZP]:"fire-vertex","fire-js":"fire-js",[tR]:"fire-js-all"};const ed=new Map,sR=new Map,Vm=new Map;function t_(t,e){try{t.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xo(t){const e=t.name;if(Vm.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,t);for(const n of ed.values())t_(n,t);for(const n of sR.values())t_(n,t);return!0}function jd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t==null?!1:t.settings!==void 0}const iR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new $u("app","Firebase",iR);class oR{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}const Xa=nR;function x1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Nm,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw _i.create("bad-app-name",{appName:String(i)});if(n||(n=S1()),!n)throw _i.create("no-options");const a=ed.get(i);if(a){if(Co(n,a.options)&&Co(r,a.config))return a;throw _i.create("duplicate-app",{appName:i})}const l=new dP(i);for(const f of Vm.values())l.addComponent(f);const h=new oR(n,r,l);return ed.set(i,h),h}function Bg(t=Nm){const e=ed.get(t);if(!e&&t===Nm&&S1())return x1();if(!e)throw _i.create("no-app",{appName:t});return e}function zr(t,e,n){let r=rR[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(l.join(" "));return}xo(new Si(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const aR="firebase-heartbeat-database",lR=1,Au="firebase-heartbeat-store";let Qp=null;function A1(){return Qp||(Qp=kP(aR,lR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Au)}catch(n){console.warn(n)}}}}).catch(t=>{throw _i.create("idb-open",{originalErrorMessage:t.message})})),Qp}async function uR(t){try{const n=(await A1()).transaction(Au),r=await n.objectStore(Au).get(b1(t));return await n.done,r}catch(e){if(e instanceof Xr)Es.warn(e.message);else{const n=_i.create("idb-get",{originalErrorMessage:e?.message});Es.warn(n.message)}}}async function n_(t,e){try{const r=(await A1()).transaction(Au,"readwrite");await r.objectStore(Au).put(e,b1(t)),await r.done}catch(n){if(n instanceof Xr)Es.warn(n.message);else{const r=_i.create("idb-set",{originalErrorMessage:n?.message});Es.warn(r.message)}}}function b1(t){return`${t.name}!${t.options.appId}`}const cR=1024,hR=30;class dR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=r_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>hR){const i=mR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r_(),{heartbeatsToSend:n,unsentEntries:r}=fR(this._heartbeatsCache.heartbeats),i=Zh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Es.warn(e),""}}}function r_(){return new Date().toISOString().substring(0,10)}function fR(t,e=cR){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),s_(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),s_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eP()?tP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return n_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return n_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function s_(t){return Zh(JSON.stringify({version:2,heartbeats:t})).length}function mR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function gR(t){xo(new Si("platform-logger",e=>new AP(e),"PRIVATE")),xo(new Si("heartbeat",e=>new dR(e),"PRIVATE")),zr(Dm,e_,t),zr(Dm,e_,"esm2020"),zr("fire-js","")}gR("");var yR="firebase",vR="12.8.0";zr(yR,vR,"app");function P1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wR=P1,R1=new $u("auth","Firebase",P1());const td=new jg("@firebase/auth");function _R(t,...e){td.logLevel<=Ze.WARN&&td.warn(`Auth (${Xa}): ${t}`,...e)}function Vh(t,...e){td.logLevel<=Ze.ERROR&&td.error(`Auth (${Xa}): ${t}`,...e)}function rr(t,...e){throw $g(t,...e)}function yr(t,...e){return $g(t,...e)}function zg(t,e,n){const r={...wR(),[e]:n};return new $u("auth","Firebase",r).create(e,{appName:t.name})}function ws(t){return zg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TR(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&rr(t,"argument-error"),zg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $g(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return R1.create(t,...e)}function ze(t,e,...n){if(!t)throw $g(e,...n)}function ys(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vh(e),new Error(e)}function Ss(t,e){t||ys(e)}function Mm(){return typeof self<"u"&&self.location?.href||""}function ER(){return i_()==="http:"||i_()==="https:"}function i_(){return typeof self<"u"&&self.location?.protocol||null}function SR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ER()||Qb()||"connection"in navigator)?navigator.onLine:!0}function IR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class qu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ss(n>e,"Short delay should be less than long delay!"),this.isMobile=Gb()||Xb()}get(){return SR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wg(t,e){Ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class D1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xR=new qu(3e4,6e4);function bs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Tr(t,e,n,r,i={}){return N1(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=Wu({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...a};return Yb()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ni(t.emulatorConfig.host)&&(p.credentials="include"),D1.fetch()(await V1(t,t.config.apiHost,n,h),p)})}async function N1(t,e,n){t._canInitEmulator=!1;const r={...kR,...e};try{const i=new bR(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Th(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Th(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Th(t,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw zg(t,g,p);rr(t,g)}}catch(i){if(i instanceof Xr)throw i;rr(t,"network-request-failed",{message:String(i)})}}async function Hu(t,e,n,r,i={}){const a=await Tr(t,e,n,r,i);return"mfaPendingCredential"in a&&rr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function V1(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?Wg(t.config,i):`${t.config.apiScheme}://${i}`;return CR.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function AR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),xR.get())})}}function Th(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yr(t,e,r);return i.customData._tokenResponse=n,i}function o_(t){return t!==void 0&&t.enterprise!==void 0}class PR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RR(t,e){return Tr(t,"GET","/v2/recaptchaConfig",bs(t,e))}async function DR(t,e){return Tr(t,"POST","/v1/accounts:delete",e)}async function nd(t,e){return Tr(t,"POST","/v1/accounts:lookup",e)}function gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NR(t,e=!1){const n=pt(t),r=await n.getIdToken(e),i=qg(r);ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:gu(Xp(i.auth_time)),issuedAtTime:gu(Xp(i.iat)),expirationTime:gu(Xp(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Xp(t){return Number(t)*1e3}function qg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{const i=_1(n);return i?JSON.parse(i):(Vh("Failed to decode base64 JWT payload"),null)}catch(i){return Vh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function a_(t){const e=qg(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ao(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xr&&VR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class MR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rd(t){const e=t.auth,n=await t.getIdToken(),r=await Ao(t,nd(e,{idToken:n}));ze(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?M1(i.providerUserInfo):[],l=LR(t.providerData,a),h=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,p=h?f:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Om(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function OR(t){const e=pt(t);await rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function M1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function FR(t,e){const n=await N1(t,{},async()=>{const r=Wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await V1(t,i,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&Ni(t.emulatorConfig.host)&&(f.credentials="include"),D1.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jR(t,e){return Tr(t,"POST","/v2/accounts:revokeToken",bs(t,e))}class Na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=a_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await FR(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Na;return r&&(ze(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(ze(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(ze(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Na,this.toJSON())}_performRefresh(){return ys("not implemented")}}function ai(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new MR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Om(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ao(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NR(this,e)}reload(){return OR(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await Ao(this,DR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:w,emailVerified:_,isAnonymous:A,providerData:O,stsTokenManager:M}=n;ze(w&&M,e,"internal-error");const L=Na.fromJSON(this.name,M);ze(typeof w=="string",e,"internal-error"),ai(r,e.name),ai(i,e.name),ze(typeof _=="boolean",e,"internal-error"),ze(typeof A=="boolean",e,"internal-error"),ai(a,e.name),ai(l,e.name),ai(h,e.name),ai(f,e.name),ai(p,e.name),ai(g,e.name);const B=new gr({uid:w,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:A,photoURL:l,phoneNumber:a,tenantId:h,stsTokenManager:L,createdAt:p,lastLoginAt:g});return O&&Array.isArray(O)&&(B.providerData=O.map(q=>({...q}))),f&&(B._redirectEventId=f),B}static async _fromIdTokenResponse(e,n,r=!1){const i=new Na;i.updateFromServerResponse(n);const a=new gr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rd(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ze(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?M1(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,h=new Na;h.updateFromIdToken(r);const f=new gr({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Om(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,p),f}}const l_=new Map;function vs(t){Ss(t instanceof Function,"Expected a class definition");let e=l_.get(t);return e?(Ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,l_.set(t,e),e)}class O1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}O1.type="NONE";const u_=O1;function Mh(t,e,n){return`firebase:${t}:${e}:${n}`}class Va{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Mh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Mh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await nd(this.auth,{idToken:e}).catch(()=>{});return n?gr._fromGetAccountInfoResponse(this.auth,n,e):null}return gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Va(vs(u_),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||vs(u_);const l=Mh(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(l);if(g){let w;if(typeof g=="string"){const _=await nd(e,{idToken:g}).catch(()=>{});if(!_)break;w=await gr._fromGetAccountInfoResponse(e,_,g)}else w=gr._fromJSON(e,g);p!==a&&(h=w),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Va(a,e,r):(a=f[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Va(a,e,r))}}function c_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z1(e))return"Blackberry";if($1(e))return"Webos";if(F1(e))return"Safari";if((e.includes("chrome/")||j1(e))&&!e.includes("edge/"))return"Chrome";if(B1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function L1(t=vn()){return/firefox\//i.test(t)}function F1(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j1(t=vn()){return/crios\//i.test(t)}function U1(t=vn()){return/iemobile/i.test(t)}function B1(t=vn()){return/android/i.test(t)}function z1(t=vn()){return/blackberry/i.test(t)}function $1(t=vn()){return/webos/i.test(t)}function Hg(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UR(t=vn()){return Hg(t)&&!!window.navigator?.standalone}function BR(){return Jb()&&document.documentMode===10}function W1(t=vn()){return Hg(t)||B1(t)||$1(t)||z1(t)||/windows phone/i.test(t)||U1(t)}function q1(t,e=[]){let n;switch(t){case"Browser":n=c_(vn());break;case"Worker":n=`${c_(vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xa}/${r}`}class zR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const f=e(a);l(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function $R(t,e={}){return Tr(t,"GET","/v2/passwordPolicy",bs(t,e))}const WR=6;class qR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class HR{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h_(this),this.idTokenSubscription=new h_(this),this.beforeStateQueue=new zR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Va.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nd(this,{idToken:e}),r=await gr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===l)&&h?.user&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(ws(this));const n=e?pt(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $R(this),n=new qR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $u("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vs(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_R(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ps(t){return pt(t)}class h_{constructor(e){this.auth=e,this.observer=null,this.addObserver=oP(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GR(t){Ud=t}function H1(t){return Ud.loadJS(t)}function KR(){return Ud.recaptchaEnterpriseScript}function YR(){return Ud.gapiScript}function QR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class XR{constructor(){this.enterprise=new JR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZR="recaptcha-enterprise",G1="NO_RECAPTCHA";class eD{constructor(e){this.type=ZR,this.auth=Ps(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,h)=>{RR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new PR(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{h(f)})})}function i(a,l,h){const f=window.grecaptcha;o_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(G1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XR().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(h=>{if(!n&&o_(window.grecaptcha))i(h,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=KR();f.length!==0&&(f+=h),H1(f).then(()=>{i(h,a,l)}).catch(p=>{l(p)})}}).catch(h=>{l(h)})})}}async function d_(t,e,n,r=!1,i=!1){const a=new eD(t);let l;if(i)l=G1;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function sd(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await d_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await d_(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}function tD(t,e){const n=jd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Co(a,e??{}))return i;rr(i,"already-initialized")}return n.initialize({options:e})}function nD(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function rD(t,e,n){const r=Ps(t);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=K1(e),{host:l,port:h}=sD(e),f=h===null?"":`:${h}`,p={url:`${a}//${l}${f}/`},g=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(Co(p,r.config.emulator)&&Co(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Ni(l)?(Lg(`${a}//${l}${f}`),Fg("Auth",!0)):iD()}function K1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sD(t){const e=K1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:f_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:f_(l)}}}function f_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Gg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,n){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function oD(t,e){return Tr(t,"POST","/v1/accounts:update",e)}async function aD(t,e){return Tr(t,"POST","/v1/accounts:signUp",e)}async function lD(t,e){return Hu(t,"POST","/v1/accounts:signInWithPassword",bs(t,e))}async function Y1(t,e){return Tr(t,"POST","/v1/accounts:sendOobCode",bs(t,e))}async function uD(t,e){return Y1(t,e)}async function cD(t,e){return Y1(t,e)}async function hD(t,e){return Hu(t,"POST","/v1/accounts:signInWithEmailLink",bs(t,e))}async function dD(t,e){return Hu(t,"POST","/v1/accounts:signInWithEmailLink",bs(t,e))}class bu extends Gg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new bu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sd(e,n,"signInWithPassword",lD);case"emailLink":return hD(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sd(e,r,"signUpPassword",aD);case"emailLink":return dD(e,{idToken:n,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ma(t,e){return Hu(t,"POST","/v1/accounts:signInWithIdp",bs(t,e))}const fD="http://localhost";class bo extends Gg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new bo(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ma(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ma(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ma(e,n)}buildRequest(){const e={requestUri:fD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wu(n)}return e}}function pD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mD(t){const e=au(lu(t)).link,n=e?au(lu(e)).deep_link_id:null,r=au(lu(t)).deep_link_id;return(r?au(lu(r)).link:null)||r||n||e||t}class Kg{constructor(e){const n=au(lu(e)),r=n.apiKey??null,i=n.oobCode??null,a=pD(n.mode??null);ze(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mD(e);try{return new Kg(n)}catch{return null}}}class Ja{constructor(){this.providerId=Ja.PROVIDER_ID}static credential(e,n){return bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Kg.parseLink(n);return ze(r,"argument-error"),bu._fromEmailAndCode(e,r.code,r.tenantId)}}Ja.PROVIDER_ID="password";Ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Yg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gu extends Yg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hi extends Gu{constructor(){super("facebook.com")}static credential(e){return bo._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";class di extends Gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bo._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return di.credential(n,r)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";class fi extends Gu{constructor(){super("github.com")}static credential(e){return bo._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";class pi extends Gu{constructor(){super("twitter.com")}static credential(e,n){return bo._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pi.credential(n,r)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";async function gD(t,e){return Hu(t,"POST","/v1/accounts:signUp",bs(t,e))}class Po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await gr._fromIdTokenResponse(e,r,i),l=p_(r);return new Po({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=p_(r);return new Po({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function p_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class id extends Xr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,id.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new id(e,n,r,i)}}function Q1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?id._fromErrorAndOperation(t,a,e,r):a})}async function yD(t,e,n=!1){const r=await Ao(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Po._forOperation(t,"link",r)}async function X1(t,e,n=!1){const{auth:r}=t;if(Pn(r.app))return Promise.reject(ws(r));const i="reauthenticate";try{const a=await Ao(t,Q1(r,i,e,t),n);ze(a.idToken,r,"internal-error");const l=qg(a.idToken);ze(l,r,"internal-error");const{sub:h}=l;return ze(t.uid===h,r,"user-mismatch"),Po._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&rr(r,"user-mismatch"),a}}async function J1(t,e,n=!1){if(Pn(t.app))return Promise.reject(ws(t));const r="signIn",i=await Q1(t,r,e),a=await Po._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function vD(t,e){return J1(Ps(t),e)}async function KU(t,e){return X1(pt(t),e)}async function Z1(t){const e=Ps(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YU(t,e,n){const r=Ps(t);await sd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",cD)}async function QU(t,e,n){if(Pn(t.app))return Promise.reject(ws(t));const r=Ps(t),l=await sd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gD).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Z1(t),f}),h=await Po._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(h.user),h}function XU(t,e,n){return Pn(t.app)?Promise.reject(ws(t)):vD(pt(t),Ja.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Z1(t),r})}async function JU(t,e){const n=pt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:a}=await uD(n.auth,i);a!==t.email&&await t.reload()}async function wD(t,e){return Tr(t,"POST","/v1/accounts:update",e)}async function ZU(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=pt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Ao(r,wD(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function e9(t,e){return _D(pt(t),null,e)}async function _D(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const l=await Ao(t,oD(r,a));await t._updateTokensIfNecessary(l,!0)}function TD(t,e,n,r){return pt(t).onIdTokenChanged(e,n,r)}function ED(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function SD(t,e,n,r){return pt(t).onAuthStateChanged(e,n,r)}function eS(t){return pt(t).signOut()}const od="__sak";class tS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(od,"1"),this.storage.removeItem(od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ID=1e3,kD=10;class nS extends tS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);BR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,kD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ID)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nS.type="LOCAL";const CD=nS;class rS extends tS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rS.type="SESSION";const sS=rS;function xD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Bd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(l).map(async p=>p(n.origin,a)),f=await xD(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bd.receivers=[];function Qg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class AD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((h,f)=>{const p=Qg("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(w){const _=w;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(_.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function $r(){return window}function bD(t){$r().location.href=t}function iS(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function PD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RD(){return navigator?.serviceWorker?.controller||null}function DD(){return iS()?self:null}const oS="firebaseLocalStorageDb",ND=1,ad="firebaseLocalStorage",aS="fbase_key";class Ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zd(t,e){return t.transaction([ad],e?"readwrite":"readonly").objectStore(ad)}function VD(){const t=indexedDB.deleteDatabase(oS);return new Ku(t).toPromise()}function Lm(){const t=indexedDB.open(oS,ND);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ad,{keyPath:aS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ad)?e(r):(r.close(),await VD(),e(await Lm()))})})}async function m_(t,e,n){const r=zd(t,!0).put({[aS]:e,value:n});return new Ku(r).toPromise()}async function MD(t,e){const n=zd(t,!1).get(e),r=await new Ku(n).toPromise();return r===void 0?null:r.value}function g_(t,e){const n=zd(t,!0).delete(e);return new Ku(n).toPromise()}const OD=800,LD=3;class lS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>LD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bd._getInstance(DD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PD(),!this.activeServiceWorker)return;this.sender=new AD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lm();return await m_(e,od,"1"),await g_(e,od),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>m_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>MD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>g_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=zd(i,!1).getAll();return new Ku(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lS.type="LOCAL";const FD=lS;new qu(3e4,6e4);function uS(t,e){return e?vs(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Xg extends Gg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ma(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ma(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jD(t){return J1(t.auth,new Xg(t),t.bypassAuthState)}function UD(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),X1(n,new Xg(t),t.bypassAuthState)}async function BD(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),yD(n,new Xg(t),t.bypassAuthState)}class cS{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jD;case"linkViaPopup":case"linkViaRedirect":return BD;case"reauthViaPopup":case"reauthViaRedirect":return UD;default:rr(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zD=new qu(2e3,1e4);async function t9(t,e,n){if(Pn(t.app))return Promise.reject(yr(t,"operation-not-supported-in-this-environment"));const r=Ps(t);TR(t,e,Yg);const i=uS(r,n);return new vo(r,"signInViaPopup",e,i).executeNotNull()}class vo extends cS{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,vo.currentPopupAction&&vo.currentPopupAction.cancel(),vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=Qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zD.get())};e()}}vo.currentPopupAction=null;const $D="pendingRedirect",Oh=new Map;class WD extends cS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Oh.get(this.auth._key());if(!e){try{const r=await qD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Oh.set(this.auth._key(),e)}return this.bypassAuthState||Oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qD(t,e){const n=KD(e),r=GD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function HD(t,e){Oh.set(t._key(),e)}function GD(t){return vs(t._redirectPersistence)}function KD(t){return Mh($D,t.config.apiKey,t.name)}async function YD(t,e,n=!1){if(Pn(t.app))return Promise.reject(ws(t));const r=Ps(t),i=uS(r,e),l=await new WD(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const QD=600*1e3;class XD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!hS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(yr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QD&&this.cachedEventUids.clear(),this.cachedEventUids.has(y_(e))}saveEventToCache(e){this.cachedEventUids.add(y_(e)),this.lastProcessedEventTime=Date.now()}}function y_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function JD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hS(t);default:return!1}}async function ZD(t,e={}){return Tr(t,"GET","/v1/projects",e)}const eN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tN=/^https?/;async function nN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ZD(t);for(const n of e)try{if(rN(n))return}catch{}rr(t,"unauthorized-domain")}function rN(t){const e=Mm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!tN.test(n))return!1;if(eN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const sN=new qu(3e4,6e4);function v_(){const t=$r().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iN(t){return new Promise((e,n)=>{function r(){v_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v_(),n(yr(t,"network-request-failed"))},timeout:sN.get()})}if($r().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if($r().gapi?.load)r();else{const i=QR("iframefcb");return $r()[i]=()=>{gapi.load?r():n(yr(t,"network-request-failed"))},H1(`${YR()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw Lh=null,e})}let Lh=null;function oN(t){return Lh=Lh||iN(t),Lh}const aN=new qu(5e3,15e3),lN="__/auth/iframe",uN="emulator/auth/iframe",cN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dN(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Wg(e,uN):`https://${t.config.authDomain}/${lN}`,r={apiKey:e.apiKey,appName:t.name,v:Xa},i=hN.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Wu(r).slice(1)}`}async function fN(t){const e=await oN(t),n=$r().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:dN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cN,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=yr(t,"network-request-failed"),h=$r().setTimeout(()=>{a(l)},aN.get());function f(){$r().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{a(l)})}))}const pN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mN=500,gN=600,yN="_blank",vN="http://localhost";class w_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wN(t,e,n,r=mN,i=gN){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...pN,width:r.toString(),height:i.toString(),top:a,left:l},p=vn().toLowerCase();n&&(h=j1(p)?yN:n),L1(p)&&(e=e||vN,f.scrollbars="yes");const g=Object.entries(f).reduce((_,[A,O])=>`${_}${A}=${O},`,"");if(UR(p)&&h!=="_self")return _N(e||"",h),new w_(null);const w=window.open(e||"",h,g);ze(w,t,"popup-blocked");try{w.focus()}catch{}return new w_(w)}function _N(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const TN="__/auth/handler",EN="emulator/auth/handler",SN=encodeURIComponent("fac");async function __(t,e,n,r,i,a){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xa,eventId:i};if(e instanceof Yg){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",iP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))l[g]=w}if(e instanceof Gu){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await t._getAppCheckToken(),p=f?`#${SN}=${encodeURIComponent(f)}`:"";return`${IN(t)}?${Wu(h).slice(1)}${p}`}function IN({config:t}){return t.emulator?Wg(t,EN):`https://${t.authDomain}/${TN}`}const Jp="webStorageSupport";class kN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sS,this._completeRedirectFn=YD,this._overrideRedirectResult=HD}async _openPopup(e,n,r,i){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await __(e,n,r,Mm(),i);return wN(e,a,Qg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await __(e,n,r,Mm(),i);return bD(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ss(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fN(e),r=new XD(e);return n.register("authEvent",i=>(ze(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jp,{type:Jp},i=>{const a=i?.[0]?.[Jp];a!==void 0&&n(!!a),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return W1()||F1()||Hg()}}const CN=kN;var T_="@firebase/auth",E_="1.12.0";class xN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function AN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bN(t){xo(new Si("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;ze(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q1(t)},p=new HR(r,i,a,f);return nD(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xo(new Si("auth-internal",e=>{const n=Ps(e.getProvider("auth").getImmediate());return(r=>new xN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(T_,E_,AN(t)),zr(T_,E_,"esm2020")}const PN=300,RN=I1("authIdTokenMaxAge")||PN;let S_=null;const DN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>RN)return;const i=n?.token;S_!==i&&(S_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function NN(t=Bg()){const e=jd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tD(t,{popupRedirectResolver:CN,persistence:[FD,CD,sS]}),r=I1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=DN(a.toString());ED(n,l,()=>l(n.currentUser)),TD(n,h=>l(h))}}const i=T1("auth");return i&&rD(n,`http://${i}`),n}function VN(){return document.getElementsByTagName("head")?.[0]??document}GR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=yr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",VN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bN("Browser");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ti,dS;(function(){var t;function e(k,I){function b(){}b.prototype=I.prototype,k.F=I.prototype,k.prototype=new b,k.prototype.constructor=k,k.D=function(N,V,P){for(var S=Array(arguments.length-2),G=2;G<arguments.length;G++)S[G-2]=arguments[G];return I.prototype[V].apply(N,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,I,b){b||(b=0);const N=Array(16);if(typeof I=="string")for(var V=0;V<16;++V)N[V]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(V=0;V<16;++V)N[V]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=k.g[0],b=k.g[1],V=k.g[2];let P=k.g[3],S;S=I+(P^b&(V^P))+N[0]+3614090360&4294967295,I=b+(S<<7&4294967295|S>>>25),S=P+(V^I&(b^V))+N[1]+3905402710&4294967295,P=I+(S<<12&4294967295|S>>>20),S=V+(b^P&(I^b))+N[2]+606105819&4294967295,V=P+(S<<17&4294967295|S>>>15),S=b+(I^V&(P^I))+N[3]+3250441966&4294967295,b=V+(S<<22&4294967295|S>>>10),S=I+(P^b&(V^P))+N[4]+4118548399&4294967295,I=b+(S<<7&4294967295|S>>>25),S=P+(V^I&(b^V))+N[5]+1200080426&4294967295,P=I+(S<<12&4294967295|S>>>20),S=V+(b^P&(I^b))+N[6]+2821735955&4294967295,V=P+(S<<17&4294967295|S>>>15),S=b+(I^V&(P^I))+N[7]+4249261313&4294967295,b=V+(S<<22&4294967295|S>>>10),S=I+(P^b&(V^P))+N[8]+1770035416&4294967295,I=b+(S<<7&4294967295|S>>>25),S=P+(V^I&(b^V))+N[9]+2336552879&4294967295,P=I+(S<<12&4294967295|S>>>20),S=V+(b^P&(I^b))+N[10]+4294925233&4294967295,V=P+(S<<17&4294967295|S>>>15),S=b+(I^V&(P^I))+N[11]+2304563134&4294967295,b=V+(S<<22&4294967295|S>>>10),S=I+(P^b&(V^P))+N[12]+1804603682&4294967295,I=b+(S<<7&4294967295|S>>>25),S=P+(V^I&(b^V))+N[13]+4254626195&4294967295,P=I+(S<<12&4294967295|S>>>20),S=V+(b^P&(I^b))+N[14]+2792965006&4294967295,V=P+(S<<17&4294967295|S>>>15),S=b+(I^V&(P^I))+N[15]+1236535329&4294967295,b=V+(S<<22&4294967295|S>>>10),S=I+(V^P&(b^V))+N[1]+4129170786&4294967295,I=b+(S<<5&4294967295|S>>>27),S=P+(b^V&(I^b))+N[6]+3225465664&4294967295,P=I+(S<<9&4294967295|S>>>23),S=V+(I^b&(P^I))+N[11]+643717713&4294967295,V=P+(S<<14&4294967295|S>>>18),S=b+(P^I&(V^P))+N[0]+3921069994&4294967295,b=V+(S<<20&4294967295|S>>>12),S=I+(V^P&(b^V))+N[5]+3593408605&4294967295,I=b+(S<<5&4294967295|S>>>27),S=P+(b^V&(I^b))+N[10]+38016083&4294967295,P=I+(S<<9&4294967295|S>>>23),S=V+(I^b&(P^I))+N[15]+3634488961&4294967295,V=P+(S<<14&4294967295|S>>>18),S=b+(P^I&(V^P))+N[4]+3889429448&4294967295,b=V+(S<<20&4294967295|S>>>12),S=I+(V^P&(b^V))+N[9]+568446438&4294967295,I=b+(S<<5&4294967295|S>>>27),S=P+(b^V&(I^b))+N[14]+3275163606&4294967295,P=I+(S<<9&4294967295|S>>>23),S=V+(I^b&(P^I))+N[3]+4107603335&4294967295,V=P+(S<<14&4294967295|S>>>18),S=b+(P^I&(V^P))+N[8]+1163531501&4294967295,b=V+(S<<20&4294967295|S>>>12),S=I+(V^P&(b^V))+N[13]+2850285829&4294967295,I=b+(S<<5&4294967295|S>>>27),S=P+(b^V&(I^b))+N[2]+4243563512&4294967295,P=I+(S<<9&4294967295|S>>>23),S=V+(I^b&(P^I))+N[7]+1735328473&4294967295,V=P+(S<<14&4294967295|S>>>18),S=b+(P^I&(V^P))+N[12]+2368359562&4294967295,b=V+(S<<20&4294967295|S>>>12),S=I+(b^V^P)+N[5]+4294588738&4294967295,I=b+(S<<4&4294967295|S>>>28),S=P+(I^b^V)+N[8]+2272392833&4294967295,P=I+(S<<11&4294967295|S>>>21),S=V+(P^I^b)+N[11]+1839030562&4294967295,V=P+(S<<16&4294967295|S>>>16),S=b+(V^P^I)+N[14]+4259657740&4294967295,b=V+(S<<23&4294967295|S>>>9),S=I+(b^V^P)+N[1]+2763975236&4294967295,I=b+(S<<4&4294967295|S>>>28),S=P+(I^b^V)+N[4]+1272893353&4294967295,P=I+(S<<11&4294967295|S>>>21),S=V+(P^I^b)+N[7]+4139469664&4294967295,V=P+(S<<16&4294967295|S>>>16),S=b+(V^P^I)+N[10]+3200236656&4294967295,b=V+(S<<23&4294967295|S>>>9),S=I+(b^V^P)+N[13]+681279174&4294967295,I=b+(S<<4&4294967295|S>>>28),S=P+(I^b^V)+N[0]+3936430074&4294967295,P=I+(S<<11&4294967295|S>>>21),S=V+(P^I^b)+N[3]+3572445317&4294967295,V=P+(S<<16&4294967295|S>>>16),S=b+(V^P^I)+N[6]+76029189&4294967295,b=V+(S<<23&4294967295|S>>>9),S=I+(b^V^P)+N[9]+3654602809&4294967295,I=b+(S<<4&4294967295|S>>>28),S=P+(I^b^V)+N[12]+3873151461&4294967295,P=I+(S<<11&4294967295|S>>>21),S=V+(P^I^b)+N[15]+530742520&4294967295,V=P+(S<<16&4294967295|S>>>16),S=b+(V^P^I)+N[2]+3299628645&4294967295,b=V+(S<<23&4294967295|S>>>9),S=I+(V^(b|~P))+N[0]+4096336452&4294967295,I=b+(S<<6&4294967295|S>>>26),S=P+(b^(I|~V))+N[7]+1126891415&4294967295,P=I+(S<<10&4294967295|S>>>22),S=V+(I^(P|~b))+N[14]+2878612391&4294967295,V=P+(S<<15&4294967295|S>>>17),S=b+(P^(V|~I))+N[5]+4237533241&4294967295,b=V+(S<<21&4294967295|S>>>11),S=I+(V^(b|~P))+N[12]+1700485571&4294967295,I=b+(S<<6&4294967295|S>>>26),S=P+(b^(I|~V))+N[3]+2399980690&4294967295,P=I+(S<<10&4294967295|S>>>22),S=V+(I^(P|~b))+N[10]+4293915773&4294967295,V=P+(S<<15&4294967295|S>>>17),S=b+(P^(V|~I))+N[1]+2240044497&4294967295,b=V+(S<<21&4294967295|S>>>11),S=I+(V^(b|~P))+N[8]+1873313359&4294967295,I=b+(S<<6&4294967295|S>>>26),S=P+(b^(I|~V))+N[15]+4264355552&4294967295,P=I+(S<<10&4294967295|S>>>22),S=V+(I^(P|~b))+N[6]+2734768916&4294967295,V=P+(S<<15&4294967295|S>>>17),S=b+(P^(V|~I))+N[13]+1309151649&4294967295,b=V+(S<<21&4294967295|S>>>11),S=I+(V^(b|~P))+N[4]+4149444226&4294967295,I=b+(S<<6&4294967295|S>>>26),S=P+(b^(I|~V))+N[11]+3174756917&4294967295,P=I+(S<<10&4294967295|S>>>22),S=V+(I^(P|~b))+N[2]+718787259&4294967295,V=P+(S<<15&4294967295|S>>>17),S=b+(P^(V|~I))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(V+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+P&4294967295}r.prototype.v=function(k,I){I===void 0&&(I=k.length);const b=I-this.blockSize,N=this.C;let V=this.h,P=0;for(;P<I;){if(V==0)for(;P<=b;)i(this,k,P),P+=this.blockSize;if(typeof k=="string"){for(;P<I;)if(N[V++]=k.charCodeAt(P++),V==this.blockSize){i(this,N),V=0;break}}else for(;P<I;)if(N[V++]=k[P++],V==this.blockSize){i(this,N),V=0;break}}this.h=V,this.o+=I},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;I=this.o*8;for(var b=k.length-8;b<k.length;++b)k[b]=I&255,I/=256;for(this.v(k),k=Array(16),I=0,b=0;b<4;++b)for(let N=0;N<32;N+=8)k[I++]=this.g[b]>>>N&255;return k};function a(k,I){var b=h;return Object.prototype.hasOwnProperty.call(b,k)?b[k]:b[k]=I(k)}function l(k,I){this.h=I;const b=[];let N=!0;for(let V=k.length-1;V>=0;V--){const P=k[V]|0;N&&P==I||(b[V]=P,N=!1)}this.g=b}var h={};function f(k){return-128<=k&&k<128?a(k,function(I){return new l([I|0],I<0?-1:0)}):new l([k|0],k<0?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return w;if(k<0)return L(p(-k));const I=[];let b=1;for(let N=0;k>=b;N++)I[N]=k/b|0,b*=4294967296;return new l(I,0)}function g(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return L(g(k.substring(1),I));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=p(Math.pow(I,8));let N=w;for(let P=0;P<k.length;P+=8){var V=Math.min(8,k.length-P);const S=parseInt(k.substring(P,P+V),I);V<8?(V=p(Math.pow(I,V)),N=N.j(V).add(p(S))):(N=N.j(b),N=N.add(p(S)))}return N}var w=f(0),_=f(1),A=f(16777216);t=l.prototype,t.m=function(){if(M(this))return-L(this).m();let k=0,I=1;for(let b=0;b<this.g.length;b++){const N=this.i(b);k+=(N>=0?N:4294967296+N)*I,I*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(O(this))return"0";if(M(this))return"-"+L(this).toString(k);const I=p(Math.pow(k,6));var b=this;let N="";for(;;){const V=ie(b,I).g;b=B(b,V.j(I));let P=((b.g.length>0?b.g[0]:b.h)>>>0).toString(k);if(b=V,O(b))return P+N;for(;P.length<6;)P="0"+P;N=P+N}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function O(k){if(k.h!=0)return!1;for(let I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function M(k){return k.h==-1}t.l=function(k){return k=B(this,k),M(k)?-1:O(k)?0:1};function L(k){const I=k.g.length,b=[];for(let N=0;N<I;N++)b[N]=~k.g[N];return new l(b,~k.h).add(_)}t.abs=function(){return M(this)?L(this):this},t.add=function(k){const I=Math.max(this.g.length,k.g.length),b=[];let N=0;for(let V=0;V<=I;V++){let P=N+(this.i(V)&65535)+(k.i(V)&65535),S=(P>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);N=S>>>16,P&=65535,S&=65535,b[V]=S<<16|P}return new l(b,b[b.length-1]&-2147483648?-1:0)};function B(k,I){return k.add(L(I))}t.j=function(k){if(O(this)||O(k))return w;if(M(this))return M(k)?L(this).j(L(k)):L(L(this).j(k));if(M(k))return L(this.j(L(k)));if(this.l(A)<0&&k.l(A)<0)return p(this.m()*k.m());const I=this.g.length+k.g.length,b=[];for(var N=0;N<2*I;N++)b[N]=0;for(N=0;N<this.g.length;N++)for(let V=0;V<k.g.length;V++){const P=this.i(N)>>>16,S=this.i(N)&65535,G=k.i(V)>>>16,z=k.i(V)&65535;b[2*N+2*V]+=S*z,q(b,2*N+2*V),b[2*N+2*V+1]+=P*z,q(b,2*N+2*V+1),b[2*N+2*V+1]+=S*G,q(b,2*N+2*V+1),b[2*N+2*V+2]+=P*G,q(b,2*N+2*V+2)}for(k=0;k<I;k++)b[k]=b[2*k+1]<<16|b[2*k];for(k=I;k<2*I;k++)b[k]=0;return new l(b,0)};function q(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function U(k,I){this.g=k,this.h=I}function ie(k,I){if(O(I))throw Error("division by zero");if(O(k))return new U(w,w);if(M(k))return I=ie(L(k),I),new U(L(I.g),L(I.h));if(M(I))return I=ie(k,L(I)),new U(L(I.g),I.h);if(k.g.length>30){if(M(k)||M(I))throw Error("slowDivide_ only works with positive integers.");for(var b=_,N=I;N.l(k)<=0;)b=F(b),N=F(N);var V=X(b,1),P=X(N,1);for(N=X(N,2),b=X(b,2);!O(N);){var S=P.add(N);S.l(k)<=0&&(V=V.add(b),P=S),N=X(N,1),b=X(b,1)}return I=B(k,V.j(I)),new U(V,I)}for(V=w;k.l(I)>=0;){for(b=Math.max(1,Math.floor(k.m()/I.m())),N=Math.ceil(Math.log(b)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),P=p(b),S=P.j(I);M(S)||S.l(k)>0;)b-=N,P=p(b),S=P.j(I);O(P)&&(P=_),V=V.add(P),k=B(k,S)}return new U(V,k)}t.B=function(k){return ie(this,k).h},t.and=function(k){const I=Math.max(this.g.length,k.g.length),b=[];for(let N=0;N<I;N++)b[N]=this.i(N)&k.i(N);return new l(b,this.h&k.h)},t.or=function(k){const I=Math.max(this.g.length,k.g.length),b=[];for(let N=0;N<I;N++)b[N]=this.i(N)|k.i(N);return new l(b,this.h|k.h)},t.xor=function(k){const I=Math.max(this.g.length,k.g.length),b=[];for(let N=0;N<I;N++)b[N]=this.i(N)^k.i(N);return new l(b,this.h^k.h)};function F(k){const I=k.g.length+1,b=[];for(let N=0;N<I;N++)b[N]=k.i(N)<<1|k.i(N-1)>>>31;return new l(b,k.h)}function X(k,I){const b=I>>5;I%=32;const N=k.g.length-b,V=[];for(let P=0;P<N;P++)V[P]=I>0?k.i(P+b)>>>I|k.i(P+b+1)<<32-I:k.i(P+b);return new l(V,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Ti=l}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fS,uu,pS,Fh,Fm,mS,gS,yS;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eh=="object"&&Eh];for(var v=0;v<c.length;++v){var T=c[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(c,v){if(v)e:{var T=r;c=c.split(".");for(var x=0;x<c.length-1;x++){var Y=c[x];if(!(Y in T))break e;T=T[Y]}c=c[c.length-1],x=T[c],v=v(x),v!=x&&v!=null&&e(T,c,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(v){var T=[],x;for(x in v)Object.prototype.hasOwnProperty.call(v,x)&&T.push([x,v[x]]);return T}});var a=a||{},l=this||self;function h(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function f(c,v,T){return c.call.apply(c.bind,arguments)}function p(c,v,T){return p=f,p.apply(null,arguments)}function g(c,v){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function w(c,v){function T(){}T.prototype=v.prototype,c.Z=v.prototype,c.prototype=new T,c.prototype.constructor=c,c.Ob=function(x,Y,ee){for(var we=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)we[Ge-2]=arguments[Ge];return v.prototype[Y].apply(x,we)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function A(c){const v=c.length;if(v>0){const T=Array(v);for(let x=0;x<v;x++)T[x]=c[x];return T}return[]}function O(c,v){for(let x=1;x<arguments.length;x++){const Y=arguments[x];var T=typeof Y;if(T=T!="object"?T:Y?Array.isArray(Y)?"array":T:"null",T=="array"||T=="object"&&typeof Y.length=="number"){T=c.length||0;const ee=Y.length||0;c.length=T+ee;for(let we=0;we<ee;we++)c[T+we]=Y[we]}else c.push(Y)}}class M{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(c){l.setTimeout(()=>{throw c},0)}function B(){var c=k;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class q{constructor(){this.h=this.g=null}add(v,T){const x=U.get();x.set(v,T),this.h?this.h.next=x:this.g=x,this.h=x}}var U=new M(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let F,X=!1,k=new q,I=()=>{const c=Promise.resolve(void 0);F=()=>{c.then(b)}};function b(){for(var c;c=B();){try{c.h.call(c.g)}catch(T){L(T)}var v=U;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}X=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const T=()=>{};l.addEventListener("test",T,v),l.removeEventListener("test",T,v)}catch{}return c})();function S(c){return/^[\s\xa0]*$/.test(c)}function G(c,v){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}w(G,V),G.prototype.init=function(c,v){const T=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(T=="mouseover"?v=c.fromElement:T=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var z="closure_listenable_"+(Math.random()*1e6|0),he=0;function ae(c,v,T,x,Y){this.listener=c,this.proxy=null,this.src=v,this.type=T,this.capture=!!x,this.ha=Y,this.key=++he,this.da=this.fa=!1}function H(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function se(c,v,T){for(const x in c)v.call(T,c[x],x,c)}function ce(c,v){for(const T in c)v.call(void 0,c[T],T,c)}function $(c){const v={};for(const T in c)v[T]=c[T];return v}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ie(c,v){let T,x;for(let Y=1;Y<arguments.length;Y++){x=arguments[Y];for(T in x)c[T]=x[T];for(let ee=0;ee<ne.length;ee++)T=ne[ee],Object.prototype.hasOwnProperty.call(x,T)&&(c[T]=x[T])}}function re(c){this.src=c,this.g={},this.h=0}re.prototype.add=function(c,v,T,x,Y){const ee=c.toString();c=this.g[ee],c||(c=this.g[ee]=[],this.h++);const we=J(c,v,x,Y);return we>-1?(v=c[we],T||(v.fa=!1)):(v=new ae(v,this.src,ee,!!x,Y),v.fa=T,c.push(v)),v};function te(c,v){const T=v.type;if(T in c.g){var x=c.g[T],Y=Array.prototype.indexOf.call(x,v,void 0),ee;(ee=Y>=0)&&Array.prototype.splice.call(x,Y,1),ee&&(H(v),c.g[T].length==0&&(delete c.g[T],c.h--))}}function J(c,v,T,x){for(let Y=0;Y<c.length;++Y){const ee=c[Y];if(!ee.da&&ee.listener==v&&ee.capture==!!T&&ee.ha==x)return Y}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),ve={};function le(c,v,T,x,Y){if(Array.isArray(v)){for(let ee=0;ee<v.length;ee++)le(c,v[ee],T,x,Y);return null}return T=qe(T),c&&c[z]?c.J(v,T,h(x)?!!x.capture:!1,Y):Oe(c,v,T,!1,x,Y)}function Oe(c,v,T,x,Y,ee){if(!v)throw Error("Invalid event type");const we=h(Y)?!!Y.capture:!!Y;let Ge=Se(c);if(Ge||(c[pe]=Ge=new re(c)),T=Ge.add(v,T,x,we,ee),T.proxy)return T;if(x=Qe(),T.proxy=x,x.src=c,x.listener=T,c.addEventListener)P||(Y=we),Y===void 0&&(Y=!1),c.addEventListener(v.toString(),x,Y);else if(c.attachEvent)c.attachEvent(ge(v.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Qe(){function c(T){return v.call(c.src,c.listener,T)}const v=_e;return c}function Le(c,v,T,x,Y){if(Array.isArray(v))for(var ee=0;ee<v.length;ee++)Le(c,v[ee],T,x,Y);else x=h(x)?!!x.capture:!!x,T=qe(T),c&&c[z]?(c=c.i,ee=String(v).toString(),ee in c.g&&(v=c.g[ee],T=J(v,T,x,Y),T>-1&&(H(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete c.g[ee],c.h--)))):c&&(c=Se(c))&&(v=c.g[v.toString()],c=-1,v&&(c=J(v,T,x,Y)),(T=c>-1?v[c]:null)&&_t(T))}function _t(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[z])te(v.i,c);else{var T=c.type,x=c.proxy;v.removeEventListener?v.removeEventListener(T,x,c.capture):v.detachEvent?v.detachEvent(ge(T),x):v.addListener&&v.removeListener&&v.removeListener(x),(T=Se(v))?(te(T,c),T.h==0&&(T.src=null,v[pe]=null)):H(c)}}}function ge(c){return c in ve?ve[c]:ve[c]="on"+c}function _e(c,v){if(c.da)c=!0;else{v=new G(v,this);const T=c.listener,x=c.ha||c.src;c.fa&&_t(c),c=T.call(x,v)}return c}function Se(c){return c=c[pe],c instanceof re?c:null}var Ee="__closure_events_fn_"+(Math.random()*1e9>>>0);function qe(c){return typeof c=="function"?c:(c[Ee]||(c[Ee]=function(v){return c.handleEvent(v)}),c[Ee])}function Ce(){N.call(this),this.i=new re(this),this.M=this,this.G=null}w(Ce,N),Ce.prototype[z]=!0,Ce.prototype.removeEventListener=function(c,v,T,x){Le(this,c,v,T,x)};function Pe(c,v){var T,x=c.G;if(x)for(T=[];x;x=x.G)T.push(x);if(c=c.M,x=v.type||v,typeof v=="string")v=new V(v,c);else if(v instanceof V)v.target=v.target||c;else{var Y=v;v=new V(x,c),Ie(v,Y)}Y=!0;let ee,we;if(T)for(we=T.length-1;we>=0;we--)ee=v.g=T[we],Y=Ye(ee,x,!0,v)&&Y;if(ee=v.g=c,Y=Ye(ee,x,!0,v)&&Y,Y=Ye(ee,x,!1,v)&&Y,T)for(we=0;we<T.length;we++)ee=v.g=T[we],Y=Ye(ee,x,!1,v)&&Y}Ce.prototype.N=function(){if(Ce.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const T=c.g[v];for(let x=0;x<T.length;x++)H(T[x]);delete c.g[v],c.h--}}this.G=null},Ce.prototype.J=function(c,v,T,x){return this.i.add(String(c),v,!1,T,x)},Ce.prototype.K=function(c,v,T,x){return this.i.add(String(c),v,!0,T,x)};function Ye(c,v,T,x){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let Y=!0;for(let ee=0;ee<v.length;++ee){const we=v[ee];if(we&&!we.da&&we.capture==T){const Ge=we.listener,Dt=we.ha||we.src;we.fa&&te(c.i,we),Y=Ge.call(Dt,x)!==!1&&Y}}return Y&&!x.defaultPrevented}function Fi(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:l.setTimeout(c,v||0)}function ul(c){c.g=Fi(()=>{c.g=null,c.i&&(c.i=!1,ul(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class oc extends N{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ul(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(c){N.call(this),this.h=c,this.g={}}w(Ds,N);var cl=[];function Fo(c){se(c.g,function(v,T){this.g.hasOwnProperty(T)&&_t(v)},c),c.g={}}Ds.prototype.N=function(){Ds.Z.N.call(this),Fo(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ns=l.JSON.stringify,ac=l.JSON.parse,ji=class{stringify(c){return l.JSON.stringify(c,void 0)}parse(c){return l.JSON.parse(c,void 0)}};function Vs(){}function lc(){}var Ms={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jo(){V.call(this,"d")}w(jo,V);function hl(){V.call(this,"c")}w(hl,V);var sr={},Uo=null;function Os(){return Uo=Uo||new Ce}sr.Ia="serverreachability";function Bo(c){V.call(this,sr.Ia,c)}w(Bo,V);function Jr(c){const v=Os();Pe(v,new Bo(v))}sr.STAT_EVENT="statevent";function Zr(c,v){V.call(this,sr.STAT_EVENT,c),this.stat=v}w(Zr,V);function xt(c){const v=Os();Pe(v,new Zr(v,c))}sr.Ja="timingevent";function dl(c,v){V.call(this,sr.Ja,c),this.size=v}w(dl,V);function Ls(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){c()},v)}function Fs(){this.g=!0}Fs.prototype.ua=function(){this.g=!1};function uc(c,v,T,x,Y,ee){c.info(function(){if(c.g)if(ee){var we="",Ge=ee.split("&");for(let lt=0;lt<Ge.length;lt++){var Dt=Ge[lt].split("=");if(Dt.length>1){const Lt=Dt[0];Dt=Dt[1];const jn=Lt.split("_");we=jn.length>=2&&jn[1]=="type"?we+(Lt+"="+Dt+"&"):we+(Lt+"=redacted&")}}}else we=null;else we=ee;return"XMLHTTP REQ ("+x+") [attempt "+Y+"]: "+v+`
`+T+`
`+we})}function cc(c,v,T,x,Y,ee,we){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+Y+"]: "+v+`
`+T+`
`+ee+" "+we})}function Er(c,v,T,x){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ui(c,T)+(x?" "+x:"")})}function hc(c,v){c.info(function(){return"TIMEOUT: "+v})}Fs.prototype.info=function(){};function Ui(c,v){if(!c.g)return v;if(!v)return null;try{const ee=JSON.parse(v);if(ee){for(c=0;c<ee.length;c++)if(Array.isArray(ee[c])){var T=ee[c];if(!(T.length<2)){var x=T[1];if(Array.isArray(x)&&!(x.length<1)){var Y=x[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let we=1;we<x.length;we++)x[we]=""}}}}return Ns(ee)}catch{return v}}var js={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Us={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dc;function es(){}w(es,Vs),es.prototype.g=function(){return new XMLHttpRequest},dc=new es;function Sr(c){return encodeURIComponent(String(c))}function zo(c){var v=1;c=c.split(":");const T=[];for(;v>0&&c.length;)T.push(c.shift()),v--;return c.length&&T.push(c.join(":")),T}function Wn(c,v,T,x){this.j=c,this.i=v,this.l=T,this.S=x||1,this.V=new Ds(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fc}function fc(){this.i=null,this.g="",this.h=!1}var pc={},fl={};function ir(c,v,T){c.M=1,c.A=ns(qn(v)),c.u=T,c.R=!0,pl(c,null)}function pl(c,v){c.F=Date.now(),Bi(c),c.B=qn(c.A);var T=c.B,x=c.S;Array.isArray(x)||(x=[String(x)]),Il(T.i,"t",x),c.C=0,T=c.j.L,c.h=new fc,c.g=Ic(c.j,T?v:null,!c.u),c.P>0&&(c.O=new oc(p(c.Y,c,c.g),c.P)),v=c.V,T=c.g,x=c.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(cl[0]=Y.toString()),Y=cl);for(let ee=0;ee<Y.length;ee++){const we=le(T,Y[ee],x||v.handleEvent,!1,v.h||v);if(!we)break;v.g[we.key]=we}v=c.J?$(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),Jr(),uc(c.i,c.v,c.B,c.l,c.S,c.u)}Wn.prototype.ba=function(c){c=c.target;const v=this.O;v&&Pr(c)==3?v.j():this.Y(c)},Wn.prototype.Y=function(c){try{if(c==this.g)e:{const Ge=Pr(this.g),Dt=this.g.ya(),lt=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||Ec(this.g)))){this.K||Ge!=4||Dt==7||(Dt==8||lt<=0?Jr(3):Jr(2)),$o(this);var v=this.g.ca();this.X=v;var T=mc(this);if(this.o=v==200,cc(this.i,this.v,this.B,this.l,this.S,Ge,v),this.o){if(this.U&&!this.L){t:{if(this.g){var x,Y=this.g;if((x=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(x)){var ee=x;break t}}ee=null}if(c=ee)Er(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mt(this,c);else{this.o=!1,this.m=3,xt(12),ts(this),zi(this);break e}}if(this.R){c=!0;let Lt;for(;!this.K&&this.C<T.length;)if(Lt=yc(this,T),Lt==fl){Ge==4&&(this.m=4,xt(14),c=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==pc){this.m=4,xt(15),Er(this.i,this.l,T,"[Invalid Chunk]"),c=!1;break}else Er(this.i,this.l,Lt,null),mt(this,Lt);if(gc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||T.length!=0||this.h.h||(this.m=1,xt(16),c=!1),this.o=this.o&&c,!c)Er(this.i,this.l,T,"[Invalid Chunked Response]"),ts(this),zi(this);else if(T.length>0&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.aa&&!we.P&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Xi(we),we.P=!0,xt(11))}}else Er(this.i,this.l,T,null),mt(this,T);Ge==4&&ts(this),this.o&&!this.K&&(Ge==4?Zo(this.j,this):(this.o=!1,Bi(this)))}else Cl(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),ts(this),zi(this)}}}catch{}};function mc(c){if(!gc(c))return c.g.la();const v=Ec(c.g);if(v==="")return"";let T="";const x=v.length,Y=Pr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ts(c),zi(c),"";c.h.i=new l.TextDecoder}for(let ee=0;ee<x;ee++)c.h.h=!0,T+=c.h.i.decode(v[ee],{stream:!(Y&&ee==x-1)});return v.length=0,c.h.g+=T,c.C=0,c.h.g}function gc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function yc(c,v){var T=c.C,x=v.indexOf(`
`,T);return x==-1?fl:(T=Number(v.substring(T,x)),isNaN(T)?pc:(x+=1,x+T>v.length?fl:(v=v.slice(x,x+T),c.C=x+T,v)))}Wn.prototype.cancel=function(){this.K=!0,ts(this)};function Bi(c){c.T=Date.now()+c.H,ml(c,c.H)}function ml(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ls(p(c.aa,c),v)}function $o(c){c.D&&(l.clearTimeout(c.D),c.D=null)}Wn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(hc(this.i,this.B),this.M!=2&&(Jr(),xt(17)),ts(this),this.m=2,zi(this)):ml(this,this.T-c)};function zi(c){c.j.I==0||c.K||Zo(c.j,c)}function ts(c){$o(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,Fo(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function mt(c,v){try{var T=c.j;if(T.I!=0&&(T.g==c||yl(T.h,c))){if(!c.L&&yl(T.h,c)&&T.I==3){try{var x=T.Ba.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var Y=x;if(Y[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<c.F)Jo(T),Ln(T);else break e;Nr(T),xt(18)}}else T.xa=Y[1],0<T.xa-T.K&&Y[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ls(p(T.Va,T),6e3));$i(T.h)<=1&&T.ta&&(T.ta=void 0)}else Fn(T,11)}else if((c.L||T.g==c)&&Jo(T),!S(v))for(Y=T.Ba.g.parse(v),v=0;v<Y.length;v++){let lt=Y[v];const Lt=lt[0];if(!(Lt<=T.K))if(T.K=Lt,lt=lt[1],T.I==2)if(lt[0]=="c"){T.M=lt[1],T.ba=lt[2];const jn=lt[3];jn!=null&&(T.ka=jn,T.j.info("VER="+T.ka));const as=lt[4];as!=null&&(T.za=as,T.j.info("SVER="+T.za));const Vr=lt[5];Vr!=null&&typeof Vr=="number"&&Vr>0&&(x=1.5*Vr,T.O=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const Mr=c.g;if(Mr){const na=Mr.g?Mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var ee=x.h;ee.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(qo(ee,ee.h),ee.h=null))}if(x.G){const bl=Mr.g?Mr.g.getResponseHeader("X-HTTP-Session-Id"):null;bl&&(x.wa=bl,ot(x.J,x.G,bl))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-c.F,T.j.info("Handshake RTT: "+T.T+"ms")),x=T;var we=c;if(x.na=Al(x,x.L?x.ba:null,x.W),we.L){Wi(x.h,we);var Ge=we,Dt=x.O;Dt&&(Ge.H=Dt),Ge.D&&($o(Ge),Bi(Ge)),x.g=we}else ln(x);T.i.length>0&&os(T)}else lt[0]!="stop"&&lt[0]!="close"||Fn(T,7);else T.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Fn(T,7):Qo(T):lt[0]!="noop"&&T.l&&T.l.qa(lt),T.A=0)}}Jr(4)}catch{}}var yf=class{constructor(c,v){this.g=c,this.map=v}};function Wo(c){this.l=c||10,l.PerformanceNavigationTiming?(c=l.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $i(c){return c.h?1:c.g?c.g.size:0}function yl(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function qo(c,v){c.g?c.g.add(v):c.h=v}function Wi(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Wo.prototype.cancel=function(){if(this.i=Vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const T of c.g.values())v=v.concat(T.G);return v}return A(c.i)}var vc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mn(c,v){if(c){c=c.split("&");for(let T=0;T<c.length;T++){const x=c[T].indexOf("=");let Y,ee=null;x>=0?(Y=c[T].substring(0,x),ee=c[T].substring(x+1)):Y=c[T],v(Y,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Ir(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof Ir?(this.l=c.l,qi(this,c.j),this.o=c.o,this.g=c.g,kr(this,c.u),this.h=c.h,Bs(this,kl(c.i)),this.m=c.m):c&&(v=String(c).match(vc))?(this.l=!1,qi(this,v[1]||"",!0),this.o=Hi(v[2]||""),this.g=Hi(v[3]||"",!0),kr(this,v[4]),this.h=Hi(v[5]||"",!0),Bs(this,v[6]||"",!0),this.m=Hi(v[7]||"")):(this.l=!1,this.i=new nt(null,this.l))}Ir.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(Gi(v,wl,!0),":");var T=this.g;return(T||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Gi(v,wl,!0),"@"),c.push(Sr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&c.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&c.push("/"),c.push(Gi(T,T.charAt(0)=="/"?Ki:_l,!0))),(T=this.i.toString())&&c.push("?",T),(T=this.m)&&c.push("#",Gi(T,Tl)),c.join("")},Ir.prototype.resolve=function(c){const v=qn(this);let T=!!c.j;T?qi(v,c.j):T=!!c.o,T?v.o=c.o:T=!!c.g,T?v.g=c.g:T=c.u!=null;var x=c.h;if(T)kr(v,c.u);else if(T=!!c.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var Y=v.h.lastIndexOf("/");Y!=-1&&(x=v.h.slice(0,Y+1)+x)}if(Y=x,Y==".."||Y==".")x="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){x=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ee=[];for(let we=0;we<Y.length;){const Ge=Y[we++];Ge=="."?x&&we==Y.length&&ee.push(""):Ge==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),x&&we==Y.length&&ee.push("")):(ee.push(Ge),x=!0)}x=ee.join("/")}else x=Y}return T?v.h=x:T=c.i.toString()!=="",T?Bs(v,kl(c.i)):T=!!c.m,T&&(v.m=c.m),v};function qn(c){return new Ir(c)}function qi(c,v,T){c.j=T?Hi(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function kr(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function Bs(c,v,T){v instanceof nt?(c.i=v,Go(c.i,c.l)):(T||(v=Gi(v,vf)),c.i=new nt(v,c.l))}function ot(c,v,T){c.i.set(v,T)}function ns(c){return ot(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Hi(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Gi(c,v,T){return typeof c=="string"?(c=encodeURI(c).replace(v,vl),T&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wl=/[#\/\?@]/g,_l=/[#\?:]/g,Ki=/[#\?]/g,vf=/[#\?@]/g,Tl=/#/g;function nt(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Cr(c){c.g||(c.g=new Map,c.h=0,c.i&&Mn(c.i,function(v,T){c.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=nt.prototype,t.add=function(c,v){Cr(this),this.i=null,c=xr(this,c);let T=this.g.get(c);return T||this.g.set(c,T=[]),T.push(v),this.h+=1,this};function El(c,v){Cr(c),v=xr(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Ho(c,v){return Cr(c),v=xr(c,v),c.g.has(v)}t.forEach=function(c,v){Cr(this),this.g.forEach(function(T,x){T.forEach(function(Y){c.call(v,Y,x,this)},this)},this)};function Sl(c,v){Cr(c);let T=[];if(typeof v=="string")Ho(c,v)&&(T=T.concat(c.g.get(xr(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)T=T.concat(c[v]);return T}t.set=function(c,v){return Cr(this),this.i=null,c=xr(this,c),Ho(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},t.get=function(c,v){return c?(c=Sl(this,c),c.length>0?String(c[0]):v):v};function Il(c,v,T){El(c,v),T.length>0&&(c.i=null,c.g.set(xr(c,v),A(T)),c.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let x=0;x<v.length;x++){var T=v[x];const Y=Sr(T);T=Sl(this,T);for(let ee=0;ee<T.length;ee++){let we=Y;T[ee]!==""&&(we+="="+Sr(T[ee])),c.push(we)}}return this.i=c.join("&")};function kl(c){const v=new nt;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function xr(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Go(c,v){v&&!c.j&&(Cr(c),c.i=null,c.g.forEach(function(T,x){const Y=x.toLowerCase();x!=Y&&(El(this,x),Il(this,Y,T))},c)),c.j=v}function Ar(c,v){const T=new Fs;if(l.Image){const x=new Image;x.onload=g(Zt,T,"TestLoadImage: loaded",!0,v,x),x.onerror=g(Zt,T,"TestLoadImage: error",!1,v,x),x.onabort=g(Zt,T,"TestLoadImage: abort",!1,v,x),x.ontimeout=g(Zt,T,"TestLoadImage: timeout",!1,v,x),l.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else v(!1)}function br(c,v){const T=new Fs,x=new AbortController,Y=setTimeout(()=>{x.abort(),Zt(T,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:x.signal}).then(ee=>{clearTimeout(Y),ee.ok?Zt(T,"TestPingServer: ok",!0,v):Zt(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Y),Zt(T,"TestPingServer: error",!1,v)})}function Zt(c,v,T,x,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),x(T)}catch{}}function Yi(){this.g=new ji}function rs(c){this.i=c.Sb||null,this.h=c.ab||!1}w(rs,Vs),rs.prototype.g=function(){return new On(this.i,this.h)};function On(c,v){Ce.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(On,Ce),t=On.prototype,t.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,or(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||l).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wc(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function wc(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?zs(this):or(this),this.readyState==3&&wc(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,zs(this))},t.Na=function(c){this.g&&(this.response=c,zs(this))},t.ga=function(){this.g&&zs(this)};function zs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,or(c)}t.setRequestHeader=function(c,v){this.A.append(c,v)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,c.push(T[0]+": "+T[1]),T=v.next();return c.join(`\r
`)};function or(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(On.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _c(c){let v="";return se(c,function(T,x){v+=x,v+=":",v+=T,v+=`\r
`}),v}function Ko(c,v,T){e:{for(x in T){var x=!1;break e}x=!0}x||(T=_c(T),typeof c=="string"?T!=null&&Sr(T):ot(c,v,T))}function ht(c){Ce.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ht,Ce);var Tc=/^https?$/i,wf=["POST","PUT"];t=ht.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,v,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dc.g(),this.g.onreadystatechange=_(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(ee){$s(this,ee);return}if(c=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var Y in x)T.set(Y,x[Y]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const ee of x.keys())T.set(ee,x.get(ee));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=l.FormData&&c instanceof l.FormData,!(Array.prototype.indexOf.call(wf,v,void 0)>=0)||x||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,we]of T)this.g.setRequestHeader(ee,we);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(ee){$s(this,ee)}};function $s(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,Ws(c),is(c)}function Ws(c){c.A||(c.A=!0,Pe(c,"complete"),Pe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Pe(this,"complete"),Pe(this,"abort"),is(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),ht.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ss(this):this.Xa())},t.Xa=function(){ss(this)};function ss(c){if(c.h&&typeof a<"u"){if(c.v&&Pr(c)==4)setTimeout(c.Ca.bind(c),0);else if(Pe(c,"readystatechange"),Pr(c)==4){c.h=!1;try{const ee=c.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var x;if(x=ee===0){let we=String(c.D).match(vc)[1]||null;!we&&l.self&&l.self.location&&(we=l.self.location.protocol.slice(0,-1)),x=!Tc.test(we?we.toLowerCase():"")}T=x}if(T)Pe(c,"complete"),Pe(c,"success");else{c.o=6;try{var Y=Pr(c)>2?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.ca()+"]",Ws(c)}}finally{is(c)}}}}function is(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const T=c.g;c.g=null,v||Pe(c,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Pr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Pr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),ac(v)}};function Ec(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Cl(c){const v={};c=(c.g&&Pr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(S(c[x]))continue;var T=zo(c[x]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ee=v[Y]||[];v[Y]=ee,ee.push(T)}ce(v,function(x){return x.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(c,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[c]||v}function Yo(c){this.za=0,this.i=[],this.j=new Fs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rr("baseRetryDelayMs",5e3,c),this.Za=Rr("retryDelaySeedMs",1e4,c),this.Ta=Rr("forwardChannelMaxRetries",2,c),this.va=Rr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Wo(c&&c.concurrentRequestLimit),this.Ba=new Yi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Yo.prototype,t.ka=8,t.I=1,t.connect=function(c,v,T,x){xt(0),this.W=c,this.H=v||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.J=Al(this,null,this.W),os(this)};function Qo(c){if(Xo(c),c.I==3){var v=c.V++,T=qn(c.J);if(ot(T,"SID",c.M),ot(T,"RID",v),ot(T,"TYPE","terminate"),Dr(c,T),v=new Wn(c,c.j,v),v.M=2,v.A=ns(qn(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&l.Image&&(new Image().src=v.A,T=!0),T||(v.g=Ic(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Bi(v)}Ji(c)}function Ln(c){c.g&&(Xi(c),c.g.cancel(),c.g=null)}function Xo(c){Ln(c),c.v&&(l.clearTimeout(c.v),c.v=null),Jo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&l.clearTimeout(c.m),c.m=null)}function os(c){if(!gl(c.h)&&!c.m){c.m=!0;var v=c.Ea;F||I(),X||(F(),X=!0),k.add(v,c),c.D=0}}function Sc(c,v){return $i(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ls(p(c.Ea,c,v),ea(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const Y=new Wn(this,this.j,c);let ee=this.o;if(this.U&&(ee?(ee=$(ee),Ie(ee,this.U)):ee=this.U),this.u!==null||this.R||(Y.J=ee,ee=null),this.S)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,v>4096){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=xl(this,Y,v),T=qn(this.J),ot(T,"RID",c),ot(T,"CVER",22),this.G&&ot(T,"X-HTTP-Session-Id",this.G),Dr(this,T),ee&&(this.R?v="headers="+Sr(_c(ee))+"&"+v:this.u&&Ko(T,this.u,ee)),qo(this.h,Y),this.Ra&&ot(T,"TYPE","init"),this.S?(ot(T,"$req",v),ot(T,"SID","null"),Y.U=!0,ir(Y,T,null)):ir(Y,T,v),this.I=2}}else this.I==3&&(c?Qi(this,c):this.i.length==0||gl(this.h)||Qi(this))};function Qi(c,v){var T;v?T=v.l:T=c.V++;const x=qn(c.J);ot(x,"SID",c.M),ot(x,"RID",T),ot(x,"AID",c.K),Dr(c,x),c.u&&c.o&&Ko(x,c.u,c.o),T=new Wn(c,c.j,T,c.D+1),c.u===null&&(T.J=c.o),v&&(c.i=v.G.concat(c.i)),v=xl(c,T,1e3),T.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),qo(c.h,T),ir(T,x,v)}function Dr(c,v){c.H&&se(c.H,function(T,x){ot(v,x,T)}),c.l&&se({},function(T,x){ot(v,x,T)})}function xl(c,v,T){T=Math.min(c.i.length,T);const x=c.l?p(c.l.Ka,c.l,c):null;e:{var Y=c.i;let Ge=-1;for(;;){const Dt=["count="+T];Ge==-1?T>0?(Ge=Y[0].g,Dt.push("ofs="+Ge)):Ge=0:Dt.push("ofs="+Ge);let lt=!0;for(let Lt=0;Lt<T;Lt++){var ee=Y[Lt].g;const jn=Y[Lt].map;if(ee-=Ge,ee<0)Ge=Math.max(0,Y[Lt].g-100),lt=!1;else try{ee="req"+ee+"_"||"";try{var we=jn instanceof Map?jn:Object.entries(jn);for(const[as,Vr]of we){let Mr=Vr;h(Vr)&&(Mr=Ns(Vr)),Dt.push(ee+as+"="+encodeURIComponent(Mr))}}catch(as){throw Dt.push(ee+"type="+encodeURIComponent("_badmap")),as}}catch{x&&x(jn)}}if(lt){we=Dt.join("&");break e}}we=void 0}return c=c.i.splice(0,T),v.G=c,we}function ln(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;F||I(),X||(F(),X=!0),k.add(v,c),c.A=0}}function Nr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ls(p(c.Da,c),ea(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,qs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ls(p(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Ln(this),qs(this))};function Xi(c){c.B!=null&&(l.clearTimeout(c.B),c.B=null)}function qs(c){c.g=new Wn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=qn(c.na);ot(v,"RID","rpc"),ot(v,"SID",c.M),ot(v,"AID",c.K),ot(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&ot(v,"TO",c.ia),ot(v,"TYPE","xmlhttp"),Dr(c,v),c.u&&c.o&&Ko(v,c.u,c.o),c.O&&(c.g.H=c.O);var T=c.g;c=c.ba,T.M=1,T.A=ns(qn(v)),T.u=null,T.R=!0,pl(T,c)}t.Va=function(){this.C!=null&&(this.C=null,Ln(this),Nr(this),xt(19))};function Jo(c){c.C!=null&&(l.clearTimeout(c.C),c.C=null)}function Zo(c,v){var T=null;if(c.g==v){Jo(c),Xi(c),c.g=null;var x=2}else if(yl(c.h,v))T=v.G,Wi(c.h,v),x=1;else return;if(c.I!=0){if(v.o)if(x==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var Y=c.D;x=Os(),Pe(x,new dl(x,T)),os(c)}else ln(c);else if(Y=v.m,Y==3||Y==0&&v.X>0||!(x==1&&Sc(c,v)||x==2&&Nr(c)))switch(T&&T.length>0&&(v=c.h,v.i=v.i.concat(T)),Y){case 1:Fn(c,5);break;case 4:Fn(c,10);break;case 3:Fn(c,6);break;default:Fn(c,2)}}}function ea(c,v){let T=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(T*=2),T*v}function Fn(c,v){if(c.j.info("Error code "+v),v==2){var T=p(c.bb,c),x=c.Ua;const Y=!x;x=new Ir(x||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||qi(x,"https"),ns(x),Y?Ar(x.toString(),T):br(x.toString(),T)}else xt(2);c.I=0,c.l&&c.l.pa(v),Ji(c),Xo(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Ji(c){if(c.I=0,c.ja=[],c.l){const v=Vn(c.h);(v.length!=0||c.i.length!=0)&&(O(c.ja,v),O(c.ja,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.oa()}}function Al(c,v,T){var x=T instanceof Ir?qn(T):new Ir(T);if(x.g!="")v&&(x.g=v+"."+x.g),kr(x,x.u);else{var Y=l.location;x=Y.protocol,v=v?v+"."+Y.hostname:Y.hostname,Y=+Y.port;const ee=new Ir(null);x&&qi(ee,x),v&&(ee.g=v),Y&&kr(ee,Y),T&&(ee.h=T),x=ee}return T=c.G,v=c.wa,T&&v&&ot(x,T,v),ot(x,"VER",c.ka),Dr(c,x),x}function Ic(c,v,T){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new ht(new rs({ab:T})):new ht(c.ma),v.Fa(c.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kc(){}t=kc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ta(){}ta.prototype.g=function(c,v){return new en(c,v)};function en(c,v){Ce.call(this),this.g=new Yo(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!S(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!S(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Hs(this)}w(en,Ce),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Qo(this.g)},en.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var T={};T.__data__=c,c=T}else this.v&&(T={},T.__data__=Ns(c),c=T);v.i.push(new yf(v.Ya++,c)),v.I==3&&os(v)},en.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,en.Z.N.call(this)};function Cc(c){jo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const T in v){c=T;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}w(Cc,jo);function xc(){hl.call(this),this.status=1}w(xc,hl);function Hs(c){this.g=c}w(Hs,kc),Hs.prototype.ra=function(){Pe(this.g,"a")},Hs.prototype.qa=function(c){Pe(this.g,new Cc(c))},Hs.prototype.pa=function(c){Pe(this.g,new xc)},Hs.prototype.oa=function(){Pe(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,yS=function(){return new ta},gS=function(){return Os()},mS=sr,Fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,Fh=js,Us.COMPLETE="complete",pS=Us,lc.EventType=Ms,Ms.OPEN="a",Ms.CLOSE="b",Ms.ERROR="c",Ms.MESSAGE="d",Ce.prototype.listen=Ce.prototype.J,uu=lc,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,fS=ht}).apply(typeof Eh<"u"?Eh:typeof self<"u"?self:typeof window<"u"?window:{});class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Za="12.8.0";function MN(t){Za=t}const Ro=new jg("@firebase/firestore");function ka(){return Ro.logLevel}function xe(t,...e){if(Ro.logLevel<=Ze.DEBUG){const n=e.map(Jg);Ro.debug(`Firestore (${Za}): ${t}`,...n)}}function Is(t,...e){if(Ro.logLevel<=Ze.ERROR){const n=e.map(Jg);Ro.error(`Firestore (${Za}): ${t}`,...n)}}function ja(t,...e){if(Ro.logLevel<=Ze.WARN){const n=e.map(Jg);Ro.warn(`Firestore (${Za}): ${t}`,...n)}}function Jg(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function $e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,vS(t,r,n)}function vS(t,e,n){let r=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Is(r),new Error(r)}function at(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||vS(e,i,r)}function Ke(t,e){return t}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _s{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class wS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ON{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class LN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class FN{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new _s,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},h=f=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _s)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new wS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class jN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class UN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const r=a=>{a.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new k_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new k_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Zg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=zN(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function jm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Zp(i)===Zp(a)?et(i,a):Zp(i)?1:-1}return et(t.length,e.length)}const $N=55296,WN=57343;function Zp(t){const e=t.charCodeAt(0);return e>=$N&&e<=WN}function Ua(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const C_="__name__";class Ur{constructor(e,n,r){n===void 0?n=0:n>e.length&&$e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&$e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ur.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return et(e.length,n.length)}static compareSegments(e,n){const r=Ur.isNumericId(e),i=Ur.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ur.extractNumericId(e).compare(Ur.extractNumericId(n)):jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ti.fromString(e.substring(4,e.length-2))}}class ft extends Ur{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const qN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Ur{construct(e,n,r){return new on(e,n,r)}static isValidIdentifier(e){return qN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C_}static keyField(){return new on([C_])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Te(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new Te(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Te(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(l=!l,i++):h!=="."||l?(r+=h,i++):(a(),i++)}if(a(),l)throw new Te(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}class je{constructor(e){this.path=e}static fromPath(e){return new je(ft.fromString(e))}static fromName(e){return new je(ft.fromString(e).popFirst(5))}static empty(){return new je(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new ft(e.slice()))}}function _S(t,e,n){if(!n)throw new Te(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HN(t,e,n,r){if(e===!0&&r===!0)throw new Te(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function x_(t){if(!je.isDocumentKey(t))throw new Te(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function A_(t){if(je.isDocumentKey(t))throw new Te(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function TS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $d(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$e(12329,{type:typeof t})}function Nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$d(t);throw new Te(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function GN(t,e){if(e<=0)throw new Te(oe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Yu(t,e){if(!TS(t))throw new Te(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Te(oe.INVALID_ARGUMENT,n);return!0}const b_=-62135596800,P_=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*P_);return new vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<b_)throw new Te(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P_}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yu(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-b_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:zt("string",vt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new vt(0,0))}static max(){return new He(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pu=-1;function KN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new Ii(i,je.empty(),e)}function YN(t){return new Ii(t.readTime,t.key,Pu)}class Ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ii(He.min(),je.empty(),Pu)}static max(){return new Ii(He.max(),je.empty(),Pu)}}function QN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}const XN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function el(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==XN)throw t;xe("LocalStore","Unexpectedly lost primary lease")}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,r)=>{n(e)}))}static reject(e){return new ue(((n,r)=>{r(e)}))}static waitFor(e){return new ue(((n,r)=>{let i=0,a=0,l=!1;e.forEach((h=>{++i,h.next((()=>{++a,l&&a===i&&n()}),(f=>r(f)))})),l=!0,a===i&&n()}))}static or(e){let n=ue.resolve(!1);for(const r of e)n=n.next((i=>i?ue.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ue(((r,i)=>{const a=e.length,l=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next((g=>{l[p]=g,++h,h===a&&r(l)}),(g=>i(g)))}}))}static doWhile(e,n){return new ue(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function ZN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tl(t){return t.name==="IndexedDbTransactionError"}class Wd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wd.ce=-1;const ey=-1;function qd(t){return t==null}function ld(t){return t===0&&1/t==-1/0}function e2(t){return typeof t=="number"&&Number.isInteger(t)&&!ld(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const ES="";function t2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=R_(e)),e=n2(t.get(n),e);return R_(e)}function n2(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case ES:n+="";break;default:n+=a}}return n}function R_(t){return t+ES+""}function D_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ct{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sh(this.root,e,this.comparator,!0)}}class Sh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??sn.RED,this.left=i??sn.EMPTY,this.right=a??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new sn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N_(this.data.getIterator())}getIteratorFrom(e){return new N_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class N_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new $n([])}unionWith(e){let n=new Gt(on.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class IS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new IS("Invalid base64 string: "+a):a}})(e);return new an(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const r2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(t){if(at(!!t,39018),typeof t=="string"){let e=0;const n=r2.exec(t);if(at(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ci(t){return typeof t=="string"?an.fromBase64String(t):an.fromUint8Array(t)}const kS="server_timestamp",CS="__type__",xS="__previous_value__",AS="__local_write_time__";function ty(t){return(t?.mapValue?.fields||{})[CS]?.stringValue===kS}function Hd(t){const e=t.mapValue.fields[xS];return ty(e)?Hd(e):e}function Ru(t){const e=ki(t.mapValue.fields[AS].timestampValue);return new vt(e.seconds,e.nanos)}class s2{constructor(e,n,r,i,a,l,h,f,p,g,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g,this.apiKey=w}}const ud="(default)";class Du{constructor(e,n){this.projectId=e,this.database=n||ud}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database===ud}isEqual(e){return e instanceof Du&&e.projectId===this.projectId&&e.database===this.database}}function i2(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Te(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(t.options.projectId,e)}const bS="__type__",o2="__max__",Ih={mapValue:{}},PS="__vector__",cd="value";function xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ty(t)?4:l2(t)?9007199254740991:a2(t)?10:11:$e(28295,{value:t})}function Kr(t,e){if(t===e)return!0;const n=xi(t);if(n!==xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ru(t).isEqual(Ru(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=ki(i.timestampValue),h=ki(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Ci(i.bytesValue).isEqual(Ci(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Vt(i.geoPointValue.latitude)===Vt(a.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Vt(i.integerValue)===Vt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Vt(i.doubleValue),h=Vt(a.doubleValue);return l===h?ld(l)===ld(h):isNaN(l)&&isNaN(h)}return!1})(t,e);case 9:return Ua(t.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},h=a.mapValue.fields||{};if(D_(l)!==D_(h))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(h[f]===void 0||!Kr(l[f],h[f])))return!1;return!0})(t,e);default:return $e(52216,{left:t})}}function Nu(t,e){return(t.values||[]).find((n=>Kr(n,e)))!==void 0}function Ba(t,e){if(t===e)return 0;const n=xi(t),r=xi(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const h=Vt(a.integerValue||a.doubleValue),f=Vt(l.integerValue||l.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return V_(t.timestampValue,e.timestampValue);case 4:return V_(Ru(t),Ru(e));case 5:return jm(t.stringValue,e.stringValue);case 6:return(function(a,l){const h=Ci(a),f=Ci(l);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const h=a.split("/"),f=l.split("/");for(let p=0;p<h.length&&p<f.length;p++){const g=et(h[p],f[p]);if(g!==0)return g}return et(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const h=et(Vt(a.latitude),Vt(l.latitude));return h!==0?h:et(Vt(a.longitude),Vt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return M_(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const h=a.fields||{},f=l.fields||{},p=h[cd]?.arrayValue,g=f[cd]?.arrayValue,w=et(p?.values?.length||0,g?.values?.length||0);return w!==0?w:M_(p,g)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Ih.mapValue&&l===Ih.mapValue)return 0;if(a===Ih.mapValue)return 1;if(l===Ih.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let w=0;w<f.length&&w<g.length;++w){const _=jm(f[w],g[w]);if(_!==0)return _;const A=Ba(h[f[w]],p[g[w]]);if(A!==0)return A}return et(f.length,g.length)})(t.mapValue,e.mapValue);default:throw $e(23264,{he:n})}}function V_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=ki(t),r=ki(e),i=et(n.seconds,r.seconds);return i!==0?i:et(n.nanos,r.nanos)}function M_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ba(n[i],r[i]);if(a)return a}return et(n.length,r.length)}function za(t){return Um(t)}function Um(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ki(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ci(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return je.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Um(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Um(n.fields[l])}`;return i+"}"})(t.mapValue):$e(61005,{value:t})}function jh(t){switch(xi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hd(t);return e?16+jh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ci(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+jh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Vi(r.fields,((a,l)=>{i+=a.length+jh(l)})),i})(t.mapValue);default:throw $e(13486,{value:t})}}function O_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bm(t){return!!t&&"integerValue"in t}function ny(t){return!!t&&"arrayValue"in t}function L_(t){return!!t&&"nullValue"in t}function F_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uh(t){return!!t&&"mapValue"in t}function a2(t){return(t?.mapValue?.fields||{})[bS]?.stringValue===PS}function yu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Vi(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=yu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yu(t.arrayValue.values[n]);return e}return{...t}}function l2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===o2}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(n)}setAll(e){let n=on.emptyPath(),r={},i=[];e.forEach(((l,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=h.popLast()}l?r[h.lastSegment()]=yu(l):i.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vi(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Rn(yu(this.value))}}function RS(t){const e=[];return Vi(t.fields,((n,r)=>{const i=new on([n]);if(Uh(r)){const a=RS(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new $n(e)}class gn{constructor(e,n,r,i,a,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new gn(e,0,He.min(),He.min(),He.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,i){return new gn(e,1,n,He.min(),r,i,0)}static newNoDocument(e,n){return new gn(e,2,n,He.min(),He.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,He.min(),He.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hd{constructor(e,n){this.position=e,this.inclusive=n}}function j_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=je.comparator(je.fromName(l.referenceValue),n.key):r=Ba(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function U_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kr(t.position[n],e.position[n]))return!1;return!0}class Vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function u2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class DS{}class Bt extends DS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new h2(e,n,r):n==="array-contains"?new p2(e,r):n==="in"?new m2(e,r):n==="not-in"?new g2(e,r):n==="array-contains-any"?new y2(e,r):new Bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new d2(e,r):new f2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ba(n,this.value)):n!==null&&xi(this.value)===xi(n)&&this.matchesComparison(Ba(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends DS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wr(e,n)}matches(e){return NS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NS(t){return t.op==="and"}function VS(t){return c2(t)&&NS(t)}function c2(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function zm(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+za(t.value);if(VS(t))return t.filters.map((e=>zm(e))).join(",");{const e=t.filters.map((n=>zm(n))).join(",");return`${t.op}(${e})`}}function MS(t,e){return t instanceof Bt?(function(r,i){return i instanceof Bt&&r.op===i.op&&r.field.isEqual(i.field)&&Kr(r.value,i.value)})(t,e):t instanceof wr?(function(r,i){return i instanceof wr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,h)=>a&&MS(l,i.filters[h])),!0):!1})(t,e):void $e(19439)}function OS(t){return t instanceof Bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${za(n.value)}`})(t):t instanceof wr?(function(n){return n.op.toString()+" {"+n.getFilters().map(OS).join(" ,")+"}"})(t):"Filter"}class h2 extends Bt{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class d2 extends Bt{constructor(e,n){super(e,"in",n),this.keys=LS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class f2 extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=LS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function LS(t,e){return(e.arrayValue?.values||[]).map((n=>je.fromName(n.referenceValue)))}class p2 extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ny(n)&&Nu(n.arrayValue,this.value)}}class m2 extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nu(this.value.arrayValue,n)}}class g2 extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nu(this.value.arrayValue,n)}}class y2 extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Nu(this.value.arrayValue,r)))}}class v2{constructor(e,n=null,r=[],i=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=h,this.Te=null}}function B_(t,e=null,n=[],r=[],i=null,a=null,l=null){return new v2(t,e,n,r,i,a,l)}function ry(t){const e=Ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>zm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),qd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>za(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>za(r))).join(",")),e.Te=n}return e.Te}function sy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!u2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!U_(t.startAt,e.startAt)&&U_(t.endAt,e.endAt)}function $m(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class nl{constructor(e,n=null,r=[],i=[],a=null,l="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function w2(t,e,n,r,i,a,l,h){return new nl(t,e,n,r,i,a,l,h)}function Gd(t){return new nl(t)}function z_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _2(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function FS(t){return t.collectionGroup!==null}function vu(t){const e=Ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new Gt(on.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Vu(a,r))})),n.has(on.keyField().canonicalString())||e.Ie.push(new Vu(on.keyField(),r))}return e.Ie}function Wr(t){const e=Ke(t);return e.Ee||(e.Ee=T2(e,vu(t))),e.Ee}function T2(t,e){if(t.limitType==="F")return B_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Vu(i.field,a)}));const n=t.endAt?new hd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hd(t.startAt.position,t.startAt.inclusive):null;return B_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wm(t,e){const n=t.filters.concat([e]);return new nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function E2(t,e){const n=t.explicitOrderBy.concat([e]);return new nl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function dd(t,e,n){return new nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kd(t,e){return sy(Wr(t),Wr(e))&&t.limitType===e.limitType}function jS(t){return`${ry(Wr(t))}|lt:${t.limitType}`}function Ca(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>OS(i))).join(", ")}]`),qd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>za(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>za(i))).join(",")),`Target(${r})`})(Wr(t))}; limitType=${t.limitType})`}function Yd(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):je.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of vu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,h,f){const p=j_(l,h,f);return l.inclusive?p<=0:p<0})(r.startAt,vu(r),i)||r.endAt&&!(function(l,h,f){const p=j_(l,h,f);return l.inclusive?p>=0:p>0})(r.endAt,vu(r),i))})(t,e)}function S2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function US(t){return(e,n)=>{let r=!1;for(const i of vu(t)){const a=I2(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function I2(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):(function(a,l,h){const f=l.data.field(a),p=h.data.field(a);return f!==null&&p!==null?Ba(f,p):$e(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $e(19790,{direction:t.dir})}}class Oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vi(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return SS(this.inner)}size(){return this.innerSize}}const k2=new Ct(je.comparator);function ks(){return k2}const BS=new Ct(je.comparator);function cu(...t){let e=BS;for(const n of t)e=e.insert(n.key,n);return e}function zS(t){let e=BS;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function wo(){return wu()}function $S(){return wu()}function wu(){return new Oo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const C2=new Ct(je.comparator),x2=new Gt(je.comparator);function tt(...t){let e=x2;for(const n of t)e=e.add(n);return e}const A2=new Gt(et);function b2(){return A2}function iy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ld(e)?"-0":e}}function WS(t){return{integerValue:""+t}}function P2(t,e){return e2(e)?WS(e):iy(t,e)}class Qd{constructor(){this._=void 0}}function R2(t,e,n){return t instanceof Mu?(function(i,a){const l={fields:{[CS]:{stringValue:kS},[AS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ty(a)&&(a=Hd(a)),a&&(l.fields[xS]=a),{mapValue:l}})(n,e):t instanceof Ou?HS(t,e):t instanceof Lu?GS(t,e):(function(i,a){const l=qS(i,a),h=$_(l)+$_(i.Ae);return Bm(l)&&Bm(i.Ae)?WS(h):iy(i.serializer,h)})(t,e)}function D2(t,e,n){return t instanceof Ou?HS(t,e):t instanceof Lu?GS(t,e):n}function qS(t,e){return t instanceof fd?(function(r){return Bm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Mu extends Qd{}class Ou extends Qd{constructor(e){super(),this.elements=e}}function HS(t,e){const n=KS(e);for(const r of t.elements)n.some((i=>Kr(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Lu extends Qd{constructor(e){super(),this.elements=e}}function GS(t,e){let n=KS(e);for(const r of t.elements)n=n.filter((i=>!Kr(i,r)));return{arrayValue:{values:n}}}class fd extends Qd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $_(t){return Vt(t.integerValue||t.doubleValue)}function KS(t){return ny(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class N2{constructor(e,n){this.field=e,this.transform=n}}function V2(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Ou&&i instanceof Ou||r instanceof Lu&&i instanceof Lu?Ua(r.elements,i.elements,Kr):r instanceof fd&&i instanceof fd?Kr(r.Ae,i.Ae):r instanceof Mu&&i instanceof Mu})(t.transform,e.transform)}class M2{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xd{}function YS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oy(t.key,tr.none()):new Qu(t.key,t.data,tr.none());{const n=t.data,r=Rn.empty();let i=new Gt(on.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Mi(t.key,r,new $n(i.toArray()),tr.none())}}function O2(t,e,n){t instanceof Qu?(function(i,a,l){const h=i.value.clone(),f=q_(i.fieldTransforms,a,l.transformResults);h.setAll(f),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Mi?(function(i,a,l){if(!Bh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const h=q_(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(QS(i)),f.setAll(h),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function _u(t,e,n,r){return t instanceof Qu?(function(a,l,h,f){if(!Bh(a.precondition,l))return h;const p=a.value.clone(),g=H_(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Mi?(function(a,l,h,f){if(!Bh(a.precondition,l))return h;const p=H_(a.fieldTransforms,f,l),g=l.data;return g.setAll(QS(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(t,e,n,r):(function(a,l,h){return Bh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h})(t,e,n)}function L2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=qS(r.transform,i||null);a!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,a))}return n||null}function W_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ua(r,i,((a,l)=>V2(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qu extends Xd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mi extends Xd{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function QS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function q_(t,e,n){const r=new Map;at(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,h=e.data.field(a.field);r.set(a.field,D2(l,h,n[i]))}return r}function H_(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,R2(a,l,e))}return r}class oy extends Xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F2 extends Xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class j2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&O2(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_u(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_u(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$S();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(i.key)?null:h;const f=YS(l,h);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(He.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tt())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,((n,r)=>W_(n,r)))&&Ua(this.baseMutations,e.baseMutations,((n,r)=>W_(n,r)))}}class ay{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){at(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return C2})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new ay(e,n,r,i)}}class U2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class B2{constructor(e,n){this.count=e,this.unchangedNames=n}}var jt,rt;function z2(t){switch(t){case oe.OK:return $e(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return $e(15467,{code:t})}}function XS(t){if(t===void 0)return Is("GRPC error has no .code"),oe.UNKNOWN;switch(t){case jt.OK:return oe.OK;case jt.CANCELLED:return oe.CANCELLED;case jt.UNKNOWN:return oe.UNKNOWN;case jt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case jt.INTERNAL:return oe.INTERNAL;case jt.UNAVAILABLE:return oe.UNAVAILABLE;case jt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case jt.NOT_FOUND:return oe.NOT_FOUND;case jt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case jt.ABORTED:return oe.ABORTED;case jt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case jt.DATA_LOSS:return oe.DATA_LOSS;default:return $e(39323,{code:t})}}(rt=jt||(jt={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";function $2(){return new TextEncoder}const W2=new Ti([4294967295,4294967295],0);function G_(t){const e=$2().encode(t),n=new dS;return n.update(e),new Uint8Array(n.digest())}function K_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ti([n,r],0),new Ti([i,a],0)]}class ly{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hu(`Invalid padding: ${n}`);if(r<0)throw new hu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ti.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ti.fromNumber(r)));return i.compare(W2)===1&&(i=new Ti([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=G_(e),[r,i]=K_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new ly(a,i,n);return r.forEach((h=>l.insert(h))),l}insert(e){if(this.ge===0)return;const n=G_(e),[r,i]=K_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jd{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jd(He.min(),i,new Ct(et),ks(),tt())}}class Xu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xu(r,n,tt(),tt(),tt())}}class zh{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class JS{constructor(e,n){this.targetId=e,this.Ce=n}}class ZS{constructor(e,n,r=an.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Y_{constructor(){this.ve=0,this.Fe=Q_(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),r=tt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$e(38017,{changeType:a})}})),new Xu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=Q_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class q2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ks(),this.He=kh(),this.Je=kh(),this.Ze=new Ct(et)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:$e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if($m(a))if(r===0){const l=new je(a.path);this.et(n,l,gn.newNoDocument(l,He.min()))}else at(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const h=this.ut(e),f=h?this.ct(h,e,l):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,h;try{l=Ci(r).toUint8Array()}catch(f){if(f instanceof IS)return ja("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new ly(l,i,a)}catch(f){return ja(f instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const h=this.ot(l);if(h){if(a.current&&$m(h.target)){const f=new je(h.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,gn.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.Ke())}}));let r=tt();this.Je.forEach(((a,l)=>{let h=!0;l.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new Jd(e,n,this.Ze,this.je,r);return this.je=ks(),this.He=kh(),this.Je=kh(),this.Ze=new Ct(et),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Y_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Gt(et),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Gt(et),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function kh(){return new Ct(je.comparator)}function Q_(){return new Ct(je.comparator)}const H2={asc:"ASCENDING",desc:"DESCENDING"},G2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K2={and:"AND",or:"OR"};class Y2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qm(t,e){return t.useProto3Json||qd(e)?e:{value:e}}function pd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Q2(t,e){return pd(t,e.toTimestamp())}function qr(t){return at(!!t,49232),He.fromTimestamp((function(n){const r=ki(n);return new vt(r.seconds,r.nanos)})(t))}function uy(t,e){return Hm(t,e).canonicalString()}function Hm(t,e){const n=(function(i){return new ft(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function tI(t){const e=ft.fromString(t);return at(oI(e),10190,{key:e.toString()}),e}function Gm(t,e){return uy(t.databaseId,e.path)}function em(t,e){const n=tI(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(rI(n))}function nI(t,e){return uy(t.databaseId,e)}function X2(t){const e=tI(t);return e.length===4?ft.emptyPath():rI(e)}function Km(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rI(t){return at(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function X_(t,e,n){return{name:Gm(t,e),fields:n.value.mapValue.fields}}function J2(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:$e(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(at(g===void 0||typeof g=="string",58123),an.fromBase64String(g||"")):(at(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),an.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&(function(p){const g=p.code===void 0?oe.UNKNOWN:XS(p.code);return new Te(g,p.message||"")})(l);n=new ZS(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=em(t,r.document.name),a=qr(r.document.updateTime),l=r.document.createTime?qr(r.document.createTime):He.min(),h=new Rn({mapValue:{fields:r.document.fields}}),f=gn.newFoundDocument(i,a,l,h),p=r.targetIds||[],g=r.removedTargetIds||[];n=new zh(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=em(t,r.document),a=r.readTime?qr(r.readTime):He.min(),l=gn.newNoDocument(i,a),h=r.removedTargetIds||[];n=new zh([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=em(t,r.document),a=r.removedTargetIds||[];n=new zh([],a,i,null)}else{if(!("filter"in e))return $e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new B2(i,a),h=r.targetId;n=new JS(h,l)}}return n}function Z2(t,e){let n;if(e instanceof Qu)n={update:X_(t,e.key,e.value)};else if(e instanceof oy)n={delete:Gm(t,e.key)};else if(e instanceof Mi)n={update:X_(t,e.key,e.data),updateMask:lV(e.fieldMask)};else{if(!(e instanceof F2))return $e(16599,{dt:e.type});n={verify:Gm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const h=l.transform;if(h instanceof Mu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ou)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Lu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof fd)return{fieldPath:l.field.canonicalString(),increment:h.Ae};throw $e(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Q2(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:$e(27497)})(t,e.precondition)),n}function eV(t,e){return t&&t.length>0?(at(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?qr(i.updateTime):qr(a);return l.isEqual(He.min())&&(l=qr(a)),new M2(l,i.transformResults||[])})(n,e)))):[]}function tV(t,e){return{documents:[nI(t,e.path)]}}function nV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nI(t,i);const a=(function(p){if(p.length!==0)return iI(wr.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((g=>(function(_){return{field:xa(_.field),direction:iV(_.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=qm(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:i}}function rV(t){let e=X2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){at(r===1,65062);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(w){const _=sI(w);return _ instanceof wr&&VS(_)?_.getFilters():[_]})(n.where));let l=[];n.orderBy&&(l=(function(w){return w.map((_=>(function(O){return new Vu(Aa(O.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(_)))})(n.orderBy));let h=null;n.limit&&(h=(function(w){let _;return _=typeof w=="object"?w.value:w,qd(_)?null:_})(n.limit));let f=null;n.startAt&&(f=(function(w){const _=!!w.before,A=w.values||[];return new hd(A,_)})(n.startAt));let p=null;return n.endAt&&(p=(function(w){const _=!w.before,A=w.values||[];return new hd(A,_)})(n.endAt)),w2(e,i,l,a,h,"F",f,p)}function sV(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Aa(n.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Aa(n.unaryFilter.field);return Bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Aa(n.unaryFilter.field);return Bt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Aa(n.unaryFilter.field);return Bt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Bt.create(Aa(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return wr.create(n.compositeFilter.filters.map((r=>sI(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $e(1026)}})(n.compositeFilter.op))})(t):$e(30097,{filter:t})}function iV(t){return H2[t]}function oV(t){return G2[t]}function aV(t){return K2[t]}function xa(t){return{fieldPath:t.canonicalString()}}function Aa(t){return on.fromServerFormat(t.fieldPath)}function iI(t){return t instanceof Bt?(function(n){if(n.op==="=="){if(F_(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NAN"}};if(L_(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(F_(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NAN"}};if(L_(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(n.field),op:oV(n.op),value:n.value}}})(t):t instanceof wr?(function(n){const r=n.getFilters().map((i=>iI(i)));return r.length===1?r[0]:{compositeFilter:{op:aV(n.op),filters:r}}})(t):$e(54877,{filter:t})}function lV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function oI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function aI(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class gi{constructor(e,n,r,i,a=He.min(),l=He.min(),h=an.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uV{constructor(e){this.yt=e}}function cV(t){const e=rV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dd(e,e.limit,"L"):e}class hV{constructor(){this.Sn=new dV}addToCollectionParentIndex(e,n){return this.Sn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(Ii.min())}updateCollectionGroup(e,n,r){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class dV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Gt(ft.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Gt(ft.comparator)).toArray()}}const J_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lI=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(lI,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class $a{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new $a(0)}static ar(){return new $a(-1)}}const Z_="LruGarbageCollector",fV=1048576;function eT([t,e],[n,r]){const i=et(t,n);return i===0?et(e,r):i}class pV{constructor(e){this.Pr=e,this.buffer=new Gt(eT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();eT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){xe(Z_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tl(n)?xe(Z_,"Ignoring IndexedDB error during garbage collection: ",n):await el(n)}await this.Ar(3e5)}))}}class gV{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(Wd.ce);const r=new pV(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(J_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,l,h,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,l=Date.now(),this.nthSequenceNumber(e,i)))).next((w=>(r=w,h=Date.now(),this.removeTargets(e,r,n)))).next((w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(p=Date.now(),ka()<=Ze.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(h-l)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:w}))))}}function yV(t,e){return new gV(t,e)}class vV{constructor(){this.changes=new Oo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _V{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&_u(r.mutation,i,$n.empty(),vt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,tt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=tt()){const i=wo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=cu();return a.forEach(((h,f)=>{l=l.insert(h,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=wo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,tt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,h)=>{n.set(l,h)}))}))}computeViews(e,n,r,i){let a=ks();const l=wu(),h=(function(){return wu()})();return n.forEach(((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Mi)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),_u(g.mutation,p,g.mutation.getFieldMask(),vt.now())):l.set(p.key,$n.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,g)=>l.set(p,g))),n.forEach(((p,g)=>h.set(p,new wV(g,l.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=wu();let i=new Ct(((l,h)=>l-h)),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const h of l)h.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||$n.empty();g=h.applyToLocalView(p,g),r.set(f,g);const w=(i.get(h.batchId)||tt()).add(f);i=i.insert(h.batchId,w)}))})).next((()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,g=f.value,w=$S();g.forEach((_=>{if(!a.has(_)){const A=YS(n.get(_),r.get(_));A!==null&&w.set(_,A),a=a.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,w))}return ue.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return _2(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ue.resolve(wo());let h=Pu,f=a;return l.next((p=>ue.forEach(p,((g,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(g)?ue.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{f=f.insert(g,_)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,tt()))).next((g=>({batchId:h,changes:zS(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next((r=>{let i=cu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=cu();return this.indexManager.getCollectionParents(e,a).next((h=>ue.forEach(h,(f=>{const p=(function(w,_){return new nl(_,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((g=>{g.forEach(((w,_)=>{l=l.insert(w,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,gn.newInvalidDocument(g)))}));let h=cu();return l.forEach(((f,p)=>{const g=a.get(f);g!==void 0&&_u(g.mutation,p,$n.empty(),vt.now()),Yd(n,p)&&(h=h.insert(f,p))})),h}))}}class TV{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ue.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:qr(i.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:cV(i.bundledQuery),readTime:qr(i.readTime)}})(n)),ue.resolve()}}class EV{constructor(){this.overlays=new Ct(je.comparator),this.Lr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wo();return ue.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.bt(e,n,a)})),ue.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),ue.resolve()}getOverlaysForCollection(e,n,r){const i=wo(),a=n.length+1,l=new je(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Ct(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=wo(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=wo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,g)=>h.set(p,g))),!(h.size()>=i)););return ue.resolve(h)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new U2(n,r));let a=this.Lr.get(n);a===void 0&&(a=tt(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}class SV{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}class cy{constructor(){this.kr=new Gt(Jt.Kr),this.qr=new Gt(Jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Jt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Jt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new je(new ft([])),r=new Jt(n,e),i=new Jt(n,e+1),a=[];return this.qr.forEachInRange([r,i],(l=>{this.Wr(l),a.push(l.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new je(new ft([])),r=new Jt(n,e),i=new Jt(n,e+1);let a=tt();return this.qr.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Jt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return je.comparator(e.key,n.key)||et(e.Hr,n.Hr)}static Ur(e,n){return et(e.Hr,n.Hr)||je.comparator(e.key,n.key)}}class IV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Gt(Jt.Kr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new j2(a,n,r,i);this.mutationQueue.push(l);for(const h of i)this.Jr=this.Jr.add(new Jt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(l)}lookupMutationBatch(e,n){return ue.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?ey:this.Yn-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jt(n,0),i=new Jt(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],(l=>{const h=this.Zr(l.Hr);a.push(h)})),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt(et);return n.forEach((i=>{const a=new Jt(i,0),l=new Jt(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,l],(h=>{r=r.add(h.Hr)}))})),ue.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;je.isDocumentKey(a)||(a=a.child(""));const l=new Jt(new je(a),0);let h=new Gt(et);return this.Jr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(h=h.add(f.Hr)),!0)}),l),ue.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){at(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ue.forEach(n.mutations,(i=>{const a=new Jt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Jt(n,0),i=this.Jr.firstAfterOrEqual(r);return ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class kV{constructor(e){this.ti=e,this.docs=(function(){return new Ct(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ue.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let r=ks();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():gn.newInvalidDocument(i))})),ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ks();const l=n.path,h=new je(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||QN(YN(g),r)<=0||(i.has(g.key)||Yd(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ue.resolve(a)}getAllFromCollectionGroup(e,n,r,i){$e(9500)}ni(e,n){return ue.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new CV(this)}getSize(e){return ue.resolve(this.size)}}class CV extends vV{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),ue.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class xV{constructor(e){this.persistence=e,this.ri=new Oo((n=>ry(n)),sy),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.ii=0,this.si=new cy,this.targetCount=0,this.oi=$a._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ue.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new $a(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.lr(n),ue.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach(((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.ri.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),ue.waitFor(a).next((()=>i))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ue.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ue.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),ue.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ue.resolve(r)}containsKey(e,n){return ue.resolve(this.si.containsKey(n))}}class uI{constructor(e,n){this._i={},this.overlays={},this.ai=new Wd(0),this.ui=!1,this.ui=!0,this.ci=new SV,this.referenceDelegate=e(this),this.li=new xV(this),this.indexManager=new hV,this.remoteDocumentCache=(function(i){return new kV(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new uV(n),this.Pi=new TV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new IV(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);const i=new AV(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((a=>this.referenceDelegate.Ii(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,n){return ue.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class AV extends JN{constructor(e){super(),this.currentSequenceNumber=e}}class hy{constructor(e){this.persistence=e,this.Ri=new cy,this.Ai=null}static Vi(e){return new hy(e)}get di(){if(this.Ai)return this.Ai;throw $e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ue.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.di,(r=>{const i=je.fromPath(r);return this.mi(e,i).next((a=>{a||n.removeEntry(i,He.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class md{constructor(e,n){this.persistence=e,this.fi=new Oo((r=>t2(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=yV(this,n)}static Vi(e,n){return new md(e,n)}Ti(){}Ii(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ue.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((a=>a?ue.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,(l=>this.wr(e,l,n).next((h=>{h||(r++,a.removeEntry(l,He.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jh(e.data.value)),n}wr(e,n,r){return ue.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return ue.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class dy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=tt(),i=tt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new dy(e,n.fromCache,r,i)}}class bV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class PV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Zb()?8:ZN(vn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ps(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new bV;return this.ys(e,n,l).next((h=>{if(a.result=h,this.As)return this.ws(e,n,l,h.size)}))})).next((()=>a.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(ka()<=Ze.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ue.resolve()):(ka()<=Ze.DEBUG&&xe("QueryEngine","Query:",Ca(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(ka()<=Ze.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):ue.resolve())}gs(e,n){if(z_(n))return ue.resolve(null);let r=Wr(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=dd(n,null,"F"),r=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=tt(...a);return this.fs.getDocuments(e,l).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.bs(n,h);return this.Ss(n,p,l,f.readTime)?this.gs(e,dd(n,null,"F")):this.Ds(e,p,n,f)}))))})))))}ps(e,n,r,i){return z_(n)||i.isEqual(He.min())?ue.resolve(null):this.fs.getDocuments(e,r).next((a=>{const l=this.bs(n,a);return this.Ss(n,l,r,i)?ue.resolve(null):(ka()<=Ze.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ca(n)),this.Ds(e,l,n,KN(i,Pu)).next((h=>h)))}))}bs(e,n){let r=new Gt(US(e));return n.forEach(((i,a)=>{Yd(e,a)&&(r=r.add(a))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return ka()<=Ze.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Ca(n)),this.fs.getDocumentsMatchingQuery(e,n,Ii.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}const fy="LocalStore",RV=3e8;class DV{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Ct(et),this.Fs=new Oo((a=>ry(a)),sy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _V(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function NV(t,e,n,r){return new DV(t,e,n,r)}async function cI(t,e){const n=Ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],h=[];let f=tt();for(const p of i){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next((p=>({Ns:p,removedBatchIds:l,addedBatchIds:h})))}))}))}function VV(t,e){const n=Ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,g){const w=p.batch,_=w.keys();let A=ue.resolve();return _.forEach((O=>{A=A.next((()=>g.getEntry(f,O))).next((M=>{const L=p.docVersions.get(O);at(L!==null,48541),M.version.compareTo(L)<0&&(w.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),g.addEntry(M)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(f,w)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=tt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function hI(t){const e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function MV(t,e){const n=Ke(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const h=[];e.targetChanges.forEach(((g,w)=>{const _=i.get(w);if(!_)return;h.push(n.li.removeMatchingKeys(a,g.removedDocuments,w).next((()=>n.li.addMatchingKeys(a,g.addedDocuments,w))));let A=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?A=A.withResumeToken(an.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,r)),i=i.insert(w,A),(function(M,L,B){return M.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=RV?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(_,A,g)&&h.push(n.li.updateTargetData(a,A))}));let f=ks(),p=tt();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),h.push(OV(a,l,e.documentUpdates).next((g=>{f=g.Bs,p=g.Ls}))),!r.isEqual(He.min())){const g=n.li.getLastRemoteSnapshotVersion(a).next((w=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(g)}return ue.waitFor(h).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(n.vs=i,a)))}function OV(t,e,n){let r=tt(),i=tt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=ks();return n.forEach(((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(He.min())?(e.removeEntry(h,f.readTime),l=l.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(h,f)):xe(fy,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{Bs:l,Ls:i}}))}function LV(t,e){const n=Ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ey),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function FV(t,e){const n=Ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((a=>a?(i=a,ue.resolve(i)):n.li.allocateTargetId(r).next((l=>(i=new gi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Ym(t,e,n){const r=Ke(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!tl(l))throw l;xe(fy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function tT(t,e,n){const r=Ke(t);let i=He.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,g){const w=Ke(f),_=w.Fs.get(g);return _!==void 0?ue.resolve(w.vs.get(_)):w.li.getTargetData(p,g)})(r,l,Wr(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,h.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,n?i:He.min(),n?a:tt()))).next((h=>(jV(r,S2(e),h),{documents:h,ks:a})))))}function jV(t,e,n){let r=t.Ms.get(e)||He.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Ms.set(e,r)}class nT{constructor(){this.activeTargetIds=b2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UV{constructor(){this.vo=new nT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new nT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BV{Mo(e){}shutdown(){}}const rT="ConnectivityMonitor";class sT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){xe(rT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){xe(rT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ch=null;function Qm(){return Ch===null?Ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ch++,"0x"+Ch.toString(16)}const tm="RestConnection",zV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class $V{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===ud?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const l=Qm(),h=this.Qo(e,n.toUriEncodedString());xe(tm,`Sending RPC '${e}' ${l}:`,h,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,a);const{host:p}=new URL(h),g=Ni(p);return this.zo(e,h,f,r,g).then((w=>(xe(tm,`Received RPC '${e}' ${l}: `,w),w)),(w=>{throw ja(tm,`RPC '${e}' ${l} failed with error: `,w,"url: ",h,"request:",r),w}))}jo(e,n,r,i,a,l){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Za})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}Qo(e,n){const r=zV[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class WV{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const fn="WebChannelConnection",tu=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Oa extends $V{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Oa.c_){const e=gS();tu(e,mS.STAT_EVENT,(n=>{n.stat===Fm.PROXY?xe(fn,"STAT_EVENT: detected buffering proxy"):n.stat===Fm.NOPROXY&&xe(fn,"STAT_EVENT: detected no buffering proxy")})),Oa.c_=!0}}zo(e,n,r,i,a){const l=Qm();return new Promise(((h,f)=>{const p=new fS;p.setWithCredentials(!0),p.listenOnce(pS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Fh.NO_ERROR:const w=p.getResponseJson();xe(fn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),h(w);break;case Fh.TIMEOUT:xe(fn,`RPC '${e}' ${l} timed out`),f(new Te(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const _=p.getStatus();if(xe(fn,`RPC '${e}' ${l} failed with status:`,_,"response text:",p.getResponseText()),_>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A?.error;if(O&&O.status&&O.message){const M=(function(B){const q=B.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(q)>=0?q:oe.UNKNOWN})(O.status);f(new Te(M,O.message))}else f(new Te(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Te(oe.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{xe(fn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(i);xe(fn,`RPC '${e}' ${l} sending request:`,i),p.send(n,"POST",g,r,15)}))}T_(e,n,r){const i=Qm(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const p=a.join("");xe(fn,`Creating RPC '${e}' stream ${i}: ${p}`,h);const g=l.createWebChannel(p,h);this.I_(g);let w=!1,_=!1;const A=new WV({Ho:O=>{_?xe(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(w||(xe(fn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),w=!0),xe(fn,`RPC '${e}' stream ${i} sending:`,O),g.send(O))},Jo:()=>g.close()});return tu(g,uu.EventType.OPEN,(()=>{_||(xe(fn,`RPC '${e}' stream ${i} transport opened.`),A.i_())})),tu(g,uu.EventType.CLOSE,(()=>{_||(_=!0,xe(fn,`RPC '${e}' stream ${i} transport closed`),A.o_(),this.E_(g))})),tu(g,uu.EventType.ERROR,(O=>{_||(_=!0,ja(fn,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),A.o_(new Te(oe.UNAVAILABLE,"The operation could not be completed")))})),tu(g,uu.EventType.MESSAGE,(O=>{if(!_){const M=O.data[0];at(!!M,16349);const L=M,B=L?.error||L[0]?.error;if(B){xe(fn,`RPC '${e}' stream ${i} received error:`,B);const q=B.status;let U=(function(X){const k=jt[X];if(k!==void 0)return XS(k)})(q),ie=B.message;U===void 0&&(U=oe.INTERNAL,ie="Unknown error status: "+q+" with message "+B.message),_=!0,A.o_(new Te(U,ie)),g.close()}else xe(fn,`RPC '${e}' stream ${i} received:`,M),A.__(M)}})),Oa.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return yS()}}function qV(t){return new Oa(t)}function nm(){return typeof document<"u"?document:null}function Zd(t){return new Y2(t,!0)}Oa.c_=!1;class dI{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const iT="PersistentStream";class fI{constructor(e,n,r,i,a,l,h,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Is(n.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Te(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return xe(iT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(xe(iT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HV extends fI{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=J2(this.serializer,e),r=(function(a){if(!("targetChange"in a))return He.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?He.min():l.readTime?qr(l.readTime):He.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Km(this.serializer),n.addTarget=(function(a,l){let h;const f=l.target;if(h=$m(f)?{documents:tV(a,f)}:{query:nV(a,f).ft},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=eI(a,l.resumeToken);const p=qm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(He.min())>0){h.readTime=pd(a,l.snapshotVersion.toTimestamp());const p=qm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=sV(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Km(this.serializer),n.removeTarget=e,this.K_(n)}}class GV extends fI{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=eV(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Km(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Z2(this.serializer,r)))};this.K_(n)}}class KV{}class YV extends KV{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Te(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(e,Hm(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(oe.UNKNOWN,a.toString())}))}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.jo(e,Hm(n,r),i,l,h,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(oe.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function QV(t,e,n,r){return new YV(t,e,n,r)}class XV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Is(n),this.aa=!1):xe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Do="RemoteStore";class JV{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{Lo(this)&&(xe(Do,"Restarting streams for network reachability change."),await(async function(f){const p=Ke(f);p.Ea.add(4),await Ju(p),p.Va.set("Unknown"),p.Ea.delete(4),await ef(p)})(this))}))})),this.Va=new XV(r,i)}}async function ef(t){if(Lo(t))for(const e of t.Ra)await e(!0)}async function Ju(t){for(const e of t.Ra)await e(!1)}function pI(t,e){const n=Ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yy(n)?gy(n):rl(n).O_()&&my(n,e))}function py(t,e){const n=Ke(t),r=rl(n);n.Ia.delete(e),r.O_()&&mI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Lo(n)&&n.Va.set("Unknown"))}function my(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rl(t).Z_(e)}function mI(t,e){t.da.$e(e),rl(t).X_(e)}function gy(t){t.da=new q2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),rl(t).start(),t.Va.ua()}function yy(t){return Lo(t)&&!rl(t).x_()&&t.Ia.size>0}function Lo(t){return Ke(t).Ea.size===0}function gI(t){t.da=void 0}async function ZV(t){t.Va.set("Online")}async function eM(t){t.Ia.forEach(((e,n)=>{my(t,e)}))}async function tM(t,e){gI(t),yy(t)?(t.Va.ha(e),gy(t)):t.Va.set("Unknown")}async function nM(t,e,n){if(t.Va.set("Online"),e instanceof ZS&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const h of a.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,l),i.Ia.delete(h),i.da.removeTarget(h))})(t,e)}catch(r){xe(Do,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gd(t,r)}else if(e instanceof zh?t.da.Xe(e):e instanceof JS?t.da.st(e):t.da.tt(e),!n.isEqual(He.min()))try{const r=await hI(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const h=a.da.Tt(l);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(f.resumeToken,l))}})),h.targetMismatches.forEach(((f,p)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(an.EMPTY_BYTE_STRING,g.snapshotVersion)),mI(a,f);const w=new gi(g.target,f,p,g.sequenceNumber);my(a,w)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){xe(Do,"Failed to raise snapshot:",r),await gd(t,r)}}async function gd(t,e,n){if(!tl(e))throw e;t.Ea.add(1),await Ju(t),t.Va.set("Offline"),n||(n=()=>hI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{xe(Do,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ef(t)}))}function yI(t,e){return e().catch((n=>gd(t,n,e)))}async function tf(t){const e=Ke(t),n=Ai(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ey;for(;rM(e);)try{const i=await LV(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,sM(e,i)}catch(i){await gd(e,i)}vI(e)&&wI(e)}function rM(t){return Lo(t)&&t.Ta.length<10}function sM(t,e){t.Ta.push(e);const n=Ai(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function vI(t){return Lo(t)&&!Ai(t).x_()&&t.Ta.length>0}function wI(t){Ai(t).start()}async function iM(t){Ai(t).ra()}async function oM(t){const e=Ai(t);for(const n of t.Ta)e.ea(n.mutations)}async function aM(t,e,n){const r=t.Ta.shift(),i=ay.from(r,e,n);await yI(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await tf(t)}async function lM(t,e){e&&Ai(t).Y_&&await(async function(r,i){if((function(l){return z2(l)&&l!==oe.ABORTED})(i.code)){const a=r.Ta.shift();Ai(r).B_(),await yI(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await tf(r)}})(t,e),vI(t)&&wI(t)}async function oT(t,e){const n=Ke(t);n.asyncQueue.verifyOperationInProgress(),xe(Do,"RemoteStore received new credentials");const r=Lo(n);n.Ea.add(3),await Ju(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ef(n)}async function uM(t,e){const n=Ke(t);e?(n.Ea.delete(2),await ef(n)):e||(n.Ea.add(2),await Ju(n),n.Va.set("Unknown"))}function rl(t){return t.ma||(t.ma=(function(n,r,i){const a=Ke(n);return a.sa(),new HV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:ZV.bind(null,t),Yo:eM.bind(null,t),t_:tM.bind(null,t),J_:nM.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),yy(t)?gy(t):t.Va.set("Unknown")):(await t.ma.stop(),gI(t))}))),t.ma}function Ai(t){return t.fa||(t.fa=(function(n,r,i){const a=Ke(n);return a.sa(),new GV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:iM.bind(null,t),t_:lM.bind(null,t),ta:oM.bind(null,t),na:aM.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await tf(t)):(await t.fa.stop(),t.Ta.length>0&&(xe(Do,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class vy{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,h=new vy(e,n,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(t,e){if(Is("AsyncQueue",`${e}: ${t}`),tl(t))return new Te(oe.UNAVAILABLE,`${e}: ${t}`);throw t}class La{static emptySet(e){return new La(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=cu(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new La;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class aT{constructor(){this.ga=new Ct(je.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):$e(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Wa{constructor(e,n,r,i,a,l,h,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((h=>{l.push({type:0,doc:h})})),new Wa(e,n,La.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class cM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class hM{constructor(){this.queries=lT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ke(n),a=i.queries;i.queries=lT(),a.forEach(((l,h)=>{for(const f of h.ba)f.onError(r)}))})(this,new Te(oe.ABORTED,"Firestore shutting down"))}}function lT(){return new Oo((t=>jS(t)),Kd)}async function _y(t,e){const n=Ke(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new cM,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const h=wy(l,`Initialization of query '${Ca(e.query)}' failed`);return void e.onError(h)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Ey(n)}async function Ty(t,e){const n=Ke(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.ba.indexOf(e);l>=0&&(a.ba.splice(l,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dM(t,e){const n=Ke(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const h of l.ba)h.Fa(i)&&(r=!0);l.wa=i}}r&&Ey(n)}function fM(t,e,n){const r=Ke(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function Ey(t){t.Ca.forEach((e=>{e.next()}))}var Xm,uT;(uT=Xm||(Xm={})).Ma="default",uT.Cache="cache";class Sy{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xm.Cache}}class _I{constructor(e){this.key=e}}class TI{constructor(e){this.key=e}}class pM{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=tt(),this.mutatedKeys=tt(),this.eu=US(e),this.tu=new La(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new aT,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,w)=>{const _=i.get(g),A=Yd(this.query,w)?w:null,O=!!_&&this.mutatedKeys.has(_.key),M=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;_&&A?_.data.isEqual(A.data)?O!==M&&(r.track({type:3,doc:A}),L=!0):this.su(_,A)||(r.track({type:2,doc:A}),L=!0,(f&&this.eu(A,f)>0||p&&this.eu(A,p)<0)&&(h=!0)):!_&&A?(r.track({type:0,doc:A}),L=!0):_&&!A&&(r.track({type:1,doc:_}),L=!0,(f||p)&&(h=!0)),L&&(A?(l=l.add(A),a=M?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Ss:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,w)=>(function(A,O){const M=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Vt:L})}};return M(A)-M(O)})(g.type,w.type)||this.eu(g.doc,w.doc))),this.ou(r),i=i??!1;const h=n&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,p=f!==this.Xa;return this.Xa=f,l.length!==0||p?{snapshot:new Wa(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=tt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new TI(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new _I(r))})),n}cu(e){this.Za=e.ks,this.Ya=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Iy="SyncEngine";class mM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gM{constructor(e){this.key=e,this.hu=!1}}class yM{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Oo((h=>jS(h)),Kd),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ct(je.comparator),this.Au=new Map,this.Vu=new cy,this.du={},this.mu=new Map,this.fu=$a.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vM(t,e,n=!0){const r=xI(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await EI(r,e,n,!0),i}async function wM(t,e){const n=xI(t);await EI(n,e,!0,!1)}async function EI(t,e,n,r){const i=await FV(t.localStore,Wr(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await _M(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&pI(t.remoteStore,i),h}async function _M(t,e,n,r,i){t.pu=(w,_,A)=>(async function(M,L,B,q){let U=L.view.ru(B);U.Ss&&(U=await tT(M.localStore,L.query,!1).then((({documents:k})=>L.view.ru(k,U))));const ie=q&&q.targetChanges.get(L.targetId),F=q&&q.targetMismatches.get(L.targetId)!=null,X=L.view.applyChanges(U,M.isPrimaryClient,ie,F);return hT(M,L.targetId,X.au),X.snapshot})(t,w,_,A);const a=await tT(t.localStore,e,!0),l=new pM(e,a.ks),h=l.ru(a.documents),f=Xu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(h,t.isPrimaryClient,f);hT(t,n,p.au);const g=new mM(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function TM(t,e,n){const r=Ke(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!Kd(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ym(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&py(r.remoteStore,i.targetId),Jm(r,i.targetId)})).catch(el)):(Jm(r,i.targetId),await Ym(r.localStore,i.targetId,!0))}async function EM(t,e){const n=Ke(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),py(n.remoteStore,r.targetId))}async function SM(t,e,n){const r=PM(t);try{const i=await(function(l,h){const f=Ke(l),p=vt.now(),g=h.reduce(((A,O)=>A.add(O.key)),tt());let w,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let O=ks(),M=tt();return f.xs.getEntries(A,g).next((L=>{O=L,O.forEach(((B,q)=>{q.isValidDocument()||(M=M.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,O))).next((L=>{w=L;const B=[];for(const q of h){const U=L2(q,w.get(q.key).overlayedDocument);U!=null&&B.push(new Mi(q.key,U,RS(U.value.mapValue),tr.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,B,h)})).next((L=>{_=L;const B=L.applyToLocalDocumentSet(w,M);return f.documentOverlayCache.saveOverlays(A,L.batchId,B)}))})).then((()=>({batchId:_.batchId,changes:zS(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,h,f){let p=l.du[l.currentUser.toKey()];p||(p=new Ct(et)),p=p.insert(h,f),l.du[l.currentUser.toKey()]=p})(r,i.batchId,n),await Zu(r,i.changes),await tf(r.remoteStore)}catch(i){const a=wy(i,"Failed to persist write");n.reject(a)}}async function SI(t,e){const n=Ke(t);try{const r=await MV(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(at(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?at(l.hu,14607):i.removedDocuments.size>0&&(at(l.hu,42227),l.hu=!1))})),await Zu(n,r,e)}catch(r){await el(r)}}function cT(t,e,n){const r=Ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const h=l.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(l,h){const f=Ke(l);f.onlineState=h;let p=!1;f.queries.forEach(((g,w)=>{for(const _ of w.ba)_.va(h)&&(p=!0)})),p&&Ey(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IM(t,e,n){const r=Ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new Ct(je.comparator);l=l.insert(a,gn.newNoDocument(a,He.min()));const h=tt().add(a),f=new Jd(He.min(),new Map,new Ct(et),l,h);await SI(r,f),r.Ru=r.Ru.remove(a),r.Au.delete(e),ky(r)}else await Ym(r.localStore,e,!1).then((()=>Jm(r,e,n))).catch(el)}async function kM(t,e){const n=Ke(t),r=e.batch.batchId;try{const i=await VV(n.localStore,e);kI(n,r,null),II(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zu(n,i)}catch(i){await el(i)}}async function CM(t,e,n){const r=Ke(t);try{const i=await(function(l,h){const f=Ke(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return f.mutationQueue.lookupMutationBatch(p,h).next((w=>(at(w!==null,37113),g=w.keys(),f.mutationQueue.removeMutationBatch(p,w)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>f.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);kI(r,e,n),II(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zu(r,i)}catch(i){await el(i)}}function II(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function kI(t,e,n){const r=Ke(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Jm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||CI(t,r)}))}function CI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(py(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),ky(t))}function hT(t,e,n){for(const r of n)r instanceof _I?(t.Vu.addReference(r.key,e),xM(t,r)):r instanceof TI?(xe(Iy,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||CI(t,r.key)):$e(19791,{wu:r})}function xM(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(xe(Iy,"New document in limbo: "+n),t.Eu.add(r),ky(t))}function ky(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new je(ft.fromString(e)),r=t.fu.next();t.Au.set(r,new gM(n)),t.Ru=t.Ru.insert(n,r),pI(t.remoteStore,new gi(Wr(Gd(n.path)),r,"TargetPurposeLimboResolution",Wd.ce))}}async function Zu(t,e,n){const r=Ke(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{l.push(r.pu(f,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const g=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(p){i.push(p);const g=dy.Es(f.targetId,p);a.push(g)}})))})),await Promise.all(l),r.Pu.J_(i),await(async function(f,p){const g=Ke(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ue.forEach(p,(_=>ue.forEach(_.Ts,(A=>g.persistence.referenceDelegate.addReference(w,_.targetId,A))).next((()=>ue.forEach(_.Is,(A=>g.persistence.referenceDelegate.removeReference(w,_.targetId,A)))))))))}catch(w){if(!tl(w))throw w;xe(fy,"Failed to update sequence numbers: "+w)}for(const w of p){const _=w.targetId;if(!w.fromCache){const A=g.vs.get(_),O=A.snapshotVersion,M=A.withLastLimboFreeSnapshotVersion(O);g.vs=g.vs.insert(_,M)}}})(r.localStore,a))}async function AM(t,e){const n=Ke(t);if(!n.currentUser.isEqual(e)){xe(Iy,"User change. New user:",e.toKey());const r=await cI(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new Te(oe.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zu(n,r.Ns)}}function bM(t,e){const n=Ke(t),r=n.Au.get(e);if(r&&r.hu)return tt().add(r.key);{let i=tt();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const h=n.Tu.get(l);i=i.unionWith(h.view.nu)}return i}}function xI(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IM.bind(null,e),e.Pu.J_=dM.bind(null,e.eventManager),e.Pu.yu=fM.bind(null,e.eventManager),e}function PM(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CM.bind(null,e),e}class yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return NV(this.persistence,new PV,e.initialUser,this.serializer)}Cu(e){return new uI(hy.Vi,this.serializer)}Du(e){return new UV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yd.provider={build:()=>new yd};class RM extends yd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){at(this.persistence.referenceDelegate instanceof md,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new uI((r=>md.Vi(r,n)),this.serializer)}}class Zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AM.bind(null,this.syncEngine),await uM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hM})()}createDatastore(e){const n=Zd(e.databaseInfo.databaseId),r=qV(e.databaseInfo);return QV(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,h){return new JV(r,i,a,l,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>cT(this.syncEngine,n,0)),(function(){return sT.v()?new sT:new BV})())}createSyncEngine(e,n){return(function(i,a,l,h,f,p,g){const w=new yM(i,a,l,h,f,p);return g&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ke(n);xe(Do,"RemoteStore shutting down."),r.Ea.add(5),await Ju(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zm.provider={build:()=>new Zm};class Cy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const bi="FirestoreClient";class DM{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=Zg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{xe(bi,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(xe(bi,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function rm(t,e){t.asyncQueue.verifyOperationInProgress(),xe(bi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await cI(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function dT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NM(t);xe(bi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>oT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>oT(e.remoteStore,i))),t._onlineComponents=e}async function NM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(bi,"Using user provided OfflineComponentProvider");try{await rm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ja("Error using user provided cache. Falling back to memory cache: "+n),await rm(t,new yd)}}else xe(bi,"Using default OfflineComponentProvider"),await rm(t,new RM(void 0));return t._offlineComponents}async function AI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(bi,"Using user provided OnlineComponentProvider"),await dT(t,t._uninitializedComponentsProvider._online)):(xe(bi,"Using default OnlineComponentProvider"),await dT(t,new Zm))),t._onlineComponents}function VM(t){return AI(t).then((e=>e.syncEngine))}async function vd(t){const e=await AI(t),n=e.eventManager;return n.onListen=vM.bind(null,e.syncEngine),n.onUnlisten=TM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EM.bind(null,e.syncEngine),n}function MM(t,e,n,r){const i=new Cy(r),a=new Sy(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>_y(await vd(t),a))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>Ty(await vd(t),a)))}}function OM(t,e,n={}){const r=new _s;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,h,f,p){const g=new Cy({next:_=>{g.Nu(),l.enqueueAndForget((()=>Ty(a,w)));const A=_.docs.has(h);!A&&_.fromCache?p.reject(new Te(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&_.fromCache&&f&&f.source==="server"?p.reject(new Te(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),w=new Sy(Gd(h.path),g,{includeMetadataChanges:!0,Ka:!0});return _y(a,w)})(await vd(t),t.asyncQueue,e,n,r))),r.promise}function LM(t,e,n={}){const r=new _s;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,h,f,p){const g=new Cy({next:_=>{g.Nu(),l.enqueueAndForget((()=>Ty(a,w))),_.fromCache&&f.source==="server"?p.reject(new Te(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),w=new Sy(h,g,{includeMetadataChanges:!0,Ka:!0});return _y(a,w)})(await vd(t),t.asyncQueue,e,n,r))),r.promise}function FM(t,e){const n=new _s;return t.asyncQueue.enqueueAndForget((async()=>SM(await VM(t),e,n))),n.promise}function bI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const jM="ComponentProvider",fT=new Map;function UM(t,e,n,r,i){return new s2(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,bI(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const PI="firestore.googleapis.com",pT=!0;class mT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PI,this.ssl=pT}else this.host=e.host,this.ssl=e.ssl??pT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fV)throw new Te(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Te(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Te(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Te(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ON;switch(r.type){case"firstParty":return new UN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=fT.get(n);r&&(xe(jM,"Removing Datastore"),fT.delete(n),r.terminate())})(this),Promise.resolve()}}function BM(t,e,n,r={}){t=Nn(t,nf);const i=Ni(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;i&&(Lg(`https://${h}`),Fg("Firestore",!0)),a.host!==PI&&a.host!==h&&ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:i,emulatorOptions:r};if(!Co(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=mn.MOCK_USER;else{p=Wb(r.mockUserToken,t._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Te(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new mn(w)}t._authCredentials=new LN(new wS(p,g))}}class Rs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Yu(n,Rt._jsonSchema))return new Rt(e,r||null,new je(ft.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:zt("string",Rt._jsonSchemaVersion),referencePath:zt("string")};class Ei extends Rs{constructor(e,n,r){super(e,n,Gd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new je(e))}withConverter(e){return new Ei(this.firestore,e,this._path)}}function $h(t,e,...n){if(t=pt(t),_S("collection","path",e),t instanceof nf){const r=ft.fromString(e,...n);return A_(r),new Ei(t,null,r)}{if(!(t instanceof Rt||t instanceof Ei))throw new Te(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return A_(r),new Ei(t.firestore,null,r)}}function Br(t,e,...n){if(t=pt(t),arguments.length===1&&(e=Zg.newId()),_S("doc","path",e),t instanceof nf){const r=ft.fromString(e,...n);return x_(r),new Rt(t,null,new je(r))}{if(!(t instanceof Rt||t instanceof Ei))throw new Te(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return x_(r),new Rt(t.firestore,t instanceof Ei?t.converter:null,new je(r))}}const gT="AsyncQueue";class yT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dI(this,"async_queue_retry"),this._c=()=>{const r=nm();r&&xe(gT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!tl(e))throw e;xe(gT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Is("INTERNAL UNHANDLED ERROR: ",vT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=vy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&$e(47125,{Pc:vT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function vT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Cs extends nf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yT(e),this._firestoreClient=void 0,await e}}}function zM(t,e){const n=typeof t=="object"?t:Bg(),r=typeof t=="string"?t:ud,i=jd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=E1("firestore");a&&BM(i,...a)}return i}function rf(t){if(t._terminated)throw new Te(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$M(t),t._firestoreClient}function $M(t){const e=t._freezeSettings(),n=UM(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new DM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(an.fromBase64String(e))}catch(n){throw new Te(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zn(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yu(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:zt("string",Zn._jsonSchemaVersion),bytes:zt("string")};class xy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sf{constructor(e){this._methodName=e}}class Hr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hr._jsonSchemaVersion}}static fromJSON(e){if(Yu(e,Hr._jsonSchema))return new Hr(e.latitude,e.longitude)}}Hr._jsonSchemaVersion="firestore/geoPoint/1.0",Hr._jsonSchema={type:zt("string",Hr._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class vr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yu(e,vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new vr(e.vectorValues);throw new Te(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vr._jsonSchemaVersion="firestore/vectorValue/1.0",vr._jsonSchema={type:zt("string",vr._jsonSchemaVersion),vectorValues:zt("object")};const WM=/^__.*__$/;class qM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qu(e,this.data,n,this.fieldTransforms)}}class RI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{dataSource:t})}}class Ay{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ay({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return wd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(DI(this.dataSource)&&WM.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class HM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zd(e)}createContext(e,n,r,i=!1){return new Ay({dataSource:e,methodName:n,targetDoc:r,path:on.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function of(t){const e=t._freezeSettings(),n=Zd(t._databaseId);return new HM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NI(t,e,n,r,i,a={}){const l=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);Py("Data must be an object, but it was:",l,r);const h=VI(r,l);let f,p;if(a.merge)f=new $n(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const w of a.mergeFields){const _=No(e,w,n);if(!l.contains(_))throw new Te(oe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);LI(g,_)||g.push(_)}f=new $n(g),p=l.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,p=l.fieldTransforms;return new qM(new Rn(h),f,p)}class af extends sf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}class by extends sf{_toFieldTransform(e){return new N2(e.path,new Mu)}isEqual(e){return e instanceof by}}function GM(t,e,n,r){const i=t.createContext(1,e,n);Py("Data must be an object, but it was:",i,r);const a=[],l=Rn.empty();Vi(r,((f,p)=>{const g=OI(e,f,n);p=pt(p);const w=i.childContextForFieldPath(g);if(p instanceof af)a.push(g);else{const _=ec(p,w);_!=null&&(a.push(g),l.set(g,_))}}));const h=new $n(a);return new RI(l,h,i.fieldTransforms)}function KM(t,e,n,r,i,a){const l=t.createContext(1,e,n),h=[No(e,r,n)],f=[i];if(a.length%2!=0)throw new Te(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)h.push(No(e,a[_])),f.push(a[_+1]);const p=[],g=Rn.empty();for(let _=h.length-1;_>=0;--_)if(!LI(p,h[_])){const A=h[_];let O=f[_];O=pt(O);const M=l.childContextForFieldPath(A);if(O instanceof af)p.push(A);else{const L=ec(O,M);L!=null&&(p.push(A),g.set(A,L))}}const w=new $n(p);return new RI(g,w,l.fieldTransforms)}function YM(t,e,n,r=!1){return ec(n,t.createContext(r?4:3,e))}function ec(t,e){if(MI(t=pt(t)))return Py("Unsupported field value:",e,t),VI(t,e);if(t instanceof sf)return(function(r,i){if(!DI(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const h of r){let f=ec(h,i.childContextForArray(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=vt.fromDate(r);return{timestampValue:pd(i.serializer,a)}}if(r instanceof vt){const a=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pd(i.serializer,a)}}if(r instanceof Hr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:eI(i.serializer,r._byteString)};if(r instanceof Rt){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:uy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof vr)return(function(l,h){const f=l instanceof vr?l.toArray():l;return{mapValue:{fields:{[bS]:{stringValue:PS},[cd]:{arrayValue:{values:f.map((g=>{if(typeof g!="number")throw h.createError("VectorValues must only contain numeric values.");return iy(h.serializer,g)}))}}}}}})(r,i);if(aI(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${$d(r)}`)})(t,e)}function VI(t,e){const n={};return SS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vi(t,((r,i)=>{const a=ec(i,e.childContextForField(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function MI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof Hr||t instanceof Zn||t instanceof Rt||t instanceof sf||t instanceof vr||aI(t))}function Py(t,e,n){if(!MI(n)||!TS(n)){const r=$d(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function No(t,e,n){if((e=pt(e))instanceof xy)return e._internalPath;if(typeof e=="string")return OI(t,e);throw wd("Field path arguments must be of type string or ",t,!1,void 0,n)}const QM=new RegExp("[~\\*/\\[\\]]");function OI(t,e,n){if(e.search(QM)>=0)throw wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xy(...e.split("."))._internalPath}catch{throw wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wd(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Te(oe.INVALID_ARGUMENT,h+t+f)}function LI(t,e){return t.some((n=>n.isEqual(e)))}class XM{convertValue(e,n="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vi(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[cd].arrayValue?.values?.map((r=>Vt(r.doubleValue)));return new vr(n)}convertGeoPoint(e){return new Hr(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ru(e));default:return null}}convertTimestamp(e){const n=ki(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);at(oI(r),9688,{name:e});const i=new Du(r.get(1),r.get(3)),a=new je(r.popFirst(5));return i.isEqual(n)||Is(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}class Ry extends XM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function Wh(){return new by("serverTimestamp")}const wT="@firebase/firestore",_T="4.10.0";function TT(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class FI{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(No("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JM extends FI{data(){return super.data()}}function jI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dy{}class Ny extends Dy{}function eg(t,e,...n){let r=[];e instanceof Dy&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof Vy)).length,h=a.filter((f=>f instanceof lf)).length;if(l>1||l>0&&h>0)throw new Te(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class lf extends Ny{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lf(e,n,r)}_apply(e){const n=this._parse(e);return UI(e._query,n),new Rs(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=of(e.firestore);return(function(a,l,h,f,p,g,w){let _;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Te(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){ST(w,g);const O=[];for(const M of w)O.push(ET(f,a,M));_={arrayValue:{values:O}}}else _=ET(f,a,w)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||ST(w,g),_=YM(h,l,w,g==="in"||g==="not-in");return Bt.create(p,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function tg(t,e,n){const r=e,i=No("where",t);return lf._create(i,r,n)}class Vy extends Dy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:wr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const h=a.getFlattenedFilters();for(const f of h)UI(l,f),l=Wm(l,f)})(e._query,n),new Rs(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class My extends Ny{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new My(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new Te(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vu(a,l)})(e._query,this._field,this._direction);return new Rs(e.firestore,e.converter,E2(e._query,n))}}function Vo(t,e="asc"){const n=e,r=No("orderBy",t);return My._create(r,n)}class Oy extends Ny{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Oy(e,n,r)}_apply(e){return new Rs(e.firestore,e.converter,dd(e._query,this._limit,this._limitType))}}function qa(t){return GN("limit",t),Oy._create("limit",t,"F")}function ET(t,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new Te(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FS(e)&&n.indexOf("/")!==-1)throw new Te(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!je.isDocumentKey(r))throw new Te(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return O_(t,new je(r))}if(n instanceof Rt)return O_(t,n._key);throw new Te(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$d(n)}.`)}function ST(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UI(t,e){const n=(function(i,a){for(const l of i)for(const h of l.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Te(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function BI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class du{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eo extends FI{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(No("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eo._jsonSchema={type:zt("string",Eo._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class qh extends Eo{data(e={}){return super.data(e)}}class So{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new du(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new qh(this._firestore,this._userDataWriter,r.key,r,new du(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((h=>{const f=new qh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new du(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new qh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new du(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return h.type!==0&&(p=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),g=l.indexOf(h.doc.key)),{type:ZM(h.type),doc:f,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=So._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:t})}}So._jsonSchemaVersion="firestore/querySnapshot/1.0",So._jsonSchema={type:zt("string",So._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};function Ly(t){t=Nn(t,Rt);const e=Nn(t.firestore,Cs),n=rf(e);return OM(n,t._key).then((r=>WI(e,t,r)))}function zI(t){t=Nn(t,Rs);const e=Nn(t.firestore,Cs),n=rf(e),r=new Ry(e);return jI(t._query),LM(n,t._query).then((i=>new So(e,r,t,i)))}function _d(t,e,n){t=Nn(t,Rt);const r=Nn(t.firestore,Cs),i=BI(t.converter,e,n),a=of(r);return uf(r,[NI(a,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,tr.none())])}function $I(t,e,n,...r){t=Nn(t,Rt);const i=Nn(t.firestore,Cs),a=of(i);let l;return l=typeof(e=pt(e))=="string"||e instanceof xy?KM(a,"updateDoc",t._key,e,n,r):GM(a,"updateDoc",t._key,e),uf(i,[l.toMutation(t._key,tr.exists(!0))])}function eO(t){return uf(Nn(t.firestore,Cs),[new oy(t._key,tr.none())])}function tO(t,e){const n=Nn(t.firestore,Cs),r=Br(t),i=BI(t.converter,e),a=of(t.firestore);return uf(n,[NI(a,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then((()=>r))}function Td(t,...e){t=pt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||TT(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(TT(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let a,l,h;if(t instanceof Rt)l=Nn(t.firestore,Cs),h=Gd(t._key.path),a={next:p=>{e[r]&&e[r](WI(l,t,p))},error:e[r+1],complete:e[r+2]};else{const p=Nn(t,Rs);l=Nn(p.firestore,Cs),h=p._query;const g=new Ry(l);a={next:w=>{e[r]&&e[r](new So(l,g,p,w))},error:e[r+1],complete:e[r+2]},jI(t._query)}const f=rf(l);return MM(f,h,i,a)}function uf(t,e){const n=rf(t);return FM(n,e)}function WI(t,e,n){const r=n.docs.get(e._key),i=new Ry(t);return new Eo(t,i,e._key,r,new du(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){MN(Xa),xo(new Si("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new Cs(new FN(r.getProvider("auth-internal")),new BN(l,r.getProvider("app-check-internal")),i2(l,i),l);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),zr(wT,_T,e),zr(wT,_T,"esm2020")})();const nO={apiKey:"AIzaSyAFLf5FxuXFw21D1Kxkq9cPQ59oGPSJbGg",authDomain:"humi-awake.firebaseapp.com",projectId:"humi-awake",storageBucket:"humi-awake.appspot.com",messagingSenderId:"473703878796",appId:"1:473703878796:web:2b612896eace5d6a6eeba9"},cf=x1(nO),Ed=NN(cf),Xt=zM(cf),r9=Object.freeze(Object.defineProperty({__proto__:null,app:cf,auth:Ed,db:Xt},Symbol.toStringTag,{value:"Module"}));var Hh={exports:{}},rO=Hh.exports,IT;function sO(){return IT||(IT=1,(function(t){(function(e){function n(F,X){var k=(F&65535)+(X&65535),I=(F>>16)+(X>>16)+(k>>16);return I<<16|k&65535}function r(F,X){return F<<X|F>>>32-X}function i(F,X,k,I,b,N){return n(r(n(n(X,F),n(I,N)),b),k)}function a(F,X,k,I,b,N,V){return i(X&k|~X&I,F,X,b,N,V)}function l(F,X,k,I,b,N,V){return i(X&I|k&~I,F,X,b,N,V)}function h(F,X,k,I,b,N,V){return i(X^k^I,F,X,b,N,V)}function f(F,X,k,I,b,N,V){return i(k^(X|~I),F,X,b,N,V)}function p(F,X){F[X>>5]|=128<<X%32,F[(X+64>>>9<<4)+14]=X;var k,I,b,N,V,P=1732584193,S=-271733879,G=-1732584194,z=271733878;for(k=0;k<F.length;k+=16)I=P,b=S,N=G,V=z,P=a(P,S,G,z,F[k],7,-680876936),z=a(z,P,S,G,F[k+1],12,-389564586),G=a(G,z,P,S,F[k+2],17,606105819),S=a(S,G,z,P,F[k+3],22,-1044525330),P=a(P,S,G,z,F[k+4],7,-176418897),z=a(z,P,S,G,F[k+5],12,1200080426),G=a(G,z,P,S,F[k+6],17,-1473231341),S=a(S,G,z,P,F[k+7],22,-45705983),P=a(P,S,G,z,F[k+8],7,1770035416),z=a(z,P,S,G,F[k+9],12,-1958414417),G=a(G,z,P,S,F[k+10],17,-42063),S=a(S,G,z,P,F[k+11],22,-1990404162),P=a(P,S,G,z,F[k+12],7,1804603682),z=a(z,P,S,G,F[k+13],12,-40341101),G=a(G,z,P,S,F[k+14],17,-1502002290),S=a(S,G,z,P,F[k+15],22,1236535329),P=l(P,S,G,z,F[k+1],5,-165796510),z=l(z,P,S,G,F[k+6],9,-1069501632),G=l(G,z,P,S,F[k+11],14,643717713),S=l(S,G,z,P,F[k],20,-373897302),P=l(P,S,G,z,F[k+5],5,-701558691),z=l(z,P,S,G,F[k+10],9,38016083),G=l(G,z,P,S,F[k+15],14,-660478335),S=l(S,G,z,P,F[k+4],20,-405537848),P=l(P,S,G,z,F[k+9],5,568446438),z=l(z,P,S,G,F[k+14],9,-1019803690),G=l(G,z,P,S,F[k+3],14,-187363961),S=l(S,G,z,P,F[k+8],20,1163531501),P=l(P,S,G,z,F[k+13],5,-1444681467),z=l(z,P,S,G,F[k+2],9,-51403784),G=l(G,z,P,S,F[k+7],14,1735328473),S=l(S,G,z,P,F[k+12],20,-1926607734),P=h(P,S,G,z,F[k+5],4,-378558),z=h(z,P,S,G,F[k+8],11,-2022574463),G=h(G,z,P,S,F[k+11],16,1839030562),S=h(S,G,z,P,F[k+14],23,-35309556),P=h(P,S,G,z,F[k+1],4,-1530992060),z=h(z,P,S,G,F[k+4],11,1272893353),G=h(G,z,P,S,F[k+7],16,-155497632),S=h(S,G,z,P,F[k+10],23,-1094730640),P=h(P,S,G,z,F[k+13],4,681279174),z=h(z,P,S,G,F[k],11,-358537222),G=h(G,z,P,S,F[k+3],16,-722521979),S=h(S,G,z,P,F[k+6],23,76029189),P=h(P,S,G,z,F[k+9],4,-640364487),z=h(z,P,S,G,F[k+12],11,-421815835),G=h(G,z,P,S,F[k+15],16,530742520),S=h(S,G,z,P,F[k+2],23,-995338651),P=f(P,S,G,z,F[k],6,-198630844),z=f(z,P,S,G,F[k+7],10,1126891415),G=f(G,z,P,S,F[k+14],15,-1416354905),S=f(S,G,z,P,F[k+5],21,-57434055),P=f(P,S,G,z,F[k+12],6,1700485571),z=f(z,P,S,G,F[k+3],10,-1894986606),G=f(G,z,P,S,F[k+10],15,-1051523),S=f(S,G,z,P,F[k+1],21,-2054922799),P=f(P,S,G,z,F[k+8],6,1873313359),z=f(z,P,S,G,F[k+15],10,-30611744),G=f(G,z,P,S,F[k+6],15,-1560198380),S=f(S,G,z,P,F[k+13],21,1309151649),P=f(P,S,G,z,F[k+4],6,-145523070),z=f(z,P,S,G,F[k+11],10,-1120210379),G=f(G,z,P,S,F[k+2],15,718787259),S=f(S,G,z,P,F[k+9],21,-343485551),P=n(P,I),S=n(S,b),G=n(G,N),z=n(z,V);return[P,S,G,z]}function g(F){var X,k="",I=F.length*32;for(X=0;X<I;X+=8)k+=String.fromCharCode(F[X>>5]>>>X%32&255);return k}function w(F){var X,k=[];for(k[(F.length>>2)-1]=void 0,X=0;X<k.length;X+=1)k[X]=0;var I=F.length*8;for(X=0;X<I;X+=8)k[X>>5]|=(F.charCodeAt(X/8)&255)<<X%32;return k}function _(F){return g(p(w(F),F.length*8))}function A(F,X){var k,I=w(F),b=[],N=[],V;for(b[15]=N[15]=void 0,I.length>16&&(I=p(I,F.length*8)),k=0;k<16;k+=1)b[k]=I[k]^909522486,N[k]=I[k]^1549556828;return V=p(b.concat(w(X)),512+X.length*8),g(p(N.concat(V),640))}function O(F){var X="0123456789abcdef",k="",I,b;for(b=0;b<F.length;b+=1)I=F.charCodeAt(b),k+=X.charAt(I>>>4&15)+X.charAt(I&15);return k}function M(F){return unescape(encodeURIComponent(F))}function L(F){return _(M(F))}function B(F){return O(L(F))}function q(F,X){return A(M(F),M(X))}function U(F,X){return O(q(F,X))}function ie(F,X,k){return X?k?q(X,F):U(X,F):k?L(F):B(F)}t.exports?t.exports=ie:e.md5=ie})(rO)})(Hh)),Hh.exports}var iO=sO();const kT=bg(iO),qI=C.createContext(),oO=t=>{if(!t)return null;const e=t.displayName||"User",n=t.email||"";`${kT(n.trim().toLowerCase())}`;const r=`https://ui-avatars.com/api/?name=${encodeURIComponent(e)}&background=random&color=fff&bold=true`,i=t.photoURL||`https://www.gravatar.com/avatar/${kT(n.trim().toLowerCase())}?d=${encodeURIComponent(r)}`,a=["bg-red-500","bg-orange-500","bg-amber-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500"];let l=0;for(let f=0;f<e.length;f++)l=e.charCodeAt(f)+((l<<5)-l);const h=a[Math.abs(l)%a.length];return{...t,uid:t.uid,email:n,name:e,avatar:i,initials:e.charAt(0).toUpperCase(),profileColor:h}},aO=({children:t})=>{const[e,n]=C.useState(null),[r,i]=C.useState(!0);C.useEffect(()=>{const f=SD(Ed,p=>{if(p){const g=oO(p),w=Br(Xt,"users",p.uid);Ly(w).then(_=>{let A="user";_.exists()?A=_.data().role||"user":_d(w,{uid:p.uid,email:p.email,name:p.displayName||"User",role:"user",createdAt:Wh()}).catch(O=>console.error("Error creating user doc:",O)),n({...g,role:A}),i(!1)}).catch(_=>{console.error("Error fetching user role:",_),n(g),i(!1)})}else n(null),i(!1)});return()=>f()},[]);const a=C.useCallback(()=>eS(Ed),[]),l=C.useCallback(f=>{},[]),h=C.useMemo(()=>({user:e,loading:r,logout:a,dispatch:l,authIsReady:!r,isAdmin:e?.role==="admin"}),[e,r,a,l]);return R.jsx(qI.Provider,{value:h,children:t})},Oi=()=>{const t=C.useContext(qI);if(!t)throw new Error("useAuthContext must be used inside an AuthContextProvider");return t},be={subscribeToCollection:(t,e,...n)=>{if(!Xt)return console.warn("Firestore not initialized"),()=>{};let r=n,i=null;n.length>0&&typeof n[n.length-1]=="function"&&(i=n.pop(),r=n);try{const a=$h(Xt,t),l=eg(a,...r);return Td(l,f=>{const p=f.docs.map(g=>({id:g.id,...g.data()}));e(p)},f=>{i?i(f):console.error(`Error subscribing to ${t}: `,f)})}catch(a){return console.error(`Error setting up subscription for ${t}: `,a),i&&i(a),()=>{}}},subscribeToDocument:(t,e,n)=>{if(!Xt)return()=>{};try{const r=Br(Xt,t,e);return Td(r,a=>{a.exists()?n({id:a.id,...a.data()}):n(null)},a=>{console.error(`Error subscribing to ${t}/${e}:`,a)})}catch(r){return console.error(`Error in document subscription ${t}/${e}:`,r),()=>{}}},addItem:async(t,e)=>{const n=$h(Xt,t);return await tO(n,e)},setItem:async(t,e,n,r=!0)=>{const i=Br(Xt,t,e);return await _d(i,n,{merge:r})},updateItem:async(t,e,n)=>{const r=Br(Xt,t,e);return await $I(r,n)},deleteItem:async(t,e)=>{const n=e?Br(Xt,t,e):Br(Xt,t);return await eO(n)},getDocument:async(t,e)=>{if(!Xt)return null;const n=Br(Xt,t,e),r=await Ly(n);return r.exists()?{id:r.id,...r.data()}:null},getCollection:async(t,...e)=>{if(!Xt)return[];const n=$h(Xt,t),r=eg(n,...e);return(await zI(r)).docs.map(a=>({id:a.id,...a.data()}))}},HI=C.createContext(),GI=()=>{const t=C.useContext(HI);if(!t)throw new Error("useTheme must be used within a ThemeContextProvider");return t},lO=({children:t})=>{const{user:e}=Oi(),[n,r]=C.useState(()=>{if(typeof window<"u"){const l=localStorage.getItem("theme");if(l)return l;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"});C.useEffect(()=>{const l=window.document.documentElement,h="#ffffff",f="#020617";l.classList.add("theme-transition"),n==="dark"?(l.classList.add("dark"),l.style.colorScheme="dark"):(l.classList.remove("dark"),l.style.colorScheme="light");const p=document.querySelector('meta[name="theme-color"]'),g=n==="dark"?f:h;p&&p.setAttribute("content",g),localStorage.setItem("theme",n);const w=setTimeout(()=>{l.classList.remove("theme-transition")},300);return()=>clearTimeout(w)},[n]);const i=C.useCallback(async()=>{const l=n==="dark"?"light":"dark";if(r(l),e)try{await be.setItem(`users/${e.uid}/config`,"settings",{theme:l},!0)}catch(h){console.error("Failed to save theme",h)}},[n,e]),a=C.useMemo(()=>({theme:n,toggleTheme:i,isDark:n==="dark"}),[n,i]);return R.jsx(HI.Provider,{value:a,children:t})},KI=C.createContext(),hf=()=>{const t=C.useContext(KI);if(!t)throw new Error("useDate must be used within a DateContextProvider");return t},uO=({children:t})=>{const[e,n]=Vb(),r=()=>{const q=new Date;return q.setHours(0,0,0,0),q},i=q=>{if(!q)return null;const[U,ie,F]=q.split("-").map(Number);return new Date(U,ie-1,F)},a=q=>{const U=q.getFullYear(),ie=String(q.getMonth()+1).padStart(2,"0"),F=String(q.getDate()).padStart(2,"0");return`${U}-${ie}-${F}`},l=()=>{const q=e.get("date");if(q){const U=i(q);if(U&&U<=r())return U}return r()},[h,f]=C.useState(l);C.useEffect(()=>{const q=a(h);n({date:q})},[h,n]);const p=C.useCallback(q=>{let U;typeof q=="string"?U=i(q):(U=new Date(q),U.setHours(0,0,0,0));const ie=r();if(U>ie){console.warn("Cannot navigate to future date");return}f(U)},[]),g=C.useCallback(()=>{f(q=>{const U=new Date(q);return U.setDate(q.getDate()-1),U})},[]),w=C.useCallback(()=>{f(q=>{const U=r(),ie=new Date(q);return ie.setDate(q.getDate()+1),ie>U?q:ie})},[]),_=C.useCallback(()=>{f(r())},[]),A=C.useMemo(()=>a(h),[h]),O=C.useMemo(()=>a(r()),[]),M=h.getTime()===r().getTime(),L=h<r(),B=C.useMemo(()=>({currentDate:h,formattedDate:A,isToday:M,isPast:L,setDate:p,prevDay:g,nextDay:w,jumpToToday:_,maxDate:O}),[h,A,M,L,p,g,w,_,O]);return R.jsx(KI.Provider,{value:B,children:t})},cO={getDayRef(t,e){return Br(Xt,"users",t,"days",e)},subscribeToDay(t,e,n){const r=this.getDayRef(t,e);return Td(r,i=>{i.exists()?n(i.data()):n(null)},i=>{console.error("Firestore Subscribe Error:",i)})},async saveDay(t,e,n){const r=this.getDayRef(t,e);try{await _d(r,{...n,lastModified:Wh()},{merge:!0})}catch(i){throw console.error("Firestore Save Error:",i),i}},async lockDay(t,e){const n=this.getDayRef(t,e);await $I(n,{locked:!0,submitted:!0,lockedAt:Wh()})},async getRecentHistory(t,e=7){const n=[];for(let r=0;r<e;r++){const i=new Date;i.setDate(i.getDate()-r);const a=i.toISOString().split("T")[0],l=this.getDayRef(t,a),h=await Ly(l);h.exists()?n.push({date:a,data:h.data(),score:this.calculateScore(h.data())}):n.push({date:a,data:null,score:0})}return n.reverse()},async getAllHistory(t){try{const e=$h(Xt,"users",t,"days"),n=new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],r=eg(e,tg("date",">=",n)),i=await zI(r),a=[];return i.forEach(l=>{const h=l.data();a.push({date:l.id,data:h,score:this.calculateScore(h)})}),a.sort((l,h)=>l.date.localeCompare(h.date)),a}catch(e){return console.error("Error fetching all history:",e),[]}},calculateScore(t){if(!t||!t.tasks)return 0;const e=t.tasks.length;if(e===0)return 0;const n=t.tasks.filter(r=>r.status==="checked").length;return Math.round(n/e*100)},getModuleRef(t,e){return Br(Xt,"users",t,"modules",e)},subscribeToModule(t,e,n){const r=this.getModuleRef(t,e);return Td(r,i=>{i.exists()?n(i.data()):n(null)},i=>{console.error(`Firestore Module Subscribe Error (${e}):`,i)})},async saveModule(t,e,n){const r=this.getModuleRef(t,e);try{await _d(r,{...n,lastModified:Wh()},{merge:!0})}catch(i){throw console.error(`Firestore Module Save Error (${e}):`,i),i}}},YI=C.createContext(),s9=()=>{const t=C.useContext(YI);if(!t)throw new Error("useData must be used within a DataContextProvider");return t},hO=({children:t})=>{const{formattedDate:e,isPast:n}=hf(),{user:r}=Oi(),[i,a]=C.useState(!0),l=["junkFood","sugar","coldDrinks","screenTime","logExpense"],h=()=>({tasks:[],habits:[],submitted:!1,locked:!1,lastModified:Date.now()}),[f,p]=C.useState(h()),g=C.useCallback(S=>({id:S.id||`task_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:S.name||"Untitled Task",time:S.time||"",category:S.category||"EVE/NIGHT",icon:S.icon||"CheckCircle",status:S.status||"unchecked"}),[]),w=C.useCallback(async S=>{if(r)try{const G=S.map(z=>{const he=g(z);return he.status="unchecked",he});await be.setItem(`users/${r.uid}/modules`,"routine",{tasks:G,lastModified:Date.now()},!0)}catch(G){console.error("[DataContext] Failed to save master template:",G)}},[r,g]);C.useEffect(()=>{if(!r){p(h()),a(!1);return}a(!0);const S=async()=>{try{const z=await be.getDocument(`users/${r.uid}/modules`,"routine");if(z&&z.tasks&&z.tasks.length>0){const ae=z.tasks.map($=>({...$,status:"unchecked"}));let H=[];const se=await be.getCollection(`users/${r.uid}/days`,Vo("date","desc"),qa(1));se&&se.length>0&&(H=(se[0].habits||[]).map(ne=>({...ne,value:ne.type==="number"?0:!1})));const ce={tasks:ae,habits:H,date:e,source:"template",submitted:!1,locked:!1,lastModified:Date.now()};return await be.setItem(`users/${r.uid}/days`,e,ce,!0),ce}const he=await be.getCollection(`users/${r.uid}/days`,Vo("date","desc"),qa(1));if(he&&he.length>0){const ae=he[0];if(ae.date===e)return null;const H=(ae.tasks||[]).map($=>({...$,status:"unchecked"})),se=(ae.habits||[]).map($=>({...$,value:$.type==="number"?0:!1})),ce={tasks:H,habits:se,date:e,carriedOverFrom:ae.date,submitted:!1,locked:!1,lastModified:Date.now()};return await be.setItem(`users/${r.uid}/days`,e,ce,!0),ce}return null}catch(z){return console.error("[DataContext] Backfill error:",z),null}},G=be.subscribeToDocument(`users/${r.uid}/days`,e,z=>{if(z){let he=z.habits||[];const ae=he.length;he=he.filter(ne=>!l.includes(ne.id));const H=he.length!==ae;let se=z.tasks||[];const ce=se.some(ne=>ne.id&&String(ne.id).startsWith("task_0"));se.length===0&&he.length===0&&S(),se=se.map(ne=>{if(!ne.category&&ne.time){const[Ie]=ne.time.split(":").map(Number);let re="EVE/NIGHT";return Ie>=4&&Ie<9?re="EARLY MORNING":Ie>=9&&Ie<13?re="BEFORE NOON":Ie>=13&&Ie<17&&(re="AFTER NOON"),{...ne,category:re}}return ne}),(ce||H)&&be.updateItem(`users/${r.uid}/days`,e,{tasks:se,habits:he,locked:!1,submitted:!1}),p({...h(),...z,tasks:se,habits:he,locked:ce||H?!1:z.locked||!1,submitted:ce||H?!1:z.submitted||!1})}else{S().then(he=>{he||p(h())}).finally(()=>a(!1));return}a(!1)});return()=>G()},[e,r]);const _=C.useCallback(async S=>{if(!r)return;const G=(S.tasks||[]).map(g),z=(S.habits||[]).map(ae=>({...ae,id:ae.id||`habit_${Date.now()}`,value:ae.value!==void 0?ae.value:!1})),he={...S,tasks:G,habits:z,date:e,lastModified:Date.now()};p(he);try{await be.setItem(`users/${r.uid}/days`,e,he)}catch(ae){console.error("[DataContext] Save failed:",ae)}},[r,e,g]);new Date().toISOString().split("T")[0];const A=!1,O=C.useCallback(async S=>{const G=f.tasks.map(z=>{if(z.id===S){let he="unchecked";return z.status==="unchecked"?he="checked":z.status==="checked"&&(he="missed"),{...z,status:he}}return z});await _({...f,tasks:G})},[f,A,_]),M=C.useCallback(async(S,G)=>{const z=f.habits.map(he=>he.id===S?{...he,value:G}:he);await _({...f,habits:z})},[f,A,_]),L=C.useCallback(async(S,G="toggle",z="hrs",he)=>{const ae={id:`habit_${Date.now()}`,label:S,type:G,icon:he||(G==="number"?"Activity":"CheckCircle"),value:G==="number"?0:!1,unit:G==="number"?z:void 0};await _({...f,habits:[...f.habits,ae]})},[f,A,_]),B=C.useCallback(async S=>{const G=f.habits.filter(z=>z.id!==S);await _({...f,habits:G})},[f,A,_]),q=C.useCallback(async()=>{const S={...f,submitted:!0,locked:!0};await _(S)},[f,_]),U=C.useCallback(async S=>{if(n){console.warn("Cannot unlock past days.");return}const G={...f,locked:!1,unlockHistory:[...f.unlockHistory||[],{timestamp:Date.now(),reason:S}]};await _(G)},[f,n,_]),ie=C.useCallback(async S=>{f.tasks.length===0&&await _({...f,tasks:S})},[f,_]),F=C.useCallback(async S=>{const G=g({...S,id:`task_${Date.now()}`,status:"unchecked"}),z=[...f.tasks,G];z.sort((he,ae)=>{if(!he.time||!ae.time)return 0;const H=he.time.split(":").map(Number),se=ae.time.split(":").map(Number);return H[0]*60+H[1]-(se[0]*60+se[1])}),await _({...f,tasks:z}),w(z)},[f,A,_,w,g]),X=C.useCallback(async(S,G)=>{const z=f.tasks.map(he=>he.id===S?{...he,...G}:he);G.time&&z.sort((he,ae)=>{const H=he.time.split(":").map(Number),se=ae.time.split(":").map(Number);return H[0]*60+H[1]-(se[0]*60+se[1])}),await _({...f,tasks:z}),w(z)},[f,A,_,w]),k=C.useCallback(async S=>{const G=f.tasks.filter(z=>z.id!==S);await _({...f,tasks:G}),w(G)},[f,A,_,w]),I=C.useCallback(async S=>{const G=S.map(g);await _({...f,tasks:G}),w(G)},[f,A,_,w,g]),b=C.useCallback(()=>{if(!f?.tasks||f.tasks.length===0)return 0;const S=f.tasks.length,G=f.tasks.filter(z=>z.status==="checked").length;return Math.round(G/S*100)},[f]),N=C.useCallback(async(S=7)=>{if(!r)return[];const G=[];for(let z=0;z<S;z++){const he=new Date;he.setDate(he.getDate()-z);const ae=he.toISOString().split("T")[0];G.push(be.getDocument(`users/${r.uid}/days`,ae).then(H=>{if(!H)return{date:ae,score:0,data:null};const se=H.tasks||[],ce=se.filter(ne=>ne.status==="checked").length,$=se.length?Math.round(ce/se.length*100):0;return{date:ae,score:$,data:H}}))}return[]},[r]),V=C.useCallback(async()=>r?await cO.getAllHistory(r.uid):[],[r]),P=C.useMemo(()=>({dailyData:f,updateTaskStatus:O,updateHabit:M,addHabit:L,deleteHabit:B,submitDay:q,unlockDay:U,initTasks:ie,addTask:F,editTask:X,deleteTask:k,updateAllTasks:I,isAuthenticated:!!r,isLocked:A,getDisciplineScore:b,getHistory:N,getAllHistory:V,isLoading:i}),[f,O,M,L,B,q,U,ie,F,X,k,I,r,A,b,N,V,i]);return R.jsx(YI.Provider,{value:P,children:t})},QI=6048e5,dO=864e5,i9=6e4,o9=36e5,CT=Symbol.for("constructDateFrom");function _r(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&CT in t?t[CT](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ot(t,e){return _r(e||t,t)}function Tu(t,e,n){const r=Ot(t,n?.in);return isNaN(e)?_r(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Io(t,e,n){const r=Ot(t,n?.in);if(isNaN(e))return _r(t,NaN);if(!e)return r;const i=r.getDate(),a=_r(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const l=a.getDate();return i>=l?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let fO={};function tc(){return fO}function Ha(t,e){const n=tc(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Ot(t,e?.in),a=i.getDay(),l=(a<r?7:0)+a-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Sd(t,e){return Ha(t,{...e,weekStartsOn:1})}function XI(t,e){const n=Ot(t,e?.in),r=n.getFullYear(),i=_r(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=Sd(i),l=_r(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const h=Sd(l);return n.getTime()>=a.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function xT(t){const e=Ot(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function JI(t,...e){const n=_r.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Id(t,e){const n=Ot(t,e?.in);return n.setHours(0,0,0,0),n}function pO(t,e,n){const[r,i]=JI(n?.in,t,e),a=Id(r),l=Id(i),h=+a-xT(a),f=+l-xT(l);return Math.round((h-f)/dO)}function mO(t,e){const n=XI(t,e),r=_r(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Sd(r)}function gO(t,e,n){return Tu(t,e*7,n)}function Gh(t,e,n){return Io(t,e*12,n)}function sm(t,e,n){const[r,i]=JI(n?.in,t,e);return+Id(r)==+Id(i)}function yO(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function vO(t){return!(!yO(t)&&typeof t!="number"||isNaN(+Ot(t)))}function AT(t,e){const n=Ot(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function bT(t,e){const n=Ot(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function wO(t,e){const n=Ot(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function _O(t,e){const n=tc(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Ot(t,e?.in),a=i.getDay(),l=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}const TO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},EO=(t,e,n)=>{let r;const i=TO[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function im(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const SO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},IO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CO={date:im({formats:SO,defaultWidth:"full"}),time:im({formats:IO,defaultWidth:"full"}),dateTime:im({formats:kO,defaultWidth:"full"})},xO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},AO=(t,e,n,r)=>xO[t];function nu(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,h=n?.width?String(n.width):l;i=t.formattingValues[h]||t.formattingValues[l]}else{const l=t.defaultWidth,h=n?.width?String(n.width):t.defaultWidth;i=t.values[h]||t.values[l]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const bO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},DO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},NO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},MO=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},OO={ordinalNumber:MO,era:nu({values:bO,defaultWidth:"wide"}),quarter:nu({values:PO,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nu({values:RO,defaultWidth:"wide"}),day:nu({values:DO,defaultWidth:"wide"}),dayPeriod:nu({values:NO,defaultWidth:"wide",formattingValues:VO,defaultFormattingWidth:"wide"})};function ru(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],h=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(h)?FO(h,w=>w.test(l)):LO(h,w=>w.test(l));let p;p=t.valueCallback?t.valueCallback(f):f,p=n.valueCallback?n.valueCallback(p):p;const g=e.slice(l.length);return{value:p,rest:g}}}function LO(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function FO(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function jO(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let l=t.valueCallback?t.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const h=e.slice(i.length);return{value:l,rest:h}}}const UO=/^(\d+)(th|st|nd|rd)?/i,BO=/\d+/i,zO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$O={any:[/^b/i,/^(a|c)/i]},WO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qO={any:[/1/i,/2/i,/3/i,/4/i]},HO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},YO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},QO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},XO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},JO={ordinalNumber:jO({matchPattern:UO,parsePattern:BO,valueCallback:t=>parseInt(t,10)}),era:ru({matchPatterns:zO,defaultMatchWidth:"wide",parsePatterns:$O,defaultParseWidth:"any"}),quarter:ru({matchPatterns:WO,defaultMatchWidth:"wide",parsePatterns:qO,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ru({matchPatterns:HO,defaultMatchWidth:"wide",parsePatterns:GO,defaultParseWidth:"any"}),day:ru({matchPatterns:KO,defaultMatchWidth:"wide",parsePatterns:YO,defaultParseWidth:"any"}),dayPeriod:ru({matchPatterns:QO,defaultMatchWidth:"any",parsePatterns:XO,defaultParseWidth:"any"})},ZO={code:"en-US",formatDistance:EO,formatLong:CO,formatRelative:AO,localize:OO,match:JO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function eL(t,e){const n=Ot(t,e?.in);return pO(n,wO(n))+1}function tL(t,e){const n=Ot(t,e?.in),r=+Sd(n)-+mO(n);return Math.round(r/QI)+1}function ZI(t,e){const n=Ot(t,e?.in),r=n.getFullYear(),i=tc(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=_r(e?.in||t,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const h=Ha(l,e),f=_r(e?.in||t,0);f.setFullYear(r,0,a),f.setHours(0,0,0,0);const p=Ha(f,e);return+n>=+h?r+1:+n>=+p?r:r-1}function nL(t,e){const n=tc(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=ZI(t,e),a=_r(e?.in||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Ha(a,e)}function rL(t,e){const n=Ot(t,e?.in),r=+Ha(n,e)-+nL(n,e);return Math.round(r/QI)+1}function ut(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const li={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ut(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ut(n+1,2)},d(t,e){return ut(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ut(t.getHours()%12||12,e.length)},H(t,e){return ut(t.getHours(),e.length)},m(t,e){return ut(t.getMinutes(),e.length)},s(t,e){return ut(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ut(i,e.length)}},Sa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PT={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return li.y(t,e)},Y:function(t,e,n,r){const i=ZI(t,r),a=i>0?i:1-i;if(e==="YY"){const l=a%100;return ut(l,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):ut(a,e.length)},R:function(t,e){const n=XI(t);return ut(n,e.length)},u:function(t,e){const n=t.getFullYear();return ut(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ut(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ut(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return li.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ut(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=rL(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ut(i,e.length)},I:function(t,e,n){const r=tL(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ut(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):li.d(t,e)},D:function(t,e,n){const r=eL(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ut(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return ut(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return ut(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ut(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Sa.noon:r===0?i=Sa.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Sa.evening:r>=12?i=Sa.afternoon:r>=4?i=Sa.morning:i=Sa.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return li.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):li.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ut(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ut(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):li.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):li.s(t,e)},S:function(t,e){return li.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return DT(r);case"XXXX":case"XX":return go(r);default:return go(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return DT(r);case"xxxx":case"xx":return go(r);default:return go(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+RT(r,":");default:return"GMT"+go(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+RT(r,":");default:return"GMT"+go(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return ut(r,e.length)},T:function(t,e,n){return ut(+t,e.length)}};function RT(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+ut(a,2)}function DT(t,e){return t%60===0?(t>0?"-":"+")+ut(Math.abs(t)/60,2):go(t,e)}function go(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ut(Math.trunc(r/60),2),a=ut(r%60,2);return n+i+e+a}const NT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},ek=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},sL=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return NT(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",NT(r,e)).replace("{{time}}",ek(i,e))},iL={p:ek,P:sL},oL=/^D+$/,aL=/^Y+$/,lL=["D","DD","YY","YYYY"];function uL(t){return oL.test(t)}function cL(t){return aL.test(t)}function hL(t,e,n){const r=dL(t,e,n);if(console.warn(r),lL.includes(t))throw new RangeError(r)}function dL(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mL=/^'([^]*?)'?$/,gL=/''/g,yL=/[a-zA-Z]/;function vL(t,e,n){const r=tc(),i=r.locale??ZO,a=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,h=Ot(t,n?.in);if(!vO(h))throw new RangeError("Invalid time value");let f=e.match(pL).map(g=>{const w=g[0];if(w==="p"||w==="P"){const _=iL[w];return _(g,i.formatLong)}return g}).join("").match(fL).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const w=g[0];if(w==="'")return{isToken:!1,value:wL(g)};if(PT[w])return{isToken:!0,value:g};if(w.match(yL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(f=i.localize.preprocessor(h,f));const p={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return f.map(g=>{if(!g.isToken)return g.value;const w=g.value;(cL(w)||uL(w))&&hL(w,e,String(t));const _=PT[w[0]];return _(h,w,i.localize,p)}).join("")}function wL(t){const e=t.match(mL);return e?e[1].replace(gL,"'"):t}function om(t,e){return+Ot(t)<+Ot(e)}function am(t,e,n){const r=+Ot(t,n?.in),[i,a]=[+Ot(e.start,n?.in),+Ot(e.end,n?.in)].sort((l,h)=>l-h);return r>=i&&r<=a}const tk=C.createContext(),a9=()=>{const t=C.useContext(tk);if(!t)throw new Error("useTasks must be used within a TaskContextProvider");return t},_L=({children:t})=>{const{user:e,authIsReady:n}=Oi(),[r,i]=C.useState([]),[a,l]=C.useState([]),[h,f]=C.useState(50),[p,g]=C.useState({}),[w,_]=C.useState(!0),[A,O]=C.useState({autoDeleteCompleted:!1,confirmDelete:!0,showCompletedInList:!0,defaultPriority:"Medium",defaultDuration:15,dailyReminder:!0,reminderTime:"09:00"}),M=vL(new Date,"yyyy-MM-dd");C.useEffect(()=>{if(!n)return;if(!e){i([]),l([]),g({}),_(!1);return}_(!0);const z=be.subscribeToCollection(`users/${e.uid}/tasks`,se=>{i(se),_(!1)},tg("status","==","pending"),Vo("createdAt","desc"),qa(200)),he=be.subscribeToCollection(`users/${e.uid}/tasks`,se=>{l(se)},tg("status","==","completed"),Vo("createdAt","desc"),qa(h)),ae=be.subscribeToDocument(`users/${e.uid}/config`,"taskSettings",se=>{se&&O(ce=>({...ce,...se}))}),H=be.subscribeToDocument(`users/${e.uid}/data`,"lockedDays",se=>{se&&se.days&&g(se.days)});return()=>{z(),he(),ae(),H()}},[e,n,h]);const L=z=>{if(!e)return;const he={...A,...z};O(he),be.setItem(`users/${e.uid}/config`,"taskSettings",he)},B=C.useCallback(z=>z<M,[M]),q=C.useCallback(z=>{const ae=[...r,...a].filter(se=>se.date===z);if(ae.length===0)return 0;const H=ae.filter(se=>se.status==="completed"||se.isCompleted).length;return Math.round(H/ae.length*100)},[r,a]),U=C.useCallback(async(z,he={})=>{if(!e)return;const ae=he.date||M;if(ae<M){console.warn("Cannot add tasks to a locked day.");return}const H={title:z,status:"pending",isCompleted:!1,date:ae,createdAt:Date.now(),priority:he.priority||"Medium",category:he.category||"Work",time:he.time||null,estimatedTime:he.estimatedTime||15,description:he.description||"",userId:e.uid};try{const se=await be.addItem(`users/${e.uid}/tasks`,H);return{...H,id:se.id}}catch(se){throw console.error("Error adding task:",se),se}},[e,M]),ie=C.useCallback(async(z,he)=>{if(!e)return;const H=[...r,...a].find(se=>se.id===z);if(H){if(H.date<M){console.warn("Cannot edit tasks of a locked day.");return}await be.updateItem(`users/${e.uid}/tasks`,z,he)}},[e,r,a,M]),F=C.useCallback(async z=>{if(!e)return;const ae=[...r,...a].find(H=>H.id===z);if(ae&&ae.date<M){console.warn("Cannot delete tasks of a locked day.");return}await be.deleteItem(`users/${e.uid}/tasks`,z)},[e,r,a,M]),X=C.useCallback(async(z,he)=>{e&&await be.updateItem(`users/${e.uid}/tasks`,z,{date:he})},[e]),k=C.useCallback(async z=>{if(!e)return;const ae=[...r,...a].find(ce=>ce.id===z);if(!ae)return;if(ae.date<M&&!ae.isCompleted&&ae.status!=="completed"){await be.updateItem(`users/${e.uid}/tasks`,z,{date:M,status:"completed",isCompleted:!0});return}if(ae.date<M)return;const H=!(ae.status==="completed"||ae.isCompleted),se=H?"completed":"pending";await be.updateItem(`users/${e.uid}/tasks`,z,{status:se,isCompleted:H})},[e,r,a,M]),I=C.useCallback(async()=>{if(!e)return 0;const he=[...r,...a].filter(se=>se.date===M);let ae=0;if(he.length>0){const se=he.filter(ce=>ce.status==="completed"||ce.isCompleted).length;ae=Math.round(se/he.length*100)}const H={...p,[M]:{lockedAt:Date.now(),score:ae}};return g(H),await be.setItem(`users/${e.uid}/data`,"lockedDays",{days:H}),ae},[e,r,a,M,p]),b=C.useCallback(async()=>{if(!e)return;const z=[...r],he=[...a],H=[...z,...he].map(se=>be.deleteItem(`users/${e.uid}/tasks`,se.id));await Promise.all(H)},[e,r,a]),N=C.useCallback(()=>{const he=[...r,...a].filter(ce=>ce.date===M),ae=he.length,H=he.filter(ce=>ce.status==="completed"||ce.isCompleted).length,se=ae===0?0:Math.round(H/ae*100);return{total:ae,completed:H,percentage:se}},[r,a,M]),[V,P]=C.useState(null),S=C.useMemo(()=>[...r,...a].sort((he,ae)=>ae.createdAt-he.createdAt),[r,a]),G=C.useMemo(()=>({tasks:S,lockedDays:p,settings:A,currentDateStr:M,addTask:U,updateTask:ie,deleteTask:F,toggleTask:k,rescheduleTask:X,completeDay:I,getDailyScore:q,getTaskCompletionStats:N,isDayLocked:B,isDayLocked:B,clearAllTasks:b,updateSettings:L,activePopoverId:V,setActivePopoverId:P,isLoading:w,loadMoreCompleted:()=>f(z=>z+50)}),[S,p,A,M,U,ie,F,k,X,I,q,B,b,L,V,w]);return R.jsx(tk.Provider,{value:G,children:t})};const TL="type.googleapis.com/google.protobuf.Int64Value",EL="type.googleapis.com/google.protobuf.UInt64Value";function nk(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function kd(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>kd(e));if(typeof t=="function"||typeof t=="object")return nk(t,e=>kd(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Ga(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case TL:case EL:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Ga(e)):typeof t=="function"||typeof t=="object"?nk(t,e=>Ga(e)):t}const Fy="functions";const VT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dn extends Xr{constructor(e,n,r){super(`${Fy}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Dn.prototype)}}function SL(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Cd(t,e){let n=SL(t),r=n,i;try{const a=e&&e.error;if(a){const l=a.status;if(typeof l=="string"){if(!VT[l])return new Dn("internal","internal");n=VT[l],r=l}const h=a.message;typeof h=="string"&&(r=h),i=a.details,i!==void 0&&(i=Ga(i))}}catch{}return n==="ok"?null:new Dn(n,r,i)}class IL{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Pn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}const ng="us-central1",kL=/^data: (.*?)(?:\n|$)/;function CL(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Dn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class xL{constructor(e,n,r,i,a=ng,l=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new IL(e,n,r,i),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(a);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=ng}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function AL(t,e,n){const r=Ni(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Lg(t.emulatorOrigin+"/backends"),Fg("Functions",!0))}function bL(t,e,n){const r=i=>RL(t,e,i,{});return r.stream=(i,a)=>NL(t,e,i,a),r}function rk(t){return t.emulatorOrigin&&Ni(t.emulatorOrigin)?"include":void 0}async function PL(t,e,n,r,i){n["Content-Type"]="application/json";let a;try{a=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:rk(i)})}catch{return{status:0,json:null}}let l=null;try{l=await a.json()}catch{}return{status:a.status,json:l}}async function sk(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function RL(t,e,n,r){const i=t._url(e);return DL(t,i,n,r)}async function DL(t,e,n,r){n=kd(n);const i={data:n},a=await sk(t,r),l=r.timeout||7e4,h=CL(l),f=await Promise.race([PL(e,i,a,t.fetchImpl,t),h.promise,t.cancelAllRequests]);if(h.cancel(),!f)throw new Dn("cancelled","Firebase Functions instance was deleted.");const p=Cd(f.status,f.json);if(p)throw p;if(!f.json)throw new Dn("internal","Response is not valid JSON object.");let g=f.json.data;if(typeof g>"u"&&(g=f.json.result),typeof g>"u")throw new Dn("internal","Response is missing data field.");return{data:Ga(g)}}function NL(t,e,n,r){const i=t._url(e);return VL(t,i,n,r||{})}async function VL(t,e,n,r){n=kd(n);const i={data:n},a=await sk(t,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let l;try{l=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:a,signal:r?.signal,credentials:rk(t)})}catch(_){if(_ instanceof Error&&_.name==="AbortError"){const O=new Dn("cancelled","Request was cancelled.");return{data:Promise.reject(O),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(O)}}}}}}const A=Cd(0,null);return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}let h,f;const p=new Promise((_,A)=>{h=_,f=A});r?.signal?.addEventListener("abort",()=>{const _=new Dn("cancelled","Request was cancelled.");f(_)});const g=l.body.getReader(),w=ML(g,h,f,r?.signal);return{stream:{[Symbol.asyncIterator](){const _=w.getReader();return{async next(){const{value:A,done:O}=await _.read();return{value:A,done:O}},async return(){return await _.cancel(),{done:!0,value:void 0}}}}},data:p}}function ML(t,e,n,r){const i=(l,h)=>{const f=l.match(kL);if(!f)return;const p=f[1];try{const g=JSON.parse(p);if("result"in g){e(Ga(g.result));return}if("message"in g){h.enqueue(Ga(g.message));return}if("error"in g){const w=Cd(0,g);h.error(w),n(w);return}}catch(g){if(g instanceof Dn){h.error(g),n(g);return}}},a=new TextDecoder;return new ReadableStream({start(l){let h="";return f();async function f(){if(r?.aborted){const p=new Dn("cancelled","Request was cancelled");return l.error(p),n(p),Promise.resolve()}try{const{value:p,done:g}=await t.read();if(g){h.trim()&&i(h.trim(),l),l.close();return}if(r?.aborted){const _=new Dn("cancelled","Request was cancelled");l.error(_),n(_),await t.cancel();return}h+=a.decode(p,{stream:!0});const w=h.split(`
`);h=w.pop()||"";for(const _ of w)_.trim()&&i(_.trim(),l);return f()}catch(p){const g=p instanceof Dn?p:Cd(0,null);l.error(g),n(g)}}},cancel(){return t.cancel()}})}const MT="@firebase/functions",OT="0.13.1";const OL="auth-internal",LL="app-check-internal",FL="messaging-internal";function jL(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),a=n.getProvider(OL),l=n.getProvider(FL),h=n.getProvider(LL);return new xL(i,a,l,h,r)};xo(new Si(Fy,e,"PUBLIC").setMultipleInstances(!0)),zr(MT,OT,t),zr(MT,OT,"esm2020")}function UL(t=Bg(),e=ng){const r=jd(pt(t),Fy).getImmediate({identifier:e}),i=E1("functions");return i&&BL(r,...i),r}function BL(t,e,n){AL(pt(t),e,n)}function zL(t,e,n){return bL(pt(t),e)}jL();const ho={async commitFinancialTransaction(t){const e=UL(cf),n=zL(e,"commitFinancialTransaction");try{return(await n(t)).data}catch(r){throw console.error("Cloud Function Failed:",r),r}}},ik=C.createContext(),$L=()=>{const t=C.useContext(ik);if(!t)throw new Error("useFinance must be used within FinanceContextProvider");return t},WL=({children:t})=>{const{user:e,authIsReady:n}=Oi(),r=[{id:"cat_food",name:"Food & Dining",type:"expense",budget:5e3,color:"bg-orange-500",icon:"Utensils"},{id:"cat_transport",name:"Transport",type:"expense",budget:2e3,color:"bg-blue-500",icon:"Bus"},{id:"cat_shopping",name:"Shopping",type:"expense",budget:3e3,color:"bg-pink-500",icon:"ShoppingBag"},{id:"cat_bills",name:"Bills & Utilities",type:"expense",budget:4e3,color:"bg-yellow-500",icon:"Zap"},{id:"cat_salary",name:"Salary",type:"income",budget:0,color:"bg-emerald-500",icon:"IndianRupee"}],i=[{id:"acc_cash",name:"Cash Wallet",type:"cash",balance:0,openingBalance:0,isArchived:!1},{id:"acc_bank",name:"Main Bank",type:"bank",balance:0,openingBalance:0,isArchived:!1},{id:"acc_upi",name:"UPI / Digital",type:"upi",balance:0,openingBalance:0,isArchived:!1}],[a,l]=C.useState([]),[h,f]=C.useState(50),[p,g]=C.useState([]),[w,_]=C.useState([]),[A,O]=C.useState([]),[M,L]=C.useState([]),[B,q]=C.useState([]),[U,ie]=C.useState([]),[F,X]=C.useState(!0);C.useEffect(()=>{if(!n)return;if(!e){l([]),g(r),_(i),O([]),L([]),q([]),ie([]),X(!1);return}X(!0);const ge=be.subscribeToCollection(`users/${e.uid}/transactions`,Ye=>{l(Ye),X(!1)},Vo("date","desc"),qa(h)),_e=be.subscribeToCollection(`users/${e.uid}/categories`,Ye=>{g(Ye.length>0?Ye:[])}),Se=be.subscribeToCollection(`users/${e.uid}/accounts`,Ye=>_(Ye.length>0?Ye:[])),Ee=be.subscribeToCollection(`users/${e.uid}/savingsGoals`,Ye=>O(Ye)),qe=be.subscribeToCollection(`users/${e.uid}/debts`,Ye=>L(Ye)),Ce=be.subscribeToCollection(`users/${e.uid}/subscriptions`,Ye=>q(Ye)),Pe=be.subscribeToCollection(`users/${e.uid}/recurringRules`,Ye=>ie(Ye));return()=>{ge(),_e(),Se(),Ee(),qe(),Ce(),Pe()}},[e,n,h]),C.useEffect(()=>{if(!e)return;(async()=>((await be.getCollection(`users/${e.uid}/categories`)).length===0&&await Promise.all(r.map(Ee=>be.addItem(`users/${e.uid}/categories`,Ee))),(await be.getCollection(`users/${e.uid}/accounts`)).length===0&&await Promise.all(i.map(Ee=>be.addItem(`users/${e.uid}/accounts`,Ee)))))()},[e?.uid]),C.useEffect(()=>{if(!e||U.length===0)return;(async()=>{const _e=new Date;for(const Se of U){if(!Se.isActive)continue;let Ee=new Date(Se.nextDueDate),qe=!1;for(;(om(Ee,_e)||sm(Ee,_e))&&!(Se.endDate&&om(new Date(Se.endDate),Ee));){const Pe={transactionId:crypto.randomUUID(),accountId:Se.transactionTemplate.accountId,type:Se.transactionTemplate.type,amount:Number(Se.transactionTemplate.amount),categoryId:Se.transactionTemplate.categoryId,date:Ee.toISOString(),description:Se.transactionTemplate.name||"Recurring Transaction",metadata:{recurringRuleId:Se.id,isfromRecurring:!0}};await ho.commitFinancialTransaction(Pe),Se.frequency==="daily"?Ee=Tu(Ee,1):Se.frequency==="weekly"?Ee=gO(Ee,1):Se.frequency==="monthly"?Ee=Io(Ee,1):Se.frequency==="yearly"&&(Ee=Gh(Ee,1)),qe=!0}qe&&await be.updateItem(`users/${e.uid}/recurringRules`,Se.id,{nextDueDate:Ee.toISOString()})}})()},[U,e]),C.useEffect(()=>{if(!e||B.length===0)return;(async()=>{const _e=new Date;for(const Se of B){if(Se.status!=="active"||!Se.autoPay)continue;let Ee=new Date(Se.nextBillingDate),qe=!1;for(;om(Ee,_e)||sm(Ee,_e);){const Pe={transactionId:crypto.randomUUID(),accountId:"acc_bank",type:"expense",amount:Number(Se.amount),categoryId:"cat_bills",date:Ee.toISOString(),description:`Subscription: ${Se.name}`,metadata:{isFromSubscription:!0,subscriptionId:Se.id}};await ho.commitFinancialTransaction(Pe),Ee=Io(Ee,1),qe=!0}qe&&await be.updateItem(`users/${e.uid}/subscriptions`,Se.id,{nextBillingDate:Ee.toISOString()})}})()},[B,e]);const k=C.useCallback(ge=>w.find(_e=>_e.id===ge)?.balance||0,[w]),I=C.useCallback(()=>w.filter(ge=>!ge.isArchived).reduce((ge,_e)=>ge+_e.balance,0),[w]),b=C.useCallback(()=>{const ge=new Date,_e=bT(ge),Se=AT(ge);return a.filter(Ee=>{if(Ee.isDeleted||Ee.type!=="expense")return!1;const qe=new Date(Ee.date||Ee.createdAt);return!isNaN(qe.getTime())&&am(qe,{start:_e,end:Se})}).reduce((Ee,qe)=>Ee+Number(qe.amount),0)},[a]),N=C.useCallback(ge=>{const _e=new Date,Se=bT(_e),Ee=AT(_e);return a.filter(qe=>{if(qe.isDeleted)return!1;const Ce=new Date(qe.date||qe.createdAt);return isNaN(Ce.getTime())?!1:am(Ce,{start:Se,end:Ee})}).reduce((qe,Ce)=>Ce.categoryId===ge?qe+Number(Ce.amount):qe,0)},[a]),V=C.useCallback(ge=>{const _e=p.find(Ye=>Ye.id===ge);if(!_e||!_e.budget)return null;const Se=N(ge),Ee=Number(_e.budget),qe=Ee-Se,Ce=Math.min(Math.round(Se/Ee*100),100);let Pe="good";return Ce>=100?Pe="danger":Ce>=80&&(Pe="warning"),{spent:Se,budget:Ee,remaining:qe,percent:Ce,status:Pe}},[p,N]),P=C.useCallback((ge=new Date)=>a.filter(_e=>{if(_e.isDeleted||_e.type!=="expense")return!1;const Se=new Date(_e.date||_e.createdAt);return isNaN(Se.getTime())?!1:sm(Se,ge)}).reduce((_e,Se)=>_e+Number(Se.amount),0),[a]),S=C.useCallback(()=>{const ge=new Date,_e=Ha(ge,{weekStartsOn:1}),Se=_O(ge,{weekStartsOn:1}),Ee=a.filter(Pe=>{if(Pe.isDeleted)return!1;const Ye=new Date(Pe.date||Pe.createdAt);return isNaN(Ye.getTime())?!1:am(Ye,{start:_e,end:Se})}),qe=Ee.filter(Pe=>Pe.type==="income").reduce((Pe,Ye)=>Pe+Number(Ye.amount),0),Ce=Ee.filter(Pe=>Pe.type==="expense").reduce((Pe,Ye)=>Pe+Number(Ye.amount),0);return qe-Ce},[a]),G=C.useCallback(async ge=>{e&&await ho.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:ge.accountId,type:ge.type,amount:Number(ge.amount),categoryId:ge.categoryId,date:ge.date||new Date().toISOString(),description:ge.note||ge.description,metadata:{...ge}})},[e]),z=C.useCallback(async({amount:ge,fromAccountId:_e,toAccountId:Se,note:Ee,date:qe})=>{e&&await ho.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:_e,toAccountId:Se,type:"transfer",amount:Number(ge),date:qe||new Date().toISOString(),description:Ee||"Fund Transfer",categoryId:"cat_transfer"})},[e]),he=C.useCallback(async ge=>{if(!e)return;const _e={isActive:!0,nextDueDate:ge.startDate,...ge};await be.addItem(`users/${e.uid}/recurringRules`,_e)},[e]),ae=C.useCallback(async ge=>{if(!e)return;const _e=a.find(Pe=>Pe.transactionId===ge||Pe.id===ge);if(!_e||_e.isDeleted)return;const Se=crypto.randomUUID();let Ee=_e.type==="income"?"expense":"income",qe=_e.accountId,Ce;_e.type==="transfer"&&(Ee="transfer",qe=_e.toAccountId,Ce=_e.accountId),await ho.commitFinancialTransaction({transactionId:Se,accountId:qe,toAccountId:Ce,type:Ee,amount:Number(_e.amount),date:new Date().toISOString(),description:`Correction: Undo ${_e.description||"Transaction"}`,metadata:{isCompensation:!0,originalTransactionId:_e.transactionId||_e.id}})},[e,a]),H=C.useCallback(async ge=>{console.warn("restoreTransaction is deprecated in strict ledger mode.")},[]),se=C.useCallback(async(ge,_e)=>{e&&(await ae(ge),await G(_e))},[e,ae,G]),ce=C.useCallback(ge=>!1,[]),$=C.useCallback(async(ge,_e)=>{if(!e)return;const{balance:Se,...Ee}=_e;await be.updateItem(`users/${e.uid}/accounts`,ge,Ee)},[e]),ne=C.useCallback(async ge=>{if(!e)return;const _e=w.find(Se=>Se.id===ge);_e&&await be.updateItem(`users/${e.uid}/accounts`,ge,{isArchived:!_e.isArchived})},[e,w]),Ie=C.useCallback(async(ge,_e)=>{e&&await be.updateItem(`users/${e.uid}/categories`,ge,{budget:_e})},[e]),re=C.useCallback(async ge=>{e&&await be.addItem(`users/${e.uid}/categories`,ge)},[e]),te=C.useCallback(async(ge,_e=!1,Se=null)=>{if(!e)return;const Ee={createdAt:Date.now(),status:"open",isSettled:!1,paidAmount:0,history:[{id:`dh_${Date.now()}`,date:Date.now(),amount:Number(ge.amount),type:"creation",note:"Record created"}],...ge},qe=await be.addItem(`users/${e.uid}/debts`,Ee);if(_e&&Se){const Ce=ge.type==="payable",Pe=Ce?"income":"expense";await ho.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:Se,type:Pe,amount:Number(ge.amount),categoryId:Ce?"cat_debt_in":"cat_debt_out",date:new Date().toISOString(),description:`Debt: ${ge.person}`,metadata:{relatedDebtId:qe.id}})}},[e]),J=C.useCallback(async(ge,_e,Se=new Date)=>{if(!e)return;const Ee=M.find(Fi=>Fi.id===ge);if(!Ee)return;const qe=Number(_e),Ce=Ee.type==="receivable";await ho.commitFinancialTransaction({transactionId:crypto.randomUUID(),accountId:"acc_bank",type:Ce?"income":"expense",amount:qe,categoryId:"cat_debt",date:new Date(Se).toISOString(),description:`Repayment: ${Ee.person}`,metadata:{relatedDebtId:ge}});const Pe=(Ee.paidAmount||0)+qe,Ye=Pe>=Number(Ee.amount);await be.updateItem(`users/${e.uid}/debts`,ge,{paidAmount:Pe,isSettled:Ye,payments:[...Ee.payments||[],{amount:qe,date:new Date(Se).toISOString(),id:`pay_${Date.now()}`}]})},[e,M]),pe=C.useCallback(ge=>{const _e=M.find(Se=>Se.id===ge);if(_e&&!_e.isSettled){const Se=Number(_e.amount)-(_e.paidAmount||0);Se>0&&J(ge,Se)}},[M,J]),ve=C.useCallback(async ge=>{if(!e)return;const _e=new Date,Se=Number(ge.dueDate);let Ee=new Date(_e.getFullYear(),_e.getMonth(),Se);Ee<_e&&(Ee=Io(Ee,1));const qe={status:"active",autoPay:!0,nextBillingDate:Ee.toISOString(),...ge};await be.addItem(`users/${e.uid}/subscriptions`,qe)},[e]),le=C.useCallback(async(ge,_e)=>{e&&await be.updateItem(`users/${e.uid}/subscriptions`,ge,_e)},[e]),Oe=C.useCallback(async ge=>{if(!e)return;const _e=B.find(Se=>Se.id===ge);_e&&await be.updateItem(`users/${e.uid}/subscriptions`,ge,{status:_e.status==="active"?"paused":"active"})},[e,B]),Qe=C.useCallback(async ge=>{e&&await be.deleteItem(`users/${e.uid}/subscriptions`,ge)},[e]),Le=C.useCallback(()=>f(ge=>ge+50),[]),_t=C.useMemo(()=>({transactions:a,categories:p,accounts:w,savingsGoals:A,debts:M,subscriptions:B,addTransaction:G,addTransfer:z,deleteTransaction:ae,editTransaction:se,restoreTransaction:H,checkDuplicate:ce,getAccountBalance:k,getTotalBalance:I,getMonthlySpend:b,getCategorySpend:N,updateCategoryBudget:Ie,addCategory:re,addDebt:te,addDebtPayment:J,settleDebt:pe,addSubscription:ve,updateSubscription:le,toggleSubscriptionStatus:Oe,deleteSubscription:Qe,updateAccount:$,toggleArchiveAccount:ne,addRecurringRule:he,recurringRules:U,getBudgetStats:V,getDailySpend:P,getWeeklySavings:S,isLoading:F,loadMoreTransactions:Le}),[a,p,w,A,M,B,U,F,G,z,ae,se,H,ce,k,I,b,N,Ie,re,te,J,pe,ve,le,Oe,Qe,$,ne,he,V,P,S,Le]);return R.jsx(ik.Provider,{value:_t,children:t})},ok=C.createContext(),qL=({children:t})=>{const[e,n]=C.useState(null),r=C.useCallback(a=>{n(a)},[]),i=C.useCallback(()=>{n(null)},[]);return R.jsx(ok.Provider,{value:{error:e,showError:r,clearError:i},children:t})},ak=()=>C.useContext(ok),pn=t=>t?t.code?{code:t.code,message:t.message||"Firebase error occurred."}:t instanceof Error?{code:"JS_ERROR",message:t.message}:{code:"UNEXPECTED_ERROR",message:"Unexpected error occurred."}:{code:"UNKNOWN_ERROR",message:"An unknown error occurred."},lk=C.createContext(),HL=[{type:"Oil Change",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Engine Oil Filter",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Air Filter",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:2e4,category:"mandatory"},{type:"Brake Check",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Chain Lubrication",frequencyValue:1,frequencyUnit:"months",frequencyType:"both",odometerValue:500,category:"optional",applicable:["bike","scooter"]},{type:"Coolant Check",frequencyValue:6,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Battery Health",frequencyValue:12,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Tyre Pressure",frequencyValue:1,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Tyre Rotation",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"optional"},{type:"Wheel Alignment",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"optional"},{type:"General Service",frequencyValue:12,frequencyUnit:"months",frequencyType:"both",odometerValue:1e4,category:"mandatory"},{type:"Accident Repair",frequencyType:"none",category:"optional"},{type:"Accessories Maintenance",frequencyValue:12,frequencyUnit:"months",frequencyType:"date",category:"optional"},{type:"Insurance Renewal",frequencyValue:12,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Pollution Certificate",frequencyValue:6,frequencyUnit:"months",frequencyType:"date",category:"mandatory"},{type:"Registration Renewal",frequencyValue:15,frequencyUnit:"years",frequencyType:"date",category:"mandatory"},{type:"Fitness Certificate",frequencyValue:1,frequencyUnit:"years",frequencyType:"date",category:"optional",applicable:["commercial"]}],l9=()=>{const t=C.useContext(lk);if(!t)throw new Error("useVehicle must be used within VehicleContextProvider");return t},GL=({children:t})=>{const{user:e,authIsReady:n}=Oi(),{addTransaction:r,categories:i}=$L(),{showError:a}=ak(),[l,h]=C.useState([]),[f,p]=C.useState([]),[g,w]=C.useState([]),[_,A]=C.useState(20),[O,M]=C.useState([]),[L,B]=C.useState(!0),[q,U]=C.useState(null);C.useEffect(()=>{q&&a(q)},[q,a]),C.useEffect(()=>{if(!n)return;if(!e){h([]),p([]),w([]),M([]),B(!1);return}B(!0);const re=be.subscribeToCollection(`users/${e.uid}/vehicles`,ve=>{U(null),h(ve),B(!1)},Vo("createdAt","desc"),ve=>{const le=pn(ve);console.error(le),U(le),B(!1)}),te=be.subscribeToCollection(`users/${e.uid}/followUps`,ve=>{U(null),p(ve)},ve=>{const le=pn(ve);console.error(le),U(le)}),J=be.subscribeToCollection(`users/${e.uid}/serviceRecords`,ve=>{U(null),w(ve)},Vo("date","desc"),qa(_),ve=>{const le=pn(ve);console.error(le),U(le)}),pe=be.subscribeToCollection(`users/${e.uid}/vehicleLoans`,ve=>{U(null),M(ve)},ve=>{const le=pn(ve);console.error(le),U(le)});return()=>{re(),te(),J(),pe()}},[e,n,_]);const ie=C.useCallback(async re=>{try{if(!e?.uid)return;U(null),await be.deleteItem(`users/${e.uid}/vehicles/${re}`)}catch(te){const J=pn(te);throw console.error("Error deleting vehicle:",J),U(J),J}},[e]),F=C.useCallback(async re=>{try{if(!e)return;U(null);const te={createdAt:Date.now(),isArchived:!1,isActive:l.length===0,...re},pe=(await be.addItem(`users/${e.uid}/vehicles`,te)).id,ve=HL.filter(le=>!le.applicable||le.applicable.includes(re.type)).filter(le=>le.frequencyType!=="none").map(le=>{const Oe=new Date;let Qe=null;(le.frequencyType==="date"||le.frequencyType==="both")&&(le.frequencyUnit==="days"&&(Qe=Tu(Oe,le.frequencyValue).toISOString()),le.frequencyUnit==="months"&&(Qe=Io(Oe,le.frequencyValue).toISOString()),le.frequencyUnit==="years"&&(Qe=Gh(Oe,le.frequencyValue).toISOString()));let Le=null;return(le.frequencyType==="odometer"||le.frequencyType==="both")&&(Le=(Number(re.odometer)||0)+(le.odometerValue||0)),{vehicleId:pe,type:le.type,frequencyType:le.frequencyType,frequencyValue:le.frequencyValue,frequencyUnit:le.frequencyUnit,odometerValue:le.odometerValue,dueDate:Qe,dueOdometer:Le,isRecurring:!0,isStandard:!0,status:"pending"}});await Promise.all(ve.map(le=>be.addItem(`users/${e.uid}/followUps`,le)))}catch(te){const J=pn(te);throw console.error(J),U(J),J}},[e,l]),X=C.useCallback(async(re,te)=>{try{if(!e)return;U(null),await be.updateItem(`users/${e.uid}/vehicles`,re,te)}catch(J){const pe=pn(J);throw console.error(pe),U(pe),pe}},[e]),k=C.useCallback(async re=>{try{if(!e)return;U(null);const te=l.find(pe=>pe.id===re);if(!te)return;let J={isArchived:!te.isArchived};!te.isArchived&&te.isActive&&(J.isActive=!1),await X(re,J)}catch(te){const J=pn(te);throw console.error(J),U(J),J}},[e,l,X]),I=C.useCallback(async re=>{try{if(!e)return;U(null);const te=l.map(J=>J.id===re&&!J.isActive?be.updateItem(`users/${e.uid}/vehicles`,J.id,{isActive:!0}):J.id!==re&&J.isActive?be.updateItem(`users/${e.uid}/vehicles`,J.id,{isActive:!1}):Promise.resolve());await Promise.all(te)}catch(te){const J=pn(te);throw console.error(J),U(J),J}},[e,l]),b=C.useCallback(()=>l.find(re=>re.isActive&&!re.isArchived),[l]),N=C.useCallback(async re=>{try{if(!e)return;U(null);const te={status:"pending",...re};await be.addItem(`users/${e.uid}/followUps`,te)}catch(te){const J=pn(te);throw console.error(J),U(J),J}},[e]),V=C.useCallback(async re=>{try{if(!e)return;U(null),await be.deleteItem(`users/${e.uid}/followUps`,re)}catch(te){const J=pn(te);throw console.error(J),U(J),J}},[e]),P=C.useCallback(async(re,te)=>{try{if(!e)return;U(null);const J=f.find(le=>le.id===re);if(!J)return;const pe=l.find(le=>le.id===J.vehicleId);let ve={vehicleId:J.vehicleId,followUpId:re,type:J.type,...te};if(te.cost>0&&te.accountId){let le="cat_vehicle";const Oe=i.find(Le=>Le.name==="Vehicle"||Le.id==="cat_vehicle");Oe?le=Oe.id:le=i.find(Le=>Le.name==="Transport")?.id||i.find(Le=>Le.type==="expense")?.id;const Qe={amount:te.cost,type:"expense",categoryId:le,accountId:te.accountId,note:`Vehicle: ${pe?.name} - ${J.type}`,date:te.date};await r(Qe),ve.financeTxId=!0}if(await be.addItem(`users/${e.uid}/serviceRecords`,ve),Number(te.odometer)>Number(pe?.odometer||0)&&await X(pe.id,{odometer:te.odometer}),await V(re),J.isRecurring){const le={...J};if(delete le.id,J.frequencyType==="date"||J.frequencyType==="both"){const Oe=new Date(te.date);let Qe=Oe;J.frequencyUnit==="days"&&(Qe=Tu(Oe,J.frequencyValue)),J.frequencyUnit==="months"&&(Qe=Io(Oe,J.frequencyValue)),J.frequencyUnit==="years"&&(Qe=Gh(Oe,J.frequencyValue)),le.dueDate=Qe.toISOString()}if(J.frequencyType==="odometer"||J.frequencyType==="both"){const Oe=Number(te.odometer);le.dueOdometer=Oe+Number(J.odometerValue||J.frequencyValue)}await N(le)}}catch(J){const pe=pn(J);throw console.error(pe),U(pe),pe}},[e,f,l,i,r,X,V,N]),S=C.useCallback(async re=>{try{if(!e)return;U(null);const te={...re};if(re.cost>0&&re.accountId){let pe=i.find(Oe=>Oe.name==="Transport")?.id||i.find(Oe=>Oe.type==="expense")?.id;const ve=l.find(Oe=>Oe.id===re.vehicleId),le={amount:re.cost,type:"expense",categoryId:pe,accountId:re.accountId,note:`Vehicle: ${ve?.name} - ${re.type}`,date:re.date};await r(le),te.financeTxId=!0}await be.addItem(`users/${e.uid}/serviceRecords`,te);const J=l.find(pe=>pe.id===re.vehicleId);J&&Number(re.odometer)>Number(J.odometer||0)&&await X(J.id,{odometer:re.odometer})}catch(te){const J=pn(te);throw console.error(J),U(J),J}},[e,i,l,r,X]),G=C.useCallback((re,te)=>g.filter(J=>J.vehicleId===re&&J.type===te).sort((J,pe)=>new Date(pe.date)-new Date(J.date))[0],[g]),z=C.useCallback(async(re,te)=>{try{if(!e)return;U(null);const J=f.find(ve=>ve.vehicleId===re&&ve.type===te.type&&ve.status!=="completed"),pe=l.find(ve=>ve.id===re);if(J)await V(J.id);else{const ve=new Date;let le=null;(te.frequencyType==="date"||te.frequencyType==="both")&&(te.frequencyUnit==="days"&&(le=Tu(ve,te.frequencyValue).toISOString()),te.frequencyUnit==="months"&&(le=Io(ve,te.frequencyValue).toISOString()),te.frequencyUnit==="years"&&(le=Gh(ve,te.frequencyValue).toISOString()));let Oe=null;pe&&(te.frequencyType==="odometer"||te.frequencyType==="both")&&(Oe=(Number(pe.odometer)||0)+(te.odometerValue||0));const Qe={vehicleId:re,type:te.type,frequencyType:te.frequencyType,frequencyValue:te.frequencyValue,frequencyUnit:te.frequencyUnit,odometerValue:te.odometerValue,dueDate:le,dueOdometer:Oe,isRecurring:!0,isStandard:!0,status:"pending"};await N(Qe)}}catch(J){const pe=pn(J);throw console.error(pe),U(pe),pe}},[e,f,l,V,N]),he=C.useCallback(async re=>{try{if(!e)return;U(null);const te={status:"active",history:[],remainingPrincipal:Number(re.totalLoanAmount),...re};await be.addItem(`users/${e.uid}/vehicleLoans`,te)}catch(te){const J=pn(te);throw console.error(J),U(J),J}},[e]),ae=C.useCallback(async(re,te)=>{try{if(!e)return;U(null);const J=O.find(le=>le.id===re);if(!J)return;const pe=l.find(le=>le.id===J.vehicleId);let ve=Number(J.remainingPrincipal)-Number(te.principal);if(ve<0&&(ve=0),te.amount>0&&te.accountId){let le="cat_vehicle";const Oe=i.find(Le=>Le.name==="Vehicle"||Le.id==="cat_vehicle");Oe?le=Oe.id:le=i.find(Le=>Le.name==="Transport")?.id||i.find(Le=>Le.type==="expense")?.id;const Qe={amount:te.amount,type:"expense",categoryId:le,accountId:te.accountId,note:`Vehicle: ${pe?.name} - Loan EMI (${te.type}) - ${J.lender}`,date:te.date};await r(Qe)}await be.updateItem(`users/${e.uid}/vehicleLoans`,re,{remainingPrincipal:ve,history:[...J.history||[],te],status:ve<=0?"closed":"active"})}catch(J){const pe=pn(J);throw console.error(pe),U(pe),pe}},[e,O,l,i,r]),H=C.useCallback(re=>O.find(te=>te.vehicleId===re&&te.status!=="closed"),[O]),se=C.useCallback(re=>{const te=O.find(_t=>_t.id===re);if(!te)return null;const J=new Date,pe=J.getFullYear(),ve=J.getMonth(),le=new Date(pe,ve,te.dueDateDay);if(isNaN(le.getTime()))return{status:"error",dueDate:"",isPastDue:!1,interestBalance:0,daysLate:0};const Oe=te.history?.some(_t=>{const ge=new Date(_t.date);return!isNaN(ge.getTime())&&ge.getFullYear()===pe&&ge.getMonth()===ve&&_t.type==="EMI"}),Qe=!Oe&&J>le?"overdue":Oe?"paid":"pending";let Le=0;if(te.interestType==="reducing"){const _t=te.interestRate/100/12;Le=te.remainingPrincipal*_t}else Le=te.totalLoanAmount*(te.interestRate/100)*(te.tenureMonths/12)/te.tenureMonths;return{status:Qe,dueDate:le.toISOString(),isPastDue:!Oe&&J>le,interestBalance:Math.round(Le),daysLate:!Oe&&J>le?Math.floor((J-le)/(1e3*60*60*24)):0}},[O]),ce=C.useCallback(re=>{const te=l.find(Ce=>Ce.id===re);if(!te)return null;const J=g.filter(Ce=>Ce.vehicleId===re),pe=f.filter(Ce=>Ce.vehicleId===re&&Ce.status!=="completed"),ve=J.reduce((Ce,Pe)=>Ce+(Number(Pe.cost)||0),0),le=new Date,Qe=J.filter(Ce=>{const Pe=new Date(Ce.date);return!isNaN(Pe.getTime())&&Pe>new Date(le.getFullYear(),le.getMonth(),1)}).reduce((Ce,Pe)=>Ce+(Number(Pe.cost)||0),0),Le=new Date(te.purchaseDate),ge=!isNaN(Le.getTime())?Math.max(1,(le.getFullYear()-Le.getFullYear())*12+(le.getMonth()-Le.getMonth())):1,_e=Math.round(ve/ge),Ee=pe.filter(Ce=>{let Pe=!1;if((Ce.frequencyType==="date"||Ce.frequencyType==="both")&&Ce.dueDate){const Ye=new Date(Ce.dueDate);!isNaN(Ye.getTime())&&Ye<le&&(Pe=!0)}return(Ce.frequencyType==="odometer"||Ce.frequencyType==="both")&&Ce.dueOdometer&&Number(te.odometer)>=Number(Ce.dueOdometer)&&(Pe=!0),Pe}).length,qe=J.sort((Ce,Pe)=>new Date(Pe.date)-new Date(Ce.date))[0];return{totalSpend:ve,monthSpend:Qe,costPerMonth:_e,overdueCount:Ee,lastServiceDate:qe?.date,lastServiceType:qe?.type}},[l,g,f]),$=C.useCallback(re=>{const te=l.find(Le=>Le.id===re);if(!te)return[];const J=[],pe=H(re);if(pe){const Le=se(pe.id);Le.isPastDue?J.push({type:"critical",title:`EMI Overdue by ${Le.daysLate} days`,detail:"Immediate payment required to avoid penalties."}):Le.status==="active"&&J.push({type:"info",title:`Interest Remaining: ${Le.interestBalance.toLocaleString()}`,detail:`${pe.interestType==="reducing"?"Reducing Balance":"Flat Rate"} Interest`})}const ve=f.filter(Le=>Le.vehicleId===re&&Le.status!=="completed"),le=ve.find(Le=>(Le.name||Le.type||"").toLowerCase().includes("insurance"));if(le){const Le=le.dueDate?new Date(le.dueDate):null,_t=Le&&!isNaN(Le.getTime())?Math.ceil((Le-new Date)/(1e3*60*60*24)):999;_t<0?J.push({type:"critical",title:"Insurance Expired",detail:` expired ${Math.abs(_t)} days ago. Do not drive.`}):_t<=15&&J.push({type:"warning",title:"Insurance Expiring Soon",detail:`Renew within ${_t} days.`})}const Oe=ve.find(Le=>(Le.name||Le.type||"").toLowerCase().includes("oil"));if(Oe&&Oe.dueOdometer&&Number(te.odometer)>=Number(Oe.dueOdometer)){const Le=Number(te.odometer)-Number(Oe.dueOdometer);J.push({type:"warning",title:`Oil Change Overdue by ${Le} km`,detail:"Engine health at risk."})}const Qe=ce(re);return Qe&&(J.push({type:"info",title:`Monthly Cost: ${Qe.costPerMonth.toLocaleString()}`,detail:"Average cost of ownership per month."}),Qe.monthSpend>Qe.costPerMonth*1.5&&Qe.monthSpend>2e3&&J.push({type:"warning",title:"Rising Monthly Cost",detail:`This month's spend (${Qe.monthSpend}) is 50% higher than average.`})),J},[l,f,H,se,ce]),ne=C.useCallback(()=>A(re=>re+20),[]),Ie=C.useMemo(()=>({vehicles:l,followUps:f,serviceRecords:g,addVehicle:F,updateVehicle:X,toggleArchiveVehicle:k,setVehicleActive:I,getActiveVehicle:b,addFollowUp:N,deleteFollowUp:V,completeFollowUp:P,addServiceRecord:S,getVehicleStats:ce,getLatestRecord:G,toggleMaintenanceItem:z,loans:O,addLoan:he,payEMI:ae,getLoanForVehicle:H,getLoanDetailedStatus:se,getVehicleRisks:$,deleteVehicle:ie,error:q,isLoading:L,loadMoreServiceRecords:ne}),[l,f,g,O,L,F,X,k,I,b,ie,N,V,P,S,ce,G,z,he,ae,H,se,$,ne]);return R.jsx(lk.Provider,{value:Ie,children:t})},jy="/AWAKE/assets/awake_logo_new-CKmsyQnW.png",uk=()=>R.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 pb-20",children:R.jsx("div",{className:"relative flex flex-col items-center",children:R.jsx("img",{src:jy,alt:"Loading...",className:"h-16 w-auto animate-pulse object-contain drop-shadow-xl dark:brightness-0 dark:invert"})})}),LT=({children:t})=>{const{user:e,authIsReady:n}=Oi();return n?e?t:R.jsx(g1,{to:"/login",replace:!0}):R.jsx(uk,{})},Uy=C.createContext({});function By(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const ck=typeof window<"u",hk=ck?C.useLayoutEffect:C.useEffect,df=C.createContext(null);function zy(t,e){t.indexOf(e)===-1&&t.push(e)}function $y(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Yr=(t,e,n)=>n>e?e:n<t?t:n;let Wy=()=>{};const xs={},dk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function fk(t){return typeof t=="object"&&t!==null}const pk=t=>/^0[^.\s]+$/u.test(t);function qy(t){let e;return()=>(e===void 0&&(e=t()),e)}const nr=t=>t,KL=(t,e)=>n=>e(t(n)),nc=(...t)=>t.reduce(KL),Fu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Hy{constructor(){this.subscriptions=[]}add(e){return zy(this.subscriptions,e),()=>$y(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ts=t=>t*1e3,er=t=>t/1e3;function mk(t,e){return e?t*(1e3/e):0}const gk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,YL=1e-7,QL=12;function XL(t,e,n,r,i){let a,l,h=0;do l=e+(n-e)/2,a=gk(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>YL&&++h<QL);return l}function rc(t,e,n,r){if(t===e&&n===r)return nr;const i=a=>XL(a,0,1,t,n);return a=>a===0||a===1?a:gk(i(a),e,r)}const yk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vk=t=>e=>1-t(1-e),wk=rc(.33,1.53,.69,.99),Gy=vk(wk),_k=yk(Gy),Tk=t=>(t*=2)<1?.5*Gy(t):.5*(2-Math.pow(2,-10*(t-1))),Ky=t=>1-Math.sin(Math.acos(t)),Ek=vk(Ky),Sk=yk(Ky),JL=rc(.42,0,1,1),ZL=rc(0,0,.58,1),Ik=rc(.42,0,.58,1),e4=t=>Array.isArray(t)&&typeof t[0]!="number",kk=t=>Array.isArray(t)&&typeof t[0]=="number",t4={linear:nr,easeIn:JL,easeInOut:Ik,easeOut:ZL,circIn:Ky,circInOut:Sk,circOut:Ek,backIn:Gy,backInOut:_k,backOut:wk,anticipate:Tk},n4=t=>typeof t=="string",FT=t=>{if(kk(t)){Wy(t.length===4);const[e,n,r,i]=t;return rc(e,n,r,i)}else if(n4(t))return t4[t];return t},xh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function r4(t,e){let n=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){l.has(g)&&(p.schedule(g),t()),g(h)}const p={schedule:(g,w=!1,_=!1)=>{const O=_&&i?n:r;return w&&l.add(g),O.has(g)||O.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(h=g,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),n.clear(),i=!1,a&&(a=!1,p.process(g))}};return p}const s4=40;function Ck(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=xh.reduce((U,ie)=>(U[ie]=r4(a),U),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:g,update:w,preRender:_,render:A,postRender:O}=l,M=()=>{const U=xs.useManualTiming?i.timestamp:performance.now();n=!1,xs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(U-i.timestamp,s4),1)),i.timestamp=U,i.isProcessing=!0,h.process(i),f.process(i),p.process(i),g.process(i),w.process(i),_.process(i),A.process(i),O.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(M))},L=()=>{n=!0,r=!0,i.isProcessing||t(M)};return{schedule:xh.reduce((U,ie)=>{const F=l[ie];return U[ie]=(X,k=!1,I=!1)=>(n||L(),F.schedule(X,k,I)),U},{}),cancel:U=>{for(let ie=0;ie<xh.length;ie++)l[xh[ie]].cancel(U)},state:i,steps:l}}const{schedule:wt,cancel:Pi,state:rn,steps:lm}=Ck(typeof requestAnimationFrame<"u"?requestAnimationFrame:nr,!0);let Kh;function i4(){Kh=void 0}const Tn={now:()=>(Kh===void 0&&Tn.set(rn.isProcessing||xs.useManualTiming?rn.timestamp:performance.now()),Kh),set:t=>{Kh=t,queueMicrotask(i4)}},xk=t=>e=>typeof e=="string"&&e.startsWith(t),Ak=xk("--"),o4=xk("var(--"),Yy=t=>o4(t)?a4.test(t.split("/*")[0].trim()):!1,a4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function jT(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const sl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ju={...sl,transform:t=>Yr(0,1,t)},Ah={...sl,default:1},Eu=t=>Math.round(t*1e5)/1e5,Qy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function l4(t){return t==null}const u4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xy=(t,e)=>n=>!!(typeof n=="string"&&u4.test(n)&&n.startsWith(t)||e&&!l4(n)&&Object.prototype.hasOwnProperty.call(n,e)),bk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,h]=r.match(Qy);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:h!==void 0?parseFloat(h):1}},c4=t=>Yr(0,255,t),um={...sl,transform:t=>Math.round(c4(t))},_o={test:Xy("rgb","red"),parse:bk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+um.transform(t)+", "+um.transform(e)+", "+um.transform(n)+", "+Eu(ju.transform(r))+")"};function h4(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const rg={test:Xy("#"),parse:h4,transform:_o.transform},sc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ci=sc("deg"),Gr=sc("%"),Ve=sc("px"),d4=sc("vh"),f4=sc("vw"),UT={...Gr,parse:t=>Gr.parse(t)/100,transform:t=>Gr.transform(t*100)},ba={test:Xy("hsl","hue"),parse:bk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Gr.transform(Eu(e))+", "+Gr.transform(Eu(n))+", "+Eu(ju.transform(r))+")"},Ut={test:t=>_o.test(t)||rg.test(t)||ba.test(t),parse:t=>_o.test(t)?_o.parse(t):ba.test(t)?ba.parse(t):rg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_o.transform(t):ba.transform(t),getAnimatableNone:t=>{const e=Ut.parse(t);return e.alpha=0,Ut.transform(e)}},p4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function m4(t){return isNaN(t)&&typeof t=="string"&&(t.match(Qy)?.length||0)+(t.match(p4)?.length||0)>0}const Pk="number",Rk="color",g4="var",y4="var(",BT="${}",v4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const h=e.replace(v4,f=>(Ut.test(f)?(r.color.push(a),i.push(Rk),n.push(Ut.parse(f))):f.startsWith(y4)?(r.var.push(a),i.push(g4),n.push(f)):(r.number.push(a),i.push(Pk),n.push(parseFloat(f))),++a,BT)).split(BT);return{values:n,split:h,indexes:r,types:i}}function Dk(t){return Uu(t).values}function Nk(t){const{split:e,types:n}=Uu(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const h=n[l];h===Pk?a+=Eu(i[l]):h===Rk?a+=Ut.transform(i[l]):a+=i[l]}return a}}const w4=t=>typeof t=="number"?0:Ut.test(t)?Ut.getAnimatableNone(t):t;function _4(t){const e=Dk(t);return Nk(t)(e.map(w4))}const Ri={test:m4,parse:Dk,createTransformer:Nk,getAnimatableNone:_4};function cm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function T4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;i=cm(f,h,t+1/3),a=cm(f,h,t),l=cm(f,h,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function xd(t,e){return n=>n>0?e:t}const kt=(t,e,n)=>t+(e-t)*n,hm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},E4=[rg,_o,ba],S4=t=>E4.find(e=>e.test(t));function zT(t){const e=S4(t);if(!e)return!1;let n=e.parse(t);return e===ba&&(n=T4(n)),n}const $T=(t,e)=>{const n=zT(t),r=zT(e);if(!n||!r)return xd(t,e);const i={...n};return a=>(i.red=hm(n.red,r.red,a),i.green=hm(n.green,r.green,a),i.blue=hm(n.blue,r.blue,a),i.alpha=kt(n.alpha,r.alpha,a),_o.transform(i))},sg=new Set(["none","hidden"]);function I4(t,e){return sg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function k4(t,e){return n=>kt(t,e,n)}function Jy(t){return typeof t=="number"?k4:typeof t=="string"?Yy(t)?xd:Ut.test(t)?$T:A4:Array.isArray(t)?Vk:typeof t=="object"?Ut.test(t)?$T:C4:xd}function Vk(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>Jy(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function C4(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Jy(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function x4(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],h=t.values[l]??0;n[i]=h,r[a]++}return n}const A4=(t,e)=>{const n=Ri.createTransformer(e),r=Uu(t),i=Uu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?sg.has(t)&&!i.values.length||sg.has(e)&&!r.values.length?I4(t,e):nc(Vk(x4(r,i),i.values),n):xd(t,e)};function Mk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?kt(t,e,n):Jy(t)(t,e)}const b4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>wt.update(e,n),stop:()=>Pi(e),now:()=>rn.isProcessing?rn.timestamp:Tn.now()}},Ok=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ad=2e4;function Zy(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ad;)e+=n,r=t.next(e);return e>=Ad?1/0:e}function P4(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Zy(r),Ad);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:er(i)}}const R4=5;function Lk(t,e,n){const r=Math.max(e-R4,0);return mk(n-t(r),e-r)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dm=.001;function D4({duration:t=Pt.duration,bounce:e=Pt.bounce,velocity:n=Pt.velocity,mass:r=Pt.mass}){let i,a,l=1-e;l=Yr(Pt.minDamping,Pt.maxDamping,l),t=Yr(Pt.minDuration,Pt.maxDuration,er(t)),l<1?(i=p=>{const g=p*l,w=g*t,_=g-n,A=ig(p,l),O=Math.exp(-w);return dm-_/A*O},a=p=>{const w=p*l*t,_=w*n+n,A=Math.pow(l,2)*Math.pow(p,2)*t,O=Math.exp(-w),M=ig(Math.pow(p,2),l);return(-i(p)+dm>0?-1:1)*((_-A)*O)/M}):(i=p=>{const g=Math.exp(-p*t),w=(p-n)*t+1;return-dm+g*w},a=p=>{const g=Math.exp(-p*t),w=(n-p)*(t*t);return g*w});const h=5/t,f=V4(i,a,h);if(t=Ts(t),isNaN(f))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const N4=12;function V4(t,e,n){let r=n;for(let i=1;i<N4;i++)r=r-t(r)/e(r);return r}function ig(t,e){return t*Math.sqrt(1-e*e)}const M4=["duration","bounce"],O4=["stiffness","damping","mass"];function WT(t,e){return e.some(n=>t[n]!==void 0)}function L4(t){let e={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...t};if(!WT(t,O4)&&WT(t,M4))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Yr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Pt.mass,stiffness:i,damping:a}}else{const n=D4(t);e={...e,...n,mass:Pt.mass},e.isResolvedFromDuration=!0}return e}function bd(t=Pt.visualDuration,e=Pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:w,velocity:_,isResolvedFromDuration:A}=L4({...n,velocity:-er(n.velocity||0)}),O=_||0,M=p/(2*Math.sqrt(f*g)),L=l-a,B=er(Math.sqrt(f/g)),q=Math.abs(L)<5;r||(r=q?Pt.restSpeed.granular:Pt.restSpeed.default),i||(i=q?Pt.restDelta.granular:Pt.restDelta.default);let U;if(M<1){const F=ig(B,M);U=X=>{const k=Math.exp(-M*B*X);return l-k*((O+M*B*L)/F*Math.sin(F*X)+L*Math.cos(F*X))}}else if(M===1)U=F=>l-Math.exp(-B*F)*(L+(O+B*L)*F);else{const F=B*Math.sqrt(M*M-1);U=X=>{const k=Math.exp(-M*B*X),I=Math.min(F*X,300);return l-k*((O+M*B*L)*Math.sinh(I)+F*L*Math.cosh(I))/F}}const ie={calculatedDuration:A&&w||null,next:F=>{const X=U(F);if(A)h.done=F>=w;else{let k=F===0?O:0;M<1&&(k=F===0?Ts(O):Lk(U,F,X));const I=Math.abs(k)<=r,b=Math.abs(l-X)<=i;h.done=I&&b}return h.value=h.done?l:X,h},toString:()=>{const F=Math.min(Zy(ie),Ad),X=Ok(k=>ie.next(F*k).value,F,30);return F+"ms "+X},toTransition:()=>{}};return ie}bd.applyToOptions=t=>{const e=P4(t,100,bd);return t.ease=e.ease,t.duration=Ts(e.duration),t.type="keyframes",t};function og({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:h,max:f,restDelta:p=.5,restSpeed:g}){const w=t[0],_={done:!1,value:w},A=I=>h!==void 0&&I<h||f!==void 0&&I>f,O=I=>h===void 0?f:f===void 0||Math.abs(h-I)<Math.abs(f-I)?h:f;let M=n*e;const L=w+M,B=l===void 0?L:l(L);B!==L&&(M=B-w);const q=I=>-M*Math.exp(-I/r),U=I=>B+q(I),ie=I=>{const b=q(I),N=U(I);_.done=Math.abs(b)<=p,_.value=_.done?B:N};let F,X;const k=I=>{A(_.value)&&(F=I,X=bd({keyframes:[_.value,O(_.value)],velocity:Lk(U,I,_.value),damping:i,stiffness:a,restDelta:p,restSpeed:g}))};return k(0),{calculatedDuration:null,next:I=>{let b=!1;return!X&&F===void 0&&(b=!0,ie(I),k(I)),F!==void 0&&I>=F?X.next(I-F):(!b&&ie(I),_)}}}function F4(t,e,n){const r=[],i=n||xs.mix||Mk,a=t.length-1;for(let l=0;l<a;l++){let h=i(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||nr:e;h=nc(f,h)}r.push(h)}return r}function j4(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Wy(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=F4(e,r,i),f=h.length,p=g=>{if(l&&g<t[0])return e[0];let w=0;if(f>1)for(;w<t.length-2&&!(g<t[w+1]);w++);const _=Fu(t[w],t[w+1],g);return h[w](_)};return n?g=>p(Yr(t[0],t[a-1],g)):p}function U4(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Fu(0,e,r);t.push(kt(n,1,i))}}function B4(t){const e=[0];return U4(e,t.length-1),e}function z4(t,e){return t.map(n=>n*e)}function $4(t,e){return t.map(()=>e||Ik).splice(0,t.length-1)}function Su({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=e4(r)?r.map(FT):FT(r),a={done:!1,value:e[0]},l=z4(n&&n.length===e.length?n:B4(e),t),h=j4(l,e,{ease:Array.isArray(i)?i:$4(e,i)});return{calculatedDuration:t,next:f=>(a.value=h(f),a.done=f>=t,a)}}const W4=t=>t!==null;function ev(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(W4),h=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!h||r===void 0?a[h]:r}const q4={decay:og,inertia:og,tween:Su,keyframes:Su,spring:bd};function Fk(t){typeof t.type=="string"&&(t.type=q4[t.type])}class tv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const H4=t=>t/100;class nv extends tv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Fk(e);const{type:n=Su,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:h}=e;const f=n||Su;f!==Su&&typeof h[0]!="number"&&(this.mixKeyframes=nc(H4,Mk(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Zy(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:w,repeatType:_,repeatDelay:A,type:O,onUpdate:M,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?B<0:B>i;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let U=this.currentTime,ie=r;if(w){const I=Math.min(this.currentTime,i)/h;let b=Math.floor(I),N=I%1;!N&&I>=1&&(N=1),N===1&&b--,b=Math.min(b,w+1),b%2&&(_==="reverse"?(N=1-N,A&&(N-=A/h)):_==="mirror"&&(ie=l)),U=Yr(0,1,N)*h}const F=q?{done:!1,value:g[0]}:ie.next(U);a&&(F.value=a(F.value));let{done:X}=F;!q&&f!==null&&(X=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return k&&O!==og&&(F.value=ev(g,this.options,L,this.speed)),M&&M(F.value),k&&this.finish(),F}then(e,n){return this.finished.then(e,n)}get duration(){return er(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+er(e)}get time(){return er(this.currentTime)}set time(e){e=Ts(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Tn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=er(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=b4,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function G4(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const To=t=>t*180/Math.PI,ag=t=>{const e=To(Math.atan2(t[1],t[0]));return lg(e)},K4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ag,rotateZ:ag,skewX:t=>To(Math.atan(t[1])),skewY:t=>To(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},lg=t=>(t=t%360,t<0&&(t+=360),t),qT=ag,HT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),GT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Y4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:HT,scaleY:GT,scale:t=>(HT(t)+GT(t))/2,rotateX:t=>lg(To(Math.atan2(t[6],t[5]))),rotateY:t=>lg(To(Math.atan2(-t[2],t[0]))),rotateZ:qT,rotate:qT,skewX:t=>To(Math.atan(t[4])),skewY:t=>To(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ug(t){return t.includes("scale")?1:0}function cg(t,e){if(!t||t==="none")return ug(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Y4,i=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=K4,i=h}if(!i)return ug(e);const a=r[e],l=i[1].split(",").map(X4);return typeof a=="function"?a(l):l[a]}const Q4=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return cg(n,e)};function X4(t){return parseFloat(t.trim())}const il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ol=new Set(il),KT=t=>t===sl||t===Ve,J4=new Set(["x","y","z"]),Z4=il.filter(t=>!J4.has(t));function eF(t){const e=[];return Z4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const yi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>cg(e,"x"),y:(t,{transform:e})=>cg(e,"y")};yi.translateX=yi.x;yi.translateY=yi.y;const ko=new Set;let hg=!1,dg=!1,fg=!1;function jk(){if(dg){const t=Array.from(ko).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=eF(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}dg=!1,hg=!1,ko.forEach(t=>t.complete(fg)),ko.clear()}function Uk(){ko.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dg=!0)})}function tF(){fg=!0,Uk(),jk(),fg=!1}class rv{constructor(e,n,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(ko.add(this),hg||(hg=!0,wt.read(Uk),wt.resolveKeyframes(jk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const h=r.readValue(n,l);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}G4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ko.delete(this)}cancel(){this.state==="scheduled"&&(ko.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const nF=t=>t.startsWith("--");function rF(t,e,n){nF(e)?t.style.setProperty(e,n):t.style[e]=n}const sF=qy(()=>window.ScrollTimeline!==void 0),iF={};function oF(t,e){const n=qy(t);return()=>iF[e]??n()}const Bk=oF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,YT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fu([0,.65,.55,1]),circOut:fu([.55,0,1,.45]),backIn:fu([.31,.01,.66,-.59]),backOut:fu([.33,1.53,.69,.99])};function zk(t,e){if(t)return typeof t=="function"?Bk()?Ok(t,e):"ease-out":kk(t)?fu(t):Array.isArray(t)?t.map(n=>zk(n,e)||YT.easeOut):YT[t]}function aF(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:h="easeOut",times:f}={},p=void 0){const g={[e]:n};f&&(g.offset=f);const w=zk(h,i);Array.isArray(w)&&(g.easing=w);const _={delay:r,duration:i,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(g,_)}function $k(t){return typeof t=="function"&&"applyToOptions"in t}function lF({type:t,...e}){return $k(t)&&Bk()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class uF extends tv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Wy(typeof e.type!="string");const p=lF(e);this.animation=aF(n,r,i,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=ev(i,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):rF(n,r,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return er(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+er(e)}get time(){return er(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ts(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&sF()?(this.animation.timeline=e,nr):n(this)}}const Wk={anticipate:Tk,backInOut:_k,circInOut:Sk};function cF(t){return t in Wk}function hF(t){typeof t.ease=="string"&&cF(t.ease)&&(t.ease=Wk[t.ease])}const fm=10;class dF extends uF{constructor(e){hF(e),Fk(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new nv({...l,autoplay:!1}),f=Math.max(fm,Tn.now()-this.startTime),p=Yr(0,fm,f-fm);n.setWithVelocity(h.sample(Math.max(0,f-p)).value,h.sample(f).value,p),h.stop()}}const QT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ri.test(t)||t==="0")&&!t.startsWith("url("));function fF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function pF(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=QT(i,e),h=QT(a,e);return!l||!h?!1:fF(t)||(n==="spring"||$k(n))&&r}function pg(t){t.duration=0,t.type="keyframes"}const mF=new Set(["opacity","clipPath","filter","transform"]),gF=qy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yF(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return gF()&&n&&mF.has(n)&&(n!=="transform"||!p)&&!f&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const vF=40;class wF extends tv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:h,name:f,motionValue:p,element:g,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Tn.now();const _={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:g,...w},A=g?.KeyframeResolver||rv;this.keyframeResolver=new A(h,(O,M,L)=>this.onKeyframesResolved(O,M,_,!L),f,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:h,delay:f,isHandoff:p,onUpdate:g}=r;this.resolvedAt=Tn.now(),pF(e,a,l,h)||((xs.instantAnimations||!f)&&g?.(ev(e,r,n)),e[0]=e[e.length-1],pg(r),r.repeat=0);const _={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>vF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},A=!p&&yF(_),O=_.motionValue?.owner?.current,M=A?new dF({..._,element:O}):new nv(_);M.finished.then(()=>{this.notifyFinished()}).catch(nr),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),tF()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function qk(t,e,n,r=0,i=1){const a=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),l=t.size,h=(l-1)*r;return typeof n=="function"?n(a,l):i===1?a*r:h-a*r}const _F=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TF(t){const e=_F.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Hk(t,e,n=1){const[r,i]=TF(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return dk(l)?parseFloat(l):l}return Yy(i)?Hk(i,e,n+1):i}const EF={type:"spring",stiffness:500,damping:25,restSpeed:10},SF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),IF={type:"keyframes",duration:.8},kF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CF=(t,{keyframes:e})=>e.length>2?IF:ol.has(t)?t.startsWith("scale")?SF(e[1]):EF:kF,xF=t=>t!==null;function AF(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(xF),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}function sv(t,e){return t?.[e]??t?.default??t}function bF({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const iv=(t,e,n,r={},i,a)=>l=>{const h=sv(r,t)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ts(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{l(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:i};bF(h)||Object.assign(g,CF(t,g)),g.duration&&(g.duration=Ts(g.duration)),g.repeatDelay&&(g.repeatDelay=Ts(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let w=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(pg(g),g.delay===0&&(w=!0)),(xs.instantAnimations||xs.skipAnimations)&&(w=!0,pg(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,w&&!a&&e.get()!==void 0){const _=AF(g.keyframes,h);if(_!==void 0){wt.update(()=>{g.onUpdate(_),g.onComplete()});return}}return h.isSync?new nv(g):new wF(g)};function XT(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ov(t,e,n,r){if(typeof e=="function"){const[i,a]=XT(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=XT(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function Fa(t,e,n){const r=t.getProps();return ov(r,e,n!==void 0?n:r.custom,t)}const Gk=new Set(["width","height","top","left","right","bottom",...il]),JT=30,PF=t=>!isNaN(parseFloat(t));class RF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Tn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=PF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Hy);const r=this.events[e].add(n);return e==="change"?()=>{r(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JT);return mk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ka(t,e){return new RF(t,e)}const mg=t=>Array.isArray(t);function DF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ka(n))}function NF(t){return mg(t)?t[t.length-1]||0:t}function VF(t,e){const n=Fa(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const h=NF(a[l]);DF(t,l,h)}}const yn=t=>!!(t&&t.getVelocity);function MF(t){return!!(yn(t)&&t.add)}function gg(t,e){const n=t.getValue("willChange");if(MF(n))return n.add(e);if(!n&&xs.WillChange){const r=new xs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function av(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const OF="framerAppearId",Kk="data-"+av(OF);function Yk(t){return t.props[Kk]}function LF({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Qk(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...h}=e;r&&(a=r);const f=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const g in h){const w=t.getValue(g,t.latestValues[g]??null),_=h[g];if(_===void 0||p&&LF(p,g))continue;const A={delay:n,...sv(a||{},g)},O=w.get();if(O!==void 0&&!w.isAnimating&&!Array.isArray(_)&&_===O&&!A.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const B=Yk(t);if(B){const q=window.MotionHandoffAnimation(B,g,wt);q!==null&&(A.startTime=q,M=!0)}}gg(t,g),w.start(iv(g,w,_,t.shouldReduceMotion&&Gk.has(g)?{type:!1}:A,t,M));const L=w.animation;L&&f.push(L)}return l&&Promise.all(f).then(()=>{wt.update(()=>{l&&VF(t,l)})}),f}function yg(t,e,n={}){const r=Fa(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(Qk(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:w}=i;return FF(t,e,f,p,g,w,n)}:()=>Promise.resolve(),{when:h}=i;if(h){const[f,p]=h==="beforeChildren"?[a,l]:[l,a];return f().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function FF(t,e,n=0,r=0,i=0,a=1,l){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(yg(f,e,{...l,delay:n+(typeof r=="function"?0:r)+qk(t.variantChildren,f,r,i,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function jF(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>yg(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=yg(t,e,n);else{const i=typeof e=="function"?Fa(t,e,n.custom):e;r=Promise.all(Qk(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const UF={test:t=>t==="auto",parse:t=>t},Xk=t=>e=>e.test(t),Jk=[sl,Ve,Gr,ci,f4,d4,UF],ZT=t=>Jk.find(Xk(t));function BF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||pk(t):!0}const zF=new Set(["brightness","contrast","saturate","opacity"]);function $F(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Qy)||[];if(!r)return t;const i=n.replace(r,"");let a=zF.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const WF=/\b([a-z-]*)\(.*?\)/gu,vg={...Ri,getAnimatableNone:t=>{const e=t.match(WF);return e?e.map($F).join(" "):t}},eE={...sl,transform:Math.round},qF={rotate:ci,rotateX:ci,rotateY:ci,rotateZ:ci,scale:Ah,scaleX:Ah,scaleY:Ah,scaleZ:Ah,skew:ci,skewX:ci,skewY:ci,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:ju,originX:UT,originY:UT,originZ:Ve},lv={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,inset:Ve,insetBlock:Ve,insetBlockStart:Ve,insetBlockEnd:Ve,insetInline:Ve,insetInlineStart:Ve,insetInlineEnd:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,paddingBlock:Ve,paddingBlockStart:Ve,paddingBlockEnd:Ve,paddingInline:Ve,paddingInlineStart:Ve,paddingInlineEnd:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,marginBlock:Ve,marginBlockStart:Ve,marginBlockEnd:Ve,marginInline:Ve,marginInlineStart:Ve,marginInlineEnd:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...qF,zIndex:eE,fillOpacity:ju,strokeOpacity:ju,numOctaves:eE},HF={...lv,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:vg,WebkitFilter:vg},Zk=t=>HF[t];function eC(t,e){let n=Zk(t);return n!==vg&&(n=Ri),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const GF=new Set(["auto","none","0"]);function KF(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!GF.has(a)&&Uu(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=eC(n,i)}class YF extends rv{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let w=e[g];if(typeof w=="string"&&(w=w.trim(),Yy(w))){const _=Hk(w,n.current);_!==void 0&&(e[g]=_),g===e.length-1&&(this.finalKeyframe=w)}}if(this.resolveNoneKeyframes(),!Gk.has(r)||e.length!==2)return;const[i,a]=e,l=ZT(i),h=ZT(a),f=jT(i),p=jT(a);if(f!==p&&yi[r]){this.needsMeasurement=!0;return}if(l!==h)if(KT(l)&&KT(h))for(let g=0;g<e.length;g++){const w=e[g];typeof w=="string"&&(e[g]=parseFloat(w))}else yi[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||BF(e[i]))&&r.push(i);r.length&&KF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yi[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=yi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function QF(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const tC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function wg(t){return fk(t)&&"offsetHeight"in t}const{schedule:uv}=Ck(queueMicrotask,!1),pr={x:!1,y:!1};function nC(){return pr.x||pr.y}function XF(t){return t==="x"||t==="y"?pr[t]?null:(pr[t]=!0,()=>{pr[t]=!1}):pr.x||pr.y?null:(pr.x=pr.y=!0,()=>{pr.x=pr.y=!1})}function rC(t,e){const n=QF(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function tE(t){return!(t.pointerType==="touch"||nC())}function JF(t,e,n={}){const[r,i,a]=rC(t,n),l=h=>{if(!tE(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const g=w=>{tE(w)&&(p(w),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,i)};return r.forEach(h=>{h.addEventListener("pointerenter",l,i)}),a}const sC=(t,e)=>e?t===e?!0:sC(t,e.parentElement):!1,cv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ZF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iC(t){return ZF.has(t.tagName)||t.isContentEditable===!0}const Yh=new WeakSet;function nE(t){return e=>{e.key==="Enter"&&t(e)}}function pm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const e3=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=nE(()=>{if(Yh.has(n))return;pm(n,"down");const i=nE(()=>{pm(n,"up")}),a=()=>pm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function rE(t){return cv(t)&&!nC()}function t3(t,e,n={}){const[r,i,a]=rC(t,n),l=h=>{const f=h.currentTarget;if(!rE(h))return;Yh.add(f);const p=e(f,h),g=(A,O)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",_),Yh.has(f)&&Yh.delete(f),rE(A)&&typeof p=="function"&&p(A,{success:O})},w=A=>{g(A,f===window||f===document||n.useGlobalTarget||sC(f,A.target))},_=A=>{g(A,!1)};window.addEventListener("pointerup",w,i),window.addEventListener("pointercancel",_,i)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",l,i),wg(h)&&(h.addEventListener("focus",p=>e3(p,i)),!iC(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}function oC(t){return fk(t)&&"ownerSVGElement"in t}function n3(t){return oC(t)&&t.tagName==="svg"}const r3=[...Jk,Ut,Ri],s3=t=>r3.find(Xk(t)),sE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pa=()=>({x:sE(),y:sE()}),iE=()=>({min:0,max:0}),Ht=()=>({x:iE(),y:iE()}),_g={current:null},aC={current:!1},i3=typeof window<"u";function o3(){if(aC.current=!0,!!i3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_g.current=t.matches;t.addEventListener("change",e),e()}else _g.current=!1}const a3=new WeakMap;function ff(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Bu(t){return typeof t=="string"||Array.isArray(t)}const hv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dv=["initial",...hv];function pf(t){return ff(t.animate)||dv.some(e=>Bu(t[e]))}function lC(t){return!!(pf(t)||t.variants)}function l3(t,e,n){for(const r in e){const i=e[r],a=n[r];if(yn(i))t.addValue(r,i);else if(yn(a))t.addValue(r,Ka(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,Ka(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const oE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Pd={};function uC(t){Pd=t}function u3(){return Pd}class c3{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Tn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,wt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=pf(n),this.isVariantNode=lC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in w){const A=w[_];f[_]!==void 0&&yn(A)&&A.set(f[_])}}mount(e){this.current=e,a3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(aC.current||o3(),this.shouldReduceMotion=_g.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Pi(this.notifyUpdate),Pi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ol.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&wt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Pd){const n=Pd[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<oE.length;r++){const i=oE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=l3(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ka(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(dk(r)||pk(r))?r=parseFloat(r):!s3(r)&&Ri.test(n)&&(r=eC(e,n)),this.setBaseTarget(e,yn(r)?r.get():r)),yn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=ov(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!yn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Hy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){uv.render(this.render)}}class cC extends c3{constructor(){super(...arguments),this.KeyframeResolver=YF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Li{constructor(e){this.isMounted=!1,this.node=e}update(){}}function hC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function h3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function d3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function mm(t){return t===void 0||t===1}function Tg({scale:t,scaleX:e,scaleY:n}){return!mm(t)||!mm(e)||!mm(n)}function yo(t){return Tg(t)||dC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dC(t){return aE(t.x)||aE(t.y)}function aE(t){return t&&t!=="0%"}function Rd(t,e,n){const r=t-n,i=e*r;return n+i}function lE(t,e,n,r,i){return i!==void 0&&(t=Rd(t,i,r)),Rd(t,n,r)+e}function Eg(t,e=0,n=1,r,i){t.min=lE(t.min,e,n,r,i),t.max=lE(t.max,e,n,r,i)}function fC(t,{x:e,y:n}){Eg(t.x,e.translate,e.scale,e.originPoint),Eg(t.y,n.translate,n.scale,n.originPoint)}const uE=.999999999999,cE=1.0000000000001;function f3(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let h=0;h<i;h++){a=n[h],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Da(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,fC(t,l)),r&&yo(a.latestValues)&&Da(t,a.latestValues))}e.x<cE&&e.x>uE&&(e.x=1),e.y<cE&&e.y>uE&&(e.y=1)}function Ra(t,e){t.min=t.min+e,t.max=t.max+e}function hE(t,e,n,r,i=.5){const a=kt(t.min,t.max,i);Eg(t,e,n,a,r)}function Da(t,e){hE(t.x,e.x,e.scaleX,e.scale,e.originX),hE(t.y,e.y,e.scaleY,e.scale,e.originY)}function pC(t,e){return hC(d3(t.getBoundingClientRect(),e))}function p3(t,e,n){const r=pC(t,n),{scroll:i}=e;return i&&(Ra(r.x,i.offset.x),Ra(r.y,i.offset.y)),r}const m3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},g3=il.length;function y3(t,e,n){let r="",i=!0;for(let a=0;a<g3;a++){const l=il[a],h=t[l];if(h===void 0)continue;let f=!0;if(typeof h=="number")f=h===(l.startsWith("scale")?1:0);else{const p=parseFloat(h);f=l.startsWith("scale")?p===1:p===0}if(!f||n){const p=tC(h,lv[l]);if(!f){i=!1;const g=m3[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function fv(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,h=!1;for(const f in e){const p=e[f];if(ol.has(f)){l=!0;continue}else if(Ak(f)){i[f]=p;continue}else{const g=tC(p,lv[f]);f.startsWith("origin")?(h=!0,a[f]=g):r[f]=g}}if(e.transform||(l||n?r.transform=y3(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}function mC(t,{style:e,vars:n},r,i){const a=t.style;let l;for(l in e)a[l]=e[l];i?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function dE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const su={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ve.test(t))t=parseFloat(t);else return t;const n=dE(t,e.target.x),r=dE(t,e.target.y);return`${n}% ${r}%`}},v3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ri.parse(t);if(i.length>5)return r;const a=Ri.createTransformer(t),l=typeof i[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;i[0+l]/=h,i[1+l]/=f;const p=kt(h,f,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}},Sg={borderRadius:{...su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:su,borderTopRightRadius:su,borderBottomLeftRadius:su,borderBottomRightRadius:su,boxShadow:v3};function gC(t,{layout:e,layoutId:n}){return ol.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Sg[t]||t==="opacity")}function pv(t,e,n){const r=t.style,i=e?.style,a={};if(!r)return a;for(const l in r)(yn(r[l])||i&&yn(i[l])||gC(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=r[l]);return a}function w3(t){return window.getComputedStyle(t)}class _3 extends cC{constructor(){super(...arguments),this.type="html",this.renderInstance=mC}readValueFromInstance(e,n){if(ol.has(n))return this.projection?.isProjecting?ug(n):Q4(e,n);{const r=w3(e),i=(Ak(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return pC(e,n)}build(e,n,r){fv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return pv(e,n,r)}}const T3={offset:"stroke-dashoffset",array:"stroke-dasharray"},E3={offset:"strokeDashoffset",array:"strokeDasharray"};function S3(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?T3:E3;t[a.offset]=`${-r}`,t[a.array]=`${e} ${n}`}const I3=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function yC(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...h},f,p,g){if(fv(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:_}=t;w.transform&&(_.transform=w.transform,delete w.transform),(_.transform||w.transformOrigin)&&(_.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),_.transform&&(_.transformBox=g?.transformBox??"fill-box",delete w.transformBox);for(const A of I3)w[A]!==void 0&&(_[A]=w[A],delete w[A]);e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),i!==void 0&&S3(w,i,a,l,!1)}const vC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),wC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function k3(t,e,n,r){mC(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(vC.has(i)?i:av(i),e.attrs[i])}function _C(t,e,n){const r=pv(t,e,n);for(const i in t)if(yn(t[i])||yn(e[i])){const a=il.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}class C3 extends cC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ht}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ol.has(n)){const r=Zk(n);return r&&r.default||0}return n=vC.has(n)?n:av(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return _C(e,n,r)}build(e,n,r){yC(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){k3(e,n,r,i)}mount(e){this.isSVGTag=wC(e.tagName),super.mount(e)}}const x3=dv.length;function TC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?TC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<x3;n++){const r=dv[n],i=t.props[r];(Bu(i)||i===!1)&&(e[r]=i)}return e}function EC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const A3=[...hv].reverse(),b3=hv.length;function P3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>jF(t,n,r)))}function R3(t){let e=P3(t),n=fE(),r=!0;const i=f=>(p,g)=>{const w=Fa(t,g,f==="exit"?t.presenceContext?.custom:void 0);if(w){const{transition:_,transitionEnd:A,...O}=w;p={...p,...O,...A}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,g=TC(t.parent)||{},w=[],_=new Set;let A={},O=1/0;for(let L=0;L<b3;L++){const B=A3[L],q=n[B],U=p[B]!==void 0?p[B]:g[B],ie=Bu(U),F=B===f?q.isActive:null;F===!1&&(O=L);let X=U===g[B]&&U!==p[B]&&ie;if(X&&r&&t.manuallyAnimateOnMount&&(X=!1),q.protectedKeys={...A},!q.isActive&&F===null||!U&&!q.prevProp||ff(U)||typeof U=="boolean")continue;const k=D3(q.prevProp,U);let I=k||B===f&&q.isActive&&!X&&ie||L>O&&ie,b=!1;const N=Array.isArray(U)?U:[U];let V=N.reduce(i(B),{});F===!1&&(V={});const{prevResolvedValues:P={}}=q,S={...P,...V},G=ae=>{I=!0,_.has(ae)&&(b=!0,_.delete(ae)),q.needsAnimating[ae]=!0;const H=t.getValue(ae);H&&(H.liveStyle=!1)};for(const ae in S){const H=V[ae],se=P[ae];if(A.hasOwnProperty(ae))continue;let ce=!1;mg(H)&&mg(se)?ce=!EC(H,se):ce=H!==se,ce?H!=null?G(ae):_.add(ae):H!==void 0&&_.has(ae)?G(ae):q.protectedKeys[ae]=!0}q.prevProp=U,q.prevResolvedValues=V,q.isActive&&(A={...A,...V}),r&&t.blockInitialAnimation&&(I=!1);const z=X&&k;I&&(!z||b)&&w.push(...N.map(ae=>{const H={type:B};if(typeof ae=="string"&&r&&!z&&t.manuallyAnimateOnMount&&t.parent){const{parent:se}=t,ce=Fa(se,ae);if(se.enteringChildren&&ce){const{delayChildren:$}=ce.transition||{};H.delay=qk(se.enteringChildren,t,$)}}return{animation:ae,options:H}}))}if(_.size){const L={};if(typeof p.initial!="boolean"){const B=Fa(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(L.transition=B.transition)}_.forEach(B=>{const q=t.getBaseTarget(B),U=t.getValue(B);U&&(U.liveStyle=!0),L[B]=q??null}),w.push({animation:L})}let M=!!w.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),r=!1,M?e(w):Promise.resolve()}function h(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(w=>w.animationState?.setActive(f,p)),n[f].isActive=p;const g=l(f);for(const w in n)n[w].protectedKeys={};return g}return{animateChanges:l,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=fE()}}}function D3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!EC(e,t):!1}function fo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fE(){return{animate:fo(!0),whileInView:fo(),whileHover:fo(),whileTap:fo(),whileDrag:fo(),whileFocus:fo(),exit:fo()}}function pE(t,e){t.min=e.min,t.max=e.max}function fr(t,e){pE(t.x,e.x),pE(t.y,e.y)}function mE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const SC=1e-4,N3=1-SC,V3=1+SC,IC=.01,M3=0-IC,O3=0+IC;function En(t){return t.max-t.min}function L3(t,e,n){return Math.abs(t-e)<=n}function gE(t,e,n,r=.5){t.origin=r,t.originPoint=kt(e.min,e.max,t.origin),t.scale=En(n)/En(e),t.translate=kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=N3&&t.scale<=V3||isNaN(t.scale))&&(t.scale=1),(t.translate>=M3&&t.translate<=O3||isNaN(t.translate))&&(t.translate=0)}function Iu(t,e,n,r){gE(t.x,e.x,n.x,r?r.originX:void 0),gE(t.y,e.y,n.y,r?r.originY:void 0)}function yE(t,e,n){t.min=n.min+e.min,t.max=t.min+En(e)}function F3(t,e,n){yE(t.x,e.x,n.x),yE(t.y,e.y,n.y)}function vE(t,e,n){t.min=e.min-n.min,t.max=t.min+En(e)}function Dd(t,e,n){vE(t.x,e.x,n.x),vE(t.y,e.y,n.y)}function wE(t,e,n,r,i){return t-=e,t=Rd(t,1/n,r),i!==void 0&&(t=Rd(t,1/i,r)),t}function j3(t,e=0,n=1,r=.5,i,a=t,l=t){if(Gr.test(e)&&(e=parseFloat(e),e=kt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let h=kt(a.min,a.max,r);t===a&&(h-=e),t.min=wE(t.min,e,n,h,i),t.max=wE(t.max,e,n,h,i)}function _E(t,e,[n,r,i],a,l){j3(t,e[n],e[r],e[i],e.scale,a,l)}const U3=["x","scaleX","originX"],B3=["y","scaleY","originY"];function TE(t,e,n,r){_E(t.x,e,U3,n?n.x:void 0,r?r.x:void 0),_E(t.y,e,B3,n?n.y:void 0,r?r.y:void 0)}function EE(t){return t.translate===0&&t.scale===1}function kC(t){return EE(t.x)&&EE(t.y)}function SE(t,e){return t.min===e.min&&t.max===e.max}function z3(t,e){return SE(t.x,e.x)&&SE(t.y,e.y)}function IE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function CC(t,e){return IE(t.x,e.x)&&IE(t.y,e.y)}function kE(t){return En(t.x)/En(t.y)}function CE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Jn(t){return[t("x"),t("y")]}function $3(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:w,rotateY:_,skewX:A,skewY:O}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),w&&(r+=`rotateX(${w}deg) `),_&&(r+=`rotateY(${_}deg) `),A&&(r+=`skewX(${A}deg) `),O&&(r+=`skewY(${O}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const xC=["TopLeft","TopRight","BottomLeft","BottomRight"],W3=xC.length,xE=t=>typeof t=="string"?parseFloat(t):t,AE=t=>typeof t=="number"||Ve.test(t);function q3(t,e,n,r,i,a){i?(t.opacity=kt(0,n.opacity??1,H3(r)),t.opacityExit=kt(e.opacity??1,0,G3(r))):a&&(t.opacity=kt(e.opacity??1,n.opacity??1,r));for(let l=0;l<W3;l++){const h=`border${xC[l]}Radius`;let f=bE(e,h),p=bE(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||AE(f)===AE(p)?(t[h]=Math.max(kt(xE(f),xE(p),r),0),(Gr.test(p)||Gr.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=kt(e.rotate||0,n.rotate||0,r))}function bE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const H3=AC(0,.5,Ek),G3=AC(.5,.95,nr);function AC(t,e,n){return r=>r<t?0:r>e?1:n(Fu(t,e,r))}function K3(t,e,n){const r=yn(t)?t:Ka(t);return r.start(iv("",r,e,n)),r.animation}function zu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Y3=(t,e)=>t.depth-e.depth;class Q3{constructor(){this.children=[],this.isDirty=!1}add(e){zy(this.children,e),this.isDirty=!0}remove(e){$y(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Y3),this.isDirty=!1,this.children.forEach(e)}}function X3(t,e){const n=Tn.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Pi(r),t(a-e))};return wt.setup(r,!0),()=>Pi(r)}function Qh(t){return yn(t)?t.get():t}class J3{constructor(){this.members=[]}add(e){zy(this.members,e),e.scheduleRender()}remove(e){if($y(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Xh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},gm=["","X","Y","Z"],Z3=1e3;let e5=0;function ym(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function bC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Yk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&bC(r)}function PC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},h=e?.()){this.id=e5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(r5),this.nodes.forEach(a5),this.nodes.forEach(l5),this.nodes.forEach(s5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Q3)}addEventListener(l,h){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Hy),this.eventHandlers.get(l).add(h)}notifyListeners(l,...h){const f=this.eventHandlers.get(l);f&&f.notify(...h)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=oC(l)&&!n3(l),this.instance=l;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let g,w=0;const _=()=>this.root.updateBlockedByResize=!1;wt.read(()=>{w=window.innerWidth}),t(l,()=>{const A=window.innerWidth;A!==w&&(w=A,this.root.updateBlockedByResize=!0,g&&g(),g=X3(_,250),Xh.hasAnimatedSinceResize&&(Xh.hasAnimatedSinceResize=!1,this.nodes.forEach(DE)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:w,hasRelativeLayoutChanged:_,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||p.getDefaultTransition()||f5,{onLayoutAnimationStart:M,onLayoutAnimationComplete:L}=p.getProps(),B=!this.targetLayout||!CC(this.targetLayout,A),q=!w&&_;if(this.options.layoutRoot||this.resumeFrom||q||w&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...sv(O,"layout"),onPlay:M,onComplete:L};(p.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(g,q)}else w||DE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(u5),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const w=this.path[g];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(RE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(o5),this.nodes.forEach(t5),this.nodes.forEach(n5)):this.nodes.forEach(RE),this.clearAllSnapshots();const h=Tn.now();rn.delta=Yr(0,1e3/60,h-rn.timestamp),rn.timestamp=h,rn.isProcessing=!0,lm.update.process(rn),lm.preRender.process(rn),lm.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(i5),this.sharedNodes.forEach(c5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(h=!1),h&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!kC(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&this.instance&&(h||yo(this.latestValues)||g)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return l&&(f=this.removeTransform(f)),p5(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Ht();const h=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(m5))){const{scroll:p}=this.root;p&&(Ra(h.x,p.offset.x),Ra(h.y,p.offset.y))}return h}removeElementScroll(l){const h=Ht();if(fr(h,l),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:w}=p;p!==this.root&&g&&w.layoutScroll&&(g.wasRoot&&fr(h,l),Ra(h.x,g.offset.x),Ra(h.y,g.offset.y))}return h}applyTransform(l,h=!1){const f=Ht();fr(f,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Da(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),yo(g.latestValues)&&Da(f,g.latestValues)}return yo(this.latestValues)&&Da(f,this.latestValues),f}removeTransform(l){const h=Ht();fr(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!yo(p.latestValues))continue;Tg(p.latestValues)&&p.updateSnapshot();const g=Ht(),w=p.measurePageBox();fr(g,w),TE(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return yo(this.latestValues)&&TE(h,this.latestValues),h}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:w}=this.options;if(!this.layout||!(g||w))return;this.resolvedRelativeTargetAt=rn.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ht(),this.targetWithTransforms=Ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),F3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fr(this.target,this.layout.layoutBox),fC(this.target,this.targetDelta)):fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Tg(this.parent.latestValues)||dC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,h,f){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),Dd(this.relativeTargetOrigin,h,f),fr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),h=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;fr(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,_=this.treeScale.y;f3(this.layoutCorrected,this.treeScale,this.path,h),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ht());const{target:A}=l;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mE(this.prevProjectionDelta.x,this.projectionDelta.x),mE(this.prevProjectionDelta.y,this.projectionDelta.y)),Iu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==_||!CE(this.projectionDelta.x,this.prevProjectionDelta.x)||!CE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pa(),this.projectionDelta=Pa(),this.projectionDeltaWithTransform=Pa()}setAnimationOrigin(l,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},w=Pa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=Ht(),A=f?f.source:void 0,O=this.layout?this.layout.source:void 0,M=A!==O,L=this.getStack(),B=!L||L.members.length<=1,q=!!(M&&!B&&this.options.crossfade===!0&&!this.path.some(d5));this.animationProgress=0;let U;this.mixTargetDelta=ie=>{const F=ie/1e3;NE(w.x,l.x,F),NE(w.y,l.y,F),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dd(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h5(this.relativeTarget,this.relativeTargetOrigin,_,F),U&&z3(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Ht()),fr(U,this.relativeTarget)),M&&(this.animationValues=g,q3(g,p,this.latestValues,F,q,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Pi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{Xh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ka(0)),this.currentAnimation=K3(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),l.onUpdate&&l.onUpdate(h)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Z3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=l;if(!(!h||!f||!p)){if(this!==l&&this.layout&&p&&RC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Ht();const w=En(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+w;const _=En(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+_}fr(h,f),Da(h,g),Iu(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(l,h){this.sharedNodes.has(l)||this.sharedNodes.set(l,new J3),this.sharedNodes.get(l).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let h=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&ym("z",l,p,this.animationValues);for(let g=0;g<gm.length;g++)ym(`rotate${gm[g]}`,l,p,this.animationValues),ym(`skew${gm[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}applyProjectionStyles(l,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Qh(h?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Qh(h?.pointerEvents)||""),this.hasProjected&&!yo(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let w=$3(this.projectionDeltaWithTransform,this.treeScale,g);f&&(w=f(g,w)),l.transform=w;const{x:_,y:A}=this.projectionDelta;l.transformOrigin=`${_.origin*100}% ${A.origin*100}% 0`,p.animationValues?l.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const O in Sg){if(g[O]===void 0)continue;const{correct:M,applyTo:L,isCSSVariable:B}=Sg[O],q=w==="none"?g[O]:M(g[O],p);if(L){const U=L.length;for(let ie=0;ie<U;ie++)l[L[ie]]=q}else B?this.options.visualElement.renderState.vars[O]=q:l[O]=q}this.options.layoutId&&(l.pointerEvents=p===this?Qh(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(PE),this.root.sharedNodes.clear()}}}function t5(t){t.updateLayout()}function n5(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Jn(g=>{const w=a?e.measuredBox[g]:e.layoutBox[g],_=En(w);w.min=n[g].min,w.max=w.min+_}):RC(i,e.layoutBox,n)&&Jn(g=>{const w=a?e.measuredBox[g]:e.layoutBox[g],_=En(n[g]);w.max=w.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const l=Pa();Iu(l,n,e.layoutBox);const h=Pa();a?Iu(h,t.applyTransform(r,!0),e.measuredBox):Iu(h,n,e.layoutBox);const f=!kC(l);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:w,layout:_}=g;if(w&&_){const A=Ht();Dd(A,e.layoutBox,w.layoutBox);const O=Ht();Dd(O,n,_.layoutBox),CC(A,O)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=O,t.relativeTargetOrigin=A,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function r5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function s5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function i5(t){t.clearSnapshot()}function PE(t){t.clearMeasurements()}function RE(t){t.isLayoutDirty=!1}function o5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function DE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function a5(t){t.resolveTargetDelta()}function l5(t){t.calcProjection()}function u5(t){t.resetSkewAndRotation()}function c5(t){t.removeLeadSnapshot()}function NE(t,e,n){t.translate=kt(e.translate,0,n),t.scale=kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function VE(t,e,n,r){t.min=kt(e.min,n.min,r),t.max=kt(e.max,n.max,r)}function h5(t,e,n,r){VE(t.x,e.x,n.x,r),VE(t.y,e.y,n.y,r)}function d5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const f5={duration:.45,ease:[.4,0,.1,1]},ME=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),OE=ME("applewebkit/")&&!ME("chrome/")?Math.round:nr;function LE(t){t.min=OE(t.min),t.max=OE(t.max)}function p5(t){LE(t.x),LE(t.y)}function RC(t,e,n){return t==="position"||t==="preserve-aspect"&&!L3(kE(e),kE(n),.2)}function m5(t){return t!==t.root&&t.scroll?.wasRoot}const g5=PC({attachResizeListener:(t,e)=>zu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),vm={current:void 0},DC=PC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vm.current){const t=new g5({});t.mount(window),t.setOptions({layoutScroll:!0}),vm.current=t}return vm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mv=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function FE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function y5(...t){return e=>{let n=!1;const r=t.map(i=>{const a=FE(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():FE(t[i],null)}}}}function v5(...t){return C.useCallback(y5(...t),t)}class w5 extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=wg(r)&&r.offsetWidth||0,a=wg(r)&&r.offsetHeight||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=i-l.width-l.left,l.bottom=a-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function _5({children:t,isPresent:e,anchorX:n,anchorY:r,root:i}){const a=C.useId(),l=C.useRef(null),h=C.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=C.useContext(mv),p=t.props?.ref??t?.ref,g=v5(l,p);return C.useInsertionEffect(()=>{const{width:w,height:_,top:A,left:O,right:M,bottom:L}=h.current;if(e||!l.current||!w||!_)return;const B=n==="left"?`left: ${O}`:`right: ${M}`,q=r==="bottom"?`bottom: ${L}`:`top: ${A}`;l.current.dataset.motionPopId=a;const U=document.createElement("style");f&&(U.nonce=f);const ie=i??document.head;return ie.appendChild(U),U.sheet&&U.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${w}px !important;
            height: ${_}px !important;
            ${B}px !important;
            ${q}px !important;
          }
        `),()=>{ie.contains(U)&&ie.removeChild(U)}},[e]),R.jsx(w5,{isPresent:e,childRef:l,sizeRef:h,children:C.cloneElement(t,{ref:g})})}const T5=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l,anchorX:h,anchorY:f,root:p})=>{const g=By(E5),w=C.useId();let _=!0,A=C.useMemo(()=>(_=!1,{id:w,initial:e,isPresent:n,custom:i,onExitComplete:O=>{g.set(O,!0);for(const M of g.values())if(!M)return;r&&r()},register:O=>(g.set(O,!1),()=>g.delete(O))}),[n,g,r]);return a&&_&&(A={...A}),C.useMemo(()=>{g.forEach((O,M)=>g.set(M,!1))},[n]),C.useEffect(()=>{!n&&!g.size&&r&&r()},[n]),l==="popLayout"&&(t=R.jsx(_5,{isPresent:n,anchorX:h,anchorY:f,root:p,children:t})),R.jsx(df.Provider,{value:A,children:t})};function E5(){return new Map}function NC(t=!0){const e=C.useContext(df);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=C.useId();C.useEffect(()=>{if(t)return i(a)},[t]);const l=C.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const bh=t=>t.key||"";function jE(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const mf=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:h="left",anchorY:f="top",root:p})=>{const[g,w]=NC(l),_=C.useMemo(()=>jE(t),[t]),A=l&&!g?[]:_.map(bh),O=C.useRef(!0),M=C.useRef(_),L=By(()=>new Map),B=C.useRef(new Set),[q,U]=C.useState(_),[ie,F]=C.useState(_);hk(()=>{O.current=!1,M.current=_;for(let I=0;I<ie.length;I++){const b=bh(ie[I]);A.includes(b)?(L.delete(b),B.current.delete(b)):L.get(b)!==!0&&L.set(b,!1)}},[ie,A.length,A.join("-")]);const X=[];if(_!==q){let I=[..._];for(let b=0;b<ie.length;b++){const N=ie[b],V=bh(N);A.includes(V)||(I.splice(b,0,N),X.push(N))}return a==="wait"&&X.length&&(I=X),F(jE(I)),U(_),null}const{forceRender:k}=C.useContext(Uy);return R.jsx(R.Fragment,{children:ie.map(I=>{const b=bh(I),N=l&&!g?!1:_===ie||A.includes(b),V=()=>{if(B.current.has(b))return;if(B.current.add(b),L.has(b))L.set(b,!0);else return;let P=!0;L.forEach(S=>{S||(P=!1)}),P&&(k?.(),F(M.current),l&&w?.(),r&&r())};return R.jsx(T5,{isPresent:N,initial:!O.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:p,onExitComplete:N?void 0:V,anchorX:h,anchorY:f,children:I},b)})})},VC=C.createContext({strict:!1}),UE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let BE=!1;function S5(){if(BE)return;const t={};for(const e in UE)t[e]={isEnabled:n=>UE[e].some(r=>!!n[r])};uC(t),BE=!0}function MC(){return S5(),u3()}function I5(t){const e=MC();for(const n in t)e[n]={...e[n],...t[n]};uC(e)}const k5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||k5.has(t)}let OC=t=>!Nd(t);function C5(t){typeof t=="function"&&(OC=e=>e.startsWith("on")?!Nd(e):t(e))}try{C5(require("@emotion/is-prop-valid").default)}catch{}function x5(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(OC(i)||n===!0&&Nd(i)||!e&&!Nd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const gf=C.createContext({});function A5(t,e){if(pf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bu(n)?n:void 0,animate:Bu(r)?r:void 0}}return t.inherit!==!1?e:{}}function b5(t){const{initial:e,animate:n}=A5(t,C.useContext(gf));return C.useMemo(()=>({initial:e,animate:n}),[zE(e),zE(n)])}function zE(t){return Array.isArray(t)?t.join(" "):t}const gv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LC(t,e,n){for(const r in e)!yn(e[r])&&!gC(r,n)&&(t[r]=e[r])}function P5({transformTemplate:t},e){return C.useMemo(()=>{const n=gv();return fv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function R5(t,e){const n=t.style||{},r={};return LC(r,n,t),Object.assign(r,P5(t,e)),r}function D5(t,e){const n={},r=R5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const FC=()=>({...gv(),attrs:{}});function N5(t,e,n,r){const i=C.useMemo(()=>{const a=FC();return yC(a,e,wC(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};LC(a,t.style,t),i.style={...a,...i.style}}return i}const V5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yv(t){return typeof t!="string"||t.includes("-")?!1:!!(V5.indexOf(t)>-1||/[A-Z]/u.test(t))}function M5(t,e,n,{latestValues:r},i,a=!1,l){const f=(l??yv(t)?N5:D5)(e,r,i,t),p=x5(e,typeof t=="string",a),g=t!==C.Fragment?{...p,...f,ref:n}:{},{children:w}=e,_=C.useMemo(()=>yn(w)?w.get():w,[w]);return C.createElement(t,{...g,children:_})}function O5({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:L5(n,r,i,t),renderState:e()}}function L5(t,e,n,r){const i={},a=r(t,{});for(const _ in a)i[_]=Qh(a[_]);let{initial:l,animate:h}=t;const f=pf(t),p=lC(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const w=g?h:l;if(w&&typeof w!="boolean"&&!ff(w)){const _=Array.isArray(w)?w:[w];for(let A=0;A<_.length;A++){const O=ov(t,_[A]);if(O){const{transitionEnd:M,transition:L,...B}=O;for(const q in B){let U=B[q];if(Array.isArray(U)){const ie=g?U.length-1:0;U=U[ie]}U!==null&&(i[q]=U)}for(const q in M)i[q]=M[q]}}}return i}const jC=t=>(e,n)=>{const r=C.useContext(gf),i=C.useContext(df),a=()=>O5(t,e,r,i);return n?a():By(a)},F5=jC({scrapeMotionValuesFromProps:pv,createRenderState:gv}),j5=jC({scrapeMotionValuesFromProps:_C,createRenderState:FC}),U5=Symbol.for("motionComponentSymbol");function B5(t,e,n){const r=C.useRef(n);C.useInsertionEffect(()=>{r.current=n});const i=C.useRef(null);return C.useCallback(a=>{a&&t.onMount?.(a),e&&(a?e.mount(a):e.unmount());const l=r.current;if(typeof l=="function")if(a){const h=l(a);typeof h=="function"&&(i.current=h)}else i.current?(i.current(),i.current=null):l(a);else l&&(l.current=a)},[e])}const UC=C.createContext({});function pu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function z5(t,e,n,r,i,a){const{visualElement:l}=C.useContext(gf),h=C.useContext(VC),f=C.useContext(df),p=C.useContext(mv).reducedMotion,g=C.useRef(null);r=r||h.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p,isSVG:a}));const w=g.current,_=C.useContext(UC);w&&!w.projection&&i&&(w.type==="html"||w.type==="svg")&&$5(g.current,n,i,_);const A=C.useRef(!1);C.useInsertionEffect(()=>{w&&A.current&&w.update(n,f)});const O=n[Kk],M=C.useRef(!!O&&!window.MotionHandoffIsComplete?.(O)&&window.MotionHasOptimisedAnimation?.(O));return hk(()=>{w&&(A.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),w.scheduleRenderMicrotask(),M.current&&w.animationState&&w.animationState.animateChanges())}),C.useEffect(()=>{w&&(!M.current&&w.animationState&&w.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(O)}),M.current=!1),w.enteringChildren=void 0)}),w}function $5(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:BC(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||h&&pu(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:f,layoutRoot:p})}function BC(t){if(t)return t.options.allowProjection!==!1?t.projection:BC(t.parent)}function wm(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&I5(r);const a=n?n==="svg":yv(t),l=a?j5:F5;function h(p,g){let w;const _={...C.useContext(mv),...p,layoutId:W5(p)},{isStatic:A}=_,O=b5(p),M=l(p,A);if(!A&&ck){q5();const L=H5(_);w=L.MeasureLayout,O.visualElement=z5(t,M,_,i,L.ProjectionNode,a)}return R.jsxs(gf.Provider,{value:O,children:[w&&O.visualElement?R.jsx(w,{visualElement:O.visualElement,..._}):null,M5(t,p,B5(M,O.visualElement,g),M,A,e,a)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=C.forwardRef(h);return f[U5]=t,f}function W5({layoutId:t}){const e=C.useContext(Uy).id;return e&&t!==void 0?e+"-"+t:t}function q5(t,e){C.useContext(VC).strict}function H5(t){const e=MC(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function G5(t,e){if(typeof Proxy>"u")return wm;const n=new Map,r=(a,l)=>wm(a,l,t,e),i=(a,l)=>r(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,wm(l,void 0,t,e)),n.get(l))})}const K5=(t,e)=>e.isSVG??yv(t)?new C3(e):new _3(e,{allowProjection:t!==C.Fragment});class Y5 extends Li{constructor(e){super(e),e.animationState||(e.animationState=R3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ff(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Q5=0;class X5 extends Li{constructor(){super(...arguments),this.id=Q5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const J5={animation:{Feature:Y5},exit:{Feature:X5}};function ic(t){return{point:{x:t.pageX,y:t.pageY}}}const Z5=t=>e=>cv(e)&&t(e,ic(e));function ku(t,e,n,r){return zu(t,e,Z5(n),r)}const zC=({current:t})=>t?t.ownerDocument.defaultView:null,$E=(t,e)=>Math.abs(t-e);function e6(t,e){const n=$E(t.x,e.x),r=$E(t.y,e.y);return Math.sqrt(n**2+r**2)}const WE=new Set(["auto","scroll"]);class $C{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Tm(this.lastMoveEventInfo,this.history),O=this.startEvent!==null,M=e6(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!O&&!M)return;const{point:L}=A,{timestamp:B}=rn;this.history.push({...L,timestamp:B});const{onStart:q,onMove:U}=this.handlers;O||(q&&q(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,A)},this.handlePointerMove=(A,O)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=_m(O,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(A,O)=>{this.end();const{onEnd:M,onSessionEnd:L,resumeAnimation:B}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=Tm(A.type==="pointercancel"?this.lastMoveEventInfo:_m(O,this.transformPagePoint),this.history);this.startEvent&&M&&M(A,q),L&&L(A,q)},!cv(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const f=ic(e),p=_m(f,this.transformPagePoint),{point:g}=p,{timestamp:w}=rn;this.history=[{...g,timestamp:w}];const{onSessionStart:_}=n;_&&_(e,Tm(p,this.history)),this.removeListeners=nc(ku(this.contextWindow,"pointermove",this.handlePointerMove),ku(this.contextWindow,"pointerup",this.handlePointerUp),ku(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(WE.has(r.overflowX)||WE.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:i.x-n.x,y:i.y-n.y};a.x===0&&a.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,i),wt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Pi(this.updatePoint)}}function _m(t,e){return e?{point:e(t.point)}:t}function qE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Tm({point:t},e){return{point:t,delta:qE(t,WC(e)),offset:qE(t,t6(e)),velocity:n6(e,.1)}}function t6(t){return t[0]}function WC(t){return t[t.length-1]}function n6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=WC(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ts(e)));)n--;if(!r)return{x:0,y:0};const a=er(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function r6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?kt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?kt(n,t,r.max):Math.min(t,n)),t}function HE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function s6(t,{top:e,left:n,bottom:r,right:i}){return{x:HE(t.x,n,i),y:HE(t.y,e,r)}}function GE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function i6(t,e){return{x:GE(t.x,e.x),y:GE(t.y,e.y)}}function o6(t,e){let n=.5;const r=En(t),i=En(e);return i>r?n=Fu(e.min,e.max-r,t.min):r>i&&(n=Fu(t.min,t.max-i,e.min)),Yr(0,1,n)}function a6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ig=.35;function l6(t=Ig){return t===!1?t=0:t===!0&&(t=Ig),{x:KE(t,"left","right"),y:KE(t,"top","bottom")}}function KE(t,e,n){return{min:YE(t,e),max:YE(t,n)}}function YE(t,e){return typeof t=="number"?t:t[e]||0}const u6=new WeakMap;class c6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=w=>{n?(this.stopAnimation(),this.snapToCursor(ic(w).point)):this.pauseAnimation()},l=(w,_)=>{this.stopAnimation();const{drag:A,dragPropagation:O,onDragStart:M}=this.getProps();if(A&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XF(A),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jn(B=>{let q=this.getAxisMotionValue(B).get()||0;if(Gr.test(q)){const{projection:U}=this.visualElement;if(U&&U.layout){const ie=U.layout.layoutBox[B];ie&&(q=En(ie)*(parseFloat(q)/100))}}this.originPoint[B]=q}),M&&wt.postRender(()=>M(w,_)),gg(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},h=(w,_)=>{this.latestPointerEvent=w,this.latestPanInfo=_;const{dragPropagation:A,dragDirectionLock:O,onDirectionLock:M,onDrag:L}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:B}=_;if(O&&this.currentDirection===null){this.currentDirection=h6(B),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",_.point,B),this.updateAxis("y",_.point,B),this.visualElement.render(),L&&L(w,_)},f=(w,_)=>{this.latestPointerEvent=w,this.latestPanInfo=_,this.stop(w,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Jn(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new $C(e,{onSessionStart:a,onStart:l,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:zC(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:h}=this.getProps();h&&wt.postRender(()=>h(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ph(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=r6(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&pu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=s6(r.layoutBox,e):this.constraints=!1,this.elastic=l6(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Jn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=a6(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!pu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=p3(r,i.root,this.visualElement.getTransformPagePoint());let l=i6(i.layout.layoutBox,a);if(n){const h=n(h3(l));this.hasMutatedConstraints=!!h,h&&(l=hC(h))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Jn(g=>{if(!Ph(g,n,this.currentDirection))return;let w=f&&f[g]||{};l&&(w={min:0,max:0});const _=i?200:1e6,A=i?40:1e7,O={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(g,O)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return gg(this.visualElement,e),r.start(iv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Jn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Jn(n=>{const{drag:r}=this.getProps();if(!Ph(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:h}=i.layout.layoutBox[n],f=a.get()||0;a.set(e[n]-kt(l,h,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Jn(l=>{const h=this.getAxisMotionValue(l);if(h&&this.constraints!==!1){const f=h.get();i[l]=o6({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jn(l=>{if(!Ph(l,e,null))return;const h=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];h.set(kt(f,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;u6.set(this.visualElement,this);const e=this.visualElement.current,n=ku(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps(),w=f.target,_=w!==e&&iC(w);p&&g&&!_&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();pu(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),wt.read(r);const l=zu(window,"resize",()=>this.scalePositionWithinConstraints()),h=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Jn(g=>{const w=this.getAxisMotionValue(g);w&&(this.originPoint[g]+=f[g].translate,w.set(w.get()+f[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Ig,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:h}}}function Ph(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function h6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class d6 extends Li{constructor(e){super(e),this.removeGroupControls=nr,this.removeListeners=nr,this.controls=new c6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nr}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const QE=t=>(e,n)=>{t&&wt.postRender(()=>t(e,n))};class f6 extends Li{constructor(){super(...arguments),this.removePointerDownListener=nr}onPointerDown(e){this.session=new $C(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:QE(e),onStart:QE(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&wt.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=ku(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Em=!1;class p6 extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),Em&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Xh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,Em=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||wt.postRender(()=>{const h=l.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),uv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Em=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qC(t){const[e,n]=NC(),r=C.useContext(Uy);return R.jsx(p6,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(UC),isPresent:e,safeToRemove:n})}const m6={pan:{Feature:f6},drag:{Feature:d6,ProjectionNode:DC,MeasureLayout:qC}};function XE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&wt.postRender(()=>a(e,ic(e)))}class g6 extends Li{mount(){const{current:e}=this.node;e&&(this.unmount=JF(e,(n,r)=>(XE(this.node,r,"Start"),i=>XE(this.node,i,"End"))))}unmount(){}}class y6 extends Li{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nc(zu(this.node.current,"focus",()=>this.onFocus()),zu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&wt.postRender(()=>a(e,ic(e)))}class v6 extends Li{mount(){const{current:e}=this.node;e&&(this.unmount=t3(e,(n,r)=>(JE(this.node,r,"Start"),(i,{success:a})=>JE(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kg=new WeakMap,Sm=new WeakMap,w6=t=>{const e=kg.get(t.target);e&&e(t)},_6=t=>{t.forEach(w6)};function T6({root:t,...e}){const n=t||document;Sm.has(n)||Sm.set(n,{});const r=Sm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(_6,{root:t,...e})),r[i]}function E6(t,e,n){const r=T6(e);return kg.set(t,n),r.observe(t),()=>{kg.delete(t),r.unobserve(t)}}const S6={some:0,all:1};class I6 extends Li{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:S6[i]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:w}=this.node.getProps(),_=p?g:w;_&&_(f)};return E6(this.node.current,l,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(k6(e,n))&&this.startObserver()}unmount(){}}function k6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const C6={inView:{Feature:I6},tap:{Feature:v6},focus:{Feature:y6},hover:{Feature:g6}},x6={layout:{ProjectionNode:DC,MeasureLayout:qC}},A6={...J5,...C6,...m6,...x6},mr=G5(A6,K5);const b6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),ZE=t=>{const e=P6(t);return e.charAt(0).toUpperCase()+e.slice(1)},HC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),R6=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var D6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const N6=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...h},f)=>C.createElement("svg",{ref:f,...D6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:HC("lucide",i),...!a&&!R6(h)&&{"aria-hidden":"true"},...h},[...l.map(([p,g])=>C.createElement(p,g)),...Array.isArray(a)?a:[a]]));const ct=(t,e)=>{const n=C.forwardRef(({className:r,...i},a)=>C.createElement(N6,{ref:a,iconNode:e,className:HC(`lucide-${b6(ZE(t))}`,`lucide-${t}`,r),...i}));return n.displayName=ZE(t),n};const V6=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],M6=ct("activity",V6);const O6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],L6=ct("arrow-left",O6);const F6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],j6=ct("arrow-right",F6);const U6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vd=ct("calendar",U6);const B6=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],z6=ct("car",B6);const $6=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],W6=ct("chart-pie",$6);const q6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],H6=ct("check",q6);const G6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],K6=ct("chevron-left",G6);const Y6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Cg=ct("chevron-right",Y6);const Q6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],X6=ct("circle-check",Q6);const J6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Z6=ct("clock",J6);const ej=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],GC=ct("house",ej);const tj=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],nj=ct("indian-rupee",tj);const rj=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],sj=ct("layout-grid",rj);const ij=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],KC=ct("list-todo",ij);const oj=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],aj=ct("list",oj);const lj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],uj=ct("log-out",lj);const cj=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],hj=ct("menu",cj);const dj=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],fj=ct("moon",dj);const pj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],mj=ct("panels-top-left",pj);const gj=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],YC=ct("settings",gj);const yj=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],vj=ct("sparkles",yj);const wj=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_j=ct("square-check-big",wj);const Tj=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ej=ct("sun",Tj);const Sj=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Ij=ct("utensils",Sj);const kj=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Cj=ct("wallet",kj);const xj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vv=ct("x",xj);const Aj=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],bj=ct("zap",Aj),Pj=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(null),[i,a]=C.useState(!1),l=async()=>{r(null),a(!0);try{await eS(Ed),t||(a(!1),r(null))}catch(h){t||(console.log(h.message),r(h.message),a(!1))}};return C.useEffect(()=>()=>e(!0),[]),{logout:l,error:n,isPending:i}};function QC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=QC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xg(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=QC(t))&&(r&&(r+=" "),r+=e);return r}const Rj=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},Dj=(t,e)=>({classGroupId:t,validator:e}),XC=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Md="-",e1=[],Nj="arbitrary..",Vj=t=>{const e=Oj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return Mj(l);const h=l.split(Md),f=h[0]===""&&h.length>1?1:0;return JC(h,f,e)},getConflictingClassGroupIds:(l,h)=>{if(h){const f=r[l],p=n[l];return f?p?Rj(p,f):f:p||e1}return n[l]||e1}}},JC=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],a=n.nextPart.get(i);if(a){const p=JC(t,e+1,a);if(p)return p}const l=n.validators;if(l===null)return;const h=e===0?t.join(Md):t.slice(e).join(Md),f=l.length;for(let p=0;p<f;p++){const g=l[p];if(g.validator(h))return g.classGroupId}},Mj=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?Nj+r:void 0})(),Oj=t=>{const{theme:e,classGroups:n}=t;return Lj(n,e)},Lj=(t,e)=>{const n=XC();for(const r in t){const i=t[r];wv(i,n,r,e)}return n},wv=(t,e,n,r)=>{const i=t.length;for(let a=0;a<i;a++){const l=t[a];Fj(l,e,n,r)}},Fj=(t,e,n,r)=>{if(typeof t=="string"){jj(t,e,n);return}if(typeof t=="function"){Uj(t,e,n,r);return}Bj(t,e,n,r)},jj=(t,e,n)=>{const r=t===""?e:ZC(e,t);r.classGroupId=n},Uj=(t,e,n,r)=>{if(zj(t)){wv(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Dj(n,t))},Bj=(t,e,n,r)=>{const i=Object.entries(t),a=i.length;for(let l=0;l<a;l++){const[h,f]=i[l];wv(f,ZC(e,h),n,r)}},ZC=(t,e)=>{let n=t;const r=e.split(Md),i=r.length;for(let a=0;a<i;a++){const l=r[a];let h=n.nextPart.get(l);h||(h=XC(),n.nextPart.set(l,h)),n=h}return n},zj=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,$j=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(a,l)=>{n[a]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(a){let l=n[a];if(l!==void 0)return l;if((l=r[a])!==void 0)return i(a,l),l},set(a,l){a in n?n[a]=l:i(a,l)}}},Ag="!",t1=":",Wj=[],n1=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),qj=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let l=0,h=0,f=0,p;const g=i.length;for(let M=0;M<g;M++){const L=i[M];if(l===0&&h===0){if(L===t1){a.push(i.slice(f,M)),f=M+1;continue}if(L==="/"){p=M;continue}}L==="["?l++:L==="]"?l--:L==="("?h++:L===")"&&h--}const w=a.length===0?i:i.slice(f);let _=w,A=!1;w.endsWith(Ag)?(_=w.slice(0,-1),A=!0):w.startsWith(Ag)&&(_=w.slice(1),A=!0);const O=p&&p>f?p-f:void 0;return n1(a,A,_,O)};if(e){const i=e+t1,a=r;r=l=>l.startsWith(i)?a(l.slice(i.length)):n1(Wj,!1,l,void 0,!0)}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},Hj=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let a=0;a<n.length;a++){const l=n[a],h=l[0]==="[",f=e.has(l);h||f?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},Gj=t=>({cache:$j(t.cacheSize),parseClassName:qj(t),sortModifiers:Hj(t),...Vj(t)}),Kj=/\s+/,Yj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,l=[],h=t.trim().split(Kj);let f="";for(let p=h.length-1;p>=0;p-=1){const g=h[p],{isExternal:w,modifiers:_,hasImportantModifier:A,baseClassName:O,maybePostfixModifierPosition:M}=n(g);if(w){f=g+(f.length>0?" "+f:f);continue}let L=!!M,B=r(L?O.substring(0,M):O);if(!B){if(!L){f=g+(f.length>0?" "+f:f);continue}if(B=r(O),!B){f=g+(f.length>0?" "+f:f);continue}L=!1}const q=_.length===0?"":_.length===1?_[0]:a(_).join(":"),U=A?q+Ag:q,ie=U+B;if(l.indexOf(ie)>-1)continue;l.push(ie);const F=i(B,L);for(let X=0;X<F.length;++X){const k=F[X];l.push(U+k)}f=g+(f.length>0?" "+f:f)}return f},Qj=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=ex(n))&&(i&&(i+=" "),i+=r);return i},ex=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ex(t[r]))&&(n&&(n+=" "),n+=e);return n},Xj=(t,...e)=>{let n,r,i,a;const l=f=>{const p=e.reduce((g,w)=>w(g),t());return n=Gj(p),r=n.cache.get,i=n.cache.set,a=h,h(f)},h=f=>{const p=r(f);if(p)return p;const g=Yj(f,n);return i(f,g),g};return a=l,(...f)=>a(Qj(...f))},Jj=[],qt=t=>{const e=n=>n[t]||Jj;return e.isThemeGetter=!0,e},tx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,nx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Zj=/^\d+\/\d+$/,eU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,rU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ia=t=>Zj.test(t),Xe=t=>!!t&&!Number.isNaN(Number(t)),ui=t=>!!t&&Number.isInteger(Number(t)),Im=t=>t.endsWith("%")&&Xe(t.slice(0,-1)),gs=t=>eU.test(t),iU=()=>!0,oU=t=>tU.test(t)&&!nU.test(t),rx=()=>!1,aU=t=>rU.test(t),lU=t=>sU.test(t),uU=t=>!De(t)&&!Ne(t),cU=t=>al(t,ox,rx),De=t=>tx.test(t),po=t=>al(t,ax,oU),km=t=>al(t,mU,Xe),r1=t=>al(t,sx,rx),hU=t=>al(t,ix,lU),Rh=t=>al(t,lx,aU),Ne=t=>nx.test(t),iu=t=>ll(t,ax),dU=t=>ll(t,gU),s1=t=>ll(t,sx),fU=t=>ll(t,ox),pU=t=>ll(t,ix),Dh=t=>ll(t,lx,!0),al=(t,e,n)=>{const r=tx.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ll=(t,e,n=!1)=>{const r=nx.exec(t);return r?r[1]?e(r[1]):n:!1},sx=t=>t==="position"||t==="percentage",ix=t=>t==="image"||t==="url",ox=t=>t==="length"||t==="size"||t==="bg-size",ax=t=>t==="length",mU=t=>t==="number",gU=t=>t==="family-name",lx=t=>t==="shadow",yU=()=>{const t=qt("color"),e=qt("font"),n=qt("text"),r=qt("font-weight"),i=qt("tracking"),a=qt("leading"),l=qt("breakpoint"),h=qt("container"),f=qt("spacing"),p=qt("radius"),g=qt("shadow"),w=qt("inset-shadow"),_=qt("text-shadow"),A=qt("drop-shadow"),O=qt("blur"),M=qt("perspective"),L=qt("aspect"),B=qt("ease"),q=qt("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...ie(),Ne,De],X=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],I=()=>[Ne,De,f],b=()=>[Ia,"full","auto",...I()],N=()=>[ui,"none","subgrid",Ne,De],V=()=>["auto",{span:["full",ui,Ne,De]},ui,Ne,De],P=()=>[ui,"auto",Ne,De],S=()=>["auto","min","max","fr",Ne,De],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],z=()=>["start","end","center","stretch","center-safe","end-safe"],he=()=>["auto",...I()],ae=()=>[Ia,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],H=()=>[t,Ne,De],se=()=>[...ie(),s1,r1,{position:[Ne,De]}],ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",fU,cU,{size:[Ne,De]}],ne=()=>[Im,iu,po],Ie=()=>["","none","full",p,Ne,De],re=()=>["",Xe,iu,po],te=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[Xe,Im,s1,r1],ve=()=>["","none",O,Ne,De],le=()=>["none",Xe,Ne,De],Oe=()=>["none",Xe,Ne,De],Qe=()=>[Xe,Ne,De],Le=()=>[Ia,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[gs],breakpoint:[gs],color:[iU],container:[gs],"drop-shadow":[gs],ease:["in","out","in-out"],font:[uU],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[gs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[gs],shadow:[gs],spacing:["px",Xe],text:[gs],"text-shadow":[gs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ia,De,Ne,L]}],container:["container"],columns:[{columns:[Xe,De,Ne,h]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:b()}],"inset-x":[{"inset-x":b()}],"inset-y":[{"inset-y":b()}],start:[{start:b()}],end:[{end:b()}],top:[{top:b()}],right:[{right:b()}],bottom:[{bottom:b()}],left:[{left:b()}],visibility:["visible","invisible","collapse"],z:[{z:[ui,"auto",Ne,De]}],basis:[{basis:[Ia,"full","auto",h,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Xe,Ia,"auto","initial","none",De]}],grow:[{grow:["",Xe,Ne,De]}],shrink:[{shrink:["",Xe,Ne,De]}],order:[{order:[ui,"first","last","none",Ne,De]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...z(),"normal"]}],"justify-self":[{"justify-self":["auto",...z()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...z(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...z(),"baseline"]}],"place-self":[{"place-self":["auto",...z()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:he()}],mx:[{mx:he()}],my:[{my:he()}],ms:[{ms:he()}],me:[{me:he()}],mt:[{mt:he()}],mr:[{mr:he()}],mb:[{mb:he()}],ml:[{ml:he()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[h,"screen",...ae()]}],"min-w":[{"min-w":[h,"screen","none",...ae()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[l]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",n,iu,po]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ne,km]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Im,De]}],"font-family":[{font:[dU,De,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ne,De]}],"line-clamp":[{"line-clamp":[Xe,"none",Ne,km]}],leading:[{leading:[a,...I()]}],"list-image":[{"list-image":["none",Ne,De]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,De]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:[Xe,"from-font","auto",Ne,po]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Xe,"auto",Ne,De]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:ce()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ui,Ne,De],radial:["",Ne,De],conic:[ui,Ne,De]},pU,hU]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:Ie()}],"rounded-s":[{"rounded-s":Ie()}],"rounded-e":[{"rounded-e":Ie()}],"rounded-t":[{"rounded-t":Ie()}],"rounded-r":[{"rounded-r":Ie()}],"rounded-b":[{"rounded-b":Ie()}],"rounded-l":[{"rounded-l":Ie()}],"rounded-ss":[{"rounded-ss":Ie()}],"rounded-se":[{"rounded-se":Ie()}],"rounded-ee":[{"rounded-ee":Ie()}],"rounded-es":[{"rounded-es":Ie()}],"rounded-tl":[{"rounded-tl":Ie()}],"rounded-tr":[{"rounded-tr":Ie()}],"rounded-br":[{"rounded-br":Ie()}],"rounded-bl":[{"rounded-bl":Ie()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...te(),"hidden","none"]}],"divide-style":[{divide:[...te(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...te(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Xe,Ne,De]}],"outline-w":[{outline:["",Xe,iu,po]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",g,Dh,Rh]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",w,Dh,Rh]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Xe,po]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",_,Dh,Rh]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Xe,Ne,De]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Xe]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Ne,De]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ie()}],"mask-image-conic-pos":[{"mask-conic":[Xe]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:ce()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,De]}],filter:[{filter:["","none",Ne,De]}],blur:[{blur:ve()}],brightness:[{brightness:[Xe,Ne,De]}],contrast:[{contrast:[Xe,Ne,De]}],"drop-shadow":[{"drop-shadow":["","none",A,Dh,Rh]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Xe,Ne,De]}],"hue-rotate":[{"hue-rotate":[Xe,Ne,De]}],invert:[{invert:["",Xe,Ne,De]}],saturate:[{saturate:[Xe,Ne,De]}],sepia:[{sepia:["",Xe,Ne,De]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,De]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[Xe,Ne,De]}],"backdrop-contrast":[{"backdrop-contrast":[Xe,Ne,De]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Xe,Ne,De]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Xe,Ne,De]}],"backdrop-invert":[{"backdrop-invert":["",Xe,Ne,De]}],"backdrop-opacity":[{"backdrop-opacity":[Xe,Ne,De]}],"backdrop-saturate":[{"backdrop-saturate":[Xe,Ne,De]}],"backdrop-sepia":[{"backdrop-sepia":["",Xe,Ne,De]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,De]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Xe,"initial",Ne,De]}],ease:[{ease:["linear","initial",B,Ne,De]}],delay:[{delay:[Xe,Ne,De]}],animate:[{animate:["none",q,Ne,De]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[M,Ne,De]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:le()}],"rotate-x":[{"rotate-x":le()}],"rotate-y":[{"rotate-y":le()}],"rotate-z":[{"rotate-z":le()}],scale:[{scale:Oe()}],"scale-x":[{"scale-x":Oe()}],"scale-y":[{"scale-y":Oe()}],"scale-z":[{"scale-z":Oe()}],"scale-3d":["scale-3d"],skew:[{skew:Qe()}],"skew-x":[{"skew-x":Qe()}],"skew-y":[{"skew-y":Qe()}],transform:[{transform:[Ne,De,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Le()}],"translate-x":[{"translate-x":Le()}],"translate-y":[{"translate-y":Le()}],"translate-z":[{"translate-z":Le()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,De]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,De]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Xe,iu,po,km]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},vU=Xj(yU);function i1(...t){return vU(xg(t))}const Od=C.memo(({children:t,variant:e="primary",className:n,isLoading:r,disabled:i,forceScale:a,...l})=>{const h="inline-flex items-center justify-center rounded-lg text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-white active:scale-95",f={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-600 shadow-sm",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus:ring-slate-500",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus:ring-slate-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-600"},p={default:"h-10 py-2 px-4"};return R.jsx(mr.button,{whileHover:{scale:i||r?1:1.02},whileTap:{scale:i||r?1:.98},transition:{duration:.1},className:i1(h,f[e],p.default,n),disabled:i||r,...l,children:r?R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("img",{src:jy,alt:"Loading...",className:i1("h-5 w-auto animate-pulse",(e==="primary"||e==="danger")&&"brightness-0 invert")}),R.jsx("span",{className:"opacity-70",children:"Processing..."})]}):t})});Od.displayName="Button";const wU=({isOpen:t,onClose:e})=>{const{currentDate:n,setDate:r,maxDate:i}=hf(),[a,l]=C.useState(new Date(n)),[h,f]=C.useState("day");C.useEffect(()=>{t&&(l(new Date(n)),f("day"))},[t,n]);const p=()=>{r(a),e()},g=new Date;g.setHours(0,0,0,0);const w=B=>B>g,_=(B,q)=>new Date(B,q+1,0).getDate(),A=(B,q)=>new Date(B,q,1).getDay(),O=()=>{const B=a.getFullYear(),q=a.getMonth(),U=_(B,q),ie=A(B,q),F=[];for(let X=0;X<ie;X++)F.push(null);for(let X=1;X<=U;X++)F.push(new Date(B,q,X));return F},M=B=>{const q=new Date(a);q.setMonth(q.getMonth()+B),l(q)},L=B=>{const q=new Date(a);q.setFullYear(B),q.getMonth()!==a.getMonth()&&q.setDate(0),l(q),f("day")};return R.jsx(mf,{children:t&&R.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:R.jsxs(mr.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-sm bg-white rounded-2xl shadow-xl overflow-hidden dark:bg-slate-900 border dark:border-slate-800",children:[R.jsxs("div",{className:"p-4 border-b dark:border-slate-800 flex items-center justify-between",children:[R.jsxs("h3",{className:"font-bold text-lg dark:text-white flex items-center gap-2",children:[R.jsx(Vd,{className:"w-5 h-5 text-indigo-500"}),"Jump to Date"]}),R.jsx("button",{onClick:e,className:"p-1 hover:bg-slate-100 rounded-full dark:hover:bg-slate-800 transition-colors",children:R.jsx(vv,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"})})]}),R.jsxs("div",{className:"p-4",children:[R.jsxs("div",{className:"flex items-center justify-between mb-4",children:[R.jsx("button",{onClick:()=>M(-1),className:"p-1 hover:bg-slate-100 rounded-lg dark:hover:bg-slate-800",children:R.jsx(K6,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:()=>f("month"),className:"font-bold text-slate-800 hover:bg-slate-100 px-2 py-1 rounded-md transition-colors dark:text-white dark:hover:bg-slate-800",children:a.toLocaleString("default",{month:"long"})}),R.jsx("button",{onClick:()=>f("year"),className:"font-bold text-slate-800 hover:bg-slate-100 px-2 py-1 rounded-md transition-colors dark:text-white dark:hover:bg-slate-800",children:a.getFullYear()})]}),R.jsx("button",{onClick:()=>M(1),disabled:a.getMonth()===g.getMonth()&&a.getFullYear()===g.getFullYear(),className:"p-1 hover:bg-slate-100 rounded-lg dark:hover:bg-slate-800 disabled:opacity-30",children:R.jsx(Cg,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),R.jsxs("div",{className:"h-64 overflow-y-auto",children:[h==="day"&&R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-bold text-slate-400",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(B=>R.jsx("div",{children:B},B))}),R.jsx("div",{className:"grid grid-cols-7 gap-1",children:O().map((B,q)=>R.jsx("div",{className:"aspect-square flex items-center justify-center",children:B&&R.jsx("button",{onClick:()=>l(B),disabled:w(B),className:`
                                                                w-8 h-8 rounded-full text-sm font-medium transition-colors
                                                                ${B.getDate()===a.getDate()&&B.getMonth()===a.getMonth()?"bg-indigo-600 text-white":w(B)?"text-slate-300 dark:text-slate-700 cursor-not-allowed":"hover:bg-slate-100 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}
                                                            `,children:B.getDate()})},q))})]}),h==="month"&&R.jsx("div",{className:"grid grid-cols-3 gap-2",children:Array.from({length:12},(B,q)=>new Date(0,q)).map((B,q)=>R.jsx("button",{onClick:()=>{const U=new Date(a);U.setMonth(q),l(U),f("day")},className:`p-2 rounded-lg text-sm font-medium transition-colors ${a.getMonth()===q?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"hover:bg-slate-50 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:B.toLocaleString("default",{month:"short"})},q))}),h==="year"&&R.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:10},(B,q)=>g.getFullYear()-q).map(B=>R.jsx("button",{onClick:()=>L(B),className:`p-2 rounded-lg text-sm font-medium transition-colors ${a.getFullYear()===B?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"hover:bg-slate-50 text-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:B},B))})]})]}),R.jsxs("div",{className:"p-4 bg-slate-50 border-t dark:bg-slate-900 dark:border-slate-800 flex justify-end gap-2",children:[R.jsx(Od,{variant:"ghost",onClick:e,className:"dark:text-slate-400",children:"Cancel"}),R.jsx(Od,{onClick:p,children:"Jump"})]})]})})})},_U=({isOpen:t,onClose:e})=>{const{user:n}=Oi(),{logout:r}=Pj(),{setDate:i,formattedDate:a,maxDate:l}=hf(),h=Mo(),[f,p]=C.useState(!1),g=async()=>{try{await r(),h("/login",{replace:!0})}catch(A){console.error("Logout error:",A),localStorage.clear(),window.location.hash="/login"}},w=[{icon:GC,label:"Dashboard",path:"/"},{icon:_j,label:"Daily Routine",path:"/routine"},{icon:Vd,label:"History",path:"/history"},{icon:YC,label:"Settings",path:"/settings"}],_=[{icon:Ij,label:"Plan Diet",path:"/diet-plan",color:"text-orange-500",bg:"bg-orange-50"},{icon:W6,label:"Analytics",path:"/analytics",color:"text-indigo-500",bg:"bg-indigo-50"},{icon:Cj,label:"Finance",path:"/finance",color:"text-emerald-500",bg:"bg-emerald-50"}];return R.jsx(mf,{children:t&&R.jsxs(R.Fragment,{children:[R.jsx(mr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm"}),R.jsxs(mr.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-y-0 right-0 z-50 w-3/4 max-w-sm bg-white shadow-2xl flex flex-col dark:bg-slate-900 dark:border-l dark:border-slate-800",children:[R.jsxs("div",{className:"p-5 border-b flex items-center justify-between dark:border-slate-800",children:[R.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Menu"}),R.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full",children:R.jsx(vv,{className:"w-5 h-5 text-slate-500"})})]}),R.jsx("div",{onClick:()=>{h("/settings"),e()},className:"p-5 bg-slate-50 border-b dark:bg-slate-900 dark:border-slate-800 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold shadow-sm ring-2 ring-white dark:ring-slate-700 overflow-hidden ${n?.profileColor?`${n.profileColor} text-white`:"bg-indigo-100 text-indigo-600"}`,children:n?.photoURL?R.jsx("img",{src:n.photoURL,alt:n?.name,className:"w-full h-full object-cover"}):R.jsx("span",{className:"text-sm font-black uppercase tracking-wider !text-white",children:n?.initials||n?.name?.charAt(0)})}),R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("p",{className:"font-bold text-slate-900 truncate dark:text-white",children:n?.name}),R.jsx(Cg,{className:"w-4 h-4 text-slate-400"})]}),R.jsxs("p",{className:"text-[10px] text-slate-500 font-medium",children:["Member ID: AWK-",n?.uid?.slice(-4).toUpperCase()||"GUEST"]}),R.jsx("p",{className:"text-[10px] text-indigo-500 font-semibold",children:n?.email})]})]})}),R.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[R.jsxs("nav",{className:"space-y-1",children:[w.map(A=>R.jsxs(qw,{to:A.path,onClick:e,className:"flex items-center gap-3 px-3 py-3 rounded-xl hover:bg-slate-50 text-slate-700 font-medium transition-colors dark:text-slate-300 dark:hover:bg-slate-800",children:[R.jsx(A.icon,{className:"w-5 h-5 text-slate-400"}),A.label]},A.path)),R.jsxs("button",{onClick:()=>{p(!0)},className:"flex items-center gap-3 px-3 py-3 rounded-xl hover:bg-slate-50 text-slate-700 font-medium transition-colors w-full text-left dark:text-slate-300 dark:hover:bg-slate-800",children:[R.jsx(Vd,{className:"w-5 h-5 text-slate-400"}),"Jump to Date"]}),f&&R.jsx(wU,{isOpen:f,onClose:()=>{p(!1),e()}})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-3",children:"Tools"}),R.jsx("div",{className:"space-y-2",children:_.map(A=>R.jsxs(qw,{to:A.path,onClick:e,className:"flex items-center justify-between p-3 rounded-xl border border-slate-100 hover:border-slate-200 hover:shadow-sm transition-all group",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${A.bg} ${A.color}`,children:R.jsx(A.icon,{className:"w-4 h-4"})}),R.jsx("span",{className:"font-medium text-slate-700",children:A.label})]}),R.jsx(Cg,{className:"w-4 h-4 text-slate-300 group-hover:text-slate-500"})]},A.path))})]})]}),R.jsxs("div",{className:"p-4 border-t",children:[R.jsxs("button",{type:"button",onClick:g,className:"flex items-center gap-3 w-full px-3 py-3 rounded-xl text-red-600 hover:bg-red-50 font-medium transition-colors active:scale-95 z-[60]",children:[R.jsx(uj,{className:"w-5 h-5"}),"Sign Out"]}),R.jsx("p",{className:"text-center text-xs text-slate-300 mt-4",children:"Version 1.0.0"})]})]})]})})},Nh={"/":()=>Et(()=>import("./Home-BePBbAAV.js"),__vite__mapDeps([0,1,2])),"/routine":()=>Et(()=>import("./Routine-DfVV_Eew.js"),__vite__mapDeps([3,4,5,1,6,7,8,9,10,11,12,13,14,15,16,17,18,19])),"/workspace":()=>Et(()=>import("./TaskDashboard-_5O7b6bL.js"),__vite__mapDeps([20,5,1,6,7,8,9,10,11,14,21])),"/finance":()=>Et(()=>import("./FinanceDashboard-Cz7IDfE0.js"),__vite__mapDeps([22,23,24,7,16,25,18,14,10])),"/vehicle":()=>Et(()=>import("./VehicleDashboard-DNtxeGLC.js"),__vite__mapDeps([26,6,27,15,28,8,14,23,25]))},ou=({to:t,icon:e,label:n,isActive:r,onClick:i})=>R.jsxs("button",{onClick:i,className:"flex-1 flex items-center justify-center relative h-12 group","aria-label":n,onMouseEnter:()=>{Nh[t]&&Nh[t]()},onTouchStart:()=>{Nh[t]&&Nh[t]()},children:[r&&R.jsx("div",{className:"absolute inset-x-2 inset-y-2 bg-blue-500 rounded-xl opacity-100 shadow-[0_0_15px_rgba(59,130,246,0.6)] animate-in fade-in zoom-in duration-200"}),R.jsx(e,{className:`w-6 h-6 relative z-10 transition-all duration-300 ${r?"text-white scale-110":"text-slate-400 group-hover:text-white group-hover:scale-110"}`,strokeWidth:r?2.5:2})]}),ux=()=>{const{pathname:t}=As(),e=Mo(),[n,r]=C.useState(t);C.useEffect(()=>{r(t)},[t]);const i=l=>{r(l),e(l)},a=l=>n===l||l!=="/"&&n.startsWith(l);return R.jsx("nav",{className:"fixed bottom-5 left-0 right-0 z-50 sm:hidden flex justify-center px-4",children:R.jsxs("div",{className:"flex items-center justify-between w-full max-w-sm bg-slate-900/95 border border-slate-700/50 rounded-full px-2 py-2 shadow-[0_10px_40px_rgba(0,0,0,0.5)] backdrop-blur-xl ring-1 ring-white/10",children:[R.jsx(ou,{to:"/",icon:GC,label:"Home",isActive:n==="/",onClick:()=>i("/")}),R.jsx(ou,{to:"/routine",icon:X6,label:"Routine",isActive:a("/routine"),onClick:()=>i("/routine")}),R.jsx(ou,{to:"/workspace",icon:KC,label:"To-Do",isActive:a("/workspace"),onClick:()=>i("/workspace")}),R.jsx(ou,{to:"/finance",icon:nj,label:"Finance",isActive:a("/finance"),onClick:()=>i("/finance")}),R.jsx(ou,{to:"/vehicle",icon:z6,label:"Vehicle",isActive:a("/vehicle"),onClick:()=>i("/vehicle")})]})})},TU=({children:t})=>{const{formattedDate:e}=hf(),[n,r]=C.useState(!1),i=As(),a=Mo(),h=["/","/routine","/history","/settings"].includes(i.pathname),{isDark:f,toggleTheme:p}=GI();return R.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 pb-24 dark:bg-slate-950 dark:text-slate-50 transition-colors",children:[R.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-slate-200 px-4 py-3 flex items-center justify-between dark:bg-slate-900/80 dark:border-slate-800 transition-colors",children:[R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("div",{className:"flex items-center gap-2",children:R.jsx("button",{onClick:()=>a("/"),className:"focus:outline-none hover:opacity-80 transition-opacity",children:R.jsx("img",{src:jy,alt:"HUMI AWAKE",className:"h-8 w-auto object-cover dark:brightness-0 dark:invert"})})}),!h&&R.jsx("div",{className:"flex items-center gap-1 pl-2 border-l border-slate-200 dark:border-slate-800",children:R.jsx("button",{onClick:()=>a(-1),className:"p-1.5 text-slate-500 hover:bg-slate-100 rounded-full transition-colors dark:text-slate-400 dark:hover:bg-slate-800",title:"Go Back",children:R.jsx(L6,{className:"w-5 h-5"})})})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("button",{onClick:p,className:"p-2 rounded-full text-slate-500 hover:bg-slate-100 transition-colors dark:text-slate-400 dark:hover:bg-slate-800",children:f?R.jsx(fj,{className:"w-5 h-5"}):R.jsx(Ej,{className:"w-5 h-5"})}),R.jsx("button",{onClick:()=>r(!0),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-full transition-colors dark:text-slate-300 dark:hover:bg-slate-800",children:R.jsx(sj,{className:"w-6 h-6"})})]})]}),R.jsxs("main",{className:"px-4 py-6 max-w-md mx-auto w-full",children:[R.jsx(C.Suspense,{fallback:R.jsx("div",{className:"flex items-center justify-center p-12",children:R.jsx("div",{className:"w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})}),children:t||R.jsx(y1,{})}),R.jsx("div",{className:"text-[10px] font-black text-slate-300 dark:text-slate-700 uppercase tracking-[0.2em] text-center mt-8 mb-2 opacity-60",children:"Developed by CoolCraft"})]}),R.jsx(ux,{}),R.jsx(_U,{isOpen:n,onClose:()=>r(!1)})]})},EU=({children:t})=>{const e=Mo(),n=As(),{isDark:r}=GI(),[i,a]=C.useState(!1),l=g=>n.pathname===g,h=[{icon:aj,label:"Active Tasks",path:"/workspace/tasks"},{icon:Vd,label:"Calendar",path:"/workspace/calendar"},{icon:mj,label:"Overview",path:"/workspace/overview"},{icon:YC,label:"Settings",path:"/workspace/settings"}],f=[{icon:Z6,label:"Recent",color:"text-blue-500"}],p=()=>a(!i);return R.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-50 font-sans transition-colors duration-300 pb-24",children:[R.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[R.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl opacity-50 mix-blend-multiply animate-float"}),R.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl opacity-50 mix-blend-multiply animate-float",style:{animationDelay:"2s"}})]}),R.jsxs("header",{className:"sticky top-0 left-0 right-0 h-16 glass-panel z-30 px-4 flex items-center justify-between border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md",children:[R.jsxs("div",{className:"flex items-center gap-3",onClick:()=>e("/"),children:[R.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-tr from-cyan-500 to-blue-600 flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-blue-500/20",children:R.jsx(KC,{className:"w-5 h-5"})}),R.jsx("div",{children:R.jsx("span",{className:"block font-bold text-slate-900 dark:text-white leading-none",children:"Todo"})})]}),R.jsx("button",{onClick:p,className:"p-2.5 rounded-xl text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:R.jsx(hj,{className:"w-6 h-6"})})]}),R.jsx(mf,{children:i&&R.jsxs(R.Fragment,{children:[R.jsx(mr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(!1),className:"fixed inset-0 z-40 bg-slate-900/20 backdrop-blur-sm"}),R.jsxs(mr.aside,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-y-0 right-0 z-50 w-80 bg-white dark:bg-slate-900 shadow-2xl flex flex-col h-full border-l border-slate-100 dark:border-slate-800",children:[R.jsxs("div",{className:"p-5 flex items-center justify-between border-b border-slate-100 dark:border-slate-800",children:[R.jsx("h2",{className:"font-bold text-lg",children:"Menu"}),R.jsx("button",{onClick:()=>a(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:R.jsx(vv,{className:"w-5 h-5 text-slate-500"})})]}),R.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[R.jsxs("section",{children:[R.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 px-2",children:"Navigation"}),R.jsx("div",{className:"space-y-1",children:h.map(g=>R.jsxs("button",{onClick:()=>{e(g.path),a(!1)},className:`w-full flex items-center justify-between px-3 py-3 rounded-xl transition-all ${l(g.path)?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 font-semibold":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(g.icon,{className:"w-5 h-5"}),g.label]}),l(g.path)&&R.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})]},g.path))})]}),R.jsxs("section",{children:[R.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 px-2",children:"Favorites"}),f.map((g,w)=>R.jsxs("button",{onClick:()=>{g.label==="Important"&&e("/workspace/important"),g.label==="Recent"&&e("/workspace/recent"),a(!1)},className:"w-full flex items-center gap-3 px-3 py-3 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 rounded-xl transition-colors",children:[R.jsx(g.icon,{className:`w-5 h-5 ${g.color}`}),g.label]},w))]})]})]})]})}),R.jsx("main",{className:"relative z-10 px-4 py-6 max-w-lg mx-auto w-full",children:R.jsx(C.Suspense,{fallback:R.jsx("div",{className:"flex items-center justify-center p-12",children:R.jsx("div",{className:"w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})}),children:t||R.jsx(y1,{})})}),R.jsx(ux,{})]})},SU=()=>{const{error:t,clearError:e}=ak();return t?R.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,background:"#ff4d4f",color:"white",padding:"12px 16px",zIndex:9999,display:"flex",justifyContent:"space-between",alignItems:"center",fontFamily:"sans-serif"},children:[R.jsx("span",{children:t.message}),R.jsx("button",{onClick:e,style:{background:"transparent",border:"1px solid white",color:"white",cursor:"pointer"},children:"Dismiss"})]}):null},IU=()=>{const{user:t}=Oi(),[e,n]=C.useState(!1),[r,i]=C.useState(!0),[a,l]=C.useState(0),h=[{title:"Welcome to Awake",text:"Your daily routine and discipline system.",icon:vj,color:"text-amber-500",bg:"bg-amber-50 dark:bg-amber-900/20"},{title:"Track Tasks & Routine",text:"Complete daily actions and build consistency.",icon:M6,color:"text-indigo-500",bg:"bg-indigo-50 dark:bg-indigo-900/20"},{title:"Quick Capture",text:"Add tasks or expenses instantly. Finance supports your discipline.",icon:bj,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-900/20"}];C.useEffect(()=>{t?be.getDocument(`users/${t.uid}/config`,"settings").then(w=>{w?.onboardingCompleted!==!0&&n(!0),i(!1)}).catch(w=>{console.error("Error checking onboarding status:",w),i(!1)}):i(!1)},[t]);const f=async()=>{if(t)try{await be.setItem(`users/${t.uid}/config`,"settings",{onboardingCompleted:!0},!0),n(!1)}catch(w){console.error("Failed to complete onboarding:",w),n(!1)}},p=()=>{a<h.length-1?l(w=>w+1):f()};if(r||!e)return null;const g=h[a].icon;return R.jsx(mf,{children:e&&R.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[R.jsx(mr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-slate-900/80 backdrop-blur-md"}),R.jsx(mr.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",bounce:.4,duration:.6},className:"relative bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2.5rem] shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-800",children:R.jsxs("div",{className:"p-8 flex flex-col items-center text-center min-h-[420px]",children:[R.jsx(mr.div,{initial:{scale:0,rotate:-20},animate:{scale:1,rotate:0},transition:{type:"spring",bounce:.5,duration:.6},className:xg("w-24 h-24 rounded-[2rem] flex items-center justify-center mb-8 shadow-inner",h[a].bg),children:R.jsx(g,{className:xg("w-10 h-10",h[a].color)})},`icon-${a}`),R.jsxs(mr.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1},className:"flex-1",children:[R.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-3 tracking-tight",children:h[a].title}),R.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium leading-relaxed max-w-[260px] mx-auto text-sm",children:h[a].text})]},`text-${a}`),R.jsx("div",{className:"flex gap-2 my-8 justify-center",children:h.map((w,_)=>R.jsx(mr.div,{initial:!1,animate:{width:_===a?32:6,backgroundColor:_===a?document.documentElement.classList.contains("dark")?"#fff":"#0f172a":document.documentElement.classList.contains("dark")?"#334155":"#e2e8f0"},className:"h-1.5 rounded-full"},_))}),R.jsx("div",{className:"w-full",children:R.jsx(Od,{onClick:p,className:"w-full py-4 rounded-2xl text-base font-bold shadow-xl shadow-indigo-500/20 active:scale-95 transition-transform",children:a===h.length-1?R.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Start Using Awake ",R.jsx(H6,{className:"w-5 h-5 stroke-[3]"})]}):R.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Continue ",R.jsx(j6,{className:"w-5 h-5 stroke-[3]"})]})})})]})})]})})},kU=C.lazy(()=>Et(()=>import("./Login-C739M84X.js"),__vite__mapDeps([29,30,12,31,24,15,8,32])));C.lazy(()=>Et(()=>import("./Dashboard-K_RNhnaX.js"),__vite__mapDeps([33,4,5,1,6,7,8,9,10,11,12,13,14,15,16,17,18,19,2])));const CU=C.lazy(()=>Et(()=>import("./Home-BePBbAAV.js"),__vite__mapDeps([0,1,2]))),xU=C.lazy(()=>Et(()=>import("./Routine-DfVV_Eew.js"),__vite__mapDeps([3,4,5,1,6,7,8,9,10,11,12,13,14,15,16,17,18,19]))),AU=C.lazy(()=>Et(()=>import("./History-PVKt6XUo.js"),__vite__mapDeps([34,12,18,32,15]))),bU=C.lazy(()=>Et(()=>import("./Settings-C8THCzy6.js").then(t=>t.S),__vite__mapDeps([35,12,30,13,27,8,23,36]))),PU=C.lazy(()=>Et(()=>import("./ForgotPassword-CbF6w-4u.js"),__vite__mapDeps([37,30,12,31,24,15]))),RU=C.lazy(()=>Et(()=>import("./Analytics-CgcIY9fl.js"),__vite__mapDeps([38,12,18,19,39]))),DU=C.lazy(()=>Et(()=>import("./DietPlan-BXpbZnER.js"),__vite__mapDeps([40,12,15,9]))),NU=C.lazy(()=>Et(()=>import("./TaskDashboard-_5O7b6bL.js"),__vite__mapDeps([20,5,1,6,7,8,9,10,11,14,21]))),VU=C.lazy(()=>Et(()=>import("./WorkspaceCalendar-BjtITOcp.js"),__vite__mapDeps([41,11,10]))),MU=C.lazy(()=>Et(()=>import("./WorkspaceBoard-BqKCLlmf.js"),__vite__mapDeps([42,14]))),OU=C.lazy(()=>Et(()=>import("./FilteredTaskView-BwUv7fyr.js"),__vite__mapDeps([43,5,1,6,7,8,9,10,11,17]))),LU=C.lazy(()=>Et(()=>import("./Overview-q2sl63rM.js"),__vite__mapDeps([44,18,39,21]))),FU=C.lazy(()=>Et(()=>import("./FinanceDashboard-Cz7IDfE0.js"),__vite__mapDeps([22,23,24,7,16,25,18,14,10]))),jU=C.lazy(()=>Et(()=>import("./DebtManager-CZB2t4yp.js"),__vite__mapDeps([45,14,36]))),UU=C.lazy(()=>Et(()=>import("./AccountDetail-D5dU3fjv.js"),__vite__mapDeps([46,28,18]))),BU=C.lazy(()=>Et(()=>import("./MonthlyOverview-DzqKO3Eb.js"),__vite__mapDeps([47,19,10]))),zU=C.lazy(()=>Et(()=>import("./VehicleDashboard-DNtxeGLC.js"),__vite__mapDeps([26,6,27,15,28,8,14,23,25])));function $U(){return R.jsx(Pb,{basename:"/AWAKE/",children:R.jsx(aO,{children:R.jsx(lO,{children:R.jsx(uO,{children:R.jsx(hO,{children:R.jsx(_L,{children:R.jsx(WL,{children:R.jsxs(GL,{children:[R.jsx(SU,{}),R.jsx(IU,{}),R.jsx(C.Suspense,{fallback:R.jsx(uk,{}),children:R.jsxs(Eb,{children:[R.jsx(bt,{path:"/login",element:R.jsx(kU,{})}),R.jsx(bt,{path:"/forgot-password",element:R.jsx(PU,{})}),R.jsxs(bt,{element:R.jsx(LT,{children:R.jsx(TU,{})}),children:[R.jsx(bt,{path:"/",element:R.jsx(CU,{})}),R.jsx(bt,{path:"/routine",element:R.jsx(xU,{})}),R.jsx(bt,{path:"/history",element:R.jsx(AU,{})}),R.jsx(bt,{path:"/settings",element:R.jsx(bU,{})}),R.jsx(bt,{path:"/analytics",element:R.jsx(RU,{})}),R.jsx(bt,{path:"/diet",element:R.jsx(DU,{})}),R.jsx(bt,{path:"/finance",element:R.jsx(FU,{})}),R.jsx(bt,{path:"/finance/debt",element:R.jsx(jU,{})}),R.jsx(bt,{path:"/finance/account/:id",element:R.jsx(UU,{})}),R.jsx(bt,{path:"/finance/monthly",element:R.jsx(BU,{})}),R.jsx(bt,{path:"/vehicle",element:R.jsx(zU,{})})]}),R.jsxs(bt,{path:"/workspace",element:R.jsx(LT,{children:R.jsx(EU,{})}),children:[R.jsx(bt,{index:!0,element:R.jsx(NU,{})}),R.jsx(bt,{path:"calendar",element:R.jsx(VU,{})}),R.jsx(bt,{path:"board",element:R.jsx(MU,{})}),R.jsx(bt,{path:"overview",element:R.jsx(LU,{})}),R.jsx(bt,{path:"filter/:filterType",element:R.jsx(OU,{})})]}),R.jsx(bt,{path:"*",element:R.jsx(g1,{to:"/",replace:!0})})]})})]})})})})})})})})}class WU extends Rg.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Render Crash Caught:",e,n),this.setState({errorInfo:n})}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?R.jsxs("div",{style:{position:"fixed",inset:0,background:"black",color:"white",zIndex:9999,padding:"2rem",overflow:"auto"},children:[R.jsx("h1",{style:{fontSize:"2rem",marginBottom:"1rem",color:"red",fontFamily:"monospace"},children:"Runtime Error"}),R.jsx("button",{onClick:this.handleReload,style:{background:"white",color:"black",padding:"0.5rem 1rem",marginBottom:"1rem",cursor:"pointer",border:"none",fontWeight:"bold"},children:"RELOAD APP"}),R.jsx("hr",{style:{margin:"1rem 0",borderColor:"#333"}}),R.jsx("pre",{style:{whiteSpace:"pre-wrap",fontFamily:"monospace",color:"#ffaaaa",fontSize:"14px",background:"#220000",padding:"1rem"},children:this.state.error&&this.state.error.toString()}),R.jsxs("div",{style:{marginTop:"1rem"},children:[R.jsx("h3",{style:{color:"#888",marginBottom:"0.5rem"},children:"Stack Trace:"}),R.jsx("pre",{style:{whiteSpace:"pre-wrap",fontFamily:"monospace",color:"#888",fontSize:"12px"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]})]}):this.props.children}}CA.createRoot(document.getElementById("root")).render(R.jsxs(Rg.StrictMode,{children:[console.log("VERSION: DEBUG_001_FIXED_CONTEXTS"),R.jsx(WU,{children:R.jsx(qL,{children:R.jsx($U,{})})})]}));export{uj as $,mf as A,Od as B,Vd as C,X6 as D,Z6 as E,uk as F,di as G,aj as H,nj as I,HU as J,H6 as K,qw as L,M6 as M,g1 as N,wU as O,K6 as P,Cg as Q,Rg as R,vj as S,W6 as T,Pj as U,GI as V,Cj as W,vv as X,fj as Y,Ej as Z,Et as _,Ed as a,Ja as a0,KU as a1,e9 as a2,YU as a3,L6 as a4,Ij as a5,As as a6,sm as a7,om as a8,Id as a9,Tu as aa,bT as ab,AT as ac,Ha as ad,_O as ae,Io as af,JI as ag,_r as ah,bg as ai,Pg as aj,_A as ak,bj as al,am,GU as an,Ot as ao,o9 as ap,i9 as aq,z6 as ar,l9 as as,YC as at,HL as au,pO as av,qU as aw,r9 as ax,eS as b,QU as c,JU as d,Oi as e,jy as f,i1 as g,j6 as h,t9 as i,R as j,s9 as k,hf as l,mr as m,Mo as n,a9 as o,xg as p,be as q,C as r,XU as s,Vo as t,ZU as u,qa as v,ct as w,$L as x,vL as y,KC as z};
